{"version":3,"sources":["assets\\Scripts\\Pet\\Game\\IceBullect.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AACA,oEAAiF;AACjF,qDAAoD;AACpD,mDAA8C;AAC9C,yDAAyE;AACzE,iDAA4C;AAE5C,+DAA0D;AAE1D,0CAA4C;AAItC,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAwC,8BAAO;IAA/C;QAAA,qEA0CC;QAxCG,cAAQ,GAAS,IAAI,CAAC;;IAwC1B,CAAC;IAtCG,2BAAM,GAAN;QACI,iBAAM,MAAM,WAAE,CAAC;QACf,iBAAM,yBAAyB,YAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;IAC7D,CAAC;IAED,gCAAW,GAAX,UAAY,OAAe;QACvB,IAAI,CAAC,QAAQ,GAAC,OAAO,CAAC;IAC1B,CAAC;IAES,0BAAK,GAAf;QACI,IAAI,CAAC,YAAY,GAAC,CAAC,CAAC;IACxB,CAAC;IAED,uCAAkB,GAAlB,UAAmB,SAAiB;QAChC,IAAG,SAAS,EACZ;YACI,IAAI,MAAM,GAAC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,wBAAY,CAAC,MAAM,CAAC,CAAC;YAC7D,IAAI,QAAQ,GAAC,wBAAc,CAAC,WAAW,EAAE,CAAC,uBAAuB,CAAC,CAAC,CAAC,EAAC,SAAS,CAAC,YAAY,EAAE,EAAC,MAAM,CAAC,CAAC;YACtG,IAAG,QAAQ,EAAC;gBACR,IAAI,WAAW,GAAC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,wBAAY,CAAC,MAAM,CAAC,CAAC;gBAClE,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;oBAChC,IAAI,UAAU,GAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,iBAAO,CAAC,CAAC;oBACjD,IAAI,IAAI,GAAC,UAAU,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;oBACrD,IAAG,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,YAAY,EAAE,GAAC,CAAC,EAAC;wBACrC,uCAAkB,CAAC,WAAW,EAAE,CAAC,oBAAoB,CAAC,iCAAY,CAAC,eAAe,EAAC,UAAU,CAAC,YAAY,EAAE,CAAC,CAAC;wBAC9G,IAAI,QAAQ,GAAC,IAAI,mBAAQ,EAAE,CAAC;wBAC5B,QAAQ,CAAC,OAAO,GAAC,mBAAM,CAAC,WAAW,CAAC;wBACpC,QAAQ,CAAC,SAAS,GAAC,qBAAQ,CAAC,QAAQ,CAAC;wBACrC,QAAQ,CAAC,UAAU,GAAC,CAAC,WAAW,CAAC,CAAC;wBAClC,QAAQ,CAAC,WAAW,GAAC,CAAC,CAAC;wBACvB,UAAU,CAAC,SAAS,CAAC,QAAQ,EAAC,IAAI,CAAC,WAAW,CAAC,CAAC;qBACnD;iBACJ;aACJ;SACJ;QACD,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAxCgB,UAAU;QAD9B,OAAO;OACa,UAAU,CA0C9B;IAAD,iBAAC;CA1CD,AA0CC,CA1CuC,iBAAO,GA0C9C;kBA1CoB,UAAU","file":"","sourceRoot":"/","sourcesContent":["import { IsDebug } from \"../../Constants\";\r\nimport { GameEffectsManager, GameEffectId } from \"../../Game/GameEffectsManager\";\r\nimport { BuffData } from \"../../Hero/Game/BuffData\";\r\nimport Bullect from \"../../Hero/Game/Bullect\";\r\nimport { BuffId, BuffType, SkillType } from \"../../Hero/Game/HeroConfig\";\r\nimport Monster from \"../../Monster/Monster\";\r\nimport { StrengthType } from \"../../Monster/MonsterData\";\r\nimport MonsterManager from \"../../Monster/MonsterManager\";\r\nimport { PetData } from \"../Data/PetData\";\r\nimport { PetSkillType } from \"../PetConfig\";\r\n\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class IceBullect extends Bullect {\r\n\r\n    pet_data:PetData=null;\r\n\r\n    onLoad(): void {\r\n        super.onLoad();\r\n        super.addCollisionMonsterListen(this.onCollisionMonster);\r\n    }\r\n\r\n    initPetData(petData:PetData){\r\n        this.pet_data=petData;\r\n    }     \r\n\r\n    protected start(): void {\r\n        this.tuowei_space=1;\r\n    }\r\n\r\n    onCollisionMonster(monsterTs:Monster) {\r\n        if(monsterTs)\r\n        {\r\n            let radius=this.pet_data.getSkillValue1(PetSkillType.Active);\r\n            let monsters=MonsterManager.getInstance().getMonstersForCenterPos(-1,monsterTs.getCenterPos(),radius);\r\n            if(monsters){\r\n                let jiansuValue=this.pet_data.getSkillValue3(PetSkillType.Active);\r\n                for(let i=0; i<monsters.length; i++){\r\n                    let monsterTTs=monsters[i].getComponent(Monster);\r\n                    let data=monsterTTs.beFlashInjured(this.gongji_data);\r\n                    if(!data.is_die && data.getDamageNum()>0){\r\n                        GameEffectsManager.getInstance().createGameEffectById(GameEffectId.pet1_attack_hit,monsterTTs.getCenterPos());\r\n                        let buffData=new BuffData();\r\n                        buffData.buff_id=BuffId.Pet1_JianSu;\r\n                        buffData.buff_type=BuffType.Slowdown;\r\n                        buffData.buff_value=[jiansuValue];\r\n                        buffData.remain_time=3;\r\n                        monsterTTs.addDeBuff(buffData,this.gongji_data);\r\n                    }                                          \r\n                }\r\n            }\r\n        }\r\n        this.destroySelf();    \r\n    }\r\n\r\n}\r\n"]}