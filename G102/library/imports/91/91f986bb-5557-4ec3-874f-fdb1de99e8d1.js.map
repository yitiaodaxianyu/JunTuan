{"version":3,"sources":["assets\\Scripts\\GameManager.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\r\nimport { Btn_Index, GameScene, GameState, Go_Type, IsDebug, SelectSkill_Type, VIDEO_TYPE, Zheng_Xing_Type,GameMode, FightingInfo, JiaSu} from \"./Constants\";\r\nimport ChuShengDian from \"./Game/ChuShengDian\";\r\nimport EnemyHpManager from \"./Enemy/EnemyHpManager\";\r\nimport HpTextHpManager from \"./Monster/HpTextManager\";\r\nimport Music from \"./Sound/Muisc\";\r\nimport Sound from \"./Sound/Sound\";\r\nimport Home from \"./Home\";\r\nimport Hint from \"./Hint\";\r\nimport GetTip from \"./UI/GetTip\";\r\nimport Game from \"./Game/Game\";\r\nimport Dialog from \"./UI/Dialog\";\r\nimport FollowManager from \"./multiLanguage/FollowManager\";\r\nimport { Follow_Type } from \"./multiLanguage/FollowConstants\";\r\nimport {  RewardData } from \"./JsonData/LevelJsonData\";\r\nimport LocalVideo from \"./LocalVideo\";\r\nimport {HeroData} from \"./Hero/Data/HeroData\";\r\nimport UnlockSkill from \"./UI/UnlockSkill\";\r\nimport { ZhenXingData } from \"./ZhenXingData\";\r\nimport TutorailsManager from \"./Tutorials/TutorailsManager\";\r\nimport { HeroManager } from \"./Hero/Data/HeroManager\";\r\nimport { LevelManager } from \"./Level/LevelManager\";\r\nimport { MissionLevelManager } from \"./Level/MissionLevel\";\r\nimport { EndlessLevelsManager } from \"./Activity/EndlessLevels\";\r\nimport BossManager from \"./Boss/BossManager\";\r\nimport { BossChallengeManager } from \"./Activity/BossChallenge\";\r\nimport { TowerLevelManager } from \"./Tower/TowerLevel\";\r\nimport TowerManager from \"./Tower/TowerManager\";\r\nimport { JsonMonsterConfigure, MonsterConfigureManager } from \"./Monster/Data/MonsterConfigure\";\r\nimport { StrengthType } from \"./Monster/MonsterData\";\r\nimport MonsterManager from \"./Monster/MonsterManager\";\r\nimport { UIManager } from \"./UI/UIManager\";\r\nimport Pet from \"./Pet/Game/Pet\";\r\nimport { PetInfo } from \"./Pet/PetConfig\";\r\nimport { MazeManager } from \"./Maze/MazeManager\";\r\nimport { GameEffectId, GameEffectsManager } from \"./Game/GameEffectsManager\";\r\nimport { TheStorageManager } from \"./Storage/StorageManager\";\r\nimport { StorageKey } from \"./Storage/StorageConfig\";\r\nimport Hero from \"./Hero/Game/Hero\";\r\nimport { AttributeData, HeroInfo, Hero_Type } from \"./Hero/Game/HeroConfig\";\r\nimport GuaJiGift from \"./GuaJi/Ui/GuaJiGift\";\r\nimport { UILayerLevel, UIPath } from \"./UI/UIConfig\";\r\nimport GameWin from \"./Game/Ui/GameWin\";\r\nimport { TutorialLevelManager } from \"./Level/TutorialLevel\";\r\nimport SkillManager from \"./Game/SkillManager\";\r\nimport { SoundIndex } from \"./Sound/AudioConstants\";\r\nimport WallManager from \"./Wall/WallManager\";\r\nimport { WallType } from \"./Wall/WallConfig\";\r\nimport BuffDisplay from \"./copy/endlesschallenges/BuffDisplay\";\r\nimport { HeroBaseInfoManager } from \"./Hero/Data/HeroBaseInfo\";\r\nimport { EquipmentAttributeManager } from \"./Equipment/Data/EquipmentAttribute\";\r\nimport { ExclusiveEnhancementManager } from \"./JsonData/ExclusiveEnhancement\";\r\nimport { ExclusiveWeaponMessageManager } from \"./JsonData/ExclusiveWeaponMessage\";\r\nimport RewardSSUi from \"./Tutorials/RewardSSUi\";\r\n\r\n\r\n\r\nconst {ccclass} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class GameManager extends cc.Component{\r\n\r\n    private static _instance: GameManager = null;\r\n\r\n    private prefab_hint:cc.Prefab=null;\r\n    private prefab_get_tip:cc.Prefab=null;\r\n    //-----------------------------HOME-------------------------------\r\n    role_show_hero:Hero_Type=Hero_Type.ChangMaoShou;\r\n    //-----------------------------Game-------------------------------\r\n    //各种管理器\r\n    game:Game=null;\r\n    enemy_hp_manager:EnemyHpManager=null;\r\n    hp_text_manager:HpTextHpManager=null;\r\n    chu_sheng_dian:ChuShengDian=null;\r\n    //声音\r\n    sound_manager:Sound=null;\r\n    music_manager:Music=null;\r\n    //各大英雄的\r\n    all_hero:Map<number,Hero>=null;\r\n    //DPS统计\r\n    hero_skill_dps:number[]=null;\r\n    hero_attack_dps:number[]=null;\r\n    /**宠物主动技能造成的伤害 */\r\n    private pet_active_dps:Map<PetInfo,number>=null;\r\n    /**宠物连携技能造成的伤害 */\r\n    private pet_connect_dps:Map<PetInfo,number>=null;\r\n\r\n    cur_game_state:GameState=GameState.Game_Ready;\r\n    cur_game_mode:GameMode=GameMode.Main;\r\n    cur_game_scene:GameScene=GameScene.home;\r\n\r\n    //当前的加载进度\r\n    cur_load_progress:number=0;\r\n\r\n    //每个英雄获得的游戏内技能\r\n    ingame_skills:SelectSkill_Type[]=[];\r\n    //开始的关卡的数据\r\n    cur_wave:number=0;\r\n    fighting_info:FightingInfo=null;\r\n    //drop_data:DropData=null;\r\n    reward_data:RewardData[]=[];\r\n    is_loaded:boolean=false;\r\n    //掉落物品的怪物id\r\n    //drop_enemy_type:number=0;\r\n\r\n    game_to_home:Go_Type=Go_Type.Main;\r\n\r\n    fuhuo_num:number=1;\r\n    is_show_text:boolean=true;\r\n    //最大的技能槽位\r\n    max_skill_slot:number=2;\r\n    //各个英雄数据，游戏内使用，关卡内buff。\r\n    game_hero_data:Map<number,HeroData>=null;\r\n    //第几个怪有可能爆星星buff\r\n    //star_index:number=0;\r\n    //\r\n    /**当前总共的怪物数量 */\r\n    cur_total_num:number=0;\r\n    /**实际上已经生成出怪物的数量 */\r\n    cur_create_num:number=0;\r\n    enemy_offset_y:number=0;\r\n    enemy_att_y:number=-300;\r\n    enemy_create_y:number=1080;\r\n    load_jishu:number=0;\r\n    load_callback:Function=null;\r\n    jishu_time:number=0;    \r\n    //通关次数\r\n    pass_level_num:number=0;\r\n    /**游戏速率 */\r\n    private game_rate:number=1;\r\n    /**按钮指定速率 */\r\n    private btn_setup_rate:number=1;\r\n    /**战斗指定速率 */\r\n    private fighting_setup_rate:number=1;\r\n    /**单次最高伤害值 */\r\n    private max_damage:number=0;\r\n    /**单次最小伤害值 */\r\n    private min_damage:number=9999;\r\n    /**自动战斗标识 */\r\n    public auto_fighting:boolean=false;\r\n    /**当前的队列 */\r\n    public cur_team_list:number[]=[];\r\n    //是否显示了退出游戏的对话框\r\n    public is_show_exit:boolean=false;\r\n\r\n    //游戏动画存储数据\r\n    public moveData: Array<cc.Vec2> = [];\r\n    public static getInstance():GameManager\r\n    {\r\n        return this._instance;\r\n    }\r\n\r\n    protected onLoad(): void {\r\n        console.log(\"gameLoaderon\");\r\n        \r\n        cc.game.addPersistRootNode(this.node);\r\n        GameManager._instance=this;\r\n    }\r\n\r\n    //初始化游戏数据\r\n    init (scene:GameScene) {\r\n        this.unscheduleAllCallbacks();\r\n        this.cur_game_scene=scene;\r\n        this.is_loaded=false;\r\n        switch(this.cur_game_scene)\r\n        {\r\n            case GameScene.home:{\r\n                this.cur_load_progress=0;\r\n                this.is_loaded=true;\r\n                this.exitPlayGame();\r\n                //this.role_show_hero=Hero_Type.SheShou;\r\n            }break;\r\n            case GameScene.game:{\r\n                this.game_to_home=Go_Type.Main;\r\n                this.cur_game_state=GameState.Game_Ready;\r\n                this.all_hero=new Map<number,Hero>();\r\n                this.hero_attack_dps=null;\r\n                this.hero_skill_dps=null;\r\n                this.cur_total_num=this.cur_create_num=0;\r\n                this.cur_wave=0;\r\n                this.ingame_skills=new Array();\r\n                this.reward_data=new Array();\r\n                this.fuhuo_num=1;\r\n                this.auto_fighting=TheStorageManager.getInstance().getInt(StorageKey.AutoFighting)>0;\r\n                this.loadLevel();\r\n                this.loadGameHeroData();\r\n            }break;\r\n            default:this.cur_load_progress=0;break;\r\n        }\r\n        this.loadTip();\r\n    }\r\n\r\n    setBtnSetupRate(rate:number,isActivity:boolean=true){\r\n        this.btn_setup_rate=rate;\r\n        this.setGameRate(1);\r\n        if(isActivity){\r\n            if(rate==2){\r\n                FollowManager.getInstance().followEvent(Follow_Type.二倍速开启成功次数);\r\n            }else{\r\n                FollowManager.getInstance().followEvent(Follow_Type.二倍速关闭成功次数);\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n    setAutoFighting(isAuto:boolean,isActivity:boolean=true){\r\n        this.auto_fighting=isAuto;\r\n        if(isActivity){\r\n            if(isAuto){\r\n                FollowManager.getInstance().followEvent(Follow_Type.自动战斗开启成功次数);\r\n            }else{\r\n                FollowManager.getInstance().followEvent(Follow_Type.自动战斗关闭成功次数);\r\n            }\r\n        }                \r\n    }\r\n\r\n    getBtnSetupRate():number{\r\n        return this.btn_setup_rate;\r\n    }\r\n\r\n    setFightingRate(rate:number){\r\n        this.fighting_setup_rate=rate;\r\n        this.setGameRate(1);\r\n    }\r\n\r\n    setGameRate(rate:number){\r\n        this.game_rate=rate*this.btn_setup_rate*this.fighting_setup_rate;\r\n        cc.kSpeed(this.game_rate);\r\n    }\r\n\r\n    getGameRate():number{\r\n        return this.game_rate;\r\n    }\r\n\r\n    resetRate(){\r\n        this.game_rate=1;\r\n        cc.kSpeed(this.game_rate);\r\n    }\r\n\r\n    setMaxDamage(num:number){\r\n        if(num>this.max_damage){\r\n            this.max_damage=num;\r\n        }\r\n    }\r\n\r\n    getMaxDamage():number{\r\n        return this.max_damage;\r\n    }\r\n\r\n    setMinDamage(num:number){\r\n        if(num<this.min_damage){\r\n            this.min_damage=num;\r\n        }\r\n    }\r\n\r\n    getMinDamage():number{\r\n        return this.min_damage;\r\n    }\r\n\r\n    getDamageTextScale(damage:number){\r\n        let maxScale=1.4;\r\n        let scaleValue=1;\r\n        let rate=damage/this.getMaxDamage();\r\n        scaleValue=rate*maxScale;\r\n        if(scaleValue<1){\r\n            scaleValue=1;\r\n        }\r\n        if(scaleValue>maxScale){\r\n            scaleValue=maxScale;\r\n        }\r\n        return scaleValue;\r\n    }\r\n\r\n    getDamageTextEffect(damage:number):number{\r\n        let effectId=GameEffectId.front_normal_attack_text_1;\r\n        let rate=damage/this.getMaxDamage();\r\n        if(rate<0.2){\r\n            effectId=GameEffectId.front_normal_attack_text_1;\r\n        }else if(rate<0.4){\r\n            effectId=GameEffectId.front_normal_attack_text_2;\r\n        }else if(rate<0.6){\r\n            effectId=GameEffectId.front_normal_attack_text_3;\r\n        }else if(rate<0.8){\r\n            effectId=GameEffectId.front_normal_attack_text_4;\r\n        }else{\r\n            effectId=GameEffectId.front_normal_attack_text_5;\r\n        }\r\n        return effectId;\r\n    }\r\n\r\n    getHero(heroId:Hero_Type):Hero{\r\n        return this.all_hero.get(heroId);\r\n    }\r\n\r\n    loadGameHeroData()\r\n    {        \r\n        let isInitDps=false;\r\n        if(this.cur_game_mode==GameMode.Main){\r\n            this.hero_skill_dps=new Array();\r\n            this.hero_attack_dps=new Array();\r\n        }else{\r\n            if(!this.hero_attack_dps){\r\n                this.hero_skill_dps=new Array();\r\n                this.hero_attack_dps=new Array();\r\n                isInitDps=true;\r\n            }\r\n        }                \r\n        this.pet_active_dps=new Map<PetInfo,number>();\r\n        this.pet_connect_dps=new Map<PetInfo,number>();\r\n        this.game_hero_data=new Map<number,HeroData>();\r\n        this.cur_team_list=HeroManager.getInstance().getTeamList(this.cur_game_mode);\r\n\r\n        let fightingData=MazeManager.getInstance().refreshFightingData();\r\n        //\r\n        let mainWallData=new AttributeData();\r\n        for(let i=0; i<Hero_Type.Hero_Num; i++)\r\n        {\r\n            if(this.cur_game_mode==GameMode.Main){\r\n                this.hero_skill_dps.push(0);\r\n                this.hero_attack_dps.push(0);\r\n            }else{\r\n                if(isInitDps){\r\n                    this.hero_skill_dps.push(0);\r\n                    this.hero_attack_dps.push(0);\r\n                }\r\n            } \r\n            \r\n            let heroData=new HeroData();\r\n            let homeHeroData=HeroManager.getInstance().getHeroData(i);\r\n            if(homeHeroData){\r\n                heroData=cc.instantiate(homeHeroData);                \r\n                if(this.cur_team_list.includes(i)){\r\n                    //迷宫模式加成\r\n                    if(this.cur_game_mode==GameMode.Maze){\r\n                        heroData.total_attack+=(fightingData.AttackPer)*heroData.fixed_attck;\r\n                        heroData.total_defense+=(fightingData.DefensePer)*heroData.fix_defense;\r\n                        heroData.Critical+=fightingData.CriticalValue;\r\n                        heroData.Hit+=fightingData.HitValue;\r\n                    }\r\n                    mainWallData.Health+=heroData.total_hp*0.2;\r\n                    mainWallData.Defense+=heroData.total_defense*0.2;\r\n                    mainWallData.Miss+=heroData.Miss*0.2;\r\n                    mainWallData.AntiCritical+=heroData.AntiCritical*0.2;\r\n                    mainWallData.AntiExtraCritical+=heroData.AntiExtraCritical*0.2;\r\n                    mainWallData.Attack+=heroData.total_attack*0.2;\r\n                    mainWallData.Hit+=heroData.Hit*0.2;\r\n                    this.pet_active_dps.set(heroData.pet_info,0);\r\n                    this.pet_connect_dps.set(heroData.pet_info,0);\r\n                    this.setMaxDamage(heroData.total_attack*heroData.ExtraCritical)\r\n                    this.setMinDamage(heroData.total_attack);\r\n                    this.game_hero_data.set(i,heroData);\r\n                }\r\n            }            \r\n        }\r\n        WallManager.getInstance().getMainWall().startNextLevel();\r\n        WallManager.getInstance().getMainWall().initWall(mainWallData,WallType.Main);        \r\n        // if(hp<3000){\r\n        //     hp=3000;\r\n        // }\r\n        // if(defense<100){\r\n        //     defense=100;\r\n        // }\r\n        //this.wall_data.initInheritData(hp,defense,miss,antiCritical,antiExtraCritical);\r\n    }\r\n\r\n    loadTutorailsHeroData()\r\n    {        \r\n        let isInitDps=false;\r\n        if(this.cur_game_mode==GameMode.Main){\r\n            this.hero_skill_dps=new Array();\r\n            this.hero_attack_dps=new Array();\r\n        }else{\r\n            if(!this.hero_attack_dps){\r\n                this.hero_skill_dps=new Array();\r\n                this.hero_attack_dps=new Array();\r\n                isInitDps=true;\r\n            }\r\n        }\r\n        for(let i=0; i<Hero_Type.Hero_Num; i++)\r\n        {\r\n            if(this.cur_game_mode==GameMode.Main){\r\n                this.hero_skill_dps.push(0);\r\n                this.hero_attack_dps.push(0);\r\n            }else{\r\n                if(isInitDps){\r\n                    this.hero_skill_dps.push(0);\r\n                    this.hero_attack_dps.push(0);\r\n                }\r\n            }            \r\n        }\r\n        this.pet_active_dps=new Map<PetInfo,number>();\r\n        this.pet_connect_dps=new Map<PetInfo,number>();\r\n        this.game_hero_data=new Map<number,HeroData>();\r\n        this.cur_team_list=[Hero_Type.ShouWang,Hero_Type.ANuBiSi,Hero_Type.ZhenDe,Hero_Type.MeiMo,Hero_Type.LeiShen];\r\n        let mainWallData=new AttributeData();\r\n        for(let i=0; i<this.cur_team_list.length; i++){\r\n            let heroData=this.addTutotialsHeroFull(this.cur_team_list[i],i,null);\r\n            mainWallData.Health+=heroData.total_hp*0.2;\r\n            mainWallData.Defense+=heroData.total_defense*0.2;\r\n            mainWallData.Miss+=heroData.Miss*0.2;\r\n            mainWallData.AntiCritical+=heroData.AntiCritical*0.2;\r\n            mainWallData.AntiExtraCritical+=heroData.AntiExtraCritical*0.2;\r\n            mainWallData.Attack+=heroData.total_attack*0.2;\r\n            mainWallData.Hit+=heroData.Hit*0.2;\r\n            this.pet_active_dps.set(heroData.pet_info,0);\r\n            this.pet_connect_dps.set(heroData.pet_info,0);\r\n            this.setMaxDamage(heroData.total_attack*heroData.ExtraCritical)\r\n            this.setMinDamage(heroData.total_attack);\r\n            //this.game_hero_data.set(i,heroData);\r\n        } \r\n        \r\n\r\n        WallManager.getInstance().getMainWall().startNextLevel();\r\n        WallManager.getInstance().getMainWall().initWall(mainWallData,WallType.Main);        \r\n    }\r\n\r\n    refreshMainWallData(){\r\n        let mainWallData=new AttributeData();\r\n        this.all_hero.forEach((v,k)=>{\r\n            let heroData=cc.instantiate(v.hero_data);\r\n            mainWallData.Health+=heroData.total_hp*0.2;\r\n            mainWallData.Defense+=heroData.total_defense*0.2;\r\n            mainWallData.Miss+=heroData.Miss*0.2;\r\n            mainWallData.AntiCritical+=heroData.AntiCritical*0.2;\r\n            mainWallData.AntiExtraCritical+=heroData.AntiExtraCritical*0.2;\r\n            mainWallData.Attack+=heroData.total_attack*0.2;\r\n            mainWallData.Hit+=heroData.Hit*0.2;\r\n        })\r\n        WallManager.getInstance().getMainWall().refreshWallData(mainWallData);\r\n    }\r\n\r\n    private loadTip()\r\n    {\r\n        if(!this.prefab_hint)\r\n        {\r\n            cc.resources.load('hint',cc.Prefab,(error: Error, assets:cc.Prefab)=>{\r\n                if(error)\r\n                {\r\n                    console.log(error);\r\n                    return;\r\n                }\r\n                this.prefab_hint=assets;\r\n            });\r\n        }\r\n        if(!this.prefab_get_tip)\r\n        {\r\n            cc.resources.load('get_tip',cc.Prefab,(error: Error, assets:cc.Prefab)=>{\r\n                if(error)\r\n                {\r\n                    console.log(error);\r\n                    return;\r\n                }\r\n                this.prefab_get_tip=assets;\r\n            });\r\n        }\r\n    }\r\n\r\n    showMessage(message:string,dt?:number)\r\n    {\r\n        if(this.prefab_hint==null)\r\n        {\r\n            cc.resources.load('hint',cc.Prefab,(error: Error, assets:cc.Prefab)=>{\r\n                if(error)\r\n                {\r\n                    console.log(error);\r\n                    return;\r\n                }\r\n                let hint=cc.instantiate(assets);\r\n                hint.parent=cc.find('Canvas/Ui_Root');\r\n                let hintJs=hint.getComponent(Hint);\r\n                hintJs.showHintMessage(message,dt);\r\n            });\r\n        }else\r\n        {\r\n            let hint=cc.instantiate(this.prefab_hint);\r\n            hint.parent=cc.find('Canvas/Ui_Root');\r\n            let hintJs=hint.getComponent(Hint);\r\n            hintJs.showHintMessage(message,dt);\r\n        }\r\n    }\r\n\r\n    showGetTip(getNode:cc.Node,callBack?:Function)\r\n    {\r\n        if(this.prefab_hint==null)\r\n        {\r\n            cc.resources.load('get_tip',cc.Prefab,(error: Error, assets:cc.Prefab)=>{\r\n                if(error)\r\n                {\r\n                    console.log(error);\r\n                    return;\r\n                }\r\n                let node=cc.instantiate(assets);\r\n                node.parent=cc.find('Canvas/Ui_Root');\r\n                node.getComponent(GetTip).addShowGetPorp(getNode,callBack);                             \r\n            });\r\n        }else\r\n        {\r\n            let node=cc.instantiate(this.prefab_get_tip);\r\n            node.parent=cc.find('Canvas/Ui_Root');\r\n            node.getComponent(GetTip).addShowGetPorp(getNode,callBack); \r\n        }\r\n    }\r\n\r\n    showMultipleGetTip(getNodes:cc.Node[],callBack?:Function)\r\n    {\r\n        if(this.prefab_hint==null)\r\n        {\r\n            cc.resources.load('get_tip',cc.Prefab,(error: Error, assets:cc.Prefab)=>{\r\n                if(error)\r\n                {\r\n                    console.log(error);\r\n                    return;\r\n                }\r\n                let node=cc.instantiate(assets);\r\n                node.parent=cc.find('Canvas/Ui_Root');\r\n                node.getComponent(GetTip).addMultiplePorp(getNodes,callBack);\r\n            });\r\n        }else\r\n        {\r\n            let node=cc.instantiate(this.prefab_get_tip);\r\n            node.parent=cc.find('Canvas/Ui_Root');\r\n            node.getComponent(GetTip).addMultiplePorp(getNodes,callBack);\r\n        }\r\n    }\r\n\r\n    showDialog(message:string,yesCallback:Function,noCallback:Function,showType?:number,y?:number)\r\n    {\r\n        if(this.is_show_exit==true){\r\n            return;\r\n        }\r\n        this.is_show_exit=true;\r\n        cc.resources.load('dialog',cc.Prefab,(error: Error, assets:cc.Prefab)=>{\r\n            if(error)\r\n            {\r\n                console.log(error);\r\n                return;\r\n            }\r\n            let node=cc.instantiate(assets);\r\n            node.parent=cc.find('Canvas/Ui_Root');\r\n            node.getComponent(Dialog).showDialog(message,yesCallback,noCallback,showType,y);\r\n            if(y){\r\n                node.y=y;\r\n            }\r\n        });\r\n    }\r\n\r\n    showBuyDialog(message:string,yesCallback:Function,noCallback:Function,showType?:number,y?:string | number,currency?:string)\r\n    {\r\n        cc.resources.load('dialog',cc.Prefab,(error: Error, assets:cc.Prefab)=>{\r\n            if(error)\r\n            {\r\n                console.log(error);\r\n                return;\r\n            }\r\n            let node=cc.instantiate(assets);\r\n            node.parent=cc.find('Canvas/Ui_Root');\r\n            node.getComponent(Dialog).showDialog(message,yesCallback,noCallback,showType,y,currency);\r\n            // if(y){\r\n            //     node.y=y;\r\n            // }\r\n        });\r\n    }\r\n    \r\n    showLocalVideo(yesCallback:Function,noCallback:Function,isVideo?:boolean)\r\n    {\r\n        cc.resources.load('video_dialog',cc.Prefab,(error: Error, assets:cc.Prefab)=>{\r\n            if(error)\r\n            {\r\n                console.log(error);\r\n                return;\r\n            }\r\n            let node=cc.instantiate(assets);\r\n            node.parent=cc.find('Canvas/Ui_Root');\r\n            node.getComponent(LocalVideo).init(yesCallback,noCallback);\r\n        });\r\n    }\r\n\r\n    //----------------------------------------------------GAME------------------------------------------------------------------------\r\n    startNextLevel(){        \r\n        this.unscheduleAllCallbacks();\r\n        this.cur_wave=0;\r\n        this.cur_total_num=0;\r\n        MonsterManager.getInstance().destroyAllDrop();\r\n        MonsterManager.getInstance().destroyAllMonster();        \r\n        switch(GameManager.getInstance().cur_game_mode){\r\n            case GameMode.Main:{\r\n                if(!TutorailsManager.getInstance().is_finish_game){\r\n                    this.fighting_info=TutorialLevelManager.getInstance().getFightingInfo(LevelManager.getInstance().start_level);\r\n                }else{\r\n                    this.fighting_info=MissionLevelManager.getInstance().getFightingInfo(LevelManager.getInstance().start_level);\r\n                }                \r\n                GameEffectsManager.getInstance().removeAllEffect();\r\n                this.all_hero.forEach((v,k)=>{\r\n                    v.resetState();\r\n                })\r\n                //数据\r\n                this.loadGameHeroData();\r\n            }break;\r\n            case GameMode.Maze:{\r\n                this.fighting_info=MazeManager.getInstance().getFightingInfo();\r\n            }break;\r\n            case GameMode.Tower:{\r\n                this.fighting_info=TowerLevelManager.getInstance().getFightingInfo(TowerManager.getTowerLevel());\r\n            }break;\r\n            case GameMode.Endless:{\r\n                let wavenumber=TheStorageManager.getInstance().getNumber(StorageKey.UnlimitedChallengeDamage,0);//波数\r\n                let Round =EndlessLevelsManager.getInstance().getRound(wavenumber)//回合数\r\n                // console.log(\"+++++++\",Round)\r\n                this.fighting_info=EndlessLevelsManager.getInstance().getFightingInfo(Round);\r\n            }break;\r\n        }        \r\n        MonsterManager.getInstance().loadData();\r\n        this.game.startNextLevel();        \r\n        this.cur_game_state=GameState.Game_Playing;\r\n        this.setGameRate(1);\r\n        this.scheduleOnce(this.loadLevel,0.5);\r\n        this.music_manager.resume();\r\n    }\r\n\r\n    //获取阵列类型\r\n    getZhengXingData():ZhenXingData\r\n    {\r\n        let waveData=this.fighting_info[this.cur_wave];        \r\n        //解析阵型数据\r\n        let zxData=new ZhenXingData();\r\n        let allEnemyData=new Array<JsonMonsterConfigure>();\r\n        let MCM=MonsterConfigureManager.getInstance();\r\n        for(let i=0; i<waveData.monster_num.length; i++)\r\n        {            \r\n            let mId=waveData.monster_id[i];\r\n            let jsonData=MCM.getJsonMonsterConfigure(mId);\r\n            let enemyNum=waveData.monster_num[i];\r\n            for(let n=0; n<enemyNum; n++)\r\n            {\r\n                allEnemyData.push(jsonData);\r\n            }\r\n        }\r\n        //二次处理，把boss跟buff怪放最前面\r\n        allEnemyData.sort((a:JsonMonsterConfigure,b:JsonMonsterConfigure)=>{\r\n            return b.StrengthType-a.StrengthType;\r\n        });\r\n        this.getZhenXingDataByEnemyData(allEnemyData,zxData,0,0);\r\n        return zxData;\r\n    }\r\n    getZhenXingDataByEnemyData(enemyDatas:JsonMonsterConfigure[],out:ZhenXingData,buffNum:number,minY:number)\r\n    {\r\n        //阵型\r\n        let zxType=Zheng_Xing_Type.ZX0;\r\n        //随机一个阵型\r\n        zxType=Math.floor(Math.random()*Zheng_Xing_Type.num);\r\n        // if(IsDebug)\r\n        // {\r\n        //     zxType=Zheng_Xing_Type.箭头;\r\n        // }\r\n        let zxData=new ZhenXingData();\r\n        //zxData=this.game.zhen_xing.json[zxType];\r\n        let len=enemyDatas.length;\r\n        let isNext=false;\r\n        let otherNum=0;\r\n        let isHaveBoss=false;\r\n        let ewaiNum=0;\r\n        for(let i=0; i<len; i++)\r\n        {\r\n            if(enemyDatas[i].StrengthType==StrengthType.Boss)\r\n            {\r\n                isHaveBoss=true;\r\n                break;\r\n            }\r\n        }\r\n        for(let i=0; i<len; i++)\r\n        {\r\n            if(i<(zxData.other_pos.length+ewaiNum))\r\n            {\r\n                if(enemyDatas[i].StrengthType==StrengthType.Boss)\r\n                {\r\n                    //判断一下是否boss位置已经用了，如果用了代表这关有2个boss，需要把这个boss放到buff位置上\r\n                    let pos=zxData.boss_pos;\r\n                    let disPos=cc.v2(pos.x,pos.y+minY);\r\n                    //如果之前没有设置boss位置                    \r\n                    if(out.boss_pos.y==0)\r\n                    {\r\n                        out.boss_pos=disPos;\r\n                        ewaiNum++;\r\n                    }else\r\n                    {\r\n                        if(out.buff_pos.length<4)\r\n                        {\r\n                            let pos=zxData.buff_pos[buffNum];\r\n                            disPos=cc.v2(pos.x,pos.y+minY);\r\n                            out.buff_pos.push(disPos);\r\n                            ewaiNum++;\r\n                            buffNum++;                        \r\n                        }else\r\n                        {\r\n                            let pos=zxData.other_pos[otherNum];\r\n                            disPos=cc.v2(pos.x,pos.y+minY);\r\n                            out.other_pos.push(disPos);\r\n                            otherNum++;\r\n                        }\r\n                    }\r\n                    \r\n                }else if(enemyDatas[i].StrengthType==StrengthType.Elite)\r\n                {                      \r\n                    if(out.buff_pos.length<4)\r\n                    {\r\n                        ewaiNum++;\r\n                        //如果这波没有boss，并且有buff，则buff代替boss位置\r\n                        if(isHaveBoss==false)\r\n                        {\r\n                            let pos=zxData.boss_pos;\r\n                            let disPos=cc.v2(pos.x,pos.y+minY);\r\n                            out.buff_pos.push(disPos);\r\n                            isHaveBoss=true;\r\n                        }else\r\n                        {\r\n                            let pos=zxData.buff_pos[buffNum];\r\n                            let disPos=cc.v2(pos.x,pos.y+minY);\r\n                            out.buff_pos.push(disPos);\r\n                            buffNum++;\r\n                        }                        \r\n                    }else\r\n                    {\r\n                        let pos=zxData.other_pos[otherNum];\r\n                        let disPos=cc.v2(pos.x,pos.y+minY);\r\n                        out.other_pos.push(disPos);\r\n                        otherNum++;\r\n                    }\r\n                }else\r\n                {\r\n                    let pos=zxData.other_pos[otherNum];\r\n                    let disPos=cc.v2(pos.x,pos.y+minY);\r\n                    out.other_pos.push(disPos);\r\n                    otherNum++;\r\n                }\r\n            }else\r\n            {\r\n                isNext=true;\r\n                break;\r\n            }\r\n        }\r\n        if(isNext==true)\r\n        {\r\n            minY=zxData.other_pos[zxData.other_pos.length-1].y+60-505;\r\n            this.getZhenXingDataByEnemyData(enemyDatas.slice(zxData.other_pos.length),out,buffNum,minY);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    //显示关卡数据\r\n    public loadLevel()\r\n    {\r\n\r\n        if(MonsterManager.getInstance() && MonsterManager.getInstance().is_load_ok && (Hero.cur_loaded_num>=Hero.max_load_num) && (Pet.cur_loaded_num>=Pet.max_load_num) && this.fighting_info && this.cur_game_state==GameState.Game_Playing)\r\n        {\r\n            if(GameManager.getInstance().cur_game_mode==GameMode.Endless){\r\n                let top = cc.find(\"Canvas/Ui_Root/top_ui\");\r\n                let wavenumber=TheStorageManager.getInstance().getNumber(StorageKey.UnlimitedChallengeDamage,0)+1\r\n                TheStorageManager.getInstance().setItem(StorageKey.UnlimitedChallengeDamage,wavenumber);\r\n                top.getChildByName('curLabel').getComponent(cc.Label).string = \"\"+wavenumber//(EndlessLevelsManager.getInstance().getMaxWave())\r\n            }\r\n            // console.log(\"_______进来了\")\r\n\r\n            //this.unscheduleAllCallbacks();\r\n            let monsterData=this.fighting_info.monster_datas[this.cur_wave];\r\n            let isBaoXiangLevel=false;\r\n            let MCM=MonsterConfigureManager.getInstance();\r\n            let useWidth=600;\r\n            let left=(cc.winSize.width-useWidth)/2-cc.winSize.width/2;\r\n            this.enemy_create_y=cc.winSize.height/2;\r\n            //this.enemy_create_y=0;\r\n            let refreshTime=0;\r\n            for(let i=0; i<monsterData.length; i++)\r\n            {\r\n                let data=monsterData[i];\r\n                let mId=data.id;\r\n                let strengthType=MCM.getStrengthType(mId);\r\n                let num=data.num;\r\n                let monsterLevel=data.level;\r\n                //一组怪,每组怪都一致的，所以取其中一个就行了\r\n                //分一下缝隙                \r\n                let width=MCM.getMonsterSpacing(mId);\r\n                let maxNumXX=Math.floor(useWidth/width);\r\n                let remainWidth=useWidth%maxNumXX;\r\n                width+=Math.floor(remainWidth/maxNumXX);\r\n                let useIndexs=[];\r\n                for(let xx=0; xx<maxNumXX; xx++){\r\n                    useIndexs.push(xx);\r\n                }\r\n                //x轴添加的数量，达到maxNumXX后，yyNum++\r\n                let xxNum=0;\r\n                let yyNum=0;\r\n                refreshTime+=data.refresh_time\r\n                for(let n=0; n<num; n++)\r\n                {\r\n                    this.cur_total_num++;\r\n                    //向上排列YY\r\n                    let yy=this.enemy_create_y+width*yyNum+Math.random()*width*0.7;\r\n                    //随机算出XX\r\n                    let randIndex=Math.floor(Math.random()*useIndexs.length);\r\n                    let pos=cc.v2(left+width/2+width*useIndexs[randIndex]+Math.random()*10-5,yy);\r\n                    useIndexs.splice(randIndex,1);\r\n                    if(strengthType!=StrengthType.Boss){                        \r\n                        this.scheduleOnce(()=>{\r\n                            MonsterManager.getInstance().createMonsterById(mId,pos,monsterLevel,data.hp_rate);                           \r\n                            this.cur_create_num++;\r\n                            this.game.showJianTouPos(this.cur_create_num/this.cur_total_num);\r\n                        },refreshTime+Math.random()*(60/MCM.getSpeed(mId)));\r\n                        xxNum++;\r\n                        if(xxNum>maxNumXX){\r\n                            yyNum++;\r\n                            xxNum=0;\r\n                            for(let xx=0; xx<maxNumXX; xx++){\r\n                                useIndexs.push(xx);\r\n                            }\r\n                        }\r\n                    }else{\r\n                        if(this.cur_game_mode==GameMode.Tower){\r\n                            this.scheduleOnce(()=>{\r\n                                BossManager.getInstance().addBoss(mId,monsterLevel,data.hp_rate);\r\n                            },3)\r\n                        }else{\r\n                            BossManager.getInstance().addBoss(mId,monsterLevel,data.hp_rate);\r\n                        }\r\n                        \r\n                    }                    \r\n                }                \r\n            }\r\n            //怪物潮\r\n            if(this.fighting_info.getWaveTypes()[this.cur_wave]==1){\r\n                this.showMonsterWarning();\r\n            }\r\n            this.checkTutotials();\r\n            //因为宝箱关卡是插进去的，所以想要获取准确的数值，需要减去其出现的次数\r\n            //this.drop_data=LevelJsonData.getWaveDropData(LevelManager.getInstance().start_level,this.cur_wave-this.level_buff_num);\r\n            this.game.showLevelProgress();\r\n            let isLoadNext=!isBaoXiangLevel;\r\n            if(this.cur_wave>=this.fighting_info.monster_datas.length-1){\r\n                isLoadNext=false;\r\n            }\r\n            if(this.cur_game_mode==GameMode.Boss_Challenge){\r\n                isLoadNext=false;\r\n            }\r\n            if(isLoadNext){\r\n                let delyT=this.fighting_info.wave_refresh_time[this.cur_wave+1];\r\n                this.scheduleOnce(()=>{\r\n                    this.loadNextWave();\r\n                },delyT);\r\n            }\r\n        }else\r\n        {\r\n            this.scheduleOnce(()=>{\r\n                if(!this.fighting_info)\r\n                {\r\n                    this.reloadLevelDatas();                    \r\n                }\r\n                this.loadLevel();\r\n            },0.2);\r\n        }\r\n    }\r\n\r\n    loadNextWave(){\r\n        if(this.cur_wave<this.fighting_info.monster_datas.length-1)\r\n        {\r\n            this.cur_wave++;\r\n            this.loadLevel();\r\n        }\r\n    }\r\n\r\n    reloadLevelDatas(){\r\n        // console.log(\"什么时候进来\")\r\n        this.fighting_info=new FightingInfo();\r\n        switch(this.cur_game_mode){\r\n            case GameMode.Main:{\r\n                this.fighting_info=MissionLevelManager.getInstance().getFightingInfo(LevelManager.getInstance().start_level);\r\n            }break;\r\n            case GameMode.Endless:{\r\n                let wavenumber=TheStorageManager.getInstance().getNumber(StorageKey.UnlimitedChallengeDamage,0);//波数\r\n                let Round =EndlessLevelsManager.getInstance().getRound(wavenumber)//回合数\r\n                this.fighting_info=EndlessLevelsManager.getInstance().getFightingInfo(Round);\r\n            }break;\r\n            case GameMode.Boss_Challenge:{\r\n                this.fighting_info=BossChallengeManager.getInstance().getFightingInfo(BossChallengeManager.getInstance().cur_challenge_mode);\r\n            }break;\r\n            case GameMode.Tower:{\r\n                this.fighting_info=TowerLevelManager.getInstance().getFightingInfo(TowerManager.getTowerLevel());\r\n            }break;\r\n        }                \r\n    }\r\n\r\n    \r\n\r\n    addCheckTutotialsHero(heroId:Hero_Type,callback:Function){\r\n        let heroInfo:HeroInfo = new HeroInfo();\r\n        heroInfo.hero_type=heroId;\r\n        heroInfo.hero_level=100;\r\n        heroInfo.hero_stage=5;\r\n        let data=HeroManager.getInstance().getTryPlayHeroData(heroInfo)\r\n        this.game_hero_data.set(heroId,data);\r\n        this.game.loadHero(heroId,4,callback);\r\n    }\r\n    /**添加一个满级满装满宠物的英雄 */\r\n    addTutotialsHeroFull(heroId:Hero_Type,teamIndex:number,callback:Function):HeroData{\r\n        let heroInfo:HeroInfo = new HeroInfo();\r\n        heroInfo.hero_type=heroId;\r\n        heroInfo.hero_level=HeroBaseInfoManager.getInstance().getMaxLevel(heroId);\r\n        heroInfo.hero_stage=1//HeroBaseInfoManager.getInstance().getMaxStage(heroId);   \r\n        heroInfo.exclusive_equip_stage=ExclusiveWeaponMessageManager.getInstance().getMaxStage(heroId);\r\n        let equipMaxStage=EquipmentAttributeManager.getInstance().getMaxStage();\r\n        heroInfo.wear1=EquipmentAttributeManager.getID(1,equipMaxStage);\r\n        heroInfo.wear2=EquipmentAttributeManager.getID(2,equipMaxStage);\r\n        heroInfo.wear3=EquipmentAttributeManager.getID(3,equipMaxStage);\r\n        heroInfo.wear4=EquipmentAttributeManager.getID(4,equipMaxStage);\r\n        switch(heroId){\r\n            case 2:{\r\n                heroInfo.pet_id=70413;\r\n            }break;\r\n            case 6:{\r\n                heroInfo.pet_id=70213;\r\n            }break;\r\n            case 10:{\r\n                heroInfo.pet_id=70213;\r\n            }break;\r\n            case 11:{\r\n                heroInfo.pet_id=70113;\r\n            }break;\r\n            case 12:{\r\n                heroInfo.pet_id=70313;\r\n            }break;\r\n        }\r\n        let data=HeroManager.getInstance().getTryPlayHeroData(heroInfo)\r\n        this.game_hero_data.set(heroId,data);\r\n        this.game.loadHero(heroId,teamIndex,callback);\r\n        return data;\r\n    }\r\n\r\n    checkTutotials()\r\n    {\r\n        if(!TutorailsManager.getInstance().is_finish_game )\r\n        {\r\n            if(this.cur_game_mode==GameMode.Main){\r\n                \r\n                if(this.cur_wave==5){\r\n                    if(LevelManager.getInstance().start_level==1){\r\n                        if(TutorailsManager.getInstance().isShowTutorials(202)){                            \r\n                            TutorailsManager.getInstance().showTutorials(202,()=>{\r\n                                this.setGameRate(1/JiaSu);\r\n                            },()=>{\r\n                                this.setGameRate(1);\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    //敌人死亡了,哪个敌人死亡了，哪个英雄击杀的\r\n    onEnemyDie(score:number,isAdd:boolean)\r\n    {\r\n        if(isAdd)\r\n        {\r\n            \r\n            switch(this.cur_game_mode){\r\n                case GameMode.Main:{\r\n                    if(MonsterManager.getInstance().killed_monster_num>=this.cur_total_num){\r\n                        this.loadNextWave();\r\n                    }\r\n                }break;\r\n                case GameMode.Endless:{                    \r\n                    if(MonsterManager.getInstance().killed_monster_num>=this.cur_total_num){\r\n                        this.loadNextWave();\r\n                    }\r\n                }break;\r\n                // case GameMode.Boss_Prsonal:{\r\n                //     BossChallengeManager.getInstance().cur_score+=enemyTs.score;\r\n                // }break;\r\n            }\r\n            \r\n        }\r\n        //this.game.showLevelProgress();        \r\n    }\r\n\r\n    getFightCenter():cc.Vec2{\r\n        return cc.v2(0,(700+this.enemy_offset_y-this.enemy_att_y)/2+this.enemy_att_y);\r\n    }\r\n\r\n    setSkillCancel(isShow:boolean)\r\n    {\r\n        \r\n    }\r\n\r\n    exitPlayGame()\r\n    {        \r\n        this.load_callback=null;\r\n        this.load_jishu=0;        \r\n        this.unscheduleAllCallbacks();\r\n        this.all_hero=null;\r\n    }\r\n\r\n    backToHome(showHero?:Hero_Type){\r\n        this.role_show_hero=showHero?showHero:Hero_Type.ChangMaoShou;\r\n        let bgLoading=UIManager.getInstance().getLoadingNode();\r\n        bgLoading.active=true;\r\n        let loadingBar=bgLoading.getChildByName('ProgressBar').getComponent(cc.ProgressBar);\r\n        let loadLabel=loadingBar.node.getChildByName('loadLabel').getComponent(cc.Label);\r\n\r\n        // console.log(\"________type1\",GameManager.getInstance().game_to_home)\r\n        cc.director.preloadScene(GameScene.home,(completedCount: number, totalCount: number, item: any)=>{\r\n            //真实进度\r\n            let progressTrue=completedCount/totalCount;\r\n            //假的进度\r\n            let progressFalse=progressTrue/2;\r\n            loadingBar.progress = progressFalse;\r\n            loadLabel.string=(loadingBar.progress*100).toFixed(0)+'%';\r\n            this.cur_load_progress=progressFalse;\r\n            //this.loading_light.x = this.loading_bar.progress*this.loading_bar.totalLength-this.loading_bar.totalLength/2;\r\n        },()=>{\r\n            cc.director.loadScene(GameScene.home);\r\n        });\r\n        //cc.director.loadScene(GameScene.home);\r\n    }\r\n\r\n    showDangerText()\r\n    {\r\n        let dangerText=cc.find('Canvas/Fighting_Ui/dangerText');\r\n        if(dangerText==null)\r\n        {\r\n            cc.resources.load('ui/game/dangerText',cc.Prefab,(error: Error, assets:cc.Prefab)=>{\r\n                if(error)\r\n                {\r\n                    console.log(error);\r\n                    return;\r\n                }\r\n                dangerText=cc.find('Canvas/Fighting_Ui/dangerText');\r\n                if(dangerText==null)\r\n                {\r\n                    let node=cc.instantiate(assets);\r\n                    node.parent=cc.find('Canvas/Fighting_Ui');\r\n                }                \r\n            });\r\n        }else\r\n        {\r\n            dangerText.active=true;\r\n        }\r\n    }\r\n\r\n    showGamePause()\r\n    {\r\n        if(this.cur_game_state==GameState.Game_Pause)\r\n        return;\r\n        this.cur_game_state=GameState.Game_Pause;\r\n        cc.director.pause();\r\n        UIManager.getInstance().showGamePauseUi();\r\n    }\r\n    showBtnBuff(type)//0:Buff展示   1：Buff选择\r\n    {\r\n        if(this.cur_game_state==GameState.Game_Pause)\r\n        return;\r\n        this.cur_game_state=GameState.Game_Pause;\r\n        //cc.director.pause();\r\n        UIManager.getInstance().showUiDialog(UIPath.BuffDisplay,UILayerLevel.Two,{onCompleted:(uiNode)=> {\r\n            uiNode.getComponent(BuffDisplay).init({\r\n                onClose:()=>{\r\n    \r\n                }\r\n            })\r\n            uiNode.getComponent(BuffDisplay).initUi(type)\r\n        },});\r\n    }\r\n    showGameWin()\r\n    {\r\n        // console.log(\"打完一回合了\")\r\n        if(this.cur_game_state==GameState.Game_Win || this.cur_game_state==GameState.Game_Lose)\r\n        {\r\n            return;\r\n        }\r\n        this.music_manager.pause();\r\n        this.cur_game_state=GameState.Game_Win;\r\n        this.resetRate();\r\n        this.game.setBtnRateShow();\r\n        TheStorageManager.getInstance().setItem(StorageKey.try_rate_fight_remain,Math.floor(this.game.try_rate_ramain));\r\n        TheStorageManager.getInstance().setItem(StorageKey.try_auto_fight_remain,Math.floor(this.game.try_auto_ramain));\r\n        switch(this.cur_game_mode){\r\n            case GameMode.Main:{\r\n                let curStartLevel=LevelManager.getInstance().start_level;\r\n                if(TutorailsManager.getInstance().is_finish_game){\r\n                    FollowManager.getInstance().followEvent(Follow_Type.完成第N章玩家数+MissionLevelManager.getInstance().getChapter(curStartLevel));\r\n                    FollowManager.getInstance().followEvent(Follow_Type.完成挑战关卡+curStartLevel);\r\n                    LevelManager.getInstance().finish_level=curStartLevel;                \r\n                    this.game.showCoin();\r\n                    this.scheduleOnce(()=>{\r\n                        UIManager.getInstance().showUiDialog(UIPath.GameWin,UILayerLevel.One,{onCompleted:(uiNode:cc.Node)=>{\r\n                            uiNode.getComponent(GameWin).initUi();\r\n                        }})\r\n                    },1)\r\n                }else{\r\n                    if(LevelManager.getInstance().start_level==1 && TutorailsManager.getInstance().isShowTutorials(204))\r\n                    {\r\n                        TutorailsManager.getInstance().saveTutorials(200);\r\n                        TutorailsManager.getInstance().saveTutorials(202);\r\n                        TutorailsManager.getInstance().saveTutorials(203);\r\n                        TutorailsManager.getInstance().saveFinishFromGame();\r\n                        UIManager.getInstance().showUiDialog(UIPath.RewardSSUI,UILayerLevel.One,{onCompleted:(uiNode)=> {\r\n                            uiNode.getComponent(RewardSSUi).initData(0);\r\n                        }});\r\n                        // TutorailsManager.getInstance().showTutorials(204,()=>{\r\n                            \r\n                        //     TutorailsManager.getInstance().saveTutorials(204);\r\n                        //     TutorailsManager.getInstance().saveFinishFromGame();\r\n                        // },()=>{\r\n                        //     //开始正式关卡\r\n                        // });\r\n                        // TutorailsManager.getInstance().is_tutorails_state=false;\r\n                    }\r\n                }                \r\n            }break;\r\n            case GameMode.Tower:{          \r\n                TowerManager.addTowerLevel(1);\r\n            }break;\r\n            case GameMode.Endless:{\r\n                //显示三选一\r\n                // console.log(\"+++++++++\")\r\n                GameManager.getInstance().showBtnBuff(1);//Buff选择弹窗\r\n            }break;\r\n            case GameMode.Maze:{        \r\n                this.game.showCoin();\r\n                this.scheduleOnce(()=>{\r\n                    UIManager.getInstance().showUiDialog(UIPath.GameWin,UILayerLevel.One,{onCompleted:(uiNode:cc.Node)=>{\r\n                        uiNode.getComponent(GameWin).initUi();\r\n                    }})\r\n                },1)\r\n            }break;\r\n        }\r\n        \r\n        \r\n        //熊消失\r\n        let showwang=this.all_hero.get(Hero_Type.ShouWang);\r\n        if(showwang){\r\n            showwang.onGameWin();\r\n        }\r\n    }\r\n\r\n    showSelectSkill(delayTime:number=1)\r\n    {        \r\n        this.cur_game_state=GameState.Game_Pause;\r\n        //延迟展示\r\n        this.scheduleOnce(()=>{\r\n            cc.resources.load('ui/game/select_skill',cc.Prefab,(error: Error, assets:cc.Prefab)=>{\r\n                if(error)\r\n                {\r\n                    console.log(error);\r\n                    return;\r\n                }\r\n                let fui=cc.find('Canvas/Drop_Root');\r\n                for(let i=0; i<fui.childrenCount; i++)\r\n                {\r\n                    cc.tween(fui.children[i]).by(0.5,{y:-1400}).removeSelf().start();\r\n                }\r\n                let node=cc.instantiate(assets);\r\n                node.parent=cc.find('Canvas/Ui_Root');\r\n                this.cur_game_state=GameState.Game_Pause;\r\n            });\r\n        },delayTime);      \r\n    }\r\n\r\n    showUnlockSkill(yesCallback:Function,noCallback:Function)\r\n    {        \r\n        this.cur_game_state=GameState.Game_Pause;\r\n        cc.resources.load('ui/game/unlock_ui',cc.Prefab,(error: Error, assets:cc.Prefab)=>{\r\n            if(error)\r\n            {\r\n                console.log(error);\r\n                return;\r\n            }\r\n            let node=cc.instantiate(assets);\r\n            node.parent=cc.find('Canvas/Ui_Root');\r\n            node.getComponent(UnlockSkill).init(yesCallback,noCallback);\r\n        });       \r\n    }\r\n\r\n    // cheakLevelSkill()\r\n    // {\r\n    //     this.cur_game_state=GameState.Game_Pause;\r\n    //     let teamList=HeroManager.getInstance().getTeamList(GameMode.Main);\r\n    //     let isCanShow=false;\r\n    //     for(let i=0; i<5; i++)\r\n    //     {\r\n    //         let hero:Hero=null;\r\n    //         let heroType=teamList[i];\r\n    //         if(heroType>=0)\r\n    //         {\r\n    //             hero=GameManager.getInstance().all_hero[heroType];                \r\n    //             if(hero.level_buff.length<this.max_skill_slot)\r\n    //             {\r\n    //                 isCanShow=true;\r\n    //                 break;\r\n    //             }\r\n    //         }\r\n    //     }\r\n    //     if(isCanShow==false)\r\n    //     {\r\n    //         if(this.max_skill_slot==1)\r\n    //         {\r\n    //             //说明未视频解锁\r\n    //             this.showUnlockSkill(()=>{\r\n    //                 AdManager.getInstance().showVideo((isSuc:boolean)=>{\r\n    //                     if(isSuc)\r\n    //                     {\r\n    //                         this.max_skill_slot=2;\r\n    //                         this.showSelectSkill();\r\n    //                     }else\r\n    //                     {\r\n    //                         //直接开始下一波怪\r\n    //                         GameManager.getInstance().cur_game_state=GameState.Game_Playing;\r\n    //                         this.loadLevel();\r\n    //                         let fui=cc.find('Canvas/Drop_Root');\r\n    //                         for(let i=0; i<fui.childrenCount; i++)\r\n    //                         {\r\n    //                             cc.tween(fui.children[i]).by(0.5,{y:1400}).removeSelf().start();\r\n    //                         }\r\n    //                     }\r\n    //                 },VIDEO_TYPE.Huodong);\r\n    //             },()=>{\r\n    //                 //直接开始下一波怪\r\n    //                 GameManager.getInstance().cur_game_state=GameState.Game_Playing;\r\n    //                 this.loadLevel();\r\n    //                 let fui=cc.find('Canvas/Drop_Root');\r\n    //                 for(let i=0; i<fui.childrenCount; i++)\r\n    //                 {\r\n    //                     cc.tween(fui.children[i]).by(0.5,{y:1400}).removeSelf().start();\r\n    //                 }\r\n    //             });\r\n    //         }else\r\n    //         {\r\n    //             //直接提示技能满了，跳过弹窗\r\n    //             this.showMessage(LanguageManager.getInstance().getString(LanguageIndex.Skill_is_full));\r\n    //             GameManager.getInstance().cur_game_state=GameState.Game_Playing;\r\n    //             this.loadLevel();\r\n    //             let fui=cc.find('Canvas/Drop_Root');\r\n    //             for(let i=0; i<fui.childrenCount; i++)\r\n    //             {\r\n    //                 cc.tween(fui.children[i]).by(0.5,{y:1400}).removeSelf().start();\r\n    //             }\r\n    //         }\r\n    //     }else\r\n    //     {\r\n    //         this.showSelectSkill();\r\n    //     }\r\n    // }\r\n\r\n    onFuhuo()\r\n    {\r\n        this.cur_game_state=GameState.Game_Playing;;\r\n\r\n        let dangerText=cc.find('Canvas/Fighting_Ui/dangerText');\r\n        if(dangerText)\r\n        {\r\n            dangerText.active=false;\r\n        }\r\n    }\r\n\r\n    showFuhuo()\r\n    {\r\n        this.cur_game_state=GameState.Game_Pause;\r\n        this.resetRate();\r\n        this.game.setBtnRateShow();\r\n        //LevelManager.getInstance().saveLevelWave(LevelManager.getInstance().start_level,this.cur_wave);\r\n        cc.resources.load('ui/game/fuhuo_ui',cc.Prefab,(error: Error, assets:cc.Prefab)=>{\r\n            if(error)\r\n            {\r\n                console.log(error);\r\n                return;\r\n            }\r\n            let node=cc.instantiate(assets);\r\n            node.parent=cc.find('Canvas/Ui_Root');\r\n            this.fuhuo_num--;\r\n        });\r\n    }\r\n\r\n    showGameLose()\r\n    {\r\n        // console.log(\"失败\",)\r\n        if(this.cur_game_state==GameState.Game_Lose || this.cur_game_state==GameState.Game_Win)\r\n        {\r\n            return;\r\n        }\r\n        this.cur_game_state=GameState.Game_Lose;\r\n        this.resetRate();\r\n        this.game.setBtnRateShow();\r\n        TheStorageManager.getInstance().setItem(StorageKey.try_rate_fight_remain,Math.floor(this.game.try_rate_ramain));\r\n        TheStorageManager.getInstance().setItem(StorageKey.try_auto_fight_remain,Math.floor(this.game.try_auto_ramain));\r\n        switch(this.cur_game_mode){\r\n            case GameMode.Tower:{\r\n                \r\n            }break;\r\n            case GameMode.Main:{\r\n                this.game.showCoin();\r\n                //LevelManager.getInstance().saveLevelWave(LevelManager.getInstance().start_level,this.cur_wave);\r\n                this.scheduleOnce(()=>{\r\n                    UIManager.getInstance().showGameLoseUi();\r\n                },1);\r\n            }break;\r\n            \r\n            case GameMode.Maze:{\r\n                this.game.showCoin();\r\n                //LevelManager.getInstance().saveLevelWave(LevelManager.getInstance().start_level,this.cur_wave);\r\n                this.scheduleOnce(()=>{\r\n                    UIManager.getInstance().showGameLoseUi();\r\n                },1);\r\n            }break;\r\n            case GameMode.Endless:{\r\n                // console.log(\"无尽挑战胜利\")\r\n                UIManager.getInstance().showUiDialog(UIPath.GameWin,UILayerLevel.One,{onCompleted:(uiNode:cc.Node)=>{\r\n                    uiNode.getComponent(GameWin).initUi();\r\n                }})\r\n            }break;\r\n            case GameMode.Boss_Challenge:{ \r\n                // console.log(\"Boss挑战胜利\")\r\n                UIManager.getInstance().showUiDialog(UIPath.GameWin,UILayerLevel.One,{onCompleted:(uiNode:cc.Node)=>{\r\n                    uiNode.getComponent(GameWin).initUi();\r\n                }})\r\n            }break;\r\n        }\r\n\r\n    }\r\n\r\n    \r\n\r\n    onWallDie()\r\n    {\r\n        this.showGameLose();\r\n        // if(this.cur_game_mode==GameMode.Main){\r\n        //     if(this.fuhuo_num>0)\r\n        //     {\r\n        //         this.showFuhuo();\r\n        //     }else\r\n        //     {\r\n        //         this.showGameLose();\r\n        //     }\r\n        // }else{\r\n        //     this.showGameLose();\r\n        // }        \r\n    }\r\n\r\n    showMonsterWarning(){\r\n        this.sound_manager.playSound(SoundIndex.YX_EnemyComing);\r\n        let node=GameEffectsManager.getInstance().createGameEffectForParent(GameEffectId.ui_monster_warning,cc.v2(0,0),UIManager.getInstance().node);\r\n        node.opacity=0;\r\n        node.stopAllActions();\r\n        cc.tween(node).to(0.25,{opacity:255}).to(0.5,{opacity:100}).to(0.5,{opacity:255}).to(0.5,{opacity:100}).to(0.5,{opacity:255}).to(0.25,{opacity:0}).call(()=>{\r\n            GameEffectsManager.getInstance().destroyGameEffectById(GameEffectId.ui_monster_warning,node);\r\n        }).start();\r\n    }\r\n\r\n    showBossWarning()\r\n    {\r\n        cc.resources.load('ui/game/boss_warning',cc.Prefab,(error: Error, assets:cc.Prefab)=>{\r\n            if(error)\r\n            {\r\n                console.log(error);\r\n                return;\r\n            }\r\n            if(GameManager.getInstance().cur_game_scene==GameScene.home)\r\n                return;\r\n            let chuxianAct=0.3;\r\n            let xiaoshiAct=0.15;\r\n            let tingliuAct=2;\r\n            let node=cc.instantiate(assets);\r\n            node.parent=cc.find('Canvas/Ui_Root');\r\n            let auto=node.getChildByName('auto');\r\n            auto.x=-320;\r\n            cc.tween(auto).to(chuxianAct,{x:320}).to(2,{x:1080}).start();\r\n\r\n            let warningLabel=node.getChildByName('warningLabel');\r\n            warningLabel.x=640;\r\n            cc.tween(warningLabel).to(chuxianAct,{x:0}).to(0.25,{scale:1.1}).to(0.25,{scale:1.0}).to(0.25,{scale:1.1}).to(0.25,{scale:1.0}).to(0.25,{scale:1.1}).to(0.25,{scale:1.0}).to(xiaoshiAct,{x:-640}).start();            \r\n            let bossLabel=node.getChildByName('bossLabel');\r\n            bossLabel.x=-640;\r\n            cc.tween(bossLabel).to(chuxianAct,{x:0}).to(0.25,{scale:1.1}).to(0.25,{scale:1.0}).to(0.25,{scale:1.1}).to(0.25,{scale:1.0}).to(0.25,{scale:1.1}).to(0.25,{scale:1.0}).to(xiaoshiAct,{x:640}).start();\r\n            let effects=node.getChildByName('effects');\r\n            effects.opacity=0;\r\n            cc.tween(effects).delay(chuxianAct+0.2).call(()=>{\r\n                effects.opacity=255;\r\n                effects.getComponent(cc.Animation).play();                \r\n            }).delay(tingliuAct-chuxianAct-0.2).removeSelf().start();\r\n            cc.tween(node).delay(tingliuAct).removeSelf().start();\r\n            \r\n            // cc.tween(node).to(0.2,{y:200}).delay(0.5).to(0.2,{scale:1.2}).to(0.2,{scale:0.8}).to(0.1,{scale:32,opacity:0}).removeSelf().start();\r\n        });\r\n    }\r\n\r\n    saveSound()\r\n    {\r\n        this.music_manager.saveMusicVolume();\r\n        this.music_manager.saveMusicMute();\r\n        this.sound_manager.saveSoundVolume();\r\n        this.sound_manager.saveSoundMute();\r\n    }\r\n\r\n    showSpeedUpUi()\r\n    {\r\n        if(this.cur_game_scene==GameScene.game)\r\n        {\r\n            cc.resources.load('ui/game/speed_ui',cc.Prefab,(error: Error, assets:cc.Prefab)=>{\r\n                if(error)\r\n                {\r\n                    console.log(error);\r\n                    return;\r\n                }\r\n                this.cur_game_state=GameState.Game_Pause;\r\n                cc.director.pause();\r\n                let node=cc.instantiate(assets);\r\n                node.parent=cc.find('Canvas/Ui_Root');                \r\n            });\r\n        }\r\n    }\r\n\r\n    //----------------------------------------------------HOME------------------------------------------------------------------------\r\n        \r\n    refreshCoinShow():cc.Node\r\n    {\r\n        if(this.cur_game_scene==GameScene.home ){\r\n            let home=cc.find('Canvas').getComponent(Home);\r\n            if(home){\r\n                return home.refreshCoinShow();\r\n            }\r\n        }\r\n    }\r\n\r\n    refreshGemShow():cc.Node\r\n    {\r\n        if(this.cur_game_scene==GameScene.home ){\r\n            let home=cc.find('Canvas').getComponent(Home);\r\n            if(home){\r\n                return home.refreshGemShow();\r\n            }\r\n        }\r\n    }\r\n\r\n    refreshLongJingShow()\r\n    {\r\n        if(this.cur_game_scene==GameScene.home ){\r\n            let home=cc.find('Canvas').getComponent(Home);\r\n            if(home){\r\n                return home.refreshLongJing();\r\n            }\r\n        }\r\n    }\r\n\r\n    refreshUserExpShow()\r\n    {\r\n        if(this.cur_game_scene==GameScene.home ){\r\n            let home=cc.find('Canvas').getComponent(Home);\r\n            if(home){\r\n                return home.refreshUserExp();\r\n            }\r\n        }\r\n    }\r\n\r\n    jumoToUi(index:Btn_Index){\r\n        if(this.cur_game_scene==GameScene.home )\r\n        cc.find('Canvas').getComponent(Home).jumoToUi(index);\r\n    }\r\n\r\n    jumoAndShowUi(){\r\n        if(this.cur_game_scene==GameScene.home ){\r\n            let home=cc.find('Canvas').getComponent(Home);\r\n            home.cheakUnlock();\r\n            home.showUi();\r\n        }        \r\n    }\r\n\r\n    refreshZhanliShow()\r\n    {\r\n        if(this.cur_game_scene==GameScene.home ){\r\n            let home=cc.find('Canvas').getComponent(Home);\r\n            if(home){\r\n                return home.refreshZhanLiShow();\r\n            }\r\n        }\r\n    }\r\n\r\n    refreshTopShow()\r\n    {\r\n        if(this.cur_game_scene==GameScene.home)\r\n        {\r\n            let home=cc.find('Canvas').getComponent(Home);\r\n            if(home)\r\n            {\r\n                home.refreshTop();\r\n            }            \r\n        }        \r\n    }\r\n\r\n    refreshGuaJiGift()\r\n    {\r\n        if(this.cur_game_scene==GameScene.home)\r\n        {\r\n            let btnOfflineGift=cc.find('Canvas/main_ui/btnOfflineGift');\r\n            btnOfflineGift.getComponent(GuaJiGift).cheak();\r\n        }        \r\n    }\r\n\r\n    // refreshRole()\r\n    // {\r\n    //     if(this.cur_game_scene!=GameScene.home)\r\n    //     return;\r\n    //     let roleUi=cc.find('Canvas/role_ui');\r\n    //     if(roleUi.active==true)\r\n    //     {\r\n    //         roleUi.getComponent(RoleUi).onEnable();\r\n    //     }        \r\n    // }    \r\n    \r\n\r\n    /**----------------------------------------------宠物---------------------------------------------- */\r\n    /**\r\n     * \r\n     * @param petId 宠物id\r\n     * @param num 增加的数值\r\n     */\r\n    public addPetActiveDps(petId:PetInfo,num:number){\r\n        let nowNum=this.getPetActiveDps(petId);\r\n        let newNum=nowNum+num;\r\n        this.setPetActiveDps(petId,newNum);\r\n    }\r\n    /**\r\n     * \r\n     * @param petId 宠物id\r\n     * @returns 当前的dps\r\n     */\r\n    public getPetActiveDps(petId:PetInfo):number{\r\n        return this.pet_active_dps.get(petId);\r\n    }\r\n    \r\n    private setPetActiveDps(petId:PetInfo,num:number){\r\n        this.pet_active_dps.set(petId,num);\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param petId 宠物id\r\n     * @param num 增加的数值\r\n     */\r\n     public addPetConnectDps(petId:PetInfo,num:number){\r\n        let nowNum=this.getPetConnectDps(petId);\r\n        let newNum=nowNum+num;\r\n        this.setPetConnectDps(petId,newNum);\r\n    }\r\n    /**\r\n     * \r\n     * @param petId 宠物id\r\n     * @returns 当前的dps\r\n     */\r\n    public getPetConnectDps(petId:PetInfo):number{\r\n        return this.pet_connect_dps.get(petId);\r\n    }\r\n    \r\n    private setPetConnectDps(petId:PetInfo,num:number){\r\n        this.pet_connect_dps.set(petId,num);\r\n    }\r\n}\r\n\r\n"]}