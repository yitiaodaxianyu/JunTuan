{"version":3,"sources":["assets\\Scripts\\Boss\\Boss3\\BossAtt3.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,oEAAiF;AACjF,iDAA4C;AAC5C,qDAAoD;AACpD,yDAAoD;AACpD,6DAAwD;AACxD,6CAAwC;AAExC,oDAAiD;AACjD,4CAAuC;AAEjC,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAsC,4BAAU;IAAhD;QAAA,qEAqDC;QAlDG,kBAAY,GAAQ,CAAC,CAAC;QAEtB,iBAAW,GAAQ,CAAC,CAAC;QACrB,gBAAU,GAAQ,CAAC,CAAC;;IA+CxB,CAAC;IA7CG,yBAAM,GAAN;QACI,iBAAM,sBAAsB,YAAC,IAAI,CAAC,eAAe,CAAC,CAAC;IACvD,CAAC;IAED,8BAAW,GAAX,UAAY,UAAiB,EAAC,KAAY;QACtC,IAAI,CAAC,WAAW,GAAC,UAAU,CAAC;QAC5B,IAAI,CAAC,UAAU,GAAC,KAAK,CAAC;IAC1B,CAAC;IAED,kGAAkG;IAClG,kCAAe,GAAf,UAAgB,IAAS;QAAzB,iBAkCC;QAjCG,QAAO,IAAI,CAAC,YAAY,EAAC;YACrB,KAAK,CAAC;gBAAC;oBACH,IAAG,IAAI,EAAC;wBACJ,IAAI,IAAI,GAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAA;wBAC9C,iBAAM,WAAW,WAAE,CAAC;wBACpB,IAAG,IAAI,CAAC,YAAY,EAAE,GAAC,CAAC,EAAC;4BACrB,uCAAkB,CAAC,WAAW,EAAE,CAAC,oBAAoB,CAAC,iCAAY,CAAC,uBAAuB,EAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;4BACpH,qBAAW,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,SAAS,CAAC,2BAAU,CAAC,uBAAuB,CAAC,CAAC;yBACzF;qBACJ;iBACJ;gBAAA,MAAM;YACP,KAAK,CAAC;gBAAC;oBACH,IAAG,IAAI,EAAC;wBACJ,IAAI,IAAI,GAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAA;wBAC9C,iBAAM,WAAW,WAAE,CAAC;wBACpB,IAAG,IAAI,CAAC,YAAY,EAAE,GAAC,CAAC,EAAC;4BACrB,uCAAkB,CAAC,WAAW,EAAE,CAAC,oBAAoB,CAAC,iCAAY,CAAC,iBAAiB,EAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;4BAC9G,qBAAW,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,SAAS,CAAC,2BAAU,CAAC,uBAAuB,CAAC,CAAC;yBACzF;wBACD,IAAG,IAAI,CAAC,WAAW,EAAE,IAAE,qBAAQ,CAAC,IAAI,EAAC;4BACjC,gBAAM,CAAC,mBAAmB,EAAE,CAAC;4BAC7B,KAAK;4BACL,qBAAW,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAC,CAAC,EAAC,CAAC;gCAC3C,IAAI,QAAQ,GAAC,IAAI,mBAAQ,EAAE,CAAC;gCAC5B,QAAQ,CAAC,OAAO,GAAC,mBAAM,CAAC,iBAAiB,CAAC;gCAC1C,QAAQ,CAAC,WAAW,GAAC,KAAI,CAAC,WAAW,CAAC;gCACtC,QAAQ,CAAC,UAAU,GAAC,CAAC,KAAI,CAAC,UAAU,CAAC,CAAC;gCACtC,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;4BAC1B,CAAC,CAAC,CAAA;yBACL;qBACJ;iBACJ;gBAAA,MAAM;SACV;IACL,CAAC;IAjDD;QADC,QAAQ,EAAE;kDACW;IAHL,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAqD5B;IAAD,eAAC;CArDD,AAqDC,CArDqC,oBAAU,GAqD/C;kBArDoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["import { GameEffectId, GameEffectsManager } from \"../../Game/GameEffectsManager\";\r\nimport GameManager from \"../../GameManager\";\r\nimport { BuffData } from \"../../Hero/Game/BuffData\";\r\nimport { BuffId } from \"../../Hero/Game/HeroConfig\";\r\nimport { SoundIndex } from \"../../Sound/AudioConstants\";\r\nimport MyTool from \"../../Tools/MyTool\";\r\nimport Wall from \"../../Wall/Wall\";\r\nimport { WallType } from \"../../Wall/WallConfig\";\r\nimport BossBullet from \"../BossBullet\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class BossAtt3 extends BossBullet {\r\n\r\n    @property()\r\n    bullect_type:number=0;\r\n\r\n    remain_time:number=0;\r\n    buff_value:number=0;\r\n\r\n    onLoad(): void {\r\n        super.addCollisionWallListen(this.onCollisionWall);\r\n    }\r\n    \r\n    setBuffData(remainTime:number,value:number){\r\n        this.remain_time=remainTime;\r\n        this.buff_value=value;\r\n    }\r\n\r\n    ////--------------------------------------碰撞开始----------------------------------------------------\r\n    onCollisionWall(wall:Wall) {\r\n        switch(this.bullect_type){\r\n            case 0:{\r\n                if(wall){\r\n                    let data=wall.beInjured(this.monster_att_data)\r\n                    super.destroySelf();\r\n                    if(data.getDamageNum()>0){\r\n                        GameEffectsManager.getInstance().createGameEffectById(GameEffectId.boss3_normal_attack_hit,this.node.getPosition());\r\n                        GameManager.getInstance().sound_manager.playSound(SoundIndex.YX_Boss3Skill1mingzhong);\r\n                    }\r\n                }\r\n            }break;\r\n            case 1:{\r\n                if(wall){\r\n                    let data=wall.beInjured(this.monster_att_data)\r\n                    super.destroySelf();\r\n                    if(data.getDamageNum()>0){\r\n                        GameEffectsManager.getInstance().createGameEffectById(GameEffectId.boss3_skill_1_hit,this.node.getPosition());\r\n                        GameManager.getInstance().sound_manager.playSound(SoundIndex.YX_Boss3Skill1mingzhong);\r\n                    }\r\n                    if(wall.getWallType()==WallType.Main){\r\n                        MyTool.randomSceneShakeBig();\r\n                        //减攻速\r\n                        GameManager.getInstance().all_hero.forEach((v,k)=>{\r\n                            let buffData=new BuffData();\r\n                            buffData.buff_id=BuffId.Boss3_JIAN_GongSu;\r\n                            buffData.remain_time=this.remain_time;\r\n                            buffData.buff_value=[this.buff_value];\r\n                            v.addDeBuff(buffData);\r\n                        })\r\n                    }\r\n                }\r\n            }break;\r\n        }        \r\n    }\r\n}\r\n"]}