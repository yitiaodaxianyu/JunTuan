{"version":3,"sources":["assets\\Scripts\\Ads\\VipManager.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { IsDebug } from \"../Constants\";\r\nimport GameData from \"../GameData\";\r\nimport MainUi from \"../UI/home/MainUi\";\r\n\r\n\r\nexport enum DingYue_Type\r\n{\r\n    Week=0,\r\n    Month,\r\n    Year,\r\n}\r\n\r\nexport enum Vip_Type\r\n{\r\n    A=0,\r\n    B,\r\n}\r\n\r\nexport class DYInfo{\r\n    des:string='vip';\r\n    price:string='$1.0';\r\n    currency:string='USD';\r\n}\r\n\r\nexport class VipManager {\r\n    static dy_info:DYInfo[]=[];\r\n\r\n    static vip_type:Vip_Type=Vip_Type.A;\r\n\r\n    static getIsVip():boolean\r\n    {\r\n        let num=cc.sys.localStorage.getItem('vip_level');\r\n        if(num===\"\" || num===null)\r\n        {\r\n            num=0;\r\n        }else\r\n        {\r\n            num=parseInt(num);\r\n        }\r\n        if(num>0)\r\n        {\r\n            return true;\r\n        }else\r\n        {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    static getVipStartTime()\r\n    {\r\n        let num=cc.sys.localStorage.getItem('vip_start_time');\r\n        if(num===\"\" || num===null)\r\n        {\r\n            num=0;\r\n        }else\r\n        {\r\n            num=parseInt(num);\r\n        }\r\n        return num;\r\n    }\r\n\r\n    static saveVipStartTime(dingyueType:DingYue_Type,vipType:Vip_Type)\r\n    {\r\n        this.vip_type=vipType;\r\n        let time=new Date().getTime();\r\n        cc.sys.localStorage.setItem('vip_start_time',time);\r\n        this.saveTotalDay(dingyueType);\r\n    }\r\n\r\n    static getVipTotalDay()\r\n    {\r\n        let num=cc.sys.localStorage.getItem('vip_total_day');\r\n        if(num===\"\" || num===null)\r\n        {\r\n            num=0;\r\n        }else\r\n        {\r\n            num=parseInt(num);\r\n        }\r\n        return num;\r\n    }\r\n\r\n    static saveTotalDay(dingyueType:DingYue_Type)\r\n    {\r\n        let num=7;\r\n        switch(dingyueType)\r\n        {\r\n            case DingYue_Type.Week: num=7; break;\r\n            case DingYue_Type.Month: num=30; break;\r\n            case DingYue_Type.Year: num=365; break;\r\n        }\r\n        cc.sys.localStorage.setItem('vip_total_day',num);\r\n    }\r\n\r\n    static getVipFreeNum():number\r\n    {\r\n        let num=cc.sys.localStorage.getItem('vip_free_num');\r\n        if(num===\"\" || num===null)\r\n        {\r\n            num=0;\r\n        }else\r\n        {\r\n            num=parseInt(num);\r\n        }\r\n        return num;\r\n    }\r\n\r\n    static subVipFreeNum():boolean\r\n    {\r\n        if(this.getIsVip()==true)\r\n        {\r\n            if(this.getVipFreeNum()>0)\r\n            {\r\n                let num=this.getVipFreeNum();\r\n                num--;\r\n                if(num>=0)\r\n                {\r\n                    this.saveVipFreeNum(num);\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    static saveVipFreeNum(num:number)\r\n    {\r\n        cc.sys.localStorage.setItem('vip_free_num',num);\r\n    }\r\n\r\n}\r\n\r\n"]}