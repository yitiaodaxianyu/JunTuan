{"version":3,"sources":["assets\\startscene\\WXManagerEX.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class WXManagerEX extends cc.Component {\r\n\r\n    private static _instance: WXManagerEX = null;\r\n\r\n    public statusBarHeight: number = 0;\r\n\r\n    public resourcesBundle: cc.AssetManager.Bundle = cc.resources;\r\n\r\n    //转盘奖励\r\n    public zhuanpanShipin;\r\n    //复活奖励\r\n    public fuhuoShipin;\r\n    //七日签到视频\r\n    public qiriQiandaoShipin;\r\n    //快速挂机视频\r\n    public kuaisuGuajiShipin;\r\n\r\n    //战令解锁视频\r\n    public zhanlingjiesuoShipin;\r\n    //免费钻石\r\n    public zuanshiiShipin;\r\n    //免费金币\r\n    public jinbiShipin;\r\n    //装备库抽奖\r\n    public zhuangbeikuShipin;\r\n    //门票购买\r\n    public cardByAd;\r\n\r\n\r\n    public static getInstance(): WXManagerEX {\r\n        if (this._instance == null) {\r\n            this._instance = new WXManagerEX();\r\n        }\r\n        return this._instance;\r\n    }\r\n\r\n   \r\n    public initData(): void {\r\n        this.getSystemInfo();\r\n        \r\n        if (cc.sys.platform === cc.sys.WECHAT_GAME) {\r\n            //wx.cloud.init();\r\n  \r\n            // this.fuhuoShipin = wx.createRewardedVideoAd({\r\n            //     adUnitId: 'adunit-81a1f1f3d7c367bb'\r\n            // });\r\n  \r\n           \r\n          \r\n           \r\n           \r\n\r\n         \r\n\r\n           \r\n\r\n            wx.onShow(this.showWX);\r\n            \r\n        }\r\n    }\r\n    private showWX(res):void{\r\n        console.log(JSON.stringify(res));\r\n       \r\n            if(this.sharFlag==true){\r\n                WXManagerEX.getInstance().sharFlag=false;\r\n                \r\n            }\r\n\r\n        \r\n        \r\n    }\r\n    public vibrateShort(): void {\r\n        if (cc.sys.platform === cc.sys.WECHAT_GAME) {\r\n            wx.vibrateShort({ type: \"medium\" });\r\n        }\r\n\r\n    }\r\n    public sharFlag:boolean=false;\r\n    public shareAppMessage():void{\r\n        if (cc.sys.platform === cc.sys.WECHAT_GAME) {\r\n            wx.shareAppMessage({\r\n                imageUrlId: \"d2CFfPcmRESFpy28mMsJWA==\",\r\n                imageUrl: \"https://mmocgame.qpic.cn/wechatgame/EGmcoSgicQus18ObjEjwSIjSJzMu2XD3z3gFVeuTXBGPD3n1UyfbgO8OlUebNibDVr/0\"\r\n              })\r\n        }\r\n        \r\n    }\r\n\r\n   \r\n    public getSystemInfo(): void {\r\n        if (cc.sys.platform === cc.sys.WECHAT_GAME) {\r\n            try {\r\n                const res = wx.getSystemInfoSync()\r\n                console.log(\"wx:\" + res.model);\r\n                console.log(\"statusBarHeight:\" + res.statusBarHeight);\r\n                if (res.statusBarHeight > 20) {\r\n                    WXManagerEX.getInstance().statusBarHeight = res.statusBarHeight;\r\n                }\r\n                wx.showShareMenu({\r\n                    withShareTicket: true,\r\n                    menus: ['shareAppMessage', 'shareTimeline']\r\n                })\r\n\r\n                wx.onShareAppMessage(function () {\r\n                    return {\r\n                      imageUrlId: \"d2CFfPcmRESFpy28mMsJWA==\",\r\n                      imageUrl: \"https://mmocgame.qpic.cn/wechatgame/EGmcoSgicQus18ObjEjwSIjSJzMu2XD3z3gFVeuTXBGPD3n1UyfbgO8OlUebNibDVr/0\"\r\n                    }\r\n                  })\r\n        \r\n\r\n            } catch (e) {\r\n                // Do something when catch error\r\n            }\r\n        }\r\n\r\n    }\r\n    start() {\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\nexport enum WXADEnvnt {\r\n    //转盘奖励\r\n    ZHUANPANJIANGLISHIPIN=\"ZHUANPANJIANGLISHIPIN\",\r\n    //签到双倍领取\r\n    QIRIQIANDAOSHIPIN=\"QIRIQIANDAOSHIPIN\",\r\n    //快速挂机\r\n    KUAISUGUAJISHIPIN=\"KUAISUGUAJISHIPIN\",\r\n    //战令解锁\r\n    ZHANLINGJIESUOSHIPIN=\"ZHANLINGJIESUOSHIPIN\",\r\n    //免费钻石\r\n    ZUANSHILINGQUSHIPIN=\"ZUANSHILINGQU\",\r\n    //免费金币\r\n    JINBISHIPIN=\"JINBISHIPIN\",\r\n    //装备库抽奖\r\n    ZHUANGBEICHOUJIANG=\"ZHUANGBEICHOUJIANG\",\r\n    //局内复活\r\n    JUNEIFUHUOSHIPIN=\"JUNEIFUHUOSHIPIN\"\r\n\r\n\r\n}"]}