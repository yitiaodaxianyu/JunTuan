{"version":3,"sources":["assets\\Scripts\\Tower\\TowerFightingUi.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,gDAA2C;AAC3C,8CAAyC;AACzC,oEAAmE;AACnE,mDAAkD;AAClD,0DAAqD;AACrD,iDAA4C;AAE5C,2CAAiD;AACjD,6CAAmD;AAE7C,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAA6C,mCAAW;IAAxD;;IAmCA,CAAC;IAjCG,8BAAI,GAAJ,UAAK,IAAc;QACf,iBAAM,IAAI,YAAC,IAAI,CAAC,CAAA;IACpB,CAAC;IAED,kCAAQ,GAAR,UAAS,KAAY;QACjB,IAAI,IAAI,GAAG,8BAAiB,CAAC,WAAW,EAAE,CAAC,eAAe,CAAC,KAAK,CAAC,CAAA;QACjE,IAAI,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC;QAChG,IAAI,CAAC,sBAAsB,EAAE,CAAC,OAAO,CAAC,UAAC,CAAC,EAAC,CAAC;YACtC,SAAS;YACT,IAAI,IAAI,GAAC,uCAAkB,CAAC,WAAW,EAAE,CAAC,iBAAiB,CAAC,CAAC,CAAC,EAAE,EAAC,CAAC,CAAC,KAAK,CAAC,CAAC;YAC1E,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAC3B,CAAC,CAAC,CAAC;QACH,IAAI,UAAU,GAAC,gCAAkB,CAAC,WAAW,EAAE,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;QACtE,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC;QAC5F,UAAU,CAAC,OAAO,CAAC,UAAC,CAAC,EAAC,CAAC;YACnB,IAAI,IAAI,GAAG,yBAAW,CAAC,WAAW,EAAE,CAAC,cAAc,CAAC,CAAC,CAAC,SAAS,EAAC,CAAC,CAAC,UAAU,CAAC,CAAC;YAC9E,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAC3B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,uCAAa,GAAb;QAEI,qBAAW,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,SAAS,CAAC,2BAAU,CAAC,KAAK,CAAC,CAAC;QACpE,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,qCAAW,GAAX;QAEI,iBAAM,OAAO,WAAE,CAAC;QAChB,oBAAU,CAAC,WAAW,EAAE,CAAC,WAAW,EAAE,CAAC;QACvC,oFAAoF;IACxF,CAAC;IAjCgB,eAAe;QADnC,OAAO;OACa,eAAe,CAmCnC;IAAD,sBAAC;CAnCD,AAmCC,CAnC4C,qBAAW,GAmCvD;kBAnCoB,eAAe","file":"","sourceRoot":"/","sourcesContent":["import ApkManager from \"../Ads/ApkManager\";\r\nimport GameManager from \"../GameManager\";\r\nimport { MonsterIconManager } from \"../Monster/MonsterIconManager\";\r\nimport { PropManager } from \"../Prop/PropManager\";\r\nimport { SoundIndex } from \"../Sound/AudioConstants\";\r\nimport UIComponent from \"../UI/UIComponent\";\r\nimport { UiAction } from \"../UI/UiInterface\";\r\nimport { TowerLevelManager } from \"./TowerLevel\";\r\nimport { TowerRewardManager } from \"./TowerReward\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class TowerFightingUi extends UIComponent {\r\n\r\n    init(uiAc: UiAction): void {\r\n        super.init(uiAc)\r\n    }\r\n\r\n    initData(level:number){\r\n        let data = TowerLevelManager.getInstance().getFightingInfo(level)\r\n        let content = this.node.getChildByName(\"monsterScrollView\").getComponent(cc.ScrollView).content;\r\n        data.getOnlyMonsterDataList().forEach((v,k) => {\r\n            // 怪物id列表\r\n            let icon=MonsterIconManager.getInstance().createMonsterIcon(v.id,v.level);\r\n            content.addChild(icon);\r\n        });\r\n        let rewardData=TowerRewardManager.getInstance().getRewardDatas(level);\r\n        content = this.node.getChildByName(\"rewardsScrollView\").getComponent(cc.ScrollView).content;\r\n        rewardData.forEach((v,k) => {\r\n            let item = PropManager.getInstance().createPropItem(v.reward_id,v.reward_num);\r\n            content.addChild(item);\r\n        });\r\n    }\r\n\r\n    clickBtnClose()\r\n    {\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        this.destroySelf();\r\n    }\r\n\r\n    destroySelf()\r\n    {\r\n        super.onClose();\r\n        ApkManager.getInstance().closeBanner();\r\n        // EventManager.postRedEvent(RedEventString.RED_CHECK,RedEventType.Btn_Main_SignIn);\r\n    }\r\n\r\n}\r\n"]}