{"version":3,"sources":["assets\\Scripts\\Monster\\Elite\\FishBully.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { GameState } from \"../../Constants\";\r\nimport { Enemy_State } from \"../../Enemy/EnemyConfig\";\r\nimport { GameEffectsManager, GameEffectId } from \"../../Game/GameEffectsManager\";\r\nimport GroundManager from \"../../Game/GroundManager\";\r\nimport GameManager from \"../../GameManager\";\r\nimport { BuffData } from \"../../Hero/Game/BuffData\";\r\nimport { BuffId, BuffType } from \"../../Hero/Game/HeroConfig\";\r\nimport Monster from \"../Monster\";\r\nimport { KeyFrameData } from \"../MonsterData\";\r\nimport MonsterManager from \"../MonsterManager\";\r\nimport MonsterNewNormal from \"../MonsterNewNormal\";\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class FishBully extends MonsterNewNormal {\r\n\r\n    light:cc.Node=null;\r\n    load_num:number=0;\r\n\r\n    protected onLoad(): void {\r\n        super.onLoad();\r\n        //GameEffectsManager.getInstance().addEffectPoolById(GameEffectId.monster68_niujiangjun_skill,1);\r\n        super.addMonsterNormalInited(this.onMonsterNormalInited);\r\n    }\r\n\r\n    onMonsterNormalInited () {       \r\n        //this.skill_cold_down[0]=this.skill_data.getSkillValue1(1);\r\n    }\r\n\r\n    startSkill(){\r\n        super.setEnemyState(Enemy_State.skill);\r\n        let data=new KeyFrameData();\r\n        data.name='Skill';\r\n        data.callback=()=>{            \r\n            //狂暴buff\r\n            let ysData=new BuffData();\r\n            ysData.buff_value=[this.skill_data.getSkillValue1(1)];\r\n            ysData.buff_id=BuffId.Elite71_FishBully_JiaYiSu;\r\n            ysData.buff_type=BuffType.MoveSpeedUp;\r\n            ysData.remain_time=this.skill_data.getSkillValue3(1);\r\n            super.addBuff(ysData);\r\n\r\n            let gsData=new BuffData();\r\n            gsData.buff_value=[this.skill_data.getSkillValue2(1)];\r\n            gsData.buff_id=BuffId.Elite71_FishBully_JiaGongSu;\r\n            gsData.buff_type=BuffType.AttSpeedUp;\r\n            gsData.remain_time=this.skill_data.getSkillValue3(1);\r\n\r\n            super.addBuff(gsData);\r\n            this.skill_cold_down[0]=this.skill_data.getSkillColdDown(1);\r\n        }\r\n        this.skill_cold_down[0]=this.skill_data.getSkillColdDown(1);\r\n        super.playSpinAnimaton(\"Side_Skill\",false,data,()=>{\r\n            this.startIdle();\r\n            this.setEnemyState(Enemy_State.move);\r\n        })\r\n    }\r\n\r\n    update (dt) {\r\n        if((GameManager.getInstance().cur_game_state!=GameState.Game_Playing)||this.getIsDie())\r\n        {\r\n            return;\r\n        }\r\n        super.update(dt);\r\n        this.checkSkill(dt);\r\n    }\r\n\r\n    checkSkill(dt:number){\r\n        for(let i=0; i<this.skill_cold_down.length; i++){\r\n            let isCanSkill=false;\r\n            if(this.skill_cold_down[i]>0){\r\n                this.skill_cold_down[i]-=dt;\r\n                if(this.skill_cold_down[i]<=0){\r\n                    isCanSkill=true;\r\n                }\r\n            }else{\r\n                isCanSkill=true;\r\n            }\r\n            if(isCanSkill){\r\n                //buff\r\n                this.startSkill();\r\n            }\r\n        }\r\n    }\r\n    \r\n}\r\n"]}