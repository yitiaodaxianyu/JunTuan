{"version":3,"sources":["assets\\Scripts\\RankingList\\RankingList.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAElF,wDAAmE;AACnE,2DAAiE;AACjE,2DAAiE;AAEjE,uFAAkF;AAElF,8CAAyC;AACzC,wDAAuD;AACvD,8DAAyD;AACzD,mDAAkD;AAClD,0DAAqD;AACrD,iDAA4C;AAC5C,2CAAsD;AACtD,6CAA4C;AAC5C,wCAAmC;AAE7B,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAyC,+BAAW;IAApD;QAAA,qEAkNC;QAhNG,iBAAW,GAAS,IAAI,CAAA,CAAA,MAAM;QAE9B,iBAAW,GAAS,IAAI,CAAA,CAAA,WAAW;QAGnC,aAAO,GAAS,IAAI,CAAA,CAAA,KAAK;QAGzB,gBAAU,GAAS,IAAI,CAAA,CAAA,IAAI;QAG3B,qBAAe,GAAS,IAAI,CAAA,CAAA,8BAA8B;QAG1D,kBAAY,GAAS,IAAI,CAAA,CAAA,IAAI;QAG7B,aAAO,GAAW,EAAE,CAAA,CAAA,MAAM;QAE1B,SAAG,GAAQ,GAAG,CAAA;QAGd,cAAQ,GAAkB,EAAE,CAAA,CAAA,OAAO;QAEnC,eAAS,GAAY,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAC,IAAI,EAAE,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAC,IAAI,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAA,CAAA,SAAS;QAE5G,SAAG,GAAQ,CAAC,CAAA,CAAA,yBAAyB;QAErC,UAAI,GAAU,CAAC,MAAM,EAAC,MAAM,EAAC,MAAM,CAAC,CAAA,CAAA,cAAc;QAGlD,mBAAa,GAAS,IAAI,CAAA,CAAA,QAAQ;QAElC,aAAO,GAAS,IAAI,CAAA,CAAA,IAAI;QAExB,mBAAa,GAAQ,CAAC,CAAC,CAAA,CAAA,QAAQ;;QA8J/B,sBAAsB;QACtB,0BAA0B;QAE1B,YAAY;QACZ,0BAA0B;QAE1B,wBAAwB;QAExB,eAAe;QAEf,aAAa;QAEb,IAAI;QAEJ,iBAAiB;IACrB,CAAC;IA5KG,4BAAM,GAAN,UAAO,IAAI;QAAX,iBAqDC;QApDG,KAAK,IAAI,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,SAAS,EAAE,EAAE;YACzE,IAAI,WAAW,GAAC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAA;YAChD,WAAW,CAAC,MAAM,GAAC,IAAI,CAAC,OAAO,CAAA;YAC/B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAA;SACjC;QACD,IAAI,WAAW,GAAC,CAAC,CAAC,CAAA;QAClB,IAAI,QAAQ,GAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,UAAU,CAAC,CAAA;QACxD,IAAI,IAAI,GAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,MAAM,CAAC,CAAA;QAChD,IAAI,SAAS,GAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,cAAc,CAAC,WAAW,CAAC,CAAA;QACzF,IAAG,WAAW,IAAE,CAAC,CAAC,EAAC;YACf,QAAQ,CAAC,MAAM,GAAC,KAAK,CAAA;YACrB,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,MAAM,GAAC,IAAI,CAAA;SAC3D;aAAI;YACD,QAAQ,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAC,EAAE,GAAC,CAAC,WAAW,CAAC,CAAA,CAAA,IAAI;YAC3D,QAAQ,CAAC,MAAM,GAAC,IAAI,CAAA;YACpB,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,MAAM,GAAC,KAAK,CAAA;SAC5D;QAED,IAAI,MAAM,GAAC,kBAAQ,CAAC,WAAW,EAAE,CAAC,WAAW,EAAE,CAAC,CAAC,MAAM;QACvD,IAAI,KAAK,GAAC,kBAAQ,CAAC,WAAW,EAAE,CAAC,aAAa,EAAE,CAAC,CAAA,MAAM;QACvD,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAC,EAAE,GAAC,MAAM,CAAA,CAAA,MAAM;QAClD,SAAS,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,WAAW,GAAC,yBAAW,CAAC,WAAW,EAAE,CAAC,qBAAqB,CAAC,KAAK,CAAC,CAAA,CAAA,MAAM;QAC1G,IAAI,IAAI,IAAI,CAAC,EAAE;YACX,IAAI,CAAC,GAAG,GAAC,CAAC,CAAA;YACV,IAAI,CAAC,eAAe,CAAC,MAAM,GAAC,KAAK,CAAA;YACjC,IAAI,CAAC,aAAa,CAAC,MAAM,GAAC,KAAK,CAAA;YAC/B,IAAI,CAAC,UAAU,CAAC,CAAC,GAAC,EAAE,CAAA;YACpB,IAAI,CAAC,WAAW,CAAC,CAAC,GAAC,CAAC,GAAG,CAAA;YACvB,IAAI,CAAC,YAAY,CAAC,CAAC,GAAC,EAAE,CAAA;YACtB,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,sBAAY,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,CAAA;SAC5D;aAAM,IAAI,IAAI,IAAI,CAAC,EAAE;YAClB,IAAI,CAAC,GAAG,GAAC,CAAC,CAAA;YACV,IAAI,CAAC,eAAe,CAAC,MAAM,GAAC,KAAK,CAAA;YACjC,IAAI,CAAC,aAAa,CAAC,MAAM,GAAC,IAAI,CAAA,CAAA,MAAM;YACpC,IAAI,CAAC,UAAU,CAAC,CAAC,GAAC,EAAE,CAAA;YACpB,IAAI,CAAC,WAAW,CAAC,CAAC,GAAC,CAAC,GAAG,CAAA;YACvB,IAAI,CAAC,YAAY,CAAC,CAAC,GAAC,EAAE,CAAA;YACtB,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,sBAAY,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,CAAA;SAC5D;aAAK,IAAG,IAAI,IAAE,CAAC,EAAC;YACb,IAAI,CAAC,GAAG,GAAC,CAAC,CAAA;YACV,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,SAAS,GAAC,IAAI,CAAA;YACvE,IAAI,CAAC,eAAe,CAAC,MAAM,GAAC,IAAI,CAAA;YAChC,IAAI,CAAC,aAAa,CAAC,MAAM,GAAC,KAAK,CAAA;YAC/B,IAAI,CAAC,UAAU,CAAC,CAAC,GAAC,CAAC,CAAA;YACnB,IAAI,CAAC,WAAW,CAAC,CAAC,GAAC,CAAC,GAAG,CAAA;YACvB,IAAI,CAAC,YAAY,CAAC,CAAC,GAAC,CAAC,CAAA;YACrB,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,sBAAY,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,CAAA;SAC5D;QACD,yBAAW,CAAC,IAAI,CAAC,wBAAU,CAAC,iBAAiB,EAAC,IAAI,CAAC,8BAA8B,CAAC,IAAI,CAAC,GAAG,CAAC,EAAC,IAAI,CAAC,CAAC,IAAI,CAAC,UAAC,IAAQ;YAC5G,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACvB,CAAC,CAAC,CAAC;QACH,iBAAiB;IACrB,CAAC;IACD,6BAAO,GAAP,UAAQ,IAAU;QAEd,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAA;QAC1D,IAAI,WAAW,GAAC,CAAC,CAAC,CAAA;QAClB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC;QACvB,gBAAgB;QAChB,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;YACtD,IAAG,KAAK,GAAC,IAAI,CAAC,GAAG,EAAC;gBACd,IAAI,aAAW,GAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,cAAc,CAAC,aAAa,CAAC,CAAA;gBACjE,IAAI,UAAQ,GAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,cAAc,CAAC,UAAU,CAAC,CAAA;gBAC3D,IAAI,MAAI,GAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,cAAc,CAAC,MAAM,CAAC,CAAA;gBACnD,IAAI,WAAS,GAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,cAAc,CAAC,WAAW,CAAC,CAAA;gBAC5F,aAAW,CAAC,YAAY,CAAC,sBAAY,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAA,CAAA,QAAQ;gBACjF,aAAW,CAAC,YAAY,CAAC,sBAAY,CAAC,CAAC,eAAe,CAAC,GAAG,EAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,GAAC,EAAE,CAAC,CAAC,CAAA,SAAS;gBAC5F,UAAQ,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAC,EAAE,GAAC,CAAC,KAAK,GAAC,CAAC,CAAC,CAAA,CAAA,IAAI;gBACvD,MAAI,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAA,CAAA,MAAM;gBACzD,WAAS,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,WAAW,GAAC,yBAAW,CAAC,WAAW,EAAE,CAAC,qBAAqB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,CAAA,CAAA,MAAM;gBACzH,IAAG,KAAK,GAAC,CAAC,EAAC;oBACP,UAAQ,CAAC,MAAM,GAAC,KAAK,CAAA;oBACrB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,WAAW,GAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA,CAAA,WAAW;oBACvF,MAAI,CAAC,KAAK,GAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAA;iBACnC;qBAAI;oBACD,UAAQ,CAAC,MAAM,GAAC,IAAI,CAAA;iBACvB;gBACD,IAAG,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAE,kBAAQ,CAAC,WAAW,EAAE,CAAC,SAAS,EAAE,EAAC,EAAK,0DAA0D;oBAClH,WAAW,GAAC,CAAC,KAAK,GAAC,CAAC,CAAC,CAAA;iBACxB;gBACD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,MAAM,GAAC,IAAI,CAAA;aAClC;iBAAI;gBACD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,MAAM,GAAC,KAAK,CAAA;aACnC;SACJ;QACD,IAAI,WAAW,GAAC,CAAC,CAAA,CAAA,kDAAkD;QACnE,IAAG,IAAI,CAAC,GAAG,IAAE,CAAC,EAAC;YACX,WAAW,GAAC,yBAAW,CAAC,WAAW,EAAE,CAAC,gBAAgB,EAAE,CAAA,CAAA,MAAM;SACjE;QACD,IAAG,IAAI,CAAC,GAAG,IAAE,CAAC,EAAC;YACX,WAAW,GAAC,oCAAoB,CAAC,WAAW,EAAE,CAAC,UAAU,EAAE,CAAA,CAAA,oDAAoD;SAClH;QACD,IAAG,IAAI,CAAC,GAAG,IAAE,CAAC,EAAC;YACX,WAAW,GAAC,oCAAoB,CAAC,WAAW,EAAE,CAAC,kBAAkB,EAAE,CAAA,CAAA,MAAM;SAC5E;QAED,IAAI,WAAW,GAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,aAAa,CAAC,CAAA;QAC9D,IAAI,QAAQ,GAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,UAAU,CAAC,CAAA;QACxD,IAAI,IAAI,GAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,MAAM,CAAC,CAAA;QAChD,IAAI,SAAS,GAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,cAAc,CAAC,WAAW,CAAC,CAAA;QACzF,WAAW,CAAC,YAAY,CAAC,sBAAY,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAA,CAAA,QAAQ;QACjF,WAAW,CAAC,YAAY,CAAC,sBAAY,CAAC,CAAC,eAAe,CAAC,GAAG,EAAC,CAAC,WAAW,CAAC,GAAC,EAAE,CAAC,CAAC,CAAA,SAAS;QAEtF,IAAI,CAAC,aAAa,GAAC,WAAW,CAAA;QAC9B,IAAG,WAAW,IAAE,CAAC,CAAC,EAAC;YACf,QAAQ,CAAC,MAAM,GAAC,KAAK,CAAA;YACrB,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,MAAM,GAAC,IAAI,CAAA;SAC3D;aAAI;YACD,QAAQ,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAC,EAAE,GAAC,CAAC,WAAW,CAAC,CAAA,CAAA,IAAI;YAC3D,QAAQ,CAAC,MAAM,GAAC,IAAI,CAAA;YACpB,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,MAAM,GAAC,KAAK,CAAA;SAC5D;QAED,IAAI,MAAM,GAAC,kBAAQ,CAAC,WAAW,EAAE,CAAC,WAAW,EAAE,CAAC,CAAC,MAAM;QACvD,IAAI,KAAK,GAAC,kBAAQ,CAAC,WAAW,EAAE,CAAC,aAAa,EAAE,CAAC,CAAA,MAAM;QACvD,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAC,EAAE,GAAC,MAAM,CAAA,CAAA,MAAM;QAClD,SAAS,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,WAAW,GAAC,yBAAW,CAAC,WAAW,EAAE,CAAC,qBAAqB,CAAC,KAAK,CAAC,CAAA,CAAA,MAAM;IAC9G,CAAC;IACD,oCAAc,GAAd,UAAe,IAAI,EAAC,CAAC;QAArB,iBAMC;QALG,gCAAgC;QAChC,IAAI,CAAC,GAAG,GAAC,CAAC,CAAA;QACV,yBAAW,CAAC,IAAI,CAAC,wBAAU,CAAC,iBAAiB,EAAC,IAAI,CAAC,8BAA8B,CAAC,IAAI,CAAC,GAAG,CAAC,EAAC,IAAI,CAAC,CAAC,IAAI,CAAC,UAAC,IAAQ;YAC5G,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACvB,CAAC,CAAC,CAAC;IACP,CAAC;IACD,mCAAa,GAAb;QAEI,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;YACtD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,MAAM,GAAC,KAAK,CAAA;SACnC;QACD,qBAAW,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,SAAS,CAAC,2BAAU,CAAC,KAAK,CAAC,CAAC;QACpE,IAAI,CAAC,OAAO,EAAE,CAAC;IACnB,CAAC;IAEO,oDAA8B,GAAtC,UAAuC,IAAW;QAC9C,IAAI,GAAG,GAAC,kBAAQ,CAAC,WAAW,EAAE,CAAC,SAAS,EAAE,CAAC;QAC3C,OAAO,IAAI,CAAC,SAAS,CAAC;YAClB,KAAK,EAAC,GAAG;YACT,IAAI,EAAC,IAAI;SACZ,CAAC,CAAC;IACP,CAAC;IAED,2CAAqB,GAArB;QAAA,iBASC;QARG,qBAAS,CAAC,WAAW,EAAE,CAAC,YAAY,CAAC,iBAAM,CAAC,oBAAoB,EAAC,uBAAY,CAAC,KAAK,EAAC,EAAC,WAAW,EAAC,UAAC,MAAM;gBACpG,MAAM,CAAC,YAAY,CAAC,8BAAoB,CAAC,CAAC,IAAI,CAAC;oBAC3C,OAAO,EAAC;oBAER,CAAC;iBACJ,CAAC,CAAA;gBACF,MAAM,CAAC,YAAY,CAAC,8BAAoB,CAAC,CAAC,MAAM,CAAC,KAAI,CAAC,aAAa,CAAC,CAAA,CAAA,aAAa;YACrF,CAAC,GAAE,CAAC,CAAC;IACT,CAAC;IA5LD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;oDACM;IAExB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;oDACM;IAGxB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;gDACE;IAGpB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;mDACK;IAGvB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;wDACU;IAG5B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;qDACO;IAQzB;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;iDACG;IAS5B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;sDACQ;IAE1B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;gDACE;IAnCH,WAAW;QAD/B,OAAO;OACa,WAAW,CAkN/B;IAAD,kBAAC;CAlND,AAkNC,CAlNwC,qBAAW,GAkNnD;kBAlNoB,WAAW","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport { AccessName, HttpManager } from \".././NetWork/HttpManager\";\r\nimport { BossChallengeManager } from \"../Activity/BossChallenge\";\r\nimport { EndlessLevelsManager } from \"../Activity/EndlessLevels\";\r\nimport purchasesnumbe from \"../copy/endlesschallenges/purchasesnumbe\";\r\nimport rankingrewarddisplay from \"../copy/endlesschallenges/rankingrewarddisplay\";\r\nimport rewarddisplay from \"../copy/endlesschallenges/rewarddisplay\";\r\nimport GameManager from \"../GameManager\";\r\nimport { HeroManager } from \"../Hero/Data/HeroManager\";\r\nimport TextLanguage from \"../multiLanguage/TextLanguage\";\r\nimport { PropManager } from \"../Prop/PropManager\";\r\nimport { SoundIndex } from \"../Sound/AudioConstants\";\r\nimport UIComponent from \"../UI/UIComponent\";\r\nimport { UIPath, UILayerLevel } from \"../UI/UIConfig\";\r\nimport { UIManager } from \"../UI/UIManager\";\r\nimport UserData from \"../UserData\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class RankingList extends UIComponent {\r\n    @property(cc.Node)\r\n    Rankingitme:cc.Node=null//排行节点\r\n    @property(cc.Node)\r\n    RankingSelf:cc.Node=null//玩家自己的排行节点\r\n    \r\n    @property(cc.Node)\r\n    content:cc.Node=null//父节点\r\n    \r\n    @property(cc.Node)\r\n    ScrollView:cc.Node=null//列表\r\n    \r\n    @property(cc.Node)\r\n    ToggleContainer:cc.Node=null//选项    战力      无尽挑战    boss挑战\r\n        \r\n    @property(cc.Node)\r\n    Ranking_Bg_0:cc.Node=null//背景\r\n    \r\n\r\n    Ranking:cc.Node[]=[]//排行节点\r\n\r\n    max:number=100\r\n\r\n    @property(cc.SpriteFrame)\r\n    bgsprite:cc.SpriteFrame[]=[]//前三的背景\r\n\r\n    namecolor:cc.Color[]=[new cc.Color(94, 62, 41),new cc.Color(50, 75, 105),new cc.Color(108, 68, 54)]//前三的名字颜色\r\n\r\n    tag:number=1//选择显示的排行榜   默认是1   点击之后变\r\n\r\n    text:number[]=[100126,100128,100129]//战力:~波数:~伤害:~\r\n\r\n    @property(cc.Node)\r\n    btnViewAwards:cc.Node=null//查看奖励按钮\r\n    @property(cc.Node)\r\n    winText:cc.Node=null//标题\r\n    \r\n    myselfranking:number=-1//玩家默认排名\r\n    initUi(type) {//\r\n        for (let itmeindex = this.Ranking.length; itmeindex < this.max; itmeindex++) {\r\n            let rankingitme=cc.instantiate(this.Rankingitme)\r\n            rankingitme.parent=this.content\r\n            this.Ranking.push(rankingitme)\r\n        }\r\n        let selfranking=-1\r\n        let SerialNo=this.RankingSelf.getChildByName(\"SerialNo\")\r\n        let name=this.RankingSelf.getChildByName(\"name\")\r\n        let btnAvatar=this.RankingSelf.getChildByName(\"headPortrait\").getChildByName(\"btnAvatar\")\r\n        if(selfranking==-1){\r\n            SerialNo.active=false\r\n            this.RankingSelf.getChildByName(\"Notlisted\").active=true\r\n        }else{\r\n            SerialNo.getComponent(cc.Label).string=\"\"+(selfranking)//序号\r\n            SerialNo.active=true\r\n            this.RankingSelf.getChildByName(\"Notlisted\").active=false\r\n        }\r\n\r\n        let myname=UserData.getInstance().getUserName(); //玩家名字\r\n        let sphea=UserData.getInstance().getUserAvatar();//玩家头像\r\n        name.getComponent(cc.Label).string=\"\"+myname//玩家名字\r\n        btnAvatar.getComponent(cc.Sprite).spriteFrame=PropManager.getInstance().getSpheadPortraitType(sphea)//头像id\r\n        if (type == 2) {\r\n            this.tag=2\r\n            this.ToggleContainer.active=false\r\n            this.btnViewAwards.active=false\r\n            this.ScrollView.y=60\r\n            this.RankingSelf.y=-330\r\n            this.Ranking_Bg_0.y=60\r\n            this.winText.getComponent(TextLanguage).setTextId(800003)\r\n        } else if (type == 3) {\r\n            this.tag=3\r\n            this.ToggleContainer.active=false\r\n            this.btnViewAwards.active=true//true\r\n            this.ScrollView.y=90\r\n            this.RankingSelf.y=-298\r\n            this.Ranking_Bg_0.y=90\r\n            this.winText.getComponent(TextLanguage).setTextId(800013)\r\n        }else if(type==1){\r\n            this.tag=1\r\n            this.ToggleContainer.children[0].getComponent(cc.Toggle).isChecked=true\r\n            this.ToggleContainer.active=true\r\n            this.btnViewAwards.active=false\r\n            this.ScrollView.y=0\r\n            this.RankingSelf.y=-380\r\n            this.Ranking_Bg_0.y=0\r\n            this.winText.getComponent(TextLanguage).setTextId(200006)\r\n        }\r\n        HttpManager.post(AccessName.leaderboardByUser,this.getLeaderboardByUserJsonString(this.tag),true).then((data:any) =>{\r\n            this.Refresh(data); \r\n        });\r\n        // this.Refresh()\r\n    }\r\n    Refresh(data:any[]){\r\n        \r\n        this.ScrollView.getComponent(cc.ScrollView).scrollToTop(1)\r\n        let selfranking=-1\r\n        this.max = data.length;\r\n        //后台拉取排名前100名的玩家\r\n        for (let index = 0; index < this.Ranking.length; index++) {\r\n            if(index<this.max){\r\n                let CombatPower=this.Ranking[index].getChildByName(\"CombatPower\")\r\n                let SerialNo=this.Ranking[index].getChildByName(\"SerialNo\")\r\n                let name=this.Ranking[index].getChildByName(\"name\")\r\n                let btnAvatar=this.Ranking[index].getChildByName(\"headPortrait\").getChildByName(\"btnAvatar\")\r\n                CombatPower.getComponent(TextLanguage).setTextId(this.text[this.tag - 1])//是哪个排行榜\r\n                CombatPower.getComponent(TextLanguage).setReplaceValue('~',(data[index].value)+'');//排行榜战力数据\r\n                SerialNo.getComponent(cc.Label).string=\"\"+(index+1)//序号\r\n                name.getComponent(cc.Label).string=data[index].name//玩家名字\r\n                btnAvatar.getComponent(cc.Sprite).spriteFrame=PropManager.getInstance().getSpheadPortraitType(data[index].avatarId)//头像id\r\n                if(index<3){\r\n                    SerialNo.active=false\r\n                    this.Ranking[index].getComponent(cc.Sprite).spriteFrame=this.bgsprite[index]//前三名的背景不一样\r\n                    name.color=this.namecolor[index]\r\n                }else{\r\n                    SerialNo.active=true\r\n                }\r\n                if(data[index].uid==UserData.getInstance().getUserID()){    //如果在后台拉取的排名中有id跟玩家的id一样，那么玩家的排名在前100名中  将显示玩家排名   否则显示未上榜\r\n                    selfranking=(index+1)\r\n                }\r\n                this.Ranking[index].active=true\r\n            }else{\r\n                this.Ranking[index].active=false\r\n            }\r\n        }\r\n        let combatPower=0//HeroManager.getInstance().getAllHeroZhanli()// 1\r\n        if(this.tag==1){\r\n            combatPower=HeroManager.getInstance().getAllHeroZhanli()//获取战力\r\n        }\r\n        if(this.tag==2){\r\n            combatPower=EndlessLevelsManager.getInstance().getMaxWave()//HeroManager.getInstance().getAllHeroZhanli()//获取波数\r\n        }\r\n        if(this.tag==3){\r\n            combatPower=BossChallengeManager.getInstance().getMaxDamageNumber()//获取伤害\r\n        }\r\n\r\n        let CombatPower=this.RankingSelf.getChildByName(\"CombatPower\")\r\n        let SerialNo=this.RankingSelf.getChildByName(\"SerialNo\")\r\n        let name=this.RankingSelf.getChildByName(\"name\")\r\n        let btnAvatar=this.RankingSelf.getChildByName(\"headPortrait\").getChildByName(\"btnAvatar\")\r\n        CombatPower.getComponent(TextLanguage).setTextId(this.text[this.tag - 1])//是哪个排行榜\r\n        CombatPower.getComponent(TextLanguage).setReplaceValue('~',(combatPower)+'');//排行榜战力数据\r\n\r\n        this.myselfranking=selfranking\r\n        if(selfranking==-1){\r\n            SerialNo.active=false\r\n            this.RankingSelf.getChildByName(\"Notlisted\").active=true\r\n        }else{\r\n            SerialNo.getComponent(cc.Label).string=\"\"+(selfranking)//序号\r\n            SerialNo.active=true\r\n            this.RankingSelf.getChildByName(\"Notlisted\").active=false\r\n        }\r\n\r\n        let myname=UserData.getInstance().getUserName(); //玩家名字\r\n        let sphea=UserData.getInstance().getUserAvatar();//玩家头像\r\n        name.getComponent(cc.Label).string=\"\"+myname//玩家名字\r\n        btnAvatar.getComponent(cc.Sprite).spriteFrame=PropManager.getInstance().getSpheadPortraitType(sphea)//头像id\r\n    }\r\n    clickBtnToggle(even,i){//单选按钮的选择\r\n        // console.log(\"+++++++\",even,i)\r\n        this.tag=i\r\n        HttpManager.post(AccessName.leaderboardByUser,this.getLeaderboardByUserJsonString(this.tag),true).then((data:any) =>{\r\n            this.Refresh(data); \r\n        });\r\n    }\r\n    clickBtnClose()//关闭\r\n    {\r\n        for (let index = 0; index < this.Ranking.length; index++) {\r\n            this.Ranking[index].active=false\r\n        }\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        this.onClose();\r\n    }\r\n\r\n    private getLeaderboardByUserJsonString(type:number):string{\r\n        let uid=UserData.getInstance().getUserID();\r\n        return JSON.stringify({\r\n            limit:100,\r\n            type:type,\r\n        });\r\n    }\r\n\r\n    clickBtnRewardDisplay(){//奖励展示\r\n        UIManager.getInstance().showUiDialog(UIPath.RankingRewardDisplay,UILayerLevel.Three,{onCompleted:(uiNode)=> {\r\n            uiNode.getComponent(rankingrewarddisplay).init({\r\n                onClose:()=>{\r\n\r\n                }\r\n            })\r\n            uiNode.getComponent(rankingrewarddisplay).initUi(this.myselfranking)//排名  默认-1   \r\n        },});\r\n    }\r\n\r\n\r\n\r\n\r\n    // @property(cc.Label)\r\n    // label: cc.Label = null;\r\n\r\n    // @property\r\n    // text: string = 'hello';\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {}\r\n\r\n    // start () {\r\n\r\n    // }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}