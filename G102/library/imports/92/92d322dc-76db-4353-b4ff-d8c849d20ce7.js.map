{"version":3,"sources":["assets\\Scripts\\UI\\Dialog.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import GameManager from \"../GameManager\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Dialog extends cc.Component {\r\n\r\n    @property({tooltip:'按钮与底部的距离'})\r\n    btn_bottom:number=30;\r\n    @property({tooltip:'文字与顶部的距离'})\r\n    text_top:number=20;\r\n\r\n    @property({tooltip:'文字与按钮的距离'})\r\n    text_btn:number=20;\r\n    @property({tooltip:'整体补间高度'})\r\n    filling_height:number = 40;\r\n\r\n    yes_callback:Function=null;\r\n    no_callback:Function=null;\r\n\r\n    clickBtnYes()\r\n    {\r\n        GameManager.getInstance().is_show_exit=false;\r\n        if(this.yes_callback)\r\n        {\r\n            this.yes_callback();\r\n        }\r\n        this.node.removeFromParent();        \r\n    }\r\n\r\n    clickBtnNo()\r\n    {\r\n        GameManager.getInstance().is_show_exit=false;\r\n        if(this.no_callback)\r\n        {\r\n            this.no_callback();\r\n        }\r\n        this.node.removeFromParent();\r\n    }\r\n    /**\r\n     * \r\n     * @param message 显示的消息\r\n     * @param yesCallback 点击yes按钮的回调\r\n     * @param noCallback 点击no按钮的回调\r\n     * @param showType 显示类型，0或者不填就是普通类型，1：视频，2：计费\r\n     */\r\n    showDialog(message:string,yesCallback:Function,noCallback:Function,showType?:number,num?:number | string,currency?:string)\r\n    {\r\n        this.yes_callback=yesCallback;\r\n        this.no_callback=noCallback;\r\n        let hintLabel=this.node.getChildByName('hintLabel').getComponent(cc.Label);\r\n        hintLabel.string=message;\r\n        this.node.opacity=0;\r\n        hintLabel.enabled=false;\r\n        cc.tween(this.node).delay(0.05).call(()=>{\r\n            hintLabel.enabled=true;\r\n            let btnYes=this.node.getChildByName('btnYes');\r\n            let btnNo=this.node.getChildByName('btnNo');\r\n            let btnHeight=btnYes.height;\r\n            this.node.height=hintLabel.node.height+btnHeight+this.btn_bottom+this.text_top+this.text_top + this.filling_height;\r\n            hintLabel.node.y=this.node.height/2-this.text_top;\r\n            btnYes.y=-this.node.height/2+this.btn_bottom+btnHeight/2;\r\n            this.node.getChildByName(\"line\").y = btnYes.y + 70;\r\n            btnNo.y=btnYes.y;\r\n            if(showType==1)\r\n            {\r\n                btnYes.getChildByName('layout').getChildByName('ads').active=true;\r\n            }\r\n            if(showType==2)\r\n            {\r\n                // btnYes.getChildByName('layout').getChildByName('yes').getComponent(cc.Label).string=num+currency;\r\n                btnYes.getChildByName('layout').getChildByName('yes').getComponent(cc.Label).string=String(num);\r\n            }\r\n        }).to(0.2,{opacity:255}).start();\r\n        // this.scheduleOnce(()=>{\r\n        //     this.node.opacity=255;\r\n        //     hintLabel.enabled=true;\r\n        //     let btnYes=this.node.getChildByName('btnYes');\r\n        //     let btnNo=this.node.getChildByName('btnNo');\r\n        //     let btnHeight=btnYes.height;\r\n        //     this.node.height=hintLabel.node.height+btnHeight+this.btn_bottom+this.text_top+this.text_top;\r\n        //     hintLabel.node.y=this.node.height/2-this.text_top;\r\n        //     btnYes.y=-this.node.height/2+this.btn_bottom+btnHeight/2;\r\n        //     btnNo.y=btnYes.y;\r\n        //     if(isVideo==true)\r\n        //     {\r\n        //         btnYes.getChildByName('layout').getChildByName('ads').active=true;\r\n        //     }\r\n        // },0.05);\r\n    }\r\n}\r\n\r\n"]}