{"version":3,"sources":["assets\\Scripts\\Monster\\Monster.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,oDAA2G;AAC3G,iDAA4C;AAC5C,iEAA8E;AAC9E,8CAAyC;AAEzC,6CAAwL;AACxL,4DAAwF;AACxF,mDAA8C;AAC9C,0EAA6G;AAC7G,uDAAkD;AAClD,0CAA8D;AAE9D,2DAAiE;AACjE,sDAA+G;AAC/G,oDAA+C;AAC/C,kDAAiD;AACjD,qDAAgD;AAEhD,0DAAqD;AACrD,oDAA0D;AAE1D,mDAA8C;AAIxC,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAC1C,uBAAuB;AAEvB;IAAqC,2BAAY;IAAjD;QAAA,qEAqjDC;QAnjDa,WAAK,GAAc,IAAI,CAAC;QAClC,UAAU;QACA,eAAS,GAAiB,6BAAe,CAAC,KAAK,CAAC;QAC1D,UAAU;QACH,gBAAU,GAAS,KAAK,CAAC;QAChC,UAAU;QACA,mBAAa,GAAQ,CAAC,CAAC;QACjC,YAAY;QACF,qBAAe,GAAQ,CAAC,CAAC;QACnC,UAAU;QACH,kBAAY,GAAS,CAAC,CAAC;QAC9B,sBAAsB;QACZ,kBAAY,GAA8B,IAAI,CAAC;QACzD,oBAAoB;QACV,yBAAmB,GAA8B,IAAI,CAAC;QAChE,aAAa;QACH,eAAS,GAAuB,IAAI,CAAC;QAC/C,aAAa;QACb,sBAAgB,GAAiB,IAAI,CAAC;QAC5B,oBAAc,GAAS,CAAC,CAAC;QACzB,qBAAe,GAAU,IAAI,CAAC;QAC9B,oBAAc,GAAQ,IAAI,CAAC,EAAE,GAAC,CAAC,GAAC,CAAC,CAAC;QAC5C,UAAU;QACA,eAAS,GAAiB,6BAAe,CAAC,KAAK,CAAC;QAC1D,WAAW;QACD,YAAM,GAAS,CAAC,CAAC;QAC3B,WAAW;QACD,YAAM,GAAS,CAAC,CAAC;QAC3B,WAAW;QACD,iBAAW,GAAgB,IAAI,CAAC;QAC1C,QAAQ;QACE,YAAM,GAAU,IAAI,CAAC;QAC/B,gBAAU,GAAU,IAAI,CAAC;QACzB,iBAAW,GAAU,IAAI,CAAC;QAC1B,SAAS;QACT,oBAAc,GAAQ,CAAC,CAAC;QACxB,SAAS;QACT,oBAAc,GAAQ,CAAC,CAAC;QACxB,uBAAuB;QACb,gBAAU,GAAS,CAAC,CAAC;QAC/B,UAAU;QACA,eAAS,GAAS,CAAC,CAAC;QAC9B,UAAU;QACA,iBAAW,GAAS,CAAC,CAAC;QAChC,YAAY;QACF,aAAO,GAAS,CAAC,CAAC;QAC5B,WAAW;QACD,mBAAa,GAAQ,CAAC,CAAC;QACjC,4BAA4B;QAClB,gBAAU,GAAS,IAAI,CAAC;QAClC,aAAa;QACH,mBAAa,GAAc,yBAAW,CAAC,OAAO,CAAC;QACzD,aAAa;QACH,gBAAU,GAAc,yBAAW,CAAC,OAAO,CAAC;QACtD,iBAAiB;QACP,kBAAY,GAAwB,IAAI,CAAC;QACnD,mBAAmB;QACT,oBAAc,GAAwB,IAAI,CAAC;QACrD,WAAW;QACD,iBAAW,GAAQ,GAAG,CAAC;QACvB,aAAO,GAAS,KAAK,CAAC;QACzB,kBAAY,GAAS,IAAI,CAAC;QACvB,cAAQ,GAAS,IAAI,CAAC;QAChC,aAAa;QACH,aAAO,GAAQ,CAAC,CAAC;QACjB,aAAO,GAAS,EAAE,CAAC,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;QACrC,QAAQ;QACD,WAAK,GAAQ,CAAC,CAAC;QACtB,aAAa;QACH,cAAQ,GAAS,EAAE,CAAC,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;QACtC,WAAW;QACD,YAAM,GAAS,EAAE,CAAC,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;QACpC,iBAAiB;QACP,gBAAU,GAAS,EAAE,CAAC,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;QACxC,MAAM;QACI,oBAAc,GAAU,IAAI,CAAC;QAEvC,WAAW;QACH,mBAAa,GAAU,IAAI,CAAC;QACpC,kBAAkB;QACV,wBAAkB,GAAU,IAAI,CAAC;QACzC,sBAAsB;QACd,sBAAgB,GAAU,IAAI,CAAC;QACvC,gCAAgC;QACxB,oBAAc,GAAU,IAAI,CAAC;QACrC,iBAAiB;QACT,4BAAsB,GAAU,IAAI,CAAC;QAC7C,eAAe;QACL,uBAAiB,GAAU,IAAI,CAAC;QAC1C,gBAAgB;QACR,yBAAmB,GAAoB,IAAI,CAAC;QACpD,YAAY;QACZ,kBAAY,GAAS,KAAK,CAAC;QAC3B,WAAW;QACH,kBAAY,GAAsB,IAAI,CAAC;QAC/C,YAAY;QACJ,kBAAY,GAAQ,CAAC,CAAC;QAC9B,YAAY;QACJ,sBAAgB,GAAQ,CAAC,CAAC;QAClC,aAAa;QACL,yBAAmB,GAAQ,CAAC,CAAC;QACrC,qFAAqF;QACrF,UAAU;QACV,gBAAU,GAAkB,IAAI,CAAC;QACjC,kBAAkB;QAClB,qBAAe,GAAU,EAAE,CAAC;QAC5B,UAAU;QACV,iBAAW,GAAU,EAAE,CAAC;QACxB,mBAAmB;QACnB,qBAAe,GAAQ,CAAC,CAAC;QACzB,SAAS;QACT,cAAQ,GAAa,IAAI,CAAC;QAC1B,YAAY;QACZ,cAAQ,GAAM,IAAI,CAAC;QACnB,YAAY;QACZ,iBAAW,GAAQ,CAAC,CAAC;QAErB,eAAS,GAAW,uBAAS,CAAC,IAAI,CAAC;;IA87CvC,CAAC;IA57Ca,wBAAM,GAAhB;QAEI,IAAI,CAAC,KAAK,GAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;QAC/C,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,OAAO,GAAC,qBAAW,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC;QACnD,IAAI,CAAC,YAAY,GAAC,IAAI,GAAG,EAAoB,CAAC;QAC9C,IAAI,CAAC,cAAc,GAAC,IAAI,GAAG,EAAoB,CAAC;QAChD,IAAI,CAAC,YAAY,GAAC,IAAI,GAAG,EAAmB,CAAC;QAC7C,IAAI,CAAC,QAAQ,GAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;QAClD,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAC,IAAI,CAAC;IAC/B,CAAC;IAED,sBAAI,GAAJ,UAAK,SAAiB,EAAC,KAAY,EAAC,MAAa,EAAC,UAAuB;QAAvB,2BAAA,EAAA,iBAAuB;QACrE,IAAI,CAAC,UAAU,GAAC,SAAS,CAAC;QAC1B,IAAI,CAAC,aAAa,GAAC,KAAK,CAAC;QACzB,IAAI,CAAC,eAAe,GAAC,MAAM,CAAC;QAC5B,IAAI,QAAQ,GAAC,0CAAuB,CAAC,WAAW,EAAE,CAAC,uBAAuB,CAAC,SAAS,CAAC,CAAC;QACtF,IAAI,CAAC,YAAY,GAAC,QAAQ,CAAC,YAAY,CAAC;QACxC,IAAI,WAAW,GAAC,wDAA8B,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,EAAC,KAAK,CAAC,CAAC;QAC5E,IAAI,CAAC,mBAAmB,GAAC,wDAA8B,CAAC,WAAW,EAAE,CAAC,8BAA8B,CAAC,WAAW,CAAC,CAAC;QAClH,IAAI,CAAC,YAAY,GAAC,IAAI,CAAC;QACvB,IAAI,CAAC,YAAY,GAAC,UAAU,CAAC;QAC7B,IAAI,CAAC,QAAQ,GAAC,IAAI,CAAC,YAAY,CAAC;QAChC,IAAI,CAAC,YAAY,GAAC,CAAC,CAAC;QACpB,IAAI,CAAC,gBAAgB,GAAC,CAAC,CAAC;QACxB,0CAA0C;QAC1C,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QACxB,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,IAAI,CAAC,aAAa,CAAC,yBAAW,CAAC,OAAO,CAAC,CAAC;QACxC,IAAI,CAAC,QAAQ,CAAC,uBAAS,CAAC,IAAI,CAAC,CAAC;QAC9B,IAAI,CAAC,QAAQ,GAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;QAClD,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAC,IAAI,CAAC;QAC3B,IAAI,CAAC,WAAW,GAAC,CAAC,CAAC;QACnB,IAAG,IAAI,CAAC,aAAa,EAAC;YAClB,IAAI,CAAC,aAAa,EAAE,CAAC;SACxB;QACD,0BAA0B;QAC1B,iFAAiF;IACrF,CAAC;IAED,4BAAU,GAAV,UAAW,SAAiB,EAAC,aAAyC;QAClE,IAAI,CAAC,UAAU,GAAC,SAAS,CAAC;QAC1B,IAAI,QAAQ,GAAC,0CAAuB,CAAC,WAAW,EAAE,CAAC,uBAAuB,CAAC,SAAS,CAAC,CAAC;QACtF,IAAI,CAAC,YAAY,GAAC,QAAQ,CAAC,YAAY,CAAC;QACxC,IAAI,CAAC,YAAY,GAAC,IAAI,CAAC;QACvB,IAAI,CAAC,YAAY,GAAC,KAAK,CAAC;QACxB,IAAI,CAAC,QAAQ,GAAC,IAAI,CAAC,YAAY,CAAC;QAChC,IAAI,CAAC,mBAAmB,GAAC,EAAE,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;QACvD,QAAO,QAAQ,CAAC,YAAY,EAAC;YACzB,KAAK,0BAAY,CAAC,KAAK;gBAAC;oBACpB,IAAI,CAAC,mBAAmB,CAAC,MAAM,GAAC,aAAa,CAAC,MAAM,GAAC,EAAE,CAAC;oBACxD,IAAI,CAAC,mBAAmB,CAAC,MAAM,GAAC,aAAa,CAAC,MAAM,GAAC,MAAM,CAAC;oBAC5D,IAAI,CAAC,mBAAmB,CAAC,OAAO,GAAC,aAAa,CAAC,OAAO,GAAC,GAAG,CAAC;iBAC9D;gBAAA,MAAM;YACP,KAAK,0BAAY,CAAC,MAAM;gBAAC;oBACrB,IAAI,CAAC,mBAAmB,CAAC,MAAM,GAAC,aAAa,CAAC,MAAM,GAAC,EAAE,CAAC;oBACxD,IAAI,CAAC,mBAAmB,CAAC,MAAM,GAAC,aAAa,CAAC,MAAM,GAAC,MAAM,CAAC;oBAC5D,IAAI,CAAC,mBAAmB,CAAC,OAAO,GAAC,CAAC,CAAC;iBACtC;gBAAA,MAAM;SACV;QACD,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QACxB,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,IAAI,CAAC,aAAa,CAAC,yBAAW,CAAC,OAAO,CAAC,CAAC;QACxC,IAAI,CAAC,QAAQ,CAAC,uBAAS,CAAC,IAAI,CAAC,CAAC;QAC9B,IAAI,CAAC,QAAQ,GAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;QAClD,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAC,IAAI,CAAC;QAC3B,IAAI,CAAC,WAAW,GAAC,CAAC,CAAC;QACnB,IAAG,IAAI,CAAC,aAAa,EAAC;YAClB,IAAI,CAAC,aAAa,EAAE,CAAC;SACxB;IACL,CAAC;IAED,6BAAW,GAAX,UAAY,KAAY;QACpB,IAAI,CAAC,aAAa,GAAC,KAAK,CAAC;QACzB,IAAI,QAAQ,GAAC,0CAAuB,CAAC,WAAW,EAAE,CAAC,uBAAuB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC5F,MAAM;QACN,IAAI,WAAW,GAAC,wDAA8B,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,EAAC,KAAK,CAAC,CAAC;QAC5E,IAAI,CAAC,mBAAmB,GAAC,wDAA8B,CAAC,WAAW,EAAE,CAAC,8BAA8B,CAAC,WAAW,CAAC,CAAC;QAClH,IAAI,CAAC,YAAY,GAAC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAC3D,IAAI,CAAC,SAAS,GAAC,QAAQ,CAAC;QACxB,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;QACjD,IAAI,CAAC,cAAc,GAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;QACzC,IAAI,CAAC,UAAU,GAAC,CAAC,GAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC;QAC7C,IAAI,CAAC,OAAO,GAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;QACtC,iCAAiC;QACjC,mCAAmC;QACnC,IAAI;IACR,CAAC;IACD,UAAU;IACV,iDAAiD;IACjD,+BAA+B;IAC/B,wCAAwC;IACxC,6EAA6E;IAC7E,IAAI;IACJ,WAAW;IACH,0BAAQ,GAAhB,UAAiB,QAA6B;QAC1C,IAAI,CAAC,YAAY,GAAC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAC3D,IAAI,CAAC,SAAS,GAAC,QAAQ,CAAC;QACxB,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC,YAAY,CAAC,MAAM,GAAC,IAAI,CAAC,eAAe,CAAC;QACtE,IAAI,CAAC,cAAc,GAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;QACzC,IAAI,CAAC,UAAU,GAAC,CAAC,GAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC;QAC7C,IAAI,CAAC,OAAO,GAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;QACtC,IAAI,CAAC,aAAa,GAAC,CAAC,CAAC;QACrB,IAAI,CAAC,WAAW,GAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;QACtC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAC,IAAI,CAAC,WAAW,CAAC;QACjC,IAAI,CAAC,IAAI,CAAC,OAAO,GAAC,GAAG,CAAC;QACtB,IAAI,CAAC,SAAS,GAAC,QAAQ,CAAC,IAAI,CAAC;QAC7B,IAAI,CAAC,gBAAgB,GAAC,IAAI,6BAAe,EAAE,CAAC;QAC5C,IAAI,CAAC,mBAAmB,GAAC,IAAI,GAAG,EAAiB,CAAC;QAClD,IAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAC,CAAC,EAAC;YACzB,IAAI,CAAC,oBAAoB,EAAE,CAAC;SAC/B;IACL,CAAC;IAEO,sCAAoB,GAA5B;QACI,IAAI,SAAS,GAAC,IAAI,8BAAgB,EAAE,CAAC;QACrC,SAAS,CAAC,QAAQ,GAAC,IAAI,GAAG,EAAiB,CAAC;QAC5C,SAAS,CAAC,YAAY,GAAC,IAAI,GAAG,EAAiB,CAAC;QAChD,SAAS,CAAC,YAAY,GAAC,IAAI,GAAG,EAAiB,CAAC;QAChD,SAAS,CAAC,YAAY,GAAC,IAAI,GAAG,EAAiB,CAAC;QAChD,SAAS,CAAC,YAAY,GAAC,IAAI,GAAG,EAAiB,CAAC;QAChD,SAAS,CAAC,YAAY,GAAC,IAAI,GAAG,EAAiB,CAAC;QAChD,SAAS,CAAC,YAAY,GAAC,IAAI,GAAG,EAAiB,CAAC;QAChD,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,IAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC,EAAE,EAAC;YACzC,IAAI,EAAE,GAAC,kCAAmB,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,EAAC,CAAC,EAAC,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC,CAAA;YACrG,IAAI,QAAQ,GAAC,kCAAmB,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,EAAE,CAAC,CAAC;YACvE,IAAG,QAAQ,IAAI,IAAI;gBAAG,SAAS;YAC/B,SAAS,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YACpD,SAAS,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YACpD,SAAS,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YACpD,SAAS,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YACpD,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,EAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YAC5C,SAAS,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAC,QAAQ,CAAC,eAAe,CAAC,CAAC;YACvD,IAAI,CAAC,eAAe,CAAC,CAAC,GAAC,CAAC,CAAC,GAAC,QAAQ,CAAC,eAAe,CAAC;YACnD,SAAS,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;SACvD;QAED,IAAI,CAAC,UAAU,GAAC,SAAS,CAAC;IAC9B,CAAC;IAES,+BAAa,GAAvB;QAEI,IAAG,CAAC,IAAI,CAAC,WAAW,EACpB;YACI,IAAG,IAAI,CAAC,SAAS,CAAC,YAAY,IAAE,0BAAY,CAAC,IAAI,EACjD;gBACI,IAAI,CAAC,WAAW,GAAC,qBAAW,CAAC,WAAW,EAAE,CAAC,gBAAgB,CAAC,aAAa,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,MAAM,CAAC,CAAC,GAAC,IAAI,CAAC,WAAW,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,MAAM,CAAC,CAAC,GAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,YAAY,CAAC,uBAAa,CAAC,CAAC;aACvM;YACD,IAAI,CAAC,MAAM,EAAE,CAAC;SACjB;IACL,CAAC;IAES,2BAAS,GAAnB;QACI,oDAAoD;QACpD,IAAG,CAAC,IAAI,CAAC,MAAM,EAAC;YACZ,IAAI,CAAC,MAAM,GAAC,uBAAa,CAAC,WAAW,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACnG,IAAI,CAAC,MAAM,CAAC,KAAK,GAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAC1D,IAAI,CAAC,MAAM,CAAC,MAAM,GAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;SAC/D;aAAI;YACD,IAAI,CAAC,MAAM,CAAC,OAAO,GAAC,GAAG,CAAC;YACxB,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;SACzE;IACL,CAAC;IAES,wBAAM,GAAhB;QAEI,IAAG,IAAI,CAAC,WAAW,EACnB;YACI,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC5D;IACL,CAAC;IAED,+BAAa,GAAb,UAAc,UAAkB;QAC5B,IAAI,CAAC,YAAY,GAAC,UAAU,CAAC;QAC7B,gCAAgC;QAChC,sCAAsC;QACtC,IAAI;IACR,CAAC;IAED,+BAAa,GAAb;QACI,OAAO,IAAI,CAAC,WAAW,CAAC;IAC5B,CAAC;IAED,uCAAqB,GAArB;QACI,IAAI,KAAK,GAAC,GAAG,CAAC;QACd,QAAO,IAAI,CAAC,SAAS,CAAC,YAAY,EAAC;YAC/B,KAAK,0BAAY,CAAC,MAAM;gBAAC;oBACrB,KAAK,GAAC,IAAI,CAAC;iBACd;gBAAA,MAAM;YACP,KAAK,0BAAY,CAAC,KAAK;gBAAC;oBACpB,KAAK,GAAC,IAAI,CAAC;iBACd;gBAAA,MAAM;YACP,KAAK,0BAAY,CAAC,IAAI;gBAAC;oBACnB,KAAK,GAAC,GAAG,CAAC;iBACb;gBAAA,MAAM;SACV;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,oCAAkB,GAAlB;QACI,IAAI,KAAK,GAAC,CAAC,CAAC;QACZ,QAAO,IAAI,CAAC,SAAS,CAAC,YAAY,EAAC;YAC/B,KAAK,0BAAY,CAAC,MAAM;gBAAC;oBACrB,KAAK,GAAC,GAAG,CAAC;iBACb;gBAAA,MAAM;YACP,KAAK,0BAAY,CAAC,KAAK;gBAAC;oBACpB,KAAK,GAAC,GAAG,CAAC;iBACb;gBAAA,MAAM;SACV;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,iCAAe,GAAf;QACI,IAAI,KAAK,GAAC,GAAG,CAAC;QACd,QAAO,IAAI,CAAC,SAAS,CAAC,YAAY,EAAC;YAC/B,KAAK,0BAAY,CAAC,MAAM;gBAAC;oBACrB,KAAK,GAAC,IAAI,GAAC,IAAI,CAAC,WAAW,CAAC;iBAC/B;gBAAA,MAAM;YACP,KAAK,0BAAY,CAAC,KAAK;gBAAC;oBACpB,KAAK,GAAC,IAAI,GAAC,IAAI,CAAC,WAAW,CAAC;iBAC/B;gBAAA,MAAM;YACP,KAAK,0BAAY,CAAC,IAAI;gBAAC;oBACnB,KAAK,GAAC,GAAG,GAAC,IAAI,CAAC,WAAW,CAAC;iBAC9B;gBAAA,MAAM;SACV;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,iCAAe,GAAf;QACI,OAAO,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;IACvC,CAAC;IAED,gCAAc,GAAd;QACI,OAAO,IAAI,CAAC,YAAY,CAAC;IAC7B,CAAC;IAED,YAAY;IACZ,gCAAc,GAAd,UAAe,MAAiB;QAC5B,IAAI,IAAI,GAAC,IAAI,yBAAW,EAAE,CAAC;QAC3B,IAAG,IAAI,CAAC,QAAQ,EAAE,EAAC;YACf,IAAI,CAAC,aAAa,GAAC,0BAAY,CAAC,GAAG,CAAC;YACpC,OAAO,IAAI,CAAC;SACf;QACD,IAAI,EAAE,GAAC,qBAAW,CAAC,WAAW,EAAE,CAAC;QACjC,IAAI,QAAQ,GAAC,CAAC,CAAC;QACf,IAAI,QAAQ,GAAC,CAAC,CAAC;QACf,sBAAsB;QACtB,IAAI,QAAQ,GAAC,MAAM,CAAC,SAAS,CAAC;QAC9B,QAAQ;QACR,IAAI,WAAW,GAAC,IAAI,CAAC,YAAY,CAAC,OAAO,GAAC,IAAI,CAAC,gBAAgB,CAAC;QAChE,IAAI,YAAY,GAAC,yBAAW,CAAC,gBAAgB,CAAC,WAAW,EAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAA;QACvF,IAAG,MAAM,CAAC,WAAW,IAAE,uBAAU,CAAC,MAAM,EAAC;YACrC,IAAG,IAAI,CAAC,UAAU,CAAC,mBAAM,CAAC,mBAAmB,CAAC,EAC9C;gBACI,IAAI,CAAC,aAAa,GAAC,0BAAY,CAAC,MAAM,CAAC;gBACvC,IAAI,CAAC,SAAS,GAAC,gCAAkB,CAAC,IAAI,CAAC;gBACvC,EAAE,CAAC,eAAe,CAAC,cAAc,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,EAAE,CAAC,EAAC,gCAAkB,CAAC,IAAI,EAAC,IAAI,CAAC,CAAC;gBAClG,OAAO,IAAI,CAAC;aACf;YACD,QAAQ,GAAC,yBAAW,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,EAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,GAAC,IAAI,CAAC,YAAY,GAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC;YACzH,QAAQ,GAAC,yBAAW,CAAC,YAAY,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC;YAC5F,QAAQ,IAAE,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC;YACnC,UAAU;YACV,IAAI,IAAI,GAAC,yBAAW,CAAC,YAAY,CAAC,CAAC,QAAQ,EAAC,QAAQ,EAAC,CAAC,CAAC,CAAC,CAAC;YACzD,QAAO,IAAI,EAAC;gBACR,KAAK,CAAC;oBAAC;wBACH,IAAI;wBACJ,IAAI,CAAC,aAAa,GAAC,0BAAY,CAAC,MAAM,CAAC;wBACvC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;wBACrB,IAAI,CAAC,SAAS,GAAC,gCAAkB,CAAC,MAAM,CAAC;wBACzC,EAAE,CAAC,eAAe,CAAC,cAAc,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,EAAE,CAAC,EAAC,gCAAkB,CAAC,MAAM,EAAC,IAAI,CAAC,CAAC;qBACvG;oBAAA,MAAM;gBACP,KAAK,CAAC;oBAAC;wBACH,IAAI;wBACJ,IAAI,CAAC,aAAa,GAAC,0BAAY,CAAC,KAAK,CAAC;wBACtC,IAAI,MAAM,GAAC,yBAAW,CAAC,uBAAuB,CAAC,QAAQ,CAAC,YAAY,EAAC,YAAY,EAAC,QAAQ,CAAC,sBAAsB,GAAC,QAAQ,CAAC,mBAAmB,EAAC,IAAI,CAAC,cAAc,EAAC,yBAAW,CAAC,kBAAkB,CAAC,QAAQ,CAAC,aAAa,EAAC,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,CAAC,CAAC;wBAC/P,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;wBAC1B,IAAI,CAAC,SAAS,GAAC,gCAAkB,CAAC,KAAK,CAAC;wBACxC,IAAG,MAAM,CAAC,MAAM,IAAE,CAAC,EAAC;4BAChB,qBAAW,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,eAAe,CAAC,uBAAU,CAAC,MAAM,EAAC,IAAI,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC;yBAC9G;wBACD,IAAG,CAAC,EAAE,CAAC,YAAY,EAAC;4BAChB,EAAE,CAAC,eAAe,CAAC,cAAc,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,EAAE,CAAC,EAAC,IAAI,CAAC,SAAS,EAAC,IAAI,CAAC,CAAC;yBAC5F;qBACJ;oBAAA,MAAM;gBACP,KAAK,CAAC;oBAAC;wBACH,MAAM;wBACN,IAAI,CAAC,aAAa,GAAC,0BAAY,CAAC,IAAI,CAAC;wBACrC,IAAI,MAAM,GAAC,yBAAW,CAAC,mBAAmB,CAAC,QAAQ,CAAC,YAAY,EAAC,YAAY,EAAC,QAAQ,CAAC,sBAAsB,GAAC,QAAQ,CAAC,mBAAmB,EAAC,IAAI,CAAC,cAAc,CAAC,CAAC;wBAChK,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;wBAC1B,IAAI,CAAC,SAAS,GAAC,gCAAkB,CAAC,aAAa,CAAC;wBAChD,IAAG,MAAM,CAAC,MAAM,IAAE,CAAC,EAAC;4BAChB,qBAAW,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,eAAe,CAAC,uBAAU,CAAC,MAAM,EAAC,KAAK,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC;yBAC/G;qBACJ;oBAAA,MAAM;aACV;SACJ;aAAK,IAAG,MAAM,CAAC,WAAW,IAAE,uBAAU,CAAC,KAAK,EAAC;YAC1C,cAAc;YACd,IAAI,CAAC,aAAa,GAAC,0BAAY,CAAC,IAAI,CAAC;YACrC,IAAI,MAAM,GAAC,CAAC,CAAC;YACb,IAAG,MAAM,CAAC,WAAW,EAAC;gBAClB,QAAQ,GAAC,yBAAW,CAAC,YAAY,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC;gBAC5F,QAAQ,IAAE,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC;gBACnC,UAAU;gBACV,IAAI,IAAI,GAAC,yBAAW,CAAC,YAAY,CAAC,CAAC,CAAC,EAAC,QAAQ,EAAC,CAAC,CAAC,CAAC,CAAC;gBAClD,IAAG,IAAI,IAAE,CAAC,EAAC;oBACP,IAAI,CAAC,aAAa,GAAC,0BAAY,CAAC,KAAK,CAAC;oBACtC,IAAI,CAAC,SAAS,GAAC,gCAAkB,CAAC,KAAK,CAAC;oBACxC,MAAM,GAAC,yBAAW,CAAC,sBAAsB,CAAC,QAAQ,CAAC,YAAY,EAAC,MAAM,CAAC,iBAAiB,EAAC,YAAY,EAAC,QAAQ,CAAC,qBAAqB,GAAC,QAAQ,CAAC,mBAAmB,GAAC,QAAQ,CAAC,sBAAsB,EAAC,IAAI,CAAC,cAAc,EAAC,yBAAW,CAAC,kBAAkB,CAAC,QAAQ,CAAC,aAAa,EAAC,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,CAAC,CAAC;oBAClT,IAAG,CAAC,EAAE,CAAC,YAAY,EAAC;wBAChB,EAAE,CAAC,eAAe,CAAC,cAAc,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,EAAE,CAAC,EAAC,IAAI,CAAC,SAAS,EAAC,IAAI,CAAC,CAAC;qBAC5F;iBACJ;qBAAI;oBACD,MAAM,GAAC,yBAAW,CAAC,kBAAkB,CAAC,QAAQ,CAAC,YAAY,EAAC,MAAM,CAAC,iBAAiB,EAAC,YAAY,EAAC,QAAQ,CAAC,qBAAqB,GAAC,QAAQ,CAAC,mBAAmB,GAAC,QAAQ,CAAC,sBAAsB,EAAC,IAAI,CAAC,cAAc,CAAC,CAAC;iBACtN;aACJ;iBAAI;gBACD,MAAM,GAAC,yBAAW,CAAC,kBAAkB,CAAC,QAAQ,CAAC,YAAY,EAAC,MAAM,CAAC,iBAAiB,EAAC,YAAY,EAAC,QAAQ,CAAC,qBAAqB,GAAC,QAAQ,CAAC,mBAAmB,GAAC,QAAQ,CAAC,sBAAsB,EAAC,IAAI,CAAC,cAAc,CAAC,CAAC;aACtN;YACD,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;YAC1B,IAAG,MAAM,CAAC,MAAM,IAAE,CAAC,EAAC;gBAChB,qBAAW,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,eAAe,CAAC,uBAAU,CAAC,KAAK,EAAC,KAAK,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC9G;SACJ;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IACD;;;;OAIG;IACH,gCAAc,GAAd,UAAe,MAAiB;QAC5B,IAAI,IAAI,GAAC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QACrC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAC,MAAM,CAAC,CAAC;QAC3B,OAAO,IAAI,CAAC;IAChB,CAAC;IAEO,qCAAmB,GAA3B,UAA4B,MAAiB,EAAC,QAAiB;QAAjB,yBAAA,EAAA,YAAiB;QAC3D,IAAG,MAAM,CAAC,sBAAsB,GAAC,CAAC,EAAC;YAC/B,QAAQ;YACR,IAAI,WAAW,GAAC,IAAI,CAAC,YAAY,CAAC,OAAO,GAAC,IAAI,CAAC,gBAAgB,CAAC;YAChE,IAAI,YAAY,GAAC,yBAAW,CAAC,gBAAgB,CAAC,WAAW,EAAC,MAAM,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAA;YAC/F,IAAI,QAAQ,GAAC,MAAM,CAAC,SAAS,CAAC;YAC9B,IAAI,IAAI,GAAC,IAAI,yBAAW,EAAE,CAAC;YAC3B,IAAI,MAAM,GAAC,yBAAW,CAAC,kBAAkB,CAAC,QAAQ,CAAC,YAAY,EAAC,MAAM,CAAC,sBAAsB,EAAC,YAAY,EAAC,QAAQ,CAAC,qBAAqB,GAAC,QAAQ,CAAC,mBAAmB,EAAC,IAAI,CAAC,cAAc,CAAC,CAAC;YAC5L,IAAI,CAAC,SAAS,GAAC,gCAAkB,CAAC,OAAO,CAAC;YAC1C,IAAG,MAAM,CAAC,SAAS,IAAE,sBAAS,CAAC,IAAI,EAAC;gBAChC,MAAM,GAAC,MAAM,GAAC,QAAQ,CAAC;aAC1B;YACD,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;YAC1B,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAC,MAAM,CAAC,CAAC;SAC9B;IACL,CAAC;IACD,4BAA4B;IAC5B,8BAAY,GAAZ,UAAa,MAAiB,EAAC,MAAa;QACxC,IAAI,IAAI,GAAC,IAAI,yBAAW,EAAE,CAAC;QAC3B,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;QAC1B,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAC,MAAM,CAAC,CAAC;QAC3B,OAAO,IAAI,CAAC;IAChB,CAAC;IACD,eAAe;IACf,wBAAM,GAAN,UAAO,GAAW;QACd,IAAG,IAAI,CAAC,QAAQ,EAAE,IAAE,IAAI,CAAC,QAAQ,EAAE,IAAE,IAAI,CAAC,QAAQ,EAAE,IAAE,IAAI,EAAC;YACvD,OAAO,KAAK,CAAC;SAChB;QACD,2BAA2B;QAC3B,IAAI,MAAM,GAAC,GAAG,GAAC,CAAC,CAAC,GAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAA;QACzC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACtB,qBAAW,CAAC,WAAW,EAAE,CAAC,eAAe,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,EAAE,EAAC,MAAM,EAAC,gCAAkB,CAAC,OAAO,CAAC,CAAC;QAChH,OAAO,IAAI,CAAC;IAChB,CAAC;IAEO,0BAAQ,GAAhB,UAAiB,IAAgB,EAAC,MAAiB;QAC/C,IAAG,IAAI,CAAC,eAAe,EAAE,IAAE,0BAAY,CAAC,IAAI,IAAE,IAAI,CAAC,UAAU,CAAC,mBAAM,CAAC,kBAAkB,CAAC,EACxF;YACI,IAAI,CAAC,aAAa,GAAC,0BAAY,CAAC,MAAM,CAAC;YACvC,IAAI,CAAC,SAAS,GAAC,gCAAkB,CAAC,IAAI,CAAC;YACvC,qBAAW,CAAC,WAAW,EAAE,CAAC,eAAe,CAAC,cAAc,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,EAAE,CAAC,EAAC,gCAAkB,CAAC,IAAI,EAAC,IAAI,CAAC,CAAC;YACzH,OAAQ;SACX;QACD,IAAG,IAAI,CAAC,YAAY,EAAE,GAAC,CAAC,EAAC;YACrB,IAAI,EAAE,GAAE,qBAAW,CAAC,WAAW,EAAE,CAAC;YAClC,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;YAChD,IAAG,EAAE,CAAC,YAAY,IAAE,IAAI,CAAC,YAAY,EAAE,GAAC,CAAC,EAAC;gBACtC,EAAE,CAAC,eAAe,CAAC,cAAc,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,MAAM,EAAE,GAAC,GAAG,CAAC,EAAC,IAAI,CAAC,YAAY,EAAE,EAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aAC1H;YACD,IAAG,CAAC,IAAI,CAAC,MAAM,EAAC;gBACZ,IAAI,CAAC,SAAS,EAAE,CAAC;aACpB;YACD,MAAM;YACN,IAAG,MAAM,CAAC,SAAS,CAAC,kBAAkB,GAAC,CAAC,IAAE,IAAI,CAAC,YAAY,EAAE,GAAC,CAAC,EAAC;gBAC5D,IAAI,EAAE,GAAC,yBAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,EAAE,EAAC,MAAM,CAAC,SAAS,CAAC,kBAAkB,EAAC,MAAM,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAC;gBAClI,IAAG,EAAE,GAAC,CAAC,EAAC;oBACJ,qBAAW,CAAC,WAAW,EAAE,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;iBACxD;aACJ;YACD,YAAY;YACZ,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;YACrC,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;YACrC,IAAG,MAAM,CAAC,gBAAgB,GAAC,CAAC,EAAC;gBACzB,sBAAY,CAAC,WAAW,EAAE,CAAC,YAAY,CAAC,MAAM,CAAC,gBAAgB,EAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;gBACrF,IAAG,IAAI,CAAC,sBAAsB,EAAC;oBAC3B,IAAI,CAAC,sBAAsB,EAAE,CAAC;iBACjC;aACJ;YACD,WAAW;YACX,QAAO,MAAM,CAAC,WAAW,EAAC;gBACtB,KAAK,uBAAU,CAAC,MAAM;oBAAC;wBACnB,EAAE,CAAC,eAAe,CAAC,MAAM,CAAC,SAAS,CAAC,IAAE,IAAI,CAAC,YAAY,EAAE,CAAC;qBAC7D;oBAAA,MAAM;gBACP,KAAK,uBAAU,CAAC,KAAK;oBAAC;wBAClB,EAAE,CAAC,cAAc,CAAC,MAAM,CAAC,SAAS,CAAC,IAAE,IAAI,CAAC,YAAY,EAAE,CAAC;qBAC5D;oBAAA,MAAM;aACV;YACD,iBAAiB;YACjB,gGAAgG;YAChG,mFAAmF;YACnF,oBAAoB;YACpB,oBAAoB;YACpB,QAAQ;YACR,8BAA8B;YAC9B,mDAAmD;YACnD,2BAA2B;YAC3B,0HAA0H;YAC1H,QAAQ;YACR,IAAI;YACJ,mBAAmB;YACnB,uDAAuD;YACvD,6FAA6F;YAC7F,wFAAwF;YACxF,wBAAwB;YACxB,wBAAwB;YACxB,YAAY;YACZ,kCAAkC;YAClC,wDAAwD;YACxD,+BAA+B;YAC/B,+HAA+H;YAC/H,YAAY;YACZ,6HAA6H;YAC7H,QAAQ;YACR,IAAI;YACJ,eAAe;YACf,IAAG,sBAAY,CAAC,WAAW,EAAE,CAAC,WAAW,EAAE,IAAE,IAAI,CAAC,YAAY,CAAC,mBAAM,CAAC,cAAc,CAAC,EAAC;gBAClF,IAAI,MAAM,GAAC,IAAI,CAAC,YAAY,EAAE,GAAC,sBAAY,CAAC,WAAW,EAAE,CAAC,WAAW,EAAE,CAAC;gBACxE,IAAG,MAAM,GAAC,CAAC,EAAC;oBACR,MAAM,GAAC,CAAC,CAAC;iBACZ;gBACD,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC;gBACvB,EAAE,CAAC,cAAc,CAAC,sBAAS,CAAC,MAAM,CAAC,IAAE,MAAM,CAAC;gBAC5C,IAAG,EAAE,CAAC,YAAY,EAAC;oBACf,EAAE,CAAC,eAAe,CAAC,cAAc,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,EAAE,CAAC,EAAC,MAAM,EAAC,gCAAkB,CAAC,aAAa,CAAC,CAAC;iBAChH;aACJ;SACJ;IACL,CAAC;IAED,iBAAiB;IACP,0BAAQ,GAAlB,UAAmB,GAAW;QAC1B,IAAG,IAAI,CAAC,QAAQ,EAAE,IAAE,IAAI,CAAC,aAAa,EAAE,IAAE,yBAAW,CAAC,IAAI,IAAE,qBAAW,CAAC,WAAW,EAAE,CAAC,cAAc,IAAE,qBAAS,CAAC,YAAY,EAC5H;YACI,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,KAAK,GAAC,KAAK,CAAC;QAChB,IAAI,CAAC,MAAM,IAAE,GAAG,CAAC;QACjB,IAAG,qBAAW,CAAC,WAAW,EAAE,CAAC,aAAa,IAAE,oBAAQ,CAAC,cAAc,EAAC;YAChE,IAAG,IAAI,CAAC,SAAS,CAAC,YAAY,IAAE,0BAAY,CAAC,IAAI,EAAC;gBAC9C,IAAG,IAAI,CAAC,MAAM,IAAE,CAAC,EAAC;oBACd,IAAI,CAAC,MAAM,GAAC,CAAC,CAAC;iBACjB;gBACD,IAAG,IAAI,CAAC,kBAAkB,EAAC;oBACvB,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;iBAChC;gBACD,IAAI,QAAQ,GAAC,oCAAoB,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACpF,IAAG,QAAQ,IAAE,IAAI,CAAC,aAAa,EAAC;oBAC5B,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;iBAC9B;gBACD,OAAO,KAAK,CAAC;aAChB;SACJ;QACD,IAAG,IAAI,CAAC,MAAM,IAAE,CAAC,EACjB;YACI,IAAI,CAAC,UAAU,EAAE,CAAC;YAClB,KAAK,GAAC,IAAI,CAAC;SACd;QACD,IAAG,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC,MAAM,EAC1B;YACI,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC,MAAM,CAAA;SAC1B;QACD,4EAA4E;QAC5E,yCAAyC;QACzC,6EAA6E;QAC7E,2CAA2C;QAC3C,2IAA2I;QAC3I,gJAAgJ;QAChJ,kBAAkB;QAClB,YAAY;QACZ,oBAAoB;QACpB,IAAI;QACJ,IAAG,IAAI,CAAC,kBAAkB,EAAC;YACvB,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;SAChC;QACD,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,yBAAO,GAAP,UAAQ,QAAkB;QAA1B,iBAuDC;QAtDG,IAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAE,KAAK,EACjD;YACI,oBAAoB;YACpB,IAAI,IAAI,GAAS,IAAI,CAAC;YACtB,IAAG,QAAQ,CAAC,cAAc,IAAE,iCAAY,CAAC,IAAI,EAAC;gBAC1C,IAAI,GAAC,IAAI,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC,CAAC;gBACrD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAChC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;aAC5B;iBAAI;gBACD,IAAI,GAAC,uCAAkB,CAAC,WAAW,EAAE,CAAC,yBAAyB,CAAC,QAAQ,CAAC,cAAc,EAAC,IAAI,CAAC,QAAQ,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACjH,IAAI,CAAC,KAAK,GAAC,IAAI,CAAC,qBAAqB,EAAE,CAAC;aAC3C;YACD,QAAQ;YACR,IAAI,IAAI,GAAW,IAAI,CAAC,YAAY,CAAC,mBAAS,CAAC,CAAC;YAChD,IAAG,CAAC,IAAI,EAAC;gBACL,IAAI,GAAC,IAAI,CAAC,YAAY,CAAC,mBAAS,CAAC,CAAC;aACrC;YACD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACpB,aAAa;YACb,IAAG,QAAQ,CAAC,oBAAoB,GAAC,CAAC,EAAC;gBAC/B,IAAI,CAAC,iBAAiB,CAAC;oBACnB,UAAU,EAAC,UAAC,GAAU;wBAClB,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;oBACrB,CAAC;iBACJ,EAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC,CAAC;aAC/B;YACD,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,EAAC,IAAI,CAAC,CAAC;YAC7C,WAAW;YACX,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACrD,QAAO,QAAQ,CAAC,SAAS,EAAC;gBACtB,KAAK,qBAAQ,CAAC,WAAW;oBAAC;wBACtB,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;qBAC5B;oBAAA,MAAM;gBACP,KAAK,qBAAQ,CAAC,UAAU;oBAAC;wBACrB,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;qBAClD;oBAAA,MAAM;aACV;YACD,QAAO,QAAQ,CAAC,OAAO,EAAC;gBACpB,KAAK,mBAAM,CAAC,oBAAoB;oBAAC;wBAC7B,IAAI,CAAC,cAAc,IAAE,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;wBAC5C,IAAI,CAAC,YAAY,CAAC,OAAO,IAAE,IAAI,CAAC,mBAAmB,CAAC,OAAO,GAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;qBACxF;oBAAA,MAAM;gBACP,KAAK,mBAAM,CAAC,2BAA2B;oBAAC;wBACpC,IAAI,CAAC,YAAY,CAAC,MAAM,IAAE,IAAI,CAAC,mBAAmB,CAAC,MAAM,GAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;qBACtF;oBAAA,MAAM;aACV;YACD,OAAO,IAAI,CAAC;SACf;aAAI;YACD,oBAAoB;YACpB,IAAI,IAAI,GAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YACjD,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;YAC3B,OAAO,IAAI,CAAC;SACf;IAEL,CAAC;IAED,yBAAO,GAAP,UAAQ,MAAc;QAClB,IAAI,IAAI,GAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACvC,IAAG,IAAI,EACP;YACI,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,OAAO,IAAI,CAAC;SACf;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,+BAAa,GAAb,UAAc,QAAiB;QAC3B,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAC3C,QAAO,QAAQ,CAAC,SAAS,EAAC;YACtB,KAAK,qBAAQ,CAAC,WAAW;gBAAC;oBACtB,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;iBAC5B;gBAAA,MAAM;YACP,KAAK,qBAAQ,CAAC,UAAU;gBAAC;oBACrB,IAAI,CAAC,iBAAiB,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;iBACnD;gBAAA,MAAM;SACV;QACD,QAAO,QAAQ,CAAC,OAAO,EAAC;YACpB,KAAK,mBAAM,CAAC,oBAAoB;gBAAC;oBAC7B,IAAI,CAAC,cAAc,IAAE,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;oBAC5C,IAAI,CAAC,YAAY,CAAC,OAAO,IAAE,IAAI,CAAC,mBAAmB,CAAC,OAAO,GAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;iBACxF;gBAAA,MAAM;YACP,KAAK,mBAAM,CAAC,2BAA2B;gBAAC;oBACpC,IAAI,CAAC,YAAY,CAAC,MAAM,IAAE,IAAI,CAAC,mBAAmB,CAAC,MAAM,GAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;iBACtF;gBAAA,MAAM;SACV;IACL,CAAC;IAED,4BAAU,GAAV,UAAW,MAAc;QACrB,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IACzC,CAAC;IAED,yBAAO,GAAP,UAAQ,MAAc;QAClB,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IACzC,CAAC;IAED,gCAAc,GAAd,UAAe,QAAkB;QAC7B,IAAI,MAAM,GAAC,KAAK,CAAC;QACjB,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,UAAC,IAAc;YACrC,IAAG,MAAM,IAAE,KAAK,IAAI,IAAI,CAAC,WAAW,EAAE,IAAE,QAAQ,EAAC;gBAC7C,MAAM,GAAC,IAAI,CAAC;aACf;QACL,CAAC,CAAC,CAAA;QACF,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,+BAAa,GAAb;QACI,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,UAAC,IAAc;YACrC,IAAI,CAAC,WAAW,EAAE,CAAC;QACvB,CAAC,CAAC,CAAA;IACN,CAAC;IAED,2BAAS,GAAT,UAAU,QAAiB,EAAC,MAAiB;QAA7C,iBA4HC;QA3HG,IAAG,IAAI,CAAC,QAAQ,EAAE,EAAC;YACf,OAAO;SACV;QACD,IAAG,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,OAAO,CAAC,EACvC;YACI,0BAA0B;YAC1B,IAAI,QAAQ,GAAC,QAAQ,CAAC,SAAS,CAAC;YAChC,QAAO,QAAQ,EAAC;gBACZ,KAAK,qBAAQ,CAAC,OAAO;oBAAC;wBAClB,IAAG,IAAI,CAAC,aAAa,IAAE,CAAC,EAAC;4BACrB,qBAAW,CAAC,WAAW,EAAE,CAAC,eAAe,CAAC,cAAc,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,EAAE,CAAC,EAAC,gCAAkB,CAAC,aAAa,EAAC,IAAI,CAAC,CAAC;4BAClI,IAAG,IAAI,CAAC,UAAU,CAAC,mBAAM,CAAC,oBAAoB,CAAC,EAAC;gCAC5C,IAAI,CAAC,OAAO,CAAC,mBAAM,CAAC,oBAAoB,CAAC,CAAC,QAAQ,EAAE,CAAC;6BACxD;4BACD,OAAO,IAAI,CAAC;yBACf;wBACD,IAAG,MAAM,EAAC;4BACN,QAAQ,CAAC,WAAW,GAAC,yBAAW,CAAC,eAAe,CAAC,QAAQ,CAAC,WAAW,EAAC,IAAI,CAAC,aAAa,EAAC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;yBACtH;wBACD,QAAO,QAAQ,CAAC,OAAO,EAAC;4BACpB,KAAK,mBAAM,CAAC,YAAY;gCAAC;oCACrB,IAAI,CAAC,SAAS,GAAC,CAAC,CAAC;oCACjB,IAAG,IAAI,CAAC,gBAAgB,EAAC;wCACrB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;qCAC/B;yCAAI;wCACD,IAAI,CAAC,KAAK,CAAC,MAAM,GAAC,IAAI,CAAC;qCAC1B;iCACJ;gCAAA,MAAM;4BACP,KAAK,mBAAM,CAAC,wBAAwB;gCAAC;oCACjC,WAAW;oCACX,IAAG,IAAI,CAAC,eAAe,EAAE,IAAE,0BAAY,CAAC,IAAI,EAAC;wCACzC,IAAI,CAAC,SAAS,GAAC,CAAC,CAAC;wCACjB,MAAM;wCACN,IAAI,KAAK,GAAC,qBAAW,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,sBAAS,CAAC,KAAK,CAAC,CAAC;wCAC7D,IAAI,KAAK,GAAC,KAAK,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;wCACnC,IAAI,SAAS,GAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;wCACjD,IAAI,MAAM,GAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAC,SAAS,CAAC,CAAC,CAAC,CAAC;wCAC/C,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;wCACxB,IAAI,CAAC,aAAa,CAAC,yBAAW,CAAC,IAAI,CAAC,CAAC;qCACxC;yCAAI;wCACD,OAAO;qCACV;iCACJ;gCAAA,MAAM;yBACV;qBAEJ;oBAAA,MAAM;aACV;YACD,oBAAoB;YACpB,IAAI,IAAI,GAAS,IAAI,CAAC;YACtB,IAAG,QAAQ,CAAC,cAAc,IAAE,iCAAY,CAAC,IAAI,EAAC;gBAC1C,IAAI,GAAC,IAAI,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC,CAAC;gBACrD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAChC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;aAC5B;iBAAI;gBACD,IAAI,GAAC,uCAAkB,CAAC,WAAW,EAAE,CAAC,yBAAyB,CAAC,QAAQ,CAAC,cAAc,EAAC,IAAI,CAAC,QAAQ,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACjH,IAAI,CAAC,KAAK,GAAC,IAAI,CAAC,qBAAqB,EAAE,CAAC;aAC3C;YACD,QAAQ;YACR,IAAI,MAAI,GAAW,IAAI,CAAC,YAAY,CAAC,mBAAS,CAAC,CAAC;YAChD,IAAG,CAAC,MAAI,EAAC;gBACL,MAAI,GAAC,IAAI,CAAC,YAAY,CAAC,mBAAS,CAAC,CAAC;aACrC;YACD,MAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACpB,WAAW;YACX,MAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACvD,aAAa;YACb,IAAG,QAAQ,CAAC,kBAAkB,GAAC,CAAC,IAAE,MAAM,EAAC;gBACrC,MAAI,CAAC,eAAe,CAAC;oBACjB,QAAQ,EAAC,UAAC,MAAiB;wBACvB,KAAI,CAAC,mBAAmB,CAAC,MAAM,EAAC,MAAI,CAAC,WAAW,EAAE,CAAC,CAAC;oBACxD,CAAC;iBACJ,EAAC,MAAM,CAAC,CAAC;aACb;YACD,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,EAAC,MAAI,CAAC,CAAC;YAC/C,QAAO,QAAQ,EAAC;gBACZ,KAAK,qBAAQ,CAAC,OAAO;oBAAC;wBAClB,IAAI,CAAC,KAAK,GAAC,IAAI,CAAC,eAAe,EAAE,CAAC;qBACrC;oBAAA,MAAM;gBACP,KAAK,qBAAQ,CAAC,QAAQ;oBAAC;wBACnB,YAAY;wBACZ,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,CAAC;qBAChE;oBAAA,MAAM;gBACP,KAAK,qBAAQ,CAAC,KAAK;oBAAC;wBAChB,UAAU;wBACV,IAAG,QAAQ,CAAC,OAAO,IAAE,mBAAM,CAAC,qBAAqB,EAAC;4BAC9C,IAAG,MAAM;gCACT,MAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,EAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC,MAAM,CAAC,CAAA;yBACjF;qBACJ;oBAAA,MAAM;aACV;YACD,QAAO,QAAQ,CAAC,OAAO,EAAC;gBACpB,KAAK,mBAAM,CAAC,uBAAuB;oBAAC;wBAChC,IAAI,KAAK,GAAC,CAAC,GAAC,IAAI,CAAC,WAAW,CAAC;wBAC7B,IAAI,CAAC,KAAK,GAAC,KAAK,CAAC;wBACjB,IAAI,CAAC,cAAc,EAAE,CAAC;wBACtB,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,EAAC,EAAC,KAAK,EAAC,KAAK,GAAC,GAAG,EAAC,OAAO,EAAC,GAAG,EAAC,CAAC,CAAC,EAAE,CAAC,GAAG,EAAC,EAAC,KAAK,EAAC,IAAI,CAAC,KAAK,EAAC,OAAO,EAAC,GAAG,EAAC,CAAC,CAAC,KAAK,EAAE,CAAC;qBACvG;oBAAA,MAAM;gBACP,KAAK,mBAAM,CAAC,wBAAwB;oBAAC;wBACjC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;qBAC5B;oBAAA,MAAM;gBACP,KAAK,mBAAM,CAAC,mBAAmB;oBAAC;wBAC5B,IAAI,CAAC,cAAc,IAAE,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;qBAC/C;oBAAA,MAAM;gBACP,KAAK,mBAAM,CAAC,4BAA4B;oBAAC;wBACrC,IAAI,CAAC,iBAAiB,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;qBACnD;oBAAA,MAAM;aACV;YACD,OAAO,MAAI,CAAC;SACf;aAAI;YACD,IAAI,IAAI,GAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YACnD,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;YAC3B,QAAO,QAAQ,CAAC,OAAO,EAAC;gBACpB,KAAK,mBAAM,CAAC,uBAAuB;oBAAC;wBAChC,IAAI,IAAI,GAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC;wBACxD,IAAI,KAAK,GAAC,CAAC,GAAC,IAAI,CAAC,WAAW,CAAC;wBAC7B,IAAI,CAAC,KAAK,GAAC,KAAK,CAAC;wBACjB,IAAI,CAAC,cAAc,EAAE,CAAC;wBACtB,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,EAAC,EAAC,KAAK,EAAC,KAAK,GAAC,GAAG,EAAC,OAAO,EAAC,GAAG,EAAC,CAAC,CAAC,EAAE,CAAC,GAAG,EAAC,EAAC,KAAK,EAAC,IAAI,CAAC,KAAK,EAAC,OAAO,EAAC,GAAG,EAAC,CAAC,CAAC,KAAK,EAAE,CAAC;qBACvG;oBAAA,MAAM;aACV;YACD,OAAO,IAAI,CAAC;SACf;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED;;;;;OAKG;IACH,2BAAS,GAAT,UAAU,MAAc;QACpB,IAAI,IAAI,GAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACzC,IAAG,IAAI,EACP;YACI,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,OAAO,IAAI,CAAC;SACf;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,8BAAY,GAAZ,UAAa,MAAc;QACvB,OAAO,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IAC3C,CAAC;IAED,2BAAS,GAAT,UAAU,MAAc;QACpB,OAAO,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IAC3C,CAAC;IAED,kCAAgB,GAAhB,UAAiB,QAAkB;QAC/B,IAAI,MAAM,GAAC,KAAK,CAAC;QACjB,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAC,IAAc;YACvC,IAAG,MAAM,IAAE,KAAK,IAAI,IAAI,CAAC,WAAW,EAAE,IAAE,QAAQ,EAAC;gBAC7C,MAAM,GAAC,IAAI,CAAC;aACf;QACL,CAAC,CAAC,CAAA;QACF,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,iCAAe,GAAf;QAAA,iBAIC;QAHG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAC,CAAC,EAAC,CAAC;YAC5B,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC;QAClC,CAAC,CAAC,CAAA;IACN,CAAC;IAED,iCAAe,GAAf,UAAgB,QAAiB;QAC7B,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAC7C,QAAO,QAAQ,CAAC,SAAS,EAAC;YACtB,KAAK,qBAAQ,CAAC,OAAO;gBAAC;oBAClB,QAAO,QAAQ,CAAC,OAAO,EAAC;wBACpB,KAAK,mBAAM,CAAC,YAAY;4BAAC;gCACrB,IAAI,CAAC,KAAK,CAAC,MAAM,GAAC,KAAK,CAAC;gCACxB,IAAG,IAAI,CAAC,gBAAgB,EAAC;oCACrB,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;iCAChC;6BACJ;4BAAA,MAAM;wBACP,KAAK,mBAAM,CAAC,wBAAwB;4BAAC;gCACjC,eAAe;gCACf,IAAG,IAAI,CAAC,eAAe,EAAE,IAAE,0BAAY,CAAC,IAAI,EAAC;oCACzC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,GAAC,CAAC,GAAC,CAAC,CAAC,CAAC;oCAC7B,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;iCAC5B;qCAAI;oCACD,OAAO;iCACV;6BACJ;4BAAA,MAAM;qBACV;iBAEJ;gBAAA,MAAM;YACP,KAAK,qBAAQ,CAAC,QAAQ;gBAAC;oBACnB,YAAY;oBACZ,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,CAAC;iBAChE;gBAAA,MAAM;SACV;QACD,QAAO,QAAQ,CAAC,OAAO,EAAC;YACpB,KAAK,mBAAM,CAAC,mBAAmB;gBAAC;oBAC5B,IAAI,CAAC,cAAc,IAAE,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;iBAC/C;gBAAA,MAAM;YACP,KAAK,mBAAM,CAAC,4BAA4B;gBAAC;oBACrC,IAAI,CAAC,iBAAiB,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;iBACnD;gBAAA,MAAM;SACV;IACL,CAAC;IAED,6BAAW,GAAX,UAAY,QAAiB,EAAC,MAAiB;QAC3C,IAAG,QAAQ,CAAC,OAAO,IAAE,mBAAM,CAAC,qBAAqB,EAAC;YAC9C,qBAAW,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,SAAS,CAAC,2BAAU,CAAC,eAAe,CAAC,CAAC;YAC9E,8CAA8C;YAC9C,IAAI,IAAI,GAAC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;YACrC,IAAG,IAAI,CAAC,MAAM,IAAE,KAAK,IAAE,IAAI,CAAC,YAAY,EAAE,GAAC,CAAC,EAAC;gBACzC,iHAAiH;gBACjH,IAAI,IAAI,GAAC,uCAAkB,CAAC,WAAW,EAAE,CAAC,oBAAoB,CAAC,iCAAY,CAAC,kBAAkB,EAAC,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,CAAC;gBAC1H,IAAI,CAAC,MAAM,GAAC,GAAG,CAAC;gBAChB,IAAI,CAAC,MAAM,GAAC,CAAC,CAAC;gBACd,IAAG,IAAI,CAAC,eAAe,EAAE,IAAE,0BAAY,CAAC,IAAI,IAAE,IAAI,CAAC,MAAM,IAAE,KAAK,EAAC;oBAC7D,IAAI,UAAQ,GAAC,IAAI,mBAAQ,EAAE,CAAC;oBAC5B,UAAQ,CAAC,OAAO,GAAC,mBAAM,CAAC,YAAY,CAAC;oBACrC,UAAQ,CAAC,cAAc,GAAC,iCAAY,CAAC,OAAO,CAAC;oBAC7C,UAAQ,CAAC,SAAS,GAAC,qBAAQ,CAAC,OAAO,CAAC;oBACpC,UAAQ,CAAC,WAAW,GAAC,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,sBAAS,CAAC,SAAS,CAAC,CAAC;oBAC1E,IAAI,CAAC,SAAS,CAAC,UAAQ,EAAC,MAAM,CAAC,CAAC;iBACnC;aACJ;SACJ;IACL,CAAC;IACD,8BAA8B;IACtB,kCAAgB,GAAxB,UAAyB,cAAqB;QAC1C,MAAM;QAEN,IAAG,IAAI,CAAC,YAAY,CAAC,mBAAM,CAAC,wBAAwB,CAAC,EAAC;YAClD,IAAI,CAAC,cAAc,GAAC,EAAE,CAAC;SAC1B;aAAI;YACD,IAAI,KAAK,GAAC,yBAAW,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,GAAC,IAAI,CAAC,mBAAmB,EAAC,IAAI,CAAC,mBAAmB,EAAE,EAAC,cAAc,EAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC;YACzJ,IAAI,CAAC,cAAc,GAAC,KAAK,CAAC;YAC1B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,GAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAA,CAAC,CAAA,uBAAS,CAAC,QAAQ,CAAA,CAAC,CAAA,uBAAS,CAAC,IAAI,CAAC,CAAC;SAC7F;QACD,IAAG,IAAI,CAAC,eAAe,EAAE,IAAE,0BAAY,CAAC,IAAI;YAC5C,IAAI,CAAC,KAAK,CAAC,SAAS,GAAC,IAAI,CAAC,cAAc,GAAC,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IACpE,CAAC;IAGD,oBAAoB;IACpB,6BAA6B;IAC7B,sBAAsB;IACtB,2CAA2C;IAC3C,2CAA2C;IAC3C,kDAAkD;IAClD,gCAAgC;IAChC,YAAY;IACZ,UAAU;IACV,6BAA6B;IAC7B,iCAAiC;IACjC,kEAAkE;IAClE,cAAc;IACd,mCAAmC;IACnC,iBAAiB;IACjB,mKAAmK;IACnK,qCAAqC;IACrC,6CAA6C;IAC7C,aAAa;IACb,oDAAoD;IACpD,yCAAyC;IACzC,QAAQ;IACR,IAAI;IAEJ,oBAAoB;IACpB,4BAA4B;IAC5B,sBAAsB;IACtB,4CAA4C;IAC5C,yCAAyC;IACzC,iDAAiD;IACjD,iCAAiC;IACjC,YAAY;IACZ,UAAU;IACV,8BAA8B;IAC9B,kCAAkC;IAClC,kEAAkE;IAClE,cAAc;IACd,oCAAoC;IACpC,kBAAkB;IAClB,4EAA4E;IAC5E,uHAAuH;IACvH,+DAA+D;IAC/D,aAAa;IACb,6BAA6B;IAC7B,oDAAoD;IACpD,gBAAgB;IAChB,IAAI;IAEJ,gBAAgB;IACR,qCAAmB,GAA3B;QACI,eAAe;QACf,IAAI,IAAI,GAAC,IAAI,KAAK,EAAa,CAAC;QAChC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAC,CAAC,EAAC,CAAC;YAC5B,IAAG,CAAC,CAAC,WAAW,EAAE,IAAE,qBAAQ,CAAC,QAAQ,EAAC;gBAClC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;aAChB;QACL,CAAC,CAAC,CAAC;QACH,IAAG,IAAI,CAAC,MAAM,GAAC,CAAC,EAAC;YACb,IAAI,CAAC,IAAI,CAAC,UAAC,CAAC,EAAC,CAAC;gBACV,OAAO,CAAC,CAAC,iBAAiB,EAAE,GAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC;YACvD,CAAC,CAAC,CAAC;YACH,IAAI,OAAO,GAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACpB,OAAO,OAAO,CAAC,iBAAiB,EAAE,CAAC;SACtC;QACD,OAAO,CAAC,CAAC;IACb,CAAC;IAED,gBAAgB;IACR,oCAAkB,GAA1B;QACI,eAAe;QACf,IAAI,SAAS,GAAC,IAAI,KAAK,EAAa,CAAC;QACrC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,UAAC,CAAC,EAAC,CAAC;YAC1B,IAAG,CAAC,CAAC,WAAW,EAAE,IAAE,qBAAQ,CAAC,WAAW,EAAC;gBACrC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;aACrB;QACL,CAAC,CAAC,CAAC;QACH,IAAG,SAAS,CAAC,MAAM,GAAC,CAAC,EAAC;YAClB,SAAS,CAAC,IAAI,CAAC,UAAC,CAAC,EAAC,CAAC;gBACf,OAAO,CAAC,CAAC,iBAAiB,EAAE,GAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC;YACvD,CAAC,CAAC,CAAC;YACH,IAAI,OAAO,GAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YACzB,OAAO,OAAO,CAAC,iBAAiB,EAAE,CAAC;SACtC;QACD,OAAO,CAAC,CAAC;IACb,CAAC;IAED,iBAAiB;IACT,gCAAc,GAAtB,UAAuB,MAAa;QAChC,IAAG,MAAM,GAAC,EAAE,EAAC;YACT,MAAM,GAAC,EAAE,CAAC;SACb;QACD,IAAG,MAAM,GAAC,GAAG,EAAC;YACV,MAAM,GAAC,GAAG,CAAC;SACd;QACD,IAAI,CAAC,UAAU,GAAC,CAAC,GAAC,MAAM,CAAC;IAC7B,CAAC;IACD,oBAAoB;IACV,mCAAiB,GAA3B,UAA4B,IAAW;QACnC,IAAI,IAAI,GAAC,IAAI,CAAC,cAAc,EAAE,CAAC;QAC/B,IAAI,IAAE,CAAC,IAAI,CAAC,GAAC,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;QAC1C,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;IAC9B,CAAC;IACD,YAAY;IACF,gCAAc,GAAxB;QACI,OAAO,CAAC,GAAC,IAAI,CAAC,UAAU,CAAC;IAC7B,CAAC;IAED,cAAc;IACJ,iCAAe,GAAzB;QACI,eAAe;QACf,IAAI,aAAa,GAAC,IAAI,KAAK,EAAa,CAAC;QACzC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAC,CAAC,EAAC,CAAC;YAC5B,IAAG,CAAC,CAAC,WAAW,EAAE,IAAE,qBAAQ,CAAC,gBAAgB,EAAC;gBAC1C,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;aACzB;QACL,CAAC,CAAC,CAAC;QACH,IAAG,aAAa,CAAC,MAAM,GAAC,CAAC,EAAC;YACtB,aAAa,CAAC,IAAI,CAAC,UAAC,CAAC,EAAC,CAAC;gBACnB,OAAO,CAAC,CAAC,iBAAiB,EAAE,GAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC;YACvD,CAAC,CAAC,CAAC;YACH,IAAI,OAAO,GAAC,aAAa,CAAC,CAAC,CAAC,CAAC;YAC7B,OAAO,OAAO,CAAC,iBAAiB,EAAE,CAAC;SACtC;QACD,OAAO,CAAC,CAAC;IACb,CAAC;IAED,sIAAsI;IACtI,yBAAO,GAAP,UAAQ,QAAiB;QACrB,IAAG,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAC;YACxC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,EAAC,QAAQ,CAAC,CAAC;YACjD,QAAO,QAAQ,CAAC,OAAO,EAAC;gBACpB,KAAK,mBAAM,CAAC,2BAA2B;oBAAC;wBACpC,IAAI,CAAC,YAAY,IAAE,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;qBAC7C;oBAAA,MAAM;gBACP,KAAK,mBAAM,CAAC,6BAA6B;oBAAC;wBACtC,IAAI,CAAC,gBAAgB,IAAE,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;qBACjD;oBAAA,MAAM;gBACP,KAAK,mBAAM,CAAC,8BAA8B;oBAAC;wBACvC,IAAI,CAAC,mBAAmB,IAAE,IAAI,CAAC,SAAS,CAAC,KAAK,GAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;wBACxE,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;qBAC5B;oBAAA,MAAM;aACV;SACJ;IACL,CAAC;IAED,yBAAO,GAAP,UAAQ,MAAa;QACjB,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IACzC,CAAC;IAED,4BAAU,GAAV,UAAW,MAAa;QACpB,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IACzC,CAAC;IAED,yBAAO,GAAP,UAAQ,MAAa,EAAC,IAAW;QAC7B,IAAI,QAAQ,GAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC3C,IAAG,QAAQ,EAAC;YACR,WAAW;YACX,IAAG,QAAQ,CAAC,gBAAgB,IAAE,IAAI,EAAC;gBAC/B,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBACjC,QAAO,MAAM,EAAC;oBACV,KAAK,mBAAM,CAAC,2BAA2B;wBAAC;4BACpC,IAAI,CAAC,YAAY,IAAE,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;4BAC1C,IAAG,IAAI,CAAC,YAAY,GAAC,CAAC,EAAC;gCACnB,IAAI,CAAC,YAAY,GAAC,CAAC,CAAC;6BACvB;yBACJ;wBAAA,MAAM;oBACP,KAAK,mBAAM,CAAC,6BAA6B;wBAAC;4BACtC,IAAI,CAAC,gBAAgB,IAAE,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;4BAC9C,IAAG,IAAI,CAAC,gBAAgB,GAAC,CAAC,EAAC;gCACvB,IAAI,CAAC,gBAAgB,GAAC,CAAC,CAAC;6BAC3B;yBACJ;wBAAA,MAAM;oBACP,KAAK,mBAAM,CAAC,8BAA8B;wBAAC;4BACvC,IAAI,CAAC,mBAAmB,IAAE,IAAI,CAAC,SAAS,CAAC,KAAK,GAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;4BACxE,IAAG,IAAI,CAAC,mBAAmB,GAAC,CAAC,EAAC;gCAC1B,IAAI,CAAC,mBAAmB,GAAC,CAAC,CAAC;6BAC9B;4BACD,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;yBAC5B;wBAAA,MAAM;iBACV;aACJ;SACJ;IACL,CAAC;IAED,+BAAa,GAAb;QACI,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;IAC9B,CAAC;IAED,sIAAsI;IAEtI,oCAAkB,GAAlB;QACI,OAAO,IAAI,CAAC,gBAAgB,CAAC;IACjC,CAAC;IAED,0BAAQ,GAAR;QAEI,OAAO,IAAI,CAAC,aAAa,IAAE,yBAAW,CAAC,GAAG,IAAE,IAAI,CAAC,aAAa,IAAE,yBAAW,CAAC,IAAI,CAAC;IACrF,CAAC;IAED,+BAAa,GAAb;QAEI,OAAO,IAAI,CAAC,aAAa,CAAC;IAC9B,CAAC;IAED,mCAAiB,GAAjB;QAEI,OAAO,IAAI,CAAC,UAAU,CAAC;IAC3B,CAAC;IAED,+BAAa,GAAb;QAEI,IAAI,KAAK,GAAC,IAAI,CAAC;QACf,IAAG,IAAI,CAAC,QAAQ,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,IAAE,qBAAW,CAAC,WAAW,EAAE,CAAC,cAAc,IAAK,IAAI,CAAC,aAAa,EAAE,IAAE,yBAAW,CAAC,IAAI,EACtH;YACI,KAAK,GAAC,KAAK,CAAC;SACf;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,8BAAY,GAAZ;QACI,OAAO,IAAI,CAAC,aAAa,CAAC;IAC9B,CAAC;IAED,0BAAQ,GAAR;QAEI,OAAO,IAAI,CAAC,MAAM,CAAC;IACvB,CAAC;IAED,0BAAQ,GAAR;QAEI,OAAO,IAAI,CAAC,MAAM,CAAC;IACvB,CAAC;IAED,2BAAS,GAAT;QACI,OAAO,IAAI,CAAC,OAAO,CAAC;IACxB,CAAC;IAED,0BAAQ,GAAR,UAAS,SAAmB;QAA5B,iBAwBC;QAvBG,IAAI,KAAK,GAAC,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC;QACzB,IAAG,IAAI,CAAC,gBAAgB,CAAC,qBAAQ,CAAC,QAAQ,CAAC,EAAC;YACxC,KAAK,GAAC,EAAE,CAAC,KAAK,CAAC,EAAE,EAAC,GAAG,EAAC,GAAG,CAAC,CAAC;SAC9B;QACD,QAAO,SAAS,EAAC;YACb,KAAK,uBAAS,CAAC,OAAO;gBAAC;oBACnB,KAAK,GAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC;oBACnB,IAAI,UAAQ,GAAC,IAAI,CAAC,SAAS,CAAC;oBAC5B,IAAG,UAAQ,IAAE,uBAAS,CAAC,OAAO,EAAC;wBAC3B,IAAG,IAAI,CAAC,cAAc,EAAC;4BACnB,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC;yBAC9B;wBACD,IAAI,CAAC,cAAc,GAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,EAAC,EAAC,KAAK,EAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAC,CAAC,CAAC,IAAI,CAAC;4BACzE,KAAI,CAAC,QAAQ,CAAC,UAAQ,CAAC,CAAA;wBAC3B,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;qBACd;iBACJ;gBAAA,MAAM;YACP,KAAK,uBAAS,CAAC,QAAQ;gBAAC;oBACpB,KAAK,GAAC,EAAE,CAAC,KAAK,CAAC,EAAE,EAAC,GAAG,EAAC,GAAG,CAAC,CAAC;iBAC9B;gBAAA,MAAM;SACV;QACD,IAAI,CAAC,SAAS,GAAC,SAAS,CAAC;QACzB,IAAI,CAAC,IAAI,CAAC,KAAK,GAAC,KAAK,CAAC;IAC1B,CAAC;IAED,6BAAW,GAAX;QACI,OAAO,IAAI,CAAC,SAAS,CAAC;IAC1B,CAAC;IAED,kCAAgB,GAAhB;QACI,OAAO,EAAE,CAAC,KAAK,CAAC,EAAE,EAAC,GAAG,EAAC,GAAG,CAAC,CAAC;IAChC,CAAC;IAED,4BAAU,GAAV,UAAW,UAAqB,EAAC,QAAgB,EAAC,SAAkB;QAAlB,0BAAA,EAAA,aAAkB;QAChE,IAAI,EAAE,GAAC,IAAI,4BAAc,EAAE,CAAC;QAC5B,EAAE,CAAC,WAAW,GAAC,UAAU,CAAC;QAC1B,EAAE,CAAC,SAAS,GAAC,QAAQ,CAAC;QACtB,EAAE,CAAC,UAAU,GAAC,SAAS,CAAC;QACxB,EAAE,CAAC,iBAAiB,GAAC,IAAI,CAAC,YAAY,CAAC;QACvC,EAAE,CAAC,cAAc,GAAC,IAAI,CAAC,cAAc,CAAC;QACtC,EAAE,CAAC,UAAU,GAAC,IAAI,CAAC;QACnB,EAAE,CAAC,aAAa,GAAC,IAAI,CAAC,eAAe,EAAE,CAAC;QACxC,OAAO,EAAE,CAAC;IACd,CAAC;IAED,6BAAW,GAAX;QAEI,OAAO,IAAI,CAAC,MAAM,IAAE,IAAI,CAAC,MAAM,CAAC;IACpC,CAAC;IAED,+BAAa,GAAb,UAAc,IAAgB;QAE1B,IAAG,IAAI,IAAE,IAAI,CAAC,aAAa,EAAC;YACxB,IAAI,CAAC,UAAU,GAAC,IAAI,CAAC,aAAa,CAAC;YACnC,IAAI,CAAC,aAAa,GAAC,IAAI,CAAC;SAC3B;QACD,IAAG,IAAI,IAAE,yBAAW,CAAC,GAAG,IAAE,IAAI,IAAE,yBAAW,CAAC,KAAK,EAAC;YAC9C,IAAI,CAAC,KAAK,CAAC,SAAS,GAAC,CAAC,CAAC,GAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,GAAC,IAAI,CAAC,UAAU,CAAC;SACvE;QACD,IAAG,IAAI,IAAE,yBAAW,CAAC,IAAI,EAAC;YACtB,IAAG,IAAI,CAAC,eAAe,EAAE,IAAE,0BAAY,CAAC,IAAI,EAAC;gBACzC,IAAI,CAAC,KAAK,CAAC,SAAS,GAAC,IAAI,CAAC,cAAc,GAAC,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;aACnE;SACJ;IACL,CAAC;IAED,4BAAU,GAAV;QACI,IAAI,CAAC,aAAa,CAAC,yBAAW,CAAC,GAAG,CAAC,CAAC;QACpC,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAC,KAAK,CAAC;QAC5B,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,KAAK,CAAC,MAAM,GAAC,KAAK,CAAC;QACxB,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;QAC3B,IAAI,CAAC,YAAY,GAAC,IAAI,CAAC,QAAQ,CAAC;QAChC,wBAAc,CAAC,WAAW,EAAE,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;QACtD,IAAG,IAAI,CAAC,cAAc,EAAC;YACnB,IAAI,CAAC,cAAc,EAAE,CAAC;SACzB;IACL,CAAC;IAED,2BAAS,GAAT;QACI,IAAI,CAAC,QAAQ,CAAC,uBAAS,CAAC,OAAO,CAAC,CAAC;IACrC,CAAC;IAED;;;;OAIG;IACH,4BAAU,GAAV,UAAW,IAAmB;QAC1B,OAAO,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;IAED;;;;;;OAMG;IACH,kCAAgB,GAAhB,UAAiB,IAAW,EAAC,MAAoB,EAAC,IAAkB,EAAC,WAAqB;QAA7D,uBAAA,EAAA,cAAoB;QAC7C,IAAG,IAAI,CAAC,aAAa,EAAE,IAAE,yBAAW,CAAC,GAAG,EAAC;YACrC,OAAO;SACV;QAED,IAAI,KAAK,GAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,EAAC,IAAI,EAAC,MAAM,CAAC,CAAC;QACjD,YAAY;QACZ,qFAAqF;QACrF,0CAA0C;QAC1C,+BAA+B;QAC/B,YAAY;QACZ,SAAS;QACT,IAAI;QACJ,mBAAmB;QACnB,wFAAwF;QACxF,+BAA+B;QAC/B,yBAAyB;QACzB,SAAS;QACT,IAAI;QAEJ,IAAG,WAAW,EAAC;YAGX,IAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC,UAAC,UAAU,EAAE,SAAS;gBACjD,IAAI,QAAQ,GAAG,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC;gBACrE,IAAI,QAAQ,KAAK,IAAI,IAAI,WAAW,EAAE;oBAElC,IAAG,IAAI,IAAE,IAAI,CAAC,QAAQ,EAAC;wBACnB,IAAI,CAAC,QAAQ,EAAE,CAAC;qBACnB;oBACD,WAAW,EAAE,CAAC;iBACjB;gBACD,wCAAwC;YAC5C,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IAED,kCAAgB,GAAhB,UAAiB,IAAW,EAAC,WAAoB;QAAjD,iBAUC;QARI,IAAI,KAAK,GAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,EAAC,IAAI,EAAC,KAAK,CAAC,CAAC;QACjD,IAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC,UAAC,UAAU,EAAE,SAAS;YACjD,IAAI,QAAQ,GAAG,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC;YACrE,IAAI,QAAQ,KAAK,IAAI,IAAI,WAAW,EAAE;gBAClC,WAAW,EAAE,CAAC;aACjB;YACD,KAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC;IACP,CAAC;IACD,qCAAqC;IACrC,sBAAI,GAAJ,UAAK,IAAW;QACZ,IAAI,SAAS,GAAC,CAAC,CAAC;QAChB,IAAG,IAAI,GAAC,GAAG,EACX;YACI,IAAI,GAAC,GAAG,CAAC;YACT,SAAS,GAAC,CAAC,CAAC;SACf;QACD,IAAG,IAAI,GAAC,CAAC,GAAG,EACZ;YACI,IAAI,GAAC,CAAC,GAAG,CAAC;YACV,SAAS,GAAC,CAAC,CAAC,CAAC;SAChB;QACD,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC;QACjB,OAAO,SAAS,CAAC;IACrB,CAAC;IAED,sBAAI,GAAJ,UAAK,IAAW;QAAhB,iBA0CC;QAzCG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC;QACjB,QAAQ;QACR,IAAI,KAAK,GAAC,qBAAW,CAAC,WAAW,EAAE,CAAC,UAAU,EAAE,CAAC;QACjD,KAAK,CAAC,OAAO,CAAC,UAAC,IAAS,EAAC,QAAiB;YACtC,MAAM;YACN,IAAI,IAAI,GAAC,IAAI,CAAC,WAAW,EAAE,CAAC;YAC5B,IAAG,IAAI,CAAC,QAAQ,CAAC,KAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,EAAC;gBACtC,IAAG,KAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAC;oBACvB,KAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,IAAI,CAAC;iBACzB;gBACD,IAAG,KAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAC;oBACvB,KAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,IAAI,CAAC;iBACzB;aACJ;QACL,CAAC,CAAC,CAAA;QAEF,IAAI,QAAQ,GAAC,qBAAW,CAAC,WAAW,EAAE,CAAC,WAAW,EAAE,CAAC;QACrD,IAAI,QAAQ,GAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;QAEpC,IAAG,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,EAAC;YAC1C,IAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAC;gBAC3B,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,QAAQ,CAAC,IAAI,CAAC;aAC7B;YACD,IAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAC;gBAC3B,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,QAAQ,CAAC,IAAI,CAAC;aAC7B;YACD,IAAI,CAAC,eAAe,EAAE,CAAC;SAC1B;QACD,IAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,QAAQ,CAAC,IAAI,EAAC;SAE5B;QACD,IAAG,IAAI,CAAC,IAAI,CAAC,CAAC,IAAE,QAAQ,CAAC,IAAI,GAAC,GAAG,EAAC;YAC9B,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,QAAQ,CAAC,IAAI,GAAC,GAAG,CAAC;YAC9B,IAAG,IAAI,CAAC,aAAa,IAAE,yBAAW,CAAC,IAAI,EAAC;gBACpC,wBAAc,CAAC,WAAW,EAAE,CAAC,gBAAgB,EAAE,CAAC;gBAGhD,IAAI,CAAC,aAAa,CAAC,yBAAW,CAAC,IAAI,CAAC,CAAC;gBACrC,wBAAc,CAAC,WAAW,EAAE,CAAC,aAAa,EAAE,CAAC;aAChD;SACJ;IACL,CAAC;IACM,4BAAU,GAAjB;QACI,IAAI,CAAC,aAAa,CAAC,yBAAW,CAAC,IAAI,CAAC,CAAC;QACrC,IAAI,CAAC,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;IAC/B,CAAC;IACO,iCAAe,GAAvB;QACI,IAAI,EAAE,GAAC,IAAI,4BAAc,EAAE,CAAC;QAC5B,EAAE,CAAC,WAAW,GAAC,uBAAU,CAAC,IAAI,CAAC;QAC/B,EAAE,CAAC,SAAS,GAAC,KAAK,CAAC;QACnB,EAAE,CAAC,UAAU,GAAC,CAAC,CAAC;QAChB,EAAE,CAAC,iBAAiB,GAAC,IAAI,CAAC,YAAY,CAAC;QACvC,EAAE,CAAC,cAAc,GAAC,IAAI,CAAC,cAAc,CAAC;QACtC,EAAE,CAAC,UAAU,GAAC,IAAI,CAAC;QACnB,EAAE,CAAC,aAAa,GAAC,IAAI,CAAC,eAAe,EAAE,CAAA;QACvC,qBAAW,CAAC,WAAW,EAAE,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,EAAE,EAAC,KAAK,EAAC,IAAI,CAAC,QAAQ,EAAE,GAAC,GAAG,CAAC,CAAA;QAC/E,IAAI,CAAC,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;IAC/B,CAAC;IACD,wBAAM,GAAN,UAAO,GAAW;QACd,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACrB,CAAC;IAED,4BAAU,GAAV,UAAW,GAAU;QACjB,IAAI,CAAC,cAAc,GAAC,GAAG,CAAC;IAC5B,CAAC;IAED,+BAAa,GAAb,UAAc,GAAU;QACpB,IAAG,IAAI,CAAC,WAAW,IAAE,CAAC;YACtB,IAAI,CAAC,WAAW,GAAC,GAAG,CAAC;IACzB,CAAC;IAED,+BAAa,GAAb;QACI,OAAO,IAAI,CAAC,WAAW,CAAC;IAC5B,CAAC;IACD,UAAU;IACV,yBAAO,GAAP,UAAQ,OAAe;QACnB,IAAI,CAAC,IAAI,CAAC,MAAM,GAAC,OAAO,CAAA,CAAC,CAAA,IAAI,CAAC,WAAW,CAAA,CAAC,CAAA,CAAC,IAAI,CAAC,WAAW,CAAC;IAChE,CAAC;IACD,MAAM;IACN,2BAAS,GAAT;QACI,IAAI,CAAC,MAAM,CAAC,OAAO,GAAC,CAAC,CAAC;IAC1B,CAAC;IACD,wBAAM,GAAN,UAAO,EAAE;QAEL,IAAG,IAAI,CAAC,WAAW,EACnB;YACI,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,MAAM,CAAC,CAAC,GAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,MAAM,CAAC,CAAC,GAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAClH;QACD,IAAG,IAAI,CAAC,MAAM,EAAC;YACX,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC,UAAU,CAAC,CAAC,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;SACjI;QACD,IAAI,CAAC,IAAI,CAAC,MAAM,GAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,GAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,EAAE,CAAC,CAAC,CAAC;QACnD,IAAG,IAAI,CAAC,aAAa,EAAE,IAAE,yBAAW,CAAC,IAAI,IAAE,IAAI,CAAC,eAAe,EAAE,IAAE,0BAAY,CAAC,IAAI,EAAC;YACjF,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAC,IAAI,CAAC;SAC9B;QACD,IAAG,IAAI,CAAC,IAAI,CAAC,CAAC,IAAE,qBAAW,CAAC,WAAW,EAAE,CAAC,cAAc,EAAC;YACrD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,GAAC,CAAC,GAAC,CAAC,CAAC,CAAC;SAChC;QACD,MAAM;QACN,8CAA8C;QAC9C,iEAAiE;QACjE,iCAAiC;QACjC,gCAAgC;QAChC,2DAA2D;QAC3D,gDAAgD;QAChD,qBAAqB;QACrB,mDAAmD;QACnD,+CAA+C;QAC/C,0DAA0D;QAC1D,gCAAgC;QAChC,wBAAwB;QACxB,mCAAmC;QACnC,4CAA4C;QAC5C,gEAAgE;QAChE,0DAA0D;QAC1D,+DAA+D;QAC/D,wBAAwB;QACxB,kDAAkD;QAClD,kDAAkD;QAClD,uDAAuD;QACvD,yBAAyB;QACzB,uDAAuD;QACvD,oBAAoB;QACpB,gBAAgB;QAChB,uBAAuB;QACvB,sDAAsD;QACtD,mBAAmB;QACnB,YAAY;QACZ,QAAQ;QACR,IAAI;IACR,CAAC;IAED,wGAAwG;IACxG,+BAAa,GAAb,UAAc,QAAiB;QAC3B,IAAI,CAAC,aAAa,GAAC,QAAQ,CAAC;IAChC,CAAC;IACD,mCAAiB,GAAjB,UAAkB,QAAiB;QAC/B,IAAI,CAAC,kBAAkB,GAAC,QAAQ,CAAC;IACrC,CAAC;IACD,kCAAgB,GAAhB,UAAiB,QAAiB;QAC9B,IAAI,CAAC,gBAAgB,GAAC,QAAQ,CAAC;IACnC,CAAC;IACD,kCAAgB,GAAhB,UAAiB,QAAiB;QAC9B,IAAI,CAAC,cAAc,GAAC,QAAQ,CAAC;IACjC,CAAC;IACD,mCAAiB,GAAjB,UAAkB,QAAiB;QAC/B,IAAI,CAAC,sBAAsB,GAAC,QAAQ,CAAC;IACzC,CAAC;IAED,mGAAmG;IAE3F,6BAAW,GAAnB;QAEI,WAAW;QACX,IAAI,IAAI,GAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QAC1C,IAAI,CAAC,QAAQ,GAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QACjC,IAAI,MAAM,GAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QAC9C,IAAI,CAAC,OAAO,GAAC,MAAM,CAAC,WAAW,EAAE,CAAC;QAClC,IAAI,EAAE,GAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;QACtC,IAAI,CAAC,MAAM,GAAC,EAAE,CAAC,WAAW,EAAE,CAAC;QAC7B,IAAI,UAAU,GAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;QAC1D,IAAI,CAAC,UAAU,GAAC,UAAU,CAAC,WAAW,EAAE,CAAC;QACzC,IAAI,CAAC,WAAW,GAAC,UAAU,CAAC,cAAc,EAAE,CAAC;QAC7C,IAAI,MAAM,GAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QAC9C,IAAI,CAAC,UAAU,GAAC,MAAM,CAAC,WAAW,EAAE,CAAC;QACrC,2BAA2B;QAE3B,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,MAAM,CAAC,gBAAgB,EAAE,CAAC;QAC1B,EAAE,CAAC,gBAAgB,EAAE,CAAC;QACtB,UAAU,CAAC,gBAAgB,EAAE,CAAC;QAC9B,MAAM,CAAC,gBAAgB,EAAE,CAAC;QAC1B,IAAG,IAAI,CAAC,MAAM,EAAC;YACX,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC,UAAU,CAAC,CAAC,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;SACjI;IACL,CAAC;IAED,2BAAS,GAAT;QACI,IAAI,GAAG,GAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAC,GAAG,CAAC,CAAC;QACrB,QAAO,IAAI,CAAC,YAAY,EAAC;YACrB,KAAK,EAAE;gBAAE,GAAG,GAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAC,GAAG,CAAC,CAAC;gBAAA,MAAM;YAChC;gBAAS,GAAG,GAAC,IAAI,CAAC,OAAO,CAAC;gBAAA,MAAM;SACnC;QACD,IAAI,MAAM,GAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAC,GAAG,CAAC,CAAC,GAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;QAC7F,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,4BAAU,GAAV;QAEI,OAAO,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC5G,CAAC;IAED,+BAAa,GAAb;QAEI,OAAO,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC5G,CAAC;IAED,8BAAY,GAAZ;QACI,OAAO,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,UAAU,CAAC,CAAC,GAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,UAAU,CAAC,CAAC,GAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAChH,CAAC;IAED,iCAAiC;IACjC,gCAAc,GAAd;QACI,OAAO,IAAI,CAAC,OAAO,CAAC;IACxB,CAAC;IApjDgB,OAAO;QAD3B,OAAO;OACa,OAAO,CAqjD3B;IAAD,cAAC;CArjDD,AAqjDC,CArjDoC,EAAE,CAAC,SAAS,GAqjDhD;kBArjDoB,OAAO","file":"","sourceRoot":"/","sourcesContent":["import { Enemy_State, Enemy_Buff_Type, Enemy_DeBuff_Type, Enemy_Injured_Type } from \"../Enemy/EnemyConfig\";\r\nimport HpProgressBar from \"./HpProgressBar\";\r\nimport { GameEffectId, GameEffectsManager } from \"../Game/GameEffectsManager\";\r\nimport GameManager from \"../GameManager\";\r\nimport { GongJiData } from \"../Hero/Data/HeroData\";\r\nimport {  KeyFrameData, MonsterFaceName, MonsterSkinType, InjuredData, FeedBackType,  StrengthType, HiddenAttribute, MonsterAttData, MonsterSkillData, ColorType } from \"./MonsterData\";\r\nimport { JsonMonsterConfigure, MonsterConfigureManager } from \"./Data/MonsterConfigure\";\r\nimport MonsterManager from \"./MonsterManager\";\r\nimport { JsonMonsterGrowthAttributes, MonsterGrowthAttributesManager } from \"./Data/MonsterGrowthAttributes\";\r\nimport GroundManager from \"../Game/GroundManager\";\r\nimport { GameMode, GameState, Text_Type } from \"../Constants\";\r\nimport { MazeManager } from \"../Maze/MazeManager\";\r\nimport { BossChallengeManager } from \"../Activity/BossChallenge\";\r\nimport { BuffId, BuffType, DamageType, HaloData, HaloId, Hero_Type, SkillType } from \"../Hero/Game/HeroConfig\";\r\nimport BuffTimer from \"../Hero/Game/BuffTimer\";\r\nimport { BuffData } from \"../Hero/Game/BuffData\";\r\nimport SkillManager from \"../Game/SkillManager\";\r\nimport { JsonMonsterAttribute } from \"./Data/MonsterAttribute\";\r\nimport { SoundIndex } from \"../Sound/AudioConstants\";\r\nimport { MonsterSkillManager } from \"./Data/MonsterSkill\";\r\nimport Wall from \"../Wall/Wall\";\r\nimport WallManager from \"../Wall/WallManager\";\r\nimport { WallType } from \"../Wall/WallConfig\";\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n/**怪物通用类，只处理数据，不处理表现 */\r\n@ccclass\r\nexport default class Monster extends cc.Component {\r\n    \r\n    protected spine: sp.Skeleton=null;\r\n    /**皮肤类型 */\r\n    protected skin_type:MonsterSkinType=MonsterSkinType.Skin1;\r\n    /**怪物id */\r\n    public monster_id: number=10011;\r\n    /**怪物等级 */\r\n    protected monster_level:number=1;\r\n    /**怪物血量系数 */\r\n    protected monster_hp_rate:number=1;\r\n    /**怪物种类 */\r\n    public monster_type: number=1;\r\n    /**怪物的最终战斗使用的数值,可更改 */\r\n    protected monster_data: JsonMonsterGrowthAttributes=null;\r\n    /**怪物的基础战斗数值，不可更改 */\r\n    protected base_attribute_data: JsonMonsterGrowthAttributes=null;\r\n    /**怪物的基础数值 */\r\n    protected base_data: JsonMonsterConfigure=null;\r\n    /**怪物的隐藏属性 */\r\n    hidden_attribute:HiddenAttribute=null;\r\n    protected cur_move_speed: number=0;\r\n    protected move_target_pos: cc.Vec2=null;\r\n    protected move_direction:number=Math.PI*3/2;\r\n    /**朝向名称 */\r\n    protected face_type:MonsterFaceName=MonsterFaceName.Front;\r\n    /**当前的血量 */\r\n    protected cur_hp: number=0;\r\n    /**最大的血量 */\r\n    protected max_hp: number=0;\r\n    /**血条进度条 */\r\n    protected hp_progress: HpProgressBar=null;    \r\n    /**阴影 */\r\n    protected shadow: cc.Node=null;\r\n    shadow_pos: cc.Vec2=null;\r\n    shadow_size: cc.Size=null;\r\n    /**减伤率 */\r\n    jianshang_rate:number=0;\r\n    /**增伤率 */\r\n    zengshang_rate:number=0;\r\n    /**攻击间隔（秒，表示多少秒攻击一次） */\r\n    protected att_jiange: number=1;\r\n    /**攻击计时 */\r\n    protected att_jishu: number=0;\r\n    /**技能计时 */\r\n    protected skill_jishu: number=0;\r\n    /**当前的攻击力 */\r\n    protected cur_att: number=0;\r\n    /**当前的韧性 */\r\n    protected cur_toughness:number=0;\r\n    /**攻击目标,攻击目标为null时，目标就是城墙 */\r\n    protected att_target:cc.Node=null;    \r\n    /**怪物当前的状态 */\r\n    protected monster_state: Enemy_State=Enemy_State.standby;\r\n    /**怪物上一个状态 */\r\n    protected prev_state: Enemy_State=Enemy_State.standby;\r\n    /**怪物当前拥有的buff */\r\n    protected monster_buff: Map<BuffId,BuffTimer>=null;\r\n    /**怪物当前拥有的debuff */\r\n    protected monster_debuff: Map<BuffId,BuffTimer>=null;\r\n    /**指定的缩放值*/\r\n    protected setup_scale:number=0.4;\r\n    protected is_boss:boolean=false;\r\n    public is_can_count:boolean=true;\r\n    protected is_count:boolean=true;\r\n    /**城墙的Y轴坐标 */\r\n    protected wall_yy:number=0;\r\n    protected att_pos:cc.Vec2=cc.v2(0,0);\r\n    /**分数 */\r\n    public score:number=0;\r\n    /**狙击瞄准的位置 */\r\n    protected juji_pos:cc.Vec2=cc.v2(0,0);\r\n    /**血条的位置 */\r\n    protected hp_pos:cc.Vec2=cc.v2(0,0);\r\n    /**中心位置，用于范围检测 */\r\n    protected center_pos:cc.Vec2=cc.v2(0,0);\r\n    //受伤动作\r\n    protected injured_action:cc.Tween=null;\r\n\r\n    /**初始化回调 */\r\n    private init_callback:Function=null;\r\n    /**怪物血量发生变化时的回调 */\r\n    private change_hp_callback:Function=null;\r\n    /**眩晕回调，用于boss施法被中断 */\r\n    private xuanyun_callback:Function=null;\r\n    /**死亡回调，怪物死亡时触发，用于播放自身对应的死亡动画 */\r\n    private death_callback:Function=null;\r\n    /**被主动技能受伤时的回调 */\r\n    private active_injury_callback:Function=null;\r\n    /**移动到目标地点回调 */\r\n    protected move_end_callback:Function=null;\r\n    /**debuff增伤统计 */    \r\n    private injury_damage_stats:Map<number,number>=null;\r\n    /**沟壑伤害计算 */\r\n    is_can_gully:boolean=false;\r\n    /**拥有的光环 */\r\n    private monster_halo:Map<HaloId,HaloData>=null;\r\n    /**额外的闪避率 */\r\n    private ex_miss_rate:number=0;\r\n    /**额外的防御力 */\r\n    private ex_defense_value:number=0;\r\n    /**额外的移动速度 */\r\n    private ex_move_speed_value:number=0;\r\n    /**-------------------------------技能的--------------------------------------------- */\r\n    /**技能数据 */\r\n    skill_data:MonsterSkillData=null;\r\n    /**所有技能的当前的冷却时间 */\r\n    skill_cold_down:number[]=[];\r\n    /**技能队列 */\r\n    skill_queue:number[]=[];\r\n    /**当前使用的技能,0代表没有 */\r\n    cur_skill_index:number=0;\r\n    /**碰撞器 */\r\n    collider:cc.Collider=null;\r\n    /**要攻击的城墙 */\r\n    att_wall:Wall=null;\r\n    /**牵引最小距离 */\r\n    min_qianyin:number=0;\r\n\r\n    cur_color:ColorType=ColorType.Null;\r\n\r\n    protected onLoad(): void {\r\n       \r\n        this.spine=this.node.getComponent(sp.Skeleton);\r\n        this.loadInitPos();\r\n        this.wall_yy=GameManager.getInstance().enemy_att_y;\r\n        this.monster_buff=new Map<BuffId,BuffTimer>();\r\n        this.monster_debuff=new Map<BuffId,BuffTimer>();\r\n        this.monster_halo=new Map<HaloId,HaloData>();\r\n        this.collider=this.node.getComponent(cc.Collider);\r\n        this.collider.enabled=true;\r\n    }\r\n\r\n    init(monsterId: number,level:number,hpRate:number,isCanCount:boolean=true) {\r\n        this.monster_id=monsterId;\r\n        this.monster_level=level;\r\n        this.monster_hp_rate=hpRate;\r\n        let jsonData=MonsterConfigureManager.getInstance().getJsonMonsterConfigure(monsterId);\r\n        this.monster_type=jsonData.MonsterClass;\r\n        let attributeId=MonsterGrowthAttributesManager.getId(this.monster_id,level);\r\n        this.base_attribute_data=MonsterGrowthAttributesManager.getInstance().getJsonMonsterGrowthAttributes(attributeId);      \r\n        this.is_can_gully=true;\r\n        this.is_can_count=isCanCount;\r\n        this.is_count=this.is_can_count;\r\n        this.ex_miss_rate=0;\r\n        this.ex_defense_value=0;\r\n        //this.initOutward(jsonData.Skin);        \r\n        this.initData(jsonData);\r\n        this.addHpProgress();\r\n        this.addShadow();\r\n        this.setEnemyState(Enemy_State.standby);\r\n        this.setColor(ColorType.Null);\r\n        this.collider=this.node.getComponent(cc.Collider);\r\n        this.collider.enabled=true;\r\n        this.min_qianyin=0;\r\n        if(this.init_callback){\r\n            this.init_callback();\r\n        }\r\n        //this.spine.paused=false;\r\n        //this.move_direction=Math.PI*3/2+Math.random()*(Math.PI/6)-(Math.PI/12);        \r\n    }\r\n\r\n    initSummon(monsterId: number,bossAttribute:JsonMonsterGrowthAttributes){\r\n        this.monster_id=monsterId;\r\n        let jsonData=MonsterConfigureManager.getInstance().getJsonMonsterConfigure(monsterId);\r\n        this.monster_type=jsonData.MonsterClass;\r\n        this.is_can_gully=true;\r\n        this.is_can_count=false;\r\n        this.is_count=this.is_can_count;\r\n        this.base_attribute_data=cc.instantiate(bossAttribute);\r\n        switch(jsonData.StrengthType){\r\n            case StrengthType.Elite:{\r\n                this.base_attribute_data.Health=bossAttribute.Health/50;\r\n                this.base_attribute_data.Attack=bossAttribute.Attack*0.9724;\r\n                this.base_attribute_data.Defense=bossAttribute.Defense*0.6;\r\n            }break;\r\n            case StrengthType.Normal:{\r\n                this.base_attribute_data.Health=bossAttribute.Health/50;\r\n                this.base_attribute_data.Attack=bossAttribute.Attack*0.9592;\r\n                this.base_attribute_data.Defense=0;\r\n            }break;\r\n        }        \r\n        this.initData(jsonData);\r\n        this.addHpProgress();\r\n        this.addShadow();\r\n        this.setEnemyState(Enemy_State.standby);\r\n        this.setColor(ColorType.Null);\r\n        this.collider=this.node.getComponent(cc.Collider);\r\n        this.collider.enabled=true;\r\n        this.min_qianyin=0;\r\n        if(this.init_callback){\r\n            this.init_callback();\r\n        }\r\n    }\r\n\r\n    refreshData(level:number){\r\n        this.monster_level=level;\r\n        let jsonData=MonsterConfigureManager.getInstance().getJsonMonsterConfigure(this.monster_id);        \r\n        //重置数据\r\n        let attributeId=MonsterGrowthAttributesManager.getId(this.monster_id,level);\r\n        this.base_attribute_data=MonsterGrowthAttributesManager.getInstance().getJsonMonsterGrowthAttributes(attributeId);  \r\n        this.monster_data=cc.instantiate(this.base_attribute_data);\r\n        this.base_data=jsonData;\r\n        this.cur_hp=this.max_hp=this.monster_data.Health;\r\n        this.cur_move_speed=this.base_data.Speed;\r\n        this.att_jiange=1/this.base_data.AttackSpeed;\r\n        this.cur_att=this.monster_data.Attack;\r\n        // if(this.base_data.SkillNum>0){\r\n        //     this.loadMonsterSkillData();\r\n        // }\r\n    }\r\n    /**初始化外观*/\r\n    // private initOutward(skinType:MonsterSkinType){\r\n    //     this.skin_type=skinType;\r\n    //     this.setSkin(this.getSkinName());\r\n    //     this.playSpinAnimaton(this.getAnimaName(MonsterActionName.Idle),true);\r\n    // }\r\n    /**初始化数据 */\r\n    private initData(baseData:JsonMonsterConfigure){\r\n        this.monster_data=cc.instantiate(this.base_attribute_data);\r\n        this.base_data=baseData;\r\n        this.cur_hp=this.max_hp=this.monster_data.Health*this.monster_hp_rate;\r\n        this.cur_move_speed=this.base_data.Speed;\r\n        this.att_jiange=1/this.base_data.AttackSpeed;\r\n        this.cur_att=this.monster_data.Attack;\r\n        this.cur_toughness=0;\r\n        this.setup_scale=this.base_data.Scale;\r\n        this.node.scale=this.setup_scale;\r\n        this.node.opacity=255;        \r\n        this.skin_type=baseData.Skin;\r\n        this.hidden_attribute=new HiddenAttribute();\r\n        this.injury_damage_stats=new Map<number,number>();\r\n        if(this.base_data.SkillNum>0){\r\n            this.loadMonsterSkillData();\r\n        }\r\n    }\r\n\r\n    private loadMonsterSkillData(){\r\n        let skillData=new MonsterSkillData();\r\n        skillData.ColdDown=new Map<number,number>();\r\n        skillData.InitColdDown=new Map<number,number>();\r\n        skillData.SkillValue_1=new Map<number,number>();\r\n        skillData.SkillValue_2=new Map<number,number>();\r\n        skillData.SkillValue_3=new Map<number,number>();\r\n        skillData.SkillValue_4=new Map<number,number>();\r\n        skillData.CastingRange=new Map<number,number>();\r\n        for(let s=1; s<=this.base_data.SkillNum; s++){            \r\n            let id=MonsterSkillManager.getInstance().getId(this.monster_id,s,this.base_attribute_data.SkillLevel)\r\n            let jsonData=MonsterSkillManager.getInstance().getJsonMonsterSkill(id);\r\n            if(jsonData == null ) continue;\r\n            skillData.SkillValue_1.set(s,jsonData.SkillValue_1);\r\n            skillData.SkillValue_2.set(s,jsonData.SkillValue_2);\r\n            skillData.SkillValue_3.set(s,jsonData.SkillValue_3);\r\n            skillData.SkillValue_4.set(s,jsonData.SkillValue_4);\r\n            skillData.ColdDown.set(s,jsonData.ColdDown);\r\n            skillData.InitColdDown.set(s,jsonData.InitialColdDown);\r\n            this.skill_cold_down[s-1]=jsonData.InitialColdDown;\r\n            skillData.CastingRange.set(s,jsonData.CastingRange);\r\n        }\r\n        \r\n        this.skill_data=skillData;\r\n    }\r\n\r\n    protected addHpProgress()\r\n    {\r\n        if(!this.hp_progress)\r\n        {\r\n            if(this.base_data.StrengthType!=StrengthType.Boss)\r\n            {\r\n                this.hp_progress=GameManager.getInstance().enemy_hp_manager.createEnemyHp(cc.v2(this.node.x+this.hp_pos.x*this.setup_scale,this.node.y+this.hp_pos.y*this.setup_scale)).getComponent(HpProgressBar);\r\n            }\r\n            this.showHp();\r\n        }\r\n    }\r\n\r\n    protected addShadow(){\r\n        //if(this.base_data.StrengthType!=StrengthType.Boss)\r\n        if(!this.shadow){\r\n            this.shadow=GroundManager.getInstance().createShadow(this.node.getPosition().add(this.shadow_pos));\r\n            this.shadow.width=this.node.scaleX*this.shadow_size.width;\r\n            this.shadow.height=this.node.scaleY*this.shadow_size.height;\r\n        }else{\r\n            this.shadow.opacity=255;\r\n            this.shadow.setPosition(this.node.getPosition().add(this.shadow_pos));\r\n        }\r\n    }\r\n\r\n    protected showHp()\r\n    {\r\n        if(this.hp_progress)\r\n        {\r\n            this.hp_progress.changeProgress(this.cur_hp/this.max_hp);\r\n        }\r\n    }\r\n\r\n    setIsCanCount(isCanCount:boolean){\r\n        this.is_can_count=isCanCount;\r\n        // if(this.is_can_count==false){\r\n        //     cc.log('setIsCanCount==false');\r\n        // }\r\n    }\r\n\r\n    getSetupScale():number{\r\n        return this.setup_scale;\r\n    }\r\n\r\n    getSheShouAttackScale():number{\r\n        let scale=0.3;\r\n        switch(this.base_data.StrengthType){\r\n            case StrengthType.Normal:{\r\n                scale=0.55;\r\n            }break;\r\n            case StrengthType.Elite:{\r\n                scale=0.75;\r\n            }break;\r\n            case StrengthType.Boss:{\r\n                scale=1.2;\r\n            }break;\r\n        }\r\n        return scale;\r\n    }\r\n\r\n    getWallAttackScale():number{\r\n        let scale=1;\r\n        switch(this.base_data.StrengthType){\r\n            case StrengthType.Normal:{\r\n                scale=0.6;\r\n            }break;\r\n            case StrengthType.Elite:{\r\n                scale=0.9;\r\n            }break;\r\n        }\r\n        return scale;\r\n    }\r\n\r\n    getXuanyunScale():number{\r\n        let scale=0.3;\r\n        switch(this.base_data.StrengthType){\r\n            case StrengthType.Normal:{\r\n                scale=0.55/this.setup_scale;\r\n            }break;\r\n            case StrengthType.Elite:{\r\n                scale=0.75/this.setup_scale;\r\n            }break;\r\n            case StrengthType.Boss:{\r\n                scale=1.5/this.setup_scale;\r\n            }break;\r\n        }\r\n        return scale;\r\n    }\r\n\r\n    getStrengthType():StrengthType{\r\n        return this.base_data.StrengthType;\r\n    }\r\n\r\n    getMonsterData():JsonMonsterGrowthAttributes{\r\n        return this.monster_data;\r\n    }\r\n\r\n    /**计算伤害数据 */\r\n    getInjuredData(gjData:GongJiData):InjuredData{\r\n        let data=new InjuredData();\r\n        if(this.getIsDie()){\r\n            data.feedback_type=FeedBackType.Die;\r\n            return data;\r\n        }\r\n        let gm=GameManager.getInstance();\r\n        let missRate=0;        \r\n        let critRate=0;\r\n        //如果是普通攻击，计算闪避和暴击，默认为0\r\n        let heroData=gjData.hero_data;\r\n        //怪物的防御力\r\n        let selfDefense=this.monster_data.Defense+this.ex_defense_value;\r\n        let finalDefense=InjuredData.calcFinalDefense(selfDefense,heroData.ignore_defense_rate)\r\n        if(gjData.damage_type==DamageType.Normal){\r\n            if(this.isHaveBuff(BuffId.Boss2_MianYi_Attack))\r\n            {\r\n                data.feedback_type=FeedBackType.MainYi;\r\n                data.text_type=Enemy_Injured_Type.WuDi;\r\n                gm.hp_text_manager.createTypeText(cc.v2(this.node.x,this.node.y+60),Enemy_Injured_Type.WuDi,null);\r\n                return data;\r\n            }\r\n            missRate=InjuredData.calcMissRate(this.monster_data.Miss,gjData.hero_data.Hit)+this.ex_miss_rate-gjData.hero_data.hit_ex;\r\n            critRate=InjuredData.calcCritRate(gjData.hero_data.Critical,this.monster_data.AntiCritical);\r\n            critRate+=gjData.hero_data.crit_ex;\r\n            //获取一个概率类型\r\n            let type=InjuredData.calcOnceType([missRate,critRate,1]);\r\n            switch(type){\r\n                case 0:{\r\n                    //闪避\r\n                    data.feedback_type=FeedBackType.ShanBi;\r\n                    data.setDamageNum(0);\r\n                    data.text_type=Enemy_Injured_Type.ShanBi;\r\n                    gm.hp_text_manager.createTypeText(cc.v2(this.node.x,this.node.y+60),Enemy_Injured_Type.ShanBi,null);\r\n                }break;\r\n                case 1:{\r\n                    //暴击\r\n                    data.feedback_type=FeedBackType.BaoJi;\r\n                    let damage=InjuredData.calcNormalCritDamageNum(heroData.total_attack,finalDefense,heroData.attack_increase_damage+heroData.all_increase_damage,this.jianshang_rate,InjuredData.calcFinalExtraCrit(heroData.ExtraCritical,this.monster_data.AntiExtraCritical));\r\n                    data.setDamageNum(damage);\r\n                    data.text_type=Enemy_Injured_Type.BaoJi;\r\n                    if(gjData.pet_id==0){\r\n                        GameManager.getInstance().all_hero.get(gjData.hero_type).onDamageMonster(DamageType.Normal,true,this.node);\r\n                    }\r\n                    if(!gm.is_show_text){\r\n                        gm.hp_text_manager.createTypeText(cc.v2(this.node.x,this.node.y+60),data.text_type,null);\r\n                    }\r\n                }break;\r\n                case 2:{\r\n                    //普通命中\r\n                    data.feedback_type=FeedBackType.Null;                 \r\n                    let damage=InjuredData.calcNormalDamageNum(heroData.total_attack,finalDefense,heroData.attack_increase_damage+heroData.all_increase_damage,this.jianshang_rate);\r\n                    data.setDamageNum(damage);\r\n                    data.text_type=Enemy_Injured_Type.Normal_Attack;\r\n                    if(gjData.pet_id==0){\r\n                        GameManager.getInstance().all_hero.get(gjData.hero_type).onDamageMonster(DamageType.Normal,false,this.node);\r\n                    }\r\n                }break;\r\n            }\r\n        }else if(gjData.damage_type==DamageType.Skill){\r\n            //不需要计算闪避，技能必中\r\n            data.feedback_type=FeedBackType.Null;\r\n            let damage=0;\r\n            if(gjData.is_can_crit){\r\n                critRate=InjuredData.calcCritRate(gjData.hero_data.Critical,this.monster_data.AntiCritical);\r\n                critRate+=gjData.hero_data.crit_ex;\r\n                //获取一个概率类型\r\n                let type=InjuredData.calcOnceType([0,critRate,1]);\r\n                if(type==1){\r\n                    data.feedback_type=FeedBackType.BaoJi;\r\n                    data.text_type=Enemy_Injured_Type.BaoJi;\r\n                    damage=InjuredData.calcSkillCritDamageNum(heroData.total_attack,gjData.skill_damage_rate,finalDefense,heroData.skill_increase_damage+heroData.all_increase_damage+heroData.attack_increase_damage,this.jianshang_rate,InjuredData.calcFinalExtraCrit(heroData.ExtraCritical,this.monster_data.AntiExtraCritical));\r\n                    if(!gm.is_show_text){\r\n                        gm.hp_text_manager.createTypeText(cc.v2(this.node.x,this.node.y+60),data.text_type,null);\r\n                    }\r\n                }else{\r\n                    damage=InjuredData.calcSkillDamageNum(heroData.total_attack,gjData.skill_damage_rate,finalDefense,heroData.skill_increase_damage+heroData.all_increase_damage+heroData.attack_increase_damage,this.jianshang_rate);\r\n                }                \r\n            }else{\r\n                damage=InjuredData.calcSkillDamageNum(heroData.total_attack,gjData.skill_damage_rate,finalDefense,heroData.skill_increase_damage+heroData.all_increase_damage+heroData.attack_increase_damage,this.jianshang_rate);\r\n            }\r\n            data.setDamageNum(damage);\r\n            if(gjData.pet_id==0){\r\n                GameManager.getInstance().all_hero.get(gjData.hero_type).onDamageMonster(DamageType.Skill,false,this.node);\r\n            }\r\n        }\r\n        return data;\r\n    }\r\n    /**\r\n     * 瞬间伤害\r\n     * @param gjData 攻击类型\r\n     * @returns \r\n     */\r\n    beFlashInjured(gjData:GongJiData): InjuredData{\r\n        let data=this.getInjuredData(gjData);        \r\n        this.beDamage(data,gjData);\r\n        return data;\r\n    }\r\n\r\n    private beContinuousInjured(gjData:GongJiData,floorNum:number=1) {\r\n        if(gjData.continuous_damage_rate>0){\r\n            //怪物的防御力\r\n            let selfDefense=this.monster_data.Defense+this.ex_defense_value;\r\n            let finalDefense=InjuredData.calcFinalDefense(selfDefense,gjData.hero_data.ignore_defense_rate)\r\n            let heroData=gjData.hero_data;\r\n            let data=new InjuredData();\r\n            let damage=InjuredData.calcSkillDamageNum(heroData.total_attack,gjData.continuous_damage_rate,finalDefense,heroData.skill_increase_damage+heroData.all_increase_damage,this.jianshang_rate);\r\n            data.text_type=Enemy_Injured_Type.ZhongDu;\r\n            if(gjData.hero_type==Hero_Type.NvWu){\r\n                damage=damage*floorNum;\r\n            }\r\n            data.setDamageNum(damage);\r\n            this.beDamage(data,gjData);           \r\n        }\r\n    }\r\n    /**造成真实伤害，直接造成对应的伤害值,无法闪避 */\r\n    beRealDamage(gjData:GongJiData,damage:number):InjuredData{\r\n        let data=new InjuredData();\r\n        data.setDamageNum(damage);\r\n        this.beDamage(data,gjData);        \r\n        return data;\r\n    }\r\n    /**恢复生命值是否成功 */\r\n    beHeal(num: number): boolean {\r\n        if(this.getCurHp()>=this.getMaxHp()||this.getIsDie()==true){\r\n            return false;\r\n        }\r\n        /**目前没有治疗效果加成，只有重伤，只计算重伤 */\r\n        let newNum=num*(1-this.getMaxSeriously())        \r\n        this.changeHp(newNum);\r\n        GameManager.getInstance().hp_text_manager.createHpTextHp(this.getCenterPos(),newNum,Enemy_Injured_Type.ZhiLiao);\r\n        return true;\r\n    }\r\n\r\n    private beDamage(data:InjuredData,gjData:GongJiData){\r\n        if(this.getStrengthType()==StrengthType.Boss&&this.isHaveBuff(BuffId.Boss9_Skill_3_widu))\r\n        {\r\n            data.feedback_type=FeedBackType.MainYi;\r\n            data.text_type=Enemy_Injured_Type.WuDi;\r\n            GameManager.getInstance().hp_text_manager.createTypeText(cc.v2(this.node.x,this.node.y+60),Enemy_Injured_Type.WuDi,null);\r\n            return ;\r\n        }\r\n        if(data.getDamageNum()>0){\r\n            let gm= GameManager.getInstance();\r\n            data.is_die=this.changeHp(-data.getDamageNum());\r\n            if(gm.is_show_text&&data.getDamageNum()>0){\r\n                gm.hp_text_manager.createHpTextHp(cc.v2(this.node.x,this.node.y+Math.random()*100),data.getDamageNum(),data.text_type);\r\n            }        \r\n            if(!data.is_die){\r\n                this.startHurt();\r\n            }\r\n            //吸血效果\r\n            if(gjData.hero_data.blood_sucking_rate>0&&data.getDamageNum()>0){\r\n                let hp=InjuredData.calcBloodSucking(data.getDamageNum(),gjData.hero_data.blood_sucking_rate,gjData.hero_data.serious_injury_rate);\r\n                if(hp>0){\r\n                    WallManager.getInstance().getMainWall().changeHp(hp);\r\n                }            \r\n            }\r\n            /**记录最高伤害 */\r\n            gm.setMaxDamage(data.getDamageNum());\r\n            gm.setMinDamage(data.getDamageNum());\r\n            if(gjData.skill_release_id>0){\r\n                SkillManager.getInstance().recordDamage(gjData.skill_release_id,data.getDamageNum());\r\n                if(this.active_injury_callback){\r\n                    this.active_injury_callback();\r\n                }\r\n            }\r\n            /**记录DPS */\r\n            switch(gjData.damage_type){\r\n                case DamageType.Normal:{                    \r\n                    gm.hero_attack_dps[gjData.hero_type]+=data.getDamageNum();\r\n                }break;\r\n                case DamageType.Skill:{                    \r\n                    gm.hero_skill_dps[gjData.hero_type]+=data.getDamageNum();\r\n                }break;\r\n            }            \r\n            // /**冰女额外真实伤害 */\r\n            // if(SkillManager.getInstance().getBingNvSkill2()>0&&this.isHaveDeBuffType(BuffType.Slowdown)){\r\n            //     let damage=data.getDamageNum()*SkillManager.getInstance().getBingNvSkill2();\r\n            //     if(damage<1){\r\n            //         damage=1;\r\n            //     }\r\n            //     this.changeHp(-damage);\r\n            //     gm.hero_skill_dps[Hero_Type.BingNv]+=damage;\r\n            //     if(gm.is_show_text){\r\n            //         gm.hp_text_manager.createHpTextHp(cc.v2(this.node.x,this.node.y+32),damage,Enemy_Injured_Type.BingNvZhenShang);\r\n            //     }\r\n            // }\r\n            // /**阿努比斯额外真实伤害 */\r\n            // if(SkillManager.getInstance().getANuBiSiSkill2()>0){\r\n            //     if(this.isHaveDeBuffType(BuffType.Slowdown)||this.isHaveDeBuffType(BuffType.Vertigo)){\r\n            //         let damage=data.getDamageNum()*SkillManager.getInstance().getANuBiSiSkill2();\r\n            //         if(damage<1){\r\n            //             damage=1;\r\n            //         }\r\n            //         this.changeHp(-damage);\r\n            //         gm.hero_skill_dps[Hero_Type.ANuBiSi]+=damage;\r\n            //         if(gm.is_show_text){\r\n            //             gm.hp_text_manager.createHpTextHp(cc.v2(this.node.x,this.node.y+32),damage,Enemy_Injured_Type.ANuBiSiZhenShang);\r\n            //         }\r\n            //         GroundManager.getInstance().createGameEffectById(GameEffectId.a_nu_bi_si_beidong_skill_2,this.node.getPosition());\r\n            //     }\r\n            // }\r\n            /**德鲁伊额外真实伤害 */\r\n            if(SkillManager.getInstance().getDeLuYiEx()&&this.isHaveDeBuff(BuffId.Hero_DeLuYi_Ex)){\r\n                let damage=data.getDamageNum()*SkillManager.getInstance().getDeLuYiEx();\r\n                if(damage<1){\r\n                    damage=1;\r\n                }\r\n                this.changeHp(-damage);\r\n                gm.hero_skill_dps[Hero_Type.DeLuYi]+=damage;\r\n                if(gm.is_show_text){\r\n                    gm.hp_text_manager.createHpTextHp(cc.v2(this.node.x,this.node.y+32),damage,Enemy_Injured_Type.Normal_Attack);\r\n                }\r\n            }\r\n        }     \r\n    }\r\n\r\n    /**更改hp，返回是否死亡 */\r\n    protected changeHp(num: number): boolean {\r\n        if(this.getIsDie()||this.getEnemyState()==Enemy_State.born||GameManager.getInstance().cur_game_state!=GameState.Game_Playing)\r\n        {\r\n            return false;\r\n        }\r\n        let isDie=false;\r\n        this.cur_hp+=num;\r\n        if(GameManager.getInstance().cur_game_mode==GameMode.Boss_Challenge){\r\n            if(this.base_data.StrengthType==StrengthType.Boss){\r\n                if(this.cur_hp<=0){\r\n                    this.cur_hp=1;\r\n                }\r\n                if(this.change_hp_callback){\r\n                    this.change_hp_callback(num);\r\n                }\r\n                let useLevel=BossChallengeManager.getInstance().addScore(Math.abs(Math.round(num)));\r\n                if(useLevel!=this.monster_level){\r\n                    this.refreshData(useLevel);\r\n                }\r\n                return false;\r\n            }\r\n        }\r\n        if(this.cur_hp<=0)\r\n        {\r\n            this.startDeath();\r\n            isDie=true;\r\n        }\r\n        if(this.cur_hp>this.max_hp)\r\n        {\r\n            this.cur_hp=this.max_hp\r\n        }\r\n        // if(isDie==false&&GameManager.getInstance().cur_game_mode==GameMode.Maze){\r\n        //     if(this.cur_hp<(this.max_hp*0.1)){\r\n        //         if(MazeManager.getInstance().isHaveABuff([8003])){                \r\n        //             this.changeHp(-this.cur_hp);\r\n        //             GameEffectsManager.getInstance().createGameEffectForParent(GameEffectId.pet_21_active_3_liandao,cc.v2(0,200),this.node,()=>{\r\n        //                 GameEffectsManager.getInstance().createGameEffectById(GameEffectId.pet_21_active_2_liandao_drop_hit,this.node.getPosition());\r\n        //             });\r\n        //         }\r\n        //     }            \r\n        // }\r\n        if(this.change_hp_callback){\r\n            this.change_hp_callback(num);\r\n        }\r\n        this.showHp();\r\n        return isDie;\r\n    }\r\n\r\n    addBuff(buffData: BuffData): BuffTimer {\r\n        if(this.monster_buff.has(buffData.buff_id)==false)\r\n        {\r\n            //添加buff节点和特效       \r\n            let node:cc.Node=null;\r\n            if(buffData.game_effect_id==GameEffectId.Null){\r\n                node=new cc.Node(buffData.game_effect_id.toString());\r\n                node.setPosition(this.juji_pos);\r\n                this.node.addChild(node);\r\n            }else{\r\n                node=GameEffectsManager.getInstance().createGameEffectForParent(buffData.game_effect_id,this.juji_pos,this.node);\r\n                node.scale=this.getSheShouAttackScale();\r\n            }\r\n            //添加buff\r\n            let buff:BuffTimer=node.getComponent(BuffTimer);\r\n            if(!buff){\r\n                buff=node.addComponent(BuffTimer);\r\n            }\r\n            buff.init(buffData);\r\n            //buff治疗触发时处理\r\n            if(buffData.recovery_jiange_time>0){\r\n                buff.addRecoveryListen({\r\n                    doRecovery:(num:number)=>{\r\n                        this.beHeal(num);\r\n                    }\r\n                },buff.getFirstBuffValue());\r\n            }\r\n            this.monster_buff.set(buffData.buff_id,buff);\r\n            //buff销毁时处理\r\n            buff.addDestroyListen(this.onBuffDestory.bind(this));\r\n            switch(buffData.buff_type){\r\n                case BuffType.MoveSpeedUp:{\r\n                    this.refreshMoveSpeed(0);\r\n                }break;\r\n                case BuffType.AttSpeedUp:{\r\n                    this.changeAttackSpeed(buffData.buff_value[0]);\r\n                }break;\r\n            }\r\n            switch(buffData.buff_id){\r\n                case BuffId.Boss9_Skill_1_guozai:{\r\n                    this.zengshang_rate+=buffData.buff_value[0];\r\n                    this.monster_data.Defense-=this.base_attribute_data.Defense*(buffData.buff_value[1]);\r\n                }break;\r\n                case BuffId.Boss10_Skill_4_kuangbao_gjl:{\r\n                    this.monster_data.Attack+=this.base_attribute_data.Attack*(buffData.buff_value[0]);\r\n                }break;\r\n            }\r\n            return buff;\r\n        }else{\r\n            //如果有buff，则刷新时间,重新计时\r\n            let buff=this.monster_buff.get(buffData.buff_id);\r\n            buff.refreshBuff(buffData);\r\n            return buff;\r\n        }\r\n        \r\n    }\r\n\r\n    subBuff(buffId: BuffId): boolean {\r\n        let buff=this.monster_buff.get(buffId);\r\n        if(buff)\r\n        {\r\n            buff.destroySelf();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    onBuffDestory(buffData:BuffData){\r\n        this.monster_buff.delete(buffData.buff_id);\r\n        switch(buffData.buff_type){\r\n            case BuffType.MoveSpeedUp:{\r\n                this.refreshMoveSpeed(0);\r\n            }break;\r\n            case BuffType.AttSpeedUp:{\r\n                this.changeAttackSpeed(-buffData.buff_value[0]);\r\n            }break;\r\n        }\r\n        switch(buffData.buff_id){\r\n            case BuffId.Boss9_Skill_1_guozai:{\r\n                this.zengshang_rate-=buffData.buff_value[0];\r\n                this.monster_data.Defense+=this.base_attribute_data.Defense*(buffData.buff_value[1]);\r\n            }break;\r\n            case BuffId.Boss10_Skill_4_kuangbao_gjl:{\r\n                this.monster_data.Attack-=this.base_attribute_data.Attack*(buffData.buff_value[0]);\r\n            }break;\r\n        }\r\n    }\r\n\r\n    isHaveBuff(buffId: BuffId): boolean {\r\n        return this.monster_buff.has(buffId);\r\n    }\r\n\r\n    getBuff(buffId: BuffId): BuffTimer {\r\n        return this.monster_buff.get(buffId);\r\n    }\r\n\r\n    isHaveBuffType(buffType: BuffType): boolean {\r\n        let isHave=false;\r\n        this.monster_buff.forEach((buff:BuffTimer)=>{\r\n            if(isHave==false && buff.getBuffType()==buffType){\r\n                isHave=true;\r\n            }\r\n        })\r\n        return isHave;\r\n    }\r\n\r\n    removeAllBuff(){\r\n        this.monster_buff.forEach((buff:BuffTimer)=>{\r\n            buff.destroySelf();\r\n        })\r\n    }\r\n\r\n    addDeBuff(buffData:BuffData,gjData:GongJiData): BuffTimer {\r\n        if(this.getIsDie()){\r\n            return;\r\n        }\r\n        if(!this.isHaveDeBuff(buffData.buff_id))\r\n        {\r\n            //控制类的debuff需要根据韧性来实现具体的效果\r\n            let buffType=buffData.buff_type;            \r\n            switch(buffType){\r\n                case BuffType.Vertigo:{\r\n                    if(this.cur_toughness>=1){\r\n                        GameManager.getInstance().hp_text_manager.createTypeText(cc.v2(this.node.x,this.node.y+60),Enemy_Injured_Type.MianYiKongZhi,null);\r\n                        if(this.isHaveBuff(BuffId.Boss3_MianYi_KongZhi)){\r\n                            this.getBuff(BuffId.Boss3_MianYi_KongZhi).addFloor();\r\n                        }\r\n                        return null;\r\n                    }\r\n                    if(gjData){\r\n                        buffData.remain_time=InjuredData.calcControlTime(buffData.remain_time,this.cur_toughness,gjData.hero_data.insight);\r\n                    }                    \r\n                    switch(buffData.buff_id){\r\n                        case BuffId.Hero_XuanYun:{\r\n                            this.att_jishu=0;\r\n                            if(this.xuanyun_callback){\r\n                                this.xuanyun_callback(true);\r\n                            }else{\r\n                                this.spine.paused=true;\r\n                            }\r\n                        }break;\r\n                        case BuffId.Hero_MeiMo_Active_MeiHuo:{                            \r\n                            //魅惑对BOSS无效\r\n                            if(this.getStrengthType()!=StrengthType.Boss){\r\n                                this.att_jishu=0;\r\n                                //走向英雄\r\n                                let meimo=GameManager.getInstance().getHero(Hero_Type.MeiMo);\r\n                                let mmPos=meimo.node.getPosition();\r\n                                let offsetPos=mmPos.sub(this.node.getPosition());\r\n                                let radian=Math.atan2(offsetPos.y,offsetPos.x);\r\n                                this.setMoveDir(radian);\r\n                                this.setEnemyState(Enemy_State.move);\r\n                            }else{\r\n                                return;\r\n                            }\r\n                        }break;                        \r\n                    }\r\n                    \r\n                }break;\r\n            }\r\n            //添加buff节点和特效       \r\n            let node:cc.Node=null;\r\n            if(buffData.game_effect_id==GameEffectId.Null){\r\n                node=new cc.Node(buffData.game_effect_id.toString());\r\n                node.setPosition(this.juji_pos);\r\n                this.node.addChild(node);\r\n            }else{\r\n                node=GameEffectsManager.getInstance().createGameEffectForParent(buffData.game_effect_id,this.juji_pos,this.node);\r\n                node.scale=this.getSheShouAttackScale();                \r\n            }\r\n            //添加buff\r\n            let buff:BuffTimer=node.getComponent(BuffTimer);\r\n            if(!buff){\r\n                buff=node.addComponent(BuffTimer);\r\n            }\r\n            buff.init(buffData);\r\n            //buff销毁时处理\r\n            buff.addDestroyListen(this.onDebuffDestory.bind(this));\r\n            //buff伤害触发时处理\r\n            if(buffData.damage_jiange_time>0&&gjData){\r\n                buff.addDamageListen({\r\n                    doDamage:(gjData:GongJiData)=>{\r\n                        this.beContinuousInjured(gjData,buff.getFloorNum());\r\n                    }\r\n                },gjData);\r\n            }\r\n            this.monster_debuff.set(buffData.buff_id,buff);\r\n            switch(buffType){\r\n                case BuffType.Vertigo:{\r\n                    node.scale=this.getXuanyunScale();\r\n                }break;\r\n                case BuffType.Slowdown:{\r\n                    //处理一下减速buff\r\n                    this.refreshMoveSpeed(this.hidden_attribute.slow_resistance);\r\n                }break;\r\n                case BuffType.Burst:{\r\n                    //处理buff爆发\r\n                    if(buffData.buff_id==BuffId.Hero_LeiShen_ChaoFuHe){\r\n                        if(gjData)\r\n                        buff.addBurstListen(buffData.buff_value[0],this.onBuffBurst.bind(this),gjData)\r\n                    }\r\n                }break;\r\n            }\r\n            switch(buffData.buff_id){\r\n                case BuffId.Hero_ChangMaoShow_Skill:{\r\n                    let scale=1/this.setup_scale;\r\n                    node.scale=scale;\r\n                    node.stopAllActions();\r\n                    cc.tween(node).to(0.1,{scale:scale*1.1,opacity:255}).to(0.1,{scale:node.scale,opacity:128}).start();\r\n                }break;\r\n                case BuffId.Hero_MeiMo_Active_MeiHuo:{\r\n                    this.refreshMoveSpeed(0);\r\n                }break;\r\n                case BuffId.Boss_Mode_JianShang:{\r\n                    this.jianshang_rate+=buffData.buff_value[0];\r\n                }break;\r\n                case BuffId.Hero_NvWu_ExSkill_JianGongSu:{\r\n                    this.changeAttackSpeed(-buffData.buff_value[0]);\r\n                }break;\r\n            }\r\n            return buff;\r\n        }else{\r\n            let buff=this.monster_debuff.get(buffData.buff_id);\r\n            buff.refreshBuff(buffData);\r\n            switch(buffData.buff_id){\r\n                case BuffId.Hero_ChangMaoShow_Skill:{\r\n                    let node=this.monster_debuff.get(buffData.buff_id).node;\r\n                    let scale=1/this.setup_scale;\r\n                    node.scale=scale;\r\n                    node.stopAllActions();\r\n                    cc.tween(node).to(0.1,{scale:scale*1.1,opacity:255}).to(0.1,{scale:node.scale,opacity:128}).start();\r\n                }break;\r\n            }\r\n            return buff;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 去除一个debuff\r\n     * @param buff debuff类型\r\n     * @param isNeedRecycle 是否需要调用回收\r\n     * @returns \r\n     */\r\n    subDeBuff(buffId: BuffId): boolean {\r\n        let buff=this.monster_debuff.get(buffId);\r\n        if(buff)\r\n        {\r\n            buff.destroySelf();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    \r\n    isHaveDeBuff(buffId: BuffId): boolean {\r\n        return this.monster_debuff.has(buffId);\r\n    }\r\n\r\n    getDeBuff(buffId: BuffId): BuffTimer {\r\n        return this.monster_debuff.get(buffId);\r\n    }\r\n\r\n    isHaveDeBuffType(buffType: BuffType): boolean {\r\n        let isHave=false;\r\n        this.monster_debuff.forEach((buff:BuffTimer)=>{\r\n            if(isHave==false && buff.getBuffType()==buffType){\r\n                isHave=true;\r\n            }\r\n        })\r\n        return isHave;\r\n    }\r\n    \r\n    removeAllDeBuff(){\r\n        this.monster_debuff.forEach((v,k)=>{\r\n            this.subDeBuff(v.getBuffId());\r\n        })        \r\n    }\r\n\r\n    onDebuffDestory(buffData:BuffData){\r\n        this.monster_debuff.delete(buffData.buff_id);  \r\n        switch(buffData.buff_type){\r\n            case BuffType.Vertigo:{\r\n                switch(buffData.buff_id){\r\n                    case BuffId.Hero_XuanYun:{\r\n                        this.spine.paused=false;\r\n                        if(this.xuanyun_callback){\r\n                            this.xuanyun_callback(false);\r\n                        }\r\n                    }break;\r\n                    case BuffId.Hero_MeiMo_Active_MeiHuo:{                            \r\n                        //魅惑对BOSS无效,往下走\r\n                        if(this.getStrengthType()!=StrengthType.Boss){\r\n                            this.setMoveDir(Math.PI*3/2);\r\n                            this.refreshMoveSpeed(0);\r\n                        }else{\r\n                            return;\r\n                        }\r\n                    }break;\r\n                }\r\n                               \r\n            }break;\r\n            case BuffType.Slowdown:{\r\n                //处理一下减速buff\r\n                this.refreshMoveSpeed(this.hidden_attribute.slow_resistance);\r\n            }break;\r\n        }\r\n        switch(buffData.buff_id){\r\n            case BuffId.Boss_Mode_JianShang:{\r\n                this.jianshang_rate-=buffData.buff_value[0];\r\n            }break;\r\n            case BuffId.Hero_NvWu_ExSkill_JianGongSu:{\r\n                this.changeAttackSpeed(+buffData.buff_value[0]);\r\n            }break;\r\n        }\r\n    }\r\n\r\n    onBuffBurst(buffData:BuffData,gjData:GongJiData){\r\n        if(buffData.buff_id==BuffId.Hero_LeiShen_ChaoFuHe){\r\n            GameManager.getInstance().sound_manager.playSound(SoundIndex.YX_LeiGodSkill1);\r\n            /**当敌人身上的超负荷达到5层时，会受到落雷攻击造成{参数1}伤害并击晕{参数2}秒 */\r\n            let data=this.beFlashInjured(gjData);\r\n            if(data.is_die==false&&data.getDamageNum()>0){\r\n                //GroundManager.getInstance().createGameEffectById(GameEffectId.lei_shen_skill_ground,this.shadow.getPosition());\r\n                let node=GameEffectsManager.getInstance().createGameEffectById(GameEffectId.lei_shen_skill_sky,this.shadow.getPosition());\r\n                node.scaleX=0.8;\r\n                node.scaleY=1;\r\n                if(this.getStrengthType()!=StrengthType.Boss&&data.is_die==false){\r\n                    let buffData=new BuffData();\r\n                    buffData.buff_id=BuffId.Hero_XuanYun;\r\n                    buffData.game_effect_id=GameEffectId.xuanyun;\r\n                    buffData.buff_type=BuffType.Vertigo;\r\n                    buffData.remain_time=gjData.hero_data.getSkillValue2(SkillType.Passive_2);\r\n                    this.addDeBuff(buffData,gjData);\r\n                }\r\n            }\r\n        }        \r\n    }\r\n    /**刷新移速,slowResistance:减速抗性 */\r\n    private refreshMoveSpeed(slowResistance:number){\r\n        //实际减速\r\n        \r\n        if(this.isHaveDeBuff(BuffId.Hero_MeiMo_Active_MeiHuo)){\r\n            this.cur_move_speed=30;\r\n        }else{\r\n            let value=InjuredData.calcSlowDownNum(this.base_data.Speed+this.ex_move_speed_value,this.getMaxSlowDownValue(),slowResistance,this.getMaxSpeedUpValue());\r\n            this.cur_move_speed=value;\r\n            this.setColor(this.cur_move_speed<this.base_data.Speed?ColorType.SlowDown:ColorType.Null); \r\n        }\r\n        if(this.getStrengthType()!=StrengthType.Boss)\r\n        this.spine.timeScale=this.cur_move_speed/(this.base_data.Speed);\r\n    }\r\n    \r\n    \r\n    // /**刷新减速buff的处理 */\r\n    // private refreshSlowdown(){\r\n    //     //找出所有减速类型的buff\r\n    //     let slowBuff=new Array<BuffTimer>();\r\n    //     this.monster_debuff.forEach((v,k)=>{\r\n    //         if(v.getBuffType()==BuffType.Slowdown){\r\n    //             slowBuff.push(v);\r\n    //         }\r\n    //     });\r\n    //     if(slowBuff.length>0){\r\n    //         slowBuff.sort((a,b)=>{\r\n    //             return b.getFirstBuffValue()-a.getFirstBuffValue();\r\n    //         });\r\n    //         let maxBuff=slowBuff[0];\r\n    //         //实际减速\r\n    //         let value=InjuredData.calcSlowDownNum(this.base_data.Speed,maxBuff.getFirstBuffValue(),this.hidden_attribute.slow_resistance,this.getMaxSpeedUpValue());\r\n    //         this.cur_move_speed=value;\r\n    //         this.setColor(ColorType.SlowDown);\r\n    //     }else{\r\n    //         this.cur_move_speed=this.base_data.Speed;\r\n    //         this.setColor(ColorType.Null);\r\n    //     }\r\n    // }\r\n\r\n    // /**刷新加速buff的处理 */\r\n    // private refreshSpeedUp(){\r\n    //     //找出所有加速类型的buff\r\n    //     let speedBuff=new Array<BuffTimer>();\r\n    //     this.monster_buff.forEach((v,k)=>{\r\n    //         if(v.getBuffType()==BuffType.SpeedUp){\r\n    //             speedBuff.push(v);\r\n    //         }\r\n    //     });\r\n    //     if(speedBuff.length>0){\r\n    //         speedBuff.sort((a,b)=>{\r\n    //             return b.getFirstBuffValue()-a.getFirstBuffValue();\r\n    //         });\r\n    //         let maxBuff=speedBuff[0];\r\n    //         //实际加速速\r\n    //         let offsetValue=this.base_data.Speed*maxBuff.getFirstBuffValue();\r\n    //         //let value=InjuredData.calcSlowDownNum(,maxBuff.getFirstBuffValue(),this.hidden_attribute.slow_resistance);\r\n    //         this.cur_move_speed=this.cur_move_speed+offsetValue;\r\n    //     }else{\r\n    //         /**加减速需要处理，判断减速 */\r\n    //         this.cur_move_speed=this.base_data.Speed;\r\n    //     }        \r\n    // }\r\n\r\n    /**获得最大值的减速比率 */\r\n    private getMaxSlowDownValue():number{\r\n        //找出所有加速类型的buff\r\n        let buff=new Array<BuffTimer>();\r\n        this.monster_debuff.forEach((v,k)=>{\r\n            if(v.getBuffType()==BuffType.Slowdown){\r\n                buff.push(v);\r\n            }\r\n        });\r\n        if(buff.length>0){\r\n            buff.sort((a,b)=>{\r\n                return b.getFirstBuffValue()-a.getFirstBuffValue();\r\n            });\r\n            let maxBuff=buff[0];\r\n            return maxBuff.getFirstBuffValue();\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    /**获得最大值的加速比率 */\r\n    private getMaxSpeedUpValue():number{\r\n        //找出所有加速类型的buff\r\n        let speedBuff=new Array<BuffTimer>();\r\n        this.monster_buff.forEach((v,k)=>{\r\n            if(v.getBuffType()==BuffType.MoveSpeedUp){\r\n                speedBuff.push(v);\r\n            }\r\n        });\r\n        if(speedBuff.length>0){\r\n            speedBuff.sort((a,b)=>{\r\n                return b.getFirstBuffValue()-a.getFirstBuffValue();\r\n            });\r\n            let maxBuff=speedBuff[0];\r\n            return maxBuff.getFirstBuffValue();\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    /**设置攻速，每秒攻击次数 */\r\n    private setAttackSpeed(numSec:number){\r\n        if(numSec>10){\r\n            numSec=10;\r\n        }\r\n        if(numSec<0.1){\r\n            numSec=0.1;\r\n        }\r\n        this.att_jiange=1/numSec;\r\n    }\r\n    /**改变当前攻速,rate:比率 */\r\n    protected changeAttackSpeed(rate:number){\r\n        let gjsd=this.getAttackSpeed();        \r\n        gjsd+=(rate)*(this.base_data.AttackSpeed);\r\n        this.setAttackSpeed(gjsd);\r\n    }\r\n    /**获得当前攻速 */\r\n    protected getAttackSpeed():number{\r\n        return 1/this.att_jiange;\r\n    }\r\n\r\n    /**计算重伤，取最大 */\r\n    protected getMaxSeriously():number{\r\n        //找出所有重伤类型的buff\r\n        let seriouslyBuff=new Array<BuffTimer>();\r\n        this.monster_debuff.forEach((v,k)=>{\r\n            if(v.getBuffType()==BuffType.SeriouslyInjured){\r\n                seriouslyBuff.push(v);\r\n            }\r\n        });\r\n        if(seriouslyBuff.length>0){\r\n            seriouslyBuff.sort((a,b)=>{\r\n                return b.getFirstBuffValue()-a.getFirstBuffValue();\r\n            });\r\n            let maxBuff=seriouslyBuff[0];\r\n            return maxBuff.getFirstBuffValue();\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    /********************************************************光环-开始********************************************************************* */\r\n    addHalo(haloData:HaloData){\r\n        if(!this.monster_halo.has(haloData.halo_id)){\r\n            this.monster_halo.set(haloData.halo_id,haloData);\r\n            switch(haloData.halo_id){\r\n                case HaloId.Monster30_BianFu_Skill_Halo:{\r\n                    this.ex_miss_rate+=haloData.halo_value[0];\r\n                }break;\r\n                case HaloId.Monster69_NiuSaMan_Skill_Halo:{\r\n                    this.ex_defense_value+=haloData.halo_value[0];\r\n                }break;\r\n                case HaloId.Monster76_JianDuZhe_Skill_Halo:{\r\n                    this.ex_move_speed_value+=this.base_data.Speed*(haloData.halo_value[0]);\r\n                    this.refreshMoveSpeed(0);\r\n                }break;\r\n            }\r\n        }        \r\n    }\r\n\r\n    getHalo(haloId:HaloId):HaloData{\r\n        return this.monster_halo.get(haloId);\r\n    }\r\n\r\n    isHaveHalo(haloId:HaloId):boolean{\r\n        return this.monster_halo.has(haloId);\r\n    }\r\n\r\n    subHalo(haloId:HaloId,uuid:string){\r\n        let haloData=this.monster_halo.get(haloId);\r\n        if(haloData){\r\n            //只有同源才可以移除\r\n            if(haloData.halo_source_uuid==uuid){\r\n                this.monster_halo.delete(haloId);\r\n                switch(haloId){\r\n                    case HaloId.Monster30_BianFu_Skill_Halo:{\r\n                        this.ex_miss_rate-=haloData.halo_value[0];\r\n                        if(this.ex_miss_rate<0){\r\n                            this.ex_miss_rate=0;\r\n                        }\r\n                    }break;\r\n                    case HaloId.Monster69_NiuSaMan_Skill_Halo:{\r\n                        this.ex_defense_value-=haloData.halo_value[0];\r\n                        if(this.ex_defense_value<0){\r\n                            this.ex_defense_value=0;\r\n                        }\r\n                    }break;\r\n                    case HaloId.Monster76_JianDuZhe_Skill_Halo:{\r\n                        this.ex_move_speed_value-=this.base_data.Speed*(haloData.halo_value[0]);\r\n                        if(this.ex_move_speed_value<0){\r\n                            this.ex_move_speed_value=0;\r\n                        }\r\n                        this.refreshMoveSpeed(0);\r\n                    }break;\r\n                }\r\n            }            \r\n        }        \r\n    }\r\n\r\n    removeAllHalo(){\r\n        this.monster_halo.clear();\r\n    }\r\n\r\n    /********************************************************光环-结束********************************************************************* */\r\n\r\n    getHiddenAttribute(){\r\n        return this.hidden_attribute;\r\n    }\r\n\r\n    getIsDie():boolean\r\n    {\r\n        return this.monster_state==Enemy_State.die||this.monster_state==Enemy_State.ship;\r\n    }\r\n\r\n    getEnemyState():Enemy_State\r\n    {\r\n        return this.monster_state;\r\n    }\r\n\r\n    getEnemyPrevState():Enemy_State\r\n    {\r\n        return this.prev_state;\r\n    }\r\n\r\n    getIsCanCheck():boolean\r\n    {\r\n        let isCan=true;\r\n        if(this.getIsDie() || this.node.y>=GameManager.getInstance().enemy_create_y  || this.getEnemyState()==Enemy_State.born)\r\n        {\r\n            isCan=false;\r\n        }\r\n        return isCan;\r\n    }\r\n\r\n    getToughness():number{\r\n        return this.cur_toughness;\r\n    }\r\n\r\n    getMaxHp():number\r\n    {\r\n        return this.max_hp;\r\n    }\r\n\r\n    getCurHp():number\r\n    {\r\n        return this.cur_hp;\r\n    }\r\n\r\n    getCurAtt():number{\r\n        return this.cur_att;\r\n    }\r\n\r\n    setColor(colorType:ColorType){\r\n        let color=cc.Color.WHITE;\r\n        if(this.isHaveDeBuffType(BuffType.Slowdown)){\r\n            color=cc.color(82,255,252);\r\n        }\r\n        switch(colorType){\r\n            case ColorType.Injured:{\r\n                color=cc.Color.RED;\r\n                let curColor=this.cur_color;\r\n                if(curColor!=ColorType.Injured){\r\n                    if(this.injured_action){\r\n                        this.injured_action.stop();                        \r\n                    }\r\n                    this.injured_action=cc.tween(this.node).to(0.1,{color:this.node.color}).call(()=>{\r\n                        this.setColor(curColor)\r\n                    }).start();\r\n                }\r\n            }break;\r\n            case ColorType.SlowDown:{\r\n                color=cc.color(82,255,252);\r\n            }break;        \r\n        }\r\n        this.cur_color=colorType;\r\n        this.node.color=color;\r\n    }\r\n\r\n    getCurColor():ColorType{\r\n        return this.cur_color;\r\n    }\r\n\r\n    getSlowDownColor():cc.Color{\r\n        return cc.color(82,255,252);\r\n    }\r\n\r\n    getAttData(damageType:DamageType,isBullet:boolean,skillRate:number=0):MonsterAttData{\r\n        let md=new MonsterAttData();\r\n        md.damage_type=damageType;\r\n        md.is_bullet=isBullet;\r\n        md.skill_rate=skillRate;\r\n        md.monster_attribute=this.monster_data;\r\n        md.zengshang_rate=this.zengshang_rate;\r\n        md.monster_ts=this;\r\n        md.strength_type=this.getStrengthType();\r\n        return md;\r\n    }\r\n\r\n    getIsFullHp():boolean\r\n    {\r\n        return this.cur_hp>=this.max_hp;\r\n    }\r\n\r\n    setEnemyState(type:Enemy_State)\r\n    {\r\n        if(type!=this.monster_state){\r\n            this.prev_state=this.monster_state;\r\n            this.monster_state=type;            \r\n        }\r\n        if(type==Enemy_State.att||type==Enemy_State.skill){\r\n            this.spine.timeScale=(1/this.base_data.AttackSpeed)/this.att_jiange;\r\n        }\r\n        if(type==Enemy_State.move){\r\n            if(this.getStrengthType()!=StrengthType.Boss){\r\n                this.spine.timeScale=this.cur_move_speed/(this.base_data.Speed);\r\n            }                \r\n        }\r\n    }\r\n\r\n    startDeath(){\r\n        this.setEnemyState(Enemy_State.die);\r\n        this.collider.enabled=false;\r\n        this.removeAllDeBuff();\r\n        this.spine.paused=false;\r\n        this.node.stopAllActions();\r\n        this.is_can_count=this.is_count;\r\n        MonsterManager.getInstance().willDestroyMonster(this);\r\n        if(this.death_callback){\r\n            this.death_callback();\r\n        }\r\n    }\r\n\r\n    startHurt(){\r\n        this.setColor(ColorType.Injured);                \r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param damage 伤害值\r\n     * @param damageType 伤害类型\r\n     */\r\n    injureWall(data:MonsterAttData):InjuredData{\r\n        return this.att_wall.beInjured(data);\r\n    }\r\n\r\n    /**\r\n     * 播放一个骨骼动画\r\n     * @param name 骨骼动画名称\r\n     * @param isLoop 是否循环\r\n     * @param data 是否监听关键帧，关键帧数据包含关键帧名称，监听到关键帧后的回调\r\n     * @param endCallback 播放结束后的回调\r\n     */\r\n    playSpinAnimaton(name:string,isLoop:boolean=false,data?:KeyFrameData,endCallback?:Function){\r\n        if(this.getEnemyState()==Enemy_State.die){\r\n            return;\r\n        }\r\n        \r\n        let anima=this.spine.setAnimation(0,name,isLoop);\r\n        // if(data){\r\n        //     this.spine.setTrackEventListener(anima,(entry: sp.spine.TrackEntry, event) =>{\r\n        //         if(event.data.name==data.name){\r\n        //             data.callback();\r\n        //         }\r\n        //     })\r\n        // }\r\n        // if(endCallback){\r\n        //     this.spine.setTrackCompleteListener(anima,(entry: sp.spine.TrackEntry, event) =>{\r\n        //         anima.listener=null;\r\n        //         endCallback();\r\n        //     })\r\n        // }\r\n\r\n        if(endCallback){\r\n          \r\n\r\n            this.spine.setCompleteListener((trackEntry, loopCount) => {\r\n                let nameTemp = trackEntry.animation ? trackEntry.animation.name : '';\r\n                if (nameTemp === name && endCallback) {\r\n                   \r\n                    if(data&&data.callback){\r\n                        data.callback();\r\n                    }\r\n                    endCallback();\r\n                }\r\n                // this.spine.setCompleteListener(null);\r\n            });\r\n        }\r\n    }\r\n\r\n    playDeadAnimaton(name:string,endCallback:Function){\r\n       \r\n         let anima=this.spine.setAnimation(0,name,false);\r\n        this.spine.setCompleteListener((trackEntry, loopCount) => {\r\n            let nameTemp = trackEntry.animation ? trackEntry.animation.name : '';\r\n            if (nameTemp === name && endCallback) {\r\n                endCallback();\r\n            }\r\n            this.spine.setCompleteListener(null);\r\n        });\r\n    }\r\n    /**设置X坐标，返回偏左还是偏右了,-1:偏左，0：正常，1：偏右 */\r\n    setX(disX:number):number{\r\n        let leftRight=0;\r\n        if(disX>300)\r\n        {\r\n            disX=300;\r\n            leftRight=1;\r\n        }\r\n        if(disX<-300)\r\n        {\r\n            disX=-300;\r\n            leftRight=-1;\r\n        }\r\n        this.node.x=disX;\r\n        return leftRight;\r\n    }\r\n\r\n    setY(disY:number){\r\n        this.node.y=disY;\r\n        //不能穿过城墙\r\n        let walls=WallManager.getInstance().getAllWall();\r\n        walls.forEach((wall:Wall,wallType:WallType)=>{\r\n            //检查城墙\r\n            let rect=wall.getWallRect();\r\n            if(rect.contains(this.node.getPosition())){\r\n                if(this.node.y>wall.node.y){\r\n                    this.node.y=rect.yMax;\r\n                }\r\n                if(this.node.y<wall.node.y){\r\n                    this.node.y=rect.yMin;\r\n                }\r\n            }\r\n        })\r\n\r\n        let mainWall=WallManager.getInstance().getMainWall();\r\n        let mainRect=mainWall.getWallRect();\r\n\r\n        if(mainRect.contains(this.node.getPosition())){\r\n            if(this.node.y>mainWall.node.y){\r\n                this.node.y=mainRect.yMax;\r\n            }\r\n            if(this.node.y<mainWall.node.y){\r\n                this.node.y=mainRect.yMin;\r\n            }\r\n            this.onCollisionShip();\r\n        }\r\n        if(this.node.y<mainRect.yMin){\r\n           \r\n        }\r\n        if(this.node.y<=mainRect.yMin-200){\r\n            this.node.y=mainRect.yMin-200;\r\n            if(this.monster_state!=Enemy_State.ship){\r\n                MonsterManager.getInstance().ship_monster_num++;\r\n                \r\n                \r\n                this.setEnemyState(Enemy_State.ship);\r\n                MonsterManager.getInstance().upShipMonster();\r\n            }\r\n        }\r\n    }\r\n    public dieByfuhuo():void{\r\n        this.setEnemyState(Enemy_State.move);\r\n        this.changeHp(-9999999999);\r\n    }\r\n    private onCollisionShip(){\r\n        let md=new MonsterAttData();\r\n        md.damage_type=DamageType.Ship;\r\n        md.is_bullet=false;\r\n        md.skill_rate=0;\r\n        md.monster_attribute=this.monster_data;\r\n        md.zengshang_rate=this.zengshang_rate;\r\n        md.monster_ts=this;\r\n        md.strength_type=this.getStrengthType()\r\n        WallManager.getInstance().getMainWall().beInjured(md,false,this.getCurHp()*0.2)\r\n        this.changeHp(-9999999999);\r\n    }\r\n    setPos(pos:cc.Vec2){\r\n        this.setX(pos.x);\r\n        this.setY(pos.y);\r\n    }\r\n\r\n    setMoveDir(dir:number){\r\n        this.move_direction=dir;\r\n    }\r\n\r\n    setQianYinMin(num:number){\r\n        if(this.min_qianyin==0)\r\n        this.min_qianyin=num;\r\n    }\r\n\r\n    getQianYinMin():number{\r\n        return this.min_qianyin;\r\n    }\r\n    /**设置翻转 */\r\n    setFlip(isRight:boolean){\r\n        this.node.scaleX=isRight?this.setup_scale:-this.setup_scale;\r\n    }\r\n    //隐藏阴影\r\n    hidShadow(){\r\n        this.shadow.opacity=0;\r\n    }\r\n    update(dt)\r\n    {        \r\n        if(this.hp_progress)\r\n        {\r\n            this.hp_progress.setPos(this.node.x+this.hp_pos.x*this.node.scaleX,this.node.y+this.hp_pos.y*this.node.scaleY);\r\n        }\r\n        if(this.shadow){\r\n            this.shadow.setPosition(cc.v2(this.node.x+this.node.scaleX*this.shadow_pos.x,this.node.y+this.node.scaleY*this.shadow_pos.y));\r\n        }\r\n        this.node.zIndex=(Math.round(8000-this.node.y*10));\r\n        if(this.getEnemyState()!=Enemy_State.born&&this.getStrengthType()!=StrengthType.Boss){\r\n            this.collider.enabled=true;\r\n        }\r\n        if(this.node.y>=GameManager.getInstance().enemy_create_y){\r\n            this.setMoveDir(Math.PI*3/2);\r\n        }\r\n        //TEST\r\n        // if(this.getEnemyState()==Enemy_State.move){\r\n        //     let allMonster=MonsterManager.getInstance().node.children;\r\n        //     let len=allMonster.length;\r\n        //     for(let i=0; i<len; i++){\r\n        //         let monster=allMonster[i].getComponent(Monster);\r\n        //         if(monster&&monster.uuid!=this.uuid){\r\n        //             //判断距离\r\n        //             let otherPos=monster.getCenterPos();\r\n        //             let selfPos=this.getCenterPos();\r\n        //             let distance=(otherPos.sub(selfPos).mag());\r\n        //             if(distance<=50){\r\n        //                 //交集了\r\n        //                 //上面的走切线，下面的垂直走下\r\n        //                 if(selfPos.y>otherPos.y){\r\n        //                     let newDir=this.move_direction+Math.PI/2;\r\n        //                     if( newDir <=Math.PI && newDir>=0){\r\n        //                         newDir=this.move_direction-Math.PI/2\r\n        //                     }\r\n        //                     this.move_direction=newDir;\r\n        //                 }else if(selfPos.y<otherPos.y){\r\n        //                     this.move_direction=Math.PI*3/2;\r\n        //                 }else{\r\n        //                     this.move_direction=Math.PI*3/2;\r\n        //                 }\r\n        //             }\r\n        //             // else{\r\n        //             //     this.move_direction=Math.PI*3/2;\r\n        //             // }\r\n        //         }\r\n        //     }\r\n        // }\r\n    }\r\n\r\n    /**--------------------------------------添加回调监听------------------------------------------------------ */\r\n    addInitListen(callback:Function){\r\n        this.init_callback=callback;\r\n    }\r\n    addChangeHpListen(callback:Function){\r\n        this.change_hp_callback=callback;\r\n    }\r\n    addXuanYunListen(callback:Function){\r\n        this.xuanyun_callback=callback;\r\n    }\r\n    addDeathCallback(callback:Function){\r\n        this.death_callback=callback;\r\n    }    \r\n    addInjuryCallback(callback:Function){\r\n        this.active_injury_callback=callback;\r\n    }\r\n\r\n    /**--------------------------------------获得每种怪物不同的数据 --------------------------------------------*/\r\n\r\n    private loadInitPos()\r\n    {\r\n        //获取完数据就删除了\r\n        let juji=this.node.getChildByName('juji');\r\n        this.juji_pos=juji.getPosition();\r\n        let gongji=this.node.getChildByName('gongji');\r\n        this.att_pos=gongji.getPosition();\r\n        let hp=this.node.getChildByName('hp');\r\n        this.hp_pos=hp.getPosition();\r\n        let shadowNode=this.node.getChildByName('Monster_Shadow');\r\n        this.shadow_pos=shadowNode.getPosition();\r\n        this.shadow_size=shadowNode.getContentSize();\r\n        let center=this.node.getChildByName('center');\r\n        this.center_pos=center.getPosition();\r\n        //cc.log(this.shadow_size);\r\n\r\n        juji.removeFromParent();\r\n        gongji.removeFromParent();\r\n        hp.removeFromParent();\r\n        shadowNode.removeFromParent();\r\n        center.removeFromParent();\r\n        if(this.shadow){            \r\n            this.shadow.setPosition(cc.v2(this.node.x+this.node.scaleX*this.shadow_pos.x,this.node.y+this.node.scaleY*this.shadow_pos.y));\r\n        }\r\n    }\r\n\r\n    getAttPos():cc.Vec2{\r\n        let pos=cc.v2(0,128);\r\n        switch(this.monster_type){\r\n            case 20: pos=cc.v2(0,128);break;\r\n            default: pos=this.att_pos;break;\r\n        }\r\n        let disPos=this.node.getPosition().add(cc.v2(pos.x*this.node.scaleX,pos.y*this.node.scaleY));\r\n        return disPos;\r\n    }\r\n\r\n    getJuJiPos():cc.Vec2\r\n    {\r\n        return cc.v2(this.node.x+this.juji_pos.x*this.node.scaleX,this.node.y+this.juji_pos.y*this.node.scaleY);\r\n    }\r\n\r\n    getSheShouPos():cc.Vec2\r\n    {\r\n        return cc.v2(this.node.x+this.juji_pos.x*this.node.scaleX,this.node.y+this.juji_pos.y*this.node.scaleY);\r\n    }\r\n\r\n    getCenterPos():cc.Vec2{\r\n        return cc.v2(this.node.x+this.center_pos.x*this.node.scaleX,this.node.y+this.center_pos.y*this.node.scaleY);\r\n    }\r\n\r\n    /**获得攻击城墙的X坐标，动作不一样导致攻击的X坐标不一致 */\r\n    getAttackWallX(){\r\n        return this.att_pos;\r\n    }\r\n}\r\n"]}