{"version":3,"sources":["assets\\Scripts\\Payment\\PayAccumulateChargeItem.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import GameManager from \"../GameManager\";\r\nimport { Follow_Type } from \"../multiLanguage/FollowConstants\";\r\nimport FollowManager from \"../multiLanguage/FollowManager\";\r\nimport TextLanguage from \"../multiLanguage/TextLanguage\";\r\nimport { PropId } from \"../Prop/PropConfig\";\r\nimport { PropManager } from \"../Prop/PropManager\";\r\nimport { SoundIndex } from \"../Sound/AudioConstants\";\r\nimport { EventManager, RedEventString, RedEventType } from \"../Tools/EventManager\";\r\nimport { JsonCumulativeRecharge } from \"./Data/CumulativeRecharge\";\r\nimport PayAccumulateChargeUi from \"./PayAccumulateChargeUi\";\r\nimport { PayManager } from \"./PayManager\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class PayAccumulateChargeItem extends cc.Component {\r\n\r\n    private data: JsonCumulativeRecharge = null;\r\n\r\n    initData(data:JsonCumulativeRecharge){\r\n        this.data = data;\r\n        let item1, item2, item3, item4, item5\r\n        if (data.GetCoin != 0) {\r\n            item1 = PropManager.getInstance().createPropItem(PropId.Coin, data.GetCoin);\r\n            item1.scale = 0.85;\r\n        }\r\n        if (data.GetGem != 0) {\r\n            item2 = PropManager.getInstance().createPropItem(PropId.Gem, data.GetGem);\r\n            item2.scale = 0.85;\r\n        }\r\n        if (data.Item1_ID != 0) {\r\n            item3 = PropManager.getInstance().createPropItem(data.Item1_ID, data.Item1_Num);\r\n            item3.scale = 0.85;\r\n        }\r\n        if (data.Item2_ID != 0) {\r\n            item4 = PropManager.getInstance().createPropItem(data.Item2_ID, data.Item2_Num);\r\n            item4.scale = 0.85;\r\n        }\r\n        if (data.Item3_ID != 0) {\r\n            item5 = PropManager.getInstance().createPropItem(data.Item3_ID, data.Item3_Num);\r\n            item5.scale = 0.85;\r\n        }\r\n        let content = this.node.getChildByName(\"rewardScroll\").getComponent(cc.ScrollView).content;\r\n        content.removeAllChildren();\r\n        if (item1) content.addChild(item1);\r\n        if (item2) content.addChild(item2);\r\n        if (item3) content.addChild(item3);\r\n        if (item4) content.addChild(item4);\r\n        if (item5) content.addChild(item5);\r\n        let state = PayManager.getInstance().getTotalLongJingGetState(data.CumulativeRechargeID);\r\n        if(state != 0){\r\n            this.node.getChildByName(\"rewardScroll\").setPosition(cc.v2(-108,62));\r\n            if(state == 1){\r\n                this.node.getChildByName(\"rewardBtn\").active = true;\r\n                this.node.getChildByName(\"rewardBtn1\").active = false;\r\n            }else{\r\n                this.node.getChildByName(\"rewardBtn1\").active = true;\r\n                this.node.getChildByName(\"rewardBtn\").active = false;\r\n            }\r\n        }else{\r\n            this.node.getChildByName(\"rewardScroll\").setPosition(cc.v2(0,62));\r\n        }\r\n        this.node.getChildByName(\"Label1\").getComponent(TextLanguage).setTextId(1420001);\r\n        this.node.getChildByName(\"Label1\").getComponent(TextLanguage).setReplaceValue(\"~\",data.CumulativeRechargePrice + \"\");\r\n        this.node.getChildByName(\"num\").getComponent(cc.Label).string =  PayManager.getInstance().getTotalLongJingNum() + \"/\" + data.CumulativeRechargePrice;\r\n        this.node.getChildByName(\"Task_Bar_0\").getComponent(cc.ProgressBar).progress =  PayManager.getInstance().getTotalLongJingNum() / data.CumulativeRechargePrice;\r\n    }\r\n    \r\n    onClickRewardBtn(){\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        FollowManager.getInstance().followEvent(Follow_Type.每一档累充奖励领取人数 + this.data.CumulativeRechargePrice)\r\n        let item1, item2, item3, item4, item5;\r\n        let rewardList:cc.Node[] = [];\r\n        if (this.data.GetCoin != 0) {\r\n            item1 = PropManager.getInstance().createPropItem(PropId.Coin, this.data.GetCoin);\r\n            PropManager.getInstance().changePropNum(PropId.Coin, this.data.GetCoin)\r\n            item1.scale = 0.85;\r\n        }\r\n        if (this.data.GetGem != 0) {\r\n            item2 = PropManager.getInstance().createPropItem(PropId.Gem, this.data.GetGem);\r\n            PropManager.getInstance().changePropNum(PropId.Gem, this.data.GetGem)\r\n            item2.scale = 0.85;\r\n        }\r\n        if (this.data.Item1_ID != 0) {\r\n            item3 = PropManager.getInstance().createPropItem(this.data.Item1_ID, this.data.Item1_Num);\r\n            PropManager.getInstance().changePropNum(this.data.Item1_ID, this.data.Item1_Num)\r\n            item3.scale = 0.85;\r\n        }\r\n        if (this.data.Item2_ID != 0) {\r\n            item4 = PropManager.getInstance().createPropItem(this.data.Item2_ID, this.data.Item2_Num);\r\n            PropManager.getInstance().changePropNum(this.data.Item2_ID, this.data.Item2_Num)\r\n            item4.scale = 0.85;\r\n        }\r\n        if (this.data.Item3_ID != 0) {\r\n            item5 = PropManager.getInstance().createPropItem(this.data.Item3_ID, this.data.Item3_Num);\r\n            PropManager.getInstance().changePropNum(this.data.Item3_ID, this.data.Item3_Num)\r\n            item5.scale = 0.85;\r\n        }\r\n        PayManager.getInstance().setTotalLongJingGetState(this.data.CumulativeRechargeID,2);\r\n        if (item1) rewardList.push(item1);\r\n        if (item2) rewardList.push(item2);\r\n        if (item3) rewardList.push(item3);\r\n        if (item4) rewardList.push(item4);\r\n        if (item5) rewardList.push(item5);\r\n\r\n        GameManager.getInstance().showMultipleGetTip(rewardList,(()=>{\r\n            this.node.parent.parent.parent.parent.getComponent(PayAccumulateChargeUi).refreshUi();\r\n        }))\r\n        //EventManager.postRedEvent(RedEventString.RED_CHECK,RedEventType.Btn_Main_Shop_Total);\r\n    }\r\n\r\n}\r\n"]}