{"version":3,"sources":["assets\\Scripts\\Equipment\\EquipmentManager.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\r\n\r\nimport { EquipmentAttributeManager} from \"./Data/EquipmentAttribute\";\r\nimport { AssetsEventType, EventManager } from \"../Tools/EventManager\";\r\nimport { StorageKey } from \"../Storage/StorageConfig\";\r\nimport { TheStorageManager } from \"../Storage/StorageManager\";\r\nimport { EquipmentMergeManager } from \"./Data/EquipmentMerge\";\r\nimport EquipItem from \"./Ui/EquipItem\";\r\nimport LanguageManager from \"../multiLanguage/LanguageManager\";\r\nimport { PropAction, PropId } from \"../Prop/PropConfig\";\r\nimport { CostData, EquipInfo, EquipType } from \"./EquipConfig\";\r\nimport { PropManager } from \"../Prop/PropManager\";\r\nimport { Hero_Type } from \"../Hero/Game/HeroConfig\";\r\nimport { EquipmentLevelUpCostManager } from \"./Data/EquipmentLevelUpCost\";\r\nimport MyTool from \"../Tools/MyTool\";\r\nimport { CombatEffectivenessManager } from \"../Hero/Data/CombatEffectiveness\";\r\nimport { HeroManager } from \"../Hero/Data/HeroManager\";\r\n\r\nexport class EquipmentManager {\r\n\r\n    private static _instance: EquipmentManager = null;\r\n    //资源\r\n    private item_equip:cc.Prefab=null;\r\n    private item_sale_equip:cc.Prefab=null;\r\n    private sprite_atlas:cc.SpriteAtlas=null;\r\n\r\n    public static getInstance():EquipmentManager {\r\n        if(this._instance==null) {\r\n            this._instance=new EquipmentManager();\r\n            console.log(\"EquipmentManager null\");\r\n            this._instance.init();\r\n        }\r\n        return this._instance;\r\n    }\r\n\r\n    //初始化游戏数据\r\n    private init () {\r\n        EquipmentAttributeManager.getInstance();\r\n        EquipmentMergeManager.getInstance();\r\n        EquipmentLevelUpCostManager.getInstance();\r\n        CombatEffectivenessManager.getInstance();\r\n        this.loadPrefab();\r\n        this.loadSalePrefab();\r\n        this.loadSp();\r\n        //this.loadEquipmentList();\r\n    }\r\n    //-----------------------资源的读取-----------------------------\r\n    public loadPrefab(){\r\n        cc.resources.load('equipment/equipItem',cc.Prefab,(error: Error, assets:cc.Prefab)=>{\r\n            if(error)\r\n            {\r\n                console.log(error);\r\n                return;\r\n            }\r\n            console.log('加载prefab_equip成功');\r\n            assets.addRef();\r\n            this.item_equip=assets;\r\n            //cc.resources.release(\"equipment/equipItem\",cc.Prefab);\r\n        });\r\n    }\r\n\r\n    public loadSalePrefab(){\r\n        cc.resources.load('equipment/saleEquipment',cc.Prefab,(error: Error, assets:cc.Prefab)=>{\r\n            if(error)\r\n            {\r\n                console.log(error);\r\n                return;\r\n            }\r\n            console.log('加载prefab_saleEquipment成功');\r\n            assets.addRef();\r\n            this.item_sale_equip=assets;\r\n            //cc.resources.release(\"equipment/equipItem\",cc.Prefab);\r\n        });\r\n    }\r\n\r\n    private loadSp(){\r\n        if(this.sprite_atlas)\r\n        return;\r\n        cc.resources.load('equipment/equipment',cc.SpriteAtlas,(error: Error, assets:cc.SpriteAtlas)=>{\r\n            if(error)\r\n            {\r\n                console.log(error);\r\n                return;\r\n            }\r\n            assets.addRef();\r\n            //console.log('加载EquipmentAttribute成功');\r\n            this.sprite_atlas=assets;            \r\n        });\r\n    }\r\n\r\n    public getSpriteFrameByName(key:string):cc.SpriteFrame{\r\n        return this.sprite_atlas.getSpriteFrame(key);\r\n    }\r\n    /**根据装备信息获得一个装备节点 */\r\n    public getEquipNodeByInfo(equipInfo:EquipInfo,pAc:PropAction=PropAction.Look,heroType:Hero_Type=Hero_Type.NULL):cc.Node{\r\n        let item=cc.instantiate(this.item_equip);\r\n        item.getComponent(EquipItem).init(heroType,equipInfo,pAc);\r\n        return item;\r\n    }\r\n    /**根据装备ID获得一个装备节点 */\r\n    public getEquipNodeById(equipId:number,pAc:PropAction=PropAction.Look,heroType:Hero_Type=Hero_Type.NULL):cc.Node{\r\n        let item=cc.instantiate(this.item_equip);\r\n        let equipInfo=new EquipInfo();\r\n        equipInfo.equip_id=equipId;\r\n        equipInfo.equip_num=1;\r\n        item.getComponent(EquipItem).init(heroType,equipInfo,pAc);\r\n        // console.log(\"+++\",item)\r\n        return item;\r\n    }\r\n\r\n    public getSaleEquipNodeById(equipId:number,pAc:PropAction=PropAction.Look,heroType:Hero_Type=Hero_Type.NULL):cc.Node{\r\n        let item=cc.instantiate(this.item_sale_equip);\r\n        let equipInfo=new EquipInfo();\r\n        equipInfo.equip_id=equipId;\r\n        equipInfo.equip_num=1;\r\n        item.getComponent(EquipItem).init(heroType,equipInfo,pAc);\r\n        return item;\r\n    }\r\n\r\n    //-----------------------数据保存与读取----------------------------\r\n    //筛选出没有被英雄装备的列表\r\n    screeningEquipmentList(equipList:EquipInfo[]){\r\n        let len=equipList.length;        \r\n        let HM=HeroManager.getInstance();\r\n        for(let i=0; i<len; i++){\r\n            let equipInfo=equipList[i];\r\n            let heroList=HM.getWearEquipmentHeroList(equipInfo);\r\n            equipInfo.equip_num-=heroList.length;\r\n        }\r\n    }\r\n    /**\r\n     * 检测是否可以合成\r\n     * @param equipId 装备id\r\n     * @param costList 返回能合成的列表\r\n     * @returns 是否能合成\r\n     */\r\n    public checkAEquipMerge(equipId:number,costList:CostData[]):boolean{\r\n\r\n        let type=EquipmentAttributeManager.getInstance().getEquipmentPosition(equipId);\r\n        let list=PropManager.getInstance().getEquipmentList(type);\r\n        this.screeningEquipmentList(list);\r\n        let costId=EquipmentMergeManager.getInstance().getCostId(equipId);\r\n        if(costId==0){\r\n            return false;\r\n        }\r\n        let costNum=EquipmentMergeManager.getInstance().getCostNumber(costId);\r\n        let isCan=this.findEquipMerge(list,costId,costNum-1,costList);\r\n        return isCan;\r\n    }\r\n    /**\r\n     * \r\n     * @param list 现有的装备列表\r\n     * @param costId 消耗的id\r\n     * @param costNum 消耗的数量\r\n     * @param costList 消耗存放的列表\r\n     * @returns 是否可以满足合成条件\r\n     */\r\n    private findEquipMerge(list:EquipInfo[],costId:number,costNum:number,costList:CostData[]):boolean{\r\n        let len=list.length;        \r\n        let haveNum=0;\r\n        for(let i=0; i<len; i++){\r\n            let equipInfo=list[i];\r\n            if(equipInfo.equip_id==costId){//&&equipInfo.equip_level<=1               \r\n                haveNum=equipInfo.equip_num;\r\n                if(haveNum>=costNum){\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if(haveNum>=costNum){\r\n            let costData=new CostData();\r\n            costData.cost_id=costId;\r\n            costData.cost_num=costNum;\r\n            costList.push(costData);\r\n            return true;\r\n        }else{\r\n            if(haveNum>0){\r\n                let costData=new CostData();\r\n                costData.cost_id=costId;\r\n                costData.cost_num=haveNum;\r\n                costList.push(costData);\r\n            }            \r\n            let newCostId=EquipmentMergeManager.getInstance().getCostId(costId);\r\n            if(newCostId==0){\r\n                return false;\r\n            }\r\n            let newCostNum=EquipmentMergeManager.getInstance().getCostNumber(costId);\r\n            return this.findEquipMerge(list,newCostId,(costNum-haveNum)*newCostNum,costList);\r\n        }\r\n    }    \r\n    /**检查是否可以装备最好的装备,isWear：是否直接穿戴*/\r\n    checkQuickWear(heroType:Hero_Type,isWear:boolean):boolean\r\n    {\r\n        let isOK=false;\r\n        for(let i=EquipType.WuQi; i<EquipType.Num; i++)\r\n        {\r\n            //当前装备的  \r\n            let wearId=HeroManager.getInstance().getWearEquipment(heroType,i);\r\n            let eam=EquipmentAttributeManager.getInstance();\r\n            let equipList=PropManager.getInstance().getEquipmentList(i);\r\n            if(wearId!=0)\r\n            {\r\n                //获取穿戴装备的等级\r\n                let wearLevel=eam.getStage(wearId);\r\n                let len=equipList.length;\r\n                for(let n=0; n<len; n++)\r\n                {\r\n                    let equipInfo=equipList[n];\r\n                    let level=eam.getStage(equipInfo.equip_id)\r\n                    if(level>wearLevel)\r\n                    {                        \r\n                        //没有被其他人穿戴过\r\n                        let num=HeroManager.getInstance().getEquipmentRemainNum(equipInfo);\r\n                        if(num>0){                            \r\n                            if(isWear){\r\n                                HeroManager.getInstance().addWearEquipment(heroType,equipInfo.equip_id);\r\n                                isOK=true;\r\n                                break;\r\n                            }else{\r\n                                return true;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }else{\r\n                let len=equipList.length;\r\n                if(len>0){\r\n                    for(let n=0; n<len; n++)\r\n                    {\r\n                        let equipInfo=equipList[n];\r\n                        //没有被其他人穿戴过\r\n                        let num=HeroManager.getInstance().getEquipmentRemainNum(equipInfo);\r\n                        if(num>0){                            \r\n                            if(isWear){\r\n                                HeroManager.getInstance().addWearEquipment(heroType,equipInfo.equip_id);\r\n                                isOK=true;\r\n                                break;\r\n                            }else{\r\n                                return true;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if(isWear&&isOK){\r\n            EventManager.postAssetsEvent(AssetsEventType.EQUIP_WEAR_UNLOAD);\r\n        }\r\n        return isOK;\r\n    }\r\n\r\n    /**检查是否可以装备最好的装备,isWear：是否直接穿戴*/\r\n    checkWear(heroType:Hero_Type,type:EquipType):boolean\r\n    {\r\n        let isOK=false;\r\n        //当前装备的  \r\n        let wearId=HeroManager.getInstance().getWearEquipment(heroType,type);\r\n        let eam=EquipmentAttributeManager.getInstance();\r\n        if(wearId!=0)\r\n        {\r\n            //获取穿戴装备的等级\r\n            let wearLevel=eam.getStage(wearId);\r\n            let equipList=PropManager.getInstance().getEquipmentList(type);\r\n            let len=equipList.length;\r\n            for(let n=0; n<len; n++)\r\n            {\r\n                let equipInfo=equipList[n];\r\n                let level=eam.getStage(equipInfo.equip_id)\r\n                if(level>wearLevel)\r\n                {                        \r\n                    //没有被其他人穿戴过\r\n                    let num=HeroManager.getInstance().getEquipmentRemainNum(equipInfo);\r\n                    if(num>0){                        \r\n                        isOK=true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }else{\r\n            let equipList=PropManager.getInstance().getEquipmentList(type);\r\n            let len=equipList.length;\r\n            if(len>0){\r\n                for(let n=0; n<len; n++)\r\n                {\r\n                    let equipInfo=equipList[n];\r\n                    //没有被其他人穿戴过\r\n                    let num=HeroManager.getInstance().getEquipmentRemainNum(equipInfo);\r\n                    if(num>0){                        \r\n                        isOK=true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return isOK;\r\n    }\r\n\r\n    /* *检查是否可以一键脱装*/\r\n    checkQuickUnload(heroType:Hero_Type,isUnload:boolean):boolean\r\n    {\r\n        let isOK=false;\r\n        for(let i=EquipType.WuQi; i<EquipType.Num; i++)\r\n        {\r\n            //当前装备的  \r\n            let wearInfo=HeroManager.getInstance().getWearEquipment(heroType,i);\r\n            if(wearInfo)\r\n            {\r\n                if(isUnload){\r\n                    HeroManager.getInstance().unloadWearEquipment(heroType,i);\r\n                    isOK=true;\r\n                    continue;\r\n                }else{\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        if(isUnload&&isOK){\r\n            EventManager.postAssetsEvent(AssetsEventType.EQUIP_WEAR_UNLOAD);\r\n        }\r\n        return isOK;\r\n    }\r\n    //----------------装备序列id--------------\r\n    public getEquipSequenceId():number\r\n    {\r\n        let num=this.getEquipNum();\r\n        /**拼接时间戳+装备递增数 */\r\n        let nowTime=new Date().getTime();\r\n        let weiShu=1;\r\n        let newNum=num;\r\n        //求数量的位数\r\n        while(Math.floor(newNum/10)>=1){\r\n            weiShu++;\r\n            newNum/=10;\r\n        }\r\n        let t1=nowTime.toString().substring(weiShu);\r\n        let id=parseInt(t1+num);\r\n        return id;\r\n    }\r\n\r\n    private getEquipNum():number{\r\n        let num=TheStorageManager.getInstance().getInt(StorageKey.EquipNum,1);\r\n        return num;\r\n    }\r\n\r\n    private addEquipNum(){\r\n        TheStorageManager.getInstance().setItem(StorageKey.EquipNum,this.getEquipNum()+1);\r\n    }\r\n\r\n    public saveMergeNum(num)\r\n    {\r\n        cc.sys.localStorage.setItem('merge_num',num);\r\n    }\r\n    /**根据装备位获取装备名称 */\r\n    public getEquipName(posType:number):string{\r\n        let textId=4001;\r\n        switch(posType){\r\n            case 1:{\r\n                textId=4001;\r\n            }break;\r\n            case 2:{\r\n                textId=4002;\r\n            }break;\r\n            case 3:{\r\n                textId=4003;\r\n            }break;\r\n        }\r\n        return LanguageManager.getInstance().getStrByTextId(textId);\r\n    }\r\n\r\n    /***********************************************战力获取**************************************************** */\r\n    getEquipZhanLi(equipId:number):number{\r\n        // let jsonAttribute=EquipmentAttributeManager.getInstance().getJsonEquipmentAttribute(this.equip_id);\r\n        //装备和宠物：战斗力=0.5*生命值+10*（攻击力+防御力）+（命中+闪避+暴击+防爆）*295.3+（暴击增幅+暴击抗性）*251000\r\n\r\n        let attributes=this.getAttributesadditional(equipId)\r\n        let zhanli=(attributes[2]*CombatEffectivenessManager.getInstance().getConversionFactor(1))+(attributes[0]*CombatEffectivenessManager.getInstance().getConversionFactor(2))+(attributes[1]*CombatEffectivenessManager.getInstance().getConversionFactor(3))//0.5*jsonAttribute.BaseHealth+10//*(this.getAtt()+jsonAttribute.BaseDefense)\r\n        zhanli=Number(MyTool.numberFormat(zhanli,0));\r\n        // 1.英雄界面战斗力=生命值*生命值系数+攻击力*攻击力系数+防御力*防御力系数+命中值*命中系数+闪避值*闪避值系数+（暴击值-100）*暴击值系数+防暴值*防暴值系数+（暴击增幅-2）*暴击增幅系数+暴击抗性*暴击抗性系数\r\n        // 2.装备战斗力=生命值*生命值系数+攻击力*攻击力系数+防御力*防御力系数\r\n        // 3.总战斗力=当前上阵英雄的战斗力总和\r\n        return zhanli;\r\n    }\r\n    /**获得装备属性加上额外属性值    \r\n     * 攻击力 0\r\n     * 防御力 1 \r\n     * 生命值 2\r\n     * */    \r\n    getAttributesadditional(equipId:number):number[]{\r\n        let Attributes=this.getAttributes(equipId)\r\n        // let jsonAttribute=EquipmentAttributeManager.getInstance().getJsonEquipmentAttribute(this.equip_id);\r\n        // let dditional=[0,0,0,0,0,0,0,0,0,0]\r\n        // 1：生命值\r\n        // 2：攻击力\r\n        // 3：防御力\r\n        // 4：命中值\r\n        // 5：闪避值\r\n        // 6：暴击值\r\n        // 7：防爆值\r\n        // 8：暴击增幅\r\n        // 9：暴击抗性\r\n        // 10：额外攻速\r\n        // let BaseAttack=jsonAttribute.BaseAttack//基础攻击力\r\n        // let BaseDefense=jsonAttribute.BaseDefense//基础防御力\r\n        // let BaseHealth=jsonAttribute.BaseHealth//基础生命值\r\n        // let GrowthAttack=EquipmentAttributeManager.getInstance().getGrowthAttack(this.equip_id)//成长攻击值\r\n        // let GrowthDefense=EquipmentAttributeManager.getInstance().getGrowthDefense(this.equip_id)//成长防御力\r\n        // let GrowthHealth=EquipmentAttributeManager.getInstance().getGrowthHealth(this.equip_id)//成长生命值\r\n        // let zhuangbeiPos=EquipmentAttributeManager.getInstance().getEquipmentPosition(this.equip_id)//装备位置\r\n        // for (let Qualityindex = 1; Qualityindex < 7; Qualityindex++) {\r\n        //     let id=EquipmentAttributeManager.getID(zhuangbeiPos,Qualityindex)\r\n        //     if(Qualityindex<=jsonAttribute.Quality){\r\n        //         let leix=EquipmentAttributeManager.getInstance().getExtraAttributeType(id)\r\n        //         if(leix==1){\r\n        //             Attributes[2]+=EquipmentAttributeManager.getInstance().getExtraAttributeValue(id)\r\n        //         }\r\n        //         if(leix==2){\r\n        //             Attributes[0]+=EquipmentAttributeManager.getInstance().getExtraAttributeValue(id)\r\n        //         }\r\n        //         if(leix==3){\r\n        //             Attributes[1]+=EquipmentAttributeManager.getInstance().getExtraAttributeValue(id)\r\n        //         }\r\n        //     }\r\n        // }\r\n        // //装备属性=成长属性*装备等级+装备基础属性\r\n        return Attributes\r\n    }\r\n    /**获得总攻击力 */\r\n    getAtt(equipId:number):number{\r\n        let jsonAttribute=EquipmentAttributeManager.getInstance().getJsonEquipmentAttribute(equipId);\r\n        let BaseAttack=jsonAttribute.BaseAttack//基础攻击力\r\n        // let GrowthAttack=EquipmentAttributeManager.getInstance().getGrowthAttack(this.equip_id)//成长攻击值\r\n        // let zhuangbeiPos=EquipmentAttributeManager.getInstance().getEquipmentPosition(this.equip_id)//装备位置\r\n        // for (let Qualityindex = 1; Qualityindex < 7; Qualityindex++) {\r\n        //     let id=EquipmentAttributeManager.getID(zhuangbeiPos,Qualityindex)\r\n        //     if(Qualityindex<=jsonAttribute.Quality){\r\n        //         GrowthAttack+=EquipmentAttributeManager.getInstance().getGrowthAttack(id)\r\n        //     }\r\n        // }\r\n        //装备属性=成长属性*装备等级+装备基础属性\r\n        let attack=Number(MyTool.numberFormat(BaseAttack,0))\r\n        return attack\r\n    }\r\n    /**获得总防御力 */\r\n    getDefense(equipId:number):number{\r\n        let jsonAttribute=EquipmentAttributeManager.getInstance().getJsonEquipmentAttribute(equipId);\r\n        let BaseDefense=jsonAttribute.BaseDefense//基础防御力\r\n        // let GrowthDefense=EquipmentAttributeManager.getInstance().getGrowthDefense(this.equip_id)//成长防御力\r\n        // let zhuangbeiPos=EquipmentAttributeManager.getInstance().getEquipmentPosition(this.equip_id)//装备位置\r\n        // for (let Qualityindex = 1; Qualityindex < 7; Qualityindex++) {\r\n        //     let id=EquipmentAttributeManager.getID(zhuangbeiPos,Qualityindex)\r\n        //     if(Qualityindex<=jsonAttribute.Quality){\r\n        //         GrowthDefense+=EquipmentAttributeManager.getInstance().getGrowthDefense(id)\r\n        //     }\r\n        // }\r\n        //装备属性=成长属性*装备等级+装备基础属性\r\n        let attack=Number(MyTool.numberFormat(BaseDefense,0))\r\n        return attack\r\n    }\r\n    /**获得总生命值 */\r\n    getHealth(equipId:number):number{\r\n        let jsonAttribute=EquipmentAttributeManager.getInstance().getJsonEquipmentAttribute(equipId);\r\n        let BaseHealth=jsonAttribute.BaseHealth//基础生命值\r\n        // let GrowthHealth=EquipmentAttributeManager.getInstance().getGrowthHealth(this.equip_id)//成长生命值\r\n        // let zhuangbeiPos=EquipmentAttributeManager.getInstance().getEquipmentPosition(this.equip_id)//装备位置\r\n        // for (let Qualityindex = 1; Qualityindex < 7; Qualityindex++) {\r\n        //     let id=EquipmentAttributeManager.getID(zhuangbeiPos,Qualityindex)\r\n        //     if(Qualityindex<=jsonAttribute.Quality){\r\n                // GrowthHealth+=EquipmentAttributeManager.getInstance().getGrowthHealth(id)\r\n        //     }\r\n        // }\r\n        //装备属性=成长属性*装备等级+装备基础属性\r\n        let attack=Number(MyTool.numberFormat(BaseHealth,0))\r\n        return attack\r\n    }\r\n    /**获得装备属性 \r\n     * 攻击力 0\r\n     * 防御力 1 \r\n     * 生命值 2\r\n     * */    \r\n    getAttributes(equipId:number):number[]{\r\n        let jsonAttribute=EquipmentAttributeManager.getInstance().getJsonEquipmentAttribute(equipId);\r\n        let BaseAttack=jsonAttribute.BaseAttack//基础攻击力\r\n        let BaseDefense=jsonAttribute.BaseDefense//基础防御力\r\n        let BaseHealth=jsonAttribute.BaseHealth//基础生命值\r\n        // let GrowthAttack=EquipmentAttributeManager.getInstance().getGrowthAttack(this.equip_id)//成长攻击值\r\n        // let GrowthDefense=EquipmentAttributeManager.getInstance().getGrowthDefense(this.equip_id)//成长防御力\r\n        // let GrowthHealth=EquipmentAttributeManager.getInstance().getGrowthHealth(this.equip_id)//成长生命值\r\n        // let zhuangbeiPos=EquipmentAttributeManager.getInstance().getEquipmentPosition(this.equip_id)//装备位置\r\n        // for (let Qualityindex = 1; Qualityindex < 7; Qualityindex++) {\r\n        //     let id=EquipmentAttributeManager.getID(zhuangbeiPos,Qualityindex)\r\n        //     if(Qualityindex<=jsonAttribute.Quality){\r\n        //         GrowthAttack+=EquipmentAttributeManager.getInstance().getGrowthAttack(id)\r\n        //         GrowthDefense+=EquipmentAttributeManager.getInstance().getGrowthDefense(id)\r\n        //         GrowthHealth+=EquipmentAttributeManager.getInstance().getGrowthHealth(id)\r\n        //     }\r\n        // }\r\n        // let BaseAttacks=Number(MyTool.numberFormat(GrowthAttack*this.equip_level+BaseAttack,0))\r\n        // let BaseDefenses=Number(MyTool.numberFormat(GrowthDefense*this.equip_level+BaseDefense,0))\r\n        // let BaseHealths=Number(MyTool.numberFormat(GrowthHealth*this.equip_level+BaseHealth,0))\r\n        //装备属性=成长属性*装备等级+装备基础属性\r\n        let BaseAttacks=Number(MyTool.numberFormat(BaseAttack,0))\r\n        let BaseDefenses=Number(MyTool.numberFormat(BaseDefense,0))\r\n        let BaseHealths=Number(MyTool.numberFormat(BaseHealth,0))\r\n        let attack=[BaseAttacks,BaseDefenses,BaseHealths]\r\n        return attack\r\n    }\r\n}\r\n"]}