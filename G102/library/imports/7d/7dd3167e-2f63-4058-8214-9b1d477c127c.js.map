{"version":3,"sources":["assets\\Scripts\\UI\\home\\CultivateUi.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { FuncType } from \"../../Constants\";\r\nimport GameManager from \"../../GameManager\";\r\nimport { FunctionDefinitionManager } from \"../../JsonData/FunctionDefinition\";\r\nimport { Follow_Type } from \"../../multiLanguage/FollowConstants\";\r\nimport FollowManager from \"../../multiLanguage/FollowManager\";\r\nimport { SoundIndex } from \"../../Sound/AudioConstants\";\r\nimport FuncTypeBtn from \"./FuncTypeBtn\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class CultivateUi extends cc.Component {\r\n\r\n    @property([cc.SpriteFrame])\r\n    sp_btn:cc.SpriteFrame[]=[];\r\n    @property([cc.Node])\r\n    all_ui:cc.Node[]=[]\r\n\r\n    cur_selected_index:number=1;\r\n    is_hint_state:boolean=false;\r\n\r\n    protected onLoad(): void {\r\n        let bottom=cc.find('Canvas/Top_Ui/down');\r\n        let btnList=this.node.getChildByName('btnList');\r\n        btnList.y=bottom.y+81;\r\n        if(this.is_hint_state==false){\r\n            if(FunctionDefinitionManager.getInstance().getIsUnlock(FuncType.ChengBaoYangCheng)){\r\n                this.cur_selected_index=1;\r\n            }else{\r\n                for(let i=FuncType.ZhuangBeiHeCheng; i<=FuncType.TianFu; i++){\r\n                    if(FunctionDefinitionManager.getInstance().getIsUnlock(i)){\r\n                        this.cur_selected_index=i;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        \r\n    }\r\n    protected onEnable(): void {\r\n        this.setBtnShow()       \r\n        this.is_hint_state=false;    \r\n    } \r\n\r\n    setBtnShow()\r\n    {\r\n        let btnList=this.node.getChildByName('btnList');\r\n        let unlockNum=0;\r\n        let isShow=false;\r\n        for(let i=0; i<3; i++)\r\n        {\r\n            let btn=btnList.children[i];\r\n            let isUnlock=btn.getComponent(FuncTypeBtn).refresh();\r\n            if(this.cur_selected_index==i && isUnlock)\r\n            {                \r\n                this.all_ui[i].active=true;\r\n                btn.getComponent(cc.Button).interactable=false;\r\n                isShow=true;\r\n            }else\r\n            {\r\n                this.all_ui[i].active=false;\r\n            }\r\n            if(isUnlock){\r\n                unlockNum++;\r\n            }\r\n        }\r\n    }\r\n\r\n    clickBtnTable(btn,indexStr:string){\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        let index=parseInt(indexStr);\r\n        if(index!=this.cur_selected_index){\r\n            this.cur_selected_index=index;\r\n            this.setBtnShow();\r\n        }\r\n    }\r\n}\r\n"]}