{"version":3,"sources":["assets\\Scripts\\Payment\\DingYueManager.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import ApkManager from \"../Ads/ApkManager\";\r\nimport { IsDebug } from \"../Constants\";\r\nimport { StorageKey } from \"../Storage/StorageConfig\";\r\nimport { TheStorageManager } from \"../Storage/StorageManager\";\r\nimport { PayInfo } from \"../thirdParty/ThirdParty\";\r\nimport { PayManager } from \"./PayManager\";\r\n\r\nexport class DingYueManager{\r\n\r\n    private static _instance:DingYueManager=null;\r\n    \r\n    private week_info:PayInfo=null;\r\n    private month_info:PayInfo=null;\r\n    private quarter_info:PayInfo=null;\r\n\r\n    public static getInstance():DingYueManager\r\n    {\r\n        if(this._instance==null)\r\n        {\r\n            this._instance=new DingYueManager();\r\n            this._instance.init();\r\n        }\r\n        return this._instance;\r\n    }\r\n\r\n    private init(){\r\n        this.initCardInfo();\r\n    }\r\n\r\n    initCardInfo(){\r\n        //ApkManager.getInstance().getDingYueInfo()\r\n    }\r\n\r\n    setCardInfo(payInfos:PayInfo[]){\r\n        for(let i=0; i<payInfos.length; i++){\r\n            let payInfo=payInfos[i];\r\n            switch(payInfo.pay_id){\r\n                case 'b101':{\r\n                    this.month_info=payInfo;\r\n                }break;\r\n                case 'b102':{\r\n                    this.quarter_info=payInfo;\r\n                }break;\r\n                // 周卡支付ID\r\n                case 'c502':{\r\n                    this.week_info=payInfo;\r\n                }break;\r\n            }\r\n        }\r\n    }\r\n\r\n    getWeekInfo():PayInfo{\r\n        if(IsDebug&&this.week_info){\r\n            this.week_info.is_buy=PayManager.getInstance().getPayNum(this.week_info.pay_id)>0;\r\n        }\r\n        return this.week_info;\r\n    }\r\n\r\n    getMonthCardInfo():PayInfo{\r\n        if(IsDebug&&this.month_info){\r\n            this.month_info.is_buy=PayManager.getInstance().getPayNum(this.month_info.pay_id)>0;\r\n        }\r\n        return this.month_info;\r\n    }\r\n\r\n    getQuarterCardInfo():PayInfo{\r\n        if(IsDebug){\r\n            this.quarter_info.is_buy=PayManager.getInstance().getPayNum(this.quarter_info.pay_id)>0;\r\n        }\r\n        return this.quarter_info;\r\n    }\r\n    /**获取今天是否领取了 */\r\n    getTodayIsGet(id:number):boolean{\r\n        return TheStorageManager.getInstance().getInt(StorageKey.DingYueGetState+id,0)>0;\r\n    }\r\n    \r\n    saveTodayGet(id:number,isGet:boolean){\r\n        let num=isGet?1:0;\r\n        return TheStorageManager.getInstance().setItem(StorageKey.DingYueGetState+id,num);\r\n    }\r\n\r\n    resetTodayGetState(){\r\n        TheStorageManager.getInstance().setItem(StorageKey.DingYueGetState+1001,0);\r\n        TheStorageManager.getInstance().setItem(StorageKey.DingYueGetState+2001,0);\r\n    }\r\n}\r\n"]}