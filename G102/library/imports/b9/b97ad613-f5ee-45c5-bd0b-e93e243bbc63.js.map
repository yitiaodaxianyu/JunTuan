{"version":3,"sources":["assets\\Scripts\\UI\\GetTip.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { VipManager } from \"../Ads/VipManager\";\r\nimport { GameScene } from \"../Constants\";\r\nimport GameManager from \"../GameManager\";\r\nimport Prop from \"../Prop/Prop\";\r\nimport { PropManager } from \"../Prop/PropManager\";\r\nimport { PropData, PropId } from \"../Prop/PropConfig\";\r\nimport MyTool from \"../Tools/MyTool\";\r\nimport { SoundIndex } from \"../Sound/AudioConstants\";\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class GetTip extends cc.Component {\r\n\r\n    close_callback:Function=null;\r\n    is_can_touch:boolean=false;\r\n    node_list:cc.Node[]=[];\r\n\r\n    onLoad () {\r\n        let bg=this.node.getChildByName('bg0');\r\n        bg.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this);\r\n        this.close_callback=null;\r\n        // if(VipManager.getIsVip()==true)\r\n        // {\r\n        //     if(VipManager.getVipFreeNum()>0)\r\n        //     {\r\n        //         let vipTip=this.node.getChildByName('vipTip');\r\n        //         vipTip.active=true;\r\n        //     }\r\n        // }\r\n        this.node_list=new Array();\r\n    }\r\n\r\n    onDestroy () {\r\n        let bg=this.node.getChildByName('bg0');\r\n        if(bg)\r\n        {\r\n            bg.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this);\r\n        }        \r\n    }\r\n\r\n    onTouchStart(){\r\n        if(this.is_can_touch){\r\n            this.startFly();        \r\n            if(this.close_callback)\r\n            {\r\n                this.close_callback();\r\n            }\r\n            this.node.removeFromParent();\r\n        }        \r\n    }\r\n\r\n    addShowGetPorp(prop:cc.Node,callBack?:Function)\r\n    {\r\n        // this.node.getChildByName('propsScrollView').active=false;\r\n        this.close_callback=callBack;\r\n        let content = this.node.getChildByName(\"propsScrollView\").getComponent(cc.ScrollView).content;\r\n        content.getComponent(cc.Layout).enabled = false;\r\n        content.parent.parent.getComponent(cc.ScrollView).enabled = false;\r\n        let acT=0.2;\r\n        if(prop.parent == null){\r\n            prop.parent = this.node;\r\n            prop.scale = 0;\r\n            prop.setPosition(cc.v2(0,-50));\r\n            cc.tween(prop).to(acT,{scale:1}).start();\r\n        }else{\r\n            let item = cc.instantiate(prop);\r\n            item.scale = 0;\r\n            item.parent = this.node;\r\n            item.setPosition(cc.v2(0,-50));\r\n            cc.tween(item).to(acT,{scale:1}).start();\r\n        }\r\n        this.node_list.push(prop);\r\n        this.scheduleOnce(()=>{\r\n            this.is_can_touch=true;\r\n        },acT)\r\n        // if(prop.parent==null)\r\n        // {\r\n        //     prop.parent=this.node;\r\n        //     prop.scale=1;\r\n        // }else\r\n        // {\r\n        //     let node=cc.instantiate(prop);\r\n        //     node.opacity=255;\r\n        //     node.angle=0;\r\n        //     //node.scale=1;\r\n        //     node.setPosition(cc.v2(0,0));\r\n        //     this.node.addChild(node);\r\n        //     prop.scale=1;\r\n        // }\r\n        // this.node_list.push(prop);\r\n        // this.is_can_touch=true;\r\n    }\r\n\r\n    addMultiplePorp(props:cc.Node[],callBack?:Function)\r\n    {\r\n        // this.node.getChildByName('light').active=false;\r\n        // this.node.getChildByName('kuang').active=false;\r\n        this.close_callback=callBack;\r\n        let content=this.node.getChildByName('propsScrollView').getComponent(cc.ScrollView).content;        \r\n        let len=props.length;\r\n        let jgT=0.2;\r\n        let delyT=len*jgT;   \r\n        // console.log(\"本次长度： \" + len);\r\n        // console.log(3 / 2);\r\n        if(props.length <= 5){\r\n            content.getComponent(cc.Layout).enabled = false;\r\n            content.parent.parent.getComponent(cc.ScrollView).enabled = false;\r\n        }\r\n        \r\n        for(let i = 0;i < len;i++){\r\n            this.scheduleOnce(()=>{\r\n                let prop = props[i];cc.log(i);\r\n                if(prop.parent == null){\r\n                    prop.parent = content;\r\n                    if(props.length <= 5){\r\n                        if(props.length % 2 == 0){\r\n                            prop.x = (prop.width + content.getComponent(cc.Layout).spacingX) * 0.5 + (prop.width + content.getComponent(cc.Layout).spacingX) * i - (props.length / 2) * (prop.width + content.getComponent(cc.Layout).spacingX);\r\n                        }else{\r\n                            prop.x = (prop.width + content.getComponent(cc.Layout).spacingX) * i - (props.length / 2 - 0.5) * (prop.width + content.getComponent(cc.Layout).spacingX) ;\r\n                        }\r\n                    }\r\n                    prop.scale = 0;\r\n                    cc.tween(prop).to(0.2,{scale:1}).start();\r\n                }else{\r\n                    if(props.length <= 5){\r\n                        if(props.length % 2 == 0){\r\n                            prop.x = (prop.width + content.getComponent(cc.Layout).spacingX) * 0.5 + (prop.width + content.getComponent(cc.Layout).spacingX) * i - (props.length / 2) * (prop.width + content.getComponent(cc.Layout).spacingX);\r\n                        }else{\r\n                            prop.x = (prop.width + content.getComponent(cc.Layout).spacingX) * i - (props.length / 2) * (prop.width + content.getComponent(cc.Layout).spacingX) ;\r\n                        }\r\n                    }\r\n                    let item = cc.instantiate(prop);\r\n                    item.scale = 0;\r\n                    item.parent = content;\r\n                    item.setPosition(cc.v2(0,0));\r\n                    cc.tween(item).to(0.2,{scale:1}).start();\r\n                }\r\n            },jgT * i);\r\n        }\r\n        this.node_list=props;\r\n        this.scheduleOnce(()=>{\r\n            this.is_can_touch=true;\r\n        },delyT)\r\n        // let content=this.node.getChildByName('propsScrollView').getComponent(cc.ScrollView).content;        \r\n        // let len=props.length;\r\n        // let jgT=0.1;\r\n        // let delyT=len*jgT;        \r\n        // for(let i=0; i<len; i++)\r\n        // {\r\n        //     this.scheduleOnce(()=>{\r\n        //         let prop=props[i];\r\n        //         if(prop.parent==null)\r\n        //         {\r\n        //             content.addChild(prop);\r\n        //         }else\r\n        //         {\r\n        //             let node=cc.instantiate(prop);\r\n        //             node.opacity=255;\r\n        //             node.angle=0;\r\n        //             //node.scale=1;\r\n        //             node.setPosition(cc.v2(0,0));\r\n        //             content.addChild(node);\r\n        //         }\r\n        //     },jgT*i);\r\n        //     //起飞        \r\n        // }\r\n        // this.node_list=props;\r\n        // this.scheduleOnce(()=>{\r\n        //     this.is_can_touch=true;\r\n        // },delyT)\r\n    }\r\n\r\n    showGetPropTip(propData:PropData[],callBack?:Function){\r\n        // this.close_callback=callBack;\r\n        // let content = this.node.getChildByName(\"propsScrollView\").getComponent(cc.ScrollView).content\r\n\r\n        // let jgT=0.3;\r\n        // let delyT=propData.length*jgT;\r\n        // if(propData.length > 5){\r\n        //     content.x = 0;\r\n        // }else{\r\n        //     content.x -= (propData.length - 1) * 60;\r\n        // }\r\n        // for(let i = 0;i < propData.length;i++){\r\n        //     this.scheduleOnce(()=>{\r\n        //         let prop = PropManager.getInstance().createPropItem(propData[i].type,propData[i].num);\r\n        //         content.addChild(prop);\r\n        //         prop.scale = 0;\r\n        //         cc.tween(prop).to(jgT,{scale:1}).start();\r\n        //     },jgT*i)\r\n        // }\r\n        // // this.node_list=propData;\r\n        // this.scheduleOnce(()=>{\r\n        //     this.is_can_touch=true;\r\n        // },delyT)\r\n    }\r\n\r\n    private startFly() {\r\n        if(GameManager.getInstance().cur_game_scene!=GameScene.home)\r\n        {\r\n            return;\r\n        }\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.YX_GetReward);\r\n        let uiRoot=cc.find(\"Canvas/Ui_Root\");\r\n        let disPos=cc.v2(0,0)\r\n        let isRefresh=false;\r\n        for(let i=0; i<this.node_list.length; i++){\r\n            let node=this.node_list[i];\r\n            //将这个节点的坐标转换成uiRoot的坐标\r\n            let wordPos=node.parent.convertToWorldSpaceAR(node.getPosition());\r\n            let nodePos=uiRoot.convertToNodeSpaceAR(wordPos);\r\n            let prop=node.getComponent(Prop);\r\n            if(!prop){\r\n                return;\r\n            }\r\n            // console.log(\"++++++++\",prop.prop_id)\r\n            switch(prop.prop_id){\r\n                case PropId.Coin:{\r\n                    let disNode=cc.find('Canvas/Top_Ui/top/iconCoin');\r\n                    wordPos=disNode.parent.convertToWorldSpaceAR(disNode.getPosition());\r\n                    disPos=uiRoot.convertToNodeSpaceAR(wordPos);\r\n                    for(let i=0; i<20; i++){\r\n                        let startPosX=Math.random()*300-200+nodePos.x;\r\n                        let startPosY=Math.random()*300-200+nodePos.y;\r\n                        let startPos=cc.v2(startPosX,startPosY)\r\n                        let newNode=new cc.Node();\r\n                        newNode.addComponent(cc.Sprite).spriteFrame=PropManager.getInstance().getSpByPropId(PropId.Coin);\r\n                        newNode.setPosition(startPos);\r\n                        uiRoot.addChild(newNode);\r\n                        cc.tween(newNode).then(MyTool.getBezierAct(startPos,disPos)).call(()=>{\r\n                            if(!isRefresh){\r\n                                GameManager.getInstance().refreshCoinShow();\r\n                                GameManager.getInstance().refreshGemShow();\r\n                                isRefresh=true;\r\n                            }\r\n                        }).removeSelf().start();\r\n                    }\r\n                }break;\r\n                case PropId.Gem:{\r\n                    let disNode=cc.find('Canvas/Top_Ui/top/iconGem');\r\n                    wordPos=disNode.parent.convertToWorldSpaceAR(disNode.getPosition());\r\n                    disPos=uiRoot.convertToNodeSpaceAR(wordPos);\r\n                    for(let i=0; i<20; i++){\r\n                        let startPosX=Math.random()*300-200+nodePos.x;\r\n                        let startPosY=Math.random()*300-200+nodePos.y;\r\n                        let startPos=cc.v2(startPosX,startPosY)\r\n                        let newNode=new cc.Node();\r\n                        newNode.addComponent(cc.Sprite).spriteFrame=PropManager.getInstance().getSpByPropId(PropId.Gem);\r\n                        newNode.setPosition(startPos);\r\n                        uiRoot.addChild(newNode);\r\n                        cc.tween(newNode).then(MyTool.getBezierAct(startPos,disPos)).call(()=>{\r\n                            if(!isRefresh){\r\n                                GameManager.getInstance().refreshGemShow();\r\n                                GameManager.getInstance().refreshCoinShow();\r\n                                isRefresh=true;\r\n                            }\r\n                        }).removeSelf().start();\r\n                    }\r\n                }break;\r\n                // case PropId.UserExp:{\r\n                //     let disNode=cc.find('Canvas/Top_Ui/top/btnSetting');\r\n                //     wordPos=disNode.parent.convertToWorldSpaceAR(disNode.getPosition());\r\n                //     disPos=uiRoot.convertToNodeSpaceAR(wordPos);\r\n                //     for(let i=0; i<20; i++){\r\n                //         let startPosX=Math.random()*300-200+nodePos.x;\r\n                //         let startPosY=Math.random()*300-200+nodePos.y;\r\n                //         let startPos=cc.v2(startPosX,startPosY)\r\n                //         let newNode=new cc.Node();\r\n                //         newNode.addComponent(cc.Sprite).spriteFrame=PropManager.getInstance().getSpByPropId(PropId.UserExp);\r\n                //         newNode.setPosition(startPos);\r\n                //         uiRoot.addChild(newNode);\r\n                //         cc.tween(newNode).then(MyTool.getBezierAct(startPos,disPos)).removeSelf().start();\r\n                //     }\r\n                // }break;                \r\n                // default:{\r\n                //     let disNode=cc.find('Canvas/Top_Ui/down/btnRole/icon');\r\n                //     wordPos=disNode.parent.convertToWorldSpaceAR(disNode.getPosition());\r\n                //     disPos=uiRoot.convertToNodeSpaceAR(wordPos);\r\n                //     for(let i=0; i<20; i++){\r\n                //         let startPosX=Math.random()*300-200+nodePos.x;\r\n                //         let startPosY=Math.random()*300-200+nodePos.y;\r\n                //         let startPos=cc.v2(startPosX,startPosY)\r\n                //         let newNode=new cc.Node();\r\n                //         newNode.addComponent(cc.Sprite).spriteFrame=PropManager.getInstance().getSpByPropId(PropId.HeroExp);\r\n                //         newNode.setPosition(startPos);\r\n                //         uiRoot.addChild(newNode);\r\n                //         cc.tween(newNode).then(MyTool.getBezierAct(startPos,disPos)).removeSelf().start();\r\n                //     }\r\n                // }break;\r\n            }\r\n        }                                 \r\n    }\r\n    // update (dt) {}\r\n}\r\n"]}