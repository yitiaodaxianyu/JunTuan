{"version":3,"sources":["assets\\Scripts\\Hero\\Game\\BingNv\\BingNv.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\r\nimport { GameState, JiaSu } from \"../../../Constants\";\r\nimport FightingManager from \"../../../Game/FightingManager\";\r\nimport { GameEffectId, GameEffectsManager } from \"../../../Game/GameEffectsManager\";\r\nimport SkillManager from \"../../../Game/SkillManager\";\r\nimport GameManager from \"../../../GameManager\";\r\nimport Monster from \"../../../Monster/Monster\";\r\nimport { KeyFrameData } from \"../../../Monster/MonsterData\";\r\nimport MonsterManager from \"../../../Monster/MonsterManager\";\r\nimport { SoundIndex } from \"../../../Sound/AudioConstants\";\r\nimport { GongJiData } from \"../../Data/HeroData\";\r\nimport FullScreenDamage from \"../../Skill/FullScreenDamage\";\r\nimport Hero from \"../Hero\";\r\nimport {  BuffType, DamageType, GongJi_FangXiang,  Hero_State, SkillType } from \"../HeroConfig\";\r\nimport BingNvDan from \"./BingNvDan\";\r\nimport BingNvWall from \"./BingNvWall\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class BingNv extends Hero {\r\n    \r\n    @property(cc.Prefab)\r\n    prefab_beidong_2:cc.Prefab=null;\r\n\r\n    @property(cc.Node)\r\n    buff_node:cc.Node=null;\r\n\r\n    full_screen_damage:FullScreenDamage=null;\r\n\r\n    onLoad()\r\n    {\r\n        super.onLoad();\r\n        //加载技能指示器\r\n        //super.loadZhiShiQi(\"manteng_zhishi_qi\",SkillIndicatorType.target);\r\n        super.addLoadByGameEffectId(GameEffectId.bing_nv_attack,1);\r\n        super.addLoadByGameEffectId(GameEffectId.bing_nv_attack_hit,1);\r\n        super.addLoadByGameEffectId(GameEffectId.bing_nv_beidong_skill_create,1);\r\n        super.addLoadByGameEffectId(GameEffectId.bing_nv_beidong_skill,4);\r\n        super.addLoadByGameEffectId(GameEffectId.bing_nv_beidong_skill_hit,4);\r\n        super.addLoadByGameEffectId(GameEffectId.xuanyun,4);\r\n        super.addLoadByGameEffectId(GameEffectId.bing_nv_active_skill_wall,1);\r\n        this.is_LoadLoad=true;\r\n        this.addSkillListen(this.useSkill);\r\n        this.addAttackListen(this.normalAttack);\r\n        this.addXuanYunListen(this.onXuanYunResult);\r\n    }\r\n\r\n    start()\r\n    {        \r\n        super.start();\r\n        this.is_need_check_distance=true;\r\n        super.setSkillTipSize(1680,200);\r\n        if(this.hero_data.getIsUnlock(SkillType.Passive_2)){\r\n            this.createFullScreenDamage();\r\n        }\r\n    }\r\n    update(dt: number): void {\r\n        super.update(dt);\r\n        if(this.beidong&&this.node_shadow){\r\n            this.beidong.setPosition(this.node_shadow.getPosition());\r\n        }\r\n        \r\n    }\r\n    private beidong:cc.Node;\r\n    createFullScreenDamage(){\r\n        this.beidong=cc.instantiate(this.prefab_beidong_2);\r\n        this.beidong.parent = cc.find('Canvas/Hero_Shadow_Root');\r\n        // node.setPosition(this.node.getPosition());\r\n        this.full_screen_damage=this.beidong.getComponent(FullScreenDamage);\r\n        this.full_screen_damage.init(GameEffectId.bing_nv_beidong_skill_2,1,this.onSkillDamage2.bind(this));\r\n    }\r\n\r\n    onSkillDamage2(){\r\n        let allMonsterS=MonsterManager.getInstance().node.children;\r\n        let len=allMonsterS.length;    \r\n        for(let i=0;i<len; i++)\r\n        {\r\n            let monster=allMonsterS[i];\r\n            let monsterTS=monster.getComponent(Monster);\r\n            if(monsterTS && monsterTS.isHaveDeBuffType(BuffType.Slowdown))\r\n            {\r\n                monsterTS.beFlashInjured(super.getGongJiData(DamageType.Skill,false,SkillType.Passive_2,this.hero_data.getSkillValue1(SkillType.Passive_2)));\r\n            }\r\n        }\r\n    }\r\n    \r\n    onXuanYunResult(isXuanYun:boolean){\r\n        if(isXuanYun){\r\n            this.unscheduleAllCallbacks();            \r\n        }else{\r\n            //根据上个状态判断需要做什么\r\n            this.setHeroState(Hero_State.idle,GongJi_FangXiang.zhong);\r\n        }\r\n    }\r\n\r\n    createBingNvDan(id:GameEffectId,jianshiPos:cc.Vec2,speed:number,dir:number,gjData:GongJiData){\r\n        let node=FightingManager.getInstance().createGameEffectById(id,jianshiPos);\r\n        node.getComponent(BingNvDan).hero_lvl=this.hero_lvl;\r\n        node.getComponent(BingNvDan).init(id,speed,dir,gjData);\r\n    }\r\n\r\n    normalAttack(monster:cc.Node)\r\n    {\r\n        if(GameManager.getInstance().cur_game_state!=GameState.Game_Playing)\r\n        return;\r\n        this.is_can_gongji=false;\r\n        this.startAttack(monster);\r\n    }\r\n\r\n    startAttack(enemyNode:cc.Node)\r\n    {\r\n        let enemyPos=enemyNode.getComponent(Monster).getSheShouPos();\r\n        let fangxiang=this.getFangXiangByPos(enemyPos);        \r\n        let data=new KeyFrameData();\r\n        data.name=\"Attack\";\r\n        data.callback=()=>{\r\n            GameManager.getInstance().sound_manager.playSound(SoundIndex.YX_BNAttack);\r\n            let rate=this.hero_data.getSkillValue1(SkillType.Passive_1);\r\n            //特效id\r\n            let gameEffectId=GameEffectId.bing_nv_attack;\r\n            let gjData:GongJiData=null;\r\n            if(rate&&Math.random()<rate){\r\n                gameEffectId=GameEffectId.bing_nv_beidong_skill;\r\n                gjData=super.getGongJiData(DamageType.Skill,true,SkillType.Passive_1,this.hero_data.getSkillValue2(SkillType.Passive_1))\r\n            }else{\r\n                gameEffectId=GameEffectId.bing_nv_attack;\r\n                gjData=super.getGongJiData(DamageType.Normal,true,SkillType.Null)\r\n            }\r\n            let jianshiPos=this.getCreateBulletPos();\r\n            let offsetPos=enemyPos.sub(jianshiPos);\r\n            let jianshiDir=Math.atan2(offsetPos.y,offsetPos.x);\r\n            this.createBingNvDan(gameEffectId,jianshiPos,this.bullet_speed,jianshiDir,gjData);\r\n            if(this.is_double_attack){\r\n                this.resetNormalAttack();\r\n            }else{\r\n                this.gongji_jishu=0;\r\n            }\r\n        }\r\n        super.setHeroState(Hero_State.attack,fangxiang,[data],()=>{\r\n            this.setHeroState(Hero_State.idle,this.cur_fangxiang);\r\n        });\r\n    }\r\n\r\n    //---------------------------------------------技能----------------------------------------------    \r\n    useSkill(pos:cc.Vec2):number\r\n    {\r\n        SkillManager.getInstance().releaseSkill(()=>{\r\n            this.startSelfXuLi(pos);\r\n        },this.node);\r\n        return 0;\r\n    }\r\n\r\n    startSelfXuLi(pos:cc.Vec2){\r\n        //施法特效\r\n        // let node=GameEffectsManager.getInstance().createGameEffectForParent(GameEffectId.bing_nv_active_skill,this.node.getPosition().add(cc.v2(42,96)),SkillManager.getInstance().node);\r\n        // node.zIndex=4;\r\n        // let animation=node.getComponent(cc.Animation);\r\n        // let state=animation.play();\r\n        // state.speed=JiaSu;\r\n        // animation.on(cc.Animation.EventType.FINISHED,()=>{                    \r\n        //     animation.off(cc.Animation.EventType.FINISHED);\r\n        //     GameEffectsManager.getInstance().destroyGameEffectById(GameEffectId.bing_nv_active_skill,node);                        \r\n        // })\r\n        //蓄力帧监听\r\n        let heroRoot=cc.find('Canvas/Hero_Root');\r\n        //发射帧监听\r\n        let fasheData=new KeyFrameData();\r\n        fasheData.name=\"FaShe\";\r\n        fasheData.callback=()=>{\r\n            //可以发射\r\n            SkillManager.getInstance().setTimeStop(false);\r\n            this.node.parent=heroRoot;\r\n            this.node.zIndex=2;\r\n            this.startLaunch(pos);\r\n        }\r\n        //英雄动作播放\r\n        this.setHeroState(Hero_State.skill,GongJi_FangXiang.zhong,[fasheData],()=>{\r\n            //动作完毕后状态还是技能状态，动画要播放待机的\r\n            this.resetGongJiJiShu();\r\n            this.setHeroState(Hero_State.idle,GongJi_FangXiang.zhong);\r\n        });\r\n        this.spine.timeScale=JiaSu;\r\n\r\n\r\n    }\r\n    /**在目标区域的左右两边各召唤一阵藤蔓冲击波，藤蔓冲击波会向屏幕另一端滚动，途中速度会逐渐加快，对触碰到的敌人造成{参数1}%伤害，并造成{参数2}秒眩晕效果 */\r\n    startLaunch(pos:cc.Vec2){\r\n        super.setAttSpineScale();\r\n        let node=GameEffectsManager.getInstance().createGameEffectForParent(GameEffectId.bing_nv_active_skill_wall,pos,MonsterManager.getInstance().node);\r\n        node.getComponent(BingNvWall).init(super.getGongJiData(DamageType.Skill,false,SkillType.Active,this.hero_data.getSkillValue3(SkillType.Active)),pos,this.hero_data.getSkillValue1(SkillType.Active));\r\n        SkillManager.getInstance().setIsSkillState(false);\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.YX_BNSkill);\r\n    }\r\n}\r\n\r\n\r\n"]}