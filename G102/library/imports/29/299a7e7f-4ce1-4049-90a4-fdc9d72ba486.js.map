{"version":3,"sources":["assets\\Scripts\\Payment\\RabateUi.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import ApkManager from \"../Ads/ApkManager\";\r\nimport GameManager from \"../GameManager\";\r\nimport { CustomsClearanceRebateManager } from \"../JsonData/CustomsClearanceRebate\";\r\nimport { LevelUpRebateManager } from \"../JsonData/LevelUpRebate\";\r\nimport LabelLanguage from \"../multiLanguage/LabelLanguage\";\r\nimport { LanguageIndex } from \"../multiLanguage/LanguageConstants\";\r\nimport LanguageManager from \"../multiLanguage/LanguageManager\";\r\nimport TextLanguage from \"../multiLanguage/TextLanguage\";\r\nimport { PropId } from \"../Prop/PropConfig\";\r\nimport { PropManager } from \"../Prop/PropManager\";\r\nimport { SoundIndex } from \"../Sound/AudioConstants\";\r\nimport { PayUiIndex, PayId } from \"../thirdParty/ThirdParty\";\r\nimport { EventManager, RedEventString, RedEventType } from \"../Tools/EventManager\";\r\nimport UIComponent from \"../UI/UIComponent\";\r\nimport UserData from \"../UserData\";\r\nimport { PaidItemManager } from \"./Data/PaidItem\";\r\nimport { PayManager } from \"./PayManager\";\r\nimport { RabateType, RabateManager } from \"./RabateManager\";\r\n\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class RabateUi extends UIComponent {\r\n\r\n    // @property(cc.Prefab)\r\n    // help:cc.Prefab=null;\r\n\r\n    cur_show_index:RabateType=RabateType.Campaign;\r\n\r\n    onLoad(): void {\r\n        super.onLoad();\r\n        this.loadLevelItem();\r\n        // this.loadUserItem();\r\n        this.node.getChildByName('item').removeFromParent();\r\n        this.refreshUi();\r\n    }\r\n\r\n    protected start(): void {\r\n        PayManager.getInstance().addTodayShow(PayUiIndex.FanLi);\r\n        EventManager.postRedEvent(RedEventString.RED_CHECK,RedEventType.Btn_Main_Shop_FanLi);\r\n        this.adaptation();\r\n    }\r\n\r\n    \r\n    private adaptation()\r\n    {        \r\n        let bottomNode=this.node.parent.getChildByName('bottom');\r\n        let bottomHeight=bottomNode.height;\r\n        let bottomY=bottomNode.y;        \r\n        let topNode=this.node.parent.getChildByName('top');\r\n        let topHeight=topNode.height;\r\n        let topY=topNode.y;\r\n        let height=((topY-topHeight)-(bottomY+bottomHeight));\r\n        let centerY=(topY-topNode.height - this.node.getChildByName(\"icon\").height);\r\n        let scrollView=this.node.getChildByName('scrollView');\r\n        scrollView.height=height - this.node.getChildByName(\"icon\").height;\r\n        scrollView.y=centerY\r\n        scrollView.getChildByName('view').height=height - this.node.getChildByName(\"icon\").height;\r\n        // scrollView.getChildByName('view').y = 0;\r\n        this.node.getChildByName(\"icon\").y = topNode.y - (topNode.height);\r\n    }\r\n\r\n    loadLevelItem(){\r\n        let copyItem=this.node.getChildByName('item');\r\n        let num=CustomsClearanceRebateManager.getMaxRewardID();\r\n        // let level=this.node.getChildByName('level');        \r\n        let content=this.node.getChildByName('scrollView').getComponent(cc.ScrollView).content;\r\n        this.node.getChildByName(\"icon\").getChildByName(\"richLabel\").getComponent(cc.RichText).string = LanguageManager.getInstance().getStrByTextId(920007);\r\n        //文本\r\n        // let contentStr=LanguageManager.getInstance().getStrByTextId(80001);        \r\n        let ccrm=CustomsClearanceRebateManager.getInstance();\r\n        //总奖励\r\n        let total=0;\r\n        for(let i=1; i<=num; i++){\r\n            let item=cc.instantiate(copyItem);\r\n            item.x=0;\r\n            item.name=\"item\"+i;\r\n            content.addChild(item);\r\n            //获得数据\r\n            let rd=RabateManager.getRabateData(RabateType.Campaign,i);\r\n            //奖励数量\r\n            let rewardNum=ccrm.getGetGem(i);\r\n            // let numLabel=item.getChildByName('numLabel').getComponent(cc.Label);\r\n            // numLabel.string=rewardNum+\"\";\r\n            let t = PropManager.getInstance().createPropItem(PropId.Gem,rewardNum);\r\n            t.setParent(item.getChildByName(\"kuang\"));\r\n            total+=rewardNum;\r\n            //内容信息+条件\r\n            let contentLabel=item.getChildByName('contentLabel').getComponent(TextLanguage);\r\n            contentLabel.setReplaceValue('~',rd.need_num + '');\r\n            //进度情况\r\n            let completeLabel=item.getChildByName('completeLabel').getComponent(cc.Label);            \r\n            completeLabel.string=rd.cur_num+\"/\"+rd.need_num;\r\n            completeLabel.node.color=rd.is_complete?cc.color(131,110,77):cc.color(213,53,16);\r\n            item.getChildByName('finish').active=rd.is_claimed;\r\n            //按钮\r\n            // let btnClam=item.getChildByName('btnClam');\r\n            // btnClam.active=!rd.is_claimed;\r\n            // if(btnClam.active){\r\n            //     let btn=btnClam.getComponent(cc.Button);\r\n            //     btn.interactable=rd.is_complete;\r\n                // btn.clickEvents[0].customEventData=\"\"+i;\r\n                // btnClam.getChildByName('clamText').color=rd.is_complete?cc.color(124,82,13):cc.color(91,91,91);\r\n            // }\r\n            if(rd.is_complete){\r\n                if(rd.is_claimed){\r\n                    item.getChildByName(\"btnYes\").active = true;\r\n                }else{\r\n                    item.getChildByName(\"btnClam\").active = true;\r\n                    let btn=item.getChildByName(\"btnClam\").getComponent(cc.Button);\r\n                    btn.clickEvents[0].customEventData=\"\"+i;\r\n                }\r\n            }else{\r\n                item.getChildByName(\"btnNo\").active = true;\r\n            }\r\n            if(rd.is_claimed){\r\n                item.zIndex=1;\r\n            }\r\n        }\r\n        // level.getChildByName('numLabel').getComponent(cc.Label).string=total.toString();\r\n        // level.getChildByName('valueText').getComponent(cc.Label).string=total/10+\"% \"+LanguageManager.getInstance().getString(LanguageIndex.Value);\r\n    }\r\n\r\n    // loadUserItem(){\r\n    //     let copyItem=this.node.getChildByName('item');\r\n    //     let num=LevelUpRebateManager.getMaxRewardID();\r\n    //     let user=this.node.getChildByName('user');\r\n    //     let content=user.getChildByName('scrollView').getComponent(cc.ScrollView).content;\r\n    //     //文本\r\n    //     let contentStr=LanguageManager.getInstance().getStrByTextId(80002);\r\n    //     //当前的等级\r\n    //     let userLevel=UserData.getInstance().getUserLevel();        \r\n    //     let lurm=LevelUpRebateManager.getInstance();\r\n        \r\n    //     //总奖励\r\n    //     let total=0;\r\n    //     for(let i=1; i<=num; i++){\r\n    //         let item=cc.instantiate(copyItem);\r\n    //         item.x=0;\r\n    //         item.name=\"item\"+i;\r\n    //         content.addChild(item);\r\n    //         //获得数据\r\n    //         let rd=RabateManager.getRabateData(RabateType.Growth,i);\r\n    //         //奖励数量\r\n    //         let rewardNum=lurm.getGetGem(i);\r\n    //         // let numLabel=item.getChildByName('numLabel').getComponent(cc.Label);\r\n    //         // numLabel.string=rewardNum+\"\";\r\n    //         let t = PropManager.getInstance().createPropItem(PropId.Gem,rewardNum);\r\n    //         t.setParent(item.getChildByName(\"kuang\"));\r\n    //         total+=rewardNum;\r\n    //         //内容信息+条件\r\n    //         let contentLabel=item.getChildByName('contentLabel').getComponent(cc.Label);\r\n    //         contentLabel.string=contentStr+\" \"+rd.need_num;\r\n    //         //进度情况\r\n    //         let completeLabel=item.getChildByName('completeLabel').getComponent(cc.Label);            \r\n    //         completeLabel.string=rd.cur_num+\"/\"+rd.need_num;            \r\n    //         completeLabel.node.color=rd.is_complete?cc.color(131,110,77):cc.color(213,53,16);\r\n    //         item.getChildByName('finish').active=rd.is_claimed;\r\n    //         //按钮\r\n    //         let btnClam=item.getChildByName('btnClam');\r\n    //         btnClam.active=!rd.is_claimed;\r\n    //         if(btnClam.active){\r\n    //             let btn=btnClam.getComponent(cc.Button);\r\n    //             btn.interactable=rd.is_complete;\r\n    //             btn.clickEvents[0].customEventData=\"\"+i;\r\n    //             btnClam.getChildByName('clamText').color=rd.is_complete?cc.color(124,82,13):cc.color(91,91,91);\r\n    //         }    \r\n    //         if(rd.is_claimed){\r\n    //             item.zIndex=1;\r\n    //         }        \r\n    //     }\r\n    //     //等级，总奖励，价值\r\n    //     // user.getChildByName('numLabel').getComponent(cc.Label).string=total.toString();\r\n    //     // user.getChildByName('levelLabel').getComponent(cc.Label).string=LanguageManager.getInstance().getString(LanguageIndex.PlayerLv)+userLevel;\r\n    //     // user.getChildByName('valueText').getComponent(cc.Label).string=total/10+\"% \"+LanguageManager.getInstance().getString(LanguageIndex.Value);\r\n    // }\r\n\r\n    refreshUi(){\r\n        switch(this.cur_show_index){\r\n            case RabateType.Campaign:{\r\n                this.showLevelUi();\r\n            }break;\r\n            // case RabateType.Growth:{\r\n            //     this.showUserUi();\r\n            // }\r\n        }\r\n    }\r\n    \r\n    showLevelUi(){\r\n        this.cur_show_index=RabateType.Campaign;\r\n        let bottom=this.node.getChildByName('bottom');\r\n        bottom.y=-cc.winSize.height/2;\r\n        // let btnLevel=bottom.getChildByName('btnLevel');\r\n        // btnLevel.getComponent(cc.Button).interactable=false;\r\n        // btnLevel.height=71;\r\n        // let btnUser=bottom.getChildByName('btnUser');\r\n        // btnUser.getComponent(cc.Button).interactable=true;\r\n        // btnLevel.height=85;\r\n        // bottom.getChildByName('levelText').color=cc.color(240,230,166);//亮点\r\n        // bottom.getChildByName('userText').color=cc.color(242,225,172);\r\n        this.node.getChildByName('titleText').getComponent(TextLanguage).setTextId(900001);\r\n\r\n        let level=this.node.getChildByName('level');\r\n        level.active=true;\r\n        let user=this.node.getChildByName('user');\r\n        user.active=false;\r\n        //刷新状态\r\n        let num=CustomsClearanceRebateManager.getMaxRewardID();\r\n        let content=this.node.getChildByName('scrollView').getComponent(cc.ScrollView).content;\r\n        let isCan=false;\r\n        for(let i=1; i<=num; i++){\r\n            let item=content.getChildByName('item'+i);\r\n            //获得数据\r\n            let rd=RabateManager.getRabateData(RabateType.Campaign,i);            \r\n            //按钮\r\n            let btnClam=item.getChildByName('btnClam');\r\n            btnClam.active=!rd.is_claimed;\r\n            item.getChildByName('finish').active=rd.is_claimed;\r\n            //如果么有领取\r\n            if(rd.is_complete){\r\n                if(rd.is_claimed){\r\n                    item.getChildByName(\"btnYes\").active = true;\r\n                }else{\r\n                    item.getChildByName(\"btnClam\").active = true;\r\n                    let btn=item.getChildByName(\"btnClam\").getComponent(cc.Button);\r\n                    isCan = true;\r\n                    btn.clickEvents[0].customEventData=\"\"+i;\r\n                }\r\n            }else{\r\n                item.getChildByName(\"btnNo\").active = true;\r\n            }\r\n            if(rd.is_claimed){\r\n                item.zIndex=1;\r\n            }\r\n        }\r\n        //获取购买状态\r\n        let btnBuy=this.node.getChildByName(\"icon\").getChildByName('btnBuy').getComponent(cc.Button);\r\n        let priceText=this.node.getChildByName(\"icon\").getChildByName('priceText').getComponent(cc.Label);\r\n        //获得数据\r\n        let payNum=PayManager.getInstance().getPayNum('b401');\r\n        if(payNum>0){\r\n            priceText.string=LanguageManager.getInstance().getStrByTextId(100012);\r\n            //根据领取状态判断能否点击\r\n            btnBuy.interactable=isCan;            \r\n        }else{\r\n            let payInfo = PayManager.getInstance().getPayInfo('b401');\r\n            // priceText.string= payInfo.price + payInfo.currency;\r\n            priceText.string= payInfo.price;\r\n            btnBuy.interactable=true;\r\n        }\r\n        // priceText.node.color=btnBuy.interactable?cc.color(124,82,13):cc.color(91,91,91);\r\n        if(btnBuy.interactable){\r\n            priceText.node.getComponent(cc.Label).setMaterial(0, cc.Material.getBuiltinMaterial(\"2d-sprite\"));\r\n        }else{\r\n            priceText.node.getComponent(cc.Label).setMaterial(0, cc.Material.getBuiltinMaterial(\"2d-gray-sprite\"));\r\n        }\r\n    }\r\n\r\n    // showUserUi(){\r\n    //     this.cur_show_index=RabateType.Growth;\r\n    //     let bottom=this.node.getChildByName('bottom');\r\n    //     bottom.y=-cc.winSize.height/2;\r\n    //     // let btnLevel=bottom.getChildByName('btnLevel');\r\n    //     // btnLevel.getComponent(cc.Button).interactable=true;\r\n    //     // btnLevel.height=85;\r\n    //     // let btnUser=bottom.getChildByName('btnUser');\r\n    //     // btnUser.getComponent(cc.Button).interactable=false;\r\n    //     // btnLevel.height=71;\r\n\r\n    //     // bottom.getChildByName('userText').color=cc.color(240,230,166);//亮点\r\n    //     // bottom.getChildByName('levelText').color=cc.color(242,225,172);\r\n    //     this.node.getChildByName('titleText').getComponent(LabelLanguage).setLanguageIndex(LanguageIndex.GrowthInvestment);\r\n\r\n    //     let level=this.node.getChildByName('level');\r\n    //     level.active=false;\r\n    //     let user=this.node.getChildByName('user');\r\n    //     user.active=true;\r\n\r\n    //     //刷新状态\r\n    //     let num=LevelUpRebateManager.getMaxRewardID();\r\n    //     let content=user.getChildByName('scrollView').getComponent(cc.ScrollView).content;\r\n    //     let isCan=false;\r\n    //     for(let i=1; i<=num; i++){\r\n    //         let item=content.getChildByName('item'+i);\r\n    //         //获得数据\r\n    //         let rd=RabateManager.getRabateData(RabateType.Growth,i);            \r\n    //         //按钮\r\n    //         let btnClam=item.getChildByName('btnClam');\r\n    //         btnClam.active=!rd.is_claimed;\r\n    //         item.getChildByName('finish').active=rd.is_claimed;\r\n    //         //如果么有领取\r\n    //         if(btnClam.active){\r\n    //             btnClam.getComponent(cc.Button).interactable=rd.is_complete;\r\n    //             btnClam.getChildByName('clamText').color=rd.is_complete?cc.color(124,82,13):cc.color(91,91,91);\r\n    //             //如果么有领取并且完成了\r\n    //             if(rd.is_complete){\r\n    //                 isCan=true;\r\n    //             }\r\n    //         }\r\n    //         if(rd.is_claimed){\r\n    //             item.zIndex=1;\r\n    //         }\r\n    //     }\r\n    //     //获取购买状态\r\n    //     let btnBuy=this.node.getChildByName('btnBuy').getComponent(cc.Button);\r\n    //     let priceText=this.node.getChildByName('icon').getChildByName('priceText').getComponent(cc.Label);\r\n    //     //获得数据\r\n    //     let payNum=PayManager.getInstance().getPayNum('PayId.Growth');\r\n    //     if(payNum>0){\r\n    //         priceText.string=LanguageManager.getInstance().getString(LanguageIndex.CLAIM_ALL);\r\n    //         //根据领取状态判断能否点击\r\n    //         btnBuy.interactable=isCan;\r\n    //     }else{\r\n    //         priceText.string=PaidItemManager.getInstance().getPrice('b'+PayId.Growth)+\"$\";\r\n    //         btnBuy.interactable=true;\r\n    //     }\r\n    //     // priceText.node.color=btnBuy.interactable?cc.color(124,82,13):cc.color(91,91,91);\r\n    //     if(btnBuy.interactable){\r\n    //         priceText.node.getComponent(cc.Label).setMaterial(0, cc.Material.getBuiltinMaterial(\"2d-sprite\"));\r\n    //     }else{\r\n    //         priceText.node.getComponent(cc.Label).setMaterial(0, cc.Material.getBuiltinMaterial(\"2d-gray-sprite\"));\r\n    //     }\r\n    // }\r\n\r\n    clickBtnLevel(){\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        this.cur_show_index=RabateType.Campaign;\r\n        this.refreshUi();\r\n        \r\n    }\r\n\r\n    clickBtnUser(){\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        this.cur_show_index=RabateType.Growth;\r\n        this.refreshUi();\r\n \r\n    }\r\n\r\n    clickBtnClaim(btn,idStr:string){\r\n        let id=parseInt(idStr);\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        switch(this.cur_show_index){\r\n            case RabateType.Campaign:{\r\n\r\n                let payNum=PayManager.getInstance().getPayNum('b401');\r\n                let payInfo = PayManager.getInstance().getPayInfo('b401');\r\n                if(payNum>0){\r\n                    //领取所有\r\n                    let rewardData=RabateManager.claimOnce(RabateType.Campaign,id);\r\n                    if(rewardData.reward_num>0){\r\n                        // GameData.getInstance().changeGem(rewardData.reward_num);\r\n                        // let gemItem=GameManager.getInstance().box_json_data.createBoxItem(rewardData.reward_id,rewardData.reward_num);\r\n                        PropManager.getInstance().changePropNum(PropId.Gem,rewardData.reward_num);\r\n                        let gemItem = PropManager.getInstance().createPropItem(PropId.Gem,rewardData.reward_num);\r\n                        GameManager.getInstance().showGetTip(gemItem);\r\n                        this.refreshUi();\r\n                    }\r\n                }else{\r\n                    GameManager.getInstance().showBuyDialog(LanguageManager.getInstance().getStrByTextId(920004),()=>{\r\n                        ApkManager.getInstance().showPay({result:(isPay:boolean)=>{\r\n                            if(isPay){\r\n                                PayManager.getInstance().addPayNum('b401');\r\n                                this.refreshUi();\r\n                            }\r\n                        }},'b401')\r\n                    },null,2,payInfo.price,payInfo.currency);\r\n                }\r\n            }break;\r\n            case RabateType.Growth:{\r\n\r\n                \r\n            }break;\r\n        }\r\n    }\r\n\r\n    clickBtnBuy(){\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        switch(this.cur_show_index){\r\n            case RabateType.Campaign:{\r\n                //获得数据\r\n                let payNum=PayManager.getInstance().getPayNum('b401');\r\n                if(payNum>0){\r\n                    //领取所有\r\n                    let rewardData=RabateManager.claimAll(RabateType.Campaign);\r\n                    if(rewardData.reward_num>0){\r\n                        // GameData.getInstance().changeGem(rewardData.reward_num);\r\n                        // let gemItem=GameManager.getInstance().box_json_data.createBoxItem(rewardData.reward_id,rewardData.reward_num);\r\n                        PropManager.getInstance().changePropNum(PropId.Gem,rewardData.reward_num);\r\n                        let gemItem = PropManager.getInstance().createPropItem(PropId.Gem,rewardData.reward_num);\r\n                        GameManager.getInstance().showGetTip(gemItem);\r\n                        this.refreshUi();\r\n                    }\r\n                }else{\r\n                    ApkManager.getInstance().showPay({result:(isPay:boolean)=>{\r\n                        if(isPay){\r\n                            PayManager.getInstance().addPayNum('b401');\r\n                            this.refreshUi();\r\n                        }\r\n                    }},'b401')\r\n                }\r\n            }break;\r\n            case RabateType.Growth:{\r\n                \r\n            }break;\r\n        }\r\n    }    \r\n\r\n    clickBtnClose(){\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        super.onClose();\r\n    }\r\n\r\n    // clickBtnTip(){\r\n    //     GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n    //     let help=cc.instantiate(this.help);\r\n    //     this.node.addChild(help);\r\n    // }\r\n\r\n    \r\n}\r\n"]}