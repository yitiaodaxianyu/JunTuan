{"version":3,"sources":["assets\\Scripts\\UI\\VipUi.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import ApkManager from \"../Ads/ApkManager\";\r\nimport { DingYue_Type, VipManager, Vip_Type } from \"../Ads/VipManager\";\r\nimport GameManager from \"../GameManager\";\r\nimport { Follow_Type } from \"../multiLanguage/FollowConstants\";\r\nimport FollowManager from \"../multiLanguage/FollowManager\";\r\nimport { LanguageIndex } from \"../multiLanguage/LanguageConstants\";\r\nimport LanguageManager from \"../multiLanguage/LanguageManager\";\r\nimport { SoundIndex } from \"../Sound/AudioConstants\";\r\nimport UIComponent from \"./UIComponent\";\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class VipUi extends UIComponent {    \r\n    \r\n    start () {\r\n        //翻译\r\n        ApkManager.getInstance().showBanner();\r\n        let richText=this.node.getChildByName('richText');\r\n        richText.getComponent(cc.RichText).string=LanguageManager.getInstance().getString(LanguageIndex.DingYueTip);\r\n        //设置价格和货币单位\r\n        let textWeek=this.node.getChildByName('textWeek');\r\n        let lm=LanguageManager.getInstance();\r\n        if(VipManager.dy_info.length>DingYue_Type.Week)\r\n        {\r\n            textWeek.getComponent(cc.Label).string=lm.getString(LanguageIndex.Day3free_trial)+VipManager.dy_info[DingYue_Type.Week].price+' '+VipManager.dy_info[DingYue_Type.Week].currency+'/'+lm.getString(LanguageIndex.Week);\r\n        }\r\n        if(VipManager.dy_info.length>DingYue_Type.Month)\r\n        {\r\n            let textMonth=this.node.getChildByName('textMonth');\r\n            textMonth.getComponent(cc.Label).string=VipManager.dy_info[DingYue_Type.Month].price+' '+VipManager.dy_info[DingYue_Type.Month].currency+'/'+lm.getString(LanguageIndex.Month);\r\n        }\r\n        if(VipManager.dy_info.length>DingYue_Type.Year)\r\n        {\r\n            let textYear=this.node.getChildByName('textYear');\r\n            textYear.getComponent(cc.Label).string=VipManager.dy_info[DingYue_Type.Year].price+' '+VipManager.dy_info[DingYue_Type.Year].currency+'/'+lm.getString(LanguageIndex.Year);\r\n        }\r\n    }\r\n\r\n    // showRemainTime()\r\n    // {\r\n    //     let timeLabel=this.node.getChildByName('timeLabel');\r\n    //     let isVip=VipManager.getIsVip();\r\n    //     if(isVip)\r\n    //     {\r\n    //         timeLabel.active=true;\r\n    //         let totalDay=VipManager.getVipTotalDay();\r\n    //         let curSec=new Date().getTime();\r\n    //         let startSec=VipManager.getVipStartTime();\r\n    //         let offsetSec=curSec-startSec;\r\n    //         let totalSec=totalDay*24*60*60;\r\n    //         if(offsetSec>=totalSec)\r\n    //         {\r\n    //             //VIP可能过期，需要请求谷歌\r\n                \r\n    //         }else\r\n    //         {\r\n\r\n    //         }\r\n    //         let rDay=totalDay;\r\n    //     }else\r\n    //     {\r\n    //         timeLabel.active=false;\r\n    //     }\r\n    // }\r\n\r\n    clickBtnClose()\r\n    {\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        super.onClose();\r\n        ApkManager.getInstance().closeBanner();\r\n    }\r\n \r\n    clickBtnWeek()\r\n    {\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        FollowManager.getInstance().followEvent(Follow_Type.周卡点击玩家数);\r\n        ApkManager.getInstance().showDingYue({result:(isSuc:boolean)=>{\r\n            if(isSuc)\r\n            {\r\n                VipManager.saveVip(1);\r\n                VipManager.saveVipFreeNum(5);\r\n                VipManager.saveVipStartTime(DingYue_Type.Week,Vip_Type.A);\r\n            }\r\n        }},DingYue_Type.Week);        \r\n    }\r\n\r\n    clickBtnMon()\r\n    {\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        FollowManager.getInstance().followEvent(Follow_Type.月卡点击玩家数);\r\n        ApkManager.getInstance().showDingYue({result:(isSuc:boolean)=>{\r\n            if(isSuc)\r\n            {\r\n                VipManager.saveVip(1);\r\n                VipManager.saveVipFreeNum(5);\r\n                VipManager.saveVipStartTime(DingYue_Type.Month,Vip_Type.A);\r\n            }\r\n            \r\n        }},DingYue_Type.Month);        \r\n    }\r\n\r\n    clickBtnYear()\r\n    {\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        FollowManager.getInstance().followEvent(Follow_Type.年卡点击玩家数);\r\n        ApkManager.getInstance().showDingYue({result:(isSuc:boolean)=>{\r\n            if(isSuc)\r\n            {\r\n                VipManager.saveVip(1);\r\n                VipManager.saveVipFreeNum(5);\r\n                VipManager.saveVipStartTime(DingYue_Type.Year,Vip_Type.A);\r\n            }\r\n            \r\n        }},DingYue_Type.Year);        \r\n    }\r\n\r\n    clickBtnTiaoKuan()\r\n    {\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        ApkManager.getInstance().showTiaoKuan();\r\n    }\r\n}\r\n"]}