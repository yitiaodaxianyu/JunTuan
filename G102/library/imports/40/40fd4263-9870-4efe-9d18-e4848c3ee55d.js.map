{"version":3,"sources":["assets\\Scripts\\Monster\\HpProgressBar.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AACM,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAA2C,iCAAc;IAAzD;QAAA,qEAmEC;QAjEG,YAAM,GAAS,IAAI,CAAC;QAEpB,eAAS,GAAQ,EAAE,CAAC;QAEpB,aAAO,GAAQ,GAAG,CAAC;QAEnB,WAAK,GAAQ,EAAE,CAAC;QAEhB,kBAAY,GAAS,IAAI,CAAC;;IAyD9B,CAAC;IAvDG,8BAAM,GAAN;QAEI,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QAC/C,IAAI,CAAC,OAAO,GAAC,IAAI,CAAC,SAAS,GAAC,IAAI,CAAC,WAAW,CAAC;IACjD,CAAC;IAED,sCAAc,GAAd,UAAe,GAAU;QAErB,IAAG,IAAI,CAAC,YAAY,EACpB;YACI,IAAG,GAAG,IAAE,CAAC,IAAI,GAAG,IAAE,CAAC,EACnB;gBACI,IAAI,CAAC,IAAI,CAAC,OAAO,GAAC,CAAC,CAAC;aACvB;iBACD;gBACI,IAAI,CAAC,IAAI,CAAC,OAAO,GAAC,GAAG,CAAC;aACzB;SACJ;QACD,IAAG,GAAG,GAAC,IAAI,CAAC,OAAO,EACnB;YACI,GAAG,GAAC,IAAI,CAAC,OAAO,CAAC;SACpB;QACD,IAAI,CAAC,QAAQ,GAAC,GAAG,CAAC;IACtB,CAAC;IAED,8BAAM,GAAN,UAAO,CAAQ,EAAC,CAAQ;QAEpB,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,CAAC,CAAC;QACd,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,CAAC,CAAC;QACd,IAAI,CAAC,GAAC,IAAI,CAAC,KAAK,CAAC,IAAI,GAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,EAAE,CAAC,CAAA;QACrC,IAAG,CAAC,GAAC,CAAC,EAAC;YACH,CAAC,GAAC,CAAC,CAAC;SACP;QACD,IAAG,CAAC,GAAC,IAAI,EAAC;YACN,CAAC,GAAC,IAAI,CAAC;SACV;QACD,IAAI,CAAC,IAAI,CAAC,MAAM,GAAC,CAAC,CAAC;IACvB,CAAC;IAED,MAAM;IACN,8BAAM,GAAN,UAAO,EAAE;QAEL,IAAI,QAAQ,GAAC,IAAI,CAAC,QAAQ,GAAC,IAAI,CAAC,WAAW,CAAC;QAC5C,IAAG,IAAI,CAAC,MAAM,CAAC,KAAK,GAAC,QAAQ,EAC7B;YACI,IAAI,CAAC,MAAM,CAAC,KAAK,IAAE,IAAI,CAAC,KAAK,GAAC,EAAE,CAAC;YACjC,IAAG,IAAI,CAAC,MAAM,CAAC,KAAK,GAAC,QAAQ,EAC7B;gBACI,IAAI,CAAC,MAAM,CAAC,KAAK,GAAC,QAAQ,CAAC;aAC9B;SACJ;aAAK,IAAG,IAAI,CAAC,MAAM,CAAC,KAAK,GAAC,QAAQ,EACnC;YACI,IAAI,CAAC,MAAM,CAAC,KAAK,GAAC,QAAQ,CAAC;SAC9B;IACL,CAAC;IA9DD;QADC,QAAQ,EAAE;oDACS;IAEpB;QADC,QAAQ,EAAE;kDACQ;IAEnB;QADC,QAAQ,EAAE;gDACK;IAEhB;QADC,QAAQ,EAAE;uDACe;IAVT,aAAa;QADjC,OAAO;OACa,aAAa,CAmEjC;IAAD,oBAAC;CAnED,AAmEC,CAnE0C,EAAE,CAAC,WAAW,GAmExD;kBAnEoB,aAAa","file":"","sourceRoot":"/","sourcesContent":["\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class HpProgressBar extends cc.ProgressBar {\r\n\r\n    yellow:cc.Node=null;\r\n    @property()\r\n    min_width:number=17;  \r\n    @property()  \r\n    min_pro:number=0.2;\r\n    @property()\r\n    speed:number=56;\r\n    @property()\r\n    is_need_hide:boolean=true;\r\n\r\n    onLoad()\r\n    {\r\n        this.yellow=this.node.getChildByName('yellow');\r\n        this.min_pro=this.min_width/this.totalLength;\r\n    }\r\n\r\n    changeProgress(num:number)\r\n    {\r\n        if(this.is_need_hide)\r\n        {\r\n            if(num>=1 || num<=0)\r\n            {\r\n                this.node.opacity=0;\r\n            }else\r\n            {\r\n                this.node.opacity=255;\r\n            }\r\n        }        \r\n        if(num<this.min_pro)\r\n        {\r\n            num=this.min_pro;\r\n        }\r\n        this.progress=num;\r\n    }\r\n\r\n    setPos(x:number,y:number)\r\n    {\r\n        this.node.x=x;\r\n        this.node.y=y;\r\n        let z=Math.round(8000-this.node.y*10)\r\n        if(z<0){\r\n            z=0;\r\n        }\r\n        if(z>8000){\r\n            z=8000;\r\n        }\r\n        this.node.zIndex=z;\r\n    }\r\n\r\n    //显示黄色\r\n    update(dt)\r\n    {\r\n        let curWidth=this.progress*this.totalLength;\r\n        if(this.yellow.width>curWidth)\r\n        {\r\n            this.yellow.width-=this.speed*dt;\r\n            if(this.yellow.width<curWidth)\r\n            {\r\n                this.yellow.width=curWidth;\r\n            }\r\n        }else if(this.yellow.width<curWidth)\r\n        {\r\n            this.yellow.width=curWidth;\r\n        }\r\n    }\r\n}\r\n"]}