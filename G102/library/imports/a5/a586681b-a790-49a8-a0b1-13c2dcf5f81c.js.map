{"version":3,"sources":["assets\\Scripts\\Pet\\Ui\\PetReductionUi.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,mDAA8C;AAC9C,iDAA4C;AAC5C,uEAAkE;AAClE,mEAA8D;AAC9D,oDAA+C;AAC/C,sDAAqD;AACrD,6DAAwD;AAExD,oDAA+C;AAIzC,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAA4C,kCAAW;IAAvD;QAAA,qEAoDC;QAlDW,cAAQ,GAAW,IAAI,CAAC;;IAkDpC,CAAC;IAhDE,6BAAI,GAAJ,UAAK,IAAc;QACf,iBAAM,IAAI,YAAC,IAAI,CAAC,CAAC;IACrB,CAAC;IAED,iCAAQ,GAAR,UAAS,OAAe;QACnB,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QACxB,IAAI,CAAC,SAAS,EAAE,CAAC;IACtB,CAAC;IAED,kCAAS,GAAT;QACK,0LAA0L;QAC1L,2LAA2L;IAChM,CAAC;IAED,uCAAc,GAAd;QACK,qBAAW,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,SAAS,CAAC,2BAAU,CAAC,KAAK,CAAC,CAAC;QACpE,IAAG,yBAAW,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,mBAAM,CAAC,GAAG,EAAC,CAAC,EAAE,CAAC,EAAC;YACvD,uBAAa,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,6BAAW,CAAC,OAAO,CAAC,CAAC;YAC7D,uBAAa,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,6BAAW,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACtF,oGAAoG;YACpG,mGAAmG;YACnG,gFAAgF;YAChF,sFAAsF;YACtF,iCAAiC;YACjC,8BAA8B;YAC9B,6BAA6B;YAC7B,6BAA6B;YAC7B,kEAAkE;YAClE,oEAAoE;YACpE,0EAA0E;YAC1E,0BAA0B;YAC1B,kBAAkB;SACrB;IACN,CAAC;IAED,sCAAa,GAAb;QAEI,qBAAW,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,SAAS,CAAC,2BAAU,CAAC,KAAK,CAAC,CAAC;QACpE,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,oCAAW,GAAX;QAEI,iBAAM,OAAO,WAAE,CAAC;QAChB,oBAAU,CAAC,WAAW,EAAE,CAAC,WAAW,EAAE,CAAC;QACvC,oFAAoF;IACxF,CAAC;IAlDiB,cAAc;QADlC,OAAO;OACa,cAAc,CAoDlC;IAAD,qBAAC;CApDD,AAoDC,CApD2C,qBAAW,GAoDtD;kBApDoB,cAAc","file":"","sourceRoot":"/","sourcesContent":["import ApkManager from \"../../Ads/ApkManager\";\r\nimport GameManager from \"../../GameManager\";\r\nimport { Follow_Type } from \"../../multiLanguage/FollowConstants\";\r\nimport FollowManager from \"../../multiLanguage/FollowManager\";\r\nimport { PropId } from \"../../Prop/PropConfig\";\r\nimport { PropManager } from \"../../Prop/PropManager\";\r\nimport { SoundIndex } from \"../../Sound/AudioConstants\";\r\nimport MyTool from \"../../Tools/MyTool\";\r\nimport UIComponent from \"../../UI/UIComponent\";\r\nimport { UiAction } from \"../../UI/UiInterface\";\r\nimport { PetInfo } from \"../PetConfig\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class PetReductionUi extends UIComponent {\r\n\r\n    private pet_info:PetInfo = null;\r\n\r\n   init(uiAc: UiAction): void {\r\n       super.init(uiAc);\r\n   }\r\n\r\n   initData(petInfo:PetInfo){\r\n        this.pet_info = petInfo;\r\n        this.refreshUi();\r\n   }\r\n\r\n   refreshUi(){\r\n        // this.node.getChildByName(\"cinItem\").getComponentInChildren(cc.Label).string = MyTool.getCoinDanwei(SpiritLevelUpManager.getInstance().getNowLevelAllCostCoin(this.pet_info.pet_level));\r\n        // this.node.getChildByName(\"foodItem\").getComponentInChildren(cc.Label).string = MyTool.getCoinDanwei(SpiritLevelUpManager.getInstance().getNowLevelAllCostFood(this.pet_info.pet_level));\r\n   }\r\n\r\n   onClickSureBtn(){\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        if(PropManager.getInstance().changePropNum(PropId.Gem,-50)){\r\n            FollowManager.getInstance().followEvent(Follow_Type.宠物还原总次数);\r\n            FollowManager.getInstance().followEvent(Follow_Type.不同宠物的还原次数 + this.pet_info.pet_id);\r\n            // let coinNum = SpiritLevelUpManager.getInstance().getNowLevelAllCostCoin(this.pet_info.pet_level);\r\n            // let foodNum = SpiritLevelUpManager.getInstance().getNowLevelAllCostFood(this.pet_info.pet_level)\r\n            // let coinItem = PropManager.getInstance().createPropItem(PropId.Coin,coinNum);\r\n            // let foodItem = PropManager.getInstance().createPropItem(PropId.AnimalFood,foodNum);\r\n            // let rewardList:cc.Node[] = [];\r\n            // this.pet_info.resetLevel();\r\n            // rewardList.push(coinItem);\r\n            // rewardList.push(foodItem);\r\n            // GameManager.getInstance().showMultipleGetTip(rewardList,(() =>{\r\n            //     PropManager.getInstance().changePropNum(PropId.Coin,coinNum);\r\n            //     PropManager.getInstance().changePropNum(PropId.AnimalFood,foodNum);\r\n            //     this.destroySelf();\r\n            // }).bind(this));\r\n        }\r\n   }\r\n\r\n   clickBtnClose()\r\n   {\r\n       GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n       this.destroySelf();\r\n   }\r\n\r\n   destroySelf()\r\n   {\r\n       super.onClose();\r\n       ApkManager.getInstance().closeBanner();\r\n       // EventManager.postRedEvent(RedEventString.RED_CHECK,RedEventType.Btn_Main_SignIn);\r\n   }\r\n\r\n}\r\n"]}