{"version":3,"sources":["assets\\Scripts\\BattlePass\\BattlePassItem.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import ApkManager from \"../Ads/ApkManager\";\r\nimport GameManager from \"../GameManager\";\r\nimport { Follow_Type } from \"../multiLanguage/FollowConstants\";\r\nimport FollowManager from \"../multiLanguage/FollowManager\";\r\nimport LanguageManager from \"../multiLanguage/LanguageManager\";\r\nimport { PropManager } from \"../Prop/PropManager\";\r\nimport { PropAction, PropId } from \"../Prop/PropConfig\";\r\nimport { SoundIndex } from \"../Sound/AudioConstants\";\r\nimport { BattlePassDataManager } from \"./BattlePassData\";\r\nimport { BattlePassClaimType, BattlePassManager } from \"./BattlePassManager\";\r\nimport { PayManager } from \"../Payment/PayManager\";\r\nimport TextLanguage from \"../multiLanguage/TextLanguage\";\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\nconst google_id:string = 'b501';\r\n\r\n@ccclass\r\nexport default class BattlePassItem extends cc.Component {\r\n\r\n    @property(cc.Prefab)\r\n    prefab_lock: cc.Prefab = null;\r\n\r\n    @property(cc.Prefab)\r\n    prefab_claimed: cc.Prefab = null;\r\n\r\n    // @property(cc.Prefab)\r\n    // mask:cc.Prefab = null;\r\n    \r\n    id:number=0;\r\n    pos_xx:number[]=[-205,90,205];\r\n    cur_level:number=0;\r\n    //刷新后回调\r\n    refresh_callback:Function=null;\r\n    //购买回调\r\n    buy_callback:Function=null;\r\n\r\n    // private google_id:string = 'b501';\r\n\r\n    init(id:number,loadLevel:number,clickCallback:Function,buyCallback?:Function){\r\n        this.id=id;\r\n        this.cur_level=loadLevel;\r\n        this.refresh_callback=clickCallback;\r\n        this.buy_callback=buyCallback;\r\n        this.loadItem();\r\n        this.refreshData();\r\n    }\r\n\r\n    loadItem(){\r\n        let bpdm=BattlePassDataManager.getInstance();\r\n        // let boxM=GameManager.getInstance().box_json_data;\r\n        let jsonData=bpdm.getJsonBattlePassData(this.id);\r\n\r\n        let clickEvent=new cc.Component.EventHandler();\r\n        clickEvent.target=this.node;\r\n        clickEvent.component='BattlePassItem';\r\n        clickEvent.handler='clickBtnClaim';\r\n\r\n        // try{\r\n        let item0=PropManager.getInstance().createPropItem(jsonData.FreeRewardItem,jsonData.FreeRewardNum,PropAction.Null);\r\n\r\n        item0.getComponent(cc.Button).clickEvents.push(clickEvent);\r\n\r\n        // let item0=boxM.createBoxItem(jsonData.FreeRewardItem,jsonData.FreeRewardNum);\r\n        this.node.addChild(item0);\r\n        item0.x=this.pos_xx[0];\r\n        item0.name='item0';\r\n        let item1=PropManager.getInstance().createPropItem(PropId.Gem,jsonData.SeniorRewardGem,PropAction.Null);\r\n        item1.getComponent(cc.Button).clickEvents.push(clickEvent);\r\n        // let item1=boxM.createBoxItem(PropId.Gem,jsonData.SeniorRewardGem);\r\n        this.node.addChild(item1);\r\n        item1.x=this.pos_xx[1];\r\n        item1.name='item1';\r\n        let item2=PropManager.getInstance().createPropItem(jsonData.SeniorRewardItem,jsonData.SeniorRewardNum,PropAction.Null);\r\n        item2.getComponent(cc.Button).clickEvents.push(clickEvent);\r\n        // let item2=boxM.createBoxItem(jsonData.SeniorRewardItem,jsonData.SeniorRewardNum);\r\n        this.node.addChild(item2);\r\n        item2.x=this.pos_xx[2];\r\n        item2.name='item2';\r\n        // }catch(error){\r\n        //     console.log(error,jsonData)\r\n        // }\r\n    }\r\n\r\n    refreshData(){        \r\n        //是否需要加锁\r\n        let curLevel=BattlePassManager.getCurLevel();\r\n        let isBuy=BattlePassManager.is_buy;\r\n        let isLock=curLevel<this.cur_level;\r\n        if(isLock){\r\n            this.addLock(0);\r\n            this.addLock(1);\r\n            this.addLock(2);\r\n            // let mask = cc.instantiate(this.mask);\r\n            // this.node.addChild(mask);\r\n        }else{\r\n            this.removeLock(0);\r\n            if(isBuy){                \r\n                this.removeLock(1);\r\n                this.removeLock(2);\r\n            }else{\r\n                this.addLock(1);\r\n                this.addLock(2);\r\n            }\r\n        }\r\n        //设置领取状态\r\n        let btnClaim=this.node.getChildByName('btnClaim').getComponent(cc.Button);\r\n        let claimText=this.node.getChildByName('claimText').getComponent(TextLanguage);\r\n        claimText.node.zIndex=1;\r\n        let claimState0=BattlePassManager.getClaimState(BattlePassClaimType.Free,this.id);\r\n        let claimState1=BattlePassManager.getClaimState(BattlePassClaimType.Buy,this.id);\r\n        claimText.setTextId(100011);\r\n        let isClaimOk=claimState0>0&&claimState1>0;\r\n        btnClaim.interactable=!isLock&&!isClaimOk;\r\n        if(claimState0>0&&claimState1<=0){\r\n            // claimText.setLanguageIndex(LanguageIndex.ContinueClaim);\r\n        }\r\n        claimText.node.color=btnClaim.interactable?cc.color(124,82,13):cc.color(91,91,91);\r\n        if(isClaimOk){\r\n            claimText.setTextId(100013);\r\n            claimText.node.color=cc.color(242,225,172);\r\n            btnClaim.node.active=false;\r\n        }\r\n        if(claimState0>0){\r\n            this.addClaim(0);\r\n        }\r\n        if(claimState1>0){\r\n            this.addClaim(1);\r\n            this.addClaim(2);\r\n        }\r\n    }\r\n\r\n    addLock(index:number){\r\n        let lock=this.node.getChildByName('lock'+index);\r\n        if(!lock){\r\n            let item=this.node.getChildByName('item'+index);        \r\n            let lock=cc.instantiate(this.prefab_lock);\r\n            lock.x=item.x+item.width/2*item.scaleX;\r\n            lock.y=item.y+item.height/2*item.scaleY;\r\n            lock.name='lock'+index;\r\n            this.node.addChild(lock);\r\n        }        \r\n    }\r\n\r\n    removeLock(index:number){\r\n        let lock=this.node.getChildByName('lock'+index);\r\n        if(lock){\r\n            lock.removeFromParent();\r\n        }\r\n    }\r\n\r\n    addClaim(index:number){\r\n        let claimed=this.node.getChildByName('claimed'+index);\r\n        if(!claimed){\r\n            let item=this.node.getChildByName('item'+index);\r\n            let claimed=cc.instantiate(this.prefab_claimed);\r\n            claimed.x=item.x;\r\n            claimed.y=item.y;\r\n            claimed.name='claimed'+index;\r\n            this.node.addChild(claimed);\r\n        }        \r\n    }\r\n\r\n    removeClaim(index:number){\r\n        let claimed=this.node.getChildByName('claimed'+index);\r\n        if(claimed){\r\n            claimed.removeFromParent();\r\n        }\r\n    }\r\n\r\n    toClaimFree(isShow:boolean):cc.Node{        \r\n        let curLevel=BattlePassManager.getCurLevel();\r\n        let isUnLock=curLevel>=this.cur_level;\r\n        let bpdm=BattlePassDataManager.getInstance();\r\n        // let boxM=GameManager.getInstance().box_json_data;\r\n        let jsonData=bpdm.getJsonBattlePassData(this.id);\r\n        let state0=BattlePassManager.getClaimState(BattlePassClaimType.Free,this.id);\r\n        let item=null;\r\n        if(isUnLock&&state0<=0){\r\n            // let rd=boxM.getRewardByid(jsonData.FreeRewardItem,jsonData.FreeRewardNum)\r\n            // if(rd){\r\n            //     item=boxM.createBoxItem(rd.reward_id,rd.reward_num);\r\n            // }else{\r\n            //     item=boxM.createBoxItem(jsonData.FreeRewardItem,jsonData.FreeRewardNum,true);\r\n            // }\r\n            item = PropManager.getInstance().createPropItem(jsonData.FreeRewardItem,jsonData.FreeRewardNum);\r\n            BattlePassManager.saveClaimState(BattlePassClaimType.Free,this.id,1);\r\n            if(isShow)\r\n            GameManager.getInstance().showGetTip(item);\r\n            //设置领取状态\r\n            BattlePassManager.saveClaimState(BattlePassClaimType.Free,this.id,1);\r\n            this.refreshData();\r\n        }\r\n        return item;\r\n    }\r\n\r\n    toClaimAll(isShow:boolean):cc.Node[]{\r\n        let curLevel=BattlePassManager.getCurLevel();\r\n        let isBuy=BattlePassManager.is_buy;\r\n        let isUnLock=curLevel>=this.cur_level;\r\n\r\n        let bpdm=BattlePassDataManager.getInstance();\r\n        let PM=PropManager.getInstance();\r\n        let jsonData=bpdm.getJsonBattlePassData(this.id);\r\n        let nodes=new Array();\r\n        let state0=BattlePassManager.getClaimState(BattlePassClaimType.Free,this.id);\r\n        if(isUnLock&&state0<=0){\r\n            PM.changePropNum(jsonData.FreeRewardItem,jsonData.FreeRewardNum)\r\n            let item0=PM.createPropItem(jsonData.FreeRewardItem,jsonData.FreeRewardNum,PropAction.Look);\r\n            nodes.push(item0);\r\n            BattlePassManager.saveClaimState(BattlePassClaimType.Free,this.id,1);\r\n            FollowManager.getInstance().followEvent(Follow_Type.战令免费奖励领取_x级+BattlePassDataManager.getInstance().getBattlePassLevel(this.id));\r\n        }\r\n        let state1=BattlePassManager.getClaimState(BattlePassClaimType.Buy,this.id);\r\n        if(isBuy&&isUnLock&&state1<=0){\r\n            let item1=PM.createPropItem(PropId.Gem,jsonData.SeniorRewardGem);\r\n            let item2=PM.createPropItem(jsonData.SeniorRewardItem,jsonData.SeniorRewardNum,PropAction.Look);       \r\n            PM.changePropNum(PropId.Gem,jsonData.SeniorRewardGem)\r\n            PM.changePropNum(jsonData.SeniorRewardItem,jsonData.SeniorRewardNum)        \r\n            nodes.push(item1);\r\n            nodes.push(item2);\r\n            BattlePassManager.saveClaimState(BattlePassClaimType.Buy,this.id,1);\r\n            FollowManager.getInstance().followEvent(Follow_Type.战令高级奖励领取_x级+BattlePassDataManager.getInstance().getBattlePassLevel(this.id));\r\n        }\r\n        if(isShow&&nodes.length>0)\r\n            GameManager.getInstance().showMultipleGetTip(nodes);\r\n        //设置领取状态\r\n        this.refreshData();\r\n        return nodes;\r\n    }\r\n\r\n    clickBtnClaim(){\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        //在这里领取东西，并且刷新\r\n        let isBuy=BattlePassManager.is_buy;\r\n        if(isBuy){\r\n            FollowManager.getInstance().followEvent(Follow_Type.战令高级奖励点击_x级+BattlePassDataManager.getInstance().getBattlePassLevel(this.id));\r\n            this.toClaimAll(true);            \r\n            if(this.refresh_callback){\r\n                this.refresh_callback(this.id);\r\n            }\r\n        }else{            \r\n            let state=BattlePassManager.getClaimState(BattlePassClaimType.Free,this.id);\r\n            if(state<=0){\r\n                FollowManager.getInstance().followEvent(Follow_Type.战令免费奖励点击_x级+BattlePassDataManager.getInstance().getBattlePassLevel(this.id));\r\n                this.toClaimFree(true);\r\n                if(this.refresh_callback){\r\n                    this.refresh_callback(this.id);\r\n                }\r\n            }else{\r\n                FollowManager.getInstance().followEvent(Follow_Type.战令继续领取_x级+BattlePassDataManager.getInstance().getBattlePassLevel(this.id));\r\n                //弹出支付\r\n                //cc.log('弹出支付提示')\r\n                GameManager.getInstance().showBuyDialog(LanguageManager.getInstance().getStrByTextId(910002),()=>{\r\n                    ApkManager.getInstance().showPay({result:(isPay:boolean)=>{\r\n                        if(isPay){\r\n                            PayManager.getInstance().addPayNum(google_id);\r\n                            BattlePassManager.refreshBuyState();\r\n                            if(this.buy_callback){\r\n                                this.buy_callback();\r\n                            }\r\n                        }\r\n                    }},google_id)\r\n                },null,2,PayManager.getInstance().getPayInfo(google_id).price,PayManager.getInstance().getPayInfo(google_id).currency);\r\n            }\r\n        }\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}