{"version":3,"sources":["assets\\Scripts\\Maze\\MazeUi.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import MazeBox from \"./MazeBox\";\r\nimport { MazeRoadManager } from \"./Data/MazeRoad\";\r\n// import { RogueHexagonTypesManager } from \"./Data/RogueHexagonTypes\";\r\nimport { RogueHexagonTypesManager } from \"../copy/voidcrack/RogueHexagonTypes\";\r\nimport { MazeManager } from \"./MazeManager\";\r\nimport GameManager from \"../GameManager\";\r\nimport { MusicIndex, SoundIndex } from \"../Sound/AudioConstants\";\r\nimport { UIManager } from \"../UI/UIManager\";\r\nimport FixedPos from \"../UI/home/FixedPos\";\r\nimport LanguageManager from \"../multiLanguage/LanguageManager\";\r\nimport { GameScene, Go_Type } from \"../Constants\";\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class MazeUi extends cc.Component {\r\n\r\n    private static _instance: MazeUi = null;\r\n    @property({type:cc.Prefab,tooltip:\"格子预制体\"})\r\n    prefab_box:cc.Prefab=null;\r\n    \r\n    @property({type:cc.Prefab,tooltip:\"箭头预制体\"})\r\n    prefab_arrow:cc.Prefab=null;\r\n\r\n    @property({type:cc.Prefab,tooltip:\"门预制体\"})\r\n    prefab_door:cc.Prefab=null;\r\n\r\n    @property(cc.SpriteAtlas)\r\n    maze_sp:cc.SpriteAtlas=null;\r\n\r\n    board_box:Array<Array<cc.Node>>=null;\r\n    /**当前关的层数 */\r\n    cur_floor_num:number=1;\r\n    /**当前迷宫的层数 */\r\n    cur_layout_num:number=1;\r\n\r\n    public static getInstance():MazeUi\r\n    {        \r\n        return this._instance;\r\n    }\r\n\r\n    onLoad () {\r\n        MazeUi._instance=this;       \r\n        this.adaptation();        \r\n        MazeManager.getInstance().checkDate();\r\n        MazeManager.getInstance().recoverHeroBind();\r\n    }\r\n\r\n    protected onDestroy(): void {\r\n        MazeUi._instance=null;\r\n    }\r\n\r\n    adaptation(){\r\n        //上下模块\r\n        let bottom=this.node.getChildByName('bottom');\r\n        let top=this.node.getChildByName('top');\r\n        let wp=cc.winSize;\r\n        bottom.y=-wp.height/2;\r\n        top.y=wp.height/2;\r\n        this.node.getChildByName('scrollView').y=bottom.y+bottom.height;\r\n    }\r\n\r\n    start () {\r\n        this.cur_layout_num=MazeManager.getInstance().getFloor();\r\n        this.board_box=new Array<Array<cc.Node>>();\r\n        let boxIdList=MazeManager.getInstance().getGroundBoxIdList();\r\n        if(boxIdList.length==0){\r\n            this.initBoard();\r\n        }else{\r\n            this.createBoard(boxIdList);\r\n        }\r\n        let floorStr=LanguageManager.getInstance().getStrByTextId(100020).replace('~',MazeManager.getInstance().getFloor()+'');\r\n        let str=LanguageManager.getInstance().getStrByTextId(830001)+\": \"+floorStr;\r\n        this.node.getChildByName('top').getChildByName('title').getComponent(cc.Label).string=str;\r\n        //GameManager.getInstance().music_manager.playMusic(MusicIndex.BGM_RogueBgm);\r\n        this.schedule(()=>{\r\n            MazeManager.getInstance().getRemainTime();\r\n        },1);\r\n    }\r\n    /**初始化迷宫棋牌 */\r\n    initBoard(){\r\n        let content=this.node.getChildByName('scrollView').getComponent(cc.ScrollView).content;\r\n        content.removeAllChildren();\r\n        //从下往上\r\n        let bottom=0;\r\n        let intervalX=180;\r\n        let intervalY=140;\r\n        //奇数行最左的位置\r\n        let oddLeft=-180;\r\n        //偶数行最左的位置\r\n        let evenLeft=oddLeft+intervalX/2;\r\n        let maxCC=3;\r\n        let maxRR=9;\r\n        let boards=MazeRoadManager.getInstance().getMazeRoad();\r\n        let lastYY=0;\r\n        let boxIdList=new Array();\r\n        for(let r=1; r<=maxRR; r++){\r\n            let nodes=new Array();\r\n            let isEven=r%2==0;\r\n            let ccArr=[];\r\n            let rIdList=new Array();\r\n            for(let c=1; c<=maxCC; c++){\r\n                if(isEven&&c==maxCC)\r\n                {\r\n                    break;\r\n                }\r\n                let rIndex=r-1;\r\n                let cIndex=c-1;\r\n                if(boards[rIndex][cIndex]>0){ \r\n                    ccArr.push(c);\r\n                }\r\n                \r\n            }\r\n            for(let c=1; c<=maxCC; c++){                \r\n                if(isEven&&c==maxCC)\r\n                {\r\n                    break;\r\n                }\r\n                let rIndex=r-1;\r\n                let cIndex=c-1;\r\n                if(boards[rIndex][cIndex]>0){\r\n                    let startX=isEven?evenLeft:oddLeft;\r\n                    let xx=startX+cIndex*intervalX;\r\n                    let yy=bottom+intervalY*r;\r\n                    let ccIndex=Math.floor(Math.random()*ccArr.length);\r\n                    let id=RogueHexagonTypesManager.getId(this.cur_layout_num,r,ccArr[ccIndex]);\r\n                    let box=cc.instantiate(this.prefab_box);\r\n                    content.addChild(box);\r\n                    box.zIndex=100-r;\r\n                    box.x=xx;\r\n                    box.y=yy;\r\n                    nodes.push(box);\r\n                    box.getComponent(MazeBox).init(r,c,id);\r\n                    box.name=''+id;\r\n                    lastYY=yy;\r\n                    ccArr.splice(ccIndex,1);\r\n                    rIdList.push(id);\r\n                }else{\r\n                    rIdList.push(0);\r\n                }\r\n            }\r\n            this.board_box.push(nodes);\r\n            boxIdList.push(rIdList);\r\n        }        \r\n        let door=cc.instantiate(this.prefab_door);\r\n        door.y=lastYY+door.height*door.scale;\r\n        content.addChild(door);\r\n        content.height=maxRR*intervalY+265*2+door.height*door.scale;\r\n        this.refreshFloor();\r\n        MazeManager.getInstance().saveGroundBoxIdList(boxIdList);\r\n    }\r\n    /**生成迷宫棋盘 */\r\n    createBoard(list:number[][]){\r\n        let content=this.node.getChildByName('scrollView').getComponent(cc.ScrollView).content;\r\n        content.removeAllChildren();\r\n        //从下往上\r\n        let bottom=0;\r\n        let intervalX=180;\r\n        let intervalY=140;\r\n        //奇数行最左的位置\r\n        let oddLeft=-180;\r\n        //偶数行最左的位置\r\n        let evenLeft=oddLeft+intervalX/2;\r\n        let maxCC=3;\r\n        let maxRR=9;\r\n        let boards=MazeRoadManager.getInstance().getMazeRoad();\r\n        let lastYY=0;\r\n        for(let r=1; r<=maxRR; r++){\r\n            let nodes=new Array();\r\n            let isEven=r%2==0;\r\n            for(let c=1; c<=maxCC; c++){                \r\n                if(isEven&&c==maxCC)\r\n                {\r\n                    break;\r\n                }\r\n                let rIndex=r-1;\r\n                let cIndex=c-1;\r\n                if(boards[rIndex][cIndex]>0){                    \r\n                    let startX=isEven?evenLeft:oddLeft;\r\n                    let xx=startX+cIndex*intervalX;\r\n                    let yy=bottom+intervalY*r;\r\n                    let id=list[rIndex][cIndex];\r\n                    let box=cc.instantiate(this.prefab_box);\r\n                    content.addChild(box);\r\n                    box.zIndex=100-r;\r\n                    box.x=xx;\r\n                    box.y=yy;\r\n                    nodes.push(box);\r\n                    box.getComponent(MazeBox).init(r,c,id);\r\n                    box.name=''+id;\r\n                    lastYY=yy;\r\n                    \r\n                }\r\n            }\r\n            this.board_box.push(nodes);\r\n        }        \r\n        let door=cc.instantiate(this.prefab_door);\r\n        door.y=lastYY+door.height*door.scale;\r\n        content.addChild(door);\r\n        content.height=maxRR*intervalY+265*2+door.height*door.scale;\r\n        this.refreshFloor();\r\n    }\r\n    \r\n    refreshFloor(){\r\n        this.removeAllArrow();\r\n        let boxRoot=this.node.getChildByName('scrollView').getComponent(cc.ScrollView).content;\r\n        let len=boxRoot.childrenCount;\r\n        let passedIds=MazeManager.getInstance().getMazePassedIds();\r\n        let lastPassedId=passedIds[passedIds.length-1];\r\n        this.cur_floor_num=RogueHexagonTypesManager.getInstance().getRows(lastPassedId);\r\n        for(let r=0; r<len; r++){\r\n            let mazeBox=boxRoot.children[r].getComponent(MazeBox);\r\n            if(mazeBox&&mazeBox.node.active){\r\n                mazeBox.refreshBox();\r\n            }\r\n        }\r\n        boxRoot.getChildByName('door').active=this.cur_floor_num>=9&&this.cur_layout_num<=1;\r\n        this.showWallInfo(); \r\n    }\r\n\r\n    showWallInfo(){\r\n        let btnWallInfo=this.node.getChildByName('top').getChildByName('btnWallInfo');\r\n        let progressBar=btnWallInfo.getChildByName('progressBar');\r\n        let per=MazeManager.getInstance().getMazeHp()/MazeManager.getInstance().getMazeMaxHp();\r\n        progressBar.getComponent(cc.ProgressBar).progress=per;\r\n        let num=btnWallInfo.getChildByName('num');\r\n        num.getComponent(cc.Label).string=(per*100).toFixed(1)+'%';               \r\n    }\r\n\r\n    showArrow(node:cc.Node){\r\n        let content=this.node.getChildByName('scrollView').getComponent(cc.ScrollView).content;\r\n        let arrow=cc.instantiate(this.prefab_arrow);\r\n        this.node.getChildByName('scrollView').getChildByName('arrowRoot').addChild(arrow);\r\n        arrow.setPosition(cc.v2(node.x,node.y+-content.parent.height/2+300));\r\n        arrow.getComponent(FixedPos).init(node,cc.v2(0,-content.parent.height/2+300),content)\r\n    }\r\n\r\n    removeAllArrow(){\r\n        this.node.getChildByName('scrollView').getChildByName('arrowRoot').removeAllChildren();\r\n    }\r\n\r\n    getSpByName(name:string):cc.SpriteFrame{\r\n        return this.maze_sp.getSpriteFrame(name);\r\n    }\r\n\r\n    jumpToNextFloor(){\r\n        this.start();\r\n    }\r\n\r\n    clickBtnMazeBox(btn:cc.Event.EventTouch){\r\n        let mb=btn.getCurrentTarget().getComponent(MazeBox);\r\n        \r\n    }\r\n\r\n    clickBtnClose(){\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        GameManager.getInstance().music_manager.playMusic(MusicIndex.BGM_Fuben);\r\n        this.node.removeFromParent();\r\n        MazeManager.getInstance().resetHeroBind();\r\n        if(GameManager.getInstance().cur_game_scene==GameScene.game){\r\n            GameManager.getInstance().game_to_home=Go_Type.Activity;\r\n            GameManager.getInstance().backToHome();\r\n        }\r\n    }\r\n\r\n    clickBtnBag(){\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        UIManager.getInstance().showMazeBagUi();\r\n    }\r\n\r\n    clickBtnRepair(){\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        UIManager.getInstance().showMazeToolUi({\r\n            onClose:()=>{\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    clickBtnWallInfo(){\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        UIManager.getInstance().showMazeWallInfoUi({\r\n            onRefresh:()=>{\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n"]}