{"version":3,"sources":["assets\\Scripts\\Wish\\WishingUi.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\r\nimport ApkManager from \"../Ads/ApkManager\";\r\nimport GameManager from \"../GameManager\";\r\nimport { JackpotManager } from \"../JsonData/Jackpot\";\r\nimport { JackpotCollectionManager } from \"../JsonData/JackpotCollection\";\r\nimport { RewardData } from \"../JsonData/LevelJsonData\";\r\nimport { LevelManager } from \"../Level/LevelManager\";\r\nimport { Follow_Type } from \"../multiLanguage/FollowConstants\";\r\nimport FollowManager from \"../multiLanguage/FollowManager\";\r\nimport LanguageManager from \"../multiLanguage/LanguageManager\";\r\nimport { PetManager } from \"../Pet/PetManager\";\r\nimport { ItemManager } from \"../Prop/Data/Item\";\r\nimport { PropId } from \"../Prop/PropConfig\";\r\nimport { PropManager } from \"../Prop/PropManager\";\r\nimport { MusicIndex, SoundIndex } from \"../Sound/AudioConstants\";\r\nimport MyTool from \"../Tools/MyTool\";\r\nimport TutorailsManager from \"../Tutorials/TutorailsManager\";\r\nimport UIComponent from \"../UI/UIComponent\";\r\nimport { UIPath, UILayerLevel } from \"../UI/UIConfig\";\r\nimport { UiAction } from \"../UI/UiInterface\";\r\nimport { UIManager } from \"../UI/UIManager\";\r\nimport { CumulativeCardManager } from \"./CumulativeCard\";\r\nimport WishingCardUi from \"./WishingCardUi\";\r\nimport { WishSpendManager } from \"./WishSpend\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\nexport enum WishingState {\r\n    Odinary = 1,\r\n    Premium = 2\r\n}\r\n\r\n@ccclass\r\nexport default class WishingUi extends UIComponent {\r\n\r\n    wishing_state: WishingState = WishingState.Odinary;\r\n    show_cumulative_tip:boolean = false;\r\n\r\n    @property(cc.SpriteAtlas)\r\n    wishing_ui: cc.SpriteAtlas = null;\r\n    @property(cc.Prefab)\r\n    effect:cc.Prefab = null;\r\n    @property(cc.Prefab)\r\n    wishing_card_ui:cc.Prefab=null;\r\n\r\n    // protected start(): void{\r\n    //     this.init(null);\r\n    // };\r\n\r\n    init(uiAc: UiAction): void {\r\n        super.init(uiAc);\r\n        let canvas = cc.find(\"Canvas\")\r\n        this.node.getChildByName(\"wishingBg\").getComponent(cc.Widget).target = canvas;\r\n        this.node.getChildByName(\"top\").getComponent(cc.Widget).target = canvas;\r\n        this.node.getChildByName(\"bottom\").getComponent(cc.Widget).target = canvas;\r\n\r\n        let bottom = this.node.getChildByName(\"bottom\")\r\n        this.node.getChildByName(\"top\").getChildByName(\"cumulativeTipsLabel\").getComponent(cc.Label).string = \r\n        LanguageManager.getInstance().getStrByTextId(840021);\r\n        \r\n\r\n        bottom.getChildByName(\"Common_Btn_3\").getComponentInChildren(cc.Label).string = \r\n        LanguageManager.getInstance().getStrByTextId(840020);\r\n        bottom.getChildByName(\"Common_Btn_3 copy\").getComponentInChildren(cc.Label).string = \r\n        LanguageManager.getInstance().getStrByTextId(840010);\r\n        bottom.getChildByName(\"freeTime\").getComponent(cc.Label).string = \r\n        LanguageManager.getInstance().getStrByTextId(840014);\r\n        bottom.getChildByName(\"ordinaryWishing\").getComponent(cc.Label).string = \r\n        LanguageManager.getInstance().getStrByTextId(840012);\r\n        bottom.getChildByName(\"premiumWishing\").getComponent(cc.Label).string = \r\n        LanguageManager.getInstance().getStrByTextId(840013);\r\n\r\n        this.onClickRewardBtn(true);\r\n        this.refreshUi();\r\n        //GameManager.getInstance().music_manager.playMusic(MusicIndex.BGM_XuYuan);\r\n        FollowManager.getInstance().followEvent(Follow_Type.许愿池打开次数);\r\n    }\r\n\r\n    protected start(): void {\r\n        if(!TutorailsManager.getInstance().isShowTutorials(209)&&TutorailsManager.getInstance().isShowTutorials(211)){\r\n            TutorailsManager.getInstance().showTutorials(211,null,()=>{\r\n                TutorailsManager.getInstance().saveTutorials(210);\r\n                TutorailsManager.getInstance().saveTutorials(211);\r\n            });\r\n        }\r\n    }\r\n\r\n    refreshUi() {\r\n        let top = this.node.getChildByName(\"top\")\r\n        let bottom = this.node.getChildByName(\"bottom\")\r\n        top.getChildByName(\"gemNum\").getComponent(cc.Label).string = \r\n        MyTool.getCoinDanwei(PropManager.getInstance().getPropNum(PropId.Gem),1);\r\n        top.getChildByName(\"ordinaryWishingCoinNum\").getComponent(cc.Label).string = \r\n        MyTool.getCoinDanwei(PropManager.getInstance().getPropNum(PropId.OrdinaryWishingCoin),1)\r\n        top.getChildByName(\"premiumWishingCoinNum\").getComponent(cc.Label).string = \r\n        MyTool.getCoinDanwei(PropManager.getInstance().getPropNum(PropId.PremiumWishingCoin),1)\r\n\r\n        if(this.wishing_state == WishingState.Odinary){\r\n            bottom.getChildByName(\"tipLabel\").getComponent(cc.RichText).string = \r\n            LanguageManager.getInstance().getStrByTextId(840030);\r\n        }else{\r\n            bottom.getChildByName(\"tipLabel\").getComponent(cc.RichText).string = \r\n            LanguageManager.getInstance().getStrByTextId(840011);\r\n        }\r\n\r\n        if(this.wishing_state == WishingState.Odinary){\r\n            // 普通\r\n            // 单发\r\n            top.getChildByName(\"Wish_Bar_0_1\").getComponent(cc.Sprite).spriteFrame = this.wishing_ui.getSpriteFrame(\"Wish_Bar_0_1\");\r\n            if (PropManager.getInstance().getPropNum(PropId.OrdinaryWishingCoin) > 0) {\r\n                bottom.getChildByName(\"wishingCostIcon1\").getComponent(cc.Sprite).spriteFrame = PropManager.getInstance().getSpByName(\"Item_40005\")\r\n                bottom.getChildByName(\"wishingSingleCostNum\").getComponent(cc.Label).string =\r\n                    \"×\" + WishSpendManager.getInstance().getOneDrawPropsSpend\r\n                        (this.getWishSpendId(LevelManager.getInstance().getFinishChapter(), this.wishing_state))\r\n            } else {\r\n                bottom.getChildByName(\"wishingCostIcon1\").getComponent(cc.Sprite).spriteFrame = PropManager.getInstance().getSpByName(\"Item_10002\")\r\n                bottom.getChildByName(\"wishingSingleCostNum\").getComponent(cc.Label).string =\r\n                    \"×\" + WishSpendManager.getInstance().getOneDrawDiamondsSpend\r\n                        (this.getWishSpendId(LevelManager.getInstance().getFinishChapter(), this.wishing_state))\r\n            }\r\n            // 十连\r\n            if (PropManager.getInstance().getPropNum(PropId.OrdinaryWishingCoin) > 9) {\r\n                bottom.getChildByName(\"wishingCostIcon2\").getComponent(cc.Sprite).spriteFrame = PropManager.getInstance().getSpByName(\"Item_40005\")\r\n                bottom.getChildByName(\"wishingTenCostNum\").getComponent(cc.Label).string =\r\n                    \"×\" + WishSpendManager.getInstance().getTenDrawPropsSpend\r\n                        (this.getWishSpendId(LevelManager.getInstance().getFinishChapter(), this.wishing_state))\r\n            } else {\r\n                bottom.getChildByName(\"wishingCostIcon2\").getComponent(cc.Sprite).spriteFrame = PropManager.getInstance().getSpByName(\"Item_10002\")\r\n                bottom.getChildByName(\"wishingTenCostNum\").getComponent(cc.Label).string =\r\n                    \"×\" + WishSpendManager.getInstance().getTenDrawDiamondSpend\r\n                        (this.getWishSpendId(LevelManager.getInstance().getFinishChapter(), this.wishing_state))\r\n            }\r\n        }else{\r\n            // 高级\r\n            // 单发\r\n            top.getChildByName(\"Wish_Bar_0_1\").getComponent(cc.Sprite).spriteFrame = this.wishing_ui.getSpriteFrame(\"Wish_Bar_0_2\");\r\n            if (PropManager.getInstance().getPropNum(PropId.PremiumWishingCoin) > 0) {\r\n                bottom.getChildByName(\"wishingCostIcon1\").getComponent(cc.Sprite).spriteFrame = PropManager.getInstance().getSpByName(\"Item_40004\")\r\n                bottom.getChildByName(\"wishingSingleCostNum\").getComponent(cc.Label).string =\r\n                    \"×\" + WishSpendManager.getInstance().getOneDrawPropsSpend\r\n                        (this.getWishSpendId(LevelManager.getInstance().getFinishChapter(), this.wishing_state))\r\n            } else {\r\n                bottom.getChildByName(\"wishingCostIcon1\").getComponent(cc.Sprite).spriteFrame = PropManager.getInstance().getSpByName(\"Item_10002\")\r\n                bottom.getChildByName(\"wishingSingleCostNum\").getComponent(cc.Label).string =\r\n                    \"×\" + WishSpendManager.getInstance().getOneDrawDiamondsSpend\r\n                        (this.getWishSpendId(LevelManager.getInstance().getFinishChapter(), this.wishing_state))\r\n            }\r\n            // 十连\r\n            if (PropManager.getInstance().getPropNum(PropId.PremiumWishingCoin) > 9) {\r\n                bottom.getChildByName(\"wishingCostIcon2\").getComponent(cc.Sprite).spriteFrame = PropManager.getInstance().getSpByName(\"Item_40004\")\r\n                bottom.getChildByName(\"wishingTenCostNum\").getComponent(cc.Label).string =\r\n                    \"×\" + WishSpendManager.getInstance().getTenDrawPropsSpend\r\n                        (this.getWishSpendId(LevelManager.getInstance().getFinishChapter(), this.wishing_state))\r\n            } else {\r\n                bottom.getChildByName(\"wishingCostIcon2\").getComponent(cc.Sprite).spriteFrame = PropManager.getInstance().getSpByName(\"Item_10002\")\r\n                bottom.getChildByName(\"wishingTenCostNum\").getComponent(cc.Label).string =\r\n                    \"×\" + WishSpendManager.getInstance().getTenDrawDiamondSpend\r\n                        (this.getWishSpendId(LevelManager.getInstance().getFinishChapter(), this.wishing_state))\r\n            }\r\n        }\r\n\r\n\r\n        let arr = CumulativeCardManager.getInstance().getWishingRewardList(this.wishing_state);        \r\n        let isFree = Number(cc.sys.localStorage.getItem(\"WishingFree\" + this.wishing_state))\r\n        let timeCountdownLable = bottom.getChildByName(\"freeTimeCountdown\")\r\n        let timeLable = bottom.getChildByName(\"freeTime\")\r\n        let timesLabel = bottom.getChildByName(\"wishingSingleCostNum\")\r\n\r\n\r\n        if(isFree == 1){\r\n            let func:Function;\r\n            let t = parseInt(cc.sys.localStorage.getItem(\"WishingFreeTime\"+this.wishing_state));\r\n            let tt = new Date().getTime();\r\n            let ddd = Math.floor((tt - t)/1000);\r\n            let remainSec=24*60*60-ddd;\r\n\r\n            func = () =>{\r\n                let tt = new Date().getTime();\r\n                ddd = Math.floor((tt - t)/1000);\r\n                remainSec=24*60*60-ddd;\r\n                timeCountdownLable.getComponent(cc.Label).string = MyTool.getTimeStr(remainSec);\r\n                if(remainSec <= 0){\r\n                    this.unscheduleAllCallbacks();\r\n                    cc.sys.localStorage.setItem(\"WishingFree\" + this.wishing_state,0)\r\n                    this.refreshUi();\r\n                }\r\n            }\r\n\r\n            this.unscheduleAllCallbacks();\r\n            timeCountdownLable.active = true;\r\n            timeLable.active = true;\r\n\r\n            if(remainSec <= 0){\r\n                this.unscheduleAllCallbacks();\r\n                cc.sys.localStorage.setItem(\"WishingFree\" + this.wishing_state,0)\r\n                this.refreshUi();\r\n            }\r\n            timeCountdownLable.getComponent(cc.Label).string = MyTool.getTimeStr(remainSec);\r\n           \r\n            this.unscheduleAllCallbacks();\r\n            this.schedule(func,1,cc.macro.REPEAT_FOREVER,0)\r\n        }else{\r\n            timeCountdownLable.active = false;\r\n            timeLable.active = false;\r\n            timesLabel.color = cc.color(145,255,119);\r\n            timesLabel.getComponent(cc.Label).string = LanguageManager.getInstance().getStrByTextId(840014);\r\n        }\r\n\r\n        top.getChildByName(\"cumulativeNum\").getComponent(cc.Label).string = \r\n            Number(cc.sys.localStorage.getItem(\"NowWishingCumulativeNum\" + this.wishing_state)) + \"/\" + \r\n            arr[Number(cc.sys.localStorage.getItem(\"WishingCumulativeRewardIndex\"+this.wishing_state))].CumulativeCardDrawingTimes;\r\n            \r\n            top.getChildByName(\"cumulativeBar\").getComponent(cc.ProgressBar).progress = \r\n            Number(cc.sys.localStorage.getItem(\"NowWishingCumulativeNum\" + this.wishing_state)) \r\n            / arr[Number(cc.sys.localStorage.getItem(\"WishingCumulativeRewardIndex\" + this.wishing_state))].CumulativeCardDrawingTimes;\r\n        if (this.wishing_state == WishingState.Odinary) {\r\n            this.node.getChildByName(\"wishingBg\").getComponent(cc.Sprite).spriteFrame = this.wishing_ui.getSpriteFrame(\"Wish_Bg_0\");\r\n            bottom.getChildByName(\"ordinaryWishingBtn\").getComponent(cc.Sprite).spriteFrame = this.wishing_ui.getSpriteFrame(\"Wish_Btn_Tab_0\");\r\n            bottom.getChildByName(\"premiumWishingBtn\").getComponent(cc.Sprite).spriteFrame = this.wishing_ui.getSpriteFrame(\"Wish_Btn_Tab_1_1\");\r\n            let ordinaryWishingLabel = bottom.getChildByName(\"ordinaryWishing\");\r\n            let premiumWishingLabel = bottom.getChildByName(\"premiumWishing\");\r\n            ordinaryWishingLabel.color = cc.color(168,179,200);\r\n            ordinaryWishingLabel.getComponent(cc.LabelOutline).color = cc.color(28,36,54);\r\n            premiumWishingLabel.color = cc.color(126,135,151);\r\n            premiumWishingLabel.getComponent(cc.LabelOutline).color = cc.color(20,26,39);\r\n        } else {\r\n            this.node.getChildByName(\"wishingBg\").getComponent(cc.Sprite).spriteFrame = this.wishing_ui.getSpriteFrame(\"Wish_Bg_1\");\r\n            bottom.getChildByName(\"ordinaryWishingBtn\").getComponent(cc.Sprite).spriteFrame = this.wishing_ui.getSpriteFrame(\"Wish_Btn_Tab_0_1\");\r\n            bottom.getChildByName(\"premiumWishingBtn\").getComponent(cc.Sprite).spriteFrame = this.wishing_ui.getSpriteFrame(\"Wish_Btn_Tab_1\");\r\n            let ordinaryWishingLabel = bottom.getChildByName(\"ordinaryWishing\");\r\n            let premiumWishingLabel = bottom.getChildByName(\"premiumWishing\");\r\n            premiumWishingLabel.color = cc.color(168,179,200);\r\n            premiumWishingLabel.getComponent(cc.LabelOutline).color = cc.color(28,36,54);\r\n            ordinaryWishingLabel.color = cc.color(126,135,151);\r\n            ordinaryWishingLabel.getComponent(cc.LabelOutline).color = cc.color(20,26,39);\r\n        }\r\n    }\r\n\r\n    onClickRewardBtn(isAuto:boolean = false){\r\n        if(isAuto == false){\r\n            GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n            let arr = CumulativeCardManager.getInstance().getWishingRewardList(this.wishing_state);\r\n            if(Number(cc.sys.localStorage.getItem(\"NowWishingCumulativeNum\" + this.wishing_state)) >= arr[Number(cc.sys.localStorage.getItem(\"WishingCumulativeRewardIndex\" + this.wishing_state))].CumulativeCardDrawingTimes){\r\n                let num = Number(cc.sys.localStorage.getItem(\"NowWishingCumulativeNum\" + this.wishing_state)) - arr[Number(cc.sys.localStorage.getItem(\"WishingCumulativeRewardIndex\" + this.wishing_state))].CumulativeCardDrawingTimes;\r\n                cc.sys.localStorage.setItem(\"NowWishingCumulativeNum\" + this.wishing_state,num);\r\n                let index = cc.sys.localStorage.getItem(\"WishingCumulativeRewardIndex\" + this.wishing_state) || -1;\r\n                index++;\r\n                if(index >= arr.length){\r\n                    index = 0;\r\n                }\r\n                cc.sys.localStorage.setItem(\"WishingCumulativeRewardIndex\" + this.wishing_state,index)\r\n                let gm=GameManager.getInstance();\r\n                let item=PropManager.getInstance().createPropItem(arr[index].ItemID,arr[index].RewardNum);\r\n                gm.showGetTip(item);\r\n                this.refreshUi();\r\n            }\r\n        }\r\n        else{\r\n            let arr1 = CumulativeCardManager.getInstance().getWishingRewardList(WishingState.Odinary);\r\n            let arr2 = CumulativeCardManager.getInstance().getWishingRewardList(WishingState.Premium);\r\n            let gm=GameManager.getInstance();\r\n            let item1:cc.Node = null;\r\n            let item2:cc.Node = null;\r\n            if(Number(cc.sys.localStorage.getItem(\"NowWishingCumulativeNum\" + WishingState.Odinary) || 0) >= \r\n            arr1[Number(cc.sys.localStorage.getItem(\"WishingCumulativeRewardIndex\" + WishingState.Odinary) || 0)]\r\n            .CumulativeCardDrawingTimes){\r\n                let num = Number(cc.sys.localStorage.getItem(\"NowWishingCumulativeNum\" + WishingState.Odinary) || 0) - \r\n                arr1[Number(cc.sys.localStorage.getItem(\"WishingCumulativeRewardIndex\" + WishingState.Odinary) || 0)]\r\n                .CumulativeCardDrawingTimes;\r\n                cc.sys.localStorage.setItem(\"NowWishingCumulativeNum\" + WishingState.Odinary,num);\r\n                let index = cc.sys.localStorage.getItem(\"WishingCumulativeRewardIndex\" + WishingState.Odinary) || 0;\r\n                index++;\r\n                if(index >= arr1.length){\r\n                    index = 0;\r\n                }\r\n                cc.sys.localStorage.setItem(\"WishingCumulativeRewardIndex\" + WishingState.Odinary,index)\r\n                \r\n                item1=PropManager.getInstance().createPropItem(arr1[index].ItemID,arr1[index].RewardNum);\r\n                PropManager.getInstance().setPropNum(arr1[index].ItemID,arr1[index].RewardNum);\r\n            }\r\n            if(Number(cc.sys.localStorage.getItem(\"NowWishingCumulativeNum\" + WishingState.Premium) || 0) >= \r\n            arr2[Number(cc.sys.localStorage.getItem(\"WishingCumulativeRewardIndex\" + WishingState.Premium) || 0)]\r\n            .CumulativeCardDrawingTimes){\r\n                let num = Number(cc.sys.localStorage.getItem(\"NowWishingCumulativeNum\" + WishingState.Premium) || 0) - \r\n                arr2[Number(cc.sys.localStorage.getItem(\"WishingCumulativeRewardIndex\" + WishingState.Premium) || 0)]\r\n                .CumulativeCardDrawingTimes;\r\n                cc.sys.localStorage.setItem(\"NowWishingCumulativeNum\" + WishingState.Premium,num);\r\n                let index = cc.sys.localStorage.getItem(\"WishingCumulativeRewardIndex\" + WishingState.Premium) || 0;\r\n                index++;\r\n                if(index >= arr2.length){\r\n                    index = 0;\r\n                }\r\n                cc.sys.localStorage.setItem(\"WishingCumulativeRewardIndex\" + WishingState.Premium,index)\r\n                \r\n                item2=PropManager.getInstance().createPropItem(arr2[index].ItemID,arr2[index].RewardNum);\r\n                PropManager.getInstance().setPropNum(arr2[index].ItemID,arr2[index].RewardNum);\r\n            }\r\n            // gm.showGetTip(item);\r\n            if(item1 != null && item2 != null){\r\n                gm.showMultipleGetTip([item1,item2]);\r\n            }else{\r\n                if(item1!=null){\r\n                    gm.showGetTip(item1);\r\n                }\r\n                if(item2!=null){\r\n                    gm.showGetTip(item2);\r\n                }\r\n            }\r\n            this.refreshUi();\r\n        }\r\n    }\r\n\r\n    ondClickTypeBtn(e,type:number){\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        type = Number(type);\r\n        this.wishing_state = type;\r\n        this.refreshUi();\r\n    }\r\n\r\n    checkCanWishing(type:number):boolean{\r\n        let pm = PropManager.getInstance()\r\n        let ws = WishSpendManager.getInstance()\r\n        let lm = LevelManager.getInstance()\r\n        if(type == 1){\r\n            // 单抽\r\n            if(this.wishing_state == WishingState.Odinary){\r\n                // 普通\r\n                if(pm.getPropNum(PropId.OrdinaryWishingCoin) >= ws.getOneDrawPropsSpend(this.getWishSpendId(lm.getFinishChapter(),this.wishing_state))){\r\n                    pm.changePropNum(PropId.OrdinaryWishingCoin,-ws.getOneDrawPropsSpend(this.getWishSpendId(lm.getFinishChapter(),this.wishing_state)));\r\n                    FollowManager.getInstance().addTotal(Follow_Type.记录普通许愿消耗的许愿币,ws.getOneDrawPropsSpend(this.getWishSpendId(lm.getFinishChapter(),this.wishing_state)));\r\n                    return true;\r\n                }\r\n                if(pm.getPropNum(PropId.Gem) >= ws.getOneDrawDiamondsSpend(this.getWishSpendId(lm.getFinishChapter(),this.wishing_state))){\r\n                    pm.changePropNum(PropId.Gem,-ws.getOneDrawDiamondsSpend(this.getWishSpendId(lm.getFinishChapter(),this.wishing_state)));\r\n                    FollowManager.getInstance().addTotal(Follow_Type.记录普通许愿消耗的钻石,ws.getOneDrawDiamondsSpend(this.getWishSpendId(lm.getFinishChapter(),this.wishing_state)));\r\n                    return true;\r\n                }\r\n                return false;\r\n            }else{\r\n                // 高级\r\n                if(pm.getPropNum(PropId.PremiumWishingCoin) >= ws.getOneDrawPropsSpend(this.getWishSpendId(lm.getFinishChapter(),this.wishing_state))){\r\n                    pm.changePropNum(PropId.PremiumWishingCoin,-ws.getOneDrawPropsSpend(this.getWishSpendId(lm.getFinishChapter(),this.wishing_state)));\r\n                    FollowManager.getInstance().addTotal(Follow_Type.记录高级许愿消耗的许愿币,ws.getOneDrawPropsSpend(this.getWishSpendId(lm.getFinishChapter(),this.wishing_state)));\r\n                    return true;\r\n                }\r\n                if(pm.getPropNum(PropId.Gem) >= ws.getOneDrawDiamondsSpend(this.getWishSpendId(lm.getFinishChapter(),this.wishing_state))){\r\n                    pm.changePropNum(PropId.Gem,-ws.getOneDrawDiamondsSpend(this.getWishSpendId(lm.getFinishChapter(),this.wishing_state)));\r\n                    FollowManager.getInstance().addTotal(Follow_Type.记录高级许愿消耗的钻石,ws.getOneDrawDiamondsSpend(this.getWishSpendId(lm.getFinishChapter(),this.wishing_state)));\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n        }else{\r\n            // 十抽\r\n            if(this.wishing_state == WishingState.Odinary){\r\n                // 普通\r\n                if(pm.getPropNum(PropId.OrdinaryWishingCoin) >= ws.getTenDrawPropsSpend(this.getWishSpendId(lm.getFinishChapter(),this.wishing_state))){\r\n                    pm.changePropNum(PropId.OrdinaryWishingCoin,-ws.getTenDrawPropsSpend(this.getWishSpendId(lm.getFinishChapter(),this.wishing_state)));\r\n                    FollowManager.getInstance().addTotal(Follow_Type.记录普通许愿消耗的许愿币,ws.getTenDrawPropsSpend(this.getWishSpendId(lm.getFinishChapter(),this.wishing_state)));\r\n                    return true;\r\n                }\r\n                if(pm.getPropNum(PropId.Gem) >= ws.getTenDrawDiamondSpend(this.getWishSpendId(lm.getFinishChapter(),this.wishing_state))){\r\n                    pm.changePropNum(PropId.Gem,-ws.getTenDrawDiamondSpend(this.getWishSpendId(lm.getFinishChapter(),this.wishing_state)));\r\n                    FollowManager.getInstance().addTotal(Follow_Type.记录普通许愿消耗的钻石,ws.getTenDrawDiamondSpend(this.getWishSpendId(lm.getFinishChapter(),this.wishing_state)));\r\n                    return true;\r\n                }\r\n                return false;\r\n            }else{\r\n                // 高级\r\n                if(pm.getPropNum(PropId.PremiumWishingCoin) >= ws.getTenDrawPropsSpend(this.getWishSpendId(lm.getFinishChapter(),this.wishing_state))){\r\n                    pm.changePropNum(PropId.PremiumWishingCoin,-ws.getTenDrawPropsSpend(this.getWishSpendId(lm.getFinishChapter(),this.wishing_state)));\r\n                    FollowManager.getInstance().addTotal(Follow_Type.记录高级许愿消耗的许愿币,ws.getTenDrawPropsSpend(this.getWishSpendId(lm.getFinishChapter(),this.wishing_state)));\r\n                    return true;\r\n                }\r\n                if(pm.getPropNum(PropId.Gem) >= ws.getTenDrawDiamondSpend(this.getWishSpendId(lm.getFinishChapter(),this.wishing_state))){\r\n                    pm.changePropNum(PropId.Gem,-ws.getTenDrawDiamondSpend(this.getWishSpendId(lm.getFinishChapter(),this.wishing_state)));\r\n                    FollowManager.getInstance().addTotal(Follow_Type.记录高级许愿消耗的钻石,ws.getTenDrawDiamondSpend(this.getWishSpendId(lm.getFinishChapter(),this.wishing_state)));\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\n    onClickWishingBtn(e,type:number){\r\n        type = Number(type)\r\n        \r\n        if (type == 1) {\r\n            let isFree = Number(cc.sys.localStorage.getItem(\"WishingFree\" + this.wishing_state))\r\n            if (isFree == 1) {\r\n                if (this.checkCanWishing(type) == false) {\r\n                    return;\r\n                } else {\r\n                    cc.sys.localStorage.setItem(\"NowWishingCumulativeNum\" + this.wishing_state,\r\n                        Number(cc.sys.localStorage.getItem(\"NowWishingCumulativeNum\" + this.wishing_state)) + 1);\r\n                    // if (type == 1) {\r\n                    // } else {\r\n                        // cc.sys.localStorage.setItem(\"NowWishingCumulativeNum\" + this.wishing_state,\r\n                        //     Number(cc.sys.localStorage.getItem(\"NowWishingCumulativeNum\" + this.wishing_state)) + 10);\r\n                    // }\r\n                }\r\n            }else{\r\n                let date = new Date();\r\n                cc.sys.localStorage.setItem(\"NowWishingCumulativeNum\" + this.wishing_state,\r\n                    Number(cc.sys.localStorage.getItem(\"NowWishingCumulativeNum\" + this.wishing_state)) + 1);\r\n                cc.sys.localStorage.setItem(\"WishingFree\" + this.wishing_state, 1);\r\n                cc.sys.localStorage.setItem(\"WishingFreeTime\" + this.wishing_state, date.getTime());\r\n            }\r\n        }else {\r\n            if(this.checkCanWishing(type) == false){\r\n                return;\r\n            }else{\r\n                cc.sys.localStorage.setItem(\"NowWishingCumulativeNum\" + this.wishing_state,\r\n                Number(cc.sys.localStorage.getItem(\"NowWishingCumulativeNum\" + this.wishing_state)) + 10);\r\n            }\r\n        }\r\n\r\n        let effect = cc.instantiate(this.effect);\r\n        let effectRoot = this.node.getChildByName(\"bottom\").getChildByName(\"effectRoot\")\r\n        effect.parent = effectRoot;\r\n        let anim;\r\n        let reward:RewardData[] = [];\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.YX_YingBi);\r\n        if(this.wishing_state == 1){\r\n            // 普通池\r\n            anim = effect.getComponent(sp.Skeleton).setAnimation(0,\"CommonWish\",false)\r\n            if(type == 2){\r\n                // 十抽\r\n                // this.schedule(()=>{\r\n                //     let coin = cc.instantiate(this.effect);\r\n                //     coin.parent = effectRoot;\r\n                //     coin.getComponent(sp.Skeleton).setAnimation(0,\"Common\",false)\r\n                // },0.1,9,0.4);\r\n                for(let i = 1;i<10;i++){\r\n                    setTimeout(()=>{\r\n                        let coin = cc.instantiate(this.effect);\r\n                        coin.parent = effectRoot;\r\n                        let a = coin.getComponent(sp.Skeleton).setAnimation(0,\"Common\",false);\r\n                        coin.getComponent(sp.Skeleton).setTrackEventListener(a,(entry: sp.spine.TrackEntry, event)=>{\r\n                            if(event.data.name == \"RuShui\"){\r\n                                this.RuShui();\r\n                            }\r\n                        });\r\n                    },100*i)\r\n                }\r\n            }\r\n        }else{\r\n            // 高级池\r\n            anim = effect.getComponent(sp.Skeleton).setAnimation(0,\"SeniorWish\",false)\r\n            if(type == 2){\r\n                // 十抽\r\n                // this.schedule(()=>{\r\n                //     let coin = cc.instantiate(this.effect);\r\n                //     coin.parent = effectRoot;\r\n                //     coin.getComponent(sp.Skeleton).setAnimation(0,\"Senior\",false)\r\n                // },0.1,9,0.4);\r\n                for(let i = 1;i<10;i++){\r\n                    setTimeout(()=>{\r\n                        let coin = cc.instantiate(this.effect);\r\n                        coin.parent = effectRoot;\r\n                        let a = coin.getComponent(sp.Skeleton).setAnimation(0,\"Senior\",false)\r\n                        coin.getComponent(sp.Skeleton).setTrackEventListener(a,(entry: sp.spine.TrackEntry, event)=>{\r\n                            if(event.data.name == \"RuShui\"){\r\n                                this.RuShui();\r\n                            }\r\n                        });\r\n                    },100*i)\r\n                }\r\n            }\r\n        }\r\n\r\n        if(type == 1){\r\n            // 单抽\r\n            if(this.wishing_state == WishingState.Odinary){\r\n                FollowManager.getInstance().addFirstDo(Follow_Type.记录单次普通许愿的次数);\r\n            }else{\r\n                FollowManager.getInstance().addFirstDo(Follow_Type.记录单次高级许愿的次数);\r\n            }\r\n            let chapters = LevelManager.getInstance().getFinishChapter();\r\n            let prizePoolId = WishSpendManager.getInstance().getGetRewardID(this.getWishSpendId(chapters,this.wishing_state));\r\n            let poolId = JackpotCollectionManager.getInstance().getJackpotIdByJCId(prizePoolId);\r\n            \r\n            if(TutorailsManager.getInstance().isShowTutorials(212)&&!TutorailsManager.getInstance().isShowTutorials(211)){\r\n                let rd=new RewardData();\r\n                rd.reward_id=70018;\r\n                rd.reward_num=1;\r\n                reward.push(rd);\r\n            }else{\r\n                reward.push(JackpotManager.getInstance().getRewardDataById(poolId));\r\n            }\r\n        }else{\r\n            // 十抽\r\n            if(this.wishing_state == WishingState.Odinary){\r\n                FollowManager.getInstance().addFirstDo(Follow_Type.记录十连普通许愿的次数);\r\n            }else{\r\n                FollowManager.getInstance().addFirstDo(Follow_Type.记录十连高级许愿的次数);\r\n            }\r\n            for(let i = 0;i<10;i++){\r\n                let chapters = LevelManager.getInstance().getFinishChapter();\r\n                let prizePoolId = WishSpendManager.getInstance().getGetRewardID(this.getWishSpendId(chapters,this.wishing_state));\r\n                let poolId = JackpotCollectionManager.getInstance().getJackpotIdByJCId(prizePoolId);\r\n                reward.push(JackpotManager.getInstance().getRewardDataById(poolId));\r\n            }\r\n            let minId = 0;\r\n            let minQuality = 10;\r\n            for(let i = 0;i<reward.length;i++){\r\n                if(ItemManager.getInstance().getQuality(reward[i].reward_id) < minQuality){\r\n                    minQuality = ItemManager.getInstance().getQuality(reward[i].reward_id)\r\n                    minId = i;\r\n                }\r\n            }\r\n            if(this.wishing_state == WishingState.Odinary){\r\n                let poolId = JackpotCollectionManager.getInstance().getJackpotIdByJCId(1010009);\r\n                let rewardInfo = JackpotManager.getInstance().getRewardDataById(poolId);\r\n                reward[minId] = rewardInfo;\r\n            }else{\r\n                let poolId = JackpotCollectionManager.getInstance().getJackpotIdByJCId(1010010);\r\n                let rewardInfo = JackpotManager.getInstance().getRewardDataById(poolId);\r\n                reward[minId] = rewardInfo;\r\n            }\r\n        }\r\n        effect.getComponent(sp.Skeleton).setTrackEventListener(anim,(entry: sp.spine.TrackEntry, event)=>{\r\n            if(event.data.name == \"ShowCard\"){\r\n                this.showCards(type,reward);\r\n            }\r\n            if(event.data.name == \"RuShui\"){\r\n                this.RuShui();\r\n            }\r\n            if(event.data.name == \"FeiChu\"){\r\n                this.TanChu();\r\n            }\r\n        });\r\n        // effect.getComponent(sp.Skeleton).setTrackEventListener(anim,(entry: sp.spine.TrackEntry,event)=>[\r\n\r\n        // ])\r\n        for(let i = 0;i<reward.length;i++){\r\n            if(ItemManager.getInstance().getJsonItem(reward[i].reward_id).Type == 7){\r\n                // 宠物\r\n                // PetManager.getInstance().addPet(PetManager.getInstance().getPetId(reward[i].reward_id));\r\n            }else{\r\n                // 道具\r\n                PropManager.getInstance().changePropNum(reward[i].reward_id,reward[i].reward_num);\r\n            }\r\n        }\r\n\r\n        this.refreshUi();\r\n    }\r\n\r\n    onClickTipBtn(){\r\n        let id = this.getWishSpendId(LevelManager.getInstance().getFinishChapter(), this.wishing_state);\r\n        // UIManager.getInstance().showWishingTipUi(null,this.wishing_state,id);\r\n        UIManager.getInstance().showUiDialog(UIPath.WishingTips,UILayerLevel.Two,{onCompleted:(uiNode)=> {\r\n            // uiNode.getComponent(WishingTipUi).init(null);\r\n            // uiNode.getComponent(WishingTipUi).initUi(this.wishing_state,id);\r\n        },});\r\n    }\r\n\r\n    onClickCumulativeTipBtn(){\r\n        if(this.show_cumulative_tip == true) return;\r\n        this.show_cumulative_tip = true;\r\n        let label = this.node.getChildByName(\"top\").getChildByName(\"cumulativeTipsLabel\");\r\n        let tip = this.node.getChildByName(\"top\").getChildByName(\"cumulativeTips\");\r\n        label.active = true;\r\n        tip.active = true;\r\n        this.scheduleOnce(()=>{\r\n            label.active = false;\r\n            tip.active = false;\r\n            this.show_cumulative_tip = false;\r\n        },2)\r\n    }\r\n\r\n    showCards(type:number,reward:RewardData[]){\r\n        let card = cc.instantiate(this.wishing_card_ui)\r\n        card.getComponent(WishingCardUi).initCard(type,reward,(() => {\r\n            this.onClickRewardBtn();\r\n        }).bind(this));\r\n        card.parent = this.node.getChildByName(\"bottom\").getChildByName(\"cardRoot\");\r\n\r\n    }\r\n\r\n    RuShui(){\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.YX_RuShui);\r\n    }\r\n\r\n    TanChu(){\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.YX_KaTanChu);\r\n    }\r\n\r\n    getWishSpendId(chapters:number,type:number):number{\r\n        return type*1000+chapters;\r\n    }\r\n\r\n    clickBtnClose()\r\n    {\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        this.destroySelf();\r\n    }\r\n\r\n\r\n    destroySelf()\r\n    {\r\n        super.onClose();\r\n        ApkManager.getInstance().closeBanner();\r\n    }\r\n\r\n}\r\n"]}