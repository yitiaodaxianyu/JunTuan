{"version":3,"sources":["assets\\Scripts\\Task\\TaskItemUi.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import TextLanguage from \"../multiLanguage/TextLanguage\";\r\nimport Prop from \"../Prop/Prop\";\r\nimport { PropAction, PropId } from \"../Prop/PropConfig\";\r\nimport { PropManager } from \"../Prop/PropManager\";\r\nimport { StorageKey } from \"../Storage/StorageConfig\";\r\nimport { TheStorageManager } from \"../Storage/StorageManager\";\r\nimport { AchievenmentTaskManager, JsonAchievenmentTask } from \"./Data/AchievenmentTask\";\r\nimport { JsonTaskInformation, TaskInformationManager } from \"./Data/TaskInformation\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class TaskItemUi extends cc.Component {\r\n\r\n    call_back:Function = null;\r\n    message:JsonTaskInformation | JsonAchievenmentTask = null;\r\n\r\n    initGoingItem(message:JsonTaskInformation | JsonAchievenmentTask,callBack:Function,isAchievement:boolean = false){\r\n        this.message = message;\r\n        this.call_back = callBack;\r\n        let root = this.node.getChildByName(\"root\");\r\n        root.opacity = 255;\r\n        this.node.getChildByName(\"over\").active = false;\r\n        root.getChildByName(\"contentLabel\").getComponent(TextLanguage).setTextId(message.TaskDescription);\r\n        root.getChildByName(\"contentLabel\").getComponent(TextLanguage).setReplaceValue('~',message.TaskParameters+'');\r\n        let reward:cc.Node = root.getChildByName(\"itemRoot\").getChildByName(\"reward\") || null;\r\n        if(reward == null){\r\n            reward = PropManager.getInstance().createPropItem(message.RewardPropID,message.RewardPropNum);\r\n            reward.name = \"reward\";\r\n            reward.scale = 0.9;\r\n            root.getChildByName(\"itemRoot\").addChild(reward);\r\n        }else{\r\n            reward.getComponent(Prop).init(message.RewardPropID,message.RewardPropNum,PropAction.Look);\r\n        }\r\n        if(isAchievement){\r\n            root.getChildByName(\"progress1\").active = false;\r\n            let progress = root.getChildByName(\"progress2\");\r\n            progress.active = true;\r\n\r\n            let info = AchievenmentTaskManager.getInstance().getJsonAchievenmentTask(message.TaskID);\r\n            let now = TheStorageManager.getInstance().getNumber(StorageKey.TaskAchievementNum + info.AchievenmentTaskType,0);\r\n            root.getChildByName(\"num\").getComponent(cc.Label).string = now + \"/\" + info.TaskParameters;\r\n            progress.children[0].getComponent(cc.Sprite).fillRange = now/info.TaskParameters;\r\n        }else{\r\n            let progress = root.getChildByName(\"progress1\");\r\n            root.getChildByName(\"progress2\").active = false;\r\n            progress.active = true;\r\n\r\n            let info = TaskInformationManager.getInstance().getJsonTaskInformation(message.TaskID);\r\n            let now = TheStorageManager.getInstance().getNumber(StorageKey.TaskNum + message.TaskID,0);\r\n            root.getChildByName(\"num\").getComponent(cc.Label).string = now + \"/\" + info.TaskParameters;\r\n            progress.children[0].getComponent(cc.Sprite).fillRange = now/info.TaskParameters;\r\n        }\r\n        root.getChildByName(\"finishBtn\").active = false;\r\n        root.getChildByName(\"goingBtn\").active = true;\r\n    }\r\n\r\n    initFinishItem(message:JsonTaskInformation | JsonAchievenmentTask,callBack:Function,isAchievement:boolean = false){\r\n        this.message = message;\r\n        this.call_back = callBack;\r\n        let root = this.node.getChildByName(\"root\");\r\n        root.opacity = 255;\r\n        this.node.getChildByName(\"over\").active = false;\r\n        root.getChildByName(\"contentLabel\").getComponent(TextLanguage).setTextId(message.TaskDescription);\r\n        root.getChildByName(\"contentLabel\").getComponent(TextLanguage).setReplaceValue('~',message.TaskParameters+'');\r\n        let reward:cc.Node = root.getChildByName(\"itemRoot\").getChildByName(\"reward\") || null;\r\n        if(reward == null){\r\n            reward = PropManager.getInstance().createPropItem(message.RewardPropID,message.RewardPropNum);\r\n            reward.name = \"reward\";\r\n            reward.scale = 0.9;\r\n            root.getChildByName(\"itemRoot\").addChild(reward);\r\n        }else{\r\n            reward.getComponent(Prop).init(message.RewardPropID,message.RewardPropNum,PropAction.Look);\r\n        }\r\n        if(isAchievement){\r\n            root.getChildByName(\"progress1\").active = false;\r\n            let progress = root.getChildByName(\"progress2\");\r\n            progress.active = true;\r\n\r\n            let info = AchievenmentTaskManager.getInstance().getJsonAchievenmentTask(message.TaskID);\r\n            let now = TheStorageManager.getInstance().getNumber(StorageKey.TaskAchievementNum + info.AchievenmentTaskType,0);\r\n            root.getChildByName(\"num\").getComponent(cc.Label).string = now + \"/\" + info.TaskParameters;\r\n            progress.children[0].getComponent(cc.Sprite).fillRange = now/info.TaskParameters;\r\n        }else{\r\n            let progress = root.getChildByName(\"progress1\");\r\n            root.getChildByName(\"progress2\").active = false;\r\n            progress.active = true;\r\n\r\n            let info = TaskInformationManager.getInstance().getJsonTaskInformation(message.TaskID);\r\n            let now = TheStorageManager.getInstance().getNumber(StorageKey.TaskNum + message.TaskID,0);\r\n            root.getChildByName(\"num\").getComponent(cc.Label).string = info.TaskParameters + \"/\" + info.TaskParameters;\r\n            progress.children[0].getComponent(cc.Sprite).fillRange = info.TaskParameters/info.TaskParameters;\r\n        }\r\n        root.getChildByName(\"finishBtn\").active = true;\r\n        root.getChildByName(\"goingBtn\").active = false;\r\n    }\r\n\r\n    initReceivedItem(message:JsonTaskInformation | JsonAchievenmentTask,isAchievement:boolean = false){\r\n        this.message = message;\r\n        let root = this.node.getChildByName(\"root\");\r\n        root.opacity = 180;\r\n        this.node.getChildByName(\"over\").active = true;\r\n        root.getChildByName(\"contentLabel\").getComponent(TextLanguage).setTextId(message.TaskDescription);\r\n        root.getChildByName(\"contentLabel\").getComponent(TextLanguage).setReplaceValue('~',message.TaskParameters+'');\r\n        let reward:cc.Node = root.getChildByName(\"itemRoot\").getChildByName(\"reward\") || null;\r\n        if(reward == null){\r\n            reward = PropManager.getInstance().createPropItem(message.RewardPropID,message.RewardPropNum);\r\n            reward.name = \"reward\";\r\n            reward.scale = 0.9;\r\n            root.getChildByName(\"itemRoot\").addChild(reward);\r\n        }else{\r\n            reward.getComponent(Prop).init(message.RewardPropID,message.RewardPropNum,PropAction.Look);\r\n        }\r\n        if(isAchievement){\r\n            root.getChildByName(\"progress1\").active = false;\r\n            let progress = root.getChildByName(\"progress2\");\r\n            progress.active = true;\r\n\r\n            let info = AchievenmentTaskManager.getInstance().getJsonAchievenmentTask(message.TaskID);\r\n            let now = TheStorageManager.getInstance().getNumber(StorageKey.TaskAchievementNum + info.AchievenmentTaskType,0);\r\n            root.getChildByName(\"num\").getComponent(cc.Label).string = now + \"/\" + info.TaskParameters;\r\n            progress.children[0].getComponent(cc.Sprite).fillRange = now/info.TaskParameters;\r\n        }else{\r\n            let progress = root.getChildByName(\"progress1\");\r\n            root.getChildByName(\"progress2\").active = false;\r\n            progress.active = true;\r\n\r\n            let info = TaskInformationManager.getInstance().getJsonTaskInformation(message.TaskID);\r\n            let now = TheStorageManager.getInstance().getNumber(StorageKey.TaskNum + message.TaskID,0);\r\n            root.getChildByName(\"num\").getComponent(cc.Label).string = info.TaskParameters + \"/\" + info.TaskParameters;\r\n            progress.children[0].getComponent(cc.Sprite).fillRange = info.TaskParameters/info.TaskParameters;\r\n        }\r\n        root.getChildByName(\"finishBtn\").active = false;\r\n        root.getChildByName(\"goingBtn\").active = false;\r\n    }\r\n\r\n    onClickBtn(){\r\n        this.call_back();\r\n    }\r\n\r\n}\r\n"]}