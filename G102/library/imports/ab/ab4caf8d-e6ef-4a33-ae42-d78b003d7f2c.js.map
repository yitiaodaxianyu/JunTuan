{"version":3,"sources":["assets\\Scripts\\Enemy\\EnemyIcon\\EnemyIcon.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,yDAA0D;AAC1D,wEAA8E;AAC9E,4EAA2E;AAC3E,8CAA4C;AAC5C,uDAAkD;AAG5C,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAuC,6BAAY;IAAnD;QAAA,qEA8CC;QA5CG,gBAAU,GAAY,wBAAU,CAAC,MAAM,CAAC;QACxC,aAAO,GAAS,KAAK,CAAC;;IA2C1B,CAAC;IAzCG,wBAAI,GAAJ,UAAM,IAAe,EAAC,MAAc;QAChC,IAAI,CAAC,UAAU,GAAC,IAAI,CAAC;QACrB,IAAI,CAAC,OAAO,GAAC,MAAM,CAAC;QACpB,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,+BAAW,GAAX;QACI,IAAI,MAAM,GAAC,aAAa,GAAC,CAAC,IAAI,CAAC,UAAU,GAAC,CAAC,CAAC,CAAC;QAC7C,IAAG,IAAI,CAAC,UAAU,GAAC,EAAE,EACrB;YACI,MAAM,GAAC,YAAY,GAAC,CAAC,IAAI,CAAC,UAAU,GAAC,CAAC,CAAC,CAAC;SAC3C;QACD,cAAc;QACd,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,WAAW,GAAC,0BAAgB,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QACjG,UAAU;QACV,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,MAAM,GAAC,IAAI,CAAC,OAAO,CAAC;QAAA,CAAC;QACtD,MAAM;QACN,IAAI,EAAE,GAAC,uCAAkB,CAAC,WAAW,EAAE,CAAC,kBAAkB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC5E,IAAI,OAAO,GAAC,0CAAuB,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAC9D,IAAI,UAAU,GAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;QACtD,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,UAAU,CAAC,aAAa,EAAE,CAAC,EAAE,EAC5C;YACI,IAAI,MAAM,GAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAClC,IAAG,CAAC,GAAC,OAAO,CAAC,MAAM,EACnB;gBACI,MAAM,CAAC,MAAM,GAAC,IAAI,CAAC;gBACnB,IAAI,GAAG,GAAC,YAAY,CAAC;gBACrB,QAAO,OAAO,CAAC,CAAC,CAAC,EACjB;oBACI,KAAK,yBAAY,CAAC,IAAI;wBAAE,GAAG,GAAC,cAAc,CAAC;wBAAC,MAAM;oBAClD,KAAK,yBAAY,CAAC,QAAQ;wBAAE,GAAG,GAAC,cAAc,CAAC;wBAAC,MAAM;oBACtD,KAAK,yBAAY,CAAC,KAAK;wBAAE,GAAG,GAAC,cAAc,CAAC;wBAAC,MAAM;iBACtD;gBACD,MAAM,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,WAAW,GAAC,0BAAgB,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;aAC9F;iBACD;gBACI,MAAM,CAAC,MAAM,GAAC,KAAK,CAAC;aACvB;SACJ;IACL,CAAC;IA5CgB,SAAS;QAD7B,OAAO;OACa,SAAS,CA8C7B;IAAD,gBAAC;CA9CD,AA8CC,CA9CsC,EAAE,CAAC,SAAS,GA8ClD;kBA9CoB,SAAS","file":"","sourceRoot":"/","sourcesContent":["import { AttRangeType } from \"../../Hero/Game/HeroConfig\";\r\nimport { MonsterAttributeManager } from \"../../Monster/Data/MonsterAttribute\";\r\nimport { MonsterDataManager } from \"../../Monster/Data/MonsterDataManager\";\r\nimport { Enemy_Type } from \"../EnemyConfig\";\r\nimport EnemyIconManager from \"./EnemyIconManager\";\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class EnemyIcon extends cc.Component {\r\n\r\n    enemy_type:Enemy_Type=Enemy_Type.shuyao;\r\n    is_boss:boolean=false;\r\n\r\n    init (type:Enemy_Type,isBoss:boolean) {\r\n        this.enemy_type=type;\r\n        this.is_boss=isBoss;\r\n        this.refreshData();\r\n    }\r\n\r\n    refreshData(){\r\n        let spName='TX_GuaiWu_0'+(this.enemy_type-1);\r\n        if(this.enemy_type>10)\r\n        {\r\n            spName='TX_GuaiWu_'+(this.enemy_type-1);\r\n        }\r\n        //根据怪物类型设置怪物图标\r\n        this.node.getComponent(cc.Sprite).spriteFrame=EnemyIconManager.getInstance().getSpByName(spName);\r\n        //设置是否boss\r\n        this.node.getChildByName('boss').active=this.is_boss;;\r\n        //设置单位\r\n        let id=MonsterDataManager.getInstance().getMonsterIdByType(this.enemy_type);\r\n        let danweis=MonsterAttributeManager.getInstance().getArea(id);\r\n        let danweiRoot=this.node.getChildByName('danweiRoot');\r\n        for(let i=0; i<danweiRoot.childrenCount; i++)\r\n        {\r\n            let danwei=danweiRoot.children[i];\r\n            if(i<danweis.length)\r\n            {\r\n                danwei.active=true;\r\n                let str='TY_icon_Lu';\r\n                switch(danweis[i])\r\n                {\r\n                    case AttRangeType.LuDi: str='JS_iconSX_06'; break;\r\n                    case AttRangeType.TianKong: str='JS_iconSX_07'; break;\r\n                    case AttRangeType.DunDi: str='JS_iconSX_05'; break;\r\n                }\r\n                danwei.getComponent(cc.Sprite).spriteFrame=EnemyIconManager.getInstance().getSpByName(str);\r\n            }else\r\n            {\r\n                danwei.active=false;\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n"]}