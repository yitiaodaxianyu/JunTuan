{"version":3,"sources":["assets\\Scripts\\Ads\\AdManager.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,2CAAsC;AACtC,0CAA0E;AAE1E,yCAAoC;AACpC,uEAAuE;AAEjE,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAA;QAGY,eAAU,GAAU,IAAI,CAAC;IA4ErC,CAAC;kBA/EoB,SAAS;IAKZ,qBAAW,GAAzB;QAEI,IAAG,IAAI,CAAC,SAAS,IAAE,IAAI,EACvB;YACI,IAAI,CAAC,SAAS,GAAC,IAAI,WAAS,EAAE,CAAC;YAC/B,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;SACzB;QACD,OAAO,IAAI,CAAC,SAAS,CAAC;IAC1B,CAAC;IACD,SAAS;IACT,wBAAI,GAAJ;QACI,IAAI,CAAC,OAAO,EAAE,CAAC;IACnB,CAAC;IACD,2BAAO,GAAP;QAEI,QAAO,wBAAY,EACnB;YACI,KAAK,4BAAgB,CAAC,GAAG;gBAAE,oBAAU,CAAC,WAAW,EAAE,CAAC,IAAI,EAAE,CAAC;gBAAC,MAAM;YAClE,KAAK,4BAAgB,CAAC,MAAM;gBAAE,mBAAS,CAAC,WAAW,EAAE,CAAC,IAAI,EAAE,CAAC;gBAAC,MAAM;YACpE,0EAA0E;YAC1E,KAAK,4BAAgB,CAAC,QAAQ,CAAC,CAAC,MAAM;SACzC;IAEL,CAAC;IAAA,CAAC;IAEF,8BAAU,GAAV;QAEI,QAAO,wBAAY,EACnB;YACI,0EAA0E;YAC1E,iFAAiF;YACjF,KAAK,4BAAgB,CAAC,QAAQ,CAAC,CAAC,MAAM;SACzC;IACL,CAAC;IAAA,CAAC;IAEF,oCAAgB,GAAhB,UAAiB,OAAc;QAE3B,EAAE,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QAC3B,QAAO,wBAAY,EACnB;YACI,KAAK,4BAAgB,CAAC,GAAG;gBAAE,oBAAU,CAAC,WAAW,EAAE,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;gBAAC,MAAM;YACrF,uFAAuF;YACvF,KAAK,4BAAgB,CAAC,QAAQ,CAAC,CAAC,MAAM;SACzC;IACL,CAAC;IAAA,CAAC;IACF,wBAAwB;IACxB,6BAAS,GAAT,UAAU,QAA8B,EAAC,IAAe;QAAxD,iBAcC;QAZG,IAAI,CAAC,UAAU,GAAC,QAAQ,CAAC;QACzB,QAAO,wBAAY,EACnB;YACI,KAAK,4BAAgB,CAAC,GAAG;gBAAE,oBAAU,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,UAAC,KAAa;oBACxE,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;gBACzB,CAAC,EAAC,IAAI,CAAC,CAAC;gBAAC,MAAM;YACf,KAAK,4BAAgB,CAAC,MAAM;gBAAE,mBAAS,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;gBAAC,MAAM;YACjF,gGAAgG;YAChG,KAAK,4BAAgB,CAAC,QAAQ;gBAAC;oBAC3B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;iBACvB;gBAAC,MAAM;SACX;IACL,CAAC;IAAA,CAAC;IAEF,4BAAQ,GAAR,UAAS,MAAc;QAEnB,IAAG,IAAI,CAAC,UAAU,IAAE,IAAI,EACxB;YACI,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;YACxB,IAAI,CAAC,UAAU,GAAC,IAAI,CAAC;YACrB,IAAG,MAAM,IAAE,IAAI,EACf;gBACI,kEAAkE;aACrE;SACJ;IACL,CAAC;;IA5Ec,mBAAS,GAAc,IAAI,CAAC;IAF1B,SAAS;QAD7B,OAAO;OACa,SAAS,CA+E7B;IAAD,gBAAC;CA/ED,AA+EC,IAAA;kBA/EoB,SAAS","file":"","sourceRoot":"/","sourcesContent":["import ApkManager from \"./ApkManager\";\r\nimport { CUR_Platform, Release_Platform, VIDEO_TYPE } from \"../Constants\";\r\nimport Hint from \"../Hint\";\r\nimport WXManager from \"./WXManager\";\r\n// import TaskManger, { MustType, TaskType } from \"../Task/TaskManger\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class AdManager {\r\n\r\n    private static _instance: AdManager = null;\r\n    private adCallback:Function=null;\r\n\r\n    public static getInstance():AdManager\r\n    {\r\n        if(this._instance==null)\r\n        {\r\n            this._instance=new AdManager();\r\n            this._instance.init();\r\n        }\r\n        return this._instance;\r\n    }\r\n    //初始化游戏数据\r\n    init () {\r\n        this.initAds();        \r\n    }\r\n    initAds()\r\n    {\r\n        switch(CUR_Platform)\r\n        {\r\n            case Release_Platform.APK: ApkManager.getInstance().init(); break;\r\n            case Release_Platform.CPK_WX: WXManager.getInstance().init(); break;\r\n            //case Release_Platform.CPK_JKW:CpkJKWManager.getInstance().init(); break;\r\n            case Release_Platform.WEB_TEST: break;\r\n        }\r\n        \r\n    };\r\n    \r\n    showBanner()\r\n    {\r\n        switch(CUR_Platform)\r\n        {\r\n            //case Release_Platform.APK: ApkManager.getInstance().showBanner(); break;\r\n            //case Release_Platform.CPK_JKW: CpkJKWManager.getInstance().showBanner(); break;\r\n            case Release_Platform.WEB_TEST: break;\r\n        }   \r\n    };\r\n    \r\n    showInterstitial(message:string)\r\n    {\r\n        cc.log('showInterstitial');\r\n        switch(CUR_Platform)\r\n        {\r\n            case Release_Platform.APK: ApkManager.getInstance().showInterstitial(message); break;\r\n            //case Release_Platform.CPK_JKW: CpkJKWManager.getInstance().showInterstitial(); break;\r\n            case Release_Platform.WEB_TEST: break;\r\n        }  \r\n    };\r\n    //callback，视频播放是否成功的回调函数\r\n    showVideo(callback:(isSuc:boolean)=>void,type:VIDEO_TYPE)\r\n    {\r\n        this.adCallback=callback;\r\n        switch(CUR_Platform)\r\n        {\r\n            case Release_Platform.APK: ApkManager.getInstance().showVideo((isSuc:boolean)=>{\r\n                this.adResult(isSuc);\r\n            },type); break;\r\n            case Release_Platform.CPK_WX: WXManager.getInstance().showVideo(callback); break;\r\n            //case Release_Platform.CPK_JKW: CpkJKWManager.getInstance().showVideo(callback,context); break;\r\n            case Release_Platform.WEB_TEST:{\r\n                this.adResult(true);\r\n            } break;\r\n        }\r\n    };\r\n\r\n    adResult(result:boolean)\r\n    {\r\n        if(this.adCallback!=null)\r\n        {\r\n            this.adCallback(result);\r\n            this.adCallback=null;\r\n            if(result==true)\r\n            {\r\n                // TaskManger.getInstance().changeMustProgress(MustType.累计播放视频,1);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n"]}