{"version":3,"sources":["assets\\Scripts\\Monster\\Elite\\BigSlim.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,oEAAiF;AAEjF,oDAA+C;AAC/C,wDAAmD;AAG7C,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAqC,2BAAgB;IAArD;;IAqDA,CAAC;IAjDG,wBAAM,GAAN;QACI,iBAAM,MAAM,WAAE,CAAC;QACf,iBAAM,gBAAgB,YAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACrC,uCAAkB,CAAC,WAAW,EAAE,CAAC,iBAAiB,CAAC,iCAAY,CAAC,oBAAoB,EAAC,CAAC,CAAC,CAAC;QACxF,wBAAc,CAAC,WAAW,EAAE,CAAC,cAAc,CAAC,KAAK,EAAC,CAAC,CAAC,CAAC;QACrD,uCAAkB,CAAC,WAAW,EAAE,CAAC,iBAAiB,CAAC,iCAAY,CAAC,gBAAgB,EAAC,CAAC,CAAC,CAAC;IACxF,CAAC;IAED,yBAAO,GAAP;QAAA,iBAkBC;QAhBG,OAAO;QACP,IAAI,KAAK,GAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,EAAC,WAAW,EAAC,KAAK,CAAC,CAAC;QACvD,IAAI,CAAC,KAAK,CAAC,qBAAqB,CAAC,KAAK,EAAC,UAAC,KAA0B,EAAE,KAAK;YACrE,IAAG,KAAK,CAAC,IAAI,CAAC,IAAI,IAAE,MAAM,EAAC;gBACvB,KAAI,CAAC,WAAW,EAAE,CAAC;aACtB;QACL,CAAC,CAAC,CAAA;QACF,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,KAAK,EAAC,UAAC,KAA0B,EAAE,KAAK;YACxE,KAAK,CAAC,QAAQ,GAAC,IAAI,CAAC;YACpB,KAAI,CAAC,eAAe,EAAE,CAAC;YACvB,KAAI,CAAC,MAAM,CAAC,OAAO,GAAC,CAAC,CAAC;YACtB,KAAI,CAAC,IAAI,CAAC,OAAO,GAAC,CAAC,CAAC;YACpB,IAAI,GAAG,GAAC,uCAAkB,CAAC,WAAW,EAAE,CAAC,oBAAoB,CAAC,iCAAY,CAAC,WAAW,EAAC,iBAAM,YAAY,YAAE,CAAC,CAAC;YAC7G,GAAG,CAAC,KAAK,GAAC,GAAG,CAAC;YACd,wBAAc,CAAC,WAAW,EAAE,CAAC,cAAc,CAAC,KAAI,CAAC,IAAI,EAAC,KAAI,CAAC,YAAY,EAAC,KAAK,CAAC,CAAC;QACnF,CAAC,CAAC,CAAA;IACN,CAAC;IAED,6BAAW,GAAX;QAAA,iBAkBC;QAjBG,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,gBAAgB;QAChB,IAAI;QACJ,IAAI,GAAG,GAAC,IAAI,CAAC,YAAY,EAAE,CAAC;QAC5B,IAAI,EAAE,GAAC,GAAG,CAAC;QACX,IAAI,UAAU,GAAC,IAAI,CAAC,EAAE,GAAC,CAAC,CAAC,CAAA,KAAK;gCACtB,CAAC;YACL,IAAI,EAAE,GAAC,IAAI,CAAC,GAAG,CAAC,UAAU,GAAC,CAAC,CAAC,GAAC,EAAE,GAAC,GAAG,CAAC,CAAC,CAAC;YACvC,IAAI,EAAE,GAAC,IAAI,CAAC,GAAG,CAAC,UAAU,GAAC,CAAC,CAAC,GAAC,EAAE,GAAC,GAAG,CAAC,CAAC,CAAC;YACvC,KAAK;YACL,IAAI,MAAM,GAAC,uCAAkB,CAAC,WAAW,EAAE,CAAC,oBAAoB,CAAC,iCAAY,CAAC,oBAAoB,EAAC,GAAG,CAAC,CAAA;YACvG,IAAI,MAAM,GAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAC,EAAE,CAAC,CAAA;YACvB,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,GAAG,EAAC,MAAM,EAAC,EAAE,GAAC,GAAG,CAAC,CAAC,GAAC,EAAE,EAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBAC5D,wBAAc,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,KAAK,EAAC,KAAI,CAAC,aAAa,EAAC,MAAM,CAAC,CAAC;gBAClF,uCAAkB,CAAC,WAAW,EAAE,CAAC,qBAAqB,CAAC,iCAAY,CAAC,oBAAoB,EAAC,MAAM,CAAC,CAAC;YACrG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;;QATf,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,CAAC,EAAE,CAAC,EAAE;oBAAb,CAAC;SAUR;IACL,CAAC;IAlDgB,OAAO;QAD3B,OAAO;OACa,OAAO,CAqD3B;IAAD,cAAC;CArDD,AAqDC,CArDoC,0BAAgB,GAqDpD;kBArDoB,OAAO","file":"","sourceRoot":"/","sourcesContent":["import { GameEffectsManager, GameEffectId } from \"../../Game/GameEffectsManager\";\r\nimport { KeyFrameData, StrengthType } from \"../MonsterData\";\r\nimport MonsterManager from \"../MonsterManager\";\r\nimport MonsterNewNormal from \"../MonsterNewNormal\";\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class BigSlim extends MonsterNewNormal {\r\n\r\n\r\n\r\n    onLoad () {\r\n        super.onLoad();\r\n        super.addDeathCallback(this.onDeath);\r\n        GameEffectsManager.getInstance().addEffectPoolById(GameEffectId.monster70_silaimu_qq,6);\r\n        MonsterManager.getInstance().addMonsterPool(10491,6);\r\n        GameEffectsManager.getInstance().addEffectPoolById(GameEffectId.monster_zhaohuan,4);\r\n    }\r\n\r\n    onDeath(){\r\n\r\n        //先播放动画\r\n        let anima=this.spine.setAnimation(0,\"Side_Dead\",false);\r\n        this.spine.setTrackEventListener(anima,(entry: sp.spine.TrackEntry, event) =>{\r\n            if(event.data.name==\"Dead\"){\r\n                this.deathFinish();\r\n            }\r\n        })\r\n        this.spine.setTrackCompleteListener(anima,(entry: sp.spine.TrackEntry, event) =>{\r\n            anima.listener=null;\r\n            this.removeAllDeBuff();\r\n            this.shadow.opacity=0;\r\n            this.node.opacity=0;\r\n            let die=GameEffectsManager.getInstance().createGameEffectById(GameEffectId.monster_die,super.getCenterPos());\r\n            die.scale=0.8;\r\n            MonsterManager.getInstance().destroyMonster(this.node,this.monster_type,false);\r\n        })        \r\n    }\r\n\r\n    deathFinish(){\r\n        this.removeAllDeBuff();\r\n        //生成小史莱姆        \r\n        //半径\r\n        let pos=this.getCenterPos();\r\n        let rr=200;\r\n        let onceRadian=Math.PI/5;//6个怪\r\n        for(let i=0; i<6; i++){\r\n            let xx=Math.cos(onceRadian*i)*rr+pos.x;\r\n            let yy=Math.sin(onceRadian*i)*rr+pos.y;\r\n            //小泡泡\r\n            let paopao=GameEffectsManager.getInstance().createGameEffectById(GameEffectId.monster70_silaimu_qq,pos)\r\n            let endPos=cc.v2(xx,yy)\r\n            cc.tween(paopao).then(cc.jumpTo(0.5,endPos,yy-pos.y+50,1)).call(()=>{\r\n                MonsterManager.getInstance().createSummonMonster(10491,this.monster_level,endPos); \r\n                GameEffectsManager.getInstance().destroyGameEffectById(GameEffectId.monster70_silaimu_qq,paopao);\r\n            }).start();\r\n        }\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}