
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/Hero/Ui/ExclusiveWeaponsStrengtheningUi.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '7a898eqhFpLkp8t++2z9rQF', 'ExclusiveWeaponsStrengtheningUi');
// Scripts/Hero/Ui/ExclusiveWeaponsStrengtheningUi.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var ApkManager_1 = require("../../Ads/ApkManager");
var GameManager_1 = require("../../GameManager");
var HeroManager_1 = require("../Data/HeroManager");
var HeroConfig_1 = require("../Game/HeroConfig");
var ExclusiveEnhancement_1 = require("../../JsonData/ExclusiveEnhancement");
var ExclusiveWeaponMessage_1 = require("../../JsonData/ExclusiveWeaponMessage");
var LanguageManager_1 = require("../../multiLanguage/LanguageManager");
var TextLanguage_1 = require("../../multiLanguage/TextLanguage");
var Item_1 = require("../../Prop/Data/Item");
var PropManager_1 = require("../../Prop/PropManager");
var AudioConstants_1 = require("../../Sound/AudioConstants");
var MyTool_1 = require("../../Tools/MyTool");
var UIComponent_1 = require("../../UI/UIComponent");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ExclusiveWeaponsStrengtheningUi = /** @class */ (function (_super) {
    __extends(ExclusiveWeaponsStrengtheningUi, _super);
    function ExclusiveWeaponsStrengtheningUi() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.hero_type = HeroConfig_1.Hero_Type.NULL;
        _this.is_activation = false;
        _this.exclusive_weapons_strengthening_ui = null;
        return _this;
    }
    ExclusiveWeaponsStrengtheningUi.prototype.init = function (uiAc) {
        _super.prototype.init.call(this, uiAc);
        var canvas = cc.find("Canvas");
        this.node.getChildByName("top").getComponent(cc.Widget).target = canvas;
        this.node.getChildByName("bottom").getComponent(cc.Widget).target = canvas;
    };
    ExclusiveWeaponsStrengtheningUi.prototype.initData = function (heroType, isActiVation) {
        if (isActiVation === void 0) { isActiVation = false; }
        this.hero_type = heroType;
        this.is_activation = isActiVation;
        this.refreshUi();
    };
    ExclusiveWeaponsStrengtheningUi.prototype.refreshUi = function () {
        if (this.is_activation) {
            this.refreshActivationUi();
        }
        else {
            this.refreshStrengtheningUi();
        }
    };
    ExclusiveWeaponsStrengtheningUi.prototype.refreshActivationUi = function () {
        var top = this.node.getChildByName("top");
        var bottom = this.node.getChildByName("bottom");
        var data = HeroManager_1.HeroManager.getInstance().checkExclusive(this.hero_type);
        // if(weaponData == null){
        //     weaponData = ExclusiveEnhancementManager.getInstance().getJsonByHeroTypeAndWeaponLevel(this.hero_type,heroData.exclusive_equip_level);
        // }
        var weaponMessage = ExclusiveWeaponMessage_1.ExclusiveWeaponMessageManager.getInstance().getJsonExclusiveWeaponMessage(this.hero_type);
        top.getChildByName("name").getComponent(TextLanguage_1.default).setTextId(weaponMessage.ExclusiveWeaponNameID);
        this.node.getChildByName("Exclusive_Weapon_1").getComponent(cc.Sprite).spriteFrame = this.exclusive_weapons_strengthening_ui.getSpriteFrame("Exclusive_Weapon_" + this.hero_type);
        bottom.getChildByName("Exclusive_Stone_Bg_1").getComponent(cc.Sprite).spriteFrame = this.exclusive_weapons_strengthening_ui.getSpriteFrame("Exclusive_Stone_Bg_" + Item_1.ItemManager.getInstance().getQuality(data.cost_prop_id));
        bottom.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByName("Item_" + data.cost_prop_id);
        bottom.getChildByName("itemNum").getComponent(cc.Label).string = data.cur_prop_num + "/" + data.cost_prop_num;
        if (!data.is_can_up) {
            bottom.getChildByName("itemNum").color = cc.Color.RED;
        }
        bottom.getChildByName("strengthening").active = false;
        var unlock = bottom.getChildByName("unlock");
        unlock.active = true;
        unlock.getChildByName("sikllIcon").getComponent(cc.Sprite).spriteFrame = this.exclusive_weapons_strengthening_ui.getSpriteFrame("Exclusive_Skill_" + this.hero_type);
        unlock.getChildByName("skillName").getComponent(TextLanguage_1.default).setTextId(weaponMessage.ExclusiveWeaponSkillID);
        unlock.getChildByName("skillDes").getComponent(TextLanguage_1.default).setTextId(weaponMessage.ExclusiveWeaponSkillDescription);
        var content = unlock.getChildByName("scroll").getComponent(cc.ScrollView).content;
        var text1 = content.getChildByName("levelDes1");
        var text2 = content.getChildByName("levelDes2");
        var text3 = content.getChildByName("levelDes3");
        text1.getComponent(cc.Label).string = LanguageManager_1.default.getInstance().getStrByTextId(weaponMessage.ExclusiveWeaponStrengthenID_1);
        text2.getComponent(cc.Label).string = LanguageManager_1.default.getInstance().getStrByTextId(weaponMessage.ExclusiveWeaponStrengthenID_2);
        text3.getComponent(cc.Label).string = LanguageManager_1.default.getInstance().getStrByTextId(weaponMessage.ExclusiveWeaponStrengthenID_3);
    };
    ExclusiveWeaponsStrengtheningUi.prototype.refreshStrengtheningUi = function () {
        var top = this.node.getChildByName("top");
        var bottom = this.node.getChildByName("bottom");
        var heroInfo = HeroManager_1.HeroManager.getInstance().getHeroInfo(this.hero_type);
        bottom.getChildByName("unlock").active = false;
        var strengthening = bottom.getChildByName("strengthening");
        var notOver = strengthening.getChildByName("notOver");
        var over = strengthening.getChildByName("over");
        if (heroInfo.exclusive_equip_stage >= 30) {
            HeroManager_1.HeroManager.getInstance().setExclusiveEquipLevel(this.hero_type, 30);
            strengthening.getComponentInChildren(cc.Button).interactable = false;
            strengthening.getComponentInChildren(cc.Button).node.getComponentInChildren(TextLanguage_1.default).setTextId(120010);
            strengthening.getChildByName("over").active = true;
            notOver.active = false;
            var weaponNowData_1 = ExclusiveEnhancement_1.ExclusiveEnhancementManager.getInstance().getJsonByHeroTypeAndWeaponLevel(this.hero_type, heroInfo.exclusive_equip_stage);
            over.getChildByName("cur1").getComponent(cc.Label).string = "+" + heroInfo.exclusive_equip_stage;
            over.getChildByName("cur2").getComponent(cc.Label).string = "+" + MyTool_1.default.numberFormat(weaponNowData_1.Health * 100, 2) + "%";
            over.getChildByName("cur3").getComponent(cc.Label).string = "+" + MyTool_1.default.numberFormat(weaponNowData_1.Attack * 100, 2) + "%";
            over.getChildByName("cur4").getComponent(cc.Label).string = "+" + MyTool_1.default.numberFormat(weaponNowData_1.Defense * 100, 2) + "%";
            switch (weaponNowData_1.AuxiliaryAttributeReading) {
                case 1:
                    strengthening.getChildByName("label5").getComponent(TextLanguage_1.default).setTextId(110019);
                    over.getChildByName("cur5").getComponent(cc.Label).string = "+" + weaponNowData_1.Critical;
                    break;
                case 2:
                    strengthening.getChildByName("label5").getComponent(TextLanguage_1.default).setTextId(110017);
                    over.getChildByName("cur5").getComponent(cc.Label).string = "+" + weaponNowData_1.Hit;
                    break;
                case 3:
                    strengthening.getChildByName("label5").getComponent(TextLanguage_1.default).setTextId(110018);
                    over.getChildByName("cur5").getComponent(cc.Label).string = "+" + MyTool_1.default.numberFormat(weaponNowData_1.Miss * 100, 2) + "%";
                    break;
                case 4:
                    strengthening.getChildByName("label5").getComponent(TextLanguage_1.default).setTextId(110020);
                    over.getChildByName("cur5").getComponent(cc.Label).string = "+" + MyTool_1.default.numberFormat(weaponNowData_1.ExtraCritical * 100, 2) + "%";
                    break;
                case 5:
                    strengthening.getChildByName("label5").getComponent(TextLanguage_1.default).setTextId(110021);
                    over.getChildByName("cur5").getComponent(cc.Label).string = "+" + MyTool_1.default.numberFormat(weaponNowData_1.AntiCritical * 100, 2);
                    break;
                case 6:
                    strengthening.getChildByName("label5").getComponent(TextLanguage_1.default).setTextId(110022);
                    over.getChildByName("cur5").getComponent(cc.Label).string = "+" + MyTool_1.default.numberFormat(weaponNowData_1.AntiExtraCritical * 100, 2) + "%";
                    break;
            }
            bottom.getChildByName("Exclusive_Stone_Bg_1").active = false;
            bottom.getChildByName("costIcon").active = false;
            bottom.getChildByName("Exclusive_Stone_Bg_0").active = false;
            bottom.getChildByName("itemNum").active = false;
            this.node.getChildByName("Exclusive_Weapon_1").getComponent(cc.Sprite).spriteFrame = this.exclusive_weapons_strengthening_ui.getSpriteFrame("Exclusive_Weapon_" + this.hero_type);
            return;
        }
        var weaponNowData = ExclusiveEnhancement_1.ExclusiveEnhancementManager.getInstance().getJsonByHeroTypeAndWeaponLevel(this.hero_type, heroInfo.exclusive_equip_stage);
        var weaponNextData = ExclusiveEnhancement_1.ExclusiveEnhancementManager.getInstance().getJsonByHeroTypeAndWeaponLevel(this.hero_type, heroInfo.exclusive_equip_stage + 1);
        var weaponMessage = ExclusiveWeaponMessage_1.ExclusiveWeaponMessageManager.getInstance().getJsonExclusiveWeaponMessage(this.hero_type);
        top.getChildByName("name").getComponent(TextLanguage_1.default).setTextId(weaponMessage.ExclusiveWeaponNameID);
        this.node.getChildByName("Exclusive_Weapon_1").getComponent(cc.Sprite).spriteFrame = this.exclusive_weapons_strengthening_ui.getSpriteFrame("Exclusive_Weapon_" + this.hero_type);
        bottom.getChildByName("Exclusive_Stone_Bg_1").getComponent(cc.Sprite).spriteFrame = this.exclusive_weapons_strengthening_ui.getSpriteFrame("Exclusive_Stone_Bg_" + Item_1.ItemManager.getInstance().getQuality(weaponNowData.SpendPropID));
        bottom.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByName("Item_" + weaponNowData.SpendPropID);
        bottom.getChildByName("itemNum").getComponent(cc.Label).string = PropManager_1.PropManager.getInstance().getPropNum(weaponNowData.SpendPropID) + "/" + weaponNowData.SpendPropNum;
        strengthening.active = true;
        over.active = false;
        notOver.active = true;
        notOver.getChildByName("cur1").getComponent(cc.Label).string = "+" + heroInfo.exclusive_equip_stage;
        notOver.getChildByName("cur2").getComponent(cc.Label).string = "+" + MyTool_1.default.numberFormat(weaponNowData.Health * 100, 2) + "%";
        notOver.getChildByName("cur3").getComponent(cc.Label).string = "+" + MyTool_1.default.numberFormat(weaponNowData.Attack * 100, 2) + "%";
        notOver.getChildByName("cur4").getComponent(cc.Label).string = "+" + MyTool_1.default.numberFormat(weaponNowData.Defense * 100, 2) + "%";
        // console.log("typeof:" + typeof(weaponNowData.AuxiliaryAttributeReading),weaponNowData.AuxiliaryAttributeReading);
        notOver.getChildByName("next1").getComponent(cc.Label).string = "+" + (heroInfo.exclusive_equip_stage + 1);
        notOver.getChildByName("next2").getComponent(cc.Label).string = "+" + MyTool_1.default.numberFormat(weaponNextData.Health * 100, 2) + "%";
        notOver.getChildByName("next3").getComponent(cc.Label).string = "+" + MyTool_1.default.numberFormat(weaponNextData.Attack * 100, 2) + "%";
        notOver.getChildByName("next4").getComponent(cc.Label).string = "+" + MyTool_1.default.numberFormat(weaponNextData.Defense * 100, 2) + "%";
        switch (weaponNowData.AuxiliaryAttributeReading) {
            case 1:
                strengthening.getChildByName("label5").getComponent(TextLanguage_1.default).setTextId(110019);
                notOver.getChildByName("cur5").getComponent(cc.Label).string = "+" + weaponNowData.Critical;
                notOver.getChildByName("next5").getComponent(cc.Label).string = "+" + weaponNextData.Critical;
                break;
            case 2:
                strengthening.getChildByName("label5").getComponent(TextLanguage_1.default).setTextId(110017);
                notOver.getChildByName("cur5").getComponent(cc.Label).string = "+" + weaponNowData.Hit;
                notOver.getChildByName("next5").getComponent(cc.Label).string = "+" + weaponNextData.Hit;
                break;
            case 3:
                strengthening.getChildByName("label5").getComponent(TextLanguage_1.default).setTextId(110018);
                notOver.getChildByName("cur5").getComponent(cc.Label).string = "+" + MyTool_1.default.numberFormat(weaponNowData.Miss * 100, 2) + "%";
                notOver.getChildByName("next5").getComponent(cc.Label).string = "+" + MyTool_1.default.numberFormat(weaponNextData.Miss * 100, 2);
                break;
            case 4:
                strengthening.getChildByName("label5").getComponent(TextLanguage_1.default).setTextId(110020);
                notOver.getChildByName("cur5").getComponent(cc.Label).string = "+" + MyTool_1.default.numberFormat(weaponNowData.ExtraCritical * 100, 2) + "%";
                notOver.getChildByName("next5").getComponent(cc.Label).string = "+" + MyTool_1.default.numberFormat(weaponNextData.ExtraCritical * 100, 2);
                break;
            case 5:
                strengthening.getChildByName("label5").getComponent(TextLanguage_1.default).setTextId(110021);
                notOver.getChildByName("cur5").getComponent(cc.Label).string = "+" + MyTool_1.default.numberFormat(weaponNowData.AntiCritical * 100, 2);
                notOver.getChildByName("next5").getComponent(cc.Label).string = "+" + MyTool_1.default.numberFormat(weaponNextData.AntiCritical * 100, 2);
                break;
            case 6:
                strengthening.getChildByName("label5").getComponent(TextLanguage_1.default).setTextId(110022);
                notOver.getChildByName("cur5").getComponent(cc.Label).string = "+" + MyTool_1.default.numberFormat(weaponNowData.AntiExtraCritical * 100, 2) + "%";
                notOver.getChildByName("next5").getComponent(cc.Label).string = "+" + MyTool_1.default.numberFormat(weaponNextData.AntiExtraCritical * 100, 2);
                break;
        }
        if (heroInfo.exclusive_equip_stage < 10) {
            strengthening.getChildByName("desLabel1").getComponent(TextLanguage_1.default).setReplaceValue("~", "10");
            strengthening.getChildByName("desLabel2").getComponent(TextLanguage_1.default).setTextId(weaponMessage.ExclusiveWeaponStrengthenID_1);
        }
        else if (heroInfo.exclusive_equip_stage < 20) {
            strengthening.getChildByName("desLabel1").getComponent(TextLanguage_1.default).setReplaceValue("~", "20");
            strengthening.getChildByName("desLabel2").getComponent(TextLanguage_1.default).setTextId(weaponMessage.ExclusiveWeaponStrengthenID_2);
        }
        else if (heroInfo.exclusive_equip_stage < 30) {
            strengthening.getChildByName("desLabel1").getComponent(TextLanguage_1.default).setReplaceValue("~", "30");
            strengthening.getChildByName("desLabel2").getComponent(TextLanguage_1.default).setTextId(weaponMessage.ExclusiveWeaponStrengthenID_3);
        }
        else {
            strengthening.getChildByName("desLabel2").getComponent(TextLanguage_1.default).setTextId(weaponMessage.ExclusiveWeaponStrengthenID_3);
        }
    };
    ExclusiveWeaponsStrengtheningUi.prototype.onClickActivationBtn = function () {
        GameManager_1.default.getInstance().sound_manager.playSound(AudioConstants_1.SoundIndex.click);
        HeroManager_1.HeroManager.getInstance().addExclusiveEquipLevel(this.hero_type);
        this.is_activation = false;
        // cc.sys.localStorage.setItem("ExclusiveWeaponLevel_" + this.hero_type,0);
        this.refreshUi();
    };
    ExclusiveWeaponsStrengtheningUi.prototype.onClickStrengtheningBtn = function () {
        // console.log("点击响应")
        GameManager_1.default.getInstance().sound_manager.playSound(AudioConstants_1.SoundIndex.click);
        var data = HeroManager_1.HeroManager.getInstance().checkExclusive(this.hero_type);
        if (data.is_can_up) {
            // console.log("强化成功")
            PropManager_1.PropManager.getInstance().changePropNum(data.cost_prop_id, -data.cost_prop_num);
            HeroManager_1.HeroManager.getInstance().addExclusiveEquipLevel(this.hero_type);
            // cc.sys.localStorage.setItem("ExclusiveWeaponLevel_" + this.hero_type,HeroManager.getInstance().getHeroData(this.hero_type).exclusive_equip_level);
            this.refreshUi();
        }
    };
    ExclusiveWeaponsStrengtheningUi.prototype.onClickBtnClose = function () {
        GameManager_1.default.getInstance().sound_manager.playSound(AudioConstants_1.SoundIndex.click);
        this.destroySelf();
    };
    ExclusiveWeaponsStrengtheningUi.prototype.destroySelf = function () {
        _super.prototype.onClose.call(this);
        ApkManager_1.default.getInstance().closeBanner();
    };
    __decorate([
        property(cc.SpriteAtlas)
    ], ExclusiveWeaponsStrengtheningUi.prototype, "exclusive_weapons_strengthening_ui", void 0);
    ExclusiveWeaponsStrengtheningUi = __decorate([
        ccclass
    ], ExclusiveWeaponsStrengtheningUi);
    return ExclusiveWeaponsStrengtheningUi;
}(UIComponent_1.default));
exports.default = ExclusiveWeaponsStrengtheningUi;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcSGVyb1xcVWlcXEV4Y2x1c2l2ZVdlYXBvbnNTdHJlbmd0aGVuaW5nVWkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsbURBQThDO0FBQzlDLGlEQUE0QztBQUM1QyxtREFBa0Q7QUFDbEQsaURBQStDO0FBQy9DLDRFQUFrRjtBQUNsRixnRkFBc0Y7QUFDdEYsdUVBQWtFO0FBQ2xFLGlFQUE0RDtBQUM1RCw2Q0FBbUQ7QUFDbkQsc0RBQXFEO0FBQ3JELDZEQUF3RDtBQUN4RCw2Q0FBd0M7QUFDeEMsb0RBQStDO0FBR3pDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQTZELG1EQUFXO0lBQXhFO1FBQUEscUVBbU9DO1FBak9HLGVBQVMsR0FBYSxzQkFBUyxDQUFDLElBQUksQ0FBQztRQUNyQyxtQkFBYSxHQUFXLEtBQUssQ0FBQztRQUc5Qix3Q0FBa0MsR0FBa0IsSUFBSSxDQUFDOztJQTZON0QsQ0FBQztJQTNORyw4Q0FBSSxHQUFKLFVBQUssSUFBYztRQUNmLGlCQUFNLElBQUksWUFBQyxJQUFJLENBQUMsQ0FBQztRQUNqQixJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFBO1FBQzlCLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUN4RSxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7SUFDL0UsQ0FBQztJQUVELGtEQUFRLEdBQVIsVUFBUyxRQUFrQixFQUFDLFlBQTRCO1FBQTVCLDZCQUFBLEVBQUEsb0JBQTRCO1FBQ3BELElBQUksQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDO1FBQzFCLElBQUksQ0FBQyxhQUFhLEdBQUcsWUFBWSxDQUFDO1FBQ2xDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztJQUNyQixDQUFDO0lBRUQsbURBQVMsR0FBVDtRQUNJLElBQUcsSUFBSSxDQUFDLGFBQWEsRUFBQztZQUNsQixJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQTtTQUM3QjthQUFJO1lBQ0QsSUFBSSxDQUFDLHNCQUFzQixFQUFFLENBQUM7U0FDakM7SUFDTCxDQUFDO0lBRUQsNkRBQW1CLEdBQW5CO1FBQ0ksSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDMUMsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDaEQsSUFBSSxJQUFJLEdBQUMseUJBQVcsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2xFLDBCQUEwQjtRQUMxQiw2SUFBNkk7UUFDN0ksSUFBSTtRQUNKLElBQUksYUFBYSxHQUFHLHNEQUE2QixDQUFDLFdBQVcsRUFBRSxDQUFDLDZCQUE2QixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUM5RyxHQUFHLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFlBQVksQ0FBQyxzQkFBWSxDQUFDLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1FBQ3JHLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLG9CQUFvQixDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLGtDQUFrQyxDQUFDLGNBQWMsQ0FBQyxtQkFBbUIsR0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDaEwsTUFBTSxDQUFDLGNBQWMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxrQ0FBa0MsQ0FBQyxjQUFjLENBQUMscUJBQXFCLEdBQUcsa0JBQVcsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7UUFDNU4sTUFBTSxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsR0FBRyx5QkFBVyxDQUFDLFdBQVcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQzNJLE1BQU0sQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFlBQVksR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztRQUU5RyxJQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBQztZQUNmLE1BQU0sQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDO1NBQ3pEO1FBRUQsTUFBTSxDQUFDLGNBQWMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ3RELElBQUksTUFBTSxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUE7UUFDNUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDckIsTUFBTSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsa0NBQWtDLENBQUMsY0FBYyxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNySyxNQUFNLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxDQUFDLFlBQVksQ0FBQyxzQkFBWSxDQUFDLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO1FBQzlHLE1BQU0sQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLENBQUMsWUFBWSxDQUFDLHNCQUFZLENBQUMsQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLCtCQUErQixDQUFDLENBQUM7UUFFdEgsSUFBSSxPQUFPLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQTtRQUNqRixJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ2hELElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDaEQsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNoRCxLQUFLLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEdBQUcseUJBQWUsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxjQUFjLENBQUMsYUFBYSxDQUFDLDZCQUE2QixDQUFDLENBQUM7UUFDaEksS0FBSyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxHQUFHLHlCQUFlLENBQUMsV0FBVyxFQUFFLENBQUMsY0FBYyxDQUFDLGFBQWEsQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO1FBQ2hJLEtBQUssQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sR0FBRyx5QkFBZSxDQUFDLFdBQVcsRUFBRSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsNkJBQTZCLENBQUMsQ0FBQztJQUNwSSxDQUFDO0lBRUQsZ0VBQXNCLEdBQXRCO1FBQ0ksSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDMUMsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDaEQsSUFBSSxRQUFRLEdBQUcseUJBQVcsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3JFLE1BQU0sQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUMvQyxJQUFJLGFBQWEsR0FBRyxNQUFNLENBQUMsY0FBYyxDQUFDLGVBQWUsQ0FBQyxDQUFBO1FBQzFELElBQUksT0FBTyxHQUFHLGFBQWEsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDdEQsSUFBSSxJQUFJLEdBQUcsYUFBYSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNoRCxJQUFHLFFBQVEsQ0FBQyxxQkFBcUIsSUFBSSxFQUFFLEVBQUM7WUFDcEMseUJBQVcsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3BFLGFBQWEsQ0FBQyxzQkFBc0IsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQztZQUNyRSxhQUFhLENBQUMsc0JBQXNCLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxzQkFBWSxDQUFDLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQzVHLGFBQWEsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztZQUNuRCxPQUFPLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUN2QixJQUFJLGVBQWEsR0FBRyxrREFBMkIsQ0FBQyxXQUFXLEVBQUUsQ0FBQywrQkFBK0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFDLFFBQVEsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1lBQzdJLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLFFBQVEsQ0FBQyxxQkFBcUIsQ0FBQztZQUNqRyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxnQkFBTSxDQUFDLFlBQVksQ0FBQyxlQUFhLENBQUMsTUFBTSxHQUFHLEdBQUcsRUFBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7WUFDMUgsSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sR0FBRyxHQUFHLEdBQUcsZ0JBQU0sQ0FBQyxZQUFZLENBQUMsZUFBYSxDQUFDLE1BQU0sR0FBRyxHQUFHLEVBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQzFILElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLGdCQUFNLENBQUMsWUFBWSxDQUFDLGVBQWEsQ0FBQyxPQUFPLEdBQUcsR0FBRyxFQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUMzSCxRQUFPLGVBQWEsQ0FBQyx5QkFBeUIsRUFBQztnQkFDM0MsS0FBSyxDQUFDO29CQUNGLGFBQWEsQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUMsWUFBWSxDQUFDLHNCQUFZLENBQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUE7b0JBQ25GLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLGVBQWEsQ0FBQyxRQUFRLENBQUM7b0JBQ3pGLE1BQU07Z0JBQ1YsS0FBSyxDQUFDO29CQUNGLGFBQWEsQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUMsWUFBWSxDQUFDLHNCQUFZLENBQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUE7b0JBQ25GLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLGVBQWEsQ0FBQyxHQUFHLENBQUM7b0JBQ3BGLE1BQU07Z0JBQ1YsS0FBSyxDQUFDO29CQUNGLGFBQWEsQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUMsWUFBWSxDQUFDLHNCQUFZLENBQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUE7b0JBQ25GLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLGdCQUFNLENBQUMsWUFBWSxDQUFDLGVBQWEsQ0FBQyxJQUFJLEdBQUcsR0FBRyxFQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztvQkFDeEgsTUFBTTtnQkFDVixLQUFLLENBQUM7b0JBQ0YsYUFBYSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxZQUFZLENBQUMsc0JBQVksQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQTtvQkFDbkYsSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sR0FBRyxHQUFHLEdBQUcsZ0JBQU0sQ0FBQyxZQUFZLENBQUMsZUFBYSxDQUFDLGFBQWEsR0FBRyxHQUFHLEVBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO29CQUNqSSxNQUFNO2dCQUNWLEtBQUssQ0FBQztvQkFDRixhQUFhLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDLFlBQVksQ0FBQyxzQkFBWSxDQUFDLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUNuRixJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxnQkFBTSxDQUFDLFlBQVksQ0FBQyxlQUFhLENBQUMsWUFBWSxHQUFHLEdBQUcsRUFBQyxDQUFDLENBQUMsQ0FBQztvQkFDMUgsTUFBTTtnQkFDVixLQUFLLENBQUM7b0JBQ0YsYUFBYSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxZQUFZLENBQUMsc0JBQVksQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQTtvQkFDbkYsSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sR0FBRyxHQUFHLEdBQUcsZ0JBQU0sQ0FBQyxZQUFZLENBQUMsZUFBYSxDQUFDLGlCQUFpQixHQUFHLEdBQUcsRUFBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7b0JBQ3JJLE1BQU07YUFDYjtZQUNELE1BQU0sQ0FBQyxjQUFjLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQzdELE1BQU0sQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUNqRCxNQUFNLENBQUMsY0FBYyxDQUFDLHNCQUFzQixDQUFDLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUM3RCxNQUFNLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDaEQsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsa0NBQWtDLENBQUMsY0FBYyxDQUFDLG1CQUFtQixHQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUNoTCxPQUFPO1NBQ1Y7UUFDRCxJQUFJLGFBQWEsR0FBRyxrREFBMkIsQ0FBQyxXQUFXLEVBQUUsQ0FBQywrQkFBK0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFDLFFBQVEsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1FBQzdJLElBQUksY0FBYyxHQUFHLGtEQUEyQixDQUFDLFdBQVcsRUFBRSxDQUFDLCtCQUErQixDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUMsUUFBUSxDQUFDLHFCQUFxQixHQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hKLElBQUksYUFBYSxHQUFHLHNEQUE2QixDQUFDLFdBQVcsRUFBRSxDQUFDLDZCQUE2QixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUU5RyxHQUFHLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFlBQVksQ0FBQyxzQkFBWSxDQUFDLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1FBQ3JHLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLG9CQUFvQixDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLGtDQUFrQyxDQUFDLGNBQWMsQ0FBQyxtQkFBbUIsR0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDaEwsTUFBTSxDQUFDLGNBQWMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxrQ0FBa0MsQ0FBQyxjQUFjLENBQUMscUJBQXFCLEdBQUcsa0JBQVcsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxVQUFVLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7UUFDcE8sTUFBTSxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsR0FBRyx5QkFBVyxDQUFDLFdBQVcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEdBQUcsYUFBYSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ25KLE1BQU0sQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEdBQUcseUJBQVcsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxVQUFVLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxhQUFhLENBQUMsWUFBWSxDQUFDO1FBRXBLLGFBQWEsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQzVCLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBRXBCLE9BQU8sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQ3RCLE9BQU8sQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLFFBQVEsQ0FBQyxxQkFBcUIsQ0FBQztRQUNwRyxPQUFPLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxnQkFBTSxDQUFDLFlBQVksQ0FBQyxhQUFhLENBQUMsTUFBTSxHQUFHLEdBQUcsRUFBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7UUFDN0gsT0FBTyxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sR0FBRyxHQUFHLEdBQUcsZ0JBQU0sQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDLE1BQU0sR0FBRyxHQUFHLEVBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1FBQzdILE9BQU8sQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLGdCQUFNLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxPQUFPLEdBQUcsR0FBRyxFQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUM5SCxvSEFBb0g7UUFFcEgsT0FBTyxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sR0FBRyxHQUFHLEdBQUcsQ0FBQyxRQUFRLENBQUMscUJBQXFCLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDM0csT0FBTyxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sR0FBRyxHQUFHLEdBQUcsZ0JBQU0sQ0FBQyxZQUFZLENBQUMsY0FBYyxDQUFDLE1BQU0sR0FBRyxHQUFHLEVBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1FBQy9ILE9BQU8sQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLGdCQUFNLENBQUMsWUFBWSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEdBQUcsR0FBRyxFQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUMvSCxPQUFPLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxnQkFBTSxDQUFDLFlBQVksQ0FBQyxjQUFjLENBQUMsT0FBTyxHQUFHLEdBQUcsRUFBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7UUFHaEksUUFBTyxhQUFhLENBQUMseUJBQXlCLEVBQUM7WUFDM0MsS0FBSyxDQUFDO2dCQUNGLGFBQWEsQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUMsWUFBWSxDQUFDLHNCQUFZLENBQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUE7Z0JBQ25GLE9BQU8sQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLGFBQWEsQ0FBQyxRQUFRLENBQUM7Z0JBQzVGLE9BQU8sQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLGNBQWMsQ0FBQyxRQUFRLENBQUM7Z0JBQzlGLE1BQU07WUFDVixLQUFLLENBQUM7Z0JBQ0YsYUFBYSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxZQUFZLENBQUMsc0JBQVksQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQTtnQkFDbkYsT0FBTyxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sR0FBRyxHQUFHLEdBQUcsYUFBYSxDQUFDLEdBQUcsQ0FBQztnQkFDdkYsT0FBTyxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sR0FBRyxHQUFHLEdBQUcsY0FBYyxDQUFDLEdBQUcsQ0FBQztnQkFDekYsTUFBTTtZQUNWLEtBQUssQ0FBQztnQkFDRixhQUFhLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDLFlBQVksQ0FBQyxzQkFBWSxDQUFDLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFBO2dCQUNuRixPQUFPLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxnQkFBTSxDQUFDLFlBQVksQ0FBQyxhQUFhLENBQUMsSUFBSSxHQUFHLEdBQUcsRUFBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7Z0JBQzNILE9BQU8sQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLGdCQUFNLENBQUMsWUFBWSxDQUFDLGNBQWMsQ0FBQyxJQUFJLEdBQUcsR0FBRyxFQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN2SCxNQUFNO1lBQ1YsS0FBSyxDQUFDO2dCQUNGLGFBQWEsQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUMsWUFBWSxDQUFDLHNCQUFZLENBQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUE7Z0JBQ25GLE9BQU8sQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLGdCQUFNLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxhQUFhLEdBQUcsR0FBRyxFQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztnQkFDcEksT0FBTyxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sR0FBRyxHQUFHLEdBQUcsZ0JBQU0sQ0FBQyxZQUFZLENBQUMsY0FBYyxDQUFDLGFBQWEsR0FBRyxHQUFHLEVBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2hJLE1BQU07WUFDVixLQUFLLENBQUM7Z0JBQ0YsYUFBYSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxZQUFZLENBQUMsc0JBQVksQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQTtnQkFDbkYsT0FBTyxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sR0FBRyxHQUFHLEdBQUcsZ0JBQU0sQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDLFlBQVksR0FBRyxHQUFHLEVBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzdILE9BQU8sQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLGdCQUFNLENBQUMsWUFBWSxDQUFDLGNBQWMsQ0FBQyxZQUFZLEdBQUcsR0FBRyxFQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUMvSCxNQUFNO1lBQ1YsS0FBSyxDQUFDO2dCQUNGLGFBQWEsQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUMsWUFBWSxDQUFDLHNCQUFZLENBQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUE7Z0JBQ25GLE9BQU8sQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLGdCQUFNLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxpQkFBaUIsR0FBRyxHQUFHLEVBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO2dCQUN4SSxPQUFPLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxnQkFBTSxDQUFDLFlBQVksQ0FBQyxjQUFjLENBQUMsaUJBQWlCLEdBQUcsR0FBRyxFQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNwSSxNQUFNO1NBQ2I7UUFFRCxJQUFHLFFBQVEsQ0FBQyxxQkFBcUIsR0FBRyxFQUFFLEVBQUM7WUFDbkMsYUFBYSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxZQUFZLENBQUMsc0JBQVksQ0FBQyxDQUFDLGVBQWUsQ0FBQyxHQUFHLEVBQUMsSUFBSSxDQUFDLENBQUE7WUFDOUYsYUFBYSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxZQUFZLENBQUMsc0JBQVksQ0FBQyxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsNkJBQTZCLENBQUMsQ0FBQztTQUMvSDthQUNJLElBQUcsUUFBUSxDQUFDLHFCQUFxQixHQUFHLEVBQUUsRUFBQztZQUN4QyxhQUFhLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxDQUFDLFlBQVksQ0FBQyxzQkFBWSxDQUFDLENBQUMsZUFBZSxDQUFDLEdBQUcsRUFBQyxJQUFJLENBQUMsQ0FBQTtZQUM5RixhQUFhLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxDQUFDLFlBQVksQ0FBQyxzQkFBWSxDQUFDLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO1NBQy9IO2FBQ0ksSUFBRyxRQUFRLENBQUMscUJBQXFCLEdBQUcsRUFBRSxFQUFDO1lBQ3hDLGFBQWEsQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLENBQUMsWUFBWSxDQUFDLHNCQUFZLENBQUMsQ0FBQyxlQUFlLENBQUMsR0FBRyxFQUFDLElBQUksQ0FBQyxDQUFBO1lBQzlGLGFBQWEsQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLENBQUMsWUFBWSxDQUFDLHNCQUFZLENBQUMsQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLDZCQUE2QixDQUFDLENBQUM7U0FDL0g7YUFDRztZQUNBLGFBQWEsQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLENBQUMsWUFBWSxDQUFDLHNCQUFZLENBQUMsQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLDZCQUE2QixDQUFDLENBQUM7U0FDL0g7SUFHTCxDQUFDO0lBRUQsOERBQW9CLEdBQXBCO1FBQ0kscUJBQVcsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLDJCQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDcEUseUJBQVcsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDakUsSUFBSSxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUM7UUFDM0IsMkVBQTJFO1FBQzNFLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztJQUNyQixDQUFDO0lBRUQsaUVBQXVCLEdBQXZCO1FBQ0ksc0JBQXNCO1FBQ3RCLHFCQUFXLENBQUMsV0FBVyxFQUFFLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQywyQkFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3BFLElBQUksSUFBSSxHQUFDLHlCQUFXLENBQUMsV0FBVyxFQUFFLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNsRSxJQUFHLElBQUksQ0FBQyxTQUFTLEVBQUM7WUFDZCxzQkFBc0I7WUFDdEIseUJBQVcsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBQyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUMvRSx5QkFBVyxDQUFDLFdBQVcsRUFBRSxDQUFDLHNCQUFzQixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUNqRSxxSkFBcUo7WUFDckosSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1NBQ3BCO0lBQ0wsQ0FBQztJQUVELHlEQUFlLEdBQWY7UUFFSSxxQkFBVyxDQUFDLFdBQVcsRUFBRSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsMkJBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNwRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDdkIsQ0FBQztJQUVELHFEQUFXLEdBQVg7UUFFSSxpQkFBTSxPQUFPLFdBQUUsQ0FBQztRQUNoQixvQkFBVSxDQUFDLFdBQVcsRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQzNDLENBQUM7SUExTkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQzsrRkFDZ0M7SUFOeEMsK0JBQStCO1FBRG5ELE9BQU87T0FDYSwrQkFBK0IsQ0FtT25EO0lBQUQsc0NBQUM7Q0FuT0QsQUFtT0MsQ0FuTzRELHFCQUFXLEdBbU92RTtrQkFuT29CLCtCQUErQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBcGtNYW5hZ2VyIGZyb20gXCIuLi8uLi9BZHMvQXBrTWFuYWdlclwiO1xyXG5pbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4uLy4uL0dhbWVNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEhlcm9NYW5hZ2VyIH0gZnJvbSBcIi4uL0RhdGEvSGVyb01hbmFnZXJcIjtcclxuaW1wb3J0IHsgSGVyb19UeXBlIH0gZnJvbSBcIi4uL0dhbWUvSGVyb0NvbmZpZ1wiO1xyXG5pbXBvcnQgeyBFeGNsdXNpdmVFbmhhbmNlbWVudE1hbmFnZXIgfSBmcm9tIFwiLi4vLi4vSnNvbkRhdGEvRXhjbHVzaXZlRW5oYW5jZW1lbnRcIjtcclxuaW1wb3J0IHsgRXhjbHVzaXZlV2VhcG9uTWVzc2FnZU1hbmFnZXIgfSBmcm9tIFwiLi4vLi4vSnNvbkRhdGEvRXhjbHVzaXZlV2VhcG9uTWVzc2FnZVwiO1xyXG5pbXBvcnQgTGFuZ3VhZ2VNYW5hZ2VyIGZyb20gXCIuLi8uLi9tdWx0aUxhbmd1YWdlL0xhbmd1YWdlTWFuYWdlclwiO1xyXG5pbXBvcnQgVGV4dExhbmd1YWdlIGZyb20gXCIuLi8uLi9tdWx0aUxhbmd1YWdlL1RleHRMYW5ndWFnZVwiO1xyXG5pbXBvcnQgeyBJdGVtTWFuYWdlciB9IGZyb20gXCIuLi8uLi9Qcm9wL0RhdGEvSXRlbVwiO1xyXG5pbXBvcnQgeyBQcm9wTWFuYWdlciB9IGZyb20gXCIuLi8uLi9Qcm9wL1Byb3BNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFNvdW5kSW5kZXggfSBmcm9tIFwiLi4vLi4vU291bmQvQXVkaW9Db25zdGFudHNcIjtcclxuaW1wb3J0IE15VG9vbCBmcm9tIFwiLi4vLi4vVG9vbHMvTXlUb29sXCI7XHJcbmltcG9ydCBVSUNvbXBvbmVudCBmcm9tIFwiLi4vLi4vVUkvVUlDb21wb25lbnRcIjtcclxuaW1wb3J0IHsgVWlBY3Rpb24gfSBmcm9tIFwiLi4vLi4vVUkvVWlJbnRlcmZhY2VcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXhjbHVzaXZlV2VhcG9uc1N0cmVuZ3RoZW5pbmdVaSBleHRlbmRzIFVJQ29tcG9uZW50IHtcclxuXHJcbiAgICBoZXJvX3R5cGU6SGVyb19UeXBlID0gSGVyb19UeXBlLk5VTEw7XHJcbiAgICBpc19hY3RpdmF0aW9uOmJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlQXRsYXMpXHJcbiAgICBleGNsdXNpdmVfd2VhcG9uc19zdHJlbmd0aGVuaW5nX3VpOmNjLlNwcml0ZUF0bGFzID0gbnVsbDtcclxuXHJcbiAgICBpbml0KHVpQWM6IFVpQWN0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIuaW5pdCh1aUFjKTtcclxuICAgICAgICBsZXQgY2FudmFzID0gY2MuZmluZChcIkNhbnZhc1wiKVxyXG4gICAgICAgIHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcInRvcFwiKS5nZXRDb21wb25lbnQoY2MuV2lkZ2V0KS50YXJnZXQgPSBjYW52YXM7XHJcbiAgICAgICAgdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwiYm90dG9tXCIpLmdldENvbXBvbmVudChjYy5XaWRnZXQpLnRhcmdldCA9IGNhbnZhcztcclxuICAgIH1cclxuXHJcbiAgICBpbml0RGF0YShoZXJvVHlwZTpIZXJvX1R5cGUsaXNBY3RpVmF0aW9uOmJvb2xlYW4gPSBmYWxzZSl7XHJcbiAgICAgICAgdGhpcy5oZXJvX3R5cGUgPSBoZXJvVHlwZTtcclxuICAgICAgICB0aGlzLmlzX2FjdGl2YXRpb24gPSBpc0FjdGlWYXRpb247XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoVWkoKTtcclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoVWkoKXtcclxuICAgICAgICBpZih0aGlzLmlzX2FjdGl2YXRpb24pe1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hBY3RpdmF0aW9uVWkoKVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hTdHJlbmd0aGVuaW5nVWkoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVmcmVzaEFjdGl2YXRpb25VaSgpe1xyXG4gICAgICAgIGxldCB0b3AgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJ0b3BcIik7XHJcbiAgICAgICAgbGV0IGJvdHRvbSA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcImJvdHRvbVwiKTsgICAgICAgIFxyXG4gICAgICAgIGxldCBkYXRhPUhlcm9NYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hlY2tFeGNsdXNpdmUodGhpcy5oZXJvX3R5cGUpO1xyXG4gICAgICAgIC8vIGlmKHdlYXBvbkRhdGEgPT0gbnVsbCl7XHJcbiAgICAgICAgLy8gICAgIHdlYXBvbkRhdGEgPSBFeGNsdXNpdmVFbmhhbmNlbWVudE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKc29uQnlIZXJvVHlwZUFuZFdlYXBvbkxldmVsKHRoaXMuaGVyb190eXBlLGhlcm9EYXRhLmV4Y2x1c2l2ZV9lcXVpcF9sZXZlbCk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIGxldCB3ZWFwb25NZXNzYWdlID0gRXhjbHVzaXZlV2VhcG9uTWVzc2FnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKc29uRXhjbHVzaXZlV2VhcG9uTWVzc2FnZSh0aGlzLmhlcm9fdHlwZSk7XHJcbiAgICAgICAgdG9wLmdldENoaWxkQnlOYW1lKFwibmFtZVwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQod2VhcG9uTWVzc2FnZS5FeGNsdXNpdmVXZWFwb25OYW1lSUQpO1xyXG4gICAgICAgIHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcIkV4Y2x1c2l2ZV9XZWFwb25fMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHRoaXMuZXhjbHVzaXZlX3dlYXBvbnNfc3RyZW5ndGhlbmluZ191aS5nZXRTcHJpdGVGcmFtZShcIkV4Y2x1c2l2ZV9XZWFwb25fXCIrdGhpcy5oZXJvX3R5cGUpO1xyXG4gICAgICAgIGJvdHRvbS5nZXRDaGlsZEJ5TmFtZShcIkV4Y2x1c2l2ZV9TdG9uZV9CZ18xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gdGhpcy5leGNsdXNpdmVfd2VhcG9uc19zdHJlbmd0aGVuaW5nX3VpLmdldFNwcml0ZUZyYW1lKFwiRXhjbHVzaXZlX1N0b25lX0JnX1wiICsgSXRlbU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRRdWFsaXR5KGRhdGEuY29zdF9wcm9wX2lkKSk7XHJcbiAgICAgICAgYm90dG9tLmdldENoaWxkQnlOYW1lKFwiY29zdEljb25cIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlOYW1lKFwiSXRlbV9cIiArIGRhdGEuY29zdF9wcm9wX2lkKTtcclxuICAgICAgICBib3R0b20uZ2V0Q2hpbGRCeU5hbWUoXCJpdGVtTnVtXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gZGF0YS5jdXJfcHJvcF9udW0gKyBcIi9cIiArIGRhdGEuY29zdF9wcm9wX251bTtcclxuXHJcbiAgICAgICAgaWYoIWRhdGEuaXNfY2FuX3VwKXtcclxuICAgICAgICAgICAgYm90dG9tLmdldENoaWxkQnlOYW1lKFwiaXRlbU51bVwiKS5jb2xvciA9IGNjLkNvbG9yLlJFRDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJvdHRvbS5nZXRDaGlsZEJ5TmFtZShcInN0cmVuZ3RoZW5pbmdcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IHVubG9jayA9IGJvdHRvbS5nZXRDaGlsZEJ5TmFtZShcInVubG9ja1wiKVxyXG4gICAgICAgIHVubG9jay5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHVubG9jay5nZXRDaGlsZEJ5TmFtZShcInNpa2xsSWNvblwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHRoaXMuZXhjbHVzaXZlX3dlYXBvbnNfc3RyZW5ndGhlbmluZ191aS5nZXRTcHJpdGVGcmFtZShcIkV4Y2x1c2l2ZV9Ta2lsbF9cIiArIHRoaXMuaGVyb190eXBlKTtcclxuICAgICAgICB1bmxvY2suZ2V0Q2hpbGRCeU5hbWUoXCJza2lsbE5hbWVcIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc2V0VGV4dElkKHdlYXBvbk1lc3NhZ2UuRXhjbHVzaXZlV2VhcG9uU2tpbGxJRCk7XHJcbiAgICAgICAgdW5sb2NrLmdldENoaWxkQnlOYW1lKFwic2tpbGxEZXNcIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc2V0VGV4dElkKHdlYXBvbk1lc3NhZ2UuRXhjbHVzaXZlV2VhcG9uU2tpbGxEZXNjcmlwdGlvbik7XHJcblxyXG4gICAgICAgIGxldCBjb250ZW50ID0gdW5sb2NrLmdldENoaWxkQnlOYW1lKFwic2Nyb2xsXCIpLmdldENvbXBvbmVudChjYy5TY3JvbGxWaWV3KS5jb250ZW50XHJcbiAgICAgICAgbGV0IHRleHQxID0gY29udGVudC5nZXRDaGlsZEJ5TmFtZShcImxldmVsRGVzMVwiKTtcclxuICAgICAgICBsZXQgdGV4dDIgPSBjb250ZW50LmdldENoaWxkQnlOYW1lKFwibGV2ZWxEZXMyXCIpO1xyXG4gICAgICAgIGxldCB0ZXh0MyA9IGNvbnRlbnQuZ2V0Q2hpbGRCeU5hbWUoXCJsZXZlbERlczNcIik7XHJcbiAgICAgICAgdGV4dDEuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBMYW5ndWFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdHJCeVRleHRJZCh3ZWFwb25NZXNzYWdlLkV4Y2x1c2l2ZVdlYXBvblN0cmVuZ3RoZW5JRF8xKTtcclxuICAgICAgICB0ZXh0Mi5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IExhbmd1YWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0ckJ5VGV4dElkKHdlYXBvbk1lc3NhZ2UuRXhjbHVzaXZlV2VhcG9uU3RyZW5ndGhlbklEXzIpO1xyXG4gICAgICAgIHRleHQzLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gTGFuZ3VhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyQnlUZXh0SWQod2VhcG9uTWVzc2FnZS5FeGNsdXNpdmVXZWFwb25TdHJlbmd0aGVuSURfMyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVmcmVzaFN0cmVuZ3RoZW5pbmdVaSgpe1xyXG4gICAgICAgIGxldCB0b3AgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJ0b3BcIik7XHJcbiAgICAgICAgbGV0IGJvdHRvbSA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcImJvdHRvbVwiKTtcclxuICAgICAgICBsZXQgaGVyb0luZm8gPSBIZXJvTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEhlcm9JbmZvKHRoaXMuaGVyb190eXBlKTtcclxuICAgICAgICBib3R0b20uZ2V0Q2hpbGRCeU5hbWUoXCJ1bmxvY2tcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IHN0cmVuZ3RoZW5pbmcgPSBib3R0b20uZ2V0Q2hpbGRCeU5hbWUoXCJzdHJlbmd0aGVuaW5nXCIpXHJcbiAgICAgICAgbGV0IG5vdE92ZXIgPSBzdHJlbmd0aGVuaW5nLmdldENoaWxkQnlOYW1lKFwibm90T3ZlclwiKTtcclxuICAgICAgICBsZXQgb3ZlciA9IHN0cmVuZ3RoZW5pbmcuZ2V0Q2hpbGRCeU5hbWUoXCJvdmVyXCIpO1xyXG4gICAgICAgIGlmKGhlcm9JbmZvLmV4Y2x1c2l2ZV9lcXVpcF9zdGFnZSA+PSAzMCl7XHJcbiAgICAgICAgICAgIEhlcm9NYW5hZ2VyLmdldEluc3RhbmNlKCkuc2V0RXhjbHVzaXZlRXF1aXBMZXZlbCh0aGlzLmhlcm9fdHlwZSwzMCk7XHJcbiAgICAgICAgICAgIHN0cmVuZ3RoZW5pbmcuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihjYy5CdXR0b24pLmludGVyYWN0YWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBzdHJlbmd0aGVuaW5nLmdldENvbXBvbmVudEluQ2hpbGRyZW4oY2MuQnV0dG9uKS5ub2RlLmdldENvbXBvbmVudEluQ2hpbGRyZW4oVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQoMTIwMDEwKTtcclxuICAgICAgICAgICAgc3RyZW5ndGhlbmluZy5nZXRDaGlsZEJ5TmFtZShcIm92ZXJcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgbm90T3Zlci5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgbGV0IHdlYXBvbk5vd0RhdGEgPSBFeGNsdXNpdmVFbmhhbmNlbWVudE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKc29uQnlIZXJvVHlwZUFuZFdlYXBvbkxldmVsKHRoaXMuaGVyb190eXBlLGhlcm9JbmZvLmV4Y2x1c2l2ZV9lcXVpcF9zdGFnZSk7XHJcbiAgICAgICAgICAgIG92ZXIuZ2V0Q2hpbGRCeU5hbWUoXCJjdXIxXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCIrXCIgKyBoZXJvSW5mby5leGNsdXNpdmVfZXF1aXBfc3RhZ2U7XHJcbiAgICAgICAgICAgIG92ZXIuZ2V0Q2hpbGRCeU5hbWUoXCJjdXIyXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCIrXCIgKyBNeVRvb2wubnVtYmVyRm9ybWF0KHdlYXBvbk5vd0RhdGEuSGVhbHRoICogMTAwLDIpICsgXCIlXCI7XHJcbiAgICAgICAgICAgIG92ZXIuZ2V0Q2hpbGRCeU5hbWUoXCJjdXIzXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCIrXCIgKyBNeVRvb2wubnVtYmVyRm9ybWF0KHdlYXBvbk5vd0RhdGEuQXR0YWNrICogMTAwLDIpICsgXCIlXCI7XHJcbiAgICAgICAgICAgIG92ZXIuZ2V0Q2hpbGRCeU5hbWUoXCJjdXI0XCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCIrXCIgKyBNeVRvb2wubnVtYmVyRm9ybWF0KHdlYXBvbk5vd0RhdGEuRGVmZW5zZSAqIDEwMCwyKSArIFwiJVwiO1xyXG4gICAgICAgICAgICBzd2l0Y2god2VhcG9uTm93RGF0YS5BdXhpbGlhcnlBdHRyaWJ1dGVSZWFkaW5nKXtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICBzdHJlbmd0aGVuaW5nLmdldENoaWxkQnlOYW1lKFwibGFiZWw1XCIpLmdldENvbXBvbmVudChUZXh0TGFuZ3VhZ2UpLnNldFRleHRJZCgxMTAwMTkpXHJcbiAgICAgICAgICAgICAgICAgICAgb3Zlci5nZXRDaGlsZEJ5TmFtZShcImN1cjVcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcIitcIiArIHdlYXBvbk5vd0RhdGEuQ3JpdGljYWw7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyZW5ndGhlbmluZy5nZXRDaGlsZEJ5TmFtZShcImxhYmVsNVwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQoMTEwMDE3KVxyXG4gICAgICAgICAgICAgICAgICAgIG92ZXIuZ2V0Q2hpbGRCeU5hbWUoXCJjdXI1XCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCIrXCIgKyB3ZWFwb25Ob3dEYXRhLkhpdDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICBzdHJlbmd0aGVuaW5nLmdldENoaWxkQnlOYW1lKFwibGFiZWw1XCIpLmdldENvbXBvbmVudChUZXh0TGFuZ3VhZ2UpLnNldFRleHRJZCgxMTAwMTgpXHJcbiAgICAgICAgICAgICAgICAgICAgb3Zlci5nZXRDaGlsZEJ5TmFtZShcImN1cjVcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcIitcIiArIE15VG9vbC5udW1iZXJGb3JtYXQod2VhcG9uTm93RGF0YS5NaXNzICogMTAwLDIpICsgXCIlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyZW5ndGhlbmluZy5nZXRDaGlsZEJ5TmFtZShcImxhYmVsNVwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQoMTEwMDIwKVxyXG4gICAgICAgICAgICAgICAgICAgIG92ZXIuZ2V0Q2hpbGRCeU5hbWUoXCJjdXI1XCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCIrXCIgKyBNeVRvb2wubnVtYmVyRm9ybWF0KHdlYXBvbk5vd0RhdGEuRXh0cmFDcml0aWNhbCAqIDEwMCwyKSArIFwiJVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgIHN0cmVuZ3RoZW5pbmcuZ2V0Q2hpbGRCeU5hbWUoXCJsYWJlbDVcIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc2V0VGV4dElkKDExMDAyMSlcclxuICAgICAgICAgICAgICAgICAgICBvdmVyLmdldENoaWxkQnlOYW1lKFwiY3VyNVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwiK1wiICsgTXlUb29sLm51bWJlckZvcm1hdCh3ZWFwb25Ob3dEYXRhLkFudGlDcml0aWNhbCAqIDEwMCwyKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgICAgICBzdHJlbmd0aGVuaW5nLmdldENoaWxkQnlOYW1lKFwibGFiZWw1XCIpLmdldENvbXBvbmVudChUZXh0TGFuZ3VhZ2UpLnNldFRleHRJZCgxMTAwMjIpXHJcbiAgICAgICAgICAgICAgICAgICAgb3Zlci5nZXRDaGlsZEJ5TmFtZShcImN1cjVcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcIitcIiArIE15VG9vbC5udW1iZXJGb3JtYXQod2VhcG9uTm93RGF0YS5BbnRpRXh0cmFDcml0aWNhbCAqIDEwMCwyKSArIFwiJVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJvdHRvbS5nZXRDaGlsZEJ5TmFtZShcIkV4Y2x1c2l2ZV9TdG9uZV9CZ18xXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBib3R0b20uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvblwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgYm90dG9tLmdldENoaWxkQnlOYW1lKFwiRXhjbHVzaXZlX1N0b25lX0JnXzBcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGJvdHRvbS5nZXRDaGlsZEJ5TmFtZShcIml0ZW1OdW1cIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcIkV4Y2x1c2l2ZV9XZWFwb25fMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHRoaXMuZXhjbHVzaXZlX3dlYXBvbnNfc3RyZW5ndGhlbmluZ191aS5nZXRTcHJpdGVGcmFtZShcIkV4Y2x1c2l2ZV9XZWFwb25fXCIrdGhpcy5oZXJvX3R5cGUpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB3ZWFwb25Ob3dEYXRhID0gRXhjbHVzaXZlRW5oYW5jZW1lbnRNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SnNvbkJ5SGVyb1R5cGVBbmRXZWFwb25MZXZlbCh0aGlzLmhlcm9fdHlwZSxoZXJvSW5mby5leGNsdXNpdmVfZXF1aXBfc3RhZ2UpO1xyXG4gICAgICAgIGxldCB3ZWFwb25OZXh0RGF0YSA9IEV4Y2x1c2l2ZUVuaGFuY2VtZW50TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEpzb25CeUhlcm9UeXBlQW5kV2VhcG9uTGV2ZWwodGhpcy5oZXJvX3R5cGUsaGVyb0luZm8uZXhjbHVzaXZlX2VxdWlwX3N0YWdlKzEpO1xyXG4gICAgICAgIGxldCB3ZWFwb25NZXNzYWdlID0gRXhjbHVzaXZlV2VhcG9uTWVzc2FnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKc29uRXhjbHVzaXZlV2VhcG9uTWVzc2FnZSh0aGlzLmhlcm9fdHlwZSk7XHJcblxyXG4gICAgICAgIHRvcC5nZXRDaGlsZEJ5TmFtZShcIm5hbWVcIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc2V0VGV4dElkKHdlYXBvbk1lc3NhZ2UuRXhjbHVzaXZlV2VhcG9uTmFtZUlEKTtcclxuICAgICAgICB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJFeGNsdXNpdmVfV2VhcG9uXzFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSB0aGlzLmV4Y2x1c2l2ZV93ZWFwb25zX3N0cmVuZ3RoZW5pbmdfdWkuZ2V0U3ByaXRlRnJhbWUoXCJFeGNsdXNpdmVfV2VhcG9uX1wiK3RoaXMuaGVyb190eXBlKTtcclxuICAgICAgICBib3R0b20uZ2V0Q2hpbGRCeU5hbWUoXCJFeGNsdXNpdmVfU3RvbmVfQmdfMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHRoaXMuZXhjbHVzaXZlX3dlYXBvbnNfc3RyZW5ndGhlbmluZ191aS5nZXRTcHJpdGVGcmFtZShcIkV4Y2x1c2l2ZV9TdG9uZV9CZ19cIiArIEl0ZW1NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UXVhbGl0eSh3ZWFwb25Ob3dEYXRhLlNwZW5kUHJvcElEKSk7XHJcbiAgICAgICAgYm90dG9tLmdldENoaWxkQnlOYW1lKFwiY29zdEljb25cIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlOYW1lKFwiSXRlbV9cIiArIHdlYXBvbk5vd0RhdGEuU3BlbmRQcm9wSUQpO1xyXG4gICAgICAgIGJvdHRvbS5nZXRDaGlsZEJ5TmFtZShcIml0ZW1OdW1cIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0od2VhcG9uTm93RGF0YS5TcGVuZFByb3BJRCkgKyBcIi9cIiArIHdlYXBvbk5vd0RhdGEuU3BlbmRQcm9wTnVtO1xyXG5cclxuICAgICAgICBzdHJlbmd0aGVuaW5nLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgb3Zlci5hY3RpdmUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgbm90T3Zlci5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIG5vdE92ZXIuZ2V0Q2hpbGRCeU5hbWUoXCJjdXIxXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCIrXCIgKyBoZXJvSW5mby5leGNsdXNpdmVfZXF1aXBfc3RhZ2U7XHJcbiAgICAgICAgbm90T3Zlci5nZXRDaGlsZEJ5TmFtZShcImN1cjJcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcIitcIiArIE15VG9vbC5udW1iZXJGb3JtYXQod2VhcG9uTm93RGF0YS5IZWFsdGggKiAxMDAsMikgKyBcIiVcIjtcclxuICAgICAgICBub3RPdmVyLmdldENoaWxkQnlOYW1lKFwiY3VyM1wiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwiK1wiICsgTXlUb29sLm51bWJlckZvcm1hdCh3ZWFwb25Ob3dEYXRhLkF0dGFjayAqIDEwMCwyKSArIFwiJVwiO1xyXG4gICAgICAgIG5vdE92ZXIuZ2V0Q2hpbGRCeU5hbWUoXCJjdXI0XCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCIrXCIgKyBNeVRvb2wubnVtYmVyRm9ybWF0KHdlYXBvbk5vd0RhdGEuRGVmZW5zZSAqIDEwMCwyKSArIFwiJVwiO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwidHlwZW9mOlwiICsgdHlwZW9mKHdlYXBvbk5vd0RhdGEuQXV4aWxpYXJ5QXR0cmlidXRlUmVhZGluZyksd2VhcG9uTm93RGF0YS5BdXhpbGlhcnlBdHRyaWJ1dGVSZWFkaW5nKTtcclxuICAgICAgICBcclxuICAgICAgICBub3RPdmVyLmdldENoaWxkQnlOYW1lKFwibmV4dDFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcIitcIiArIChoZXJvSW5mby5leGNsdXNpdmVfZXF1aXBfc3RhZ2UgKyAxKTtcclxuICAgICAgICBub3RPdmVyLmdldENoaWxkQnlOYW1lKFwibmV4dDJcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcIitcIiArIE15VG9vbC5udW1iZXJGb3JtYXQod2VhcG9uTmV4dERhdGEuSGVhbHRoICogMTAwLDIpICsgXCIlXCI7XHJcbiAgICAgICAgbm90T3Zlci5nZXRDaGlsZEJ5TmFtZShcIm5leHQzXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCIrXCIgKyBNeVRvb2wubnVtYmVyRm9ybWF0KHdlYXBvbk5leHREYXRhLkF0dGFjayAqIDEwMCwyKSArIFwiJVwiO1xyXG4gICAgICAgIG5vdE92ZXIuZ2V0Q2hpbGRCeU5hbWUoXCJuZXh0NFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwiK1wiICsgTXlUb29sLm51bWJlckZvcm1hdCh3ZWFwb25OZXh0RGF0YS5EZWZlbnNlICogMTAwLDIpICsgXCIlXCI7XHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgc3dpdGNoKHdlYXBvbk5vd0RhdGEuQXV4aWxpYXJ5QXR0cmlidXRlUmVhZGluZyl7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIHN0cmVuZ3RoZW5pbmcuZ2V0Q2hpbGRCeU5hbWUoXCJsYWJlbDVcIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc2V0VGV4dElkKDExMDAxOSlcclxuICAgICAgICAgICAgICAgIG5vdE92ZXIuZ2V0Q2hpbGRCeU5hbWUoXCJjdXI1XCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCIrXCIgKyB3ZWFwb25Ob3dEYXRhLkNyaXRpY2FsO1xyXG4gICAgICAgICAgICAgICAgbm90T3Zlci5nZXRDaGlsZEJ5TmFtZShcIm5leHQ1XCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCIrXCIgKyB3ZWFwb25OZXh0RGF0YS5Dcml0aWNhbDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICBzdHJlbmd0aGVuaW5nLmdldENoaWxkQnlOYW1lKFwibGFiZWw1XCIpLmdldENvbXBvbmVudChUZXh0TGFuZ3VhZ2UpLnNldFRleHRJZCgxMTAwMTcpXHJcbiAgICAgICAgICAgICAgICBub3RPdmVyLmdldENoaWxkQnlOYW1lKFwiY3VyNVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwiK1wiICsgd2VhcG9uTm93RGF0YS5IaXQ7XHJcbiAgICAgICAgICAgICAgICBub3RPdmVyLmdldENoaWxkQnlOYW1lKFwibmV4dDVcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcIitcIiArIHdlYXBvbk5leHREYXRhLkhpdDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICBzdHJlbmd0aGVuaW5nLmdldENoaWxkQnlOYW1lKFwibGFiZWw1XCIpLmdldENvbXBvbmVudChUZXh0TGFuZ3VhZ2UpLnNldFRleHRJZCgxMTAwMTgpXHJcbiAgICAgICAgICAgICAgICBub3RPdmVyLmdldENoaWxkQnlOYW1lKFwiY3VyNVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwiK1wiICsgTXlUb29sLm51bWJlckZvcm1hdCh3ZWFwb25Ob3dEYXRhLk1pc3MgKiAxMDAsMikgKyBcIiVcIjtcclxuICAgICAgICAgICAgICAgIG5vdE92ZXIuZ2V0Q2hpbGRCeU5hbWUoXCJuZXh0NVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwiK1wiICsgTXlUb29sLm51bWJlckZvcm1hdCh3ZWFwb25OZXh0RGF0YS5NaXNzICogMTAwLDIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgIHN0cmVuZ3RoZW5pbmcuZ2V0Q2hpbGRCeU5hbWUoXCJsYWJlbDVcIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc2V0VGV4dElkKDExMDAyMClcclxuICAgICAgICAgICAgICAgIG5vdE92ZXIuZ2V0Q2hpbGRCeU5hbWUoXCJjdXI1XCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCIrXCIgKyBNeVRvb2wubnVtYmVyRm9ybWF0KHdlYXBvbk5vd0RhdGEuRXh0cmFDcml0aWNhbCAqIDEwMCwyKSArIFwiJVwiO1xyXG4gICAgICAgICAgICAgICAgbm90T3Zlci5nZXRDaGlsZEJ5TmFtZShcIm5leHQ1XCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCIrXCIgKyBNeVRvb2wubnVtYmVyRm9ybWF0KHdlYXBvbk5leHREYXRhLkV4dHJhQ3JpdGljYWwgKiAxMDAsMik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgc3RyZW5ndGhlbmluZy5nZXRDaGlsZEJ5TmFtZShcImxhYmVsNVwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQoMTEwMDIxKVxyXG4gICAgICAgICAgICAgICAgbm90T3Zlci5nZXRDaGlsZEJ5TmFtZShcImN1cjVcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcIitcIiArIE15VG9vbC5udW1iZXJGb3JtYXQod2VhcG9uTm93RGF0YS5BbnRpQ3JpdGljYWwgKiAxMDAsMik7XHJcbiAgICAgICAgICAgICAgICBub3RPdmVyLmdldENoaWxkQnlOYW1lKFwibmV4dDVcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcIitcIiArIE15VG9vbC5udW1iZXJGb3JtYXQod2VhcG9uTmV4dERhdGEuQW50aUNyaXRpY2FsICogMTAwLDIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgIHN0cmVuZ3RoZW5pbmcuZ2V0Q2hpbGRCeU5hbWUoXCJsYWJlbDVcIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc2V0VGV4dElkKDExMDAyMilcclxuICAgICAgICAgICAgICAgIG5vdE92ZXIuZ2V0Q2hpbGRCeU5hbWUoXCJjdXI1XCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCIrXCIgKyBNeVRvb2wubnVtYmVyRm9ybWF0KHdlYXBvbk5vd0RhdGEuQW50aUV4dHJhQ3JpdGljYWwgKiAxMDAsMikgKyBcIiVcIjtcclxuICAgICAgICAgICAgICAgIG5vdE92ZXIuZ2V0Q2hpbGRCeU5hbWUoXCJuZXh0NVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwiK1wiICsgTXlUb29sLm51bWJlckZvcm1hdCh3ZWFwb25OZXh0RGF0YS5BbnRpRXh0cmFDcml0aWNhbCAqIDEwMCwyKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoaGVyb0luZm8uZXhjbHVzaXZlX2VxdWlwX3N0YWdlIDwgMTApe1xyXG4gICAgICAgICAgICBzdHJlbmd0aGVuaW5nLmdldENoaWxkQnlOYW1lKFwiZGVzTGFiZWwxXCIpLmdldENvbXBvbmVudChUZXh0TGFuZ3VhZ2UpLnNldFJlcGxhY2VWYWx1ZShcIn5cIixcIjEwXCIpXHJcbiAgICAgICAgICAgIHN0cmVuZ3RoZW5pbmcuZ2V0Q2hpbGRCeU5hbWUoXCJkZXNMYWJlbDJcIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc2V0VGV4dElkKHdlYXBvbk1lc3NhZ2UuRXhjbHVzaXZlV2VhcG9uU3RyZW5ndGhlbklEXzEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKGhlcm9JbmZvLmV4Y2x1c2l2ZV9lcXVpcF9zdGFnZSA8IDIwKXtcclxuICAgICAgICAgICAgc3RyZW5ndGhlbmluZy5nZXRDaGlsZEJ5TmFtZShcImRlc0xhYmVsMVwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zZXRSZXBsYWNlVmFsdWUoXCJ+XCIsXCIyMFwiKVxyXG4gICAgICAgICAgICBzdHJlbmd0aGVuaW5nLmdldENoaWxkQnlOYW1lKFwiZGVzTGFiZWwyXCIpLmdldENvbXBvbmVudChUZXh0TGFuZ3VhZ2UpLnNldFRleHRJZCh3ZWFwb25NZXNzYWdlLkV4Y2x1c2l2ZVdlYXBvblN0cmVuZ3RoZW5JRF8yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZihoZXJvSW5mby5leGNsdXNpdmVfZXF1aXBfc3RhZ2UgPCAzMCl7XHJcbiAgICAgICAgICAgIHN0cmVuZ3RoZW5pbmcuZ2V0Q2hpbGRCeU5hbWUoXCJkZXNMYWJlbDFcIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc2V0UmVwbGFjZVZhbHVlKFwiflwiLFwiMzBcIilcclxuICAgICAgICAgICAgc3RyZW5ndGhlbmluZy5nZXRDaGlsZEJ5TmFtZShcImRlc0xhYmVsMlwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQod2VhcG9uTWVzc2FnZS5FeGNsdXNpdmVXZWFwb25TdHJlbmd0aGVuSURfMyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHN0cmVuZ3RoZW5pbmcuZ2V0Q2hpbGRCeU5hbWUoXCJkZXNMYWJlbDJcIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc2V0VGV4dElkKHdlYXBvbk1lc3NhZ2UuRXhjbHVzaXZlV2VhcG9uU3RyZW5ndGhlbklEXzMpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIG9uQ2xpY2tBY3RpdmF0aW9uQnRuKCl7XHJcbiAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zb3VuZF9tYW5hZ2VyLnBsYXlTb3VuZChTb3VuZEluZGV4LmNsaWNrKTtcclxuICAgICAgICBIZXJvTWFuYWdlci5nZXRJbnN0YW5jZSgpLmFkZEV4Y2x1c2l2ZUVxdWlwTGV2ZWwodGhpcy5oZXJvX3R5cGUpO1xyXG4gICAgICAgIHRoaXMuaXNfYWN0aXZhdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgIC8vIGNjLnN5cy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIkV4Y2x1c2l2ZVdlYXBvbkxldmVsX1wiICsgdGhpcy5oZXJvX3R5cGUsMCk7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoVWkoKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkNsaWNrU3RyZW5ndGhlbmluZ0J0bigpe1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwi54K55Ye75ZON5bqUXCIpXHJcbiAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zb3VuZF9tYW5hZ2VyLnBsYXlTb3VuZChTb3VuZEluZGV4LmNsaWNrKTtcclxuICAgICAgICBsZXQgZGF0YT1IZXJvTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoZWNrRXhjbHVzaXZlKHRoaXMuaGVyb190eXBlKTtcclxuICAgICAgICBpZihkYXRhLmlzX2Nhbl91cCl7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwi5by65YyW5oiQ5YqfXCIpXHJcbiAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShkYXRhLmNvc3RfcHJvcF9pZCwtZGF0YS5jb3N0X3Byb3BfbnVtKTtcclxuICAgICAgICAgICAgSGVyb01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5hZGRFeGNsdXNpdmVFcXVpcExldmVsKHRoaXMuaGVyb190eXBlKTtcclxuICAgICAgICAgICAgLy8gY2Muc3lzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiRXhjbHVzaXZlV2VhcG9uTGV2ZWxfXCIgKyB0aGlzLmhlcm9fdHlwZSxIZXJvTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEhlcm9EYXRhKHRoaXMuaGVyb190eXBlKS5leGNsdXNpdmVfZXF1aXBfbGV2ZWwpO1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hVaSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkNsaWNrQnRuQ2xvc2UoKVxyXG4gICAge1xyXG4gICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc291bmRfbWFuYWdlci5wbGF5U291bmQoU291bmRJbmRleC5jbGljayk7XHJcbiAgICAgICAgdGhpcy5kZXN0cm95U2VsZigpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3lTZWxmKClcclxuICAgIHtcclxuICAgICAgICBzdXBlci5vbkNsb3NlKCk7XHJcbiAgICAgICAgQXBrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNsb3NlQmFubmVyKCk7XHJcbiAgICB9XHJcblxyXG5cclxufVxyXG4iXX0=