
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/Store/StoreUi.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2c3a3IWd75Pb7xy3nheaKWn', 'StoreUi');
// Scripts/Store/StoreUi.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var WXManagerEX_1 = require("../../startscene/WXManagerEX");
var HttpManager_1 = require(".././NetWork/HttpManager");
var CumulativeRecharges_1 = require("../AccumulatedRecharge/CumulativeRecharges");
var ApkManager_1 = require("../Ads/ApkManager");
var CoinPop_1 = require("../CoinPop");
var Constants_1 = require("../Constants");
var EquipItem_1 = require("../Equipment/Ui/EquipItem");
var GameData_1 = require("../GameData");
var GameManager_1 = require("../GameManager");
var HeroManager_1 = require("../Hero/Data/HeroManager");
var HeroConfig_1 = require("../Hero/Game/HeroConfig");
var FunctionDefinition_1 = require("../JsonData/FunctionDefinition");
var LevelJsonData_1 = require("../JsonData/LevelJsonData");
var LevelManager_1 = require("../Level/LevelManager");
var MissionLevel_1 = require("../Level/MissionLevel");
var FollowConstants_1 = require("../multiLanguage/FollowConstants");
var FollowManager_1 = require("../multiLanguage/FollowManager");
var LanguageConstants_1 = require("../multiLanguage/LanguageConstants");
var LanguageManager_1 = require("../multiLanguage/LanguageManager");
var TextLanguage_1 = require("../multiLanguage/TextLanguage");
var PayManager_1 = require("../Payment/PayManager");
var Item_1 = require("../Prop/Data/Item");
var Prop_1 = require("../Prop/Prop");
var PropConfig_1 = require("../Prop/PropConfig");
var PropManager_1 = require("../Prop/PropManager");
var StorageConfig_1 = require("../Storage/StorageConfig");
var StorageManager_1 = require("../Storage/StorageManager");
var TaskEnum_1 = require("../Task/TaskEnum");
var TaskManager_1 = require("../Task/TaskManager");
var EventManager_1 = require("../Tools/EventManager");
var MyTool_1 = require("../Tools/MyTool");
var TutorailsManager_1 = require("../Tutorials/TutorailsManager");
var MainUi_1 = require("../UI/home/MainUi");
var UIConfig_1 = require("../UI/UIConfig");
var UIManager_1 = require("../UI/UIManager");
var UserData_1 = require("../UserData");
var UserInfo_1 = require("../UserInfo/UserInfo");
var CommodityInformation_1 = require("./CommodityInformation");
var DailyShop_1 = require("./DailyShop");
var DiamondsRecharge_1 = require("./DiamondsRecharge");
var DrawCardInformation_1 = require("./DrawCardInformation");
var ProbabilityTipUi_1 = require("./ProbabilityTipUi");
var PurchaseCoins_1 = require("./PurchaseCoins");
var StoreHeroUi_1 = require("./StoreHeroUi");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var StoreUi = /** @class */ (function (_super) {
    __extends(StoreUi, _super);
    function StoreUi() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.store_title = null;
        _this.store_chapter_item = null;
        _this.store_hero_item = null;
        _this.store_daily_item = null;
        _this.store_pet_item = null;
        _this.store_equip_item = null;
        _this.store_gem_item = null;
        _this.store_coin_item = null;
        _this.store_ui = null;
        // 私有数据
        _this.hero_instance = null;
        _this.weapon_instance = null;
        _this.pet_instance = null;
        return _this;
    }
    StoreUi.prototype.onLoad = function () {
        this.node.on(cc.Node.EventType.POSITION_CHANGED, this.onPositionChange, this);
        cc.director.on(LanguageConstants_1.OnLanguageChange, this.initStore, this);
        if (WXManagerEX_1.default.getInstance().statusBarHeight > 20) {
            this.node.getComponent(cc.Widget).top = 150;
        }
        this.initStore();
    };
    StoreUi.prototype.onDestroy = function () {
        this.node.off(cc.Node.EventType.POSITION_CHANGED, this.onPositionChange, this);
        cc.director.off(LanguageConstants_1.OnLanguageChange, this.initStore, this);
        cc.director.off("onRefreshInstanceItem");
    };
    StoreUi.prototype.onPositionChange = function () {
        if (this.node.x == 0) {
            this.onEnable();
        }
    };
    StoreUi.prototype.onEnable = function () {
        FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.商城商城页点击次数);
        //this.refreshStore();
        //this.checkTutorails();
    };
    StoreUi.prototype.checkTutorails = function () {
        if (TutorailsManager_1.default.getInstance().is_tutorails_state && TutorailsManager_1.default.getInstance().isShowTutorials(222) && LevelManager_1.LevelManager.getInstance().finish_level >= 3) {
            TutorailsManager_1.default.getInstance().is_tutorails_state = true;
            this.scheduleOnce(function () {
                var store_ui = cc.find('Canvas/store_ui/scroll');
                var content = store_ui.getComponent(cc.ScrollView).content;
                var btn1 = content.getChildByName('heroRoot').getChildByName('heroItem').getChildByName('btn1');
                var wordPos = btn1.parent.convertToWorldSpaceAR(btn1.getPosition());
                var localPos = cc.find('Canvas/Ui_Root').convertToNodeSpaceAR(wordPos);
                localPos.x -= cc.find('Canvas/store_ui').x;
                TutorailsManager_1.default.getInstance().showTutorials(222, null, function () {
                    if (PropManager_1.PropManager.getInstance().changePropNum(40004, -1)) {
                        if (HeroManager_1.HeroManager.getInstance().getHeroInfo(HeroConfig_1.Hero_Type.DeLuYi) == null) {
                            var rewardList_1 = new Array();
                            var rd = new LevelJsonData_1.RewardHeroData();
                            rd.dropId = 110004;
                            rd.dropNum = 1;
                            rewardList_1.push(rd);
                            HeroManager_1.HeroManager.getInstance().addHero(HeroConfig_1.Hero_Type.DeLuYi);
                            HeroManager_1.HeroManager.getInstance().reportHeroList();
                            var teamList = HeroManager_1.HeroManager.getInstance().getTeamList(Constants_1.GameMode.Main);
                            teamList[1] = HeroConfig_1.Hero_Type.DeLuYi;
                            HeroManager_1.HeroManager.getInstance().saveTeamList(Constants_1.GameMode.Main, teamList);
                            TutorailsManager_1.default.getInstance().saveTutorials(222);
                            TutorailsManager_1.default.getInstance().saveTutorials(223);
                            UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.StoreHeroUi, UIConfig_1.UILayerLevel.One, {
                                onCompleted: function (uiNode) {
                                    uiNode.getComponent(StoreHeroUi_1.default).init({
                                        onClose: function () {
                                            //直接进入游戏
                                            cc.find('Canvas/main_ui').getComponent(MainUi_1.default).startGame();
                                        }
                                    });
                                    uiNode.getComponent(StoreHeroUi_1.default).initData(rewardList_1);
                                },
                            });
                        }
                    }
                }, false, null, localPos);
            }, 0.1);
        }
    };
    StoreUi.prototype.initStore = function () {
        var _this = this;
        var content = this.node.getChildByName("scroll").getComponent(cc.ScrollView).content;
        content.removeAllChildren();
        cc.director.off("onRefreshInstanceItem");
        cc.director.on("onRefreshInstanceItem", this.onRefreshInstanceItem, this);
        // 章节礼包
        //#region 
        var title = cc.instantiate(this.store_title);
        title.getComponentInChildren(TextLanguage_1.default).setTextId(1430001);
        title.name = "chapterTitle";
        content.addChild(title);
        var chapterRoot = new cc.Node();
        chapterRoot.name = 'chapterRoot';
        chapterRoot.height = this.store_chapter_item.data.height;
        chapterRoot.width = (this.store_chapter_item.data.width + 20) * 3;
        var chapterRight = new cc.Node();
        var chapterLeft = new cc.Node();
        chapterRight.addComponent(cc.Sprite).spriteFrame = this.store_ui.getSpriteFrame("Shop_Arrow");
        chapterLeft.addComponent(cc.Sprite).spriteFrame = this.store_ui.getSpriteFrame("Shop_Arrow");
        chapterLeft.scaleX = -1;
        chapterRoot.addChild(chapterRight);
        chapterRoot.addChild(chapterLeft);
        chapterRight.x = 345;
        chapterLeft.x = -345;
        chapterLeft.active = false;
        // let chapterData = ChapterPackManager.getInstance().getJsonData();
        // chapterData.forEach((v, k) => {
        //     if (TheStorageManager.getInstance().getString(StorageKey.StoreChapterItem + v.Chapter, '') == '' && (LevelManager.getInstance().getFinishChapter()) >= v.Chapter) {
        //         let item = cc.instantiate(this.store_chapter_item);
        //         item.name = "chapterItem" + v.Chapter;
        //         if (v.Chapter == 1) {
        //             item.getChildByName("title").getComponent(TextLanguage).setTextId(1430002);
        //         } else {
        //             item.getChildByName("title").getComponent(TextLanguage).setTextId(1430003);
        //             item.getChildByName("title").getComponent(TextLanguage).setReplaceValue('~', v.Chapter + '');
        //         }
        //         let payInfo = PayManager.getInstance().getPayInfo(v.ProductId);
        //         item.getChildByName("originPrice").getComponent(cc.Label).string = payInfo.currency + (MyTool.getNumberFromString(payInfo.price) * v.InitialPrice);
        //         item.getChildByName("payBtn").getComponentInChildren(cc.Label).string = payInfo.price;
        //         let propRoot = item.getChildByName("itemRoot");
        //         if (v.GetCoinNum != 0) {
        //             let reward = PropManager.getInstance().createPropItem(PropId.Coin, v.GetCoinNum);
        //             reward.scale = 0.75;
        //             propRoot.addChild(reward);
        //         }
        //         if (v.GetGemNum != 0) {
        //             let reward = PropManager.getInstance().createPropItem(PropId.Gem, v.GetGemNum);
        //             reward.scale = 0.75;
        //             propRoot.addChild(reward);
        //         }
        //         if (v.ItemId_1 != 0) {
        //             let reward = PropManager.getInstance().createPropItem(v.ItemId_1, v.ItemNum_1);
        //             reward.scale = 0.75;
        //             propRoot.addChild(reward);
        //         }
        //         if (v.ItemId_2 != 0) {
        //             let reward = PropManager.getInstance().createPropItem(v.ItemId_2, v.ItemNum_2);
        //             reward.scale = 0.75;
        //             propRoot.addChild(reward);
        //         }
        //         chapterRoot.addChild(item);
        //         if (chapterRoot.childrenCount == 3) {
        //             chapterRoot.children[2].x = 0;
        //         } else {
        //             chapterRoot.children[chapterRoot.childrenCount - 1].x = 2 * chapterRoot.children[chapterRoot.childrenCount - 1].width;
        //         }
        //         let btn = item.getChildByName("payBtn");
        //         btn.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        //         btn.getComponent(cc.Button).duration = 0.1;
        //         btn.getComponent(cc.Button).zoomScale = 0.9;
        //         btn.on(cc.Node.EventType.TOUCH_END, () => {
        //             ApkManager.getInstance().showPay({
        //                 result: (isDy) => {
        //                     if (isDy) {
        //                         FollowManager.getInstance().followEvent(Follow_Type.商城章节礼包x章点击购买次数 + v.Chapter);
        //                         let rewardList = [];
        //                         if (v.GetCoinNum != 0) {
        //                             PropManager.getInstance().changePropNum(PropId.Coin, v.GetCoinNum)
        //                             let reward = PropManager.getInstance().createPropItem(PropId.Coin, v.GetCoinNum);
        //                             rewardList.push(reward);
        //                         }
        //                         if (v.GetGemNum != 0) {
        //                             PropManager.getInstance().changePropNum(PropId.Gem, v.GetGemNum)
        //                             let reward = PropManager.getInstance().createPropItem(PropId.Gem, v.GetGemNum);
        //                             rewardList.push(reward);
        //                         }
        //                         if (v.ItemId_1 != 0) {
        //                             PropManager.getInstance().changePropNum(v.ItemId_1, v.ItemNum_1)
        //                             let reward = PropManager.getInstance().createPropItem(v.ItemId_1, v.ItemNum_1);
        //                             rewardList.push(reward);
        //                         }
        //                         if (v.ItemId_2 != 0) {
        //                             PropManager.getInstance().changePropNum(v.ItemId_2, v.ItemNum_2)
        //                             let reward = PropManager.getInstance().createPropItem(v.ItemId_2, v.ItemNum_2);
        //                             rewardList.push(reward);
        //                         }
        //                         GameManager.getInstance().showMultipleGetTip(rewardList);
        //                         TheStorageManager.getInstance().setItem(StorageKey.StoreChapterItem + v.Chapter, '1')
        //                         chapterRoot.removeChild(item);
        //                         if (chapterRoot.childrenCount == 2) {
        //                             content.getChildByName("chapterTitle").active = false;
        //                             chapterLeft.active = false;
        //                             chapterRight.active = false;
        //                             chapterRoot.active = false;
        //                         } else if (chapterRoot.childrenCount <= 3) {
        //                             chapterLeft.active = false;
        //                             chapterRight.active = false;
        //                             cc.tween(chapterRoot.children[2]).to(0.2, { position: cc.v3(0, 0, 0) }).start().call(() => {
        //                             });
        //                         } else {
        //                             cc.tween(chapterRoot.children[2]).to(0.2, { position: cc.v3(0, 0, 0) }).start().call(() => {
        //                             });
        //                         }
        //                     }
        //                 }
        //             }, v.ProductId)
        //         });
        //     }
        // });
        chapterLeft.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        chapterLeft.getComponent(cc.Button).duration = 0.1;
        chapterLeft.getComponent(cc.Button).zoomScale = 0.9;
        chapterRight.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        chapterRight.getComponent(cc.Button).duration = 0.1;
        chapterRight.getComponent(cc.Button).zoomScale = 0.9;
        var index = 2;
        chapterRight.on(cc.Node.EventType.TOUCH_END, function () {
            index++;
            if (index >= chapterRoot.childrenCount - 1) {
                index = chapterRoot.childrenCount - 1;
                chapterRight.active = false;
            }
            if (index > 2)
                chapterLeft.active = true;
            cc.tween(chapterRoot.children[index]).to(0.2, { position: cc.v3(0, 0, 0) }).start().call(function () {
            });
            cc.tween(chapterRoot.children[index - 1]).to(0.2, { position: cc.v3(-800, 0, 0) }).start().call(function () {
            });
        });
        chapterLeft.on(cc.Node.EventType.TOUCH_END, function () {
            index--;
            if (index <= 2) {
                index = 2;
                chapterLeft.active = false;
            }
            if (index < chapterRoot.childrenCount - 1)
                chapterRight.active = true;
            cc.tween(chapterRoot.children[index]).to(0.2, { position: cc.v3(0, 0, 0) }).start().call(function () {
            });
            cc.tween(chapterRoot.children[index + 1]).to(0.2, { position: cc.v3(800, 0, 0) }).start().call(function () {
            });
        });
        if (chapterRoot.childrenCount <= 3) {
            chapterLeft.active = false;
            chapterRight.active = false;
        }
        if (chapterRoot.childrenCount == 2) {
            content.getChildByName("chapterTitle").active = false;
            chapterRoot.active = false;
        }
        else {
            content.getChildByName("chapterTitle").active = true;
            chapterRoot.active = true;
        }
        content.addChild(chapterRoot);
        //#endregion
        // 英雄招募
        title = cc.instantiate(this.store_title);
        title.getComponentInChildren(TextLanguage_1.default).setTextId(1460011);
        title.name = "mysteryTitle";
        content.addChild(title);
        var heroRoot = new cc.Node();
        heroRoot.name = 'heroRoot';
        heroRoot.height = this.store_hero_item.data.height;
        heroRoot.width = (this.store_hero_item.data.width + 20) * 3;
        var heroItem = cc.instantiate(this.store_hero_item);
        this.hero_instance = heroItem;
        heroItem.name = "heroItem";
        heroItem.getChildByName("richBg").getComponentInChildren(cc.RichText).string = LanguageManager_1.default.getInstance().getStrByTextId(1460002);
        heroItem.getChildByName("IconNum").getComponent(cc.Label).string = "X" + PropManager_1.PropManager.getInstance().getPropNum(40004);
        var prizeHeroData = DrawCardInformation_1.DrawCardInformationManager.getInstance().getJsonDrawCardInformation(1001);
        if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.OneDrawPropsSpend_1) {
            heroItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_1);
            heroItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeHeroData.OneDrawPropsSpend_1;
        }
        else {
            heroItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_2);
            heroItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeHeroData.OneDrawPropsSpend_2;
        }
        if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.TenDrawPropsSpend_1) {
            heroItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_1);
            heroItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeHeroData.TenDrawPropsSpend_1;
        }
        else {
            heroItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_2);
            heroItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeHeroData.TenDrawPropsSpend_2;
        }
        var heroTip = heroItem.getChildByName("name").getChildByName("tip");
        heroTip.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        heroTip.getComponent(cc.Button).duration = 0.1;
        heroTip.getComponent(cc.Button).zoomScale = 0.9;
        heroTip.on(cc.Node.EventType.TOUCH_END, function () {
            UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.ProbabilityTipUi, UIConfig_1.UILayerLevel.One, {
                onCompleted: function (uiNode) {
                    uiNode.getComponent(ProbabilityTipUi_1.default).init(null);
                    uiNode.getComponent(ProbabilityTipUi_1.default).initUi();
                },
            });
        });
        var heroBtn1 = heroItem.getChildByName("btn1");
        var heroBtn10 = heroItem.getChildByName("btn10");
        heroBtn10.getChildByName('red').active = GameData_1.default.getInstance().getHeroRecruitingRedTip();
        heroBtn1.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        heroBtn1.getComponent(cc.Button).duration = 0.1;
        heroBtn1.getComponent(cc.Button).zoomScale = 0.9;
        heroBtn10.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        heroBtn10.getComponent(cc.Button).duration = 0.1;
        heroBtn10.getComponent(cc.Button).zoomScale = 0.9;
        heroBtn1.on(cc.Node.EventType.TOUCH_END, function () {
            var costId = 0;
            var costNum = 0;
            if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.OneDrawPropsSpend_1) {
                costId = prizeHeroData.OneDrawPropsID_1;
                costNum = prizeHeroData.OneDrawPropsSpend_1;
                // 以下为后端未存消费券的处理，当后端存储消费券时，使用上面两行代码
                // PropManager.getInstance().changePropNum(prizeHeroData.OneDrawPropsID_1,-prizeHeroData.OneDrawPropsSpend_1);
                // costId = prizeHeroData.OneDrawPropsID_2;
                // costNum = 0;
                FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.记录招募消耗招募卷数量, prizeHeroData.OneDrawPropsSpend_1);
            }
            else {
                costId = prizeHeroData.OneDrawPropsID_2;
                costNum = prizeHeroData.OneDrawPropsSpend_2;
                FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.记录招募卷消耗钻石数量, costNum);
            }
            // if(PropManager.getInstance().getPropNum(costId) < costNum){
            //     UIManager.getInstance().showUiDialog(UIPath.CoinPop,UILayerLevel.Two,{onCompleted:(uiNode)=> {
            //         uiNode.getComponent(CoinPop).initUi(PropId.Gem)
            //     },});
            //     return;
            // }
            if (PropManager_1.PropManager.getInstance().getPropNum(costId) < costNum) {
                GameManager_1.default.getInstance().showMessage(LanguageManager_1.default.getInstance().getStrByTextId(100041));
                _this.node.getChildByName("scroll").getComponent(cc.ScrollView).scrollToBottom(2);
                return;
            }
            // if(IsDebug) costNum = 0;
            HttpManager_1.HttpManager.post(HttpManager_1.AccessName.tryPrize, _this.getPrizeJsonString(1, 1, costId, costNum), true).then(function (data) {
                if (data) {
                    PropManager_1.PropManager.getInstance().changePropNum(costId, -costNum);
                    GameManager_1.default.getInstance().refreshGemShow();
                    FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.记录单次招募的次数);
                    TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行1次英雄招募);
                    TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行10次英雄招募);
                    TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.招募X次英雄);
                    PropManager_1.PropManager.getInstance().changePropNum(data[0].dropId, data[0].dropNum);
                    HeroManager_1.HeroManager.getInstance().reportHeroList();
                    var type = Item_1.ItemManager.getInstance().getType(data[0].dropId);
                    if (type == 11) {
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.累计招募X个英雄);
                    }
                    PropManager_1.PropManager.getInstance().saveAllPropNum();
                    UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.StoreHeroUi, UIConfig_1.UILayerLevel.One, {
                        onCompleted: function (uiNode) {
                            uiNode.getComponent(StoreHeroUi_1.default).init(null);
                            uiNode.getComponent(StoreHeroUi_1.default).initData(data);
                        },
                    });
                    if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.OneDrawPropsSpend_1) {
                        heroItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_1);
                        heroItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeHeroData.OneDrawPropsSpend_1;
                    }
                    else {
                        heroItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_2);
                        heroItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeHeroData.OneDrawPropsSpend_2;
                    }
                    if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.TenDrawPropsSpend_1) {
                        heroItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_1);
                        heroItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeHeroData.TenDrawPropsSpend_1;
                    }
                    else {
                        heroItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_2);
                        heroItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeHeroData.TenDrawPropsSpend_2;
                    }
                }
            });
        });
        heroBtn10.on(cc.Node.EventType.TOUCH_END, function () {
            var costId = 0;
            var costNum = 0;
            if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.TenDrawPropsSpend_1) {
                costId = prizeHeroData.OneDrawPropsID_1;
                costNum = prizeHeroData.TenDrawPropsSpend_1;
                // 以下为后端未存消费券的处理，当后端存储消费券时，使用上面两行代码
                // PropManager.getInstance().changePropNum(prizeHeroData.OneDrawPropsID_1,-prizeHeroData.TenDrawPropsSpend_1);
                // costId = prizeHeroData.OneDrawPropsID_2;
                // costNum = 0;
                FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.记录招募消耗招募卷数量, prizeHeroData.TenDrawPropsSpend_1);
            }
            else {
                costId = prizeHeroData.OneDrawPropsID_2;
                costNum = prizeHeroData.TenDrawPropsSpend_2;
                FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.记录招募卷消耗钻石数量, costNum);
            }
            // if(PropManager.getInstance().getPropNum(costId) < costNum){
            //     UIManager.getInstance().showUiDialog(UIPath.CoinPop,UILayerLevel.Two,{onCompleted:(uiNode)=> {
            //         uiNode.getComponent(CoinPop).initUi(PropId.Gem)
            //     },});
            //     return;
            // }
            if (PropManager_1.PropManager.getInstance().getPropNum(costId) < costNum) {
                GameManager_1.default.getInstance().showMessage(LanguageManager_1.default.getInstance().getStrByTextId(100041));
                _this.node.getChildByName("scroll").getComponent(cc.ScrollView).scrollToBottom(2);
                return;
            }
            // if(IsDebug) costNum = 0;   
            HttpManager_1.HttpManager.post(HttpManager_1.AccessName.tryPrize, _this.getPrizeJsonString(2, 1, costId, costNum), true).then(function (data) {
                if (data) {
                    PropManager_1.PropManager.getInstance().changePropNum(costId, -costNum);
                    GameManager_1.default.getInstance().refreshGemShow();
                    FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.记录十次招募的次数);
                    var length = data.length;
                    for (var i = 0; i < length; i++) {
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行1次英雄招募);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行10次英雄招募);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.招募X次英雄);
                        PropManager_1.PropManager.getInstance().changePropNum(data[i].dropId, data[i].dropNum);
                        var type = Item_1.ItemManager.getInstance().getType(data[i].dropId);
                        if (type == 11) {
                            TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.累计招募X个英雄);
                        }
                    }
                    HeroManager_1.HeroManager.getInstance().reportHeroList();
                    var tempIndex = MyTool_1.default.randomRangeInt(0, 9);
                    var temp = data[9];
                    data[9] = data[tempIndex];
                    data[tempIndex] = temp;
                    PropManager_1.PropManager.getInstance().saveAllPropNum();
                    UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.StoreHeroUi, UIConfig_1.UILayerLevel.One, {
                        onCompleted: function (uiNode) {
                            uiNode.getComponent(StoreHeroUi_1.default).init(null);
                            uiNode.getComponent(StoreHeroUi_1.default).initData(data);
                        },
                    });
                    if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.OneDrawPropsSpend_1) {
                        heroItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_1);
                        heroItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeHeroData.OneDrawPropsSpend_1;
                    }
                    else {
                        heroItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_2);
                        heroItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeHeroData.OneDrawPropsSpend_2;
                    }
                    if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.TenDrawPropsSpend_1) {
                        heroItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_1);
                        heroItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeHeroData.TenDrawPropsSpend_1;
                    }
                    else {
                        heroItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_2);
                        heroItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeHeroData.TenDrawPropsSpend_2;
                    }
                    heroBtn10.getChildByName('red').active = GameData_1.default.getInstance().getHeroRecruitingRedTip();
                    EventManager_1.EventManager.postRedEvent(EventManager_1.RedEventString.RED_CHECK, EventManager_1.RedEventType.Btn_Shop);
                }
            });
        });
        heroRoot.addChild(heroItem);
        content.addChild(heroRoot);
        // 每日商店
        //#region 
        title = cc.instantiate(this.store_title);
        title.getComponentInChildren(TextLanguage_1.default).setTextId(1480001);
        title.name = "dailyStoreTitle";
        content.addChild(title);
        var timeLabel = new cc.Node().addComponent(TextLanguage_1.default);
        timeLabel.node.color = cc.color(255, 242, 206);
        timeLabel.node.anchorX = 1;
        timeLabel.verticalAlign = cc.Label.VerticalAlign.CENTER;
        timeLabel.horizontalAlign = cc.Label.HorizontalAlign.RIGHT;
        timeLabel.enableBold = true;
        timeLabel.fontSize = 24;
        timeLabel.setTextId(100045);
        var timeNum = new cc.Node().addComponent(cc.Label);
        timeNum.node.color = cc.color(79, 255, 70);
        timeNum.node.anchorX = 0;
        timeNum.verticalAlign = cc.Label.VerticalAlign.CENTER;
        timeNum.horizontalAlign = cc.Label.HorizontalAlign.LEFT;
        timeNum.enableBold = true;
        timeNum.fontSize = 24;
        var nowTime = Date.now() / 1000;
        var residueTime = StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.TomorowZeroTimeStamp, 0) - nowTime;
        if (residueTime < 0) {
            residueTime = ((new Date(new Date().toLocaleDateString()).getTime() + 8640000) / 1000) - nowTime;
        }
        var hh = Math.floor(residueTime / (60 * 60));
        if (hh < 10) {
            timeNum.string = '0' + hh + ':';
        }
        else {
            timeNum.string = hh + ':';
        }
        var mm = Math.floor(residueTime % (60 * 60) / 60);
        if (mm < 10) {
            timeNum.string += '0' + mm + ':';
        }
        else {
            timeNum.string += mm + ':';
        }
        var ss = Math.floor(residueTime % (60 * 60) % 60);
        if (ss < 10) {
            timeNum.string += '0' + ss;
        }
        else {
            timeNum.string += ss;
        }
        // 动态刷新一律写在函数的最下方
        var textRoot = new cc.Node();
        textRoot.width = this.node.width;
        textRoot.height = 20;
        textRoot.addChild(timeLabel.node);
        textRoot.addChild(timeNum.node);
        content.addChild(textRoot);
        var dailyStoreRoot = new cc.Node();
        dailyStoreRoot.name = 'dailyStoreRoot';
        dailyStoreRoot.height = this.store_daily_item.data.height * 2 + 10;
        dailyStoreRoot.width = this.node.width;
        content.addChild(dailyStoreRoot);
        var dailyStoreLayout = dailyStoreRoot.addComponent(cc.Layout);
        dailyStoreLayout.type = cc.Layout.Type.GRID;
        dailyStoreLayout.resizeMode = cc.Layout.ResizeMode.CONTAINER;
        dailyStoreLayout.paddingRight = 40;
        dailyStoreLayout.paddingLeft = 40;
        dailyStoreLayout.spacingX = 20;
        dailyStoreLayout.spacingY = 20;
        var dailyData;
        if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreDailyShopId, 0) == 0) {
            var index_1 = this.getRandomInt(1, 4);
            dailyData = DailyShop_1.DailyShopManager.getInstance().getJsonDataByChapterAndInde(LevelManager_1.LevelManager.getInstance().getFinishChapter(), index_1);
            StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreDailyShopId, dailyData.Shop_ID);
        }
        else {
            dailyData = DailyShop_1.DailyShopManager.getInstance().getJsonDailyShop(StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreDailyShopId));
        }
        console.log("每日商店ID:" + dailyData.Shop_ID);
        dailyData.Shoplist.forEach(function (v, k) {
            console.log("每日商店道具" + k + ":" + v);
        });
        dailyData.Shoplist.forEach(function (v, k) {
            var item = cc.instantiate(_this.store_daily_item);
            var storeItemInfo = CommodityInformation_1.CommodityInformationManager.getInstance().getJsonCommodityInformation(v);
            if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreDailyShopNum + k, 0) < storeItemInfo.AdPlayableTimes) {
                // 可购买
                if (CommodityInformation_1.CommodityInformationManager.getInstance().getAdReward(v) == 1) {
                    // 广告商品
                    item.getChildByName("discountIcon").active = false;
                    item.getChildByName("discountNum").active = false;
                    item.getChildByName("price").active = false;
                    item.getChildByName("free").active = true;
                    item.getChildByName("red").active = true;
                    item.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame = _this.store_ui.getSpriteFrame("Shop_Icon_ADS");
                    item.getChildByName("name").getComponent(TextLanguage_1.default).setTextId(Item_1.ItemManager.getInstance().getNameTextId(storeItemInfo.GetItem));
                    // let name = item.getChildByName("name").getComponent(cc.Label);
                    // if(ItemManager.getInstance().getJsonItem(storeItemInfo.GetItem).Type==5){
                    //     let valueStr=24;
                    //     let yushu=ItemManager.getInstance().getJsonItem(storeItemInfo.GetItem).ItemID%10-1;
                    //     if(yushu<=4){
                    //         valueStr=Math.pow(2,yushu);
                    //     }
                    //     if(valueStr == 16) valueStr = 24;
                    //     name.getComponent(cc.Label).string=name.getComponent(cc.Label).string.replace('~',valueStr.toString());
                    //     // detailStr=detailStr.replace('~',valueStr.toString());
                    // }
                    var reward = PropManager_1.PropManager.getInstance().createPropItem(storeItemInfo.GetItem, storeItemInfo.GetNum);
                    reward.name = 'reward';
                    item.addChild(reward);
                    item.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
                    item.getComponent(cc.Button).duration = 0.1;
                    item.getComponent(cc.Button).zoomScale = 0.9;
                    item.on(cc.Node.EventType.TOUCH_END, function () {
                        ApkManager_1.default.getInstance().showVideo((function (isTrue) {
                            if (isTrue) {
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.商店中购买物品1次);
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.前往商城购买X次商品);
                                PropManager_1.PropManager.getInstance().changePropNum(storeItemInfo.GetItem, storeItemInfo.GetNum);
                                var reward_1 = PropManager_1.PropManager.getInstance().createPropItem(storeItemInfo.GetItem, storeItemInfo.GetNum);
                                var num = StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreDailyShopNum + k, 0);
                                num++;
                                FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.在每日商店中使用广告购买钻石的次数);
                                StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreDailyShopNum + k, num);
                                if (num >= storeItemInfo.AdPlayableTimes) {
                                    item.getChildByName("costIcon").active = false;
                                    item.getChildByName("free").active = false;
                                    item.getChildByName("saleOut").zIndex = 1;
                                    item.getChildByName("saleOut").active = true;
                                    item.getChildByName("red").active = false;
                                    EventManager_1.EventManager.postRedEvent(EventManager_1.RedEventString.RED_CHECK, EventManager_1.RedEventType.Btn_Shop);
                                    var type = Item_1.ItemManager.getInstance().getType(storeItemInfo.GetItem);
                                    if (type == 3) {
                                        item.getChildByName("reward").getComponent(EquipItem_1.default).prop_action = PropConfig_1.PropAction.Null;
                                    }
                                    else {
                                        item.getChildByName("reward").getComponent(Prop_1.default).prop_action = PropConfig_1.PropAction.Null;
                                    }
                                    item.off(cc.Node.EventType.TOUCH_END);
                                }
                                FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.每日商店中成功购买物品的次数);
                                GameManager_1.default.getInstance().showGetTip(reward_1);
                            }
                            else {
                                // 失败
                                FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.每日商店中购买失败的次数);
                            }
                        }), Constants_1.VIDEO_TYPE.Gem);
                    });
                }
                else {
                    // 非广告商品
                    if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreDailyShopDiscount + k, 0) == 0) {
                        // 无折扣需要随机折扣
                        var discountNum_1 = _this.getRandomInt(4, 9);
                        StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreDailyShopDiscount + k, discountNum_1);
                        item.getChildByName("free").active = false;
                        item.getChildByName("red").active = false;
                        EventManager_1.EventManager.postRedEvent(EventManager_1.RedEventString.RED_CHECK, EventManager_1.RedEventType.Btn_Shop);
                        item.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(storeItemInfo.CostItemID);
                        item.getChildByName("price").getComponent(cc.Label).string = 'x' + MyTool_1.default.getCoinDanwei(storeItemInfo.CostNum * discountNum_1 * 0.1);
                        item.getChildByName("name").getComponent(TextLanguage_1.default).setTextId(Item_1.ItemManager.getInstance().getNameTextId(storeItemInfo.GetItem));
                        item.getChildByName("discountNum").getComponent(TextLanguage_1.default).setReplaceValue('~', (100 - discountNum_1 * 10) + '');
                        var reward = PropManager_1.PropManager.getInstance().createPropItem(storeItemInfo.GetItem, storeItemInfo.GetNum);
                        reward.name = 'reward';
                        item.addChild(reward);
                        item.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
                        item.getComponent(cc.Button).duration = 0.1;
                        item.getComponent(cc.Button).zoomScale = 0.9;
                        item.on(cc.Node.EventType.TOUCH_END, function () {
                            if (PropManager_1.PropManager.getInstance().changePropNum(storeItemInfo.CostItemID, -(storeItemInfo.CostNum * discountNum_1 * 0.1))) {
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.商店中购买物品1次);
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.前往商城购买X次商品);
                                PropManager_1.PropManager.getInstance().changePropNum(storeItemInfo.GetItem, storeItemInfo.GetNum);
                                HttpManager_1.HttpManager.post(HttpManager_1.AccessName.saveGameTask, _this.getSaveGameTaskJsonString(k));
                                var reward_2 = PropManager_1.PropManager.getInstance().createPropItem(storeItemInfo.GetItem, storeItemInfo.GetNum);
                                var num = StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreDailyShopNum + k, 0);
                                num++;
                                if (storeItemInfo.CostItemID == PropConfig_1.PropId.Coin) {
                                    FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.在每日商店中消耗的金币数量, (storeItemInfo.CostNum * discountNum_1 * 0.1));
                                    FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.在每日商店中使用金币购买物品的次数);
                                }
                                else {
                                    FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.在每日商店中消耗的钻石数量, (storeItemInfo.CostNum * discountNum_1 * 0.1));
                                    FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.在每日商店中使用钻石购买物品的次数);
                                }
                                StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreDailyShopNum + k, num);
                                if (num >= storeItemInfo.AdPlayableTimes) {
                                    item.getChildByName("costIcon").active = false;
                                    item.getChildByName("price").active = false;
                                    item.getChildByName("discountNum").active = false;
                                    item.getChildByName("discountIcon").active = false;
                                    item.getChildByName("saleOut").zIndex = 1;
                                    item.getChildByName("saleOut").active = true;
                                    var type = Item_1.ItemManager.getInstance().getType(storeItemInfo.GetItem);
                                    if (type == 3) {
                                        item.getChildByName("reward").getComponent(EquipItem_1.default).prop_action = PropConfig_1.PropAction.Null;
                                    }
                                    else {
                                        item.getChildByName("reward").getComponent(Prop_1.default).prop_action = PropConfig_1.PropAction.Null;
                                    }
                                    item.off(cc.Node.EventType.TOUCH_END);
                                }
                                FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.每日商店中成功购买物品的次数);
                                GameManager_1.default.getInstance().showGetTip(reward_2);
                            }
                            else {
                                if (storeItemInfo.CostItemID == PropConfig_1.PropId.Coin) {
                                    UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.CoinPop, UIConfig_1.UILayerLevel.Three, {
                                        onCompleted: function (uiNode) {
                                            uiNode.getComponent(CoinPop_1.default).initUi(PropConfig_1.PropId.Coin);
                                        },
                                    });
                                }
                                else {
                                    UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.CoinPop, UIConfig_1.UILayerLevel.Three, {
                                        onCompleted: function (uiNode) {
                                            uiNode.getComponent(CoinPop_1.default).initUi(PropConfig_1.PropId.Gem);
                                        },
                                    });
                                }
                                // GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(100041));
                                FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.每日商店中购买失败的次数);
                            }
                        });
                    }
                    else {
                        // 有折扣直接读取折扣的大小
                        var discountNum_2 = StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreDailyShopDiscount + k);
                        item.getChildByName("free").active = false;
                        item.getChildByName("red").active = false;
                        EventManager_1.EventManager.postRedEvent(EventManager_1.RedEventString.RED_CHECK, EventManager_1.RedEventType.Btn_Shop);
                        item.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(storeItemInfo.CostItemID);
                        item.getChildByName("price").getComponent(cc.Label).string = 'x' + MyTool_1.default.getCoinDanwei(storeItemInfo.CostNum * discountNum_2 * 0.1);
                        item.getChildByName("name").getComponent(TextLanguage_1.default).setTextId(Item_1.ItemManager.getInstance().getNameTextId(storeItemInfo.GetItem));
                        item.getChildByName("discountNum").getComponent(TextLanguage_1.default).setReplaceValue('~', (100 - discountNum_2 * 10) + '');
                        var reward = PropManager_1.PropManager.getInstance().createPropItem(storeItemInfo.GetItem, storeItemInfo.GetNum);
                        reward.name = 'reward';
                        item.addChild(reward);
                        item.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
                        item.getComponent(cc.Button).duration = 0.1;
                        item.getComponent(cc.Button).zoomScale = 0.9;
                        item.on(cc.Node.EventType.TOUCH_END, function () {
                            if (PropManager_1.PropManager.getInstance().changePropNum(storeItemInfo.CostItemID, -(storeItemInfo.CostNum * discountNum_2 * 0.1))) {
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.商店中购买物品1次);
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.前往商城购买X次商品);
                                PropManager_1.PropManager.getInstance().changePropNum(storeItemInfo.GetItem, storeItemInfo.GetNum);
                                HttpManager_1.HttpManager.post(HttpManager_1.AccessName.saveGameTask, _this.getSaveGameTaskJsonString(k));
                                var reward_3 = PropManager_1.PropManager.getInstance().createPropItem(storeItemInfo.GetItem, storeItemInfo.GetNum);
                                var num = StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreDailyShopNum + k, 0);
                                num++;
                                if (storeItemInfo.CostItemID == PropConfig_1.PropId.Coin) {
                                    FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.在每日商店中消耗的金币数量, (storeItemInfo.CostNum * discountNum_2 * 0.1));
                                    FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.在每日商店中使用金币购买物品的次数);
                                }
                                else {
                                    FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.在每日商店中消耗的钻石数量, (storeItemInfo.CostNum * discountNum_2 * 0.1));
                                    FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.在每日商店中使用钻石购买物品的次数);
                                }
                                StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreDailyShopNum + k, num);
                                if (num >= storeItemInfo.AdPlayableTimes) {
                                    item.getChildByName("costIcon").active = false;
                                    item.getChildByName("price").active = false;
                                    item.getChildByName("discountNum").active = false;
                                    item.getChildByName("discountIcon").active = false;
                                    item.getChildByName("saleOut").zIndex = 1;
                                    item.getChildByName("saleOut").active = true;
                                    var type = Item_1.ItemManager.getInstance().getType(storeItemInfo.GetItem);
                                    if (type == 3) {
                                        item.getChildByName("reward").getComponent(EquipItem_1.default).prop_action = PropConfig_1.PropAction.Null;
                                    }
                                    else {
                                        item.getChildByName("reward").getComponent(Prop_1.default).prop_action = PropConfig_1.PropAction.Null;
                                    }
                                    item.off(cc.Node.EventType.TOUCH_END);
                                }
                                GameManager_1.default.getInstance().showGetTip(reward_3);
                                FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.每日商店中成功购买物品的次数);
                            }
                            else {
                                if (storeItemInfo.CostItemID == PropConfig_1.PropId.Coin) {
                                    UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.CoinPop, UIConfig_1.UILayerLevel.Three, {
                                        onCompleted: function (uiNode) {
                                            uiNode.getComponent(CoinPop_1.default).initUi(PropConfig_1.PropId.Coin);
                                        },
                                    });
                                    // FollowManager.getInstance().addTotal(Follow_Type.在每日商店中消耗的金币数量,(storeItemInfo.CostNum * discountNum * 0.1))
                                    // FollowManager.getInstance().followEvent(Follow_Type.在每日商店中使用金币购买物品的次数);
                                }
                                else {
                                    UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.CoinPop, UIConfig_1.UILayerLevel.Three, {
                                        onCompleted: function (uiNode) {
                                            uiNode.getComponent(CoinPop_1.default).initUi(PropConfig_1.PropId.Gem);
                                        },
                                    });
                                    // FollowManager.getInstance().addTotal(Follow_Type.在每日商店中消耗的钻石数量,(storeItemInfo.CostNum * discountNum * 0.1))
                                    // FollowManager.getInstance().followEvent(Follow_Type.在每日商店中使用钻石购买物品的次数);
                                }
                                // GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(100041));
                                FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.每日商店中购买失败的次数);
                            }
                        });
                    }
                }
            }
            else {
                // 不可购买
                item.getChildByName("costIcon").active = false;
                item.getChildByName("price").active = false;
                item.getChildByName("discountNum").active = false;
                item.getChildByName("discountIcon").active = false;
                item.getChildByName("free").active = false;
                item.getChildByName("red").active = false;
                EventManager_1.EventManager.postRedEvent(EventManager_1.RedEventString.RED_CHECK, EventManager_1.RedEventType.Btn_Shop);
                var reward = PropManager_1.PropManager.getInstance().createPropItem(storeItemInfo.GetItem, storeItemInfo.GetNum, PropConfig_1.PropAction.Null);
                item.addChild(reward);
                item.getChildByName("name").getComponent(TextLanguage_1.default).setTextId(Item_1.ItemManager.getInstance().getNameTextId(storeItemInfo.GetItem));
                item.getChildByName("saleOut").zIndex = 1;
                item.getChildByName("saleOut").active = true;
            }
            dailyStoreRoot.addChild(item);
        });
        //#endregion
        // 神秘商店
        //#region 
        title = cc.instantiate(this.store_title);
        title.getComponentInChildren(TextLanguage_1.default).setTextId(1460011);
        title.name = "mysteryTitle";
        content.addChild(title);
        var mysteryRoot = new cc.Node();
        mysteryRoot.name = 'mysteryRoot';
        mysteryRoot.height = this.store_equip_item.data.height + 20;
        mysteryRoot.width = this.node.width;
        var mysteryLayout = mysteryRoot.addComponent(cc.Layout);
        mysteryLayout.type = cc.Layout.Type.HORIZONTAL;
        mysteryLayout.resizeMode = cc.Layout.ResizeMode.CONTAINER;
        mysteryLayout.paddingRight = 40;
        mysteryLayout.paddingLeft = 40;
        mysteryLayout.spacingX = 20;
        var petItem = cc.instantiate(this.store_pet_item);
        petItem.getChildByName("richBg").children[1].children[1].getComponent(cc.Label).string = "X" + PropManager_1.PropManager.getInstance().getPropNum(40006);
        this.pet_instance = petItem;
        petItem.getChildByName("richBg").getComponentInChildren(cc.RichText).string = LanguageManager_1.default.getInstance().getStrByTextId(1460005);
        var prizePetData = DrawCardInformation_1.DrawCardInformationManager.getInstance().getJsonDrawCardInformation(3001);
        if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
            petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_1;
        }
        else {
            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
            petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_2;
        }
        if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.TenDrawPropsSpend_1) {
            petItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
            petItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizePetData.TenDrawPropsSpend_1;
        }
        else {
            petItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
            petItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizePetData.TenDrawPropsSpend_2;
        }
        var oneDayTime = 60 * 60 * 24 * 1000;
        var currentTime = Date.now();
        if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryPetFreeTime, 0) + oneDayTime - currentTime <= 0) {
            // 免费
            petItem.getChildByName("num1").active = false;
            petItem.getChildByName("free").active = true;
            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = this.store_ui.getSpriteFrame("Shop_Icon_ADS");
        }
        else {
            petItem.getChildByName("num1").active = true;
            petItem.getChildByName("free").active = false;
        }
        var petBtn1 = petItem.getChildByName("btn1");
        var petBtn10 = petItem.getChildByName("btn10");
        petBtn1.getChildByName('red').active = GameData_1.default.getInstance().getPetRecruitingRedTip();
        petBtn1.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        petBtn1.getComponent(cc.Button).duration = 0.1;
        petBtn1.getComponent(cc.Button).zoomScale = 0.9;
        petBtn10.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        petBtn10.getComponent(cc.Button).duration = 0.1;
        petBtn10.getComponent(cc.Button).zoomScale = 0.9;
        petBtn1.on(cc.Node.EventType.TOUCH_END, function () {
            // 暂未开放处理
            // let s = LanguageManager.getInstance().getStrByTextId(100113);
            // GameManager.getInstance().showMessage(s);
            // return;
            if (FunctionDefinition_1.FunctionDefinitionManager.getInstance().getIsUnlock(Constants_1.FuncType.PetParadise) == false) {
                var unlockType = FunctionDefinition_1.FunctionDefinitionManager.getInstance().getUnlockConditionType(Constants_1.FuncType.PetParadise);
                var s = '';
                if (unlockType == 1) {
                    s = LanguageManager_1.default.getInstance().getStrByTextId(100051);
                    s = s.replace('.', '.' + (FunctionDefinition_1.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(Constants_1.FuncType.PetParadise)) + '');
                }
                else {
                    s = LanguageManager_1.default.getInstance().getStrByTextId(100052);
                    s = s.replace('~', (MissionLevel_1.MissionLevelManager.getInstance().getLevelName((FunctionDefinition_1.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(Constants_1.FuncType.PetParadise)))) + '');
                }
                GameManager_1.default.getInstance().showMessage(s);
                return;
            }
            var costId = 0;
            var costNum = 0;
            if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
                costId = prizePetData.OneDrawPropsID_1;
                costNum = prizePetData.OneDrawPropsSpend_1;
            }
            else {
                costId = prizePetData.OneDrawPropsID_2;
                costNum = prizePetData.OneDrawPropsSpend_2;
            }
            var oneDayTime = 60 * 60 * 24 * 1000;
            var currentTime = Date.now();
            if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryPetFreeTime, 0) + oneDayTime - currentTime <= 0) {
                // 免费
                costNum = 0;
                StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreMysteryPetFreeTime, currentTime);
                if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
                    petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
                    petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_1;
                }
                else {
                    petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
                    petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_2;
                }
                petItem.getChildByName("num1").active = true;
                petItem.getChildByName("free").active = false;
                ApkManager_1.default.getInstance().showVideo(function (isTrue) {
                    if (isTrue) {
                        costNum = 0;
                        StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreMysteryPetFreeTime, currentTime);
                        if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
                            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
                            petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_1;
                        }
                        else {
                            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
                            petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_2;
                        }
                        petItem.getChildByName("num1").active = true;
                        petItem.getChildByName("free").active = false;
                        petBtn1.getChildByName('red').active = GameData_1.default.getInstance().getPetRecruitingRedTip();
                        EventManager_1.EventManager.postRedEvent(EventManager_1.RedEventString.RED_CHECK, EventManager_1.RedEventType.Btn_Shop);
                        HttpManager_1.HttpManager.post(HttpManager_1.AccessName.tryPrize, _this.getPrizeJsonString(1, 3, costId, costNum), true).then(function (data) {
                            if (data) {
                                // FollowManager.getInstance().followEvent(Follow_Type.记录开启1次宠物的次数);
                                // TaskManager.getInstance().emitTask(TaskItem.进行1次开启装备);
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.累计孵化灵宠蛋X次);
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.前往商城孵化X次宠物);
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行1次宠物招募);
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行10次宠物孵化);
                                var rewardItem = PropManager_1.PropManager.getInstance().createPropItem(data[0].dropId, data[0].dropNum);
                                PropManager_1.PropManager.getInstance().changePropNum(data[0].dropId, data[0].dropNum);
                                PropManager_1.PropManager.getInstance().saveAllPropNum();
                                GameManager_1.default.getInstance().showGetTip(rewardItem);
                                if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
                                    petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
                                    petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_1;
                                }
                                else {
                                    petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
                                    petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_2;
                                }
                                if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.TenDrawPropsSpend_1) {
                                    petItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
                                    petItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizePetData.TenDrawPropsSpend_1;
                                }
                                else {
                                    petItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
                                    petItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizePetData.TenDrawPropsSpend_2;
                                }
                                if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
                                    petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
                                    petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_1;
                                }
                                else {
                                    petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
                                    petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_2;
                                }
                            }
                        });
                    }
                    else {
                        // GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(1));
                    }
                }, Constants_1.VIDEO_TYPE.Equip);
            }
            else {
                if (PropManager_1.PropManager.getInstance().getPropNum(costId) < costNum) {
                    GameManager_1.default.getInstance().showMessage(LanguageManager_1.default.getInstance().getStrByTextId(100041));
                    _this.node.getChildByName("scroll").getComponent(cc.ScrollView).scrollToBottom(2);
                    return;
                }
                HttpManager_1.HttpManager.post(HttpManager_1.AccessName.tryPrize, _this.getPrizeJsonString(1, 3, costId, costNum), true).then(function (data) {
                    if (data) {
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.累计孵化灵宠蛋X次);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.前往商城孵化X次宠物);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行1次宠物招募);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行10次宠物孵化);
                        PropManager_1.PropManager.getInstance().changePropNum(costId, -costNum);
                        GameManager_1.default.getInstance().refreshGemShow();
                        var rewardItem = PropManager_1.PropManager.getInstance().createPropItem(data[0].dropId, data[0].dropNum);
                        PropManager_1.PropManager.getInstance().changePropNum(data[0].dropId, data[0].dropNum);
                        PropManager_1.PropManager.getInstance().saveAllPropNum();
                        GameManager_1.default.getInstance().showGetTip(rewardItem);
                        if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
                            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
                            petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_1;
                        }
                        else {
                            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
                            petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_2;
                        }
                        if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.TenDrawPropsSpend_1) {
                            petItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
                            petItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizePetData.TenDrawPropsSpend_1;
                        }
                        else {
                            petItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
                            petItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizePetData.TenDrawPropsSpend_2;
                        }
                        if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
                            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
                            petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_1;
                        }
                        else {
                            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
                            petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_2;
                        }
                    }
                });
            }
        });
        petBtn10.on(cc.Node.EventType.TOUCH_END, function () {
            // 暂未开放处理
            // let s = LanguageManager.getInstance().getStrByTextId(100113);
            // GameManager.getInstance().showMessage(s);
            // return;
            if (FunctionDefinition_1.FunctionDefinitionManager.getInstance().getIsUnlock(Constants_1.FuncType.PetParadise) == false) {
                var unlockType = FunctionDefinition_1.FunctionDefinitionManager.getInstance().getUnlockConditionType(Constants_1.FuncType.PetParadise);
                var s = '';
                if (unlockType == 1) {
                    s = LanguageManager_1.default.getInstance().getStrByTextId(100051);
                    s = s.replace('.', '.' + (FunctionDefinition_1.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(Constants_1.FuncType.PetParadise)) + '');
                }
                else {
                    s = LanguageManager_1.default.getInstance().getStrByTextId(100052);
                    s = s.replace('~', (MissionLevel_1.MissionLevelManager.getInstance().getLevelName((FunctionDefinition_1.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(Constants_1.FuncType.PetParadise)))) + '');
                }
                GameManager_1.default.getInstance().showMessage(s);
                return;
            }
            var costId = 0;
            var costNum = 0;
            if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.TenDrawPropsSpend_1) {
                costId = prizePetData.OneDrawPropsID_1;
                costNum = prizePetData.TenDrawPropsSpend_1;
            }
            else {
                costId = prizePetData.OneDrawPropsID_2;
                costNum = prizePetData.TenDrawPropsSpend_2;
            }
            if (PropManager_1.PropManager.getInstance().getPropNum(costId) < costNum) {
                GameManager_1.default.getInstance().showMessage(LanguageManager_1.default.getInstance().getStrByTextId(100041));
                _this.node.getChildByName("scroll").getComponent(cc.ScrollView).scrollToBottom(2);
                return;
            }
            // if(IsDebug) costNum = 0;   
            HttpManager_1.HttpManager.post(HttpManager_1.AccessName.tryPrize, _this.getPrizeJsonString(2, 3, costId, costNum), true).then(function (data) {
                if (data) {
                    PropManager_1.PropManager.getInstance().changePropNum(costId, -costNum);
                    GameManager_1.default.getInstance().refreshGemShow();
                    var length = data.length;
                    var rewardList = [];
                    var tempIndex = MyTool_1.default.randomRangeInt(0, 9);
                    var temp = data[9];
                    data[9] = data[tempIndex];
                    data[tempIndex] = temp;
                    for (var i = 0; i < length; i++) {
                        var rewardItem = PropManager_1.PropManager.getInstance().createPropItem(data[i].dropId, data[i].dropNum);
                        PropManager_1.PropManager.getInstance().changePropNum(data[i].dropId, data[i].dropNum);
                        rewardList.push(rewardItem);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.前往商城孵化X次宠物);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行1次宠物招募);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行10次宠物孵化);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.累计孵化灵宠蛋X次);
                    }
                    PropManager_1.PropManager.getInstance().saveAllPropNum();
                    GameManager_1.default.getInstance().showMultipleGetTip(rewardList);
                }
            });
        });
        // mysteryRoot.addChild(petItem);
        var equipItem = cc.instantiate(this.store_equip_item);
        equipItem.getChildByName("richBg").children[1].children[1].getComponent(cc.Label).string = "X" + PropManager_1.PropManager.getInstance().getPropNum(40005);
        this.weapon_instance = equipItem;
        equipItem.getChildByName("richBg").getComponentInChildren(cc.RichText).string = LanguageManager_1.default.getInstance().getStrByTextId(1460006);
        var prizeEquipData = DrawCardInformation_1.DrawCardInformationManager.getInstance().getJsonDrawCardInformation(2001);
        if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.OneDrawPropsSpend_1) {
            equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
            equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_1;
        }
        else {
            equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
            equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_2;
        }
        if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.TenDrawPropsSpend_1) {
            equipItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
            equipItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeEquipData.TenDrawPropsSpend_1;
        }
        else {
            equipItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
            equipItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeEquipData.TenDrawPropsSpend_2;
        }
        // oneDayTime = 60*60*24*1000;
        currentTime = Date.now();
        if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryEquipFreeTime, 0) + oneDayTime - currentTime <= 0) {
            // 免费
            equipItem.getChildByName("num1").active = false;
            equipItem.getChildByName("free").active = true;
            equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = this.store_ui.getSpriteFrame("Shop_Icon_ADS");
        }
        else {
            equipItem.getChildByName("num1").active = true;
            equipItem.getChildByName("free").active = false;
        }
        var equipBtn1 = equipItem.getChildByName("btn1");
        var equipBtn10 = equipItem.getChildByName("btn10");
        equipBtn1.getChildByName('red').active = GameData_1.default.getInstance().getEquipFreeRedTip();
        equipBtn1.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        equipBtn1.getComponent(cc.Button).duration = 0.1;
        equipBtn1.getComponent(cc.Button).zoomScale = 0.9;
        equipBtn10.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        equipBtn10.getComponent(cc.Button).duration = 0.1;
        equipBtn10.getComponent(cc.Button).zoomScale = 0.9;
        equipBtn1.on(cc.Node.EventType.TOUCH_END, function () {
            var costId = 0;
            var costNum = 0;
            if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.OneDrawPropsSpend_1) {
                costId = prizeEquipData.OneDrawPropsID_1;
                costNum = prizeEquipData.OneDrawPropsSpend_1;
                // 以下为后端未存消费券的处理，当后端存储消费券时，使用上面两行代码
                // PropManager.getInstance().changePropNum(prizeEquipData.OneDrawPropsID_1,-prizeEquipData.OneDrawPropsSpend_1);
                // costId = prizeEquipData.OneDrawPropsID_2;
                // costNum = 0;
                FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.记录消耗的钥匙数量, prizeEquipData.OneDrawPropsSpend_1);
            }
            else {
                costId = prizeEquipData.OneDrawPropsID_2;
                costNum = prizeEquipData.OneDrawPropsSpend_2;
                FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.记录消耗宝石数量, costNum);
            }
            var oneDayTime = 60 * 60 * 24 * 1000;
            var currentTime = Date.now();
            if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryEquipFreeTime, 0) + oneDayTime - currentTime <= 0) {
                // 免费
                ApkManager_1.default.getInstance().showVideo(function (isTrue) {
                    if (isTrue) {
                        costNum = 0;
                        StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreMysteryEquipFreeTime, currentTime);
                        // if(PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.OneDrawPropsSpend_1){
                        //     equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
                        //     equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_1;
                        // }else{
                        //     equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
                        //     equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_2;
                        // }
                        equipBtn1.getChildByName('red').active = GameData_1.default.getInstance().getEquipFreeRedTip();
                        EventManager_1.EventManager.postRedEvent(EventManager_1.RedEventString.RED_CHECK, EventManager_1.RedEventType.Btn_Shop);
                        equipItem.getChildByName("num1").active = true;
                        equipItem.getChildByName("free").active = false;
                        HttpManager_1.HttpManager.post(HttpManager_1.AccessName.tryPrize, _this.getPrizeJsonString(1, 2, costId, costNum), true).then(function (data) {
                            if (data) {
                                FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.记录开启1次装备的次数);
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行1次开启装备);
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行10次开启装备);
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.累计获得X件装备);
                                var rewardItem = PropManager_1.PropManager.getInstance().createPropItem(data[0].dropId, data[0].dropNum);
                                PropManager_1.PropManager.getInstance().changePropNum(data[0].dropId, data[0].dropNum);
                                PropManager_1.PropManager.getInstance().saveAllPropNum();
                                GameManager_1.default.getInstance().showGetTip(rewardItem);
                                if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.OneDrawPropsSpend_1) {
                                    equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
                                    equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_1;
                                }
                                else {
                                    equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
                                    equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_2;
                                }
                                if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.TenDrawPropsSpend_1) {
                                    equipItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
                                    equipItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeEquipData.TenDrawPropsSpend_1;
                                }
                                else {
                                    equipItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
                                    equipItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeEquipData.TenDrawPropsSpend_2;
                                }
                                // if(PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.OneDrawPropsSpend_1){
                                //     equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
                                //     equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_1;
                                // }else{
                                //     equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
                                //     equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_2;
                                // }
                            }
                        });
                    }
                    else {
                        GameManager_1.default.getInstance().showMessage(LanguageManager_1.default.getInstance().getStrByTextId(1));
                    }
                }, Constants_1.VIDEO_TYPE.Equip);
            }
            else {
                if (PropManager_1.PropManager.getInstance().getPropNum(costId) < costNum) {
                    GameManager_1.default.getInstance().showMessage(LanguageManager_1.default.getInstance().getStrByTextId(100041));
                    _this.node.getChildByName("scroll").getComponent(cc.ScrollView).scrollToBottom(2);
                    return;
                }
                HttpManager_1.HttpManager.post(HttpManager_1.AccessName.tryPrize, _this.getPrizeJsonString(1, 2, costId, costNum), true).then(function (data) {
                    if (data) {
                        PropManager_1.PropManager.getInstance().changePropNum(costId, -costNum);
                        GameManager_1.default.getInstance().refreshGemShow();
                        FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.记录开启1次装备的次数);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行1次开启装备);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行10次开启装备);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.累计获得X件装备);
                        var rewardItem = PropManager_1.PropManager.getInstance().createPropItem(data[0].dropId, data[0].dropNum);
                        PropManager_1.PropManager.getInstance().changePropNum(data[0].dropId, data[0].dropNum);
                        PropManager_1.PropManager.getInstance().saveAllPropNum();
                        GameManager_1.default.getInstance().showGetTip(rewardItem);
                        if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.OneDrawPropsSpend_1) {
                            equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
                            equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_1;
                        }
                        else {
                            equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
                            equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_2;
                        }
                        if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.TenDrawPropsSpend_1) {
                            equipItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
                            equipItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeEquipData.TenDrawPropsSpend_1;
                        }
                        else {
                            equipItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
                            equipItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeEquipData.TenDrawPropsSpend_2;
                        }
                        // if(PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.OneDrawPropsSpend_1){
                        //     equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
                        //     equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_1;
                        // }else{
                        //     equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
                        //     equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_2;
                        // }
                        if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryEquipFreeTime, 0) + oneDayTime - currentTime <= 0) {
                            // 免费
                            equipItem.getChildByName("num1").active = false;
                            equipItem.getChildByName("free").active = true;
                            equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = _this.store_ui.getSpriteFrame("Shop_Icon_ADS");
                        }
                        else {
                            equipItem.getChildByName("num1").active = true;
                            equipItem.getChildByName("free").active = false;
                        }
                    }
                });
            }
            // if(IsDebug) costNum = 0;
        });
        equipBtn10.on(cc.Node.EventType.TOUCH_END, function () {
            var costId = 0;
            var costNum = 0;
            if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.TenDrawPropsSpend_1) {
                // costId = prizeEquipData.OneDrawPropsID_1;
                // costNum = prizeEquipData.TenDrawPropsSpend_1;
                // 以下为后端未存消费券的处理，当后端存储消费券时，使用上面两行代码
                PropManager_1.PropManager.getInstance().changePropNum(prizeEquipData.OneDrawPropsID_1, -prizeEquipData.TenDrawPropsSpend_1);
                costId = prizeEquipData.OneDrawPropsID_2;
                costNum = 0;
                FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.记录消耗的钥匙数量, prizeEquipData.TenDrawPropsSpend_1);
            }
            else {
                costId = prizeEquipData.OneDrawPropsID_2;
                costNum = prizeEquipData.TenDrawPropsSpend_2;
                FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.记录消耗宝石数量, costNum);
            }
            if (PropManager_1.PropManager.getInstance().getPropNum(costId) < costNum) {
                GameManager_1.default.getInstance().showMessage(LanguageManager_1.default.getInstance().getStrByTextId(100041));
                _this.node.getChildByName("scroll").getComponent(cc.ScrollView).scrollToBottom(2);
                return;
            }
            // if(IsDebug) costNum = 0;   
            HttpManager_1.HttpManager.post(HttpManager_1.AccessName.tryPrize, _this.getPrizeJsonString(2, 2, costId, costNum), true).then(function (data) {
                if (data) {
                    PropManager_1.PropManager.getInstance().changePropNum(costId, -costNum);
                    GameManager_1.default.getInstance().refreshGemShow();
                    FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.记录开启10次装备的次数);
                    var length = data.length;
                    var rewardList = [];
                    var tempIndex = MyTool_1.default.randomRangeInt(0, 9);
                    var temp = data[9];
                    data[9] = data[tempIndex];
                    data[tempIndex] = temp;
                    for (var i = 0; i < length; i++) {
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行1次开启装备);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行10次开启装备);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.累计获得X件装备);
                        var rewardItem = PropManager_1.PropManager.getInstance().createPropItem(data[i].dropId, data[i].dropNum);
                        PropManager_1.PropManager.getInstance().changePropNum(data[i].dropId, data[i].dropNum);
                        rewardList.push(rewardItem);
                    }
                    GameManager_1.default.getInstance().showMultipleGetTip(rewardList);
                    PropManager_1.PropManager.getInstance().saveAllPropNum();
                    if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.OneDrawPropsSpend_1) {
                        equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
                        equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_1;
                    }
                    else {
                        equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
                        equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_2;
                    }
                    if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.TenDrawPropsSpend_1) {
                        equipItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
                        equipItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeEquipData.TenDrawPropsSpend_1;
                    }
                    else {
                        equipItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
                        equipItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeEquipData.TenDrawPropsSpend_2;
                    }
                    if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryEquipFreeTime, 0) + oneDayTime - currentTime <= 0) {
                        // 免费
                        equipItem.getChildByName("num1").active = false;
                        equipItem.getChildByName("free").active = true;
                        equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = _this.store_ui.getSpriteFrame("Shop_Icon_ADS");
                    }
                    else {
                        equipItem.getChildByName("num1").active = true;
                        equipItem.getChildByName("free").active = false;
                    }
                }
            });
        });
        mysteryRoot.addChild(equipItem);
        content.addChild(mysteryRoot);
        //#endregion
        // 钻石
        //#region 
        title = cc.instantiate(this.store_title);
        title.getComponentInChildren(TextLanguage_1.default).setTextId(400002);
        title.name = "gemTitle";
        //content.addChild(title);
        var gemRoot = new cc.Node();
        gemRoot.name = 'gemRoot';
        gemRoot.height = this.store_gem_item.data.height * 2 + 10;
        gemRoot.width = this.node.width;
        //content.addChild(gemRoot);
        var gemLayout = gemRoot.addComponent(cc.Layout);
        gemLayout.type = cc.Layout.Type.GRID;
        gemLayout.resizeMode = cc.Layout.ResizeMode.CONTAINER;
        gemLayout.paddingRight = 40;
        gemLayout.paddingLeft = 40;
        gemLayout.spacingX = 20;
        gemLayout.spacingY = 20;
        var gemData = DiamondsRecharge_1.DiamondsRechargeManager.getInstance().getJsonData();
        gemData.forEach(function (v, k) {
            var item = cc.instantiate(_this.store_gem_item);
            item.name = 'gem' + v.RechargeID;
            item.getChildByName("title").getComponent(TextLanguage_1.default).setTextId(400002);
            item.getChildByName("title").getComponent(TextLanguage_1.default).string = v.DiamondsNum + item.getChildByName("title").getComponent(TextLanguage_1.default).string;
            var payInfo = PayManager_1.PayManager.getInstance().getPayInfo(v.ProductId);
            item.getChildByName("num").getComponent(cc.Label).string = payInfo.price;
            item.getChildByName('icon').getComponent(cc.Sprite).spriteFrame = _this.store_ui.getSpriteFrame("Shop_Icon_Gem_" + (v.RechargeID - 1));
            if (StorageManager_1.TheStorageManager.getInstance().getString(StorageConfig_1.StorageKey.StoreGemItem + v.RechargeID, '') == '') {
                item.getChildByName('bg').active = true;
                item.getChildByName('tip').active = true;
                item.getChildByName("tip").getComponent(TextLanguage_1.default).setTextId(1410004);
                item.getChildByName("tip").getComponent(TextLanguage_1.default).setReplaceValue('~', v.GetDiamondsNum + '');
            }
            else {
                item.getChildByName('bg').active = false;
                item.getChildByName('tip').active = false;
            }
            var button = item.addComponent(cc.Button);
            button.transition = cc.Button.Transition.SCALE;
            button.duration = 0.1;
            button.zoomScale = 0.9;
            var clickEvent = new cc.Component.EventHandler();
            clickEvent.target = _this.node;
            clickEvent.component = 'StoreUi';
            clickEvent.handler = 'onGemBtnClick';
            clickEvent.customEventData = v.RechargeID + '';
            button.clickEvents.push(clickEvent);
            // button
            // item.on(cc.Node.EventType.TOUCH_END,()=>{
            //     ApkManager.getInstance().showPay({
            //         result:(isDy)=> {
            //             if(isDy){
            //                 FollowManager.getInstance().followEvent(Follow_Type.x钻石点击购买次数 + v.ProductId);
            //                 if(TheStorageManager.getInstance().getString(StorageKey.StoreGemItem + v.RechargeID,'') == ''){
            //                     let reward = PropManager.getInstance().createPropItem(PropId.Gem,v.DiamondsNum + v.GetDiamondsNum);
            //                     PropManager.getInstance().changePropNum(PropId.Gem,v.DiamondsNum + v.GetDiamondsNum);
            //                     TheStorageManager.getInstance().setItem(StorageKey.StoreGemItem + v.RechargeID,'1');
            //                     item.getChildByName('bg').active = false;
            //                     item.getChildByName('tip').active = false;
            //                     GameManager.getInstance().showGetTip(reward);
            //                 }else{
            //                     let reward = PropManager.getInstance().createPropItem(PropId.Gem,v.DiamondsNum);
            //                     PropManager.getInstance().changePropNum(PropId.Gem,v.DiamondsNum);
            //                     GameManager.getInstance().showGetTip(reward);
            //                 }
            //             }
            //         }
            //     },v.ProductId)
            // });
            //gemRoot.addChild(item);
        });
        //#endregion
        // 金币
        //#region 
        title = cc.instantiate(this.store_title);
        title.getComponentInChildren(TextLanguage_1.default).setTextId(400001);
        title.name = "coinTitle";
        content.addChild(title);
        var coinRoot = new cc.Node();
        coinRoot.name = 'coinRoot';
        coinRoot.height = this.store_coin_item.data.height + 10;
        coinRoot.width = this.node.width;
        content.addChild(coinRoot);
        var coinLayout = coinRoot.addComponent(cc.Layout);
        coinLayout.type = cc.Layout.Type.HORIZONTAL;
        coinLayout.resizeMode = cc.Layout.ResizeMode.CONTAINER;
        coinLayout.paddingRight = 40;
        coinLayout.paddingLeft = 40;
        coinLayout.spacingX = 20;
        var coinData = PurchaseCoins_1.PurchaseCoinsManager.getInstance().getJsonDataByChapter(LevelManager_1.LevelManager.getInstance().getFinishChapter());
        coinData.forEach(function (v, k) {
            var item = cc.instantiate(_this.store_coin_item);
            item.getChildByName("title").getComponent(cc.Label).string = v.GetCoinNum + '';
            item.getChildByName("icon").getComponent(cc.Sprite).spriteFrame = _this.store_ui.getSpriteFrame("Shop_Icon_Coin_" + v.DisplayPosition);
            if (v.AdReward == 1) {
                if (Number(StorageManager_1.TheStorageManager.getInstance().getInt(StorageConfig_1.StorageKey.StoreCoinItem + k, 0)) < v.AdPlayableTimes) {
                    item.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame = _this.store_ui.getSpriteFrame("Shop_Icon_ADS");
                    item.getChildByName("num").active = false;
                    item.getChildByName("text").active = true;
                    item.getChildByName('red').active = true;
                }
                else {
                    item.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(PropConfig_1.PropId.Gem);
                    item.getChildByName("num").active = true;
                    item.getChildByName("num").getComponent(cc.Label).string = 'x' + v.ConsumeDiamondsNum;
                    item.getChildByName("text").active = false;
                    item.getChildByName('red').active = false;
                }
            }
            else {
                item.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(PropConfig_1.PropId.Gem);
                item.getChildByName("num").active = true;
                item.getChildByName("num").getComponent(cc.Label).string = 'x' + v.ConsumeDiamondsNum;
                item.getChildByName("text").active = false;
                item.getChildByName('red').active = false;
            }
            item.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
            item.getComponent(cc.Button).duration = 0.1;
            item.getComponent(cc.Button).zoomScale = 0.9;
            coinRoot.addChild(item);
            item.on(cc.Node.EventType.TOUCH_END, function () {
                if (v.AdReward == 1) {
                    if (Number(StorageManager_1.TheStorageManager.getInstance().getInt(StorageConfig_1.StorageKey.StoreCoinItem + k, 0)) < v.AdPlayableTimes) {
                        ApkManager_1.default.getInstance().showVideo((function (isTrue) {
                            if (isTrue) {
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.购买1次商店中的金币);
                                FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.x金币点击购买次数 + v.CoinPurchaseID);
                                PropManager_1.PropManager.getInstance().changePropNum(PropConfig_1.PropId.Coin, v.GetCoinNum);
                                var reward = PropManager_1.PropManager.getInstance().createPropItem(PropConfig_1.PropId.Coin, v.GetCoinNum);
                                var num = StorageManager_1.TheStorageManager.getInstance().getInt(StorageConfig_1.StorageKey.StoreCoinItem + k, 0) + 1;
                                StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreCoinItem + k, num);
                                GameManager_1.default.getInstance().showGetTip(reward);
                                if (num >= v.AdPlayableTimes) {
                                    item.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(PropConfig_1.PropId.Gem);
                                    item.getChildByName("num").active = true;
                                    item.getChildByName("num").getComponent(cc.Label).string = 'x' + v.ConsumeDiamondsNum;
                                    item.getChildByName("text").active = false;
                                    item.getChildByName('red').active = false;
                                    EventManager_1.EventManager.postRedEvent(EventManager_1.RedEventString.RED_CHECK, EventManager_1.RedEventType.Btn_Shop);
                                }
                            }
                        }), Constants_1.VIDEO_TYPE.Coin);
                    }
                    else {
                        if (PropManager_1.PropManager.getInstance().changePropNum(PropConfig_1.PropId.Gem, -v.ConsumeDiamondsNum)) {
                            TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.购买1次商店中的金币);
                            FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.x金币点击购买次数 + v.CoinPurchaseID);
                            PropManager_1.PropManager.getInstance().changePropNum(PropConfig_1.PropId.Coin, v.GetCoinNum);
                            var reward = PropManager_1.PropManager.getInstance().createPropItem(PropConfig_1.PropId.Coin, v.GetCoinNum);
                            GameManager_1.default.getInstance().showGetTip(reward);
                        }
                        else {
                            UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.CoinPop, UIConfig_1.UILayerLevel.Three, {
                                onCompleted: function (uiNode) {
                                    uiNode.getComponent(CoinPop_1.default).initUi(PropConfig_1.PropId.Gem);
                                },
                            });
                        }
                    }
                }
                else {
                    if (PropManager_1.PropManager.getInstance().changePropNum(PropConfig_1.PropId.Gem, -v.ConsumeDiamondsNum)) {
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.购买1次商店中的金币);
                        FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.x金币点击购买次数 + v.CoinPurchaseID);
                        PropManager_1.PropManager.getInstance().changePropNum(PropConfig_1.PropId.Coin, v.GetCoinNum);
                        var reward = PropManager_1.PropManager.getInstance().createPropItem(PropConfig_1.PropId.Coin, v.GetCoinNum);
                        GameManager_1.default.getInstance().showGetTip(reward);
                    }
                    else {
                        UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.CoinPop, UIConfig_1.UILayerLevel.Three, {
                            onCompleted: function (uiNode) {
                                uiNode.getComponent(CoinPop_1.default).initUi(PropConfig_1.PropId.Gem);
                            },
                        });
                    }
                }
            });
        });
        //#endregion
        // 动态刷新内容
        this.schedule(function () {
            // 每日商店刷新
            nowTime = Date.now() / 1000;
            var residueTime = StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.TomorowZeroTimeStamp, 0) - nowTime;
            if (residueTime < 0) {
                residueTime = ((new Date(new Date().toLocaleDateString()).getTime() + 8640000) / 1000) - nowTime;
            }
            var hh = Math.floor(residueTime / (60 * 60));
            if (hh < 10) {
                timeNum.string = '0' + hh + ':';
            }
            else {
                timeNum.string = hh + ':';
            }
            var mm = Math.floor(residueTime % (60 * 60) / 60);
            if (mm < 10) {
                timeNum.string += '0' + mm + ':';
            }
            else {
                timeNum.string += mm + ':';
            }
            var ss = Math.floor(residueTime % (60 * 60) % 60);
            if (ss < 10) {
                timeNum.string += '0' + ss;
            }
            else {
                timeNum.string += ss;
            }
            currentTime = Date.now();
            // 宠物刷新
            if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryPetFreeTime, 0) + oneDayTime - currentTime <= 0 && petItem.getChildByName("num1").active == true) {
                petItem.getChildByName("num1").active = false;
                petItem.getChildByName("free").active = true;
                petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = _this.store_ui.getSpriteFrame("Shop_Icon_ADS");
            }
            // 武器刷新
            if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryEquipFreeTime, 0) + oneDayTime - currentTime <= 0 && petItem.getChildByName("num1").active == true) {
                equipItem.getChildByName("num1").active = false;
                equipItem.getChildByName("free").active = true;
                equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = _this.store_ui.getSpriteFrame("Shop_Icon_ADS");
            }
        }, 1, cc.macro.REPEAT_FOREVER, 0);
    };
    // item:cc.Node,v:JsonDiamondsRecharge
    StoreUi.prototype.onGemBtnClick = function (e, id) {
        var _this = this;
        var item = this.node.getChildByName("scroll").getComponent(cc.ScrollView).content.getChildByName("gemRoot").getChildByName("gem" + id);
        var v = DiamondsRecharge_1.DiamondsRechargeManager.getInstance().getJsonDiamondsRecharge(Number(id));
        ApkManager_1.default.getInstance().showPay({
            result: function (isDy) {
                if (isDy) {
                    FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.x钻石点击购买次数 + v.ProductId);
                    if (StorageManager_1.TheStorageManager.getInstance().getString(StorageConfig_1.StorageKey.StoreGemItem + v.RechargeID, '') == '') {
                        var reward = PropManager_1.PropManager.getInstance().createPropItem(PropConfig_1.PropId.Gem, v.DiamondsNum + v.GetDiamondsNum);
                        PropManager_1.PropManager.getInstance().changePropNum(PropConfig_1.PropId.Gem, v.DiamondsNum + v.GetDiamondsNum);
                        StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreGemItem + v.RechargeID, '1');
                        UserInfo_1.UserInfo.getInstance().payGem += v.DiamondsNum;
                        HttpManager_1.HttpManager.post(HttpManager_1.AccessName.updateUserInfo, _this.setCumulativeRechargeJsonString(v.DiamondsNum)).then(function (data) {
                            UserInfo_1.UserInfo.getInstance().refreshData();
                            CumulativeRecharges_1.CumulativeRechargesManager.getInstance().refreshData();
                        });
                        item.getChildByName('bg').active = false;
                        item.getChildByName('tip').active = false;
                        GameManager_1.default.getInstance().showGetTip(reward);
                    }
                    else {
                        var reward = PropManager_1.PropManager.getInstance().createPropItem(PropConfig_1.PropId.Gem, v.DiamondsNum);
                        PropManager_1.PropManager.getInstance().changePropNum(PropConfig_1.PropId.Gem, v.DiamondsNum);
                        UserInfo_1.UserInfo.getInstance().payGem += v.DiamondsNum;
                        HttpManager_1.HttpManager.post(HttpManager_1.AccessName.updateUserInfo, _this.setCumulativeRechargeJsonString(v.DiamondsNum)).then(function (data) {
                            UserInfo_1.UserInfo.getInstance().refreshData();
                            CumulativeRecharges_1.CumulativeRechargesManager.getInstance().refreshData();
                        });
                        GameManager_1.default.getInstance().showGetTip(reward);
                    }
                }
            }
        }, v.ProductId);
    };
    StoreUi.prototype.refreshStore = function () {
        var _this = this;
        var content = this.node.getChildByName("scroll").getComponent(cc.ScrollView).content;
        var gemRoot = content.getChildByName("gemRoot");
        var gemData = DiamondsRecharge_1.DiamondsRechargeManager.getInstance().getJsonData();
        gemData.forEach(function (v, k) {
            var item = gemRoot.getChildByName('gem' + v.RechargeID);
            item.getChildByName("title").getComponent(TextLanguage_1.default).setTextId(400002);
            item.getChildByName("title").getComponent(TextLanguage_1.default).string = v.DiamondsNum + item.getChildByName("title").getComponent(TextLanguage_1.default).string;
            var payInfo = PayManager_1.PayManager.getInstance().getPayInfo(v.ProductId);
            item.getChildByName("num").getComponent(cc.Label).string = payInfo.price;
            item.getChildByName('icon').getComponent(cc.Sprite).spriteFrame = _this.store_ui.getSpriteFrame("Shop_Icon_Gem_" + (v.RechargeID - 1));
            if (StorageManager_1.TheStorageManager.getInstance().getString(StorageConfig_1.StorageKey.StoreGemItem + v.RechargeID, '') == '') {
                item.getChildByName('bg').active = true;
                item.getChildByName('tip').active = true;
                item.getChildByName("tip").getComponent(TextLanguage_1.default).setTextId(1410004);
                item.getChildByName("tip").getComponent(TextLanguage_1.default).setReplaceValue('~', v.GetDiamondsNum + '');
            }
            else {
                item.getChildByName('bg').active = false;
                item.getChildByName('tip').active = false;
            }
            // item.off(cc.Node.EventType.TOUCH_END);
            // item.on(cc.Node.EventType.TOUCH_END,()=>{
            //     item.scale = 1;
            //     ApkManager.getInstance().showPay({
            //         result:(isDy)=> {
            //             if(isDy){
            //                 FollowManager.getInstance().followEvent(Follow_Type.x钻石点击购买次数 + v.ProductId);
            //                 if(TheStorageManager.getInstance().getString(StorageKey.StoreGemItem + v.RechargeID,'') == ''){
            //                     let reward = PropManager.getInstance().createPropItem(PropId.Gem,v.DiamondsNum + v.GetDiamondsNum);
            //                     PropManager.getInstance().changePropNum(PropId.Gem,v.DiamondsNum + v.GetDiamondsNum);
            //                     TheStorageManager.getInstance().setItem(StorageKey.StoreGemItem + v.RechargeID,'1');
            //                     item.getChildByName('bg').active = false;
            //                     item.getChildByName('tip').active = false;
            //                     GameManager.getInstance().showGetTip(reward);
            //                 }else{
            //                     let reward = PropManager.getInstance().createPropItem(PropId.Gem,v.DiamondsNum);
            //                     PropManager.getInstance().changePropNum(PropId.Gem,v.DiamondsNum);
            //                     GameManager.getInstance().showGetTip(reward);
            //                 }
            //             }
            //         }
            //     },v.ProductId)
            // });
        });
    };
    StoreUi.prototype.getRandomInt = function (min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min)) + min; //不含最大值，含最小值
    };
    /**
     *
     * @param type 抽奖类型 1-单抽 2-十连抽
     * @param drawTyep 抽奖类型 1-英雄,英雄碎片 2-装备 3-灵宠
     * @param costId 消耗道具id
     * @param costNum 消耗道具数量
     * @returns
     */
    StoreUi.prototype.getPrizeJsonString = function (type, drawTyep, costId, costNum) {
        var uid = UserData_1.default.getInstance().getUserID();
        return JSON.stringify({
            uid: uid,
            type: type,
            drawType: drawTyep,
            itemsId: costId,
            minusNum: costNum,
        });
    };
    StoreUi.prototype.onRefreshInstanceItem = function () {
        var prizeHeroData = DrawCardInformation_1.DrawCardInformationManager.getInstance().getJsonDrawCardInformation(1001);
        if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.OneDrawPropsSpend_1) {
            this.hero_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_1);
            this.hero_instance.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeHeroData.OneDrawPropsSpend_1;
        }
        else {
            this.hero_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_2);
            this.hero_instance.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeHeroData.OneDrawPropsSpend_2;
        }
        if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.TenDrawPropsSpend_1) {
            this.hero_instance.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_1);
            this.hero_instance.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeHeroData.TenDrawPropsSpend_1;
        }
        else {
            this.hero_instance.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_2);
            this.hero_instance.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeHeroData.TenDrawPropsSpend_2;
        }
        this.hero_instance.getChildByName("IconNum").getComponent(cc.Label).string = "X" + PropManager_1.PropManager.getInstance().getPropNum(40004);
        var prizePetData = DrawCardInformation_1.DrawCardInformationManager.getInstance().getJsonDrawCardInformation(3001);
        if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
            this.pet_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
            this.pet_instance.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_1;
        }
        else {
            this.pet_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
            this.pet_instance.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_2;
        }
        this.pet_instance.getChildByName("richBg").children[1].children[1].getComponent(cc.Label).string = "X" + PropManager_1.PropManager.getInstance().getPropNum(40006);
        if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.TenDrawPropsSpend_1) {
            this.pet_instance.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
            this.pet_instance.getChildByName("num10").getComponent(cc.Label).string = "x" + prizePetData.TenDrawPropsSpend_1;
        }
        else {
            this.pet_instance.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
            this.pet_instance.getChildByName("num10").getComponent(cc.Label).string = "x" + prizePetData.TenDrawPropsSpend_2;
        }
        var oneDayTime = 60 * 60 * 24 * 1000;
        var currentTime = Date.now();
        var prizeEquipData = DrawCardInformation_1.DrawCardInformationManager.getInstance().getJsonDrawCardInformation(2001);
        if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.OneDrawPropsSpend_1) {
            this.weapon_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
            this.weapon_instance.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_1;
        }
        else {
            this.weapon_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
            this.weapon_instance.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_2;
        }
        if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.TenDrawPropsSpend_1) {
            this.weapon_instance.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
            this.weapon_instance.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeEquipData.TenDrawPropsSpend_1;
        }
        else {
            this.weapon_instance.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
            this.weapon_instance.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeEquipData.TenDrawPropsSpend_2;
        }
        this.weapon_instance.getChildByName("richBg").children[1].children[1].getComponent(cc.Label).string = "X" + PropManager_1.PropManager.getInstance().getPropNum(40005);
        // oneDayTime = 60*60*24*1000;
        // currentTime = Date.now();
        if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryEquipFreeTime, 0) + oneDayTime - currentTime <= 0) {
            // 免费
            this.weapon_instance.getChildByName("num1").active = false;
            this.weapon_instance.getChildByName("free").active = true;
            this.weapon_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = this.store_ui.getSpriteFrame("Shop_Icon_ADS");
        }
        else {
            this.weapon_instance.getChildByName("num1").active = true;
            this.weapon_instance.getChildByName("free").active = false;
        }
    };
    StoreUi.prototype.setCumulativeRechargeJsonString = function (addNum) {
        var uid = UserData_1.default.getInstance().getUserID();
        var num = addNum;
        return JSON.stringify({
            type: 8,
            uid: uid,
            value: num,
        });
    };
    StoreUi.prototype.getSaveGameTaskJsonString = function (index) {
        var uid = UserData_1.default.getInstance().getUserID();
        var num = index;
        return JSON.stringify({
            uid: uid,
            playLevel: num,
            rewardType: 10,
        });
    };
    __decorate([
        property(cc.Prefab)
    ], StoreUi.prototype, "store_title", void 0);
    __decorate([
        property(cc.Prefab)
    ], StoreUi.prototype, "store_chapter_item", void 0);
    __decorate([
        property(cc.Prefab)
    ], StoreUi.prototype, "store_hero_item", void 0);
    __decorate([
        property(cc.Prefab)
    ], StoreUi.prototype, "store_daily_item", void 0);
    __decorate([
        property(cc.Prefab)
    ], StoreUi.prototype, "store_pet_item", void 0);
    __decorate([
        property(cc.Prefab)
    ], StoreUi.prototype, "store_equip_item", void 0);
    __decorate([
        property(cc.Prefab)
    ], StoreUi.prototype, "store_gem_item", void 0);
    __decorate([
        property(cc.Prefab)
    ], StoreUi.prototype, "store_coin_item", void 0);
    __decorate([
        property(cc.SpriteAtlas)
    ], StoreUi.prototype, "store_ui", void 0);
    StoreUi = __decorate([
        ccclass
    ], StoreUi);
    return StoreUi;
}(cc.Component));
exports.default = StoreUi;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcU3RvcmVcXFN0b3JlVWkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsNERBQXVEO0FBQ3ZELHdEQUFtRTtBQUNuRSxrRkFBd0Y7QUFDeEYsZ0RBQTJDO0FBQzNDLHNDQUFpQztBQUNqQywwQ0FBdUU7QUFDdkUsdURBQWtEO0FBQ2xELHdDQUFtQztBQUNuQyw4Q0FBeUM7QUFDekMsd0RBQXVEO0FBQ3ZELHNEQUFvRDtBQUNwRCxxRUFBMkU7QUFDM0UsMkRBQTJEO0FBQzNELHNEQUFxRDtBQUNyRCxzREFBNEQ7QUFDNUQsb0VBQStEO0FBQy9ELGdFQUEyRDtBQUMzRCx3RUFBc0U7QUFDdEUsb0VBQStEO0FBQy9ELDhEQUF5RDtBQUN6RCxvREFBbUQ7QUFDbkQsMENBQWdEO0FBQ2hELHFDQUFnQztBQUNoQyxpREFBd0Q7QUFDeEQsbURBQWtEO0FBQ2xELDBEQUFzRDtBQUN0RCw0REFBOEQ7QUFDOUQsNkNBQTRDO0FBQzVDLG1EQUE4QztBQUM5QyxzREFBbUY7QUFDbkYsMENBQXFDO0FBQ3JDLGtFQUE2RDtBQUM3RCw0Q0FBdUM7QUFDdkMsMkNBQXNEO0FBQ3RELDZDQUE0QztBQUM1Qyx3Q0FBbUM7QUFDbkMsaURBQWdEO0FBRWhELCtEQUFxRTtBQUNyRSx5Q0FBOEQ7QUFDOUQsdURBQW1GO0FBQ25GLDZEQUFtRTtBQUNuRSx1REFBa0Q7QUFDbEQsaURBQXVEO0FBQ3ZELDZDQUF3QztBQUVsQyxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUc1QztJQUFxQywyQkFBWTtJQUFqRDtRQUFBLHFFQW90REM7UUFqdERHLGlCQUFXLEdBQWMsSUFBSSxDQUFDO1FBRTlCLHdCQUFrQixHQUFjLElBQUksQ0FBQztRQUVyQyxxQkFBZSxHQUFjLElBQUksQ0FBQztRQUVsQyxzQkFBZ0IsR0FBYyxJ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QUNiLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFTywyQ0FBeUIsR0FBakMsVUFBa0MsS0FBYTtRQUMzQyxJQUFJLEdBQUcsR0FBRyxrQkFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQzdDLElBQUksR0FBRyxHQUFHLEtBQUssQ0FBQztRQUNoQixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7WUFDbEIsR0FBRyxFQUFFLEdBQUc7WUFDUixTQUFTLEVBQUUsR0FBRztZQUNkLFVBQVUsRUFBRSxFQUFFO1NBQ2pCLENBQUMsQ0FBQztJQUNQLENBQUM7SUEvc0REO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7Z0RBQ1U7SUFFOUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzt1REFDaUI7SUFFckM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztvREFDYztJQUVsQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO3FEQUNlO0lBRW5DO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7bURBQ2E7SUFFakM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztxREFDZTtJQUVuQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO21EQUNhO0lBRWpDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7b0RBQ2M7SUFHbEM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQzs2Q0FDTztJQXBCZixPQUFPO1FBRDNCLE9BQU87T0FDYSxPQUFPLENBb3REM0I7SUFBRCxjQUFDO0NBcHRERCxBQW90REMsQ0FwdERvQyxFQUFFLENBQUMsU0FBUyxHQW90RGhEO2tCQXB0RG9CLE9BQU8iLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgV1hNYW5hZ2VyRVggZnJvbSBcIi4uLy4uL3N0YXJ0c2NlbmUvV1hNYW5hZ2VyRVhcIjtcclxuaW1wb3J0IHsgQWNjZXNzTmFtZSwgSHR0cE1hbmFnZXIgfSBmcm9tIFwiLi4vLi9OZXRXb3JrL0h0dHBNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEN1bXVsYXRpdmVSZWNoYXJnZXNNYW5hZ2VyIH0gZnJvbSBcIi4uL0FjY3VtdWxhdGVkUmVjaGFyZ2UvQ3VtdWxhdGl2ZVJlY2hhcmdlc1wiO1xyXG5pbXBvcnQgQXBrTWFuYWdlciBmcm9tIFwiLi4vQWRzL0Fwa01hbmFnZXJcIjtcclxuaW1wb3J0IENvaW5Qb3AgZnJvbSBcIi4uL0NvaW5Qb3BcIjtcclxuaW1wb3J0IHsgRnVuY1R5cGUsIEdhbWVNb2RlLCBJc0RlYnVnLCBWSURFT19UWVBFIH0gZnJvbSBcIi4uL0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgRXF1aXBJdGVtIGZyb20gXCIuLi9FcXVpcG1lbnQvVWkvRXF1aXBJdGVtXCI7XHJcbmltcG9ydCBHYW1lRGF0YSBmcm9tIFwiLi4vR2FtZURhdGFcIjtcclxuaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuLi9HYW1lTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBIZXJvTWFuYWdlciB9IGZyb20gXCIuLi9IZXJvL0RhdGEvSGVyb01hbmFnZXJcIjtcclxuaW1wb3J0IHsgSGVyb19UeXBlIH0gZnJvbSBcIi4uL0hlcm8vR2FtZS9IZXJvQ29uZmlnXCI7XHJcbmltcG9ydCB7IEZ1bmN0aW9uRGVmaW5pdGlvbk1hbmFnZXIgfSBmcm9tIFwiLi4vSnNvbkRhdGEvRnVuY3Rpb25EZWZpbml0aW9uXCI7XHJcbmltcG9ydCB7IFJld2FyZEhlcm9EYXRhIH0gZnJvbSBcIi4uL0pzb25EYXRhL0xldmVsSnNvbkRhdGFcIjtcclxuaW1wb3J0IHsgTGV2ZWxNYW5hZ2VyIH0gZnJvbSBcIi4uL0xldmVsL0xldmVsTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBNaXNzaW9uTGV2ZWxNYW5hZ2VyIH0gZnJvbSBcIi4uL0xldmVsL01pc3Npb25MZXZlbFwiO1xyXG5pbXBvcnQgeyBGb2xsb3dfVHlwZSB9IGZyb20gXCIuLi9tdWx0aUxhbmd1YWdlL0ZvbGxvd0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgRm9sbG93TWFuYWdlciBmcm9tIFwiLi4vbXVsdGlMYW5ndWFnZS9Gb2xsb3dNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IE9uTGFuZ3VhZ2VDaGFuZ2UgfSBmcm9tIFwiLi4vbXVsdGlMYW5ndWFnZS9MYW5ndWFnZUNvbnN0YW50c1wiO1xyXG5pbXBvcnQgTGFuZ3VhZ2VNYW5hZ2VyIGZyb20gXCIuLi9tdWx0aUxhbmd1YWdlL0xhbmd1YWdlTWFuYWdlclwiO1xyXG5pbXBvcnQgVGV4dExhbmd1YWdlIGZyb20gXCIuLi9tdWx0aUxhbmd1YWdlL1RleHRMYW5ndWFnZVwiO1xyXG5pbXBvcnQgeyBQYXlNYW5hZ2VyIH0gZnJvbSBcIi4uL1BheW1lbnQvUGF5TWFuYWdlclwiO1xyXG5pbXBvcnQgeyBJdGVtTWFuYWdlciB9IGZyb20gXCIuLi9Qcm9wL0RhdGEvSXRlbVwiO1xyXG5pbXBvcnQgUHJvcCBmcm9tIFwiLi4vUHJvcC9Qcm9wXCI7XHJcbmltcG9ydCB7IFByb3BBY3Rpb24sIFByb3BJZCB9IGZyb20gXCIuLi9Qcm9wL1Byb3BDb25maWdcIjtcclxuaW1wb3J0IHsgUHJvcE1hbmFnZXIgfSBmcm9tIFwiLi4vUHJvcC9Qcm9wTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBTdG9yYWdlS2V5IH0gZnJvbSBcIi4uL1N0b3JhZ2UvU3RvcmFnZUNvbmZpZ1wiO1xyXG5pbXBvcnQgeyBUaGVTdG9yYWdlTWFuYWdlciB9IGZyb20gXCIuLi9TdG9yYWdlL1N0b3JhZ2VNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFRhc2tJdGVtIH0gZnJvbSBcIi4uL1Rhc2svVGFza0VudW1cIjtcclxuaW1wb3J0IFRhc2tNYW5hZ2VyIGZyb20gXCIuLi9UYXNrL1Rhc2tNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEV2ZW50TWFuYWdlciwgUmVkRXZlbnRTdHJpbmcsIFJlZEV2ZW50VHlwZSB9IGZyb20gXCIuLi9Ub29scy9FdmVudE1hbmFnZXJcIjtcclxuaW1wb3J0IE15VG9vbCBmcm9tIFwiLi4vVG9vbHMvTXlUb29sXCI7XHJcbmltcG9ydCBUdXRvcmFpbHNNYW5hZ2VyIGZyb20gXCIuLi9UdXRvcmlhbHMvVHV0b3JhaWxzTWFuYWdlclwiO1xyXG5pbXBvcnQgTWFpblVpIGZyb20gXCIuLi9VSS9ob21lL01haW5VaVwiO1xyXG5pbXBvcnQgeyBVSUxheWVyTGV2ZWwsIFVJUGF0aCB9IGZyb20gXCIuLi9VSS9VSUNvbmZpZ1wiO1xyXG5pbXBvcnQgeyBVSU1hbmFnZXIgfSBmcm9tIFwiLi4vVUkvVUlNYW5hZ2VyXCI7XHJcbmltcG9ydCBVc2VyRGF0YSBmcm9tIFwiLi4vVXNlckRhdGFcIjtcclxuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi4vVXNlckluZm8vVXNlckluZm9cIjtcclxuaW1wb3J0IHsgQ2hhcHRlclBhY2tNYW5hZ2VyIH0gZnJvbSBcIi4vQ2hhcHRlclBhY2tcIjtcclxuaW1wb3J0IHsgQ29tbW9kaXR5SW5mb3JtYXRpb25NYW5hZ2VyIH0gZnJvbSBcIi4vQ29tbW9kaXR5SW5mb3JtYXRpb25cIjtcclxuaW1wb3J0IHsgRGFpbHlTaG9wTWFuYWdlciwgSnNvbkRhaWx5U2hvcCB9IGZyb20gXCIuL0RhaWx5U2hvcFwiO1xyXG5pbXBvcnQgeyBEaWFtb25kc1JlY2hhcmdlTWFuYWdlciwgSnNvbkRpYW1vbmRzUmVjaGFyZ2UgfSBmcm9tIFwiLi9EaWFtb25kc1JlY2hhcmdlXCI7XHJcbmltcG9ydCB7IERyYXdDYXJkSW5mb3JtYXRpb25NYW5hZ2VyIH0gZnJvbSBcIi4vRHJhd0NhcmRJbmZvcm1hdGlvblwiO1xyXG5pbXBvcnQgUHJvYmFiaWxpdHlUaXBVaSBmcm9tIFwiLi9Qcm9iYWJpbGl0eVRpcFVpXCI7XHJcbmltcG9ydCB7IFB1cmNoYXNlQ29pbnNNYW5hZ2VyIH0gZnJvbSBcIi4vUHVyY2hhc2VDb2luc1wiO1xyXG5pbXBvcnQgU3RvcmVIZXJvVWkgZnJvbSBcIi4vU3RvcmVIZXJvVWlcIjtcclxuXHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdG9yZVVpIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxyXG4gICAgc3RvcmVfdGl0bGU6IGNjLlByZWZhYiA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxyXG4gICAgc3RvcmVfY2hhcHRlcl9pdGVtOiBjYy5QcmVmYWIgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcclxuICAgIHN0b3JlX2hlcm9faXRlbTogY2MuUHJlZmFiID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpXHJcbiAgICBzdG9yZV9kYWlseV9pdGVtOiBjYy5QcmVmYWIgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcclxuICAgIHN0b3JlX3BldF9pdGVtOiBjYy5QcmVmYWIgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcclxuICAgIHN0b3JlX2VxdWlwX2l0ZW06IGNjLlByZWZhYiA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxyXG4gICAgc3RvcmVfZ2VtX2l0ZW06IGNjLlByZWZhYiA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxyXG4gICAgc3RvcmVfY29pbl9pdGVtOiBjYy5QcmVmYWIgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGVBdGxhcylcclxuICAgIHN0b3JlX3VpOiBjYy5TcHJpdGVBdGxhcyA9IG51bGw7XHJcblxyXG4gICAgLy8g56eB5pyJ5pWw5o2uXHJcbiAgICBwcml2YXRlIGhlcm9faW5zdGFuY2U6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSB3ZWFwb25faW5zdGFuY2U6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBwZXRfaW5zdGFuY2U6IGNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIHByb3RlY3RlZCBvbkxvYWQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlBPU0lUSU9OX0NIQU5HRUQsIHRoaXMub25Qb3NpdGlvbkNoYW5nZSwgdGhpcyk7XHJcbiAgICAgICAgY2MuZGlyZWN0b3Iub24oT25MYW5ndWFnZUNoYW5nZSwgdGhpcy5pbml0U3RvcmUsIHRoaXMpO1xyXG4gICAgICAgIGlmKFdYTWFuYWdlckVYLmdldEluc3RhbmNlKCkuc3RhdHVzQmFySGVpZ2h0PjIwKXsgICBcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmdldENvbXBvbmVudChjYy5XaWRnZXQpLnRvcCA9IDE1MDtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5pbml0U3RvcmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25EZXN0cm95KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubm9kZS5vZmYoY2MuTm9kZS5FdmVudFR5cGUuUE9TSVRJT05fQ0hBTkdFRCwgdGhpcy5vblBvc2l0aW9uQ2hhbmdlLCB0aGlzKTtcclxuICAgICAgICBjYy5kaXJlY3Rvci5vZmYoT25MYW5ndWFnZUNoYW5nZSwgdGhpcy5pbml0U3RvcmUsIHRoaXMpO1xyXG4gICAgICAgIGNjLmRpcmVjdG9yLm9mZihcIm9uUmVmcmVzaEluc3RhbmNlSXRlbVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBvblBvc2l0aW9uQ2hhbmdlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm5vZGUueCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25FbmFibGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS7llYbln47llYbln47pobXngrnlh7vmrKHmlbApO1xyXG4gICAgICAgIC8vdGhpcy5yZWZyZXNoU3RvcmUoKTtcclxuICAgICAgICAvL3RoaXMuY2hlY2tUdXRvcmFpbHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGVja1R1dG9yYWlscygpIHtcclxuICAgICAgICBpZiAoVHV0b3JhaWxzTWFuYWdlci5nZXRJbnN0YW5jZSgpLmlzX3R1dG9yYWlsc19zdGF0ZSAmJiBUdXRvcmFpbHNNYW5hZ2VyLmdldEluc3RhbmNlKCkuaXNTaG93VHV0b3JpYWxzKDIyMikgJiYgTGV2ZWxNYW5hZ2VyLmdldEluc3RhbmNlKCkuZmluaXNoX2xldmVsID49IDMpIHtcclxuICAgICAgICAgICAgVHV0b3JhaWxzTWFuYWdlci5nZXRJbnN0YW5jZSgpLmlzX3R1dG9yYWlsc19zdGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBzdG9yZV91aSA9IGNjLmZpbmQoJ0NhbnZhcy9zdG9yZV91aS9zY3JvbGwnKTtcclxuICAgICAgICAgICAgICAgIGxldCBjb250ZW50ID0gc3RvcmVfdWkuZ2V0Q29tcG9uZW50KGNjLlNjcm9sbFZpZXcpLmNvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgYnRuMSA9IGNvbnRlbnQuZ2V0Q2hpbGRCeU5hbWUoJ2hlcm9Sb290JykuZ2V0Q2hpbGRCeU5hbWUoJ2hlcm9JdGVtJykuZ2V0Q2hpbGRCeU5hbWUoJ2J0bjEnKTtcclxuICAgICAgICAgICAgICAgIGxldCB3b3JkUG9zID0gYnRuMS5wYXJlbnQuY29udmVydFRvV29ybGRTcGFjZUFSKGJ0bjEuZ2V0UG9zaXRpb24oKSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgbG9jYWxQb3MgPSBjYy5maW5kKCdDYW52YXMvVWlfUm9vdCcpLmNvbnZlcnRUb05vZGVTcGFjZUFSKHdvcmRQb3MpO1xyXG4gICAgICAgICAgICAgICAgbG9jYWxQb3MueCAtPSBjYy5maW5kKCdDYW52YXMvc3RvcmVfdWknKS54O1xyXG4gICAgICAgICAgICAgICAgVHV0b3JhaWxzTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dUdXRvcmlhbHMoMjIyLCBudWxsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bSg0MDAwNCwgLTEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChIZXJvTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEhlcm9JbmZvKEhlcm9fVHlwZS5EZUx1WWkpID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmRMaXN0OiBSZXdhcmRIZXJvRGF0YVtdID0gbmV3IEFycmF5PFJld2FyZEhlcm9EYXRhPigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJkID0gbmV3IFJld2FyZEhlcm9EYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZC5kcm9wSWQgPSAxMTAwMDQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZC5kcm9wTnVtID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJld2FyZExpc3QucHVzaChyZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZXJvTWFuYWdlci5nZXRJbnN0YW5jZSgpLmFkZEhlcm8oSGVyb19UeXBlLkRlTHVZaSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlcm9NYW5hZ2VyLmdldEluc3RhbmNlKCkucmVwb3J0SGVyb0xpc3QoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZWFtTGlzdCA9IEhlcm9NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0VGVhbUxpc3QoR2FtZU1vZGUuTWFpbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZWFtTGlzdFsxXSA9IEhlcm9fVHlwZS5EZUx1WWk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZXJvTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNhdmVUZWFtTGlzdChHYW1lTW9kZS5NYWluLCB0ZWFtTGlzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUdXRvcmFpbHNNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2F2ZVR1dG9yaWFscygyMjIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVHV0b3JhaWxzTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNhdmVUdXRvcmlhbHMoMjIzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVJTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dVaURpYWxvZyhVSVBhdGguU3RvcmVIZXJvVWksIFVJTGF5ZXJMZXZlbC5PbmUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlZDogKHVpTm9kZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aU5vZGUuZ2V0Q29tcG9uZW50KFN0b3JlSGVyb1VpKS5pbml0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+ebtOaOpei/m+WFpea4uOaIj1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNjLmZpbmQoJ0NhbnZhcy9tYWluX3VpJykuZ2V0Q29tcG9uZW50KE1haW5VaSkuc3RhcnRHYW1lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aU5vZGUuZ2V0Q29tcG9uZW50KFN0b3JlSGVyb1VpKS5pbml0RGF0YShyZXdhcmRMaXN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCBmYWxzZSwgbnVsbCwgbG9jYWxQb3MpO1xyXG4gICAgICAgICAgICB9LCAwLjEpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFN0b3JlKCkge1xyXG4gICAgICAgIGxldCBjb250ZW50ID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwic2Nyb2xsXCIpLmdldENvbXBvbmVudChjYy5TY3JvbGxWaWV3KS5jb250ZW50O1xyXG4gICAgICAgIGNvbnRlbnQucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcclxuICAgICAgICBjYy5kaXJlY3Rvci5vZmYoXCJvblJlZnJlc2hJbnN0YW5jZUl0ZW1cIik7XHJcbiAgICAgICAgY2MuZGlyZWN0b3Iub24oXCJvblJlZnJlc2hJbnN0YW5jZUl0ZW1cIiwgdGhpcy5vblJlZnJlc2hJbnN0YW5jZUl0ZW0sIHRoaXMpO1xyXG4gICAgICAgIC8vIOeroOiKguekvOWMhVxyXG4gICAgICAgIC8vI3JlZ2lvbiBcclxuICAgICAgICBsZXQgdGl0bGUgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnN0b3JlX3RpdGxlKTtcclxuICAgICAgICB0aXRsZS5nZXRDb21wb25lbnRJbkNoaWxkcmVuKFRleHRMYW5ndWFnZSkuc2V0VGV4dElkKDE0MzAwMDEpO1xyXG4gICAgICAgIHRpdGxlLm5hbWUgPSBcImNoYXB0ZXJUaXRsZVwiO1xyXG4gICAgICAgIGNvbnRlbnQuYWRkQ2hpbGQodGl0bGUpO1xyXG4gICAgICAgIGxldCBjaGFwdGVyUm9vdCA9IG5ldyBjYy5Ob2RlKCk7XHJcbiAgICAgICAgY2hhcHRlclJvb3QubmFtZSA9ICdjaGFwdGVyUm9vdCc7XHJcbiAgICAgICAgY2hhcHRlclJvb3QuaGVpZ2h0ID0gdGhpcy5zdG9yZV9jaGFwdGVyX2l0ZW0uZGF0YS5oZWlnaHQ7XHJcbiAgICAgICAgY2hhcHRlclJvb3Qud2lkdGggPSAodGhpcy5zdG9yZV9jaGFwdGVyX2l0ZW0uZGF0YS53aWR0aCArIDIwKSAqIDM7XHJcblxyXG4gICAgICAgIGxldCBjaGFwdGVyUmlnaHQgPSBuZXcgY2MuTm9kZSgpO1xyXG4gICAgICAgIGxldCBjaGFwdGVyTGVmdCA9IG5ldyBjYy5Ob2RlKCk7XHJcblxyXG4gICAgICAgIGNoYXB0ZXJSaWdodC5hZGRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHRoaXMuc3RvcmVfdWkuZ2V0U3ByaXRlRnJhbWUoXCJTaG9wX0Fycm93XCIpXHJcbiAgICAgICAgY2hhcHRlckxlZnQuYWRkQ29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSB0aGlzLnN0b3JlX3VpLmdldFNwcml0ZUZyYW1lKFwiU2hvcF9BcnJvd1wiKVxyXG4gICAgICAgIGNoYXB0ZXJMZWZ0LnNjYWxlWCA9IC0xO1xyXG5cclxuICAgICAgICBjaGFwdGVyUm9vdC5hZGRDaGlsZChjaGFwdGVyUmlnaHQpO1xyXG4gICAgICAgIGNoYXB0ZXJSb290LmFkZENoaWxkKGNoYXB0ZXJMZWZ0KTtcclxuXHJcbiAgICAgICAgY2hhcHRlclJpZ2h0LnggPSAzNDU7XHJcbiAgICAgICAgY2hhcHRlckxlZnQueCA9IC0zNDU7XHJcbiAgICAgICAgY2hhcHRlckxlZnQuYWN0aXZlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIGxldCBjaGFwdGVyRGF0YSA9IENoYXB0ZXJQYWNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEpzb25EYXRhKCk7XHJcbiAgICAgICAgLy8gY2hhcHRlckRhdGEuZm9yRWFjaCgodiwgaykgPT4ge1xyXG4gICAgICAgIC8vICAgICBpZiAoVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdHJpbmcoU3RvcmFnZUtleS5TdG9yZUNoYXB0ZXJJdGVtICsgdi5DaGFwdGVyLCAnJykgPT0gJycgJiYgKExldmVsTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEZpbmlzaENoYXB0ZXIoKSkgPj0gdi5DaGFwdGVyKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBsZXQgaXRlbSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuc3RvcmVfY2hhcHRlcl9pdGVtKTtcclxuICAgICAgICAvLyAgICAgICAgIGl0ZW0ubmFtZSA9IFwiY2hhcHRlckl0ZW1cIiArIHYuQ2hhcHRlcjtcclxuICAgICAgICAvLyAgICAgICAgIGlmICh2LkNoYXB0ZXIgPT0gMSkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJ0aXRsZVwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQoMTQzMDAwMik7XHJcbiAgICAgICAgLy8gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJ0aXRsZVwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQoMTQzMDAwMyk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInRpdGxlXCIpLmdldENvbXBvbmVudChUZXh0TGFuZ3VhZ2UpLnNldFJlcGxhY2VWYWx1ZSgnficsIHYuQ2hhcHRlciArICcnKTtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgIGxldCBwYXlJbmZvID0gUGF5TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFBheUluZm8odi5Qcm9kdWN0SWQpO1xyXG4gICAgICAgIC8vICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcIm9yaWdpblByaWNlXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gcGF5SW5mby5jdXJyZW5jeSArIChNeVRvb2wuZ2V0TnVtYmVyRnJvbVN0cmluZyhwYXlJbmZvLnByaWNlKSAqIHYuSW5pdGlhbFByaWNlKTtcclxuICAgICAgICAvLyAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJwYXlCdG5cIikuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihjYy5MYWJlbCkuc3RyaW5nID0gcGF5SW5mby5wcmljZTtcclxuICAgICAgICAvLyAgICAgICAgIGxldCBwcm9wUm9vdCA9IGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJpdGVtUm9vdFwiKTtcclxuICAgICAgICAvLyAgICAgICAgIGlmICh2LkdldENvaW5OdW0gIT0gMCkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKFByb3BJZC5Db2luLCB2LkdldENvaW5OdW0pO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHJld2FyZC5zY2FsZSA9IDAuNzU7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgcHJvcFJvb3QuYWRkQ2hpbGQocmV3YXJkKTtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgIGlmICh2LkdldEdlbU51bSAhPSAwKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgbGV0IHJld2FyZCA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlUHJvcEl0ZW0oUHJvcElkLkdlbSwgdi5HZXRHZW1OdW0pO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHJld2FyZC5zY2FsZSA9IDAuNzU7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgcHJvcFJvb3QuYWRkQ2hpbGQocmV3YXJkKTtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgIGlmICh2Lkl0ZW1JZF8xICE9IDApIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBsZXQgcmV3YXJkID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbSh2Lkl0ZW1JZF8xLCB2Lkl0ZW1OdW1fMSk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgcmV3YXJkLnNjYWxlID0gMC43NTtcclxuICAgICAgICAvLyAgICAgICAgICAgICBwcm9wUm9vdC5hZGRDaGlsZChyZXdhcmQpO1xyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgaWYgKHYuSXRlbUlkXzIgIT0gMCkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKHYuSXRlbUlkXzIsIHYuSXRlbU51bV8yKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICByZXdhcmQuc2NhbGUgPSAwLjc1O1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHByb3BSb290LmFkZENoaWxkKHJld2FyZCk7XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgICAgICBjaGFwdGVyUm9vdC5hZGRDaGlsZChpdGVtKTtcclxuICAgICAgICAvLyAgICAgICAgIGlmIChjaGFwdGVyUm9vdC5jaGlsZHJlbkNvdW50ID09IDMpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBjaGFwdGVyUm9vdC5jaGlsZHJlblsyXS54ID0gMDtcclxuICAgICAgICAvLyAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgY2hhcHRlclJvb3QuY2hpbGRyZW5bY2hhcHRlclJvb3QuY2hpbGRyZW5Db3VudCAtIDFdLnggPSAyICogY2hhcHRlclJvb3QuY2hpbGRyZW5bY2hhcHRlclJvb3QuY2hpbGRyZW5Db3VudCAtIDFdLndpZHRoO1xyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgbGV0IGJ0biA9IGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJwYXlCdG5cIik7XHJcbiAgICAgICAgLy8gICAgICAgICBidG4uYWRkQ29tcG9uZW50KGNjLkJ1dHRvbikudHJhbnNpdGlvbiA9IGNjLkJ1dHRvbi5UcmFuc2l0aW9uLlNDQUxFO1xyXG4gICAgICAgIC8vICAgICAgICAgYnRuLmdldENvbXBvbmVudChjYy5CdXR0b24pLmR1cmF0aW9uID0gMC4xO1xyXG4gICAgICAgIC8vICAgICAgICAgYnRuLmdldENvbXBvbmVudChjYy5CdXR0b24pLnpvb21TY2FsZSA9IDAuOTtcclxuICAgICAgICAvLyAgICAgICAgIGJ0bi5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsICgpID0+IHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBBcGtNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd1BheSh7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIHJlc3VsdDogKGlzRHkpID0+IHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGlmIChpc0R5KSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmZvbGxvd0V2ZW50KEZvbGxvd19UeXBlLuWVhuWfjueroOiKguekvOWMhXjnq6Dngrnlh7votK3kubDmrKHmlbAgKyB2LkNoYXB0ZXIpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmRMaXN0ID0gW107XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYuR2V0Q29pbk51bSAhPSAwKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShQcm9wSWQuQ29pbiwgdi5HZXRDb2luTnVtKVxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShQcm9wSWQuQ29pbiwgdi5HZXRDb2luTnVtKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV3YXJkTGlzdC5wdXNoKHJld2FyZCk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2LkdldEdlbU51bSAhPSAwKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShQcm9wSWQuR2VtLCB2LkdldEdlbU51bSlcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJld2FyZCA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlUHJvcEl0ZW0oUHJvcElkLkdlbSwgdi5HZXRHZW1OdW0pO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXdhcmRMaXN0LnB1c2gocmV3YXJkKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYuSXRlbUlkXzEgIT0gMCkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0odi5JdGVtSWRfMSwgdi5JdGVtTnVtXzEpXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKHYuSXRlbUlkXzEsIHYuSXRlbU51bV8xKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV3YXJkTGlzdC5wdXNoKHJld2FyZCk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2Lkl0ZW1JZF8yICE9IDApIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKHYuSXRlbUlkXzIsIHYuSXRlbU51bV8yKVxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbSh2Lkl0ZW1JZF8yLCB2Lkl0ZW1OdW1fMik7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJld2FyZExpc3QucHVzaChyZXdhcmQpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dNdWx0aXBsZUdldFRpcChyZXdhcmRMaXN0KTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNldEl0ZW0oU3RvcmFnZUtleS5TdG9yZUNoYXB0ZXJJdGVtICsgdi5DaGFwdGVyLCAnMScpXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgY2hhcHRlclJvb3QucmVtb3ZlQ2hpbGQoaXRlbSk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXB0ZXJSb290LmNoaWxkcmVuQ291bnQgPT0gMikge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50LmdldENoaWxkQnlOYW1lKFwiY2hhcHRlclRpdGxlXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFwdGVyTGVmdC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcHRlclJpZ2h0LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFwdGVyUm9vdC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXB0ZXJSb290LmNoaWxkcmVuQ291bnQgPD0gMykge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFwdGVyTGVmdC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcHRlclJpZ2h0LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYy50d2VlbihjaGFwdGVyUm9vdC5jaGlsZHJlblsyXSkudG8oMC4yLCB7IHBvc2l0aW9uOiBjYy52MygwLCAwLCAwKSB9KS5zdGFydCgpLmNhbGwoKCkgPT4ge1xyXG5cclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2MudHdlZW4oY2hhcHRlclJvb3QuY2hpbGRyZW5bMl0pLnRvKDAuMiwgeyBwb3NpdGlvbjogY2MudjMoMCwgMCwgMCkgfSkuc3RhcnQoKS5jYWxsKCgpID0+IHtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgICAgICB9LCB2LlByb2R1Y3RJZClcclxuICAgICAgICAvLyAgICAgICAgIH0pO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfSk7XHJcblxyXG4gICAgICAgIGNoYXB0ZXJMZWZ0LmFkZENvbXBvbmVudChjYy5CdXR0b24pLnRyYW5zaXRpb24gPSBjYy5CdXR0b24uVHJhbnNpdGlvbi5TQ0FMRTtcclxuICAgICAgICBjaGFwdGVyTGVmdC5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS5kdXJhdGlvbiA9IDAuMTtcclxuICAgICAgICBjaGFwdGVyTGVmdC5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS56b29tU2NhbGUgPSAwLjk7XHJcblxyXG4gICAgICAgIGNoYXB0ZXJSaWdodC5hZGRDb21wb25lbnQoY2MuQnV0dG9uKS50cmFuc2l0aW9uID0gY2MuQnV0dG9uLlRyYW5zaXRpb24uU0NBTEU7XHJcbiAgICAgICAgY2hhcHRlclJpZ2h0LmdldENvbXBvbmVudChjYy5CdXR0b24pLmR1cmF0aW9uID0gMC4xO1xyXG4gICAgICAgIGNoYXB0ZXJSaWdodC5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS56b29tU2NhbGUgPSAwLjk7XHJcblxyXG4gICAgICAgIGxldCBpbmRleCA9IDI7XHJcbiAgICAgICAgY2hhcHRlclJpZ2h0Lm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPj0gY2hhcHRlclJvb3QuY2hpbGRyZW5Db3VudCAtIDEpIHtcclxuICAgICAgICAgICAgICAgIGluZGV4ID0gY2hhcHRlclJvb3QuY2hpbGRyZW5Db3VudCAtIDE7XHJcbiAgICAgICAgICAgICAgICBjaGFwdGVyUmlnaHQuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGluZGV4ID4gMikgY2hhcHRlckxlZnQuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgY2MudHdlZW4oY2hhcHRlclJvb3QuY2hpbGRyZW5baW5kZXhdKS50bygwLjIsIHsgcG9zaXRpb246IGNjLnYzKDAsIDAsIDApIH0pLnN0YXJ0KCkuY2FsbCgoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY2MudHdlZW4oY2hhcHRlclJvb3QuY2hpbGRyZW5baW5kZXggLSAxXSkudG8oMC4yLCB7IHBvc2l0aW9uOiBjYy52MygtODAwLCAwLCAwKSB9KS5zdGFydCgpLmNhbGwoKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNoYXB0ZXJMZWZ0Lm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpbmRleC0tO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPD0gMikge1xyXG4gICAgICAgICAgICAgICAgaW5kZXggPSAyO1xyXG4gICAgICAgICAgICAgICAgY2hhcHRlckxlZnQuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGluZGV4IDwgY2hhcHRlclJvb3QuY2hpbGRyZW5Db3VudCAtIDEpIGNoYXB0ZXJSaWdodC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBjYy50d2VlbihjaGFwdGVyUm9vdC5jaGlsZHJlbltpbmRleF0pLnRvKDAuMiwgeyBwb3NpdGlvbjogY2MudjMoMCwgMCwgMCkgfSkuc3RhcnQoKS5jYWxsKCgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjYy50d2VlbihjaGFwdGVyUm9vdC5jaGlsZHJlbltpbmRleCArIDFdKS50bygwLjIsIHsgcG9zaXRpb246IGNjLnYzKDgwMCwgMCwgMCkgfSkuc3RhcnQoKS5jYWxsKCgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoY2hhcHRlclJvb3QuY2hpbGRyZW5Db3VudCA8PSAzKSB7XHJcbiAgICAgICAgICAgIGNoYXB0ZXJMZWZ0LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjaGFwdGVyUmlnaHQuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2hhcHRlclJvb3QuY2hpbGRyZW5Db3VudCA9PSAyKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuZ2V0Q2hpbGRCeU5hbWUoXCJjaGFwdGVyVGl0bGVcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGNoYXB0ZXJSb290LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29udGVudC5nZXRDaGlsZEJ5TmFtZShcImNoYXB0ZXJUaXRsZVwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBjaGFwdGVyUm9vdC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb250ZW50LmFkZENoaWxkKGNoYXB0ZXJSb290KTtcclxuICAgICAgICAvLyNlbmRyZWdpb25cclxuICAgICAgICAvLyDoi7Hpm4Tmi5vli59cclxuICAgICAgICB0aXRsZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuc3RvcmVfdGl0bGUpO1xyXG4gICAgICAgIHRpdGxlLmdldENvbXBvbmVudEluQ2hpbGRyZW4oVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQoMTQ2MDAxMSk7XHJcbiAgICAgICAgdGl0bGUubmFtZSA9IFwibXlzdGVyeVRpdGxlXCI7XHJcbiAgICAgICAgY29udGVudC5hZGRDaGlsZCh0aXRsZSk7XHJcblxyXG4gICAgICAgIGxldCBoZXJvUm9vdCA9IG5ldyBjYy5Ob2RlKCk7XHJcbiAgICAgICAgaGVyb1Jvb3QubmFtZSA9ICdoZXJvUm9vdCc7XHJcbiAgICAgICAgaGVyb1Jvb3QuaGVpZ2h0ID0gdGhpcy5zdG9yZV9oZXJvX2l0ZW0uZGF0YS5oZWlnaHQ7XHJcbiAgICAgICAgaGVyb1Jvb3Qud2lkdGggPSAodGhpcy5zdG9yZV9oZXJvX2l0ZW0uZGF0YS53aWR0aCArIDIwKSAqIDM7XHJcblxyXG4gICAgICAgIGxldCBoZXJvSXRlbSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuc3RvcmVfaGVyb19pdGVtKTtcclxuICAgICAgICB0aGlzLmhlcm9faW5zdGFuY2UgPSBoZXJvSXRlbTtcclxuICAgICAgICBoZXJvSXRlbS5uYW1lID0gXCJoZXJvSXRlbVwiO1xyXG4gICAgICAgIGhlcm9JdGVtLmdldENoaWxkQnlOYW1lKFwicmljaEJnXCIpLmdldENvbXBvbmVudEluQ2hpbGRyZW4oY2MuUmljaFRleHQpLnN0cmluZyA9IExhbmd1YWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0ckJ5VGV4dElkKDE0NjAwMDIpO1xyXG4gICAgICAgIGhlcm9JdGVtLmdldENoaWxkQnlOYW1lKFwiSWNvbk51bVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwiWFwiICsgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKDQwMDA0KTtcclxuICAgICAgICBsZXQgcHJpemVIZXJvRGF0YSA9IERyYXdDYXJkSW5mb3JtYXRpb25NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SnNvbkRyYXdDYXJkSW5mb3JtYXRpb24oMTAwMSk7XHJcbiAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZUhlcm9EYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgaGVyb0l0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgIGhlcm9JdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMTBcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplSGVyb0RhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMTBcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgaGVyb0l0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVIZXJvRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGhlcm9UaXAgPSBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm5hbWVcIikuZ2V0Q2hpbGRCeU5hbWUoXCJ0aXBcIik7XHJcbiAgICAgICAgaGVyb1RpcC5hZGRDb21wb25lbnQoY2MuQnV0dG9uKS50cmFuc2l0aW9uID0gY2MuQnV0dG9uLlRyYW5zaXRpb24uU0NBTEU7XHJcbiAgICAgICAgaGVyb1RpcC5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS5kdXJhdGlvbiA9IDAuMTtcclxuICAgICAgICBoZXJvVGlwLmdldENvbXBvbmVudChjYy5CdXR0b24pLnpvb21TY2FsZSA9IDAuOTtcclxuXHJcbiAgICAgICAgaGVyb1RpcC5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsICgpID0+IHtcclxuICAgICAgICAgICAgVUlNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd1VpRGlhbG9nKFVJUGF0aC5Qcm9iYWJpbGl0eVRpcFVpLCBVSUxheWVyTGV2ZWwuT25lLCB7XHJcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlZDogKHVpTm9kZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHVpTm9kZS5nZXRDb21wb25lbnQoUHJvYmFiaWxpdHlUaXBVaSkuaW5pdChudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICB1aU5vZGUuZ2V0Q29tcG9uZW50KFByb2JhYmlsaXR5VGlwVWkpLmluaXRVaSgpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCBoZXJvQnRuMSA9IGhlcm9JdGVtLmdldENoaWxkQnlOYW1lKFwiYnRuMVwiKTtcclxuICAgICAgICBsZXQgaGVyb0J0bjEwID0gaGVyb0l0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJidG4xMFwiKTtcclxuICAgICAgICBoZXJvQnRuMTAuZ2V0Q2hpbGRCeU5hbWUoJ3JlZCcpLmFjdGl2ZSA9IEdhbWVEYXRhLmdldEluc3RhbmNlKCkuZ2V0SGVyb1JlY3J1aXRpbmdSZWRUaXAoKTtcclxuICAgICAgICBoZXJvQnRuMS5hZGRDb21wb25lbnQoY2MuQnV0dG9uKS50cmFuc2l0aW9uID0gY2MuQnV0dG9uLlRyYW5zaXRpb24uU0NBTEU7XHJcbiAgICAgICAgaGVyb0J0bjEuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuZHVyYXRpb24gPSAwLjE7XHJcbiAgICAgICAgaGVyb0J0bjEuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuem9vbVNjYWxlID0gMC45O1xyXG5cclxuICAgICAgICBoZXJvQnRuMTAuYWRkQ29tcG9uZW50KGNjLkJ1dHRvbikudHJhbnNpdGlvbiA9IGNjLkJ1dHRvbi5UcmFuc2l0aW9uLlNDQUxFO1xyXG4gICAgICAgIGhlcm9CdG4xMC5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS5kdXJhdGlvbiA9IDAuMTtcclxuICAgICAgICBoZXJvQnRuMTAuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuem9vbVNjYWxlID0gMC45O1xyXG5cclxuICAgICAgICBoZXJvQnRuMS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGNvc3RJZCA9IDA7XHJcbiAgICAgICAgICAgIGxldCBjb3N0TnVtID0gMDtcclxuICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgY29zdElkID0gcHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8xO1xyXG4gICAgICAgICAgICAgICAgY29zdE51bSA9IHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgIC8vIOS7peS4i+S4uuWQjuerr+acquWtmOa2iOi0ueWIuOeahOWkhOeQhu+8jOW9k+WQjuerr+WtmOWCqOa2iOi0ueWIuOaXtu+8jOS9v+eUqOS4iumdouS4pOihjOS7o+eggVxyXG4gICAgICAgICAgICAgICAgLy8gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMSwtcHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvc3RJZCA9IHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMjtcclxuICAgICAgICAgICAgICAgIC8vIGNvc3ROdW0gPSAwO1xyXG4gICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmFkZFRvdGFsKEZvbGxvd19UeXBlLuiusOW9leaLm+WLn+a2iOiAl+aLm+WLn+WNt+aVsOmHjywgcHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvc3RJZCA9IHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMjtcclxuICAgICAgICAgICAgICAgIGNvc3ROdW0gPSBwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuYWRkVG90YWwoRm9sbG93X1R5cGUu6K6w5b2V5oub5Yuf5Y235raI6ICX6ZK755+z5pWw6YePLCBjb3N0TnVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBpZihQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0oY29zdElkKSA8IGNvc3ROdW0pe1xyXG4gICAgICAgICAgICAvLyAgICAgVUlNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd1VpRGlhbG9nKFVJUGF0aC5Db2luUG9wLFVJTGF5ZXJMZXZlbC5Ud28se29uQ29tcGxldGVkOih1aU5vZGUpPT4ge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIHVpTm9kZS5nZXRDb21wb25lbnQoQ29pblBvcCkuaW5pdFVpKFByb3BJZC5HZW0pXHJcbiAgICAgICAgICAgIC8vICAgICB9LH0pO1xyXG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKGNvc3RJZCkgPCBjb3N0TnVtKSB7XHJcbiAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dNZXNzYWdlKExhbmd1YWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0ckJ5VGV4dElkKDEwMDA0MSkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwic2Nyb2xsXCIpLmdldENvbXBvbmVudChjYy5TY3JvbGxWaWV3KS5zY3JvbGxUb0JvdHRvbSgyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gaWYoSXNEZWJ1ZykgY29zdE51bSA9IDA7XHJcbiAgICAgICAgICAgIEh0dHBNYW5hZ2VyLnBvc3QoQWNjZXNzTmFtZS50cnlQcml6ZSwgdGhpcy5nZXRQcml6ZUpzb25TdHJpbmcoMSwgMSwgY29zdElkLCBjb3N0TnVtKSwgdHJ1ZSkudGhlbigoZGF0YTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShjb3N0SWQsIC1jb3N0TnVtKTtcclxuICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnJlZnJlc2hHZW1TaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmZvbGxvd0V2ZW50KEZvbGxvd19UeXBlLuiusOW9leWNleasoeaLm+WLn+eahOasoeaVsCk7XHJcbiAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ov5vooYwx5qyh6Iux6ZuE5oub5YufKTtcclxuICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLui/m+ihjDEw5qyh6Iux6ZuE5oub5YufKTtcclxuICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLuaLm+WLn1jmrKHoi7Hpm4QpO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShkYXRhWzBdLmRyb3BJZCwgZGF0YVswXS5kcm9wTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICBIZXJvTWFuYWdlci5nZXRJbnN0YW5jZSgpLnJlcG9ydEhlcm9MaXN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHR5cGUgPSBJdGVtTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFR5cGUoZGF0YVswXS5kcm9wSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09IDExKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u57Sv6K6h5oub5YufWOS4quiLsembhCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2F2ZUFsbFByb3BOdW0oKTtcclxuICAgICAgICAgICAgICAgICAgICBVSU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93VWlEaWFsb2coVUlQYXRoLlN0b3JlSGVyb1VpLCBVSUxheWVyTGV2ZWwuT25lLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGVkOiAodWlOb2RlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aU5vZGUuZ2V0Q29tcG9uZW50KFN0b3JlSGVyb1VpKS5pbml0KG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdWlOb2RlLmdldENvbXBvbmVudChTdG9yZUhlcm9VaSkuaW5pdERhdGEoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZUhlcm9EYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVyb0l0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlcm9JdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMTBcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplSGVyb0RhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMTBcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVyb0l0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVIZXJvRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGhlcm9CdG4xMC5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGNvc3RJZCA9IDA7XHJcbiAgICAgICAgICAgIGxldCBjb3N0TnVtID0gMDtcclxuICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplSGVyb0RhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgY29zdElkID0gcHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8xO1xyXG4gICAgICAgICAgICAgICAgY29zdE51bSA9IHByaXplSGVyb0RhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgIC8vIOS7peS4i+S4uuWQjuerr+acquWtmOa2iOi0ueWIuOeahOWkhOeQhu+8jOW9k+WQjuerr+WtmOWCqOa2iOi0ueWIuOaXtu+8jOS9v+eUqOS4iumdouS4pOihjOS7o+eggVxyXG4gICAgICAgICAgICAgICAgLy8gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMSwtcHJpemVIZXJvRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvc3RJZCA9IHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMjtcclxuICAgICAgICAgICAgICAgIC8vIGNvc3ROdW0gPSAwO1xyXG4gICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmFkZFRvdGFsKEZvbGxvd19UeXBlLuiusOW9leaLm+WLn+a2iOiAl+aLm+WLn+WNt+aVsOmHjywgcHJpemVIZXJvRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvc3RJZCA9IHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMjtcclxuICAgICAgICAgICAgICAgIGNvc3ROdW0gPSBwcml6ZUhlcm9EYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuYWRkVG90YWwoRm9sbG93X1R5cGUu6K6w5b2V5oub5Yuf5Y235raI6ICX6ZK755+z5pWw6YePLCBjb3N0TnVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBpZihQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0oY29zdElkKSA8IGNvc3ROdW0pe1xyXG4gICAgICAgICAgICAvLyAgICAgVUlNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd1VpRGlhbG9nKFVJUGF0aC5Db2luUG9wLFVJTGF5ZXJMZXZlbC5Ud28se29uQ29tcGxldGVkOih1aU5vZGUpPT4ge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIHVpTm9kZS5nZXRDb21wb25lbnQoQ29pblBvcCkuaW5pdFVpKFByb3BJZC5HZW0pXHJcbiAgICAgICAgICAgIC8vICAgICB9LH0pO1xyXG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKGNvc3RJZCkgPCBjb3N0TnVtKSB7XHJcbiAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dNZXNzYWdlKExhbmd1YWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0ckJ5VGV4dElkKDEwMDA0MSkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwic2Nyb2xsXCIpLmdldENvbXBvbmVudChjYy5TY3JvbGxWaWV3KS5zY3JvbGxUb0JvdHRvbSgyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gaWYoSXNEZWJ1ZykgY29zdE51bSA9IDA7ICAgXHJcbiAgICAgICAgICAgIEh0dHBNYW5hZ2VyLnBvc3QoQWNjZXNzTmFtZS50cnlQcml6ZSwgdGhpcy5nZXRQcml6ZUpzb25TdHJpbmcoMiwgMSwgY29zdElkLCBjb3N0TnVtKSwgdHJ1ZSkudGhlbigoZGF0YTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShjb3N0SWQsIC1jb3N0TnVtKTtcclxuICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnJlZnJlc2hHZW1TaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmZvbGxvd0V2ZW50KEZvbGxvd19UeXBlLuiusOW9leWNgeasoeaLm+WLn+eahOasoeaVsCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxlbmd0aCA9IGRhdGEubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ov5vooYwx5qyh6Iux6ZuE5oub5YufKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ov5vooYwxMOasoeiLsembhOaLm+WLnyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u5oub5YufWOasoeiLsembhCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShkYXRhW2ldLmRyb3BJZCwgZGF0YVtpXS5kcm9wTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHR5cGUgPSBJdGVtTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFR5cGUoZGF0YVtpXS5kcm9wSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSAxMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ntK/orqHmi5vli59Y5Liq6Iux6ZuEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBIZXJvTWFuYWdlci5nZXRJbnN0YW5jZSgpLnJlcG9ydEhlcm9MaXN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBJbmRleCA9IE15VG9vbC5yYW5kb21SYW5nZUludCgwLCA5KTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IGRhdGFbOV07XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVs5XSA9IGRhdGFbdGVtcEluZGV4XTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhW3RlbXBJbmRleF0gPSB0ZW1wO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2F2ZUFsbFByb3BOdW0oKTtcclxuICAgICAgICAgICAgICAgICAgICBVSU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93VWlEaWFsb2coVUlQYXRoLlN0b3JlSGVyb1VpLCBVSUxheWVyTGV2ZWwuT25lLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGVkOiAodWlOb2RlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aU5vZGUuZ2V0Q29tcG9uZW50KFN0b3JlSGVyb1VpKS5pbml0KG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdWlOb2RlLmdldENvbXBvbmVudChTdG9yZUhlcm9VaSkuaW5pdERhdGEoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZUhlcm9EYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVyb0l0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlcm9JdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMTBcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplSGVyb0RhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMTBcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVyb0l0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVIZXJvRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBoZXJvQnRuMTAuZ2V0Q2hpbGRCeU5hbWUoJ3JlZCcpLmFjdGl2ZSA9IEdhbWVEYXRhLmdldEluc3RhbmNlKCkuZ2V0SGVyb1JlY3J1aXRpbmdSZWRUaXAoKTtcclxuICAgICAgICAgICAgICAgICAgICBFdmVudE1hbmFnZXIucG9zdFJlZEV2ZW50KFJlZEV2ZW50U3RyaW5nLlJFRF9DSEVDSywgUmVkRXZlbnRUeXBlLkJ0bl9TaG9wKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaGVyb1Jvb3QuYWRkQ2hpbGQoaGVyb0l0ZW0pO1xyXG4gICAgICAgIGNvbnRlbnQuYWRkQ2hpbGQoaGVyb1Jvb3QpO1xyXG4gICAgICAgIC8vIOavj+aXpeWVhuW6l1xyXG4gICAgICAgIC8vI3JlZ2lvbiBcclxuICAgICAgICB0aXRsZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuc3RvcmVfdGl0bGUpO1xyXG4gICAgICAgIHRpdGxlLmdldENvbXBvbmVudEluQ2hpbGRyZW4oVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQoMTQ4MDAwMSk7XHJcbiAgICAgICAgdGl0bGUubmFtZSA9IFwiZGFpbHlTdG9yZVRpdGxlXCI7XHJcbiAgICAgICAgY29udGVudC5hZGRDaGlsZCh0aXRsZSk7XHJcblxyXG4gICAgICAgIGxldCB0aW1lTGFiZWwgPSBuZXcgY2MuTm9kZSgpLmFkZENvbXBvbmVudChUZXh0TGFuZ3VhZ2UpO1xyXG4gICAgICAgIHRpbWVMYWJlbC5ub2RlLmNvbG9yID0gY2MuY29sb3IoMjU1LCAyNDIsIDIwNik7XHJcbiAgICAgICAgdGltZUxhYmVsLm5vZGUuYW5jaG9yWCA9IDE7XHJcbiAgICAgICAgdGltZUxhYmVsLnZlcnRpY2FsQWxpZ24gPSBjYy5MYWJlbC5WZXJ0aWNhbEFsaWduLkNFTlRFUjtcclxuICAgICAgICB0aW1lTGFiZWwuaG9yaXpvbnRhbEFsaWduID0gY2MuTGFiZWwuSG9yaXpvbnRhbEFsaWduLlJJR0hUO1xyXG4gICAgICAgIHRpbWVMYWJlbC5lbmFibGVCb2xkID0gdHJ1ZTtcclxuICAgICAgICB0aW1lTGFiZWwuZm9udFNpemUgPSAyNDtcclxuICAgICAgICB0aW1lTGFiZWwuc2V0VGV4dElkKDEwMDA0NSk7XHJcblxyXG4gICAgICAgIGxldCB0aW1lTnVtID0gbmV3IGNjLk5vZGUoKS5hZGRDb21wb25lbnQoY2MuTGFiZWwpO1xyXG4gICAgICAgIHRpbWVOdW0ubm9kZS5jb2xvciA9IGNjLmNvbG9yKDc5LCAyNTUsIDcwKTtcclxuICAgICAgICB0aW1lTnVtLm5vZGUuYW5jaG9yWCA9IDA7XHJcbiAgICAgICAgdGltZU51bS52ZXJ0aWNhbEFsaWduID0gY2MuTGFiZWwuVmVydGljYWxBbGlnbi5DRU5URVI7XHJcbiAgICAgICAgdGltZU51bS5ob3Jpem9udGFsQWxpZ24gPSBjYy5MYWJlbC5Ib3Jpem9udGFsQWxpZ24uTEVGVDtcclxuICAgICAgICB0aW1lTnVtLmVuYWJsZUJvbGQgPSB0cnVlO1xyXG4gICAgICAgIHRpbWVOdW0uZm9udFNpemUgPSAyNDtcclxuXHJcbiAgICAgICAgbGV0IG5vd1RpbWUgPSBEYXRlLm5vdygpIC8gMTAwMDtcclxuICAgICAgICBsZXQgcmVzaWR1ZVRpbWUgPSBUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldE51bWJlcihTdG9yYWdlS2V5LlRvbW9yb3daZXJvVGltZVN0YW1wLCAwKSAtIG5vd1RpbWU7XHJcbiAgICAgICAgaWYgKHJlc2lkdWVUaW1lIDwgMCkge1xyXG4gICAgICAgICAgICByZXNpZHVlVGltZSA9ICgobmV3IERhdGUobmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKSkuZ2V0VGltZSgpICsgODY0MDAwMCkgLyAxMDAwKSAtIG5vd1RpbWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBoaCA9IE1hdGguZmxvb3IocmVzaWR1ZVRpbWUgLyAoNjAgKiA2MCkpO1xyXG4gICAgICAgIGlmIChoaCA8IDEwKSB7XHJcbiAgICAgICAgICAgIHRpbWVOdW0uc3RyaW5nID0gJzAnICsgaGggKyAnOic7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGltZU51bS5zdHJpbmcgPSBoaCArICc6JztcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG1tID0gTWF0aC5mbG9vcihyZXNpZHVlVGltZSAlICg2MCAqIDYwKSAvIDYwKTtcclxuICAgICAgICBpZiAobW0gPCAxMCkge1xyXG4gICAgICAgICAgICB0aW1lTnVtLnN0cmluZyArPSAnMCcgKyBtbSArICc6J1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRpbWVOdW0uc3RyaW5nICs9IG1tICsgJzonXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBzcyA9IE1hdGguZmxvb3IocmVzaWR1ZVRpbWUgJSAoNjAgKiA2MCkgJSA2MClcclxuICAgICAgICBpZiAoc3MgPCAxMCkge1xyXG4gICAgICAgICAgICB0aW1lTnVtLnN0cmluZyArPSAnMCcgKyBzc1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRpbWVOdW0uc3RyaW5nICs9IHNzXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOWKqOaAgeWIt+aWsOS4gOW+i+WGmeWcqOWHveaVsOeahOacgOS4i+aWuVxyXG5cclxuICAgICAgICBsZXQgdGV4dFJvb3QgPSBuZXcgY2MuTm9kZSgpO1xyXG4gICAgICAgIHRleHRSb290LndpZHRoID0gdGhpcy5ub2RlLndpZHRoO1xyXG4gICAgICAgIHRleHRSb290LmhlaWdodCA9IDIwO1xyXG4gICAgICAgIHRleHRSb290LmFkZENoaWxkKHRpbWVMYWJlbC5ub2RlKTtcclxuICAgICAgICB0ZXh0Um9vdC5hZGRDaGlsZCh0aW1lTnVtLm5vZGUpO1xyXG4gICAgICAgIGNvbnRlbnQuYWRkQ2hpbGQodGV4dFJvb3QpO1xyXG5cclxuICAgICAgICBsZXQgZGFpbHlTdG9yZVJvb3QgPSBuZXcgY2MuTm9kZSgpO1xyXG4gICAgICAgIGRhaWx5U3RvcmVSb290Lm5hbWUgPSAnZGFpbHlTdG9yZVJvb3QnO1xyXG4gICAgICAgIGRhaWx5U3RvcmVSb290LmhlaWdodCA9IHRoaXMuc3RvcmVfZGFpbHlfaXRlbS5kYXRhLmhlaWdodCAqIDIgKyAxMDtcclxuICAgICAgICBkYWlseVN0b3JlUm9vdC53aWR0aCA9IHRoaXMubm9kZS53aWR0aFxyXG4gICAgICAgIGNvbnRlbnQuYWRkQ2hpbGQoZGFpbHlTdG9yZVJvb3QpO1xyXG4gICAgICAgIGxldCBkYWlseVN0b3JlTGF5b3V0ID0gZGFpbHlTdG9yZVJvb3QuYWRkQ29tcG9uZW50KGNjLkxheW91dCk7XHJcbiAgICAgICAgZGFpbHlTdG9yZUxheW91dC50eXBlID0gY2MuTGF5b3V0LlR5cGUuR1JJRDtcclxuICAgICAgICBkYWlseVN0b3JlTGF5b3V0LnJlc2l6ZU1vZGUgPSBjYy5MYXlvdXQuUmVzaXplTW9kZS5DT05UQUlORVI7XHJcblxyXG4gICAgICAgIGRhaWx5U3RvcmVMYXlvdXQucGFkZGluZ1JpZ2h0ID0gNDA7XHJcbiAgICAgICAgZGFpbHlTdG9yZUxheW91dC5wYWRkaW5nTGVmdCA9IDQwO1xyXG4gICAgICAgIGRhaWx5U3RvcmVMYXlvdXQuc3BhY2luZ1ggPSAyMDtcclxuICAgICAgICBkYWlseVN0b3JlTGF5b3V0LnNwYWNpbmdZID0gMjA7XHJcbiAgICAgICAgbGV0IGRhaWx5RGF0YTogSnNvbkRhaWx5U2hvcDtcclxuICAgICAgICBpZiAoVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROdW1iZXIoU3RvcmFnZUtleS5TdG9yZURhaWx5U2hvcElkLCAwKSA9PSAwKSB7XHJcbiAgICAgICAgICAgIGxldCBpbmRleCA9IHRoaXMuZ2V0UmFuZG9tSW50KDEsIDQpO1xyXG4gICAgICAgICAgICBkYWlseURhdGEgPSBEYWlseVNob3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SnNvbkRhdGFCeUNoYXB0ZXJBbmRJbmRlKExldmVsTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEZpbmlzaENoYXB0ZXIoKSwgaW5kZXgpO1xyXG4gICAgICAgICAgICBUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNldEl0ZW0oU3RvcmFnZUtleS5TdG9yZURhaWx5U2hvcElkLCBkYWlseURhdGEuU2hvcF9JRCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGFpbHlEYXRhID0gRGFpbHlTaG9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEpzb25EYWlseVNob3AoVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROdW1iZXIoU3RvcmFnZUtleS5TdG9yZURhaWx5U2hvcElkKSlcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLmr4/ml6XllYblupdJRDpcIiArIGRhaWx5RGF0YS5TaG9wX0lEKTtcclxuICAgICAgICBkYWlseURhdGEuU2hvcGxpc3QuZm9yRWFjaCgodiwgaykgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuavj+aXpeWVhuW6l+mBk+WFt1wiICsgayArIFwiOlwiICsgdik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZGFpbHlEYXRhLlNob3BsaXN0LmZvckVhY2goKHYsIGspID0+IHtcclxuICAgICAgICAgICAgbGV0IGl0ZW0gPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnN0b3JlX2RhaWx5X2l0ZW0pO1xyXG4gICAgICAgICAgICBsZXQgc3RvcmVJdGVtSW5mbyA9IENvbW1vZGl0eUluZm9ybWF0aW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEpzb25Db21tb2RpdHlJbmZvcm1hdGlvbih2KVxyXG4gICAgICAgICAgICBpZiAoVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROdW1iZXIoU3RvcmFnZUtleS5TdG9yZURhaWx5U2hvcE51bSArIGssIDApIDwgc3RvcmVJdGVtSW5mby5BZFBsYXlhYmxlVGltZXMpIHtcclxuICAgICAgICAgICAgICAgIC8vIOWPr+i0reS5sFxyXG4gICAgICAgICAgICAgICAgaWYgKENvbW1vZGl0eUluZm9ybWF0aW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEFkUmV3YXJkKHYpID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyDlub/lkYrllYblk4FcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiZGlzY291bnRJY29uXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJkaXNjb3VudE51bVwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwicHJpY2VcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImZyZWVcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwicmVkXCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gdGhpcy5zdG9yZV91aS5nZXRTcHJpdGVGcmFtZShcIlNob3BfSWNvbl9BRFNcIilcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwibmFtZVwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQoSXRlbU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROYW1lVGV4dElkKHN0b3JlSXRlbUluZm8uR2V0SXRlbSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxldCBuYW1lID0gaXRlbS5nZXRDaGlsZEJ5TmFtZShcIm5hbWVcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZihJdGVtTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEpzb25JdGVtKHN0b3JlSXRlbUluZm8uR2V0SXRlbSkuVHlwZT09NSl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGxldCB2YWx1ZVN0cj0yNDtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbGV0IHl1c2h1PUl0ZW1NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SnNvbkl0ZW0oc3RvcmVJdGVtSW5mby5HZXRJdGVtKS5JdGVtSUQlMTAtMTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYoeXVzaHU8PTQpe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgdmFsdWVTdHI9TWF0aC5wb3coMix5dXNodSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYodmFsdWVTdHIgPT0gMTYpIHZhbHVlU3RyID0gMjQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIG5hbWUuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmc9bmFtZS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZy5yZXBsYWNlKCd+Jyx2YWx1ZVN0ci50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy8gZGV0YWlsU3RyPWRldGFpbFN0ci5yZXBsYWNlKCd+Jyx2YWx1ZVN0ci50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJld2FyZCA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlUHJvcEl0ZW0oc3RvcmVJdGVtSW5mby5HZXRJdGVtLCBzdG9yZUl0ZW1JbmZvLkdldE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV3YXJkLm5hbWUgPSAncmV3YXJkJztcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmFkZENoaWxkKHJld2FyZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uYWRkQ29tcG9uZW50KGNjLkJ1dHRvbikudHJhbnNpdGlvbiA9IGNjLkJ1dHRvbi5UcmFuc2l0aW9uLlNDQUxFO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuZHVyYXRpb24gPSAwLjE7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS56b29tU2NhbGUgPSAwLjk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0ub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFwa01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93VmlkZW8oKChpc1RydWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1RydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLuWVhuW6l+S4rei0reS5sOeJqeWTgTHmrKEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u5YmN5b6A5ZWG5Z+O6LSt5LmwWOasoeWVhuWTgSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKHN0b3JlSXRlbUluZm8uR2V0SXRlbSwgc3RvcmVJdGVtSW5mby5HZXROdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKHN0b3JlSXRlbUluZm8uR2V0SXRlbSwgc3RvcmVJdGVtSW5mby5HZXROdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBudW0gPSBUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldE51bWJlcihTdG9yYWdlS2V5LlN0b3JlRGFpbHlTaG9wTnVtICsgaywgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmZvbGxvd0V2ZW50KEZvbGxvd19UeXBlLuWcqOavj+aXpeWVhuW6l+S4reS9v+eUqOW5v+WRiui0reS5sOmSu+efs+eahOasoeaVsCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zZXRJdGVtKFN0b3JhZ2VLZXkuU3RvcmVEYWlseVNob3BOdW0gKyBrLCBudW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudW0gPj0gc3RvcmVJdGVtSW5mby5BZFBsYXlhYmxlVGltZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiZnJlZVwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInNhbGVPdXRcIikuekluZGV4ID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInNhbGVPdXRcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInJlZFwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLnBvc3RSZWRFdmVudChSZWRFdmVudFN0cmluZy5SRURfQ0hFQ0ssIFJlZEV2ZW50VHlwZS5CdG5fU2hvcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0eXBlID0gSXRlbU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRUeXBlKHN0b3JlSXRlbUluZm8uR2V0SXRlbSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInJld2FyZFwiKS5nZXRDb21wb25lbnQoRXF1aXBJdGVtKS5wcm9wX2FjdGlvbiA9IFByb3BBY3Rpb24uTnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJyZXdhcmRcIikuZ2V0Q29tcG9uZW50KFByb3ApLnByb3BfYWN0aW9uID0gUHJvcEFjdGlvbi5OdWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS7mr4/ml6XllYblupfkuK3miJDlip/otK3kubDnianlk4HnmoTmrKHmlbApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd0dldFRpcChyZXdhcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDlpLHotKVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUu5q+P5pel5ZWG5bqX5Lit6LSt5Lmw5aSx6LSl55qE5qyh5pWwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSksIFZJREVPX1RZUEUuR2VtKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyDpnZ7lub/lkYrllYblk4FcclxuICAgICAgICAgICAgICAgICAgICBpZiAoVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROdW1iZXIoU3RvcmFnZUtleS5TdG9yZURhaWx5U2hvcERpc2NvdW50ICsgaywgMCkgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDml6DmipjmiaPpnIDopoHpmo/mnLrmipjmiaNcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpc2NvdW50TnVtID0gdGhpcy5nZXRSYW5kb21JbnQoNCwgOSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2V0SXRlbShTdG9yYWdlS2V5LlN0b3JlRGFpbHlTaG9wRGlzY291bnQgKyBrLCBkaXNjb3VudE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJmcmVlXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwicmVkXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBFdmVudE1hbmFnZXIucG9zdFJlZEV2ZW50KFJlZEV2ZW50U3RyaW5nLlJFRF9DSEVDSywgUmVkRXZlbnRUeXBlLkJ0bl9TaG9wKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHN0b3JlSXRlbUluZm8uQ29zdEl0ZW1JRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJwcmljZVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9ICd4JyArIE15VG9vbC5nZXRDb2luRGFud2VpKHN0b3JlSXRlbUluZm8uQ29zdE51bSAqIGRpc2NvdW50TnVtICogMC4xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcIm5hbWVcIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc2V0VGV4dElkKEl0ZW1NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0TmFtZVRleHRJZChzdG9yZUl0ZW1JbmZvLkdldEl0ZW0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImRpc2NvdW50TnVtXCIpLmdldENvbXBvbmVudChUZXh0TGFuZ3VhZ2UpLnNldFJlcGxhY2VWYWx1ZSgnficsICgxMDAgLSBkaXNjb3VudE51bSAqIDEwKSArICcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJld2FyZCA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlUHJvcEl0ZW0oc3RvcmVJdGVtSW5mby5HZXRJdGVtLCBzdG9yZUl0ZW1JbmZvLkdldE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJld2FyZC5uYW1lID0gJ3Jld2FyZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uYWRkQ2hpbGQocmV3YXJkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uYWRkQ29tcG9uZW50KGNjLkJ1dHRvbikudHJhbnNpdGlvbiA9IGNjLkJ1dHRvbi5UcmFuc2l0aW9uLlNDQUxFO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENvbXBvbmVudChjYy5CdXR0b24pLmR1cmF0aW9uID0gMC4xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENvbXBvbmVudChjYy5CdXR0b24pLnpvb21TY2FsZSA9IDAuOTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShzdG9yZUl0ZW1JbmZvLkNvc3RJdGVtSUQsIC0oc3RvcmVJdGVtSW5mby5Db3N0TnVtICogZGlzY291bnROdW0gKiAwLjEpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u5ZWG5bqX5Lit6LSt5Lmw54mp5ZOBMeasoSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7liY3lvoDllYbln47otK3kubBY5qyh5ZWG5ZOBKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0oc3RvcmVJdGVtSW5mby5HZXRJdGVtLCBzdG9yZUl0ZW1JbmZvLkdldE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSHR0cE1hbmFnZXIucG9zdChBY2Nlc3NOYW1lLnNhdmVHYW1lVGFzaywgdGhpcy5nZXRTYXZlR2FtZVRhc2tKc29uU3RyaW5nKGspKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShzdG9yZUl0ZW1JbmZvLkdldEl0ZW0sIHN0b3JlSXRlbUluZm8uR2V0TnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbnVtID0gVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROdW1iZXIoU3RvcmFnZUtleS5TdG9yZURhaWx5U2hvcE51bSArIGssIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bSsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdG9yZUl0ZW1JbmZvLkNvc3RJdGVtSUQgPT0gUHJvcElkLkNvaW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmFkZFRvdGFsKEZvbGxvd19UeXBlLuWcqOavj+aXpeWVhuW6l+S4rea2iOiAl+eahOmHkeW4geaVsOmHjywgKHN0b3JlSXRlbUluZm8uQ29zdE51bSAqIGRpc2NvdW50TnVtICogMC4xKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmZvbGxvd0V2ZW50KEZvbGxvd19UeXBlLuWcqOavj+aXpeWVhuW6l+S4reS9v+eUqOmHkeW4gei0reS5sOeJqeWTgeeahOasoeaVsCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmFkZFRvdGFsKEZvbGxvd19UeXBlLuWcqOavj+aXpeWVhuW6l+S4rea2iOiAl+eahOmSu+efs+aVsOmHjywgKHN0b3JlSXRlbUluZm8uQ29zdE51bSAqIGRpc2NvdW50TnVtICogMC4xKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmZvbGxvd0V2ZW50KEZvbGxvd19UeXBlLuWcqOavj+aXpeWVhuW6l+S4reS9v+eUqOmSu+efs+i0reS5sOeJqeWTgeeahOasoeaVsCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2V0SXRlbShTdG9yYWdlS2V5LlN0b3JlRGFpbHlTaG9wTnVtICsgaywgbnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVtID49IHN0b3JlSXRlbUluZm8uQWRQbGF5YWJsZVRpbWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvblwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInByaWNlXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiZGlzY291bnROdW1cIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJkaXNjb3VudEljb25cIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJzYWxlT3V0XCIpLnpJbmRleCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJzYWxlT3V0XCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0eXBlID0gSXRlbU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRUeXBlKHN0b3JlSXRlbUluZm8uR2V0SXRlbSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInJld2FyZFwiKS5nZXRDb21wb25lbnQoRXF1aXBJdGVtKS5wcm9wX2FjdGlvbiA9IFByb3BBY3Rpb24uTnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJyZXdhcmRcIikuZ2V0Q29tcG9uZW50KFByb3ApLnByb3BfYWN0aW9uID0gUHJvcEFjdGlvbi5OdWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS7mr4/ml6XllYblupfkuK3miJDlip/otK3kubDnianlk4HnmoTmrKHmlbApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd0dldFRpcChyZXdhcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3JlSXRlbUluZm8uQ29zdEl0ZW1JRCA9PSBQcm9wSWQuQ29pbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVSU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93VWlEaWFsb2coVUlQYXRoLkNvaW5Qb3AsIFVJTGF5ZXJMZXZlbC5UaHJlZSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZWQ6ICh1aU5vZGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aU5vZGUuZ2V0Q29tcG9uZW50KENvaW5Qb3ApLmluaXRVaShQcm9wSWQuQ29pbilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVJTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dVaURpYWxvZyhVSVBhdGguQ29pblBvcCwgVUlMYXllckxldmVsLlRocmVlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlZDogKHVpTm9kZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpTm9kZS5nZXRDb21wb25lbnQoQ29pblBvcCkuaW5pdFVpKFByb3BJZC5HZW0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd01lc3NhZ2UoTGFuZ3VhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyQnlUZXh0SWQoMTAwMDQxKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmZvbGxvd0V2ZW50KEZvbGxvd19UeXBlLuavj+aXpeWVhuW6l+S4rei0reS5sOWksei0peeahOasoeaVsCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOacieaKmOaJo+ebtOaOpeivu+WPluaKmOaJo+eahOWkp+Wwj1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGlzY291bnROdW0gPSBUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldE51bWJlcihTdG9yYWdlS2V5LlN0b3JlRGFpbHlTaG9wRGlzY291bnQgKyBrKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJmcmVlXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwicmVkXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBFdmVudE1hbmFnZXIucG9zdFJlZEV2ZW50KFJlZEV2ZW50U3RyaW5nLlJFRF9DSEVDSywgUmVkRXZlbnRUeXBlLkJ0bl9TaG9wKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHN0b3JlSXRlbUluZm8uQ29zdEl0ZW1JRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJwcmljZVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9ICd4JyArIE15VG9vbC5nZXRDb2luRGFud2VpKHN0b3JlSXRlbUluZm8uQ29zdE51bSAqIGRpc2NvdW50TnVtICogMC4xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcIm5hbWVcIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc2V0VGV4dElkKEl0ZW1NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0TmFtZVRleHRJZChzdG9yZUl0ZW1JbmZvLkdldEl0ZW0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImRpc2NvdW50TnVtXCIpLmdldENvbXBvbmVudChUZXh0TGFuZ3VhZ2UpLnNldFJlcGxhY2VWYWx1ZSgnficsICgxMDAgLSBkaXNjb3VudE51bSAqIDEwKSArICcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJld2FyZCA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlUHJvcEl0ZW0oc3RvcmVJdGVtSW5mby5HZXRJdGVtLCBzdG9yZUl0ZW1JbmZvLkdldE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJld2FyZC5uYW1lID0gJ3Jld2FyZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uYWRkQ2hpbGQocmV3YXJkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uYWRkQ29tcG9uZW50KGNjLkJ1dHRvbikudHJhbnNpdGlvbiA9IGNjLkJ1dHRvbi5UcmFuc2l0aW9uLlNDQUxFO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENvbXBvbmVudChjYy5CdXR0b24pLmR1cmF0aW9uID0gMC4xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENvbXBvbmVudChjYy5CdXR0b24pLnpvb21TY2FsZSA9IDAuOTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKHN0b3JlSXRlbUluZm8uQ29zdEl0ZW1JRCwgLShzdG9yZUl0ZW1JbmZvLkNvc3ROdW0gKiBkaXNjb3VudE51bSAqIDAuMSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7llYblupfkuK3otK3kubDnianlk4Ex5qyhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLuWJjeW+gOWVhuWfjui0reS5sFjmrKHllYblk4EpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShzdG9yZUl0ZW1JbmZvLkdldEl0ZW0sIHN0b3JlSXRlbUluZm8uR2V0TnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIdHRwTWFuYWdlci5wb3N0KEFjY2Vzc05hbWUuc2F2ZUdhbWVUYXNrLCB0aGlzLmdldFNhdmVHYW1lVGFza0pzb25TdHJpbmcoaykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKHN0b3JlSXRlbUluZm8uR2V0SXRlbSwgc3RvcmVJdGVtSW5mby5HZXROdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBudW0gPSBUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldE51bWJlcihTdG9yYWdlS2V5LlN0b3JlRGFpbHlTaG9wTnVtICsgaywgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3JlSXRlbUluZm8uQ29zdEl0ZW1JRCA9PSBQcm9wSWQuQ29pbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuYWRkVG90YWwoRm9sbG93X1R5cGUu5Zyo5q+P5pel5ZWG5bqX5Lit5raI6ICX55qE6YeR5biB5pWw6YePLCAoc3RvcmVJdGVtSW5mby5Db3N0TnVtICogZGlzY291bnROdW0gKiAwLjEpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUu5Zyo5q+P5pel5ZWG5bqX5Lit5L2/55So6YeR5biB6LSt5Lmw54mp5ZOB55qE5qyh5pWwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuYWRkVG90YWwoRm9sbG93X1R5cGUu5Zyo5q+P5pel5ZWG5bqX5Lit5raI6ICX55qE6ZK755+z5pWw6YePLCAoc3RvcmVJdGVtSW5mby5Db3N0TnVtICogZGlzY291bnROdW0gKiAwLjEpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUu5Zyo5q+P5pel5ZWG5bqX5Lit5L2/55So6ZK755+z6LSt5Lmw54mp5ZOB55qE5qyh5pWwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zZXRJdGVtKFN0b3JhZ2VLZXkuU3RvcmVEYWlseVNob3BOdW0gKyBrLCBudW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudW0gPj0gc3RvcmVJdGVtSW5mby5BZFBsYXlhYmxlVGltZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwicHJpY2VcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJkaXNjb3VudE51bVwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImRpc2NvdW50SWNvblwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInNhbGVPdXRcIikuekluZGV4ID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInNhbGVPdXRcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHR5cGUgPSBJdGVtTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFR5cGUoc3RvcmVJdGVtSW5mby5HZXRJdGVtKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwicmV3YXJkXCIpLmdldENvbXBvbmVudChFcXVpcEl0ZW0pLnByb3BfYWN0aW9uID0gUHJvcEFjdGlvbi5OdWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInJld2FyZFwiKS5nZXRDb21wb25lbnQoUHJvcCkucHJvcF9hY3Rpb24gPSBQcm9wQWN0aW9uLk51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5EKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93R2V0VGlwKHJld2FyZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmZvbGxvd0V2ZW50KEZvbGxvd19UeXBlLuavj+aXpeWVhuW6l+S4reaIkOWKn+i0reS5sOeJqeWTgeeahOasoeaVsCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdG9yZUl0ZW1JbmZvLkNvc3RJdGVtSUQgPT0gUHJvcElkLkNvaW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVUlNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd1VpRGlhbG9nKFVJUGF0aC5Db2luUG9wLCBVSUxheWVyTGV2ZWwuVGhyZWUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGVkOiAodWlOb2RlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWlOb2RlLmdldENvbXBvbmVudChDb2luUG9wKS5pbml0VWkoUHJvcElkLkNvaW4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmFkZFRvdGFsKEZvbGxvd19UeXBlLuWcqOavj+aXpeWVhuW6l+S4rea2iOiAl+eahOmHkeW4geaVsOmHjywoc3RvcmVJdGVtSW5mby5Db3N0TnVtICogZGlzY291bnROdW0gKiAwLjEpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUu5Zyo5q+P5pel5ZWG5bqX5Lit5L2/55So6YeR5biB6LSt5Lmw54mp5ZOB55qE5qyh5pWwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVSU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93VWlEaWFsb2coVUlQYXRoLkNvaW5Qb3AsIFVJTGF5ZXJMZXZlbC5UaHJlZSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZWQ6ICh1aU5vZGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aU5vZGUuZ2V0Q29tcG9uZW50KENvaW5Qb3ApLmluaXRVaShQcm9wSWQuR2VtKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5hZGRUb3RhbChGb2xsb3dfVHlwZS7lnKjmr4/ml6XllYblupfkuK3mtojogJfnmoTpkrvnn7PmlbDph48sKHN0b3JlSXRlbUluZm8uQ29zdE51bSAqIGRpc2NvdW50TnVtICogMC4xKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmZvbGxvd0V2ZW50KEZvbGxvd19UeXBlLuWcqOavj+aXpeWVhuW6l+S4reS9v+eUqOmSu+efs+i0reS5sOeJqeWTgeeahOasoeaVsCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd01lc3NhZ2UoTGFuZ3VhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyQnlUZXh0SWQoMTAwMDQxKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmZvbGxvd0V2ZW50KEZvbGxvd19UeXBlLuavj+aXpeWVhuW6l+S4rei0reS5sOWksei0peeahOasoeaVsCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIOS4jeWPr+i0reS5sFxyXG4gICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInByaWNlXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImRpc2NvdW50TnVtXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImRpc2NvdW50SWNvblwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJmcmVlXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInJlZFwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIEV2ZW50TWFuYWdlci5wb3N0UmVkRXZlbnQoUmVkRXZlbnRTdHJpbmcuUkVEX0NIRUNLLCBSZWRFdmVudFR5cGUuQnRuX1Nob3ApO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJld2FyZCA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlUHJvcEl0ZW0oc3RvcmVJdGVtSW5mby5HZXRJdGVtLCBzdG9yZUl0ZW1JbmZvLkdldE51bSwgUHJvcEFjdGlvbi5OdWxsKTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uYWRkQ2hpbGQocmV3YXJkKTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJuYW1lXCIpLmdldENvbXBvbmVudChUZXh0TGFuZ3VhZ2UpLnNldFRleHRJZChJdGVtTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldE5hbWVUZXh0SWQoc3RvcmVJdGVtSW5mby5HZXRJdGVtKSk7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwic2FsZU91dFwiKS56SW5kZXggPSAxO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInNhbGVPdXRcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkYWlseVN0b3JlUm9vdC5hZGRDaGlsZChpdGVtKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyNlbmRyZWdpb25cclxuICAgICAgICAvLyDnpZ7np5jllYblupdcclxuICAgICAgICAvLyNyZWdpb24gXHJcbiAgICAgICAgdGl0bGUgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnN0b3JlX3RpdGxlKTtcclxuICAgICAgICB0aXRsZS5nZXRDb21wb25lbnRJbkNoaWxkcmVuKFRleHRMYW5ndWFnZSkuc2V0VGV4dElkKDE0NjAwMTEpO1xyXG4gICAgICAgIHRpdGxlLm5hbWUgPSBcIm15c3RlcnlUaXRsZVwiO1xyXG4gICAgICAgIGNvbnRlbnQuYWRkQ2hpbGQodGl0bGUpO1xyXG5cclxuICAgICAgICBsZXQgbXlzdGVyeVJvb3QgPSBuZXcgY2MuTm9kZSgpO1xyXG4gICAgICAgIG15c3RlcnlSb290Lm5hbWUgPSAnbXlzdGVyeVJvb3QnO1xyXG4gICAgICAgIG15c3RlcnlSb290LmhlaWdodCA9IHRoaXMuc3RvcmVfZXF1aXBfaXRlbS5kYXRhLmhlaWdodCArIDIwO1xyXG4gICAgICAgIG15c3RlcnlSb290LndpZHRoID0gdGhpcy5ub2RlLndpZHRoO1xyXG5cclxuICAgICAgICBsZXQgbXlzdGVyeUxheW91dCA9IG15c3RlcnlSb290LmFkZENvbXBvbmVudChjYy5MYXlvdXQpO1xyXG4gICAgICAgIG15c3RlcnlMYXlvdXQudHlwZSA9IGNjLkxheW91dC5UeXBlLkhPUklaT05UQUw7XHJcbiAgICAgICAgbXlzdGVyeUxheW91dC5yZXNpemVNb2RlID0gY2MuTGF5b3V0LlJlc2l6ZU1vZGUuQ09OVEFJTkVSO1xyXG5cclxuICAgICAgICBteXN0ZXJ5TGF5b3V0LnBhZGRpbmdSaWdodCA9IDQwO1xyXG4gICAgICAgIG15c3RlcnlMYXlvdXQucGFkZGluZ0xlZnQgPSA0MDtcclxuICAgICAgICBteXN0ZXJ5TGF5b3V0LnNwYWNpbmdYID0gMjA7XHJcblxyXG4gICAgICAgIGxldCBwZXRJdGVtID0gY2MuaW5zdGFudGlhdGUodGhpcy5zdG9yZV9wZXRfaXRlbSk7XHJcbiAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcInJpY2hCZ1wiKS5jaGlsZHJlblsxXS5jaGlsZHJlblsxXS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwiWFwiICsgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKDQwMDA2KTtcclxuICAgICAgICB0aGlzLnBldF9pbnN0YW5jZSA9IHBldEl0ZW07XHJcbiAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcInJpY2hCZ1wiKS5nZXRDb21wb25lbnRJbkNoaWxkcmVuKGNjLlJpY2hUZXh0KS5zdHJpbmcgPSBMYW5ndWFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdHJCeVRleHRJZCgxNDYwMDA1KTtcclxuICAgICAgICBsZXQgcHJpemVQZXREYXRhID0gRHJhd0NhcmRJbmZvcm1hdGlvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKc29uRHJhd0NhcmRJbmZvcm1hdGlvbigzMDAxKTtcclxuICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZVBldERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xMFwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVQZXREYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMTBcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMTBcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplUGV0RGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IG9uZURheVRpbWUgPSA2MCAqIDYwICogMjQgKiAxMDAwO1xyXG4gICAgICAgIGxldCBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgaWYgKFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0TnVtYmVyKFN0b3JhZ2VLZXkuU3RvcmVNeXN0ZXJ5UGV0RnJlZVRpbWUsIDApICsgb25lRGF5VGltZSAtIGN1cnJlbnRUaW1lIDw9IDApIHtcclxuICAgICAgICAgICAgLy8g5YWN6LS5XHJcbiAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiZnJlZVwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gdGhpcy5zdG9yZV91aS5nZXRTcHJpdGVGcmFtZShcIlNob3BfSWNvbl9BRFNcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImZyZWVcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBwZXRCdG4xID0gcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImJ0bjFcIik7XHJcbiAgICAgICAgbGV0IHBldEJ0bjEwID0gcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImJ0bjEwXCIpO1xyXG4gICAgICAgIHBldEJ0bjEuZ2V0Q2hpbGRCeU5hbWUoJ3JlZCcpLmFjdGl2ZSA9IEdhbWVEYXRhLmdldEluc3RhbmNlKCkuZ2V0UGV0UmVjcnVpdGluZ1JlZFRpcCgpO1xyXG4gICAgICAgIHBldEJ0bjEuYWRkQ29tcG9uZW50KGNjLkJ1dHRvbikudHJhbnNpdGlvbiA9IGNjLkJ1dHRvbi5UcmFuc2l0aW9uLlNDQUxFO1xyXG4gICAgICAgIHBldEJ0bjEuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuZHVyYXRpb24gPSAwLjE7XHJcbiAgICAgICAgcGV0QnRuMS5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS56b29tU2NhbGUgPSAwLjk7XHJcblxyXG4gICAgICAgIHBldEJ0bjEwLmFkZENvbXBvbmVudChjYy5CdXR0b24pLnRyYW5zaXRpb24gPSBjYy5CdXR0b24uVHJhbnNpdGlvbi5TQ0FMRTtcclxuICAgICAgICBwZXRCdG4xMC5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS5kdXJhdGlvbiA9IDAuMTtcclxuICAgICAgICBwZXRCdG4xMC5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS56b29tU2NhbGUgPSAwLjk7XHJcblxyXG4gICAgICAgIHBldEJ0bjEub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIOaaguacquW8gOaUvuWkhOeQhlxyXG4gICAgICAgICAgICAvLyBsZXQgcyA9IExhbmd1YWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0ckJ5VGV4dElkKDEwMDExMyk7XHJcbiAgICAgICAgICAgIC8vIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd01lc3NhZ2Uocyk7XHJcbiAgICAgICAgICAgIC8vIHJldHVybjtcclxuICAgICAgICAgICAgaWYgKEZ1bmN0aW9uRGVmaW5pdGlvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRJc1VubG9jayhGdW5jVHlwZS5QZXRQYXJhZGlzZSkgPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGxldCB1bmxvY2tUeXBlID0gRnVuY3Rpb25EZWZpbml0aW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFVubG9ja0NvbmRpdGlvblR5cGUoRnVuY1R5cGUuUGV0UGFyYWRpc2UpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHMgPSAnJztcclxuICAgICAgICAgICAgICAgIGlmICh1bmxvY2tUeXBlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBzID0gTGFuZ3VhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyQnlUZXh0SWQoMTAwMDUxKTtcclxuICAgICAgICAgICAgICAgICAgICBzID0gcy5yZXBsYWNlKCcuJywgJy4nICsgKEZ1bmN0aW9uRGVmaW5pdGlvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRVbmxvY2tDb25kaWN0aW9uUGFyYW1ldGVyKEZ1bmNUeXBlLlBldFBhcmFkaXNlKSkgKyAnJylcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcyA9IExhbmd1YWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0ckJ5VGV4dElkKDEwMDA1Mik7XHJcbiAgICAgICAgICAgICAgICAgICAgcyA9IHMucmVwbGFjZSgnficsIChNaXNzaW9uTGV2ZWxNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0TGV2ZWxOYW1lKChGdW5jdGlvbkRlZmluaXRpb25NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0VW5sb2NrQ29uZGljdGlvblBhcmFtZXRlcihGdW5jVHlwZS5QZXRQYXJhZGlzZSkpKSkgKyAnJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd01lc3NhZ2Uocyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgY29zdElkID0gMDtcclxuICAgICAgICAgICAgbGV0IGNvc3ROdW0gPSAwO1xyXG4gICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgY29zdElkID0gcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzE7XHJcbiAgICAgICAgICAgICAgICBjb3N0TnVtID0gcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb3N0SWQgPSBwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMjtcclxuICAgICAgICAgICAgICAgIGNvc3ROdW0gPSBwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgb25lRGF5VGltZSA9IDYwICogNjAgKiAyNCAqIDEwMDA7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIGlmIChUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldE51bWJlcihTdG9yYWdlS2V5LlN0b3JlTXlzdGVyeVBldEZyZWVUaW1lLCAwKSArIG9uZURheVRpbWUgLSBjdXJyZW50VGltZSA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyDlhY3otLlcclxuICAgICAgICAgICAgICAgIGNvc3ROdW0gPSAwO1xyXG4gICAgICAgICAgICAgICAgVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zZXRJdGVtKFN0b3JhZ2VLZXkuU3RvcmVNeXN0ZXJ5UGV0RnJlZVRpbWUsIGN1cnJlbnRUaW1lKVxyXG4gICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiZnJlZVwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIEFwa01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93VmlkZW8oKGlzVHJ1ZTogYm9vbGVhbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1RydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29zdE51bSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2V0SXRlbShTdG9yYWdlS2V5LlN0b3JlTXlzdGVyeVBldEZyZWVUaW1lLCBjdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJmcmVlXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXRCdG4xLmdldENoaWxkQnlOYW1lKCdyZWQnKS5hY3RpdmUgPSBHYW1lRGF0YS5nZXRJbnN0YW5jZSgpLmdldFBldFJlY3J1aXRpbmdSZWRUaXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLnBvc3RSZWRFdmVudChSZWRFdmVudFN0cmluZy5SRURfQ0hFQ0ssIFJlZEV2ZW50VHlwZS5CdG5fU2hvcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEh0dHBNYW5hZ2VyLnBvc3QoQWNjZXNzTmFtZS50cnlQcml6ZSwgdGhpcy5nZXRQcml6ZUpzb25TdHJpbmcoMSwgMywgY29zdElkLCBjb3N0TnVtKSwgdHJ1ZSkudGhlbigoZGF0YTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS7orrDlvZXlvIDlkK8x5qyh5a6g54mp55qE5qyh5pWwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLui/m+ihjDHmrKHlvIDlkK/oo4XlpIcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u57Sv6K6h5a215YyW54G15a6g6JuLWOasoSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7liY3lvoDllYbln47lrbXljJZY5qyh5a6g54mpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLui/m+ihjDHmrKHlrqDnianmi5vli58pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u6L+b6KGMMTDmrKHlrqDnianlrbXljJYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmRJdGVtID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShkYXRhWzBdLmRyb3BJZCwgZGF0YVswXS5kcm9wTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0oZGF0YVswXS5kcm9wSWQsIGRhdGFbMF0uZHJvcE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zYXZlQWxsUHJvcE51bSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd0dldFRpcChyZXdhcmRJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZVBldERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xMFwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVQZXREYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMTBcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMTBcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplUGV0RGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93TWVzc2FnZShMYW5ndWFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdHJCeVRleHRJZCgxKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgVklERU9fVFlQRS5FcXVpcClcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0oY29zdElkKSA8IGNvc3ROdW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dNZXNzYWdlKExhbmd1YWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0ckJ5VGV4dElkKDEwMDA0MSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcInNjcm9sbFwiKS5nZXRDb21wb25lbnQoY2MuU2Nyb2xsVmlldykuc2Nyb2xsVG9Cb3R0b20oMik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgSHR0cE1hbmFnZXIucG9zdChBY2Nlc3NOYW1lLnRyeVByaXplLCB0aGlzLmdldFByaXplSnNvblN0cmluZygxLCAzLCBjb3N0SWQsIGNvc3ROdW0pLCB0cnVlKS50aGVuKChkYXRhOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLue0r+iuoeWtteWMlueBteWuoOibi1jmrKEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLuWJjeW+gOWVhuWfjuWtteWMlljmrKHlrqDniakpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLui/m+ihjDHmrKHlrqDnianmi5vli58pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLui/m+ihjDEw5qyh5a6g54mp5a215YyWKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKGNvc3RJZCwgLWNvc3ROdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnJlZnJlc2hHZW1TaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmRJdGVtID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShkYXRhWzBdLmRyb3BJZCwgZGF0YVswXS5kcm9wTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKGRhdGFbMF0uZHJvcElkLCBkYXRhWzBdLmRyb3BOdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNhdmVBbGxQcm9wTnVtKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd0dldFRpcChyZXdhcmRJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplUGV0RGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xMFwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMTBcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplUGV0RGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMTBcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZVBldERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBwZXRCdG4xMC5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsICgpID0+IHtcclxuICAgICAgICAgICAgLy8g5pqC5pyq5byA5pS+5aSE55CGXHJcbiAgICAgICAgICAgIC8vIGxldCBzID0gTGFuZ3VhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyQnlUZXh0SWQoMTAwMTEzKTtcclxuICAgICAgICAgICAgLy8gR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93TWVzc2FnZShzKTtcclxuICAgICAgICAgICAgLy8gcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgaWYgKEZ1bmN0aW9uRGVmaW5pdGlvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRJc1VubG9jayhGdW5jVHlwZS5QZXRQYXJhZGlzZSkgPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGxldCB1bmxvY2tUeXBlID0gRnVuY3Rpb25EZWZpbml0aW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFVubG9ja0NvbmRpdGlvblR5cGUoRnVuY1R5cGUuUGV0UGFyYWRpc2UpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHMgPSAnJztcclxuICAgICAgICAgICAgICAgIGlmICh1bmxvY2tUeXBlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBzID0gTGFuZ3VhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyQnlUZXh0SWQoMTAwMDUxKTtcclxuICAgICAgICAgICAgICAgICAgICBzID0gcy5yZXBsYWNlKCcuJywgJy4nICsgKEZ1bmN0aW9uRGVmaW5pdGlvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRVbmxvY2tDb25kaWN0aW9uUGFyYW1ldGVyKEZ1bmNUeXBlLlBldFBhcmFkaXNlKSkgKyAnJylcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcyA9IExhbmd1YWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0ckJ5VGV4dElkKDEwMDA1Mik7XHJcbiAgICAgICAgICAgICAgICAgICAgcyA9IHMucmVwbGFjZSgnficsIChNaXNzaW9uTGV2ZWxNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0TGV2ZWxOYW1lKChGdW5jdGlvbkRlZmluaXRpb25NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0VW5sb2NrQ29uZGljdGlvblBhcmFtZXRlcihGdW5jVHlwZS5QZXRQYXJhZGlzZSkpKSkgKyAnJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd01lc3NhZ2Uocyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGNvc3RJZCA9IDA7XHJcbiAgICAgICAgICAgIGxldCBjb3N0TnVtID0gMDtcclxuICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVQZXREYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgICAgIGNvc3RJZCA9IHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xO1xyXG4gICAgICAgICAgICAgICAgY29zdE51bSA9IHByaXplUGV0RGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29zdElkID0gcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzI7XHJcbiAgICAgICAgICAgICAgICBjb3N0TnVtID0gcHJpemVQZXREYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShjb3N0SWQpIDwgY29zdE51bSkge1xyXG4gICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93TWVzc2FnZShMYW5ndWFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdHJCeVRleHRJZCgxMDAwNDEpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcInNjcm9sbFwiKS5nZXRDb21wb25lbnQoY2MuU2Nyb2xsVmlldykuc2Nyb2xsVG9Cb3R0b20oMik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaWYoSXNEZWJ1ZykgY29zdE51bSA9IDA7ICAgXHJcbiAgICAgICAgICAgIEh0dHBNYW5hZ2VyLnBvc3QoQWNjZXNzTmFtZS50cnlQcml6ZSwgdGhpcy5nZXRQcml6ZUpzb25TdHJpbmcoMiwgMywgY29zdElkLCBjb3N0TnVtKSwgdHJ1ZSkudGhlbigoZGF0YTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShjb3N0SWQsIC1jb3N0TnVtKTtcclxuICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnJlZnJlc2hHZW1TaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxlbmd0aCA9IGRhdGEubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmRMaXN0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBJbmRleCA9IE15VG9vbC5yYW5kb21SYW5nZUludCgwLCA5KTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IGRhdGFbOV07XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVs5XSA9IGRhdGFbdGVtcEluZGV4XTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhW3RlbXBJbmRleF0gPSB0ZW1wO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJld2FyZEl0ZW0gPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKGRhdGFbaV0uZHJvcElkLCBkYXRhW2ldLmRyb3BOdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0oZGF0YVtpXS5kcm9wSWQsIGRhdGFbaV0uZHJvcE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJld2FyZExpc3QucHVzaChyZXdhcmRJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7liY3lvoDllYbln47lrbXljJZY5qyh5a6g54mpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ov5vooYwx5qyh5a6g54mp5oub5YufKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ov5vooYwxMOasoeWuoOeJqeWtteWMlik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u57Sv6K6h5a215YyW54G15a6g6JuLWOasoSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2F2ZUFsbFByb3BOdW0oKTtcclxuICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dNdWx0aXBsZUdldFRpcChyZXdhcmRMaXN0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gbXlzdGVyeVJvb3QuYWRkQ2hpbGQocGV0SXRlbSk7XHJcblxyXG4gICAgICAgIGxldCBlcXVpcEl0ZW0gPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnN0b3JlX2VxdWlwX2l0ZW0pO1xyXG4gICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcInJpY2hCZ1wiKS5jaGlsZHJlblsxXS5jaGlsZHJlblsxXS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwiWFwiICsgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKDQwMDA1KTtcclxuICAgICAgICB0aGlzLndlYXBvbl9pbnN0YW5jZSA9IGVxdWlwSXRlbTtcclxuICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJyaWNoQmdcIikuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihjYy5SaWNoVGV4dCkuc3RyaW5nID0gTGFuZ3VhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyQnlUZXh0SWQoMTQ2MDAwNik7XHJcbiAgICAgICAgbGV0IHByaXplRXF1aXBEYXRhID0gRHJhd0NhcmRJbmZvcm1hdGlvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKc29uRHJhd0NhcmRJbmZvcm1hdGlvbigyMDAxKTtcclxuICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVFcXVpcERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVFcXVpcERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVFcXVpcERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIG9uZURheVRpbWUgPSA2MCo2MCoyNCoxMDAwO1xyXG4gICAgICAgIGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBpZiAoVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROdW1iZXIoU3RvcmFnZUtleS5TdG9yZU15c3RlcnlFcXVpcEZyZWVUaW1lLCAwKSArIG9uZURheVRpbWUgLSBjdXJyZW50VGltZSA8PSAwKSB7XHJcbiAgICAgICAgICAgIC8vIOWFjei0uVxyXG4gICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJmcmVlXCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHRoaXMuc3RvcmVfdWkuZ2V0U3ByaXRlRnJhbWUoXCJTaG9wX0ljb25fQURTXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiZnJlZVwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGVxdWlwQnRuMSA9IGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImJ0bjFcIik7XHJcbiAgICAgICAgbGV0IGVxdWlwQnRuMTAgPSBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJidG4xMFwiKTtcclxuICAgICAgICBlcXVpcEJ0bjEuZ2V0Q2hpbGRCeU5hbWUoJ3JlZCcpLmFjdGl2ZSA9IEdhbWVEYXRhLmdldEluc3RhbmNlKCkuZ2V0RXF1aXBGcmVlUmVkVGlwKCk7XHJcbiAgICAgICAgZXF1aXBCdG4xLmFkZENvbXBvbmVudChjYy5CdXR0b24pLnRyYW5zaXRpb24gPSBjYy5CdXR0b24uVHJhbnNpdGlvbi5TQ0FMRTtcclxuICAgICAgICBlcXVpcEJ0bjEuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuZHVyYXRpb24gPSAwLjE7XHJcbiAgICAgICAgZXF1aXBCdG4xLmdldENvbXBvbmVudChjYy5CdXR0b24pLnpvb21TY2FsZSA9IDAuOTtcclxuXHJcbiAgICAgICAgZXF1aXBCdG4xMC5hZGRDb21wb25lbnQoY2MuQnV0dG9uKS50cmFuc2l0aW9uID0gY2MuQnV0dG9uLlRyYW5zaXRpb24uU0NBTEU7XHJcbiAgICAgICAgZXF1aXBCdG4xMC5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS5kdXJhdGlvbiA9IDAuMTtcclxuICAgICAgICBlcXVpcEJ0bjEwLmdldENvbXBvbmVudChjYy5CdXR0b24pLnpvb21TY2FsZSA9IDAuOTtcclxuXHJcbiAgICAgICAgZXF1aXBCdG4xLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgY29zdElkID0gMDtcclxuICAgICAgICAgICAgbGV0IGNvc3ROdW0gPSAwO1xyXG4gICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgICAgIGNvc3RJZCA9IHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzE7XHJcbiAgICAgICAgICAgICAgICBjb3N0TnVtID0gcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgIC8vIOS7peS4i+S4uuWQjuerr+acquWtmOa2iOi0ueWIuOeahOWkhOeQhu+8jOW9k+WQjuerr+WtmOWCqOa2iOi0ueWIuOaXtu+8jOS9v+eUqOS4iumdouS4pOihjOS7o+eggVxyXG4gICAgICAgICAgICAgICAgLy8gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEsLXByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc1NwZW5kXzEpO1xyXG4gICAgICAgICAgICAgICAgLy8gY29zdElkID0gcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMjtcclxuICAgICAgICAgICAgICAgIC8vIGNvc3ROdW0gPSAwO1xyXG4gICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmFkZFRvdGFsKEZvbGxvd19UeXBlLuiusOW9lea2iOiAl+eahOmSpeWMmeaVsOmHjywgcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb3N0SWQgPSBwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8yO1xyXG4gICAgICAgICAgICAgICAgY29zdE51bSA9IHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuYWRkVG90YWwoRm9sbG93X1R5cGUu6K6w5b2V5raI6ICX5a6d55+z5pWw6YePLCBjb3N0TnVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgb25lRGF5VGltZSA9IDYwICogNjAgKiAyNCAqIDEwMDA7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIGlmIChUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldE51bWJlcihTdG9yYWdlS2V5LlN0b3JlTXlzdGVyeUVxdWlwRnJlZVRpbWUsIDApICsgb25lRGF5VGltZSAtIGN1cnJlbnRUaW1lIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIC8vIOWFjei0uVxyXG4gICAgICAgICAgICAgICAgQXBrTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dWaWRlbygoaXNUcnVlOiBib29sZWFuKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3N0TnVtID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zZXRJdGVtKFN0b3JhZ2VLZXkuU3RvcmVNeXN0ZXJ5RXF1aXBGcmVlVGltZSwgY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZihQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBCdG4xLmdldENoaWxkQnlOYW1lKCdyZWQnKS5hY3RpdmUgPSBHYW1lRGF0YS5nZXRJbnN0YW5jZSgpLmdldEVxdWlwRnJlZVJlZFRpcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBFdmVudE1hbmFnZXIucG9zdFJlZEV2ZW50KFJlZEV2ZW50U3RyaW5nLlJFRF9DSEVDSywgUmVkRXZlbnRUeXBlLkJ0bl9TaG9wKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJmcmVlXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBIdHRwTWFuYWdlci5wb3N0KEFjY2Vzc05hbWUudHJ5UHJpemUsIHRoaXMuZ2V0UHJpemVKc29uU3RyaW5nKDEsIDIsIGNvc3RJZCwgY29zdE51bSksIHRydWUpLnRoZW4oKGRhdGE6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUu6K6w5b2V5byA5ZCvMeasoeijheWkh+eahOasoeaVsCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ov5vooYwx5qyh5byA5ZCv6KOF5aSHKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLui/m+ihjDEw5qyh5byA5ZCv6KOF5aSHKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLue0r+iuoeiOt+W+l1jku7boo4XlpIcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmRJdGVtID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShkYXRhWzBdLmRyb3BJZCwgZGF0YVswXS5kcm9wTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0oZGF0YVswXS5kcm9wSWQsIGRhdGFbMF0uZHJvcE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zYXZlQWxsUHJvcE51bSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd0dldFRpcChyZXdhcmRJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVFcXVpcERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVFcXVpcERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVFcXVpcERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dNZXNzYWdlKExhbmd1YWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0ckJ5VGV4dElkKDEpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCBWSURFT19UWVBFLkVxdWlwKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShjb3N0SWQpIDwgY29zdE51bSkge1xyXG4gICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd01lc3NhZ2UoTGFuZ3VhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyQnlUZXh0SWQoMTAwMDQxKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwic2Nyb2xsXCIpLmdldENvbXBvbmVudChjYy5TY3JvbGxWaWV3KS5zY3JvbGxUb0JvdHRvbSgyKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBIdHRwTWFuYWdlci5wb3N0KEFjY2Vzc05hbWUudHJ5UHJpemUsIHRoaXMuZ2V0UHJpemVKc29uU3RyaW5nKDEsIDIsIGNvc3RJZCwgY29zdE51bSksIHRydWUpLnRoZW4oKGRhdGE6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShjb3N0SWQsIC1jb3N0TnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5yZWZyZXNoR2VtU2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUu6K6w5b2V5byA5ZCvMeasoeijheWkh+eahOasoeaVsCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u6L+b6KGMMeasoeW8gOWQr+ijheWkhyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u6L+b6KGMMTDmrKHlvIDlkK/oo4XlpIcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLue0r+iuoeiOt+W+l1jku7boo4XlpIcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkSXRlbSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlUHJvcEl0ZW0oZGF0YVswXS5kcm9wSWQsIGRhdGFbMF0uZHJvcE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShkYXRhWzBdLmRyb3BJZCwgZGF0YVswXS5kcm9wTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zYXZlQWxsUHJvcE51bSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dHZXRUaXAocmV3YXJkSXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVFcXVpcERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xMFwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUVxdWlwRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xMFwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUVxdWlwRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZihQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0TnVtYmVyKFN0b3JhZ2VLZXkuU3RvcmVNeXN0ZXJ5RXF1aXBGcmVlVGltZSwgMCkgKyBvbmVEYXlUaW1lIC0gY3VycmVudFRpbWUgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YWN6LS5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiZnJlZVwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gdGhpcy5zdG9yZV91aS5nZXRTcHJpdGVGcmFtZShcIlNob3BfSWNvbl9BRFNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJmcmVlXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaWYoSXNEZWJ1ZykgY29zdE51bSA9IDA7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlcXVpcEJ0bjEwLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgY29zdElkID0gMDtcclxuICAgICAgICAgICAgbGV0IGNvc3ROdW0gPSAwO1xyXG4gICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplRXF1aXBEYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvc3RJZCA9IHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzE7XHJcbiAgICAgICAgICAgICAgICAvLyBjb3N0TnVtID0gcHJpemVFcXVpcERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgIC8vIOS7peS4i+S4uuWQjuerr+acquWtmOa2iOi0ueWIuOeahOWkhOeQhu+8jOW9k+WQjuerr+WtmOWCqOa2iOi0ueWIuOaXtu+8jOS9v+eUqOS4iumdouS4pOihjOS7o+eggVxyXG4gICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEsIC1wcml6ZUVxdWlwRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xKTtcclxuICAgICAgICAgICAgICAgIGNvc3RJZCA9IHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzI7XHJcbiAgICAgICAgICAgICAgICBjb3N0TnVtID0gMDtcclxuICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5hZGRUb3RhbChGb2xsb3dfVHlwZS7orrDlvZXmtojogJfnmoTpkqXljJnmlbDph48sIHByaXplRXF1aXBEYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29zdElkID0gcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMjtcclxuICAgICAgICAgICAgICAgIGNvc3ROdW0gPSBwcml6ZUVxdWlwRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmFkZFRvdGFsKEZvbGxvd19UeXBlLuiusOW9lea2iOiAl+Wuneefs+aVsOmHjywgY29zdE51bSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0oY29zdElkKSA8IGNvc3ROdW0pIHtcclxuICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd01lc3NhZ2UoTGFuZ3VhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyQnlUZXh0SWQoMTAwMDQxKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJzY3JvbGxcIikuZ2V0Q29tcG9uZW50KGNjLlNjcm9sbFZpZXcpLnNjcm9sbFRvQm90dG9tKDIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBpZihJc0RlYnVnKSBjb3N0TnVtID0gMDsgICBcclxuICAgICAgICAgICAgSHR0cE1hbmFnZXIucG9zdChBY2Nlc3NOYW1lLnRyeVByaXplLCB0aGlzLmdldFByaXplSnNvblN0cmluZygyLCAyLCBjb3N0SWQsIGNvc3ROdW0pLCB0cnVlKS50aGVuKChkYXRhOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKGNvc3RJZCwgLWNvc3ROdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkucmVmcmVzaEdlbVNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUu6K6w5b2V5byA5ZCvMTDmrKHoo4XlpIfnmoTmrKHmlbApO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsZW5ndGggPSBkYXRhLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wSW5kZXggPSBNeVRvb2wucmFuZG9tUmFuZ2VJbnQoMCwgOSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXAgPSBkYXRhWzldO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbOV0gPSBkYXRhW3RlbXBJbmRleF07XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVt0ZW1wSW5kZXhdID0gdGVtcDtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u6L+b6KGMMeasoeW8gOWQr+ijheWkhyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u6L+b6KGMMTDmrKHlvIDlkK/oo4XlpIcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLue0r+iuoeiOt+W+l1jku7boo4XlpIcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkSXRlbSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlUHJvcEl0ZW0oZGF0YVtpXS5kcm9wSWQsIGRhdGFbaV0uZHJvcE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShkYXRhW2ldLmRyb3BJZCwgZGF0YVtpXS5kcm9wTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV3YXJkTGlzdC5wdXNoKHJld2FyZEl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dNdWx0aXBsZUdldFRpcChyZXdhcmRMaXN0KTtcclxuICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNhdmVBbGxQcm9wTnVtKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplRXF1aXBEYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xMFwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMTBcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplRXF1aXBEYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xMFwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMTBcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplRXF1aXBEYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROdW1iZXIoU3RvcmFnZUtleS5TdG9yZU15c3RlcnlFcXVpcEZyZWVUaW1lLCAwKSArIG9uZURheVRpbWUgLSBjdXJyZW50VGltZSA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWFjei0uVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJmcmVlXCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHRoaXMuc3RvcmVfdWkuZ2V0U3ByaXRlRnJhbWUoXCJTaG9wX0ljb25fQURTXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiZnJlZVwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG15c3RlcnlSb290LmFkZENoaWxkKGVxdWlwSXRlbSk7XHJcbiAgICAgICAgY29udGVudC5hZGRDaGlsZChteXN0ZXJ5Um9vdCk7XHJcbiAgICAgICAgLy8jZW5kcmVnaW9uXHJcbiAgICAgICAgLy8g6ZK755+zXHJcbiAgICAgICAgLy8jcmVnaW9uIFxyXG4gICAgICAgIHRpdGxlID0gY2MuaW5zdGFudGlhdGUodGhpcy5zdG9yZV90aXRsZSk7XHJcbiAgICAgICAgdGl0bGUuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihUZXh0TGFuZ3VhZ2UpLnNldFRleHRJZCg0MDAwMDIpO1xyXG4gICAgICAgIHRpdGxlLm5hbWUgPSBcImdlbVRpdGxlXCI7XHJcbiAgICAgICAgLy9jb250ZW50LmFkZENoaWxkKHRpdGxlKTtcclxuXHJcbiAgICAgICAgbGV0IGdlbVJvb3QgPSBuZXcgY2MuTm9kZSgpO1xyXG4gICAgICAgIGdlbVJvb3QubmFtZSA9ICdnZW1Sb290JztcclxuICAgICAgICBnZW1Sb290LmhlaWdodCA9IHRoaXMuc3RvcmVfZ2VtX2l0ZW0uZGF0YS5oZWlnaHQgKiAyICsgMTA7XHJcbiAgICAgICAgZ2VtUm9vdC53aWR0aCA9IHRoaXMubm9kZS53aWR0aFxyXG4gICAgICAgIC8vY29udGVudC5hZGRDaGlsZChnZW1Sb290KTtcclxuICAgICAgICBsZXQgZ2VtTGF5b3V0ID0gZ2VtUm9vdC5hZGRDb21wb25lbnQoY2MuTGF5b3V0KTtcclxuICAgICAgICBnZW1MYXlvdXQudHlwZSA9IGNjLkxheW91dC5UeXBlLkdSSUQ7XHJcbiAgICAgICAgZ2VtTGF5b3V0LnJlc2l6ZU1vZGUgPSBjYy5MYXlvdXQuUmVzaXplTW9kZS5DT05UQUlORVI7XHJcblxyXG4gICAgICAgIGdlbUxheW91dC5wYWRkaW5nUmlnaHQgPSA0MDtcclxuICAgICAgICBnZW1MYXlvdXQucGFkZGluZ0xlZnQgPSA0MDtcclxuICAgICAgICBnZW1MYXlvdXQuc3BhY2luZ1ggPSAyMDtcclxuICAgICAgICBnZW1MYXlvdXQuc3BhY2luZ1kgPSAyMDtcclxuXHJcbiAgICAgICAgbGV0IGdlbURhdGEgPSBEaWFtb25kc1JlY2hhcmdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEpzb25EYXRhKClcclxuICAgICAgICBnZW1EYXRhLmZvckVhY2goKHYsIGspID0+IHtcclxuICAgICAgICAgICAgbGV0IGl0ZW0gPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnN0b3JlX2dlbV9pdGVtKTtcclxuICAgICAgICAgICAgaXRlbS5uYW1lID0gJ2dlbScgKyB2LlJlY2hhcmdlSUQ7XHJcbiAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJ0aXRsZVwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQoNDAwMDAyKTtcclxuICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInRpdGxlXCIpLmdldENvbXBvbmVudChUZXh0TGFuZ3VhZ2UpLnN0cmluZyA9IHYuRGlhbW9uZHNOdW0gKyBpdGVtLmdldENoaWxkQnlOYW1lKFwidGl0bGVcIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc3RyaW5nO1xyXG4gICAgICAgICAgICBsZXQgcGF5SW5mbyA9IFBheU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQYXlJbmZvKHYuUHJvZHVjdElkKTtcclxuICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IHBheUluZm8ucHJpY2U7XHJcbiAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoJ2ljb24nKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHRoaXMuc3RvcmVfdWkuZ2V0U3ByaXRlRnJhbWUoXCJTaG9wX0ljb25fR2VtX1wiICsgKHYuUmVjaGFyZ2VJRCAtIDEpKTtcclxuICAgICAgICAgICAgaWYgKFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyaW5nKFN0b3JhZ2VLZXkuU3RvcmVHZW1JdGVtICsgdi5SZWNoYXJnZUlELCAnJykgPT0gJycpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoJ2JnJykuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoJ3RpcCcpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwidGlwXCIpLmdldENvbXBvbmVudChUZXh0TGFuZ3VhZ2UpLnNldFRleHRJZCgxNDEwMDA0KTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJ0aXBcIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc2V0UmVwbGFjZVZhbHVlKCd+Jywgdi5HZXREaWFtb25kc051bSArICcnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoJ2JnJykuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKCd0aXAnKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgYnV0dG9uID0gaXRlbS5hZGRDb21wb25lbnQoY2MuQnV0dG9uKTtcclxuICAgICAgICAgICAgYnV0dG9uLnRyYW5zaXRpb24gPSBjYy5CdXR0b24uVHJhbnNpdGlvbi5TQ0FMRVxyXG4gICAgICAgICAgICBidXR0b24uZHVyYXRpb24gPSAwLjE7XHJcbiAgICAgICAgICAgIGJ1dHRvbi56b29tU2NhbGUgPSAwLjk7XHJcblxyXG4gICAgICAgICAgICBsZXQgY2xpY2tFdmVudCA9IG5ldyBjYy5Db21wb25lbnQuRXZlbnRIYW5kbGVyKCk7XHJcbiAgICAgICAgICAgIGNsaWNrRXZlbnQudGFyZ2V0ID0gdGhpcy5ub2RlO1xyXG4gICAgICAgICAgICBjbGlja0V2ZW50LmNvbXBvbmVudCA9ICdTdG9yZVVpJztcclxuICAgICAgICAgICAgY2xpY2tFdmVudC5oYW5kbGVyID0gJ29uR2VtQnRuQ2xpY2snO1xyXG4gICAgICAgICAgICBjbGlja0V2ZW50LmN1c3RvbUV2ZW50RGF0YSA9IHYuUmVjaGFyZ2VJRCArICcnO1xyXG4gICAgICAgICAgICBidXR0b24uY2xpY2tFdmVudHMucHVzaChjbGlja0V2ZW50KTtcclxuICAgICAgICAgICAgLy8gYnV0dG9uXHJcblxyXG4gICAgICAgICAgICAvLyBpdGVtLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwoKT0+e1xyXG4gICAgICAgICAgICAvLyAgICAgQXBrTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dQYXkoe1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIHJlc3VsdDooaXNEeSk9PiB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIGlmKGlzRHkpe1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmZvbGxvd0V2ZW50KEZvbGxvd19UeXBlLnjpkrvnn7Pngrnlh7votK3kubDmrKHmlbAgKyB2LlByb2R1Y3RJZCk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBpZihUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0cmluZyhTdG9yYWdlS2V5LlN0b3JlR2VtSXRlbSArIHYuUmVjaGFyZ2VJRCwnJykgPT0gJycpe1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKFByb3BJZC5HZW0sdi5EaWFtb25kc051bSArIHYuR2V0RGlhbW9uZHNOdW0pO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShQcm9wSWQuR2VtLHYuRGlhbW9uZHNOdW0gKyB2LkdldERpYW1vbmRzTnVtKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNldEl0ZW0oU3RvcmFnZUtleS5TdG9yZUdlbUl0ZW0gKyB2LlJlY2hhcmdlSUQsJzEnKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKCdiZycpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoJ3RpcCcpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd0dldFRpcChyZXdhcmQpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgbGV0IHJld2FyZCA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlUHJvcEl0ZW0oUHJvcElkLkdlbSx2LkRpYW1vbmRzTnVtKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0oUHJvcElkLkdlbSx2LkRpYW1vbmRzTnVtKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dHZXRUaXAocmV3YXJkKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gICAgIH0sdi5Qcm9kdWN0SWQpXHJcbiAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgICAgICAvL2dlbVJvb3QuYWRkQ2hpbGQoaXRlbSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8jZW5kcmVnaW9uXHJcbiAgICAgICAgLy8g6YeR5biBXHJcbiAgICAgICAgLy8jcmVnaW9uIFxyXG4gICAgICAgIHRpdGxlID0gY2MuaW5zdGFudGlhdGUodGhpcy5zdG9yZV90aXRsZSk7XHJcbiAgICAgICAgdGl0bGUuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihUZXh0TGFuZ3VhZ2UpLnNldFRleHRJZCg0MDAwMDEpO1xyXG4gICAgICAgIHRpdGxlLm5hbWUgPSBcImNvaW5UaXRsZVwiO1xyXG4gICAgICAgIGNvbnRlbnQuYWRkQ2hpbGQodGl0bGUpO1xyXG5cclxuICAgICAgICBsZXQgY29pblJvb3QgPSBuZXcgY2MuTm9kZSgpO1xyXG4gICAgICAgIGNvaW5Sb290Lm5hbWUgPSAnY29pblJvb3QnO1xyXG4gICAgICAgIGNvaW5Sb290LmhlaWdodCA9IHRoaXMuc3RvcmVfY29pbl9pdGVtLmRhdGEuaGVpZ2h0ICsgMTA7XHJcbiAgICAgICAgY29pblJvb3Qud2lkdGggPSB0aGlzLm5vZGUud2lkdGhcclxuICAgICAgICBjb250ZW50LmFkZENoaWxkKGNvaW5Sb290KTtcclxuICAgICAgICBsZXQgY29pbkxheW91dCA9IGNvaW5Sb290LmFkZENvbXBvbmVudChjYy5MYXlvdXQpO1xyXG4gICAgICAgIGNvaW5MYXlvdXQudHlwZSA9IGNjLkxheW91dC5UeXBlLkhPUklaT05UQUw7XHJcbiAgICAgICAgY29pbkxheW91dC5yZXNpemVNb2RlID0gY2MuTGF5b3V0LlJlc2l6ZU1vZGUuQ09OVEFJTkVSO1xyXG5cclxuICAgICAgICBjb2luTGF5b3V0LnBhZGRpbmdSaWdodCA9IDQwO1xyXG4gICAgICAgIGNvaW5MYXlvdXQucGFkZGluZ0xlZnQgPSA0MDtcclxuICAgICAgICBjb2luTGF5b3V0LnNwYWNpbmdYID0gMjA7XHJcblxyXG4gICAgICAgIGxldCBjb2luRGF0YSA9IFB1cmNoYXNlQ29pbnNNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SnNvbkRhdGFCeUNoYXB0ZXIoTGV2ZWxNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RmluaXNoQ2hhcHRlcigpKTtcclxuICAgICAgICBjb2luRGF0YS5mb3JFYWNoKCh2LCBrKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpdGVtID0gY2MuaW5zdGFudGlhdGUodGhpcy5zdG9yZV9jb2luX2l0ZW0pO1xyXG4gICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwidGl0bGVcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSB2LkdldENvaW5OdW0gKyAnJztcclxuICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImljb25cIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSB0aGlzLnN0b3JlX3VpLmdldFNwcml0ZUZyYW1lKFwiU2hvcF9JY29uX0NvaW5fXCIgKyB2LkRpc3BsYXlQb3NpdGlvbik7XHJcbiAgICAgICAgICAgIGlmICh2LkFkUmV3YXJkID09IDEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIoVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRJbnQoU3RvcmFnZUtleS5TdG9yZUNvaW5JdGVtICsgaywgMCkpIDwgdi5BZFBsYXlhYmxlVGltZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb25cIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSB0aGlzLnN0b3JlX3VpLmdldFNwcml0ZUZyYW1lKFwiU2hvcF9JY29uX0FEU1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwibnVtXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJ0ZXh0XCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZSgncmVkJykuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKFByb3BJZC5HZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW1cIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwibnVtXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gJ3gnICsgdi5Db25zdW1lRGlhbW9uZHNOdW07XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInRleHRcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZSgncmVkJykuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb25cIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQoUHJvcElkLkdlbSk7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwibnVtXCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwibnVtXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gJ3gnICsgdi5Db25zdW1lRGlhbW9uZHNOdW07XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwidGV4dFwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoJ3JlZCcpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpdGVtLmFkZENvbXBvbmVudChjYy5CdXR0b24pLnRyYW5zaXRpb24gPSBjYy5CdXR0b24uVHJhbnNpdGlvbi5TQ0FMRTtcclxuICAgICAgICAgICAgaXRlbS5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS5kdXJhdGlvbiA9IDAuMTtcclxuICAgICAgICAgICAgaXRlbS5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS56b29tU2NhbGUgPSAwLjk7XHJcblxyXG4gICAgICAgICAgICBjb2luUm9vdC5hZGRDaGlsZChpdGVtKTtcclxuICAgICAgICAgICAgaXRlbS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh2LkFkUmV3YXJkID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoTnVtYmVyKFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SW50KFN0b3JhZ2VLZXkuU3RvcmVDb2luSXRlbSArIGssIDApKSA8IHYuQWRQbGF5YWJsZVRpbWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFwa01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93VmlkZW8oKChpc1RydWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1RydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLui0reS5sDHmrKHllYblupfkuK3nmoTph5HluIEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS546YeR5biB54K55Ye76LSt5Lmw5qyh5pWwICsgdi5Db2luUHVyY2hhc2VJRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKFByb3BJZC5Db2luLCB2LkdldENvaW5OdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKFByb3BJZC5Db2luLCB2LkdldENvaW5OdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBudW0gPSBUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEludChTdG9yYWdlS2V5LlN0b3JlQ29pbkl0ZW0gKyBrLCAwKSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zZXRJdGVtKFN0b3JhZ2VLZXkuU3RvcmVDb2luSXRlbSArIGssIG51bSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dHZXRUaXAocmV3YXJkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVtID49IHYuQWRQbGF5YWJsZVRpbWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvblwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChQcm9wSWQuR2VtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bVwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwibnVtXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gJ3gnICsgdi5Db25zdW1lRGlhbW9uZHNOdW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJ0ZXh0XCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKCdyZWQnKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLnBvc3RSZWRFdmVudChSZWRFdmVudFN0cmluZy5SRURfQ0hFQ0ssIFJlZEV2ZW50VHlwZS5CdG5fU2hvcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSwgVklERU9fVFlQRS5Db2luKVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0oUHJvcElkLkdlbSwgLXYuQ29uc3VtZURpYW1vbmRzTnVtKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7otK3kubAx5qyh5ZWG5bqX5Lit55qE6YeR5biBKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS546YeR5biB54K55Ye76LSt5Lmw5qyh5pWwICsgdi5Db2luUHVyY2hhc2VJRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0oUHJvcElkLkNvaW4sIHYuR2V0Q29pbk51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShQcm9wSWQuQ29pbiwgdi5HZXRDb2luTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd0dldFRpcChyZXdhcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVUlNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd1VpRGlhbG9nKFVJUGF0aC5Db2luUG9wLCBVSUxheWVyTGV2ZWwuVGhyZWUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlZDogKHVpTm9kZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aU5vZGUuZ2V0Q29tcG9uZW50KENvaW5Qb3ApLmluaXRVaShQcm9wSWQuR2VtKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShQcm9wSWQuR2VtLCAtdi5Db25zdW1lRGlhbW9uZHNOdW0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u6LSt5LmwMeasoeWVhuW6l+S4reeahOmHkeW4gSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS546YeR5biB54K55Ye76LSt5Lmw5qyh5pWwICsgdi5Db2luUHVyY2hhc2VJRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShQcm9wSWQuQ29pbiwgdi5HZXRDb2luTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJld2FyZCA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlUHJvcEl0ZW0oUHJvcElkLkNvaW4sIHYuR2V0Q29pbk51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd0dldFRpcChyZXdhcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFVJTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dVaURpYWxvZyhVSVBhdGguQ29pblBvcCwgVUlMYXllckxldmVsLlRocmVlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlZDogKHVpTm9kZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpTm9kZS5nZXRDb21wb25lbnQoQ29pblBvcCkuaW5pdFVpKFByb3BJZC5HZW0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vI2VuZHJlZ2lvblxyXG4gICAgICAgIC8vIOWKqOaAgeWIt+aWsOWGheWuuVxyXG4gICAgICAgIHRoaXMuc2NoZWR1bGUoKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyDmr4/ml6XllYblupfliLfmlrBcclxuICAgICAgICAgICAgbm93VGltZSA9IERhdGUubm93KCkgLyAxMDAwO1xyXG4gICAgICAgICAgICBsZXQgcmVzaWR1ZVRpbWUgPSBUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldE51bWJlcihTdG9yYWdlS2V5LlRvbW9yb3daZXJvVGltZVN0YW1wLCAwKSAtIG5vd1RpbWU7XHJcbiAgICAgICAgICAgIGlmIChyZXNpZHVlVGltZSA8IDApIHtcclxuICAgICAgICAgICAgICAgIHJlc2lkdWVUaW1lID0gKChuZXcgRGF0ZShuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygpKS5nZXRUaW1lKCkgKyA4NjQwMDAwKSAvIDEwMDApIC0gbm93VGltZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgaGggPSBNYXRoLmZsb29yKHJlc2lkdWVUaW1lIC8gKDYwICogNjApKTtcclxuICAgICAgICAgICAgaWYgKGhoIDwgMTApIHtcclxuICAgICAgICAgICAgICAgIHRpbWVOdW0uc3RyaW5nID0gJzAnICsgaGggKyAnOic7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lTnVtLnN0cmluZyA9IGhoICsgJzonO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBtbSA9IE1hdGguZmxvb3IocmVzaWR1ZVRpbWUgJSAoNjAgKiA2MCkgLyA2MCk7XHJcbiAgICAgICAgICAgIGlmIChtbSA8IDEwKSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lTnVtLnN0cmluZyArPSAnMCcgKyBtbSArICc6J1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGltZU51bS5zdHJpbmcgKz0gbW0gKyAnOidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgc3MgPSBNYXRoLmZsb29yKHJlc2lkdWVUaW1lICUgKDYwICogNjApICUgNjApXHJcbiAgICAgICAgICAgIGlmIChzcyA8IDEwKSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lTnVtLnN0cmluZyArPSAnMCcgKyBzc1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGltZU51bS5zdHJpbmcgKz0gc3NcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICAvLyDlrqDnianliLfmlrBcclxuICAgICAgICAgICAgaWYgKFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0TnVtYmVyKFN0b3JhZ2VLZXkuU3RvcmVNeXN0ZXJ5UGV0RnJlZVRpbWUsIDApICsgb25lRGF5VGltZSAtIGN1cnJlbnRUaW1lIDw9IDAgJiYgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuYWN0aXZlID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImZyZWVcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSB0aGlzLnN0b3JlX3VpLmdldFNwcml0ZUZyYW1lKFwiU2hvcF9JY29uX0FEU1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyDmrablmajliLfmlrBcclxuICAgICAgICAgICAgaWYgKFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0TnVtYmVyKFN0b3JhZ2VLZXkuU3RvcmVNeXN0ZXJ5RXF1aXBGcmVlVGltZSwgMCkgKyBvbmVEYXlUaW1lIC0gY3VycmVudFRpbWUgPD0gMCAmJiBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5hY3RpdmUgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImZyZWVcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHRoaXMuc3RvcmVfdWkuZ2V0U3ByaXRlRnJhbWUoXCJTaG9wX0ljb25fQURTXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMSwgY2MubWFjcm8uUkVQRUFUX0ZPUkVWRVIsIDApXHJcblxyXG5cclxuICAgIH1cclxuICAgIC8vIGl0ZW06Y2MuTm9kZSx2Okpzb25EaWFtb25kc1JlY2hhcmdlXHJcbiAgICBvbkdlbUJ0bkNsaWNrKGUsIGlkOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgaXRlbSA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcInNjcm9sbFwiKS5nZXRDb21wb25lbnQoY2MuU2Nyb2xsVmlldykuY29udGVudC5nZXRDaGlsZEJ5TmFtZShcImdlbVJvb3RcIikuZ2V0Q2hpbGRCeU5hbWUoXCJnZW1cIiArIGlkKTtcclxuICAgICAgICBsZXQgdjogSnNvbkRpYW1vbmRzUmVjaGFyZ2UgPSBEaWFtb25kc1JlY2hhcmdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEpzb25EaWFtb25kc1JlY2hhcmdlKE51bWJlcihpZCkpO1xyXG4gICAgICAgIEFwa01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93UGF5KHtcclxuICAgICAgICAgICAgcmVzdWx0OiAoaXNEeSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzRHkpIHtcclxuICAgICAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUueOmSu+efs+eCueWHu+i0reS5sOasoeaVsCArIHYuUHJvZHVjdElkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdHJpbmcoU3RvcmFnZUtleS5TdG9yZUdlbUl0ZW0gKyB2LlJlY2hhcmdlSUQsICcnKSA9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShQcm9wSWQuR2VtLCB2LkRpYW1vbmRzTnVtICsgdi5HZXREaWFtb25kc051bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShQcm9wSWQuR2VtLCB2LkRpYW1vbmRzTnVtICsgdi5HZXREaWFtb25kc051bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2V0SXRlbShTdG9yYWdlS2V5LlN0b3JlR2VtSXRlbSArIHYuUmVjaGFyZ2VJRCwgJzEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVXNlckluZm8uZ2V0SW5zdGFuY2UoKS5wYXlHZW0gKz0gdi5EaWFtb25kc051bTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgSHR0cE1hbmFnZXIucG9zdChBY2Nlc3NOYW1lLnVwZGF0ZVVzZXJJbmZvLCB0aGlzLnNldEN1bXVsYXRpdmVSZWNoYXJnZUpzb25TdHJpbmcodi5EaWFtb25kc051bSkpLnRoZW4oKGRhdGE6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVXNlckluZm8uZ2V0SW5zdGFuY2UoKS5yZWZyZXNoRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3VtdWxhdGl2ZVJlY2hhcmdlc01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5yZWZyZXNoRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZSgnYmcnKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZSgndGlwJykuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd0dldFRpcChyZXdhcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKFByb3BJZC5HZW0sIHYuRGlhbW9uZHNOdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0oUHJvcElkLkdlbSwgdi5EaWFtb25kc051bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFVzZXJJbmZvLmdldEluc3RhbmNlKCkucGF5R2VtICs9IHYuRGlhbW9uZHNOdW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEh0dHBNYW5hZ2VyLnBvc3QoQWNjZXNzTmFtZS51cGRhdGVVc2VySW5mbywgdGhpcy5zZXRDdW11bGF0aXZlUmVjaGFyZ2VKc29uU3RyaW5nKHYuRGlhbW9uZHNOdW0pKS50aGVuKChkYXRhOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVzZXJJbmZvLmdldEluc3RhbmNlKCkucmVmcmVzaERhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEN1bXVsYXRpdmVSZWNoYXJnZXNNYW5hZ2VyLmdldEluc3RhbmNlKCkucmVmcmVzaERhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd0dldFRpcChyZXdhcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHYuUHJvZHVjdElkKVxyXG4gICAgfVxyXG5cclxuICAgIHJlZnJlc2hTdG9yZSgpIHtcclxuICAgICAgICBsZXQgY29udGVudCA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcInNjcm9sbFwiKS5nZXRDb21wb25lbnQoY2MuU2Nyb2xsVmlldykuY29udGVudDtcclxuICAgICAgICBsZXQgZ2VtUm9vdCA9IGNvbnRlbnQuZ2V0Q2hpbGRCeU5hbWUoXCJnZW1Sb290XCIpO1xyXG4gICAgICAgIGxldCBnZW1EYXRhID0gRGlhbW9uZHNSZWNoYXJnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKc29uRGF0YSgpXHJcbiAgICAgICAgZ2VtRGF0YS5mb3JFYWNoKCh2LCBrKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpdGVtID0gZ2VtUm9vdC5nZXRDaGlsZEJ5TmFtZSgnZ2VtJyArIHYuUmVjaGFyZ2VJRCk7XHJcbiAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJ0aXRsZVwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQoNDAwMDAyKTtcclxuICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInRpdGxlXCIpLmdldENvbXBvbmVudChUZXh0TGFuZ3VhZ2UpLnN0cmluZyA9IHYuRGlhbW9uZHNOdW0gKyBpdGVtLmdldENoaWxkQnlOYW1lKFwidGl0bGVcIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc3RyaW5nO1xyXG4gICAgICAgICAgICBsZXQgcGF5SW5mbyA9IFBheU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQYXlJbmZvKHYuUHJvZHVjdElkKTtcclxuICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IHBheUluZm8ucHJpY2U7XHJcbiAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoJ2ljb24nKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHRoaXMuc3RvcmVfdWkuZ2V0U3ByaXRlRnJhbWUoXCJTaG9wX0ljb25fR2VtX1wiICsgKHYuUmVjaGFyZ2VJRCAtIDEpKTtcclxuICAgICAgICAgICAgaWYgKFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyaW5nKFN0b3JhZ2VLZXkuU3RvcmVHZW1JdGVtICsgdi5SZWNoYXJnZUlELCAnJykgPT0gJycpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoJ2JnJykuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoJ3RpcCcpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwidGlwXCIpLmdldENvbXBvbmVudChUZXh0TGFuZ3VhZ2UpLnNldFRleHRJZCgxNDEwMDA0KTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJ0aXBcIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc2V0UmVwbGFjZVZhbHVlKCd+Jywgdi5HZXREaWFtb25kc051bSArICcnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoJ2JnJykuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKCd0aXAnKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBpdGVtLm9mZihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQpO1xyXG4gICAgICAgICAgICAvLyBpdGVtLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwoKT0+e1xyXG4gICAgICAgICAgICAvLyAgICAgaXRlbS5zY2FsZSA9IDE7XHJcbiAgICAgICAgICAgIC8vICAgICBBcGtNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd1BheSh7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgcmVzdWx0Oihpc0R5KT0+IHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgaWYoaXNEeSl7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUueOmSu+efs+eCueWHu+i0reS5sOasoeaVsCArIHYuUHJvZHVjdElkKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGlmKFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyaW5nKFN0b3JhZ2VLZXkuU3RvcmVHZW1JdGVtICsgdi5SZWNoYXJnZUlELCcnKSA9PSAnJyl7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgbGV0IHJld2FyZCA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlUHJvcEl0ZW0oUHJvcElkLkdlbSx2LkRpYW1vbmRzTnVtICsgdi5HZXREaWFtb25kc051bSk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKFByb3BJZC5HZW0sdi5EaWFtb25kc051bSArIHYuR2V0RGlhbW9uZHNOdW0pO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2V0SXRlbShTdG9yYWdlS2V5LlN0b3JlR2VtSXRlbSArIHYuUmVjaGFyZ2VJRCwnMScpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoJ2JnJykuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZSgndGlwJykuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93R2V0VGlwKHJld2FyZCk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShQcm9wSWQuR2VtLHYuRGlhbW9uZHNOdW0pO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShQcm9wSWQuR2VtLHYuRGlhbW9uZHNOdW0pO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd0dldFRpcChyZXdhcmQpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAgICAgfSx2LlByb2R1Y3RJZClcclxuICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmFuZG9tSW50KG1pbiwgbWF4KSB7XHJcbiAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbik7XHJcbiAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSkgKyBtaW47IC8v5LiN5ZCr5pyA5aSn5YC877yM5ZCr5pyA5bCP5YC8XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHR5cGUg5oq95aWW57G75Z6LIDEt5Y2V5oq9IDIt5Y2B6L+e5oq9XHJcbiAgICAgKiBAcGFyYW0gZHJhd1R5ZXAg5oq95aWW57G75Z6LIDEt6Iux6ZuELOiLsembhOeijueJhyAyLeijheWkhyAzLeeBteWuoFxyXG4gICAgICogQHBhcmFtIGNvc3RJZCDmtojogJfpgZPlhbdpZFxyXG4gICAgICogQHBhcmFtIGNvc3ROdW0g5raI6ICX6YGT5YW35pWw6YePXHJcbiAgICAgKiBAcmV0dXJucyBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRQcml6ZUpzb25TdHJpbmcodHlwZTogbnVtYmVyLCBkcmF3VHllcDogbnVtYmVyLCBjb3N0SWQ6IG51bWJlciwgY29zdE51bTogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgdWlkID0gVXNlckRhdGEuZ2V0SW5zdGFuY2UoKS5nZXRVc2VySUQoKTtcclxuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICB1aWQ6IHVpZCxcclxuICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgZHJhd1R5cGU6IGRyYXdUeWVwLFxyXG4gICAgICAgICAgICBpdGVtc0lkOiBjb3N0SWQsXHJcbiAgICAgICAgICAgIG1pbnVzTnVtOiBjb3N0TnVtLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uUmVmcmVzaEluc3RhbmNlSXRlbSgpIHtcclxuXHJcbiAgICAgICAgbGV0IHByaXplSGVyb0RhdGEgPSBEcmF3Q2FyZEluZm9ybWF0aW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEpzb25EcmF3Q2FyZEluZm9ybWF0aW9uKDEwMDEpO1xyXG4gICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgdGhpcy5oZXJvX2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgIHRoaXMuaGVyb19pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmhlcm9faW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgdGhpcy5oZXJvX2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplSGVyb0RhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICB0aGlzLmhlcm9faW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgIHRoaXMuaGVyb19pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUhlcm9EYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5oZXJvX2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xMFwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICB0aGlzLmhlcm9faW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVIZXJvRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhlcm9faW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJJY29uTnVtXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJYXCIgKyBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0oNDAwMDQpO1xyXG5cclxuICAgICAgICBsZXQgcHJpemVQZXREYXRhID0gRHJhd0NhcmRJbmZvcm1hdGlvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKc29uRHJhd0NhcmRJbmZvcm1hdGlvbigzMDAxKTtcclxuICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICB0aGlzLnBldF9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgIHRoaXMucGV0X2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wZXRfaW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICB0aGlzLnBldF9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBldF9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcInJpY2hCZ1wiKS5jaGlsZHJlblsxXS5jaGlsZHJlblsxXS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwiWFwiICsgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKDQwMDA2KTtcclxuXHJcbiAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVQZXREYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgdGhpcy5wZXRfaW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgdGhpcy5wZXRfaW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVQZXREYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wZXRfaW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgdGhpcy5wZXRfaW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVQZXREYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgb25lRGF5VGltZSA9IDYwICogNjAgKiAyNCAqIDEwMDA7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBsZXQgcHJpemVFcXVpcERhdGEgPSBEcmF3Q2FyZEluZm9ybWF0aW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEpzb25EcmF3Q2FyZEluZm9ybWF0aW9uKDIwMDEpO1xyXG4gICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICB0aGlzLndlYXBvbl9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgdGhpcy53ZWFwb25faW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMud2VhcG9uX2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICB0aGlzLndlYXBvbl9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplRXF1aXBEYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgdGhpcy53ZWFwb25faW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICB0aGlzLndlYXBvbl9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUVxdWlwRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMud2VhcG9uX2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xMFwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgdGhpcy53ZWFwb25faW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVFcXVpcERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy53ZWFwb25faW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJyaWNoQmdcIikuY2hpbGRyZW5bMV0uY2hpbGRyZW5bMV0uZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcIlhcIiArIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bSg0MDAwNSk7XHJcblxyXG4gICAgICAgIC8vIG9uZURheVRpbWUgPSA2MCo2MCoyNCoxMDAwO1xyXG4gICAgICAgIC8vIGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBpZiAoVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROdW1iZXIoU3RvcmFnZUtleS5TdG9yZU15c3RlcnlFcXVpcEZyZWVUaW1lLCAwKSArIG9uZURheVRpbWUgLSBjdXJyZW50VGltZSA8PSAwKSB7XHJcbiAgICAgICAgICAgIC8vIOWFjei0uVxyXG4gICAgICAgICAgICB0aGlzLndlYXBvbl9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMud2VhcG9uX2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwiZnJlZVwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLndlYXBvbl9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHRoaXMuc3RvcmVfdWkuZ2V0U3ByaXRlRnJhbWUoXCJTaG9wX0ljb25fQURTXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMud2VhcG9uX2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLndlYXBvbl9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcImZyZWVcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0Q3VtdWxhdGl2ZVJlY2hhcmdlSnNvblN0cmluZyhhZGROdW06IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IHVpZCA9IFVzZXJEYXRhLmdldEluc3RhbmNlKCkuZ2V0VXNlcklEKCk7XHJcbiAgICAgICAgbGV0IG51bSA9IGFkZE51bTtcclxuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICB0eXBlOiA4LFxyXG4gICAgICAgICAgICB1aWQ6IHVpZCxcclxuICAgICAgICAgICAgdmFsdWU6IG51bSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFNhdmVHYW1lVGFza0pzb25TdHJpbmcoaW5kZXg6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IHVpZCA9IFVzZXJEYXRhLmdldEluc3RhbmNlKCkuZ2V0VXNlcklEKCk7XHJcbiAgICAgICAgbGV0IG51bSA9IGluZGV4O1xyXG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgIHVpZDogdWlkLFxyXG4gICAgICAgICAgICBwbGF5TGV2ZWw6IG51bSxcclxuICAgICAgICAgICAgcmV3YXJkVHlwZTogMTAsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59XHJcbiJdfQ==