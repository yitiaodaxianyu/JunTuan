
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/Store/StoreUi.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2c3a3IWd75Pb7xy3nheaKWn', 'StoreUi');
// Scripts/Store/StoreUi.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var WXManagerEX_1 = require("../../startscene/WXManagerEX");
var HttpManager_1 = require(".././NetWork/HttpManager");
var CumulativeRecharges_1 = require("../AccumulatedRecharge/CumulativeRecharges");
var ApkManager_1 = require("../Ads/ApkManager");
var CoinPop_1 = require("../CoinPop");
var Constants_1 = require("../Constants");
var EquipItem_1 = require("../Equipment/Ui/EquipItem");
var GameData_1 = require("../GameData");
var GameManager_1 = require("../GameManager");
var HeroManager_1 = require("../Hero/Data/HeroManager");
var HeroConfig_1 = require("../Hero/Game/HeroConfig");
var FunctionDefinition_1 = require("../JsonData/FunctionDefinition");
var LevelJsonData_1 = require("../JsonData/LevelJsonData");
var LevelManager_1 = require("../Level/LevelManager");
var MissionLevel_1 = require("../Level/MissionLevel");
var FollowConstants_1 = require("../multiLanguage/FollowConstants");
var FollowManager_1 = require("../multiLanguage/FollowManager");
var LanguageConstants_1 = require("../multiLanguage/LanguageConstants");
var LanguageManager_1 = require("../multiLanguage/LanguageManager");
var TextLanguage_1 = require("../multiLanguage/TextLanguage");
var PayManager_1 = require("../Payment/PayManager");
var Item_1 = require("../Prop/Data/Item");
var Prop_1 = require("../Prop/Prop");
var PropConfig_1 = require("../Prop/PropConfig");
var PropManager_1 = require("../Prop/PropManager");
var StorageConfig_1 = require("../Storage/StorageConfig");
var StorageManager_1 = require("../Storage/StorageManager");
var TaskEnum_1 = require("../Task/TaskEnum");
var TaskManager_1 = require("../Task/TaskManager");
var EventManager_1 = require("../Tools/EventManager");
var MyTool_1 = require("../Tools/MyTool");
var Turmtable_1 = require("../Turntable/Turmtable");
var TutorailsManager_1 = require("../Tutorials/TutorailsManager");
var MainUi_1 = require("../UI/home/MainUi");
var UIConfig_1 = require("../UI/UIConfig");
var UIManager_1 = require("../UI/UIManager");
var UserData_1 = require("../UserData");
var UserInfo_1 = require("../UserInfo/UserInfo");
var CommodityInformation_1 = require("./CommodityInformation");
var DailyShop_1 = require("./DailyShop");
var DiamondsRecharge_1 = require("./DiamondsRecharge");
var DrawCardInformation_1 = require("./DrawCardInformation");
var ProbabilityTipUi_1 = require("./ProbabilityTipUi");
var PurchaseCoins_1 = require("./PurchaseCoins");
var StoreHeroUi_1 = require("./StoreHeroUi");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var StoreUi = /** @class */ (function (_super) {
    __extends(StoreUi, _super);
    function StoreUi() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.store_title = null;
        _this.store_chapter_item = null;
        _this.store_hero_item = null;
        _this.store_daily_item = null;
        _this.store_pet_item = null;
        _this.store_equip_item = null;
        _this.store_gem_item = null;
        _this.store_coin_item = null;
        _this.store_ui = null;
        // 私有数据
        _this.hero_instance = null;
        _this.weapon_instance = null;
        _this.pet_instance = null;
        _this.adItem = null;
        _this.informationTemp = 0;
        _this.informationK = 0;
        _this.equipItemTemp = null;
        _this.costIdTemp = 0;
        return _this;
    }
    StoreUi.prototype.onLoad = function () {
        this.node.on(cc.Node.EventType.POSITION_CHANGED, this.onPositionChange, this);
        cc.director.on(LanguageConstants_1.OnLanguageChange, this.initStore, this);
        if (WXManagerEX_1.default.getInstance().statusBarHeight > 20) {
            this.node.getComponent(cc.Widget).top = 150;
        }
        this.initStore();
        cc.director.on(WXManagerEX_1.WXADEnvnt.ZUANSHILINGQUSHIPIN, this.onShipinComp, this);
        cc.director.on(WXManagerEX_1.WXADEnvnt.ZHUANGBEICHOUJIANG, this.onSHipincomp2, this);
        cc.director.on(WXManagerEX_1.WXADEnvnt.ZHUANGBEICHOUJIANG, this.onShipincomp3, this);
    };
    StoreUi.prototype.onDestroy = function () {
        this.node.off(cc.Node.EventType.POSITION_CHANGED, this.onPositionChange, this);
        cc.director.off(LanguageConstants_1.OnLanguageChange, this.initStore, this);
        cc.director.off("onRefreshInstanceItem");
        cc.director.off(WXManagerEX_1.WXADEnvnt.ZUANSHILINGQUSHIPIN, this.onShipinComp, this);
        cc.director.off(WXManagerEX_1.WXADEnvnt.ZHUANGBEICHOUJIANG, this.onSHipincomp2, this);
        cc.director.off(WXManagerEX_1.WXADEnvnt.ZHUANGBEICHOUJIANG, this.onShipincomp3, this);
    };
    StoreUi.prototype.onPositionChange = function () {
        if (this.node.x == 0) {
            this.onEnable();
        }
    };
    StoreUi.prototype.onEnable = function () {
        FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.商城商城页点击次数);
        //this.refreshStore();
        //this.checkTutorails();
    };
    StoreUi.prototype.checkTutorails = function () {
        if (TutorailsManager_1.default.getInstance().is_tutorails_state && TutorailsManager_1.default.getInstance().isShowTutorials(222) && LevelManager_1.LevelManager.getInstance().finish_level >= 3) {
            TutorailsManager_1.default.getInstance().is_tutorails_state = true;
            this.scheduleOnce(function () {
                var store_ui = cc.find('Canvas/store_ui/scroll');
                var content = store_ui.getComponent(cc.ScrollView).content;
                var btn1 = content.getChildByName('heroRoot').getChildByName('heroItem').getChildByName('btn1');
                var wordPos = btn1.parent.convertToWorldSpaceAR(btn1.getPosition());
                var localPos = cc.find('Canvas/Ui_Root').convertToNodeSpaceAR(wordPos);
                localPos.x -= cc.find('Canvas/store_ui').x;
                TutorailsManager_1.default.getInstance().showTutorials(222, null, function () {
                    if (PropManager_1.PropManager.getInstance().changePropNum(40004, -1)) {
                        if (HeroManager_1.HeroManager.getInstance().getHeroInfo(HeroConfig_1.Hero_Type.DeLuYi) == null) {
                            var rewardList_1 = new Array();
                            var rd = new LevelJsonData_1.RewardHeroData();
                            rd.dropId = 110004;
                            rd.dropNum = 1;
                            rewardList_1.push(rd);
                            HeroManager_1.HeroManager.getInstance().addHero(HeroConfig_1.Hero_Type.DeLuYi);
                            HeroManager_1.HeroManager.getInstance().reportHeroList();
                            var teamList = HeroManager_1.HeroManager.getInstance().getTeamList(Constants_1.GameMode.Main);
                            teamList[1] = HeroConfig_1.Hero_Type.DeLuYi;
                            HeroManager_1.HeroManager.getInstance().saveTeamList(Constants_1.GameMode.Main, teamList);
                            TutorailsManager_1.default.getInstance().saveTutorials(222);
                            TutorailsManager_1.default.getInstance().saveTutorials(223);
                            UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.StoreHeroUi, UIConfig_1.UILayerLevel.One, {
                                onCompleted: function (uiNode) {
                                    uiNode.getComponent(StoreHeroUi_1.default).init({
                                        onClose: function () {
                                            //直接进入游戏
                                            cc.find('Canvas/main_ui').getComponent(MainUi_1.default).startGame();
                                        }
                                    });
                                    uiNode.getComponent(StoreHeroUi_1.default).initData(rewardList_1);
                                },
                            });
                        }
                    }
                }, false, null, localPos);
            }, 0.1);
        }
    };
    StoreUi.prototype.initStore = function () {
        var _this = this;
        var content = this.node.getChildByName("scroll").getComponent(cc.ScrollView).content;
        content.removeAllChildren();
        cc.director.off("onRefreshInstanceItem");
        cc.director.on("onRefreshInstanceItem", this.onRefreshInstanceItem, this);
        // 章节礼包
        //#region 
        var title = cc.instantiate(this.store_title);
        title.getComponentInChildren(TextLanguage_1.default).setTextId(1430001);
        title.name = "chapterTitle";
        content.addChild(title);
        var chapterRoot = new cc.Node();
        chapterRoot.name = 'chapterRoot';
        chapterRoot.height = this.store_chapter_item.data.height;
        chapterRoot.width = (this.store_chapter_item.data.width + 20) * 3;
        var chapterRight = new cc.Node();
        var chapterLeft = new cc.Node();
        chapterRight.addComponent(cc.Sprite).spriteFrame = this.store_ui.getSpriteFrame("Shop_Arrow");
        chapterLeft.addComponent(cc.Sprite).spriteFrame = this.store_ui.getSpriteFrame("Shop_Arrow");
        chapterLeft.scaleX = -1;
        chapterRoot.addChild(chapterRight);
        chapterRoot.addChild(chapterLeft);
        chapterRight.x = 345;
        chapterLeft.x = -345;
        chapterLeft.active = false;
        // let chapterData = ChapterPackManager.getInstance().getJsonData();
        // chapterData.forEach((v, k) => {
        //     if (TheStorageManager.getInstance().getString(StorageKey.StoreChapterItem + v.Chapter, '') == '' && (LevelManager.getInstance().getFinishChapter()) >= v.Chapter) {
        //         let item = cc.instantiate(this.store_chapter_item);
        //         item.name = "chapterItem" + v.Chapter;
        //         if (v.Chapter == 1) {
        //             item.getChildByName("title").getComponent(TextLanguage).setTextId(1430002);
        //         } else {
        //             item.getChildByName("title").getComponent(TextLanguage).setTextId(1430003);
        //             item.getChildByName("title").getComponent(TextLanguage).setReplaceValue('~', v.Chapter + '');
        //         }
        //         let payInfo = PayManager.getInstance().getPayInfo(v.ProductId);
        //         item.getChildByName("originPrice").getComponent(cc.Label).string = payInfo.currency + (MyTool.getNumberFromString(payInfo.price) * v.InitialPrice);
        //         item.getChildByName("payBtn").getComponentInChildren(cc.Label).string = payInfo.price;
        //         let propRoot = item.getChildByName("itemRoot");
        //         if (v.GetCoinNum != 0) {
        //             let reward = PropManager.getInstance().createPropItem(PropId.Coin, v.GetCoinNum);
        //             reward.scale = 0.75;
        //             propRoot.addChild(reward);
        //         }
        //         if (v.GetGemNum != 0) {
        //             let reward = PropManager.getInstance().createPropItem(PropId.Gem, v.GetGemNum);
        //             reward.scale = 0.75;
        //             propRoot.addChild(reward);
        //         }
        //         if (v.ItemId_1 != 0) {
        //             let reward = PropManager.getInstance().createPropItem(v.ItemId_1, v.ItemNum_1);
        //             reward.scale = 0.75;
        //             propRoot.addChild(reward);
        //         }
        //         if (v.ItemId_2 != 0) {
        //             let reward = PropManager.getInstance().createPropItem(v.ItemId_2, v.ItemNum_2);
        //             reward.scale = 0.75;
        //             propRoot.addChild(reward);
        //         }
        //         chapterRoot.addChild(item);
        //         if (chapterRoot.childrenCount == 3) {
        //             chapterRoot.children[2].x = 0;
        //         } else {
        //             chapterRoot.children[chapterRoot.childrenCount - 1].x = 2 * chapterRoot.children[chapterRoot.childrenCount - 1].width;
        //         }
        //         let btn = item.getChildByName("payBtn");
        //         btn.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        //         btn.getComponent(cc.Button).duration = 0.1;
        //         btn.getComponent(cc.Button).zoomScale = 0.9;
        //         btn.on(cc.Node.EventType.TOUCH_END, () => {
        //             ApkManager.getInstance().showPay({
        //                 result: (isDy) => {
        //                     if (isDy) {
        //                         FollowManager.getInstance().followEvent(Follow_Type.商城章节礼包x章点击购买次数 + v.Chapter);
        //                         let rewardList = [];
        //                         if (v.GetCoinNum != 0) {
        //                             PropManager.getInstance().changePropNum(PropId.Coin, v.GetCoinNum)
        //                             let reward = PropManager.getInstance().createPropItem(PropId.Coin, v.GetCoinNum);
        //                             rewardList.push(reward);
        //                         }
        //                         if (v.GetGemNum != 0) {
        //                             PropManager.getInstance().changePropNum(PropId.Gem, v.GetGemNum)
        //                             let reward = PropManager.getInstance().createPropItem(PropId.Gem, v.GetGemNum);
        //                             rewardList.push(reward);
        //                         }
        //                         if (v.ItemId_1 != 0) {
        //                             PropManager.getInstance().changePropNum(v.ItemId_1, v.ItemNum_1)
        //                             let reward = PropManager.getInstance().createPropItem(v.ItemId_1, v.ItemNum_1);
        //                             rewardList.push(reward);
        //                         }
        //                         if (v.ItemId_2 != 0) {
        //                             PropManager.getInstance().changePropNum(v.ItemId_2, v.ItemNum_2)
        //                             let reward = PropManager.getInstance().createPropItem(v.ItemId_2, v.ItemNum_2);
        //                             rewardList.push(reward);
        //                         }
        //                         GameManager.getInstance().showMultipleGetTip(rewardList);
        //                         TheStorageManager.getInstance().setItem(StorageKey.StoreChapterItem + v.Chapter, '1')
        //                         chapterRoot.removeChild(item);
        //                         if (chapterRoot.childrenCount == 2) {
        //                             content.getChildByName("chapterTitle").active = false;
        //                             chapterLeft.active = false;
        //                             chapterRight.active = false;
        //                             chapterRoot.active = false;
        //                         } else if (chapterRoot.childrenCount <= 3) {
        //                             chapterLeft.active = false;
        //                             chapterRight.active = false;
        //                             cc.tween(chapterRoot.children[2]).to(0.2, { position: cc.v3(0, 0, 0) }).start().call(() => {
        //                             });
        //                         } else {
        //                             cc.tween(chapterRoot.children[2]).to(0.2, { position: cc.v3(0, 0, 0) }).start().call(() => {
        //                             });
        //                         }
        //                     }
        //                 }
        //             }, v.ProductId)
        //         });
        //     }
        // });
        chapterLeft.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        chapterLeft.getComponent(cc.Button).duration = 0.1;
        chapterLeft.getComponent(cc.Button).zoomScale = 0.9;
        chapterRight.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        chapterRight.getComponent(cc.Button).duration = 0.1;
        chapterRight.getComponent(cc.Button).zoomScale = 0.9;
        var index = 2;
        chapterRight.on(cc.Node.EventType.TOUCH_END, function () {
            index++;
            if (index >= chapterRoot.childrenCount - 1) {
                index = chapterRoot.childrenCount - 1;
                chapterRight.active = false;
            }
            if (index > 2)
                chapterLeft.active = true;
            cc.tween(chapterRoot.children[index]).to(0.2, { position: cc.v3(0, 0, 0) }).start().call(function () {
            });
            cc.tween(chapterRoot.children[index - 1]).to(0.2, { position: cc.v3(-800, 0, 0) }).start().call(function () {
            });
        });
        chapterLeft.on(cc.Node.EventType.TOUCH_END, function () {
            index--;
            if (index <= 2) {
                index = 2;
                chapterLeft.active = false;
            }
            if (index < chapterRoot.childrenCount - 1)
                chapterRight.active = true;
            cc.tween(chapterRoot.children[index]).to(0.2, { position: cc.v3(0, 0, 0) }).start().call(function () {
            });
            cc.tween(chapterRoot.children[index + 1]).to(0.2, { position: cc.v3(800, 0, 0) }).start().call(function () {
            });
        });
        if (chapterRoot.childrenCount <= 3) {
            chapterLeft.active = false;
            chapterRight.active = false;
        }
        if (chapterRoot.childrenCount == 2) {
            content.getChildByName("chapterTitle").active = false;
            chapterRoot.active = false;
        }
        else {
            content.getChildByName("chapterTitle").active = true;
            chapterRoot.active = true;
        }
        content.addChild(chapterRoot);
        //#endregion
        // 英雄招募
        title = cc.instantiate(this.store_title);
        title.getComponentInChildren(TextLanguage_1.default).setTextId(1460011);
        title.name = "mysteryTitle";
        content.addChild(title);
        var heroRoot = new cc.Node();
        heroRoot.name = 'heroRoot';
        heroRoot.height = this.store_hero_item.data.height;
        heroRoot.width = (this.store_hero_item.data.width + 20) * 3;
        var heroItem = cc.instantiate(this.store_hero_item);
        this.hero_instance = heroItem;
        heroItem.name = "heroItem";
        heroItem.getChildByName("richBg").getComponentInChildren(cc.RichText).string = LanguageManager_1.default.getInstance().getStrByTextId(1460002);
        heroItem.getChildByName("IconNum").getComponent(cc.Label).string = "X" + PropManager_1.PropManager.getInstance().getPropNum(40004);
        var prizeHeroData = DrawCardInformation_1.DrawCardInformationManager.getInstance().getJsonDrawCardInformation(1001);
        if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.OneDrawPropsSpend_1) {
            heroItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_1);
            heroItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeHeroData.OneDrawPropsSpend_1;
        }
        else {
            heroItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_2);
            heroItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeHeroData.OneDrawPropsSpend_2;
        }
        if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.TenDrawPropsSpend_1) {
            heroItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_1);
            heroItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeHeroData.TenDrawPropsSpend_1;
        }
        else {
            heroItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_2);
            heroItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeHeroData.TenDrawPropsSpend_2;
        }
        var heroTip = heroItem.getChildByName("name").getChildByName("tip");
        heroTip.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        heroTip.getComponent(cc.Button).duration = 0.1;
        heroTip.getComponent(cc.Button).zoomScale = 0.9;
        heroTip.on(cc.Node.EventType.TOUCH_END, function () {
            UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.ProbabilityTipUi, UIConfig_1.UILayerLevel.One, {
                onCompleted: function (uiNode) {
                    uiNode.getComponent(ProbabilityTipUi_1.default).init(null);
                    uiNode.getComponent(ProbabilityTipUi_1.default).initUi();
                },
            });
        });
        var heroBtn1 = heroItem.getChildByName("btn1");
        var heroBtn10 = heroItem.getChildByName("btn10");
        heroBtn10.getChildByName('red').active = GameData_1.default.getInstance().getHeroRecruitingRedTip();
        heroBtn1.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        heroBtn1.getComponent(cc.Button).duration = 0.1;
        heroBtn1.getComponent(cc.Button).zoomScale = 0.9;
        heroBtn10.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        heroBtn10.getComponent(cc.Button).duration = 0.1;
        heroBtn10.getComponent(cc.Button).zoomScale = 0.9;
        heroBtn1.on(cc.Node.EventType.TOUCH_END, function () {
            var costId = 0;
            var costNum = 0;
            if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.OneDrawPropsSpend_1) {
                costId = prizeHeroData.OneDrawPropsID_1;
                costNum = prizeHeroData.OneDrawPropsSpend_1;
                // 以下为后端未存消费券的处理，当后端存储消费券时，使用上面两行代码
                // PropManager.getInstance().changePropNum(prizeHeroData.OneDrawPropsID_1,-prizeHeroData.OneDrawPropsSpend_1);
                // costId = prizeHeroData.OneDrawPropsID_2;
                // costNum = 0;
                FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.记录招募消耗招募卷数量, prizeHeroData.OneDrawPropsSpend_1);
            }
            else {
                costId = prizeHeroData.OneDrawPropsID_2;
                costNum = prizeHeroData.OneDrawPropsSpend_2;
                FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.记录招募卷消耗钻石数量, costNum);
            }
            // if(PropManager.getInstance().getPropNum(costId) < costNum){
            //     UIManager.getInstance().showUiDialog(UIPath.CoinPop,UILayerLevel.Two,{onCompleted:(uiNode)=> {
            //         uiNode.getComponent(CoinPop).initUi(PropId.Gem)
            //     },});
            //     return;
            // }
            if (PropManager_1.PropManager.getInstance().getPropNum(costId) < costNum) {
                // GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(100041));
                // this.node.getChildByName("scroll").getComponent(cc.ScrollView).scrollToBottom(2);
                UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.Turntable, UIConfig_1.UILayerLevel.One, { onCompleted: function (uiNode) {
                        uiNode.getComponent(Turmtable_1.default).initUi();
                    }, }); //转盘
                return;
            }
            // if(IsDebug) costNum = 0;
            HttpManager_1.HttpManager.post(HttpManager_1.AccessName.tryPrize, _this.getPrizeJsonString(1, 1, costId, costNum), true).then(function (data) {
                if (data) {
                    PropManager_1.PropManager.getInstance().changePropNum(costId, -costNum);
                    GameManager_1.default.getInstance().refreshGemShow();
                    FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.记录单次招募的次数);
                    TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行1次英雄招募);
                    TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行10次英雄招募);
                    TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.招募X次英雄);
                    PropManager_1.PropManager.getInstance().changePropNum(data[0].dropId, data[0].dropNum);
                    HeroManager_1.HeroManager.getInstance().reportHeroList();
                    var type = Item_1.ItemManager.getInstance().getType(data[0].dropId);
                    if (type == 11) {
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.累计招募X个英雄);
                    }
                    PropManager_1.PropManager.getInstance().saveAllPropNum();
                    UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.StoreHeroUi, UIConfig_1.UILayerLevel.One, {
                        onCompleted: function (uiNode) {
                            uiNode.getComponent(StoreHeroUi_1.default).init(null);
                            uiNode.getComponent(StoreHeroUi_1.default).initData(data);
                        },
                    });
                    if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.OneDrawPropsSpend_1) {
                        heroItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_1);
                        heroItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeHeroData.OneDrawPropsSpend_1;
                    }
                    else {
                        heroItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_2);
                        heroItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeHeroData.OneDrawPropsSpend_2;
                    }
                    if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.TenDrawPropsSpend_1) {
                        heroItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_1);
                        heroItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeHeroData.TenDrawPropsSpend_1;
                    }
                    else {
                        heroItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_2);
                        heroItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeHeroData.TenDrawPropsSpend_2;
                    }
                }
            });
        });
        heroBtn10.on(cc.Node.EventType.TOUCH_END, function () {
            var costId = 0;
            var costNum = 0;
            if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.TenDrawPropsSpend_1) {
                costId = prizeHeroData.OneDrawPropsID_1;
                costNum = prizeHeroData.TenDrawPropsSpend_1;
                // 以下为后端未存消费券的处理，当后端存储消费券时，使用上面两行代码
                // PropManager.getInstance().changePropNum(prizeHeroData.OneDrawPropsID_1,-prizeHeroData.TenDrawPropsSpend_1);
                // costId = prizeHeroData.OneDrawPropsID_2;
                // costNum = 0;
                FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.记录招募消耗招募卷数量, prizeHeroData.TenDrawPropsSpend_1);
            }
            else {
                costId = prizeHeroData.OneDrawPropsID_2;
                costNum = prizeHeroData.TenDrawPropsSpend_2;
                FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.记录招募卷消耗钻石数量, costNum);
            }
            // if(PropManager.getInstance().getPropNum(costId) < costNum){
            //     UIManager.getInstance().showUiDialog(UIPath.CoinPop,UILayerLevel.Two,{onCompleted:(uiNode)=> {
            //         uiNode.getComponent(CoinPop).initUi(PropId.Gem)
            //     },});
            //     return;
            // }
            if (PropManager_1.PropManager.getInstance().getPropNum(costId) < costNum) {
                // GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(100041));
                // this.node.getChildByName("scroll").getComponent(cc.ScrollView).scrollToBottom(2);
                UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.Turntable, UIConfig_1.UILayerLevel.One, { onCompleted: function (uiNode) {
                        uiNode.getComponent(Turmtable_1.default).initUi();
                    }, }); //转盘
                return;
            }
            // if(IsDebug) costNum = 0;   
            HttpManager_1.HttpManager.post(HttpManager_1.AccessName.tryPrize, _this.getPrizeJsonString(2, 1, costId, costNum), true).then(function (data) {
                if (data) {
                    PropManager_1.PropManager.getInstance().changePropNum(costId, -costNum);
                    GameManager_1.default.getInstance().refreshGemShow();
                    FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.记录十次招募的次数);
                    var length = data.length;
                    for (var i = 0; i < length; i++) {
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行1次英雄招募);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行10次英雄招募);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.招募X次英雄);
                        PropManager_1.PropManager.getInstance().changePropNum(data[i].dropId, data[i].dropNum);
                        var type = Item_1.ItemManager.getInstance().getType(data[i].dropId);
                        if (type == 11) {
                            TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.累计招募X个英雄);
                        }
                    }
                    HeroManager_1.HeroManager.getInstance().reportHeroList();
                    var tempIndex = MyTool_1.default.randomRangeInt(0, 9);
                    var temp = data[9];
                    data[9] = data[tempIndex];
                    data[tempIndex] = temp;
                    PropManager_1.PropManager.getInstance().saveAllPropNum();
                    UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.StoreHeroUi, UIConfig_1.UILayerLevel.One, {
                        onCompleted: function (uiNode) {
                            uiNode.getComponent(StoreHeroUi_1.default).init(null);
                            uiNode.getComponent(StoreHeroUi_1.default).initData(data);
                        },
                    });
                    if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.OneDrawPropsSpend_1) {
                        heroItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_1);
                        heroItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeHeroData.OneDrawPropsSpend_1;
                    }
                    else {
                        heroItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_2);
                        heroItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeHeroData.OneDrawPropsSpend_2;
                    }
                    if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.TenDrawPropsSpend_1) {
                        heroItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_1);
                        heroItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeHeroData.TenDrawPropsSpend_1;
                    }
                    else {
                        heroItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_2);
                        heroItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeHeroData.TenDrawPropsSpend_2;
                    }
                    heroBtn10.getChildByName('red').active = GameData_1.default.getInstance().getHeroRecruitingRedTip();
                    EventManager_1.EventManager.postRedEvent(EventManager_1.RedEventString.RED_CHECK, EventManager_1.RedEventType.Btn_Shop);
                }
            });
        });
        heroRoot.addChild(heroItem);
        content.addChild(heroRoot);
        // 每日商店
        //#region 
        title = cc.instantiate(this.store_title);
        title.getComponentInChildren(TextLanguage_1.default).setTextId(1480001);
        title.name = "dailyStoreTitle";
        content.addChild(title);
        var timeLabel = new cc.Node().addComponent(TextLanguage_1.default);
        timeLabel.node.color = cc.color(255, 242, 206);
        timeLabel.node.anchorX = 1;
        timeLabel.verticalAlign = cc.Label.VerticalAlign.CENTER;
        timeLabel.horizontalAlign = cc.Label.HorizontalAlign.RIGHT;
        timeLabel.enableBold = true;
        timeLabel.fontSize = 24;
        timeLabel.setTextId(100045);
        var timeNum = new cc.Node().addComponent(cc.Label);
        timeNum.node.color = cc.color(79, 255, 70);
        timeNum.node.anchorX = 0;
        timeNum.verticalAlign = cc.Label.VerticalAlign.CENTER;
        timeNum.horizontalAlign = cc.Label.HorizontalAlign.LEFT;
        timeNum.enableBold = true;
        timeNum.fontSize = 24;
        var nowTime = Date.now() / 1000;
        var residueTime = StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.TomorowZeroTimeStamp, 0) - nowTime;
        if (residueTime < 0) {
            residueTime = ((new Date(new Date().toLocaleDateString()).getTime() + 8640000) / 1000) - nowTime;
        }
        var hh = Math.floor(residueTime / (60 * 60));
        if (hh < 10) {
            timeNum.string = '0' + hh + ':';
        }
        else {
            timeNum.string = hh + ':';
        }
        var mm = Math.floor(residueTime % (60 * 60) / 60);
        if (mm < 10) {
            timeNum.string += '0' + mm + ':';
        }
        else {
            timeNum.string += mm + ':';
        }
        var ss = Math.floor(residueTime % (60 * 60) % 60);
        if (ss < 10) {
            timeNum.string += '0' + ss;
        }
        else {
            timeNum.string += ss;
        }
        // 动态刷新一律写在函数的最下方
        var textRoot = new cc.Node();
        textRoot.width = this.node.width;
        textRoot.height = 20;
        textRoot.addChild(timeLabel.node);
        textRoot.addChild(timeNum.node);
        content.addChild(textRoot);
        var dailyStoreRoot = new cc.Node();
        dailyStoreRoot.name = 'dailyStoreRoot';
        dailyStoreRoot.height = this.store_daily_item.data.height * 2 + 10;
        dailyStoreRoot.width = this.node.width;
        content.addChild(dailyStoreRoot);
        var dailyStoreLayout = dailyStoreRoot.addComponent(cc.Layout);
        dailyStoreLayout.type = cc.Layout.Type.GRID;
        dailyStoreLayout.resizeMode = cc.Layout.ResizeMode.CONTAINER;
        dailyStoreLayout.paddingRight = 40;
        dailyStoreLayout.paddingLeft = 40;
        dailyStoreLayout.spacingX = 20;
        dailyStoreLayout.spacingY = 20;
        var dailyData;
        if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreDailyShopId, 0) == 0) {
            var index_1 = this.getRandomInt(1, 4);
            dailyData = DailyShop_1.DailyShopManager.getInstance().getJsonDataByChapterAndInde(LevelManager_1.LevelManager.getInstance().getFinishChapter(), index_1);
            StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreDailyShopId, dailyData.Shop_ID);
        }
        else {
            dailyData = DailyShop_1.DailyShopManager.getInstance().getJsonDailyShop(StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreDailyShopId));
        }
        console.log("每日商店ID:" + dailyData.Shop_ID);
        dailyData.Shoplist.forEach(function (v, k) {
            console.log("每日商店道具" + k + ":" + v);
        });
        dailyData.Shoplist.forEach(function (v, k) {
            var item = cc.instantiate(_this.store_daily_item);
            var storeItemInfo = CommodityInformation_1.CommodityInformationManager.getInstance().getJsonCommodityInformation(v);
            if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreDailyShopNum + k, 0) < storeItemInfo.AdPlayableTimes) {
                // 可购买
                if (CommodityInformation_1.CommodityInformationManager.getInstance().getAdReward(v) == 1) {
                    // 广告商品
                    item.getChildByName("discountIcon").active = false;
                    item.getChildByName("discountNum").active = false;
                    item.getChildByName("price").active = false;
                    item.getChildByName("free").active = true;
                    item.getChildByName("red").active = true;
                    item.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame = _this.store_ui.getSpriteFrame("Shop_Icon_ADS");
                    item.getChildByName("name").getComponent(TextLanguage_1.default).setTextId(Item_1.ItemManager.getInstance().getNameTextId(storeItemInfo.GetItem));
                    // let name = item.getChildByName("name").getComponent(cc.Label);
                    // if(ItemManager.getInstance().getJsonItem(storeItemInfo.GetItem).Type==5){
                    //     let valueStr=24;
                    //     let yushu=ItemManager.getInstance().getJsonItem(storeItemInfo.GetItem).ItemID%10-1;
                    //     if(yushu<=4){
                    //         valueStr=Math.pow(2,yushu);
                    //     }
                    //     if(valueStr == 16) valueStr = 24;
                    //     name.getComponent(cc.Label).string=name.getComponent(cc.Label).string.replace('~',valueStr.toString());
                    //     // detailStr=detailStr.replace('~',valueStr.toString());
                    // }
                    var reward = PropManager_1.PropManager.getInstance().createPropItem(storeItemInfo.GetItem, storeItemInfo.GetNum);
                    reward.name = 'reward';
                    item.addChild(reward);
                    item.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
                    item.getComponent(cc.Button).duration = 0.1;
                    item.getComponent(cc.Button).zoomScale = 0.9;
                    item.on(cc.Node.EventType.TOUCH_END, function () {
                        _this.adItem = item;
                        _this.informationTemp = v;
                        _this.informationK = k;
                        if (cc.sys.platform === cc.sys.BYTEDANCE_GAME) {
                            WXManagerEX_1.default.getInstance().zuanshiiShipin = tt.createRewardedVideoAd({
                                adUnitId: 'dbee4b199d912f6onp'
                            });
                            WXManagerEX_1.default.getInstance().zuanshiiShipin.offError();
                            WXManagerEX_1.default.getInstance().zuanshiiShipin.onError(function (err) {
                                console.log(err);
                            });
                            WXManagerEX_1.default.getInstance().zuanshiiShipin.offClose();
                            WXManagerEX_1.default.getInstance().zuanshiiShipin.show().catch(function () {
                                // 失败重试
                                WXManagerEX_1.default.getInstance().zuanshiiShipin.load()
                                    .then(function () { return WXManagerEX_1.default.getInstance().zuanshiiShipin.show(); })
                                    .catch(function (err) {
                                    GameManager_1.default.getInstance().showMessage("广告拉取失败");
                                });
                            });
                            WXManagerEX_1.default.getInstance().zuanshiiShipin.onClose(function (res) {
                                // 用户点击了【关闭广告】按钮
                                // 小于 2.1.0 的基础库版本，res 是一个 undefined
                                if (res && res.isEnded || res === undefined) {
                                    // 正常播放结束，可以下发游戏奖励
                                    _this.onShipinComp();
                                }
                                else {
                                    // 播放中途退出，不下发游戏奖励
                                }
                                WXManagerEX_1.default.getInstance().zuanshiiShipin.destroy();
                            });
                        }
                        else {
                            _this.onShipinComp();
                        }
                    });
                }
                else {
                    // 非广告商品
                    if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreDailyShopDiscount + k, 0) == 0) {
                        // 无折扣需要随机折扣
                        var discountNum_1 = _this.getRandomInt(4, 9);
                        StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreDailyShopDiscount + k, discountNum_1);
                        item.getChildByName("free").active = false;
                        item.getChildByName("red").active = false;
                        EventManager_1.EventManager.postRedEvent(EventManager_1.RedEventString.RED_CHECK, EventManager_1.RedEventType.Btn_Shop);
                        item.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(storeItemInfo.CostItemID);
                        item.getChildByName("price").getComponent(cc.Label).string = 'x' + MyTool_1.default.getCoinDanwei(storeItemInfo.CostNum * discountNum_1 * 0.1);
                        item.getChildByName("name").getComponent(TextLanguage_1.default).setTextId(Item_1.ItemManager.getInstance().getNameTextId(storeItemInfo.GetItem));
                        item.getChildByName("discountNum").getComponent(TextLanguage_1.default).setReplaceValue('~', (100 - discountNum_1 * 10) + '');
                        var reward = PropManager_1.PropManager.getInstance().createPropItem(storeItemInfo.GetItem, storeItemInfo.GetNum);
                        reward.name = 'reward';
                        item.addChild(reward);
                        item.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
                        item.getComponent(cc.Button).duration = 0.1;
                        item.getComponent(cc.Button).zoomScale = 0.9;
                        item.on(cc.Node.EventType.TOUCH_END, function () {
                            if (PropManager_1.PropManager.getInstance().changePropNum(storeItemInfo.CostItemID, -(storeItemInfo.CostNum * discountNum_1 * 0.1))) {
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.商店中购买物品1次);
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.前往商城购买X次商品);
                                PropManager_1.PropManager.getInstance().changePropNum(storeItemInfo.GetItem, storeItemInfo.GetNum);
                                HttpManager_1.HttpManager.post(HttpManager_1.AccessName.saveGameTask, _this.getSaveGameTaskJsonString(k));
                                var reward_1 = PropManager_1.PropManager.getInstance().createPropItem(storeItemInfo.GetItem, storeItemInfo.GetNum);
                                var num = StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreDailyShopNum + k, 0);
                                num++;
                                if (storeItemInfo.CostItemID == PropConfig_1.PropId.Coin) {
                                    FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.在每日商店中消耗的金币数量, (storeItemInfo.CostNum * discountNum_1 * 0.1));
                                    FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.在每日商店中使用金币购买物品的次数);
                                }
                                else {
                                    FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.在每日商店中消耗的钻石数量, (storeItemInfo.CostNum * discountNum_1 * 0.1));
                                    FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.在每日商店中使用钻石购买物品的次数);
                                }
                                StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreDailyShopNum + k, num);
                                if (num >= storeItemInfo.AdPlayableTimes) {
                                    item.getChildByName("costIcon").active = false;
                                    item.getChildByName("price").active = false;
                                    item.getChildByName("discountNum").active = false;
                                    item.getChildByName("discountIcon").active = false;
                                    item.getChildByName("saleOut").zIndex = 1;
                                    item.getChildByName("saleOut").active = true;
                                    var type = Item_1.ItemManager.getInstance().getType(storeItemInfo.GetItem);
                                    if (type == 3) {
                                        item.getChildByName("reward").getComponent(EquipItem_1.default).prop_action = PropConfig_1.PropAction.Null;
                                    }
                                    else {
                                        item.getChildByName("reward").getComponent(Prop_1.default).prop_action = PropConfig_1.PropAction.Null;
                                    }
                                    item.off(cc.Node.EventType.TOUCH_END);
                                }
                                FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.每日商店中成功购买物品的次数);
                                GameManager_1.default.getInstance().showGetTip(reward_1);
                            }
                            else {
                                if (storeItemInfo.CostItemID == PropConfig_1.PropId.Coin) {
                                    UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.CoinPop, UIConfig_1.UILayerLevel.Three, {
                                        onCompleted: function (uiNode) {
                                            uiNode.getComponent(CoinPop_1.default).initUi(PropConfig_1.PropId.Coin);
                                        },
                                    });
                                }
                                else {
                                    UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.CoinPop, UIConfig_1.UILayerLevel.Three, {
                                        onCompleted: function (uiNode) {
                                            uiNode.getComponent(CoinPop_1.default).initUi(PropConfig_1.PropId.Gem);
                                        },
                                    });
                                }
                                // GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(100041));
                                FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.每日商店中购买失败的次数);
                            }
                        });
                    }
                    else {
                        // 有折扣直接读取折扣的大小
                        var discountNum_2 = StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreDailyShopDiscount + k);
                        item.getChildByName("free").active = false;
                        item.getChildByName("red").active = false;
                        EventManager_1.EventManager.postRedEvent(EventManager_1.RedEventString.RED_CHECK, EventManager_1.RedEventType.Btn_Shop);
                        item.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(storeItemInfo.CostItemID);
                        item.getChildByName("price").getComponent(cc.Label).string = 'x' + MyTool_1.default.getCoinDanwei(storeItemInfo.CostNum * discountNum_2 * 0.1);
                        item.getChildByName("name").getComponent(TextLanguage_1.default).setTextId(Item_1.ItemManager.getInstance().getNameTextId(storeItemInfo.GetItem));
                        item.getChildByName("discountNum").getComponent(TextLanguage_1.default).setReplaceValue('~', (100 - discountNum_2 * 10) + '');
                        var reward = PropManager_1.PropManager.getInstance().createPropItem(storeItemInfo.GetItem, storeItemInfo.GetNum);
                        reward.name = 'reward';
                        item.addChild(reward);
                        item.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
                        item.getComponent(cc.Button).duration = 0.1;
                        item.getComponent(cc.Button).zoomScale = 0.9;
                        item.on(cc.Node.EventType.TOUCH_END, function () {
                            if (PropManager_1.PropManager.getInstance().changePropNum(storeItemInfo.CostItemID, -(storeItemInfo.CostNum * discountNum_2 * 0.1))) {
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.商店中购买物品1次);
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.前往商城购买X次商品);
                                PropManager_1.PropManager.getInstance().changePropNum(storeItemInfo.GetItem, storeItemInfo.GetNum);
                                HttpManager_1.HttpManager.post(HttpManager_1.AccessName.saveGameTask, _this.getSaveGameTaskJsonString(k));
                                var reward_2 = PropManager_1.PropManager.getInstance().createPropItem(storeItemInfo.GetItem, storeItemInfo.GetNum);
                                var num = StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreDailyShopNum + k, 0);
                                num++;
                                if (storeItemInfo.CostItemID == PropConfig_1.PropId.Coin) {
                                    FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.在每日商店中消耗的金币数量, (storeItemInfo.CostNum * discountNum_2 * 0.1));
                                    FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.在每日商店中使用金币购买物品的次数);
                                }
                                else {
                                    FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.在每日商店中消耗的钻石数量, (storeItemInfo.CostNum * discountNum_2 * 0.1));
                                    FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.在每日商店中使用钻石购买物品的次数);
                                }
                                StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreDailyShopNum + k, num);
                                if (num >= storeItemInfo.AdPlayableTimes) {
                                    item.getChildByName("costIcon").active = false;
                                    item.getChildByName("price").active = false;
                                    item.getChildByName("discountNum").active = false;
                                    item.getChildByName("discountIcon").active = false;
                                    item.getChildByName("saleOut").zIndex = 1;
                                    item.getChildByName("saleOut").active = true;
                                    var type = Item_1.ItemManager.getInstance().getType(storeItemInfo.GetItem);
                                    if (type == 3) {
                                        item.getChildByName("reward").getComponent(EquipItem_1.default).prop_action = PropConfig_1.PropAction.Null;
                                    }
                                    else {
                                        item.getChildByName("reward").getComponent(Prop_1.default).prop_action = PropConfig_1.PropAction.Null;
                                    }
                                    item.off(cc.Node.EventType.TOUCH_END);
                                }
                                GameManager_1.default.getInstance().showGetTip(reward_2);
                                FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.每日商店中成功购买物品的次数);
                            }
                            else {
                                if (storeItemInfo.CostItemID == PropConfig_1.PropId.Coin) {
                                    UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.CoinPop, UIConfig_1.UILayerLevel.Three, {
                                        onCompleted: function (uiNode) {
                                            uiNode.getComponent(CoinPop_1.default).initUi(PropConfig_1.PropId.Coin);
                                        },
                                    });
                                    // FollowManager.getInstance().addTotal(Follow_Type.在每日商店中消耗的金币数量,(storeItemInfo.CostNum * discountNum * 0.1))
                                    // FollowManager.getInstance().followEvent(Follow_Type.在每日商店中使用金币购买物品的次数);
                                }
                                else {
                                    UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.CoinPop, UIConfig_1.UILayerLevel.Three, {
                                        onCompleted: function (uiNode) {
                                            uiNode.getComponent(CoinPop_1.default).initUi(PropConfig_1.PropId.Gem);
                                        },
                                    });
                                    // FollowManager.getInstance().addTotal(Follow_Type.在每日商店中消耗的钻石数量,(storeItemInfo.CostNum * discountNum * 0.1))
                                    // FollowManager.getInstance().followEvent(Follow_Type.在每日商店中使用钻石购买物品的次数);
                                }
                                // GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(100041));
                                FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.每日商店中购买失败的次数);
                            }
                        });
                    }
                }
            }
            else {
                // 不可购买
                item.getChildByName("costIcon").active = false;
                item.getChildByName("price").active = false;
                item.getChildByName("discountNum").active = false;
                item.getChildByName("discountIcon").active = false;
                item.getChildByName("free").active = false;
                item.getChildByName("red").active = false;
                EventManager_1.EventManager.postRedEvent(EventManager_1.RedEventString.RED_CHECK, EventManager_1.RedEventType.Btn_Shop);
                var reward = PropManager_1.PropManager.getInstance().createPropItem(storeItemInfo.GetItem, storeItemInfo.GetNum, PropConfig_1.PropAction.Null);
                item.addChild(reward);
                item.getChildByName("name").getComponent(TextLanguage_1.default).setTextId(Item_1.ItemManager.getInstance().getNameTextId(storeItemInfo.GetItem));
                item.getChildByName("saleOut").zIndex = 1;
                item.getChildByName("saleOut").active = true;
            }
            dailyStoreRoot.addChild(item);
        });
        //#endregion
        // 神秘商店
        //#region 
        title = cc.instantiate(this.store_title);
        title.getComponentInChildren(TextLanguage_1.default).setTextId(1460011);
        title.name = "mysteryTitle";
        content.addChild(title);
        var mysteryRoot = new cc.Node();
        mysteryRoot.name = 'mysteryRoot';
        mysteryRoot.height = this.store_equip_item.data.height + 20;
        mysteryRoot.width = this.node.width;
        var mysteryLayout = mysteryRoot.addComponent(cc.Layout);
        mysteryLayout.type = cc.Layout.Type.HORIZONTAL;
        mysteryLayout.resizeMode = cc.Layout.ResizeMode.CONTAINER;
        mysteryLayout.paddingRight = 40;
        mysteryLayout.paddingLeft = 40;
        mysteryLayout.spacingX = 20;
        var petItem = cc.instantiate(this.store_pet_item);
        petItem.getChildByName("richBg").children[1].children[1].getComponent(cc.Label).string = "X" + PropManager_1.PropManager.getInstance().getPropNum(40006);
        this.pet_instance = petItem;
        petItem.getChildByName("richBg").getComponentInChildren(cc.RichText).string = LanguageManager_1.default.getInstance().getStrByTextId(1460005);
        var prizePetData = DrawCardInformation_1.DrawCardInformationManager.getInstance().getJsonDrawCardInformation(3001);
        if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
            petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_1;
        }
        else {
            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
            petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_2;
        }
        if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.TenDrawPropsSpend_1) {
            petItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
            petItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizePetData.TenDrawPropsSpend_1;
        }
        else {
            petItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
            petItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizePetData.TenDrawPropsSpend_2;
        }
        var oneDayTime = 60 * 60 * 24 * 1000;
        var currentTime = Date.now();
        if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryPetFreeTime, 0) + oneDayTime - currentTime <= 0) {
            // 免费
            petItem.getChildByName("num1").active = false;
            petItem.getChildByName("free").active = true;
            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = this.store_ui.getSpriteFrame("Shop_Icon_ADS");
        }
        else {
            petItem.getChildByName("num1").active = true;
            petItem.getChildByName("free").active = false;
        }
        var petBtn1 = petItem.getChildByName("btn1");
        var petBtn10 = petItem.getChildByName("btn10");
        petBtn1.getChildByName('red').active = GameData_1.default.getInstance().getPetRecruitingRedTip();
        petBtn1.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        petBtn1.getComponent(cc.Button).duration = 0.1;
        petBtn1.getComponent(cc.Button).zoomScale = 0.9;
        petBtn10.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        petBtn10.getComponent(cc.Button).duration = 0.1;
        petBtn10.getComponent(cc.Button).zoomScale = 0.9;
        petBtn1.on(cc.Node.EventType.TOUCH_END, function () {
            // 暂未开放处理
            // let s = LanguageManager.getInstance().getStrByTextId(100113);
            // GameManager.getInstance().showMessage(s);
            // return;
            if (FunctionDefinition_1.FunctionDefinitionManager.getInstance().getIsUnlock(Constants_1.FuncType.PetParadise) == false) {
                var unlockType = FunctionDefinition_1.FunctionDefinitionManager.getInstance().getUnlockConditionType(Constants_1.FuncType.PetParadise);
                var s = '';
                if (unlockType == 1) {
                    s = LanguageManager_1.default.getInstance().getStrByTextId(100051);
                    s = s.replace('.', '.' + (FunctionDefinition_1.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(Constants_1.FuncType.PetParadise)) + '');
                }
                else {
                    s = LanguageManager_1.default.getInstance().getStrByTextId(100052);
                    s = s.replace('~', (MissionLevel_1.MissionLevelManager.getInstance().getLevelName((FunctionDefinition_1.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(Constants_1.FuncType.PetParadise)))) + '');
                }
                GameManager_1.default.getInstance().showMessage(s);
                return;
            }
            var costId = 0;
            var costNum = 0;
            if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
                costId = prizePetData.OneDrawPropsID_1;
                costNum = prizePetData.OneDrawPropsSpend_1;
            }
            else {
                costId = prizePetData.OneDrawPropsID_2;
                costNum = prizePetData.OneDrawPropsSpend_2;
            }
            var oneDayTime = 60 * 60 * 24 * 1000;
            var currentTime = Date.now();
            if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryPetFreeTime, 0) + oneDayTime - currentTime <= 0) {
                // 免费
                costNum = 0;
                StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreMysteryPetFreeTime, currentTime);
                if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
                    petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
                    petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_1;
                }
                else {
                    petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
                    petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_2;
                }
                petItem.getChildByName("num1").active = true;
                petItem.getChildByName("free").active = false;
                ApkManager_1.default.getInstance().showVideo(function (isTrue) {
                    if (isTrue) {
                        costNum = 0;
                        StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreMysteryPetFreeTime, currentTime);
                        if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
                            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
                            petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_1;
                        }
                        else {
                            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
                            petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_2;
                        }
                        petItem.getChildByName("num1").active = true;
                        petItem.getChildByName("free").active = false;
                        petBtn1.getChildByName('red').active = GameData_1.default.getInstance().getPetRecruitingRedTip();
                        EventManager_1.EventManager.postRedEvent(EventManager_1.RedEventString.RED_CHECK, EventManager_1.RedEventType.Btn_Shop);
                        HttpManager_1.HttpManager.post(HttpManager_1.AccessName.tryPrize, _this.getPrizeJsonString(1, 3, costId, costNum), true).then(function (data) {
                            if (data) {
                                // FollowManager.getInstance().followEvent(Follow_Type.记录开启1次宠物的次数);
                                // TaskManager.getInstance().emitTask(TaskItem.进行1次开启装备);
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.累计孵化灵宠蛋X次);
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.前往商城孵化X次宠物);
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行1次宠物招募);
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行10次宠物孵化);
                                var rewardItem = PropManager_1.PropManager.getInstance().createPropItem(data[0].dropId, data[0].dropNum);
                                PropManager_1.PropManager.getInstance().changePropNum(data[0].dropId, data[0].dropNum);
                                PropManager_1.PropManager.getInstance().saveAllPropNum();
                                GameManager_1.default.getInstance().showGetTip(rewardItem);
                                if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
                                    petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
                                    petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_1;
                                }
                                else {
                                    petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
                                    petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_2;
                                }
                                if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.TenDrawPropsSpend_1) {
                                    petItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
                                    petItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizePetData.TenDrawPropsSpend_1;
                                }
                                else {
                                    petItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
                                    petItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizePetData.TenDrawPropsSpend_2;
                                }
                                if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
                                    petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
                                    petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_1;
                                }
                                else {
                                    petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
                                    petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_2;
                                }
                            }
                        });
                    }
                    else {
                        // GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(1));
                    }
                }, Constants_1.VIDEO_TYPE.Equip);
            }
            else {
                if (PropManager_1.PropManager.getInstance().getPropNum(costId) < costNum) {
                    // GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(100041));
                    // this.node.getChildByName("scroll").getComponent(cc.ScrollView).scrollToBottom(2);
                    UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.Turntable, UIConfig_1.UILayerLevel.One, { onCompleted: function (uiNode) {
                            uiNode.getComponent(Turmtable_1.default).initUi();
                        }, }); //转盘
                    return;
                }
                HttpManager_1.HttpManager.post(HttpManager_1.AccessName.tryPrize, _this.getPrizeJsonString(1, 3, costId, costNum), true).then(function (data) {
                    if (data) {
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.累计孵化灵宠蛋X次);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.前往商城孵化X次宠物);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行1次宠物招募);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行10次宠物孵化);
                        PropManager_1.PropManager.getInstance().changePropNum(costId, -costNum);
                        GameManager_1.default.getInstance().refreshGemShow();
                        var rewardItem = PropManager_1.PropManager.getInstance().createPropItem(data[0].dropId, data[0].dropNum);
                        PropManager_1.PropManager.getInstance().changePropNum(data[0].dropId, data[0].dropNum);
                        PropManager_1.PropManager.getInstance().saveAllPropNum();
                        GameManager_1.default.getInstance().showGetTip(rewardItem);
                        if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
                            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
                            petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_1;
                        }
                        else {
                            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
                            petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_2;
                        }
                        if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.TenDrawPropsSpend_1) {
                            petItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
                            petItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizePetData.TenDrawPropsSpend_1;
                        }
                        else {
                            petItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
                            petItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizePetData.TenDrawPropsSpend_2;
                        }
                        if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
                            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
                            petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_1;
                        }
                        else {
                            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
                            petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_2;
                        }
                    }
                });
            }
        });
        petBtn10.on(cc.Node.EventType.TOUCH_END, function () {
            // 暂未开放处理
            // let s = LanguageManager.getInstance().getStrByTextId(100113);
            // GameManager.getInstance().showMessage(s);
            // return;
            if (FunctionDefinition_1.FunctionDefinitionManager.getInstance().getIsUnlock(Constants_1.FuncType.PetParadise) == false) {
                var unlockType = FunctionDefinition_1.FunctionDefinitionManager.getInstance().getUnlockConditionType(Constants_1.FuncType.PetParadise);
                var s = '';
                if (unlockType == 1) {
                    s = LanguageManager_1.default.getInstance().getStrByTextId(100051);
                    s = s.replace('.', '.' + (FunctionDefinition_1.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(Constants_1.FuncType.PetParadise)) + '');
                }
                else {
                    s = LanguageManager_1.default.getInstance().getStrByTextId(100052);
                    s = s.replace('~', (MissionLevel_1.MissionLevelManager.getInstance().getLevelName((FunctionDefinition_1.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(Constants_1.FuncType.PetParadise)))) + '');
                }
                GameManager_1.default.getInstance().showMessage(s);
                return;
            }
            var costId = 0;
            var costNum = 0;
            if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.TenDrawPropsSpend_1) {
                costId = prizePetData.OneDrawPropsID_1;
                costNum = prizePetData.TenDrawPropsSpend_1;
            }
            else {
                costId = prizePetData.OneDrawPropsID_2;
                costNum = prizePetData.TenDrawPropsSpend_2;
            }
            if (PropManager_1.PropManager.getInstance().getPropNum(costId) < costNum) {
                // GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(100041));
                // this.node.getChildByName("scroll").getComponent(cc.ScrollView).scrollToBottom(2);
                UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.Turntable, UIConfig_1.UILayerLevel.One, { onCompleted: function (uiNode) {
                        uiNode.getComponent(Turmtable_1.default).initUi();
                    }, }); //转盘
                return;
            }
            // if(IsDebug) costNum = 0;   
            HttpManager_1.HttpManager.post(HttpManager_1.AccessName.tryPrize, _this.getPrizeJsonString(2, 3, costId, costNum), true).then(function (data) {
                if (data) {
                    PropManager_1.PropManager.getInstance().changePropNum(costId, -costNum);
                    GameManager_1.default.getInstance().refreshGemShow();
                    var length = data.length;
                    var rewardList = [];
                    var tempIndex = MyTool_1.default.randomRangeInt(0, 9);
                    var temp = data[9];
                    data[9] = data[tempIndex];
                    data[tempIndex] = temp;
                    for (var i = 0; i < length; i++) {
                        var rewardItem = PropManager_1.PropManager.getInstance().createPropItem(data[i].dropId, data[i].dropNum);
                        PropManager_1.PropManager.getInstance().changePropNum(data[i].dropId, data[i].dropNum);
                        rewardList.push(rewardItem);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.前往商城孵化X次宠物);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行1次宠物招募);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行10次宠物孵化);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.累计孵化灵宠蛋X次);
                    }
                    PropManager_1.PropManager.getInstance().saveAllPropNum();
                    GameManager_1.default.getInstance().showMultipleGetTip(rewardList);
                }
            });
        });
        // mysteryRoot.addChild(petItem);
        var equipItem = cc.instantiate(this.store_equip_item);
        equipItem.getChildByName("richBg").children[1].children[1].getComponent(cc.Label).string = "X" + PropManager_1.PropManager.getInstance().getPropNum(40005);
        this.weapon_instance = equipItem;
        equipItem.getChildByName("richBg").getComponentInChildren(cc.RichText).string = LanguageManager_1.default.getInstance().getStrByTextId(1460006);
        var prizeEquipData = DrawCardInformation_1.DrawCardInformationManager.getInstance().getJsonDrawCardInformation(2001);
        if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.OneDrawPropsSpend_1) {
            equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
            equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_1;
        }
        else {
            equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
            equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_2;
        }
        if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.TenDrawPropsSpend_1) {
            equipItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
            equipItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeEquipData.TenDrawPropsSpend_1;
        }
        else {
            equipItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
            equipItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeEquipData.TenDrawPropsSpend_2;
        }
        // oneDayTime = 60*60*24*1000;
        currentTime = Date.now();
        if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryEquipFreeTime, 0) + oneDayTime - currentTime <= 0) {
            // 免费
            equipItem.getChildByName("num1").active = false;
            equipItem.getChildByName("free").active = true;
            equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = this.store_ui.getSpriteFrame("Shop_Icon_ADS");
        }
        else {
            equipItem.getChildByName("num1").active = true;
            equipItem.getChildByName("free").active = false;
        }
        var equipBtn1 = equipItem.getChildByName("btn1");
        var equipBtn10 = equipItem.getChildByName("btn10");
        equipBtn1.getChildByName('red').active = GameData_1.default.getInstance().getEquipFreeRedTip();
        equipBtn1.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        equipBtn1.getComponent(cc.Button).duration = 0.1;
        equipBtn1.getComponent(cc.Button).zoomScale = 0.9;
        equipBtn10.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        equipBtn10.getComponent(cc.Button).duration = 0.1;
        equipBtn10.getComponent(cc.Button).zoomScale = 0.9;
        equipBtn1.on(cc.Node.EventType.TOUCH_END, function () {
            var costId = 0;
            var costNum = 0;
            if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.OneDrawPropsSpend_1) {
                costId = prizeEquipData.OneDrawPropsID_1;
                costNum = prizeEquipData.OneDrawPropsSpend_1;
                // 以下为后端未存消费券的处理，当后端存储消费券时，使用上面两行代码
                // PropManager.getInstance().changePropNum(prizeEquipData.OneDrawPropsID_1,-prizeEquipData.OneDrawPropsSpend_1);
                // costId = prizeEquipData.OneDrawPropsID_2;
                // costNum = 0;
                FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.记录消耗的钥匙数量, prizeEquipData.OneDrawPropsSpend_1);
            }
            else {
                costId = prizeEquipData.OneDrawPropsID_2;
                costNum = prizeEquipData.OneDrawPropsSpend_2;
                FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.记录消耗宝石数量, costNum);
            }
            var oneDayTime = 60 * 60 * 24 * 1000;
            var currentTime = Date.now();
            if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryEquipFreeTime, 0) + oneDayTime - currentTime <= 0) {
                _this.equipItemTemp = equipItem;
                _this.costIdTemp = costId;
                _this.prizeEquipDataTemp = prizeEquipData;
                if (cc.sys.platform === cc.sys.BYTEDANCE_GAME) {
                    WXManagerEX_1.default.getInstance().zhuangbeikuShipin = tt.createRewardedVideoAd({
                        adUnitId: '613effl7e21d5e7dc6'
                    });
                    WXManagerEX_1.default.getInstance().zhuangbeikuShipin.offError();
                    WXManagerEX_1.default.getInstance().zhuangbeikuShipin.onError(function (err) {
                        console.log(err);
                    });
                    WXManagerEX_1.default.getInstance().zhuangbeikuShipin.offClose();
                    WXManagerEX_1.default.getInstance().zhuangbeikuShipin.show().catch(function () {
                        // 失败重试
                        WXManagerEX_1.default.getInstance().zhuangbeikuShipin.load()
                            .then(function () { return WXManagerEX_1.default.getInstance().zhuangbeikuShipin.show(); })
                            .catch(function (err) {
                            GameManager_1.default.getInstance().showMessage("广告拉取失败");
                        });
                    });
                    WXManagerEX_1.default.getInstance().zhuangbeikuShipin.onClose(function (res) {
                        // 用户点击了【关闭广告】按钮
                        // 小于 2.1.0 的基础库版本，res 是一个 undefined
                        if (res && res.isEnded || res === undefined) {
                            // 正常播放结束，可以下发游戏奖励
                            _this.onSHipincomp2();
                        }
                        else {
                            // 播放中途退出，不下发游戏奖励
                        }
                        WXManagerEX_1.default.getInstance().zhuangbeikuShipin.destroy();
                    });
                }
                else {
                    _this.onSHipincomp2();
                }
            }
            else {
                if (PropManager_1.PropManager.getInstance().getPropNum(costId) < costNum) {
                    // GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(100041));
                    // this.node.getChildByName("scroll").getComponent(cc.ScrollView).scrollToBottom(2);
                    UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.Turntable, UIConfig_1.UILayerLevel.One, { onCompleted: function (uiNode) {
                            uiNode.getComponent(Turmtable_1.default).initUi();
                        }, }); //转盘
                    return;
                }
                HttpManager_1.HttpManager.post(HttpManager_1.AccessName.tryPrize, _this.getPrizeJsonString(1, 2, costId, costNum), true).then(function (data) {
                    if (data) {
                        PropManager_1.PropManager.getInstance().changePropNum(costId, -costNum);
                        GameManager_1.default.getInstance().refreshGemShow();
                        FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.记录开启1次装备的次数);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行1次开启装备);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行10次开启装备);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.累计获得X件装备);
                        var rewardItem = PropManager_1.PropManager.getInstance().createPropItem(data[0].dropId, data[0].dropNum);
                        PropManager_1.PropManager.getInstance().changePropNum(data[0].dropId, data[0].dropNum);
                        PropManager_1.PropManager.getInstance().saveAllPropNum();
                        GameManager_1.default.getInstance().showGetTip(rewardItem);
                        if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.OneDrawPropsSpend_1) {
                            equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
                            equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_1;
                        }
                        else {
                            equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
                            equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_2;
                        }
                        if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.TenDrawPropsSpend_1) {
                            equipItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
                            equipItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeEquipData.TenDrawPropsSpend_1;
                        }
                        else {
                            equipItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
                            equipItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeEquipData.TenDrawPropsSpend_2;
                        }
                        // if(PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.OneDrawPropsSpend_1){
                        //     equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
                        //     equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_1;
                        // }else{
                        //     equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
                        //     equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_2;
                        // }
                        if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryEquipFreeTime, 0) + oneDayTime - currentTime <= 0) {
                            // 免费
                            equipItem.getChildByName("num1").active = false;
                            equipItem.getChildByName("free").active = true;
                            equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = _this.store_ui.getSpriteFrame("Shop_Icon_ADS");
                        }
                        else {
                            equipItem.getChildByName("num1").active = true;
                            equipItem.getChildByName("free").active = false;
                        }
                    }
                });
            }
            // if(IsDebug) costNum = 0;
        });
        equipBtn10.on(cc.Node.EventType.TOUCH_END, function () {
            var costId = 0;
            var costNum = 0;
            if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.TenDrawPropsSpend_1) {
                // costId = prizeEquipData.OneDrawPropsID_1;
                // costNum = prizeEquipData.TenDrawPropsSpend_1;
                // 以下为后端未存消费券的处理，当后端存储消费券时，使用上面两行代码
                PropManager_1.PropManager.getInstance().changePropNum(prizeEquipData.OneDrawPropsID_1, -prizeEquipData.TenDrawPropsSpend_1);
                costId = prizeEquipData.OneDrawPropsID_2;
                costNum = 0;
                FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.记录消耗的钥匙数量, prizeEquipData.TenDrawPropsSpend_1);
            }
            else {
                costId = prizeEquipData.OneDrawPropsID_2;
                costNum = prizeEquipData.TenDrawPropsSpend_2;
                FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.记录消耗宝石数量, costNum);
            }
            if (PropManager_1.PropManager.getInstance().getPropNum(costId) < costNum) {
                // GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(100041));
                // this.node.getChildByName("scroll").getComponent(cc.ScrollView).scrollToBottom(2);
                UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.Turntable, UIConfig_1.UILayerLevel.One, { onCompleted: function (uiNode) {
                        uiNode.getComponent(Turmtable_1.default).initUi();
                    }, }); //转盘
                return;
            }
            // if(IsDebug) costNum = 0;   
            HttpManager_1.HttpManager.post(HttpManager_1.AccessName.tryPrize, _this.getPrizeJsonString(2, 2, costId, costNum), true).then(function (data) {
                if (data) {
                    PropManager_1.PropManager.getInstance().changePropNum(costId, -costNum);
                    GameManager_1.default.getInstance().refreshGemShow();
                    FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.记录开启10次装备的次数);
                    var length = data.length;
                    var rewardList = [];
                    var tempIndex = MyTool_1.default.randomRangeInt(0, 9);
                    var temp = data[9];
                    data[9] = data[tempIndex];
                    data[tempIndex] = temp;
                    for (var i = 0; i < length; i++) {
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行1次开启装备);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行10次开启装备);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.累计获得X件装备);
                        var rewardItem = PropManager_1.PropManager.getInstance().createPropItem(data[i].dropId, data[i].dropNum);
                        PropManager_1.PropManager.getInstance().changePropNum(data[i].dropId, data[i].dropNum);
                        rewardList.push(rewardItem);
                    }
                    GameManager_1.default.getInstance().showMultipleGetTip(rewardList);
                    PropManager_1.PropManager.getInstance().saveAllPropNum();
                    if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.OneDrawPropsSpend_1) {
                        equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
                        equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_1;
                    }
                    else {
                        equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
                        equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_2;
                    }
                    if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.TenDrawPropsSpend_1) {
                        equipItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
                        equipItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeEquipData.TenDrawPropsSpend_1;
                    }
                    else {
                        equipItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
                        equipItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeEquipData.TenDrawPropsSpend_2;
                    }
                    if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryEquipFreeTime, 0) + oneDayTime - currentTime <= 0) {
                        // 免费
                        equipItem.getChildByName("num1").active = false;
                        equipItem.getChildByName("free").active = true;
                        equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = _this.store_ui.getSpriteFrame("Shop_Icon_ADS");
                    }
                    else {
                        equipItem.getChildByName("num1").active = true;
                        equipItem.getChildByName("free").active = false;
                    }
                }
            });
        });
        mysteryRoot.addChild(equipItem);
        content.addChild(mysteryRoot);
        //#endregion
        // 钻石
        //#region 
        title = cc.instantiate(this.store_title);
        title.getComponentInChildren(TextLanguage_1.default).setTextId(400002);
        title.name = "gemTitle";
        //content.addChild(title);
        var gemRoot = new cc.Node();
        gemRoot.name = 'gemRoot';
        gemRoot.height = this.store_gem_item.data.height * 2 + 10;
        gemRoot.width = this.node.width;
        //content.addChild(gemRoot);
        var gemLayout = gemRoot.addComponent(cc.Layout);
        gemLayout.type = cc.Layout.Type.GRID;
        gemLayout.resizeMode = cc.Layout.ResizeMode.CONTAINER;
        gemLayout.paddingRight = 40;
        gemLayout.paddingLeft = 40;
        gemLayout.spacingX = 20;
        gemLayout.spacingY = 20;
        var gemData = DiamondsRecharge_1.DiamondsRechargeManager.getInstance().getJsonData();
        gemData.forEach(function (v, k) {
            var item = cc.instantiate(_this.store_gem_item);
            item.name = 'gem' + v.RechargeID;
            item.getChildByName("title").getComponent(TextLanguage_1.default).setTextId(400002);
            item.getChildByName("title").getComponent(TextLanguage_1.default).string = v.DiamondsNum + item.getChildByName("title").getComponent(TextLanguage_1.default).string;
            var payInfo = PayManager_1.PayManager.getInstance().getPayInfo(v.ProductId);
            item.getChildByName("num").getComponent(cc.Label).string = payInfo.price;
            item.getChildByName('icon').getComponent(cc.Sprite).spriteFrame = _this.store_ui.getSpriteFrame("Shop_Icon_Gem_" + (v.RechargeID - 1));
            if (StorageManager_1.TheStorageManager.getInstance().getString(StorageConfig_1.StorageKey.StoreGemItem + v.RechargeID, '') == '') {
                item.getChildByName('bg').active = true;
                item.getChildByName('tip').active = true;
                item.getChildByName("tip").getComponent(TextLanguage_1.default).setTextId(1410004);
                item.getChildByName("tip").getComponent(TextLanguage_1.default).setReplaceValue('~', v.GetDiamondsNum + '');
            }
            else {
                item.getChildByName('bg').active = false;
                item.getChildByName('tip').active = false;
            }
            var button = item.addComponent(cc.Button);
            button.transition = cc.Button.Transition.SCALE;
            button.duration = 0.1;
            button.zoomScale = 0.9;
            var clickEvent = new cc.Component.EventHandler();
            clickEvent.target = _this.node;
            clickEvent.component = 'StoreUi';
            clickEvent.handler = 'onGemBtnClick';
            clickEvent.customEventData = v.RechargeID + '';
            button.clickEvents.push(clickEvent);
            // button
            // item.on(cc.Node.EventType.TOUCH_END,()=>{
            //     ApkManager.getInstance().showPay({
            //         result:(isDy)=> {
            //             if(isDy){
            //                 FollowManager.getInstance().followEvent(Follow_Type.x钻石点击购买次数 + v.ProductId);
            //                 if(TheStorageManager.getInstance().getString(StorageKey.StoreGemItem + v.RechargeID,'') == ''){
            //                     let reward = PropManager.getInstance().createPropItem(PropId.Gem,v.DiamondsNum + v.GetDiamondsNum);
            //                     PropManager.getInstance().changePropNum(PropId.Gem,v.DiamondsNum + v.GetDiamondsNum);
            //                     TheStorageManager.getInstance().setItem(StorageKey.StoreGemItem + v.RechargeID,'1');
            //                     item.getChildByName('bg').active = false;
            //                     item.getChildByName('tip').active = false;
            //                     GameManager.getInstance().showGetTip(reward);
            //                 }else{
            //                     let reward = PropManager.getInstance().createPropItem(PropId.Gem,v.DiamondsNum);
            //                     PropManager.getInstance().changePropNum(PropId.Gem,v.DiamondsNum);
            //                     GameManager.getInstance().showGetTip(reward);
            //                 }
            //             }
            //         }
            //     },v.ProductId)
            // });
            //gemRoot.addChild(item);
        });
        //#endregion
        // 金币
        //#region 
        title = cc.instantiate(this.store_title);
        title.getComponentInChildren(TextLanguage_1.default).setTextId(400001);
        title.name = "coinTitle";
        content.addChild(title);
        var coinRoot = new cc.Node();
        coinRoot.name = 'coinRoot';
        coinRoot.height = this.store_coin_item.data.height + 10;
        coinRoot.width = this.node.width;
        content.addChild(coinRoot);
        var coinLayout = coinRoot.addComponent(cc.Layout);
        coinLayout.type = cc.Layout.Type.HORIZONTAL;
        coinLayout.resizeMode = cc.Layout.ResizeMode.CONTAINER;
        coinLayout.paddingRight = 40;
        coinLayout.paddingLeft = 40;
        coinLayout.spacingX = 20;
        var coinData = PurchaseCoins_1.PurchaseCoinsManager.getInstance().getJsonDataByChapter(LevelManager_1.LevelManager.getInstance().getFinishChapter());
        coinData.forEach(function (v, k) {
            var item = cc.instantiate(_this.store_coin_item);
            item.getChildByName("title").getComponent(cc.Label).string = v.GetCoinNum + '';
            item.getChildByName("icon").getComponent(cc.Sprite).spriteFrame = _this.store_ui.getSpriteFrame("Shop_Icon_Coin_" + v.DisplayPosition);
            if (v.AdReward == 1) {
                if (Number(StorageManager_1.TheStorageManager.getInstance().getInt(StorageConfig_1.StorageKey.StoreCoinItem + k, 0)) < v.AdPlayableTimes) {
                    item.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame = _this.store_ui.getSpriteFrame("Shop_Icon_ADS");
                    item.getChildByName("num").active = false;
                    item.getChildByName("text").active = true;
                    item.getChildByName('red').active = true;
                }
                else {
                    item.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(PropConfig_1.PropId.Gem);
                    item.getChildByName("num").active = true;
                    item.getChildByName("num").getComponent(cc.Label).string = 'x' + v.ConsumeDiamondsNum;
                    item.getChildByName("text").active = false;
                    item.getChildByName('red').active = false;
                }
            }
            else {
                item.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(PropConfig_1.PropId.Gem);
                item.getChildByName("num").active = true;
                item.getChildByName("num").getComponent(cc.Label).string = 'x' + v.ConsumeDiamondsNum;
                item.getChildByName("text").active = false;
                item.getChildByName('red').active = false;
            }
            item.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
            item.getComponent(cc.Button).duration = 0.1;
            item.getComponent(cc.Button).zoomScale = 0.9;
            coinRoot.addChild(item);
            item.on(cc.Node.EventType.TOUCH_END, function () {
                if (v.AdReward == 1) {
                    if (Number(StorageManager_1.TheStorageManager.getInstance().getInt(StorageConfig_1.StorageKey.StoreCoinItem + k, 0)) < v.AdPlayableTimes) {
                        _this.vTemp = v;
                        _this.adItem = item;
                        _this.kTemp = k;
                        if (cc.sys.platform === cc.sys.BYTEDANCE_GAME) {
                            WXManagerEX_1.default.getInstance().jinbiShipin = tt.createRewardedVideoAd({
                                adUnitId: '1fida1lqejnd3pd4l1'
                            });
                            WXManagerEX_1.default.getInstance().jinbiShipin.offError();
                            WXManagerEX_1.default.getInstance().jinbiShipin.onError(function (err) {
                                console.log(err);
                            });
                            WXManagerEX_1.default.getInstance().jinbiShipin.offClose();
                            WXManagerEX_1.default.getInstance().jinbiShipin.show().catch(function () {
                                // 失败重试
                                WXManagerEX_1.default.getInstance().jinbiShipin.load()
                                    .then(function () { return WXManagerEX_1.default.getInstance().jinbiShipin.show(); })
                                    .catch(function (err) {
                                    GameManager_1.default.getInstance().showMessage("广告拉取失败");
                                });
                            });
                            WXManagerEX_1.default.getInstance().jinbiShipin.onClose(function (res) {
                                // 用户点击了【关闭广告】按钮
                                // 小于 2.1.0 的基础库版本，res 是一个 undefined
                                if (res && res.isEnded || res === undefined) {
                                    // 正常播放结束，可以下发游戏奖励
                                    _this.onShipincomp3();
                                }
                                else {
                                    // 播放中途退出，不下发游戏奖励
                                }
                                WXManagerEX_1.default.getInstance().jinbiShipin.destroy();
                            });
                        }
                        else {
                            _this.onShipincomp3();
                        }
                    }
                    else {
                        if (PropManager_1.PropManager.getInstance().changePropNum(PropConfig_1.PropId.Gem, -v.ConsumeDiamondsNum)) {
                            TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.购买1次商店中的金币);
                            FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.x金币点击购买次数 + v.CoinPurchaseID);
                            PropManager_1.PropManager.getInstance().changePropNum(PropConfig_1.PropId.Coin, v.GetCoinNum);
                            var reward = PropManager_1.PropManager.getInstance().createPropItem(PropConfig_1.PropId.Coin, v.GetCoinNum);
                            GameManager_1.default.getInstance().showGetTip(reward);
                        }
                        else {
                            UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.CoinPop, UIConfig_1.UILayerLevel.Three, {
                                onCompleted: function (uiNode) {
                                    uiNode.getComponent(CoinPop_1.default).initUi(PropConfig_1.PropId.Gem);
                                },
                            });
                        }
                    }
                }
                else {
                    if (PropManager_1.PropManager.getInstance().changePropNum(PropConfig_1.PropId.Gem, -v.ConsumeDiamondsNum)) {
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.购买1次商店中的金币);
                        FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.x金币点击购买次数 + v.CoinPurchaseID);
                        PropManager_1.PropManager.getInstance().changePropNum(PropConfig_1.PropId.Coin, v.GetCoinNum);
                        var reward = PropManager_1.PropManager.getInstance().createPropItem(PropConfig_1.PropId.Coin, v.GetCoinNum);
                        GameManager_1.default.getInstance().showGetTip(reward);
                    }
                    else {
                        UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.CoinPop, UIConfig_1.UILayerLevel.Three, {
                            onCompleted: function (uiNode) {
                                uiNode.getComponent(CoinPop_1.default).initUi(PropConfig_1.PropId.Gem);
                            },
                        });
                    }
                }
            });
        });
        //#endregion
        // 动态刷新内容
        this.schedule(function () {
            // 每日商店刷新
            nowTime = Date.now() / 1000;
            var residueTime = StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.TomorowZeroTimeStamp, 0) - nowTime;
            if (residueTime < 0) {
                residueTime = ((new Date(new Date().toLocaleDateString()).getTime() + 8640000) / 1000) - nowTime;
            }
            var hh = Math.floor(residueTime / (60 * 60));
            if (hh < 10) {
                timeNum.string = '0' + hh + ':';
            }
            else {
                timeNum.string = hh + ':';
            }
            var mm = Math.floor(residueTime % (60 * 60) / 60);
            if (mm < 10) {
                timeNum.string += '0' + mm + ':';
            }
            else {
                timeNum.string += mm + ':';
            }
            var ss = Math.floor(residueTime % (60 * 60) % 60);
            if (ss < 10) {
                timeNum.string += '0' + ss;
            }
            else {
                timeNum.string += ss;
            }
            currentTime = Date.now();
            // 宠物刷新
            if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryPetFreeTime, 0) + oneDayTime - currentTime <= 0 && petItem.getChildByName("num1").active == true) {
                petItem.getChildByName("num1").active = false;
                petItem.getChildByName("free").active = true;
                petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = _this.store_ui.getSpriteFrame("Shop_Icon_ADS");
            }
            // 武器刷新
            if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryEquipFreeTime, 0) + oneDayTime - currentTime <= 0 && petItem.getChildByName("num1").active == true) {
                equipItem.getChildByName("num1").active = false;
                equipItem.getChildByName("free").active = true;
                equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = _this.store_ui.getSpriteFrame("Shop_Icon_ADS");
            }
        }, 1, cc.macro.REPEAT_FOREVER, 0);
    };
    StoreUi.prototype.onShipincomp3 = function () {
        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.购买1次商店中的金币);
        FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.x金币点击购买次数 + this.vTemp.CoinPurchaseID);
        PropManager_1.PropManager.getInstance().changePropNum(PropConfig_1.PropId.Coin, this.vTemp.GetCoinNum);
        var reward = PropManager_1.PropManager.getInstance().createPropItem(PropConfig_1.PropId.Coin, this.vTemp.GetCoinNum);
        var num = StorageManager_1.TheStorageManager.getInstance().getInt(StorageConfig_1.StorageKey.StoreCoinItem + this.kTemp, 0) + 1;
        StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreCoinItem + this.kTemp, num);
        GameManager_1.default.getInstance().showGetTip(reward);
        if (num >= this.vTemp.AdPlayableTimes) {
            this.adItem.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(PropConfig_1.PropId.Gem);
            this.adItem.getChildByName("num").active = true;
            this.adItem.getChildByName("num").getComponent(cc.Label).string = 'x' + this.vTemp.ConsumeDiamondsNum;
            this.adItem.getChildByName("text").active = false;
            this.adItem.getChildByName('red').active = false;
            EventManager_1.EventManager.postRedEvent(EventManager_1.RedEventString.RED_CHECK, EventManager_1.RedEventType.Btn_Shop);
        }
    };
    StoreUi.prototype.onSHipincomp2 = function () {
        var _this = this;
        var costNum = 0;
        var currentTime = Date.now();
        StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreMysteryEquipFreeTime, currentTime);
        // if(PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.OneDrawPropsSpend_1){
        //     equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
        //     equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_1;
        // }else{
        //     equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
        //     equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_2;
        // }
        var equipBtn1 = this.equipItemTemp.getChildByName("btn1");
        equipBtn1.getChildByName('red').active = GameData_1.default.getInstance().getEquipFreeRedTip();
        EventManager_1.EventManager.postRedEvent(EventManager_1.RedEventString.RED_CHECK, EventManager_1.RedEventType.Btn_Shop);
        this.equipItemTemp.getChildByName("num1").active = true;
        this.equipItemTemp.getChildByName("free").active = false;
        HttpManager_1.HttpManager.post(HttpManager_1.AccessName.tryPrize, this.getPrizeJsonString(1, 2, this.costIdTemp, costNum), true).then(function (data) {
            if (data) {
                FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.记录开启1次装备的次数);
                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行1次开启装备);
                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行10次开启装备);
                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.累计获得X件装备);
                var rewardItem = PropManager_1.PropManager.getInstance().createPropItem(data[0].dropId, data[0].dropNum);
                PropManager_1.PropManager.getInstance().changePropNum(data[0].dropId, data[0].dropNum);
                PropManager_1.PropManager.getInstance().saveAllPropNum();
                GameManager_1.default.getInstance().showGetTip(rewardItem);
                if (PropManager_1.PropManager.getInstance().getPropNum(_this.prizeEquipDataTemp.OneDrawPropsID_1) >= _this.prizeEquipDataTemp.OneDrawPropsSpend_1) {
                    _this.equipItemTemp.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(_this.prizeEquipDataTemp.OneDrawPropsID_1);
                    _this.equipItemTemp.getChildByName("num1").getComponent(cc.Label).string = "x" + _this.prizeEquipDataTemp.OneDrawPropsSpend_1;
                }
                else {
                    _this.equipItemTemp.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(_this.prizeEquipDataTemp.OneDrawPropsID_2);
                    _this.equipItemTemp.getChildByName("num1").getComponent(cc.Label).string = "x" + _this.prizeEquipDataTemp.OneDrawPropsSpend_2;
                }
                if (PropManager_1.PropManager.getInstance().getPropNum(_this.prizeEquipDataTemp.OneDrawPropsID_1) >= _this.prizeEquipDataTemp.TenDrawPropsSpend_1) {
                    _this.equipItemTemp.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(_this.prizeEquipDataTemp.OneDrawPropsID_1);
                    _this.equipItemTemp.getChildByName("num10").getComponent(cc.Label).string = "x" + _this.prizeEquipDataTemp.TenDrawPropsSpend_1;
                }
                else {
                    _this.equipItemTemp.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(_this.prizeEquipDataTemp.OneDrawPropsID_2);
                    _this.equipItemTemp.getChildByName("num10").getComponent(cc.Label).string = "x" + _this.prizeEquipDataTemp.TenDrawPropsSpend_2;
                }
                // if(PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.OneDrawPropsSpend_1){
                //     equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
                //     equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_1;
                // }else{
                //     equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
                //     equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_2;
                // }
            }
        });
    };
    StoreUi.prototype.onShipinComp = function () {
        var storeItemInfo = CommodityInformation_1.CommodityInformationManager.getInstance().getJsonCommodityInformation(this.informationTemp);
        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.商店中购买物品1次);
        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.前往商城购买X次商品);
        PropManager_1.PropManager.getInstance().changePropNum(storeItemInfo.GetItem, storeItemInfo.GetNum);
        var reward = PropManager_1.PropManager.getInstance().createPropItem(storeItemInfo.GetItem, storeItemInfo.GetNum);
        var num = StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreDailyShopNum + this.informationK, 0);
        num++;
        FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.在每日商店中使用广告购买钻石的次数);
        StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreDailyShopNum + this.informationK, num);
        if (num >= storeItemInfo.AdPlayableTimes) {
            this.adItem.getChildByName("costIcon").active = false;
            this.adItem.getChildByName("free").active = false;
            this.adItem.getChildByName("saleOut").zIndex = 1;
            this.adItem.getChildByName("saleOut").active = true;
            this.adItem.getChildByName("red").active = false;
            EventManager_1.EventManager.postRedEvent(EventManager_1.RedEventString.RED_CHECK, EventManager_1.RedEventType.Btn_Shop);
            var type = Item_1.ItemManager.getInstance().getType(storeItemInfo.GetItem);
            if (type == 3) {
                this.adItem.getChildByName("reward").getComponent(EquipItem_1.default).prop_action = PropConfig_1.PropAction.Null;
            }
            else {
                this.adItem.getChildByName("reward").getComponent(Prop_1.default).prop_action = PropConfig_1.PropAction.Null;
            }
            this.adItem.off(cc.Node.EventType.TOUCH_END);
        }
        FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.每日商店中成功购买物品的次数);
        GameManager_1.default.getInstance().showGetTip(reward);
    };
    // item:cc.Node,v:JsonDiamondsRecharge
    StoreUi.prototype.onGemBtnClick = function (e, id) {
        var _this = this;
        var item = this.node.getChildByName("scroll").getComponent(cc.ScrollView).content.getChildByName("gemRoot").getChildByName("gem" + id);
        var v = DiamondsRecharge_1.DiamondsRechargeManager.getInstance().getJsonDiamondsRecharge(Number(id));
        ApkManager_1.default.getInstance().showPay({
            result: function (isDy) {
                if (isDy) {
                    FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.x钻石点击购买次数 + v.ProductId);
                    if (StorageManager_1.TheStorageManager.getInstance().getString(StorageConfig_1.StorageKey.StoreGemItem + v.RechargeID, '') == '') {
                        var reward = PropManager_1.PropManager.getInstance().createPropItem(PropConfig_1.PropId.Gem, v.DiamondsNum + v.GetDiamondsNum);
                        PropManager_1.PropManager.getInstance().changePropNum(PropConfig_1.PropId.Gem, v.DiamondsNum + v.GetDiamondsNum);
                        StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreGemItem + v.RechargeID, '1');
                        UserInfo_1.UserInfo.getInstance().payGem += v.DiamondsNum;
                        HttpManager_1.HttpManager.post(HttpManager_1.AccessName.updateUserInfo, _this.setCumulativeRechargeJsonString(v.DiamondsNum)).then(function (data) {
                            UserInfo_1.UserInfo.getInstance().refreshData();
                            CumulativeRecharges_1.CumulativeRechargesManager.getInstance().refreshData();
                        });
                        item.getChildByName('bg').active = false;
                        item.getChildByName('tip').active = false;
                        GameManager_1.default.getInstance().showGetTip(reward);
                    }
                    else {
                        var reward = PropManager_1.PropManager.getInstance().createPropItem(PropConfig_1.PropId.Gem, v.DiamondsNum);
                        PropManager_1.PropManager.getInstance().changePropNum(PropConfig_1.PropId.Gem, v.DiamondsNum);
                        UserInfo_1.UserInfo.getInstance().payGem += v.DiamondsNum;
                        HttpManager_1.HttpManager.post(HttpManager_1.AccessName.updateUserInfo, _this.setCumulativeRechargeJsonString(v.DiamondsNum)).then(function (data) {
                            UserInfo_1.UserInfo.getInstance().refreshData();
                            CumulativeRecharges_1.CumulativeRechargesManager.getInstance().refreshData();
                        });
                        GameManager_1.default.getInstance().showGetTip(reward);
                    }
                }
            }
        }, v.ProductId);
    };
    StoreUi.prototype.refreshStore = function () {
        var _this = this;
        var content = this.node.getChildByName("scroll").getComponent(cc.ScrollView).content;
        var gemRoot = content.getChildByName("gemRoot");
        var gemData = DiamondsRecharge_1.DiamondsRechargeManager.getInstance().getJsonData();
        gemData.forEach(function (v, k) {
            var item = gemRoot.getChildByName('gem' + v.RechargeID);
            item.getChildByName("title").getComponent(TextLanguage_1.default).setTextId(400002);
            item.getChildByName("title").getComponent(TextLanguage_1.default).string = v.DiamondsNum + item.getChildByName("title").getComponent(TextLanguage_1.default).string;
            var payInfo = PayManager_1.PayManager.getInstance().getPayInfo(v.ProductId);
            item.getChildByName("num").getComponent(cc.Label).string = payInfo.price;
            item.getChildByName('icon').getComponent(cc.Sprite).spriteFrame = _this.store_ui.getSpriteFrame("Shop_Icon_Gem_" + (v.RechargeID - 1));
            if (StorageManager_1.TheStorageManager.getInstance().getString(StorageConfig_1.StorageKey.StoreGemItem + v.RechargeID, '') == '') {
                item.getChildByName('bg').active = true;
                item.getChildByName('tip').active = true;
                item.getChildByName("tip").getComponent(TextLanguage_1.default).setTextId(1410004);
                item.getChildByName("tip").getComponent(TextLanguage_1.default).setReplaceValue('~', v.GetDiamondsNum + '');
            }
            else {
                item.getChildByName('bg').active = false;
                item.getChildByName('tip').active = false;
            }
            // item.off(cc.Node.EventType.TOUCH_END);
            // item.on(cc.Node.EventType.TOUCH_END,()=>{
            //     item.scale = 1;
            //     ApkManager.getInstance().showPay({
            //         result:(isDy)=> {
            //             if(isDy){
            //                 FollowManager.getInstance().followEvent(Follow_Type.x钻石点击购买次数 + v.ProductId);
            //                 if(TheStorageManager.getInstance().getString(StorageKey.StoreGemItem + v.RechargeID,'') == ''){
            //                     let reward = PropManager.getInstance().createPropItem(PropId.Gem,v.DiamondsNum + v.GetDiamondsNum);
            //                     PropManager.getInstance().changePropNum(PropId.Gem,v.DiamondsNum + v.GetDiamondsNum);
            //                     TheStorageManager.getInstance().setItem(StorageKey.StoreGemItem + v.RechargeID,'1');
            //                     item.getChildByName('bg').active = false;
            //                     item.getChildByName('tip').active = false;
            //                     GameManager.getInstance().showGetTip(reward);
            //                 }else{
            //                     let reward = PropManager.getInstance().createPropItem(PropId.Gem,v.DiamondsNum);
            //                     PropManager.getInstance().changePropNum(PropId.Gem,v.DiamondsNum);
            //                     GameManager.getInstance().showGetTip(reward);
            //                 }
            //             }
            //         }
            //     },v.ProductId)
            // });
        });
    };
    StoreUi.prototype.getRandomInt = function (min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min)) + min; //不含最大值，含最小值
    };
    /**
     *
     * @param type 抽奖类型 1-单抽 2-十连抽
     * @param drawTyep 抽奖类型 1-英雄,英雄碎片 2-装备 3-灵宠
     * @param costId 消耗道具id
     * @param costNum 消耗道具数量
     * @returns
     */
    StoreUi.prototype.getPrizeJsonString = function (type, drawTyep, costId, costNum) {
        var uid = UserData_1.default.getInstance().getUserID();
        return JSON.stringify({
            uid: uid,
            type: type,
            drawType: drawTyep,
            itemsId: costId,
            minusNum: costNum,
        });
    };
    StoreUi.prototype.onRefreshInstanceItem = function () {
        var prizeHeroData = DrawCardInformation_1.DrawCardInformationManager.getInstance().getJsonDrawCardInformation(1001);
        if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.OneDrawPropsSpend_1) {
            this.hero_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_1);
            this.hero_instance.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeHeroData.OneDrawPropsSpend_1;
        }
        else {
            this.hero_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_2);
            this.hero_instance.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeHeroData.OneDrawPropsSpend_2;
        }
        if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.TenDrawPropsSpend_1) {
            this.hero_instance.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_1);
            this.hero_instance.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeHeroData.TenDrawPropsSpend_1;
        }
        else {
            this.hero_instance.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_2);
            this.hero_instance.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeHeroData.TenDrawPropsSpend_2;
        }
        this.hero_instance.getChildByName("IconNum").getComponent(cc.Label).string = "X" + PropManager_1.PropManager.getInstance().getPropNum(40004);
        var prizePetData = DrawCardInformation_1.DrawCardInformationManager.getInstance().getJsonDrawCardInformation(3001);
        if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
            this.pet_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
            this.pet_instance.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_1;
        }
        else {
            this.pet_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
            this.pet_instance.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_2;
        }
        this.pet_instance.getChildByName("richBg").children[1].children[1].getComponent(cc.Label).string = "X" + PropManager_1.PropManager.getInstance().getPropNum(40006);
        if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.TenDrawPropsSpend_1) {
            this.pet_instance.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
            this.pet_instance.getChildByName("num10").getComponent(cc.Label).string = "x" + prizePetData.TenDrawPropsSpend_1;
        }
        else {
            this.pet_instance.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
            this.pet_instance.getChildByName("num10").getComponent(cc.Label).string = "x" + prizePetData.TenDrawPropsSpend_2;
        }
        var oneDayTime = 60 * 60 * 24 * 1000;
        var currentTime = Date.now();
        var prizeEquipData = DrawCardInformation_1.DrawCardInformationManager.getInstance().getJsonDrawCardInformation(2001);
        if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.OneDrawPropsSpend_1) {
            this.weapon_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
            this.weapon_instance.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_1;
        }
        else {
            this.weapon_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
            this.weapon_instance.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_2;
        }
        if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.TenDrawPropsSpend_1) {
            this.weapon_instance.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
            this.weapon_instance.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeEquipData.TenDrawPropsSpend_1;
        }
        else {
            this.weapon_instance.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
            this.weapon_instance.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeEquipData.TenDrawPropsSpend_2;
        }
        this.weapon_instance.getChildByName("richBg").children[1].children[1].getComponent(cc.Label).string = "X" + PropManager_1.PropManager.getInstance().getPropNum(40005);
        // oneDayTime = 60*60*24*1000;
        // currentTime = Date.now();
        if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryEquipFreeTime, 0) + oneDayTime - currentTime <= 0) {
            // 免费
            this.weapon_instance.getChildByName("num1").active = false;
            this.weapon_instance.getChildByName("free").active = true;
            this.weapon_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = this.store_ui.getSpriteFrame("Shop_Icon_ADS");
        }
        else {
            this.weapon_instance.getChildByName("num1").active = true;
            this.weapon_instance.getChildByName("free").active = false;
        }
    };
    StoreUi.prototype.setCumulativeRechargeJsonString = function (addNum) {
        var uid = UserData_1.default.getInstance().getUserID();
        var num = addNum;
        return JSON.stringify({
            type: 8,
            uid: uid,
            value: num,
        });
    };
    StoreUi.prototype.getSaveGameTaskJsonString = function (index) {
        var uid = UserData_1.default.getInstance().getUserID();
        var num = index;
        return JSON.stringify({
            uid: uid,
            playLevel: num,
            rewardType: 10,
        });
    };
    __decorate([
        property(cc.Prefab)
    ], StoreUi.prototype, "store_title", void 0);
    __decorate([
        property(cc.Prefab)
    ], StoreUi.prototype, "store_chapter_item", void 0);
    __decorate([
        property(cc.Prefab)
    ], StoreUi.prototype, "store_hero_item", void 0);
    __decorate([
        property(cc.Prefab)
    ], StoreUi.prototype, "store_daily_item", void 0);
    __decorate([
        property(cc.Prefab)
    ], StoreUi.prototype, "store_pet_item", void 0);
    __decorate([
        property(cc.Prefab)
    ], StoreUi.prototype, "store_equip_item", void 0);
    __decorate([
        property(cc.Prefab)
    ], StoreUi.prototype, "store_gem_item", void 0);
    __decorate([
        property(cc.Prefab)
    ], StoreUi.prototype, "store_coin_item", void 0);
    __decorate([
        property(cc.SpriteAtlas)
    ], StoreUi.prototype, "store_ui", void 0);
    StoreUi = __decorate([
        ccclass
    ], StoreUi);
    return StoreUi;
}(cc.Component));
exports.default = StoreUi;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcU3RvcmVcXFN0b3JlVWkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsNERBQXNFO0FBQ3RFLHdEQUFtRTtBQUNuRSxrRkFBd0Y7QUFDeEYsZ0RBQTJDO0FBQzNDLHNDQUFpQztBQUNqQywwQ0FBdUU7QUFDdkUsdURBQWtEO0FBQ2xELHdDQUFtQztBQUNuQyw4Q0FBeUM7QUFDekMsd0RBQXVEO0FBQ3ZELHNEQUFvRDtBQUNwRCxxRUFBMkU7QUFDM0UsMkRBQTJEO0FBQzNELHNEQUFxRDtBQUNyRCxzREFBNEQ7QUFDNUQsb0VBQStEO0FBQy9ELGdFQUEyRDtBQUMzRCx3RUFBc0U7QUFDdEUsb0VBQStEO0FBQy9ELDhEQUF5RDtBQUN6RCxvREFBbUQ7QUFDbkQsMENBQWdEO0FBQ2hELHFDQUFnQztBQUNoQyxpREFBd0Q7QUFDeEQsbURBQWtEO0FBQ2xELDBEQUFzRDtBQUN0RCw0REFBOEQ7QUFDOUQsNkNBQTRDO0FBQzVDLG1EQUE4QztBQUM5QyxzREFBbUY7QUFDbkYsMENBQXFDO0FBQ3JDLG9EQUErQztBQUMvQyxrRUFBNkQ7QUFDN0QsNENBQXVDO0FBQ3ZDLDJDQUFzRDtBQUN0RCw2Q0FBNEM7QUFDNUMsd0NBQW1DO0FBQ25DLGlEQUFnRDtBQUVoRCwrREFBcUU7QUFDckUseUNBQThEO0FBQzlELHVEQUFtRjtBQUNuRiw2REFBbUU7QUFDbkUsdURBQWtEO0FBQ2xELGlEQUF1RDtBQUN2RCw2Q0FBd0M7QUFFbEMsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFHNUM7SUFBcUMsMkJBQVk7SUFBakQ7UUFBQSxxRUErMkRDO1FBNTJERyxpQkFBVyxHQUFjLElBQUksQ0FBQztRQUU5Qix3QkFBa0IsR0FBYyxJQUFJLENBQUM7UUFFckMscUJBQWUsR0FBYyxJQUFJLENBQUM7UUFFbEMs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QU8sQ0ErMkQzQjtJQUFELGNBQUM7Q0EvMkRELEFBKzJEQyxDQS8yRG9DLEVBQUUsQ0FBQyxTQUFTLEdBKzJEaEQ7a0JBLzJEb0IsT0FBTyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBXWE1hbmFnZXJFWCwgeyBXWEFERW52bnQgfSBmcm9tIFwiLi4vLi4vc3RhcnRzY2VuZS9XWE1hbmFnZXJFWFwiO1xyXG5pbXBvcnQgeyBBY2Nlc3NOYW1lLCBIdHRwTWFuYWdlciB9IGZyb20gXCIuLi8uL05ldFdvcmsvSHR0cE1hbmFnZXJcIjtcclxuaW1wb3J0IHsgQ3VtdWxhdGl2ZVJlY2hhcmdlc01hbmFnZXIgfSBmcm9tIFwiLi4vQWNjdW11bGF0ZWRSZWNoYXJnZS9DdW11bGF0aXZlUmVjaGFyZ2VzXCI7XHJcbmltcG9ydCBBcGtNYW5hZ2VyIGZyb20gXCIuLi9BZHMvQXBrTWFuYWdlclwiO1xyXG5pbXBvcnQgQ29pblBvcCBmcm9tIFwiLi4vQ29pblBvcFwiO1xyXG5pbXBvcnQgeyBGdW5jVHlwZSwgR2FtZU1vZGUsIElzRGVidWcsIFZJREVPX1RZUEUgfSBmcm9tIFwiLi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCBFcXVpcEl0ZW0gZnJvbSBcIi4uL0VxdWlwbWVudC9VaS9FcXVpcEl0ZW1cIjtcclxuaW1wb3J0IEdhbWVEYXRhIGZyb20gXCIuLi9HYW1lRGF0YVwiO1xyXG5pbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4uL0dhbWVNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEhlcm9NYW5hZ2VyIH0gZnJvbSBcIi4uL0hlcm8vRGF0YS9IZXJvTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBIZXJvX1R5cGUgfSBmcm9tIFwiLi4vSGVyby9HYW1lL0hlcm9Db25maWdcIjtcclxuaW1wb3J0IHsgRnVuY3Rpb25EZWZpbml0aW9uTWFuYWdlciB9IGZyb20gXCIuLi9Kc29uRGF0YS9GdW5jdGlvbkRlZmluaXRpb25cIjtcclxuaW1wb3J0IHsgUmV3YXJkSGVyb0RhdGEgfSBmcm9tIFwiLi4vSnNvbkRhdGEvTGV2ZWxKc29uRGF0YVwiO1xyXG5pbXBvcnQgeyBMZXZlbE1hbmFnZXIgfSBmcm9tIFwiLi4vTGV2ZWwvTGV2ZWxNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IE1pc3Npb25MZXZlbE1hbmFnZXIgfSBmcm9tIFwiLi4vTGV2ZWwvTWlzc2lvbkxldmVsXCI7XHJcbmltcG9ydCB7IEZvbGxvd19UeXBlIH0gZnJvbSBcIi4uL211bHRpTGFuZ3VhZ2UvRm9sbG93Q29uc3RhbnRzXCI7XHJcbmltcG9ydCBGb2xsb3dNYW5hZ2VyIGZyb20gXCIuLi9tdWx0aUxhbmd1YWdlL0ZvbGxvd01hbmFnZXJcIjtcclxuaW1wb3J0IHsgT25MYW5ndWFnZUNoYW5nZSB9IGZyb20gXCIuLi9tdWx0aUxhbmd1YWdlL0xhbmd1YWdlQ29uc3RhbnRzXCI7XHJcbmltcG9ydCBMYW5ndWFnZU1hbmFnZXIgZnJvbSBcIi4uL211bHRpTGFuZ3VhZ2UvTGFuZ3VhZ2VNYW5hZ2VyXCI7XHJcbmltcG9ydCBUZXh0TGFuZ3VhZ2UgZnJvbSBcIi4uL211bHRpTGFuZ3VhZ2UvVGV4dExhbmd1YWdlXCI7XHJcbmltcG9ydCB7IFBheU1hbmFnZXIgfSBmcm9tIFwiLi4vUGF5bWVudC9QYXlNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEl0ZW1NYW5hZ2VyIH0gZnJvbSBcIi4uL1Byb3AvRGF0YS9JdGVtXCI7XHJcbmltcG9ydCBQcm9wIGZyb20gXCIuLi9Qcm9wL1Byb3BcIjtcclxuaW1wb3J0IHsgUHJvcEFjdGlvbiwgUHJvcElkIH0gZnJvbSBcIi4uL1Byb3AvUHJvcENvbmZpZ1wiO1xyXG5pbXBvcnQgeyBQcm9wTWFuYWdlciB9IGZyb20gXCIuLi9Qcm9wL1Byb3BNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFN0b3JhZ2VLZXkgfSBmcm9tIFwiLi4vU3RvcmFnZS9TdG9yYWdlQ29uZmlnXCI7XHJcbmltcG9ydCB7IFRoZVN0b3JhZ2VNYW5hZ2VyIH0gZnJvbSBcIi4uL1N0b3JhZ2UvU3RvcmFnZU1hbmFnZXJcIjtcclxuaW1wb3J0IHsgVGFza0l0ZW0gfSBmcm9tIFwiLi4vVGFzay9UYXNrRW51bVwiO1xyXG5pbXBvcnQgVGFza01hbmFnZXIgZnJvbSBcIi4uL1Rhc2svVGFza01hbmFnZXJcIjtcclxuaW1wb3J0IHsgRXZlbnRNYW5hZ2VyLCBSZWRFdmVudFN0cmluZywgUmVkRXZlbnRUeXBlIH0gZnJvbSBcIi4uL1Rvb2xzL0V2ZW50TWFuYWdlclwiO1xyXG5pbXBvcnQgTXlUb29sIGZyb20gXCIuLi9Ub29scy9NeVRvb2xcIjtcclxuaW1wb3J0IFR1cm10YWJsZSBmcm9tIFwiLi4vVHVybnRhYmxlL1R1cm10YWJsZVwiO1xyXG5pbXBvcnQgVHV0b3JhaWxzTWFuYWdlciBmcm9tIFwiLi4vVHV0b3JpYWxzL1R1dG9yYWlsc01hbmFnZXJcIjtcclxuaW1wb3J0IE1haW5VaSBmcm9tIFwiLi4vVUkvaG9tZS9NYWluVWlcIjtcclxuaW1wb3J0IHsgVUlMYXllckxldmVsLCBVSVBhdGggfSBmcm9tIFwiLi4vVUkvVUlDb25maWdcIjtcclxuaW1wb3J0IHsgVUlNYW5hZ2VyIH0gZnJvbSBcIi4uL1VJL1VJTWFuYWdlclwiO1xyXG5pbXBvcnQgVXNlckRhdGEgZnJvbSBcIi4uL1VzZXJEYXRhXCI7XHJcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL1VzZXJJbmZvL1VzZXJJbmZvXCI7XHJcbmltcG9ydCB7IENoYXB0ZXJQYWNrTWFuYWdlciB9IGZyb20gXCIuL0NoYXB0ZXJQYWNrXCI7XHJcbmltcG9ydCB7IENvbW1vZGl0eUluZm9ybWF0aW9uTWFuYWdlciB9IGZyb20gXCIuL0NvbW1vZGl0eUluZm9ybWF0aW9uXCI7XHJcbmltcG9ydCB7IERhaWx5U2hvcE1hbmFnZXIsIEpzb25EYWlseVNob3AgfSBmcm9tIFwiLi9EYWlseVNob3BcIjtcclxuaW1wb3J0IHsgRGlhbW9uZHNSZWNoYXJnZU1hbmFnZXIsIEpzb25EaWFtb25kc1JlY2hhcmdlIH0gZnJvbSBcIi4vRGlhbW9uZHNSZWNoYXJnZVwiO1xyXG5pbXBvcnQgeyBEcmF3Q2FyZEluZm9ybWF0aW9uTWFuYWdlciB9IGZyb20gXCIuL0RyYXdDYXJkSW5mb3JtYXRpb25cIjtcclxuaW1wb3J0IFByb2JhYmlsaXR5VGlwVWkgZnJvbSBcIi4vUHJvYmFiaWxpdHlUaXBVaVwiO1xyXG5pbXBvcnQgeyBQdXJjaGFzZUNvaW5zTWFuYWdlciB9IGZyb20gXCIuL1B1cmNoYXNlQ29pbnNcIjtcclxuaW1wb3J0IFN0b3JlSGVyb1VpIGZyb20gXCIuL1N0b3JlSGVyb1VpXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RvcmVVaSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcclxuICAgIHN0b3JlX3RpdGxlOiBjYy5QcmVmYWIgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcclxuICAgIHN0b3JlX2NoYXB0ZXJfaXRlbTogY2MuUHJlZmFiID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpXHJcbiAgICBzdG9yZV9oZXJvX2l0ZW06IGNjLlByZWZhYiA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxyXG4gICAgc3RvcmVfZGFpbHlfaXRlbTogY2MuUHJlZmFiID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpXHJcbiAgICBzdG9yZV9wZXRfaXRlbTogY2MuUHJlZmFiID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpXHJcbiAgICBzdG9yZV9lcXVpcF9pdGVtOiBjYy5QcmVmYWIgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcclxuICAgIHN0b3JlX2dlbV9pdGVtOiBjYy5QcmVmYWIgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcclxuICAgIHN0b3JlX2NvaW5faXRlbTogY2MuUHJlZmFiID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlQXRsYXMpXHJcbiAgICBzdG9yZV91aTogY2MuU3ByaXRlQXRsYXMgPSBudWxsO1xyXG5cclxuICAgIC8vIOengeacieaVsOaNrlxyXG4gICAgcHJpdmF0ZSBoZXJvX2luc3RhbmNlOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIHByaXZhdGUgd2VhcG9uX2luc3RhbmNlOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIHByaXZhdGUgcGV0X2luc3RhbmNlOiBjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBwcml2YXRlIGFkSXRlbTpjYy5Ob2RlPW51bGw7XHJcbiAgICBwcml2YXRlIGluZm9ybWF0aW9uVGVtcDpudW1iZXI9MDtcclxuICAgIHByaXZhdGUgaW5mb3JtYXRpb25LOm51bWJlcj0wO1xyXG5cclxuICAgIHByaXZhdGUgZXF1aXBJdGVtVGVtcDpjYy5Ob2RlPW51bGw7XHJcbiAgICBwcml2YXRlIGNvc3RJZFRlbXA6bnVtYmVyPTA7XHJcbiAgICBwcml2YXRlIHByaXplRXF1aXBEYXRhVGVtcDtcclxuXHJcbiAgICBwcml2YXRlIHZUZW1wO1xyXG4gICAgcHJpdmF0ZSBrVGVtcDtcclxuXHJcblxyXG4gICAgcHJvdGVjdGVkIG9uTG9hZCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuUE9TSVRJT05fQ0hBTkdFRCwgdGhpcy5vblBvc2l0aW9uQ2hhbmdlLCB0aGlzKTtcclxuICAgICAgICBjYy5kaXJlY3Rvci5vbihPbkxhbmd1YWdlQ2hhbmdlLCB0aGlzLmluaXRTdG9yZSwgdGhpcyk7XHJcbiAgICAgICAgaWYoV1hNYW5hZ2VyRVguZ2V0SW5zdGFuY2UoKS5zdGF0dXNCYXJIZWlnaHQ+MjApeyAgIFxyXG4gICAgICAgICAgICB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLldpZGdldCkudG9wID0gMTUwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmluaXRTdG9yZSgpO1xyXG5cclxuICAgICAgICBjYy5kaXJlY3Rvci5vbihXWEFERW52bnQuWlVBTlNISUxJTkdRVVNISVBJTiwgdGhpcy5vblNoaXBpbkNvbXAsIHRoaXMpO1xyXG4gICAgICAgIGNjLmRpcmVjdG9yLm9uKFdYQURFbnZudC5aSFVBTkdCRUlDSE9VSklBTkcsIHRoaXMub25TSGlwaW5jb21wMiwgdGhpcyk7XHJcbiAgICAgICAgY2MuZGlyZWN0b3Iub24oV1hBREVudm50LlpIVUFOR0JFSUNIT1VKSUFORywgdGhpcy5vblNoaXBpbmNvbXAzLCB0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25EZXN0cm95KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubm9kZS5vZmYoY2MuTm9kZS5FdmVudFR5cGUuUE9TSVRJT05fQ0hBTkdFRCwgdGhpcy5vblBvc2l0aW9uQ2hhbmdlLCB0aGlzKTtcclxuICAgICAgICBjYy5kaXJlY3Rvci5vZmYoT25MYW5ndWFnZUNoYW5nZSwgdGhpcy5pbml0U3RvcmUsIHRoaXMpO1xyXG4gICAgICAgIGNjLmRpcmVjdG9yLm9mZihcIm9uUmVmcmVzaEluc3RhbmNlSXRlbVwiKTtcclxuICAgICAgICBjYy5kaXJlY3Rvci5vZmYoV1hBREVudm50LlpVQU5TSElMSU5HUVVTSElQSU4sIHRoaXMub25TaGlwaW5Db21wLCB0aGlzKTtcclxuICAgICAgICBjYy5kaXJlY3Rvci5vZmYoV1hBREVudm50LlpIVUFOR0JFSUNIT1VKSUFORywgdGhpcy5vblNIaXBpbmNvbXAyLCB0aGlzKTtcclxuICAgICAgICBjYy5kaXJlY3Rvci5vZmYoV1hBREVudm50LlpIVUFOR0JFSUNIT1VKSUFORywgdGhpcy5vblNoaXBpbmNvbXAzLCB0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBvblBvc2l0aW9uQ2hhbmdlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm5vZGUueCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25FbmFibGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS7llYbln47llYbln47pobXngrnlh7vmrKHmlbApO1xyXG4gICAgICAgIC8vdGhpcy5yZWZyZXNoU3RvcmUoKTtcclxuICAgICAgICAvL3RoaXMuY2hlY2tUdXRvcmFpbHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGVja1R1dG9yYWlscygpIHtcclxuICAgICAgICBpZiAoVHV0b3JhaWxzTWFuYWdlci5nZXRJbnN0YW5jZSgpLmlzX3R1dG9yYWlsc19zdGF0ZSAmJiBUdXRvcmFpbHNNYW5hZ2VyLmdldEluc3RhbmNlKCkuaXNTaG93VHV0b3JpYWxzKDIyMikgJiYgTGV2ZWxNYW5hZ2VyLmdldEluc3RhbmNlKCkuZmluaXNoX2xldmVsID49IDMpIHtcclxuICAgICAgICAgICAgVHV0b3JhaWxzTWFuYWdlci5nZXRJbnN0YW5jZSgpLmlzX3R1dG9yYWlsc19zdGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBzdG9yZV91aSA9IGNjLmZpbmQoJ0NhbnZhcy9zdG9yZV91aS9zY3JvbGwnKTtcclxuICAgICAgICAgICAgICAgIGxldCBjb250ZW50ID0gc3RvcmVfdWkuZ2V0Q29tcG9uZW50KGNjLlNjcm9sbFZpZXcpLmNvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgYnRuMSA9IGNvbnRlbnQuZ2V0Q2hpbGRCeU5hbWUoJ2hlcm9Sb290JykuZ2V0Q2hpbGRCeU5hbWUoJ2hlcm9JdGVtJykuZ2V0Q2hpbGRCeU5hbWUoJ2J0bjEnKTtcclxuICAgICAgICAgICAgICAgIGxldCB3b3JkUG9zID0gYnRuMS5wYXJlbnQuY29udmVydFRvV29ybGRTcGFjZUFSKGJ0bjEuZ2V0UG9zaXRpb24oKSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgbG9jYWxQb3MgPSBjYy5maW5kKCdDYW52YXMvVWlfUm9vdCcpLmNvbnZlcnRUb05vZGVTcGFjZUFSKHdvcmRQb3MpO1xyXG4gICAgICAgICAgICAgICAgbG9jYWxQb3MueCAtPSBjYy5maW5kKCdDYW52YXMvc3RvcmVfdWknKS54O1xyXG4gICAgICAgICAgICAgICAgVHV0b3JhaWxzTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dUdXRvcmlhbHMoMjIyLCBudWxsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bSg0MDAwNCwgLTEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChIZXJvTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEhlcm9JbmZvKEhlcm9fVHlwZS5EZUx1WWkpID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmRMaXN0OiBSZXdhcmRIZXJvRGF0YVtdID0gbmV3IEFycmF5PFJld2FyZEhlcm9EYXRhPigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJkID0gbmV3IFJld2FyZEhlcm9EYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZC5kcm9wSWQgPSAxMTAwMDQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZC5kcm9wTnVtID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJld2FyZExpc3QucHVzaChyZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZXJvTWFuYWdlci5nZXRJbnN0YW5jZSgpLmFkZEhlcm8oSGVyb19UeXBlLkRlTHVZaSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlcm9NYW5hZ2VyLmdldEluc3RhbmNlKCkucmVwb3J0SGVyb0xpc3QoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZWFtTGlzdCA9IEhlcm9NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0VGVhbUxpc3QoR2FtZU1vZGUuTWFpbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZWFtTGlzdFsxXSA9IEhlcm9fVHlwZS5EZUx1WWk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZXJvTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNhdmVUZWFtTGlzdChHYW1lTW9kZS5NYWluLCB0ZWFtTGlzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUdXRvcmFpbHNNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2F2ZVR1dG9yaWFscygyMjIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVHV0b3JhaWxzTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNhdmVUdXRvcmlhbHMoMjIzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVJTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dVaURpYWxvZyhVSVBhdGguU3RvcmVIZXJvVWksIFVJTGF5ZXJMZXZlbC5PbmUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlZDogKHVpTm9kZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aU5vZGUuZ2V0Q29tcG9uZW50KFN0b3JlSGVyb1VpKS5pbml0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+ebtOaOpei/m+WFpea4uOaIj1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNjLmZpbmQoJ0NhbnZhcy9tYWluX3VpJykuZ2V0Q29tcG9uZW50KE1haW5VaSkuc3RhcnRHYW1lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aU5vZGUuZ2V0Q29tcG9uZW50KFN0b3JlSGVyb1VpKS5pbml0RGF0YShyZXdhcmRMaXN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCBmYWxzZSwgbnVsbCwgbG9jYWxQb3MpO1xyXG4gICAgICAgICAgICB9LCAwLjEpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFN0b3JlKCkge1xyXG4gICAgICAgIGxldCBjb250ZW50ID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwic2Nyb2xsXCIpLmdldENvbXBvbmVudChjYy5TY3JvbGxWaWV3KS5jb250ZW50O1xyXG4gICAgICAgIGNvbnRlbnQucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcclxuICAgICAgICBjYy5kaXJlY3Rvci5vZmYoXCJvblJlZnJlc2hJbnN0YW5jZUl0ZW1cIik7XHJcbiAgICAgICAgY2MuZGlyZWN0b3Iub24oXCJvblJlZnJlc2hJbnN0YW5jZUl0ZW1cIiwgdGhpcy5vblJlZnJlc2hJbnN0YW5jZUl0ZW0sIHRoaXMpO1xyXG4gICAgICAgIC8vIOeroOiKguekvOWMhVxyXG4gICAgICAgIC8vI3JlZ2lvbiBcclxuICAgICAgICBsZXQgdGl0bGUgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnN0b3JlX3RpdGxlKTtcclxuICAgICAgICB0aXRsZS5nZXRDb21wb25lbnRJbkNoaWxkcmVuKFRleHRMYW5ndWFnZSkuc2V0VGV4dElkKDE0MzAwMDEpO1xyXG4gICAgICAgIHRpdGxlLm5hbWUgPSBcImNoYXB0ZXJUaXRsZVwiO1xyXG4gICAgICAgIGNvbnRlbnQuYWRkQ2hpbGQodGl0bGUpO1xyXG4gICAgICAgIGxldCBjaGFwdGVyUm9vdCA9IG5ldyBjYy5Ob2RlKCk7XHJcbiAgICAgICAgY2hhcHRlclJvb3QubmFtZSA9ICdjaGFwdGVyUm9vdCc7XHJcbiAgICAgICAgY2hhcHRlclJvb3QuaGVpZ2h0ID0gdGhpcy5zdG9yZV9jaGFwdGVyX2l0ZW0uZGF0YS5oZWlnaHQ7XHJcbiAgICAgICAgY2hhcHRlclJvb3Qud2lkdGggPSAodGhpcy5zdG9yZV9jaGFwdGVyX2l0ZW0uZGF0YS53aWR0aCArIDIwKSAqIDM7XHJcblxyXG4gICAgICAgIGxldCBjaGFwdGVyUmlnaHQgPSBuZXcgY2MuTm9kZSgpO1xyXG4gICAgICAgIGxldCBjaGFwdGVyTGVmdCA9IG5ldyBjYy5Ob2RlKCk7XHJcblxyXG4gICAgICAgIGNoYXB0ZXJSaWdodC5hZGRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHRoaXMuc3RvcmVfdWkuZ2V0U3ByaXRlRnJhbWUoXCJTaG9wX0Fycm93XCIpXHJcbiAgICAgICAgY2hhcHRlckxlZnQuYWRkQ29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSB0aGlzLnN0b3JlX3VpLmdldFNwcml0ZUZyYW1lKFwiU2hvcF9BcnJvd1wiKVxyXG4gICAgICAgIGNoYXB0ZXJMZWZ0LnNjYWxlWCA9IC0xO1xyXG5cclxuICAgICAgICBjaGFwdGVyUm9vdC5hZGRDaGlsZChjaGFwdGVyUmlnaHQpO1xyXG4gICAgICAgIGNoYXB0ZXJSb290LmFkZENoaWxkKGNoYXB0ZXJMZWZ0KTtcclxuXHJcbiAgICAgICAgY2hhcHRlclJpZ2h0LnggPSAzNDU7XHJcbiAgICAgICAgY2hhcHRlckxlZnQueCA9IC0zNDU7XHJcbiAgICAgICAgY2hhcHRlckxlZnQuYWN0aXZlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIGxldCBjaGFwdGVyRGF0YSA9IENoYXB0ZXJQYWNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEpzb25EYXRhKCk7XHJcbiAgICAgICAgLy8gY2hhcHRlckRhdGEuZm9yRWFjaCgodiwgaykgPT4ge1xyXG4gICAgICAgIC8vICAgICBpZiAoVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdHJpbmcoU3RvcmFnZUtleS5TdG9yZUNoYXB0ZXJJdGVtICsgdi5DaGFwdGVyLCAnJykgPT0gJycgJiYgKExldmVsTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEZpbmlzaENoYXB0ZXIoKSkgPj0gdi5DaGFwdGVyKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBsZXQgaXRlbSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuc3RvcmVfY2hhcHRlcl9pdGVtKTtcclxuICAgICAgICAvLyAgICAgICAgIGl0ZW0ubmFtZSA9IFwiY2hhcHRlckl0ZW1cIiArIHYuQ2hhcHRlcjtcclxuICAgICAgICAvLyAgICAgICAgIGlmICh2LkNoYXB0ZXIgPT0gMSkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJ0aXRsZVwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQoMTQzMDAwMik7XHJcbiAgICAgICAgLy8gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJ0aXRsZVwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQoMTQzMDAwMyk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInRpdGxlXCIpLmdldENvbXBvbmVudChUZXh0TGFuZ3VhZ2UpLnNldFJlcGxhY2VWYWx1ZSgnficsIHYuQ2hhcHRlciArICcnKTtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgIGxldCBwYXlJbmZvID0gUGF5TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFBheUluZm8odi5Qcm9kdWN0SWQpO1xyXG4gICAgICAgIC8vICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcIm9yaWdpblByaWNlXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gcGF5SW5mby5jdXJyZW5jeSArIChNeVRvb2wuZ2V0TnVtYmVyRnJvbVN0cmluZyhwYXlJbmZvLnByaWNlKSAqIHYuSW5pdGlhbFByaWNlKTtcclxuICAgICAgICAvLyAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJwYXlCdG5cIikuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihjYy5MYWJlbCkuc3RyaW5nID0gcGF5SW5mby5wcmljZTtcclxuICAgICAgICAvLyAgICAgICAgIGxldCBwcm9wUm9vdCA9IGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJpdGVtUm9vdFwiKTtcclxuICAgICAgICAvLyAgICAgICAgIGlmICh2LkdldENvaW5OdW0gIT0gMCkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKFByb3BJZC5Db2luLCB2LkdldENvaW5OdW0pO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHJld2FyZC5zY2FsZSA9IDAuNzU7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgcHJvcFJvb3QuYWRkQ2hpbGQocmV3YXJkKTtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgIGlmICh2LkdldEdlbU51bSAhPSAwKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgbGV0IHJld2FyZCA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlUHJvcEl0ZW0oUHJvcElkLkdlbSwgdi5HZXRHZW1OdW0pO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHJld2FyZC5zY2FsZSA9IDAuNzU7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgcHJvcFJvb3QuYWRkQ2hpbGQocmV3YXJkKTtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgIGlmICh2Lkl0ZW1JZF8xICE9IDApIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBsZXQgcmV3YXJkID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbSh2Lkl0ZW1JZF8xLCB2Lkl0ZW1OdW1fMSk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgcmV3YXJkLnNjYWxlID0gMC43NTtcclxuICAgICAgICAvLyAgICAgICAgICAgICBwcm9wUm9vdC5hZGRDaGlsZChyZXdhcmQpO1xyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgaWYgKHYuSXRlbUlkXzIgIT0gMCkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKHYuSXRlbUlkXzIsIHYuSXRlbU51bV8yKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICByZXdhcmQuc2NhbGUgPSAwLjc1O1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHByb3BSb290LmFkZENoaWxkKHJld2FyZCk7XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgICAgICBjaGFwdGVyUm9vdC5hZGRDaGlsZChpdGVtKTtcclxuICAgICAgICAvLyAgICAgICAgIGlmIChjaGFwdGVyUm9vdC5jaGlsZHJlbkNvdW50ID09IDMpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBjaGFwdGVyUm9vdC5jaGlsZHJlblsyXS54ID0gMDtcclxuICAgICAgICAvLyAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgY2hhcHRlclJvb3QuY2hpbGRyZW5bY2hhcHRlclJvb3QuY2hpbGRyZW5Db3VudCAtIDFdLnggPSAyICogY2hhcHRlclJvb3QuY2hpbGRyZW5bY2hhcHRlclJvb3QuY2hpbGRyZW5Db3VudCAtIDFdLndpZHRoO1xyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgbGV0IGJ0biA9IGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJwYXlCdG5cIik7XHJcbiAgICAgICAgLy8gICAgICAgICBidG4uYWRkQ29tcG9uZW50KGNjLkJ1dHRvbikudHJhbnNpdGlvbiA9IGNjLkJ1dHRvbi5UcmFuc2l0aW9uLlNDQUxFO1xyXG4gICAgICAgIC8vICAgICAgICAgYnRuLmdldENvbXBvbmVudChjYy5CdXR0b24pLmR1cmF0aW9uID0gMC4xO1xyXG4gICAgICAgIC8vICAgICAgICAgYnRuLmdldENvbXBvbmVudChjYy5CdXR0b24pLnpvb21TY2FsZSA9IDAuOTtcclxuICAgICAgICAvLyAgICAgICAgIGJ0bi5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsICgpID0+IHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBBcGtNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd1BheSh7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIHJlc3VsdDogKGlzRHkpID0+IHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGlmIChpc0R5KSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmZvbGxvd0V2ZW50KEZvbGxvd19UeXBlLuWVhuWfjueroOiKguekvOWMhXjnq6Dngrnlh7votK3kubDmrKHmlbAgKyB2LkNoYXB0ZXIpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmRMaXN0ID0gW107XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYuR2V0Q29pbk51bSAhPSAwKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShQcm9wSWQuQ29pbiwgdi5HZXRDb2luTnVtKVxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShQcm9wSWQuQ29pbiwgdi5HZXRDb2luTnVtKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV3YXJkTGlzdC5wdXNoKHJld2FyZCk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2LkdldEdlbU51bSAhPSAwKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShQcm9wSWQuR2VtLCB2LkdldEdlbU51bSlcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJld2FyZCA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlUHJvcEl0ZW0oUHJvcElkLkdlbSwgdi5HZXRHZW1OdW0pO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXdhcmRMaXN0LnB1c2gocmV3YXJkKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYuSXRlbUlkXzEgIT0gMCkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0odi5JdGVtSWRfMSwgdi5JdGVtTnVtXzEpXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKHYuSXRlbUlkXzEsIHYuSXRlbU51bV8xKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV3YXJkTGlzdC5wdXNoKHJld2FyZCk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2Lkl0ZW1JZF8yICE9IDApIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKHYuSXRlbUlkXzIsIHYuSXRlbU51bV8yKVxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbSh2Lkl0ZW1JZF8yLCB2Lkl0ZW1OdW1fMik7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJld2FyZExpc3QucHVzaChyZXdhcmQpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dNdWx0aXBsZUdldFRpcChyZXdhcmRMaXN0KTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNldEl0ZW0oU3RvcmFnZUtleS5TdG9yZUNoYXB0ZXJJdGVtICsgdi5DaGFwdGVyLCAnMScpXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgY2hhcHRlclJvb3QucmVtb3ZlQ2hpbGQoaXRlbSk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXB0ZXJSb290LmNoaWxkcmVuQ291bnQgPT0gMikge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50LmdldENoaWxkQnlOYW1lKFwiY2hhcHRlclRpdGxlXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFwdGVyTGVmdC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcHRlclJpZ2h0LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFwdGVyUm9vdC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXB0ZXJSb290LmNoaWxkcmVuQ291bnQgPD0gMykge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFwdGVyTGVmdC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcHRlclJpZ2h0LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYy50d2VlbihjaGFwdGVyUm9vdC5jaGlsZHJlblsyXSkudG8oMC4yLCB7IHBvc2l0aW9uOiBjYy52MygwLCAwLCAwKSB9KS5zdGFydCgpLmNhbGwoKCkgPT4ge1xyXG5cclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2MudHdlZW4oY2hhcHRlclJvb3QuY2hpbGRyZW5bMl0pLnRvKDAuMiwgeyBwb3NpdGlvbjogY2MudjMoMCwgMCwgMCkgfSkuc3RhcnQoKS5jYWxsKCgpID0+IHtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgICAgICB9LCB2LlByb2R1Y3RJZClcclxuICAgICAgICAvLyAgICAgICAgIH0pO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfSk7XHJcblxyXG4gICAgICAgIGNoYXB0ZXJMZWZ0LmFkZENvbXBvbmVudChjYy5CdXR0b24pLnRyYW5zaXRpb24gPSBjYy5CdXR0b24uVHJhbnNpdGlvbi5TQ0FMRTtcclxuICAgICAgICBjaGFwdGVyTGVmdC5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS5kdXJhdGlvbiA9IDAuMTtcclxuICAgICAgICBjaGFwdGVyTGVmdC5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS56b29tU2NhbGUgPSAwLjk7XHJcblxyXG4gICAgICAgIGNoYXB0ZXJSaWdodC5hZGRDb21wb25lbnQoY2MuQnV0dG9uKS50cmFuc2l0aW9uID0gY2MuQnV0dG9uLlRyYW5zaXRpb24uU0NBTEU7XHJcbiAgICAgICAgY2hhcHRlclJpZ2h0LmdldENvbXBvbmVudChjYy5CdXR0b24pLmR1cmF0aW9uID0gMC4xO1xyXG4gICAgICAgIGNoYXB0ZXJSaWdodC5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS56b29tU2NhbGUgPSAwLjk7XHJcblxyXG4gICAgICAgIGxldCBpbmRleCA9IDI7XHJcbiAgICAgICAgY2hhcHRlclJpZ2h0Lm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPj0gY2hhcHRlclJvb3QuY2hpbGRyZW5Db3VudCAtIDEpIHtcclxuICAgICAgICAgICAgICAgIGluZGV4ID0gY2hhcHRlclJvb3QuY2hpbGRyZW5Db3VudCAtIDE7XHJcbiAgICAgICAgICAgICAgICBjaGFwdGVyUmlnaHQuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGluZGV4ID4gMikgY2hhcHRlckxlZnQuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgY2MudHdlZW4oY2hhcHRlclJvb3QuY2hpbGRyZW5baW5kZXhdKS50bygwLjIsIHsgcG9zaXRpb246IGNjLnYzKDAsIDAsIDApIH0pLnN0YXJ0KCkuY2FsbCgoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY2MudHdlZW4oY2hhcHRlclJvb3QuY2hpbGRyZW5baW5kZXggLSAxXSkudG8oMC4yLCB7IHBvc2l0aW9uOiBjYy52MygtODAwLCAwLCAwKSB9KS5zdGFydCgpLmNhbGwoKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNoYXB0ZXJMZWZ0Lm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpbmRleC0tO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPD0gMikge1xyXG4gICAgICAgICAgICAgICAgaW5kZXggPSAyO1xyXG4gICAgICAgICAgICAgICAgY2hhcHRlckxlZnQuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGluZGV4IDwgY2hhcHRlclJvb3QuY2hpbGRyZW5Db3VudCAtIDEpIGNoYXB0ZXJSaWdodC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBjYy50d2VlbihjaGFwdGVyUm9vdC5jaGlsZHJlbltpbmRleF0pLnRvKDAuMiwgeyBwb3NpdGlvbjogY2MudjMoMCwgMCwgMCkgfSkuc3RhcnQoKS5jYWxsKCgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjYy50d2VlbihjaGFwdGVyUm9vdC5jaGlsZHJlbltpbmRleCArIDFdKS50bygwLjIsIHsgcG9zaXRpb246IGNjLnYzKDgwMCwgMCwgMCkgfSkuc3RhcnQoKS5jYWxsKCgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoY2hhcHRlclJvb3QuY2hpbGRyZW5Db3VudCA8PSAzKSB7XHJcbiAgICAgICAgICAgIGNoYXB0ZXJMZWZ0LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjaGFwdGVyUmlnaHQuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2hhcHRlclJvb3QuY2hpbGRyZW5Db3VudCA9PSAyKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuZ2V0Q2hpbGRCeU5hbWUoXCJjaGFwdGVyVGl0bGVcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGNoYXB0ZXJSb290LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29udGVudC5nZXRDaGlsZEJ5TmFtZShcImNoYXB0ZXJUaXRsZVwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBjaGFwdGVyUm9vdC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb250ZW50LmFkZENoaWxkKGNoYXB0ZXJSb290KTtcclxuICAgICAgICAvLyNlbmRyZWdpb25cclxuICAgICAgICAvLyDoi7Hpm4Tmi5vli59cclxuICAgICAgICB0aXRsZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuc3RvcmVfdGl0bGUpO1xyXG4gICAgICAgIHRpdGxlLmdldENvbXBvbmVudEluQ2hpbGRyZW4oVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQoMTQ2MDAxMSk7XHJcbiAgICAgICAgdGl0bGUubmFtZSA9IFwibXlzdGVyeVRpdGxlXCI7XHJcbiAgICAgICAgY29udGVudC5hZGRDaGlsZCh0aXRsZSk7XHJcblxyXG4gICAgICAgIGxldCBoZXJvUm9vdCA9IG5ldyBjYy5Ob2RlKCk7XHJcbiAgICAgICAgaGVyb1Jvb3QubmFtZSA9ICdoZXJvUm9vdCc7XHJcbiAgICAgICAgaGVyb1Jvb3QuaGVpZ2h0ID0gdGhpcy5zdG9yZV9oZXJvX2l0ZW0uZGF0YS5oZWlnaHQ7XHJcbiAgICAgICAgaGVyb1Jvb3Qud2lkdGggPSAodGhpcy5zdG9yZV9oZXJvX2l0ZW0uZGF0YS53aWR0aCArIDIwKSAqIDM7XHJcblxyXG4gICAgICAgIGxldCBoZXJvSXRlbSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuc3RvcmVfaGVyb19pdGVtKTtcclxuICAgICAgICB0aGlzLmhlcm9faW5zdGFuY2UgPSBoZXJvSXRlbTtcclxuICAgICAgICBoZXJvSXRlbS5uYW1lID0gXCJoZXJvSXRlbVwiO1xyXG4gICAgICAgIGhlcm9JdGVtLmdldENoaWxkQnlOYW1lKFwicmljaEJnXCIpLmdldENvbXBvbmVudEluQ2hpbGRyZW4oY2MuUmljaFRleHQpLnN0cmluZyA9IExhbmd1YWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0ckJ5VGV4dElkKDE0NjAwMDIpO1xyXG4gICAgICAgIGhlcm9JdGVtLmdldENoaWxkQnlOYW1lKFwiSWNvbk51bVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwiWFwiICsgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKDQwMDA0KTtcclxuICAgICAgICBsZXQgcHJpemVIZXJvRGF0YSA9IERyYXdDYXJkSW5mb3JtYXRpb25NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SnNvbkRyYXdDYXJkSW5mb3JtYXRpb24oMTAwMSk7XHJcbiAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZUhlcm9EYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgaGVyb0l0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgIGhlcm9JdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMTBcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplSGVyb0RhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMTBcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgaGVyb0l0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVIZXJvRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGhlcm9UaXAgPSBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm5hbWVcIikuZ2V0Q2hpbGRCeU5hbWUoXCJ0aXBcIik7XHJcbiAgICAgICAgaGVyb1RpcC5hZGRDb21wb25lbnQoY2MuQnV0dG9uKS50cmFuc2l0aW9uID0gY2MuQnV0dG9uLlRyYW5zaXRpb24uU0NBTEU7XHJcbiAgICAgICAgaGVyb1RpcC5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS5kdXJhdGlvbiA9IDAuMTtcclxuICAgICAgICBoZXJvVGlwLmdldENvbXBvbmVudChjYy5CdXR0b24pLnpvb21TY2FsZSA9IDAuOTtcclxuXHJcbiAgICAgICAgaGVyb1RpcC5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsICgpID0+IHtcclxuICAgICAgICAgICAgVUlNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd1VpRGlhbG9nKFVJUGF0aC5Qcm9iYWJpbGl0eVRpcFVpLCBVSUxheWVyTGV2ZWwuT25lLCB7XHJcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlZDogKHVpTm9kZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHVpTm9kZS5nZXRDb21wb25lbnQoUHJvYmFiaWxpdHlUaXBVaSkuaW5pdChudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICB1aU5vZGUuZ2V0Q29tcG9uZW50KFByb2JhYmlsaXR5VGlwVWkpLmluaXRVaSgpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCBoZXJvQnRuMSA9IGhlcm9JdGVtLmdldENoaWxkQnlOYW1lKFwiYnRuMVwiKTtcclxuICAgICAgICBsZXQgaGVyb0J0bjEwID0gaGVyb0l0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJidG4xMFwiKTtcclxuICAgICAgICBoZXJvQnRuMTAuZ2V0Q2hpbGRCeU5hbWUoJ3JlZCcpLmFjdGl2ZSA9IEdhbWVEYXRhLmdldEluc3RhbmNlKCkuZ2V0SGVyb1JlY3J1aXRpbmdSZWRUaXAoKTtcclxuICAgICAgICBoZXJvQnRuMS5hZGRDb21wb25lbnQoY2MuQnV0dG9uKS50cmFuc2l0aW9uID0gY2MuQnV0dG9uLlRyYW5zaXRpb24uU0NBTEU7XHJcbiAgICAgICAgaGVyb0J0bjEuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuZHVyYXRpb24gPSAwLjE7XHJcbiAgICAgICAgaGVyb0J0bjEuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuem9vbVNjYWxlID0gMC45O1xyXG5cclxuICAgICAgICBoZXJvQnRuMTAuYWRkQ29tcG9uZW50KGNjLkJ1dHRvbikudHJhbnNpdGlvbiA9IGNjLkJ1dHRvbi5UcmFuc2l0aW9uLlNDQUxFO1xyXG4gICAgICAgIGhlcm9CdG4xMC5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS5kdXJhdGlvbiA9IDAuMTtcclxuICAgICAgICBoZXJvQnRuMTAuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuem9vbVNjYWxlID0gMC45O1xyXG5cclxuICAgICAgICBoZXJvQnRuMS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGNvc3RJZCA9IDA7XHJcbiAgICAgICAgICAgIGxldCBjb3N0TnVtID0gMDtcclxuICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgY29zdElkID0gcHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8xO1xyXG4gICAgICAgICAgICAgICAgY29zdE51bSA9IHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgIC8vIOS7peS4i+S4uuWQjuerr+acquWtmOa2iOi0ueWIuOeahOWkhOeQhu+8jOW9k+WQjuerr+WtmOWCqOa2iOi0ueWIuOaXtu+8jOS9v+eUqOS4iumdouS4pOihjOS7o+eggVxyXG4gICAgICAgICAgICAgICAgLy8gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMSwtcHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvc3RJZCA9IHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMjtcclxuICAgICAgICAgICAgICAgIC8vIGNvc3ROdW0gPSAwO1xyXG4gICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmFkZFRvdGFsKEZvbGxvd19UeXBlLuiusOW9leaLm+WLn+a2iOiAl+aLm+WLn+WNt+aVsOmHjywgcHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvc3RJZCA9IHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMjtcclxuICAgICAgICAgICAgICAgIGNvc3ROdW0gPSBwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuYWRkVG90YWwoRm9sbG93X1R5cGUu6K6w5b2V5oub5Yuf5Y235raI6ICX6ZK755+z5pWw6YePLCBjb3N0TnVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBpZihQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0oY29zdElkKSA8IGNvc3ROdW0pe1xyXG4gICAgICAgICAgICAvLyAgICAgVUlNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd1VpRGlhbG9nKFVJUGF0aC5Db2luUG9wLFVJTGF5ZXJMZXZlbC5Ud28se29uQ29tcGxldGVkOih1aU5vZGUpPT4ge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIHVpTm9kZS5nZXRDb21wb25lbnQoQ29pblBvcCkuaW5pdFVpKFByb3BJZC5HZW0pXHJcbiAgICAgICAgICAgIC8vICAgICB9LH0pO1xyXG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKGNvc3RJZCkgPCBjb3N0TnVtKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dNZXNzYWdlKExhbmd1YWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0ckJ5VGV4dElkKDEwMDA0MSkpO1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwic2Nyb2xsXCIpLmdldENvbXBvbmVudChjYy5TY3JvbGxWaWV3KS5zY3JvbGxUb0JvdHRvbSgyKTtcclxuICAgICAgICAgICAgICAgIFVJTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dVaURpYWxvZyhVSVBhdGguVHVybnRhYmxlLFVJTGF5ZXJMZXZlbC5PbmUse29uQ29tcGxldGVkOih1aU5vZGUpPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHVpTm9kZS5nZXRDb21wb25lbnQoVHVybXRhYmxlKS5pbml0VWkoKVxyXG4gICAgICAgICAgICAgICAgfSx9KTsvL+i9rOebmFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBpZihJc0RlYnVnKSBjb3N0TnVtID0gMDtcclxuICAgICAgICAgICAgSHR0cE1hbmFnZXIucG9zdChBY2Nlc3NOYW1lLnRyeVByaXplLCB0aGlzLmdldFByaXplSnNvblN0cmluZygxLCAxLCBjb3N0SWQsIGNvc3ROdW0pLCB0cnVlKS50aGVuKChkYXRhOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKGNvc3RJZCwgLWNvc3ROdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkucmVmcmVzaEdlbVNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUu6K6w5b2V5Y2V5qyh5oub5Yuf55qE5qyh5pWwKTtcclxuICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLui/m+ihjDHmrKHoi7Hpm4Tmi5vli58pO1xyXG4gICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u6L+b6KGMMTDmrKHoi7Hpm4Tmi5vli58pO1xyXG4gICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u5oub5YufWOasoeiLsembhCk7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKGRhdGFbMF0uZHJvcElkLCBkYXRhWzBdLmRyb3BOdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIEhlcm9NYW5hZ2VyLmdldEluc3RhbmNlKCkucmVwb3J0SGVyb0xpc3QoKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdHlwZSA9IEl0ZW1NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0VHlwZShkYXRhWzBdLmRyb3BJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gMTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ntK/orqHmi5vli59Y5Liq6Iux6ZuEKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zYXZlQWxsUHJvcE51bSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIFVJTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dVaURpYWxvZyhVSVBhdGguU3RvcmVIZXJvVWksIFVJTGF5ZXJMZXZlbC5PbmUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZWQ6ICh1aU5vZGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpTm9kZS5nZXRDb21wb25lbnQoU3RvcmVIZXJvVWkpLmluaXQobnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aU5vZGUuZ2V0Q29tcG9uZW50KFN0b3JlSGVyb1VpKS5pbml0RGF0YShkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlcm9JdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlcm9JdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlcm9JdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlcm9JdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplSGVyb0RhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMTBcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVyb0l0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVIZXJvRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlcm9JdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xMFwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUhlcm9EYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaGVyb0J0bjEwLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgY29zdElkID0gMDtcclxuICAgICAgICAgICAgbGV0IGNvc3ROdW0gPSAwO1xyXG4gICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVIZXJvRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgICAgICBjb3N0SWQgPSBwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzE7XHJcbiAgICAgICAgICAgICAgICBjb3N0TnVtID0gcHJpemVIZXJvRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgLy8g5Lul5LiL5Li65ZCO56uv5pyq5a2Y5raI6LS55Yi455qE5aSE55CG77yM5b2T5ZCO56uv5a2Y5YKo5raI6LS55Yi45pe277yM5L2/55So5LiK6Z2i5Lik6KGM5Luj56CBXHJcbiAgICAgICAgICAgICAgICAvLyBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0ocHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8xLC1wcml6ZUhlcm9EYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzEpO1xyXG4gICAgICAgICAgICAgICAgLy8gY29zdElkID0gcHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8yO1xyXG4gICAgICAgICAgICAgICAgLy8gY29zdE51bSA9IDA7XHJcbiAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuYWRkVG90YWwoRm9sbG93X1R5cGUu6K6w5b2V5oub5Yuf5raI6ICX5oub5Yuf5Y235pWw6YePLCBwcml6ZUhlcm9EYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29zdElkID0gcHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8yO1xyXG4gICAgICAgICAgICAgICAgY29zdE51bSA9IHByaXplSGVyb0RhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5hZGRUb3RhbChGb2xsb3dfVHlwZS7orrDlvZXmi5vli5/ljbfmtojogJfpkrvnn7PmlbDph48sIGNvc3ROdW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGlmKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShjb3N0SWQpIDwgY29zdE51bSl7XHJcbiAgICAgICAgICAgIC8vICAgICBVSU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93VWlEaWFsb2coVUlQYXRoLkNvaW5Qb3AsVUlMYXllckxldmVsLlR3byx7b25Db21wbGV0ZWQ6KHVpTm9kZSk9PiB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgdWlOb2RlLmdldENvbXBvbmVudChDb2luUG9wKS5pbml0VWkoUHJvcElkLkdlbSlcclxuICAgICAgICAgICAgLy8gICAgIH0sfSk7XHJcbiAgICAgICAgICAgIC8vICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0oY29zdElkKSA8IGNvc3ROdW0pIHtcclxuICAgICAgICAgICAgICAgIC8vIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd01lc3NhZ2UoTGFuZ3VhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyQnlUZXh0SWQoMTAwMDQxKSk7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJzY3JvbGxcIikuZ2V0Q29tcG9uZW50KGNjLlNjcm9sbFZpZXcpLnNjcm9sbFRvQm90dG9tKDIpO1xyXG4gICAgICAgICAgICAgICAgVUlNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd1VpRGlhbG9nKFVJUGF0aC5UdXJudGFibGUsVUlMYXllckxldmVsLk9uZSx7b25Db21wbGV0ZWQ6KHVpTm9kZSk9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdWlOb2RlLmdldENvbXBvbmVudChUdXJtdGFibGUpLmluaXRVaSgpXHJcbiAgICAgICAgICAgICAgICB9LH0pOy8v6L2s55uYXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGlmKElzRGVidWcpIGNvc3ROdW0gPSAwOyAgIFxyXG4gICAgICAgICAgICBIdHRwTWFuYWdlci5wb3N0KEFjY2Vzc05hbWUudHJ5UHJpemUsIHRoaXMuZ2V0UHJpemVKc29uU3RyaW5nKDIsIDEsIGNvc3RJZCwgY29zdE51bSksIHRydWUpLnRoZW4oKGRhdGE6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0oY29zdElkLCAtY29zdE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5yZWZyZXNoR2VtU2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS7orrDlvZXljYHmrKHmi5vli5/nmoTmrKHmlbApO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsZW5ndGggPSBkYXRhLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u6L+b6KGMMeasoeiLsembhOaLm+WLnyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u6L+b6KGMMTDmrKHoi7Hpm4Tmi5vli58pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLuaLm+WLn1jmrKHoi7Hpm4QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0oZGF0YVtpXS5kcm9wSWQsIGRhdGFbaV0uZHJvcE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0eXBlID0gSXRlbU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRUeXBlKGRhdGFbaV0uZHJvcElkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gMTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u57Sv6K6h5oub5YufWOS4quiLsembhCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgSGVyb01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5yZXBvcnRIZXJvTGlzdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wSW5kZXggPSBNeVRvb2wucmFuZG9tUmFuZ2VJbnQoMCwgOSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXAgPSBkYXRhWzldO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbOV0gPSBkYXRhW3RlbXBJbmRleF07XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVt0ZW1wSW5kZXhdID0gdGVtcDtcclxuICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNhdmVBbGxQcm9wTnVtKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgVUlNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd1VpRGlhbG9nKFVJUGF0aC5TdG9yZUhlcm9VaSwgVUlMYXllckxldmVsLk9uZSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlZDogKHVpTm9kZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdWlOb2RlLmdldENvbXBvbmVudChTdG9yZUhlcm9VaSkuaW5pdChudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpTm9kZS5nZXRDb21wb25lbnQoU3RvcmVIZXJvVWkpLmluaXREYXRhKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVyb0l0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVyb0l0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVyb0l0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVyb0l0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVIZXJvRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlcm9JdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xMFwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUhlcm9EYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVyb0l0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlcm9JdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMTBcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplSGVyb0RhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaGVyb0J0bjEwLmdldENoaWxkQnlOYW1lKCdyZWQnKS5hY3RpdmUgPSBHYW1lRGF0YS5nZXRJbnN0YW5jZSgpLmdldEhlcm9SZWNydWl0aW5nUmVkVGlwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLnBvc3RSZWRFdmVudChSZWRFdmVudFN0cmluZy5SRURfQ0hFQ0ssIFJlZEV2ZW50VHlwZS5CdG5fU2hvcCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGhlcm9Sb290LmFkZENoaWxkKGhlcm9JdGVtKTtcclxuICAgICAgICBjb250ZW50LmFkZENoaWxkKGhlcm9Sb290KTtcclxuICAgICAgICAvLyDmr4/ml6XllYblupdcclxuICAgICAgICAvLyNyZWdpb24gXHJcbiAgICAgICAgdGl0bGUgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnN0b3JlX3RpdGxlKTtcclxuICAgICAgICB0aXRsZS5nZXRDb21wb25lbnRJbkNoaWxkcmVuKFRleHRMYW5ndWFnZSkuc2V0VGV4dElkKDE0ODAwMDEpO1xyXG4gICAgICAgIHRpdGxlLm5hbWUgPSBcImRhaWx5U3RvcmVUaXRsZVwiO1xyXG4gICAgICAgIGNvbnRlbnQuYWRkQ2hpbGQodGl0bGUpO1xyXG5cclxuICAgICAgICBsZXQgdGltZUxhYmVsID0gbmV3IGNjLk5vZGUoKS5hZGRDb21wb25lbnQoVGV4dExhbmd1YWdlKTtcclxuICAgICAgICB0aW1lTGFiZWwubm9kZS5jb2xvciA9IGNjLmNvbG9yKDI1NSwgMjQyLCAyMDYpO1xyXG4gICAgICAgIHRpbWVMYWJlbC5ub2RlLmFuY2hvclggPSAxO1xyXG4gICAgICAgIHRpbWVMYWJlbC52ZXJ0aWNhbEFsaWduID0gY2MuTGFiZWwuVmVydGljYWxBbGlnbi5DRU5URVI7XHJcbiAgICAgICAgdGltZUxhYmVsLmhvcml6b250YWxBbGlnbiA9IGNjLkxhYmVsLkhvcml6b250YWxBbGlnbi5SSUdIVDtcclxuICAgICAgICB0aW1lTGFiZWwuZW5hYmxlQm9sZCA9IHRydWU7XHJcbiAgICAgICAgdGltZUxhYmVsLmZvbnRTaXplID0gMjQ7XHJcbiAgICAgICAgdGltZUxhYmVsLnNldFRleHRJZCgxMDAwNDUpO1xyXG5cclxuICAgICAgICBsZXQgdGltZU51bSA9IG5ldyBjYy5Ob2RlKCkuYWRkQ29tcG9uZW50KGNjLkxhYmVsKTtcclxuICAgICAgICB0aW1lTnVtLm5vZGUuY29sb3IgPSBjYy5jb2xvcig3OSwgMjU1LCA3MCk7XHJcbiAgICAgICAgdGltZU51bS5ub2RlLmFuY2hvclggPSAwO1xyXG4gICAgICAgIHRpbWVOdW0udmVydGljYWxBbGlnbiA9IGNjLkxhYmVsLlZlcnRpY2FsQWxpZ24uQ0VOVEVSO1xyXG4gICAgICAgIHRpbWVOdW0uaG9yaXpvbnRhbEFsaWduID0gY2MuTGFiZWwuSG9yaXpvbnRhbEFsaWduLkxFRlQ7XHJcbiAgICAgICAgdGltZU51bS5lbmFibGVCb2xkID0gdHJ1ZTtcclxuICAgICAgICB0aW1lTnVtLmZvbnRTaXplID0gMjQ7XHJcblxyXG4gICAgICAgIGxldCBub3dUaW1lID0gRGF0ZS5ub3coKSAvIDEwMDA7XHJcbiAgICAgICAgbGV0IHJlc2lkdWVUaW1lID0gVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROdW1iZXIoU3RvcmFnZUtleS5Ub21vcm93WmVyb1RpbWVTdGFtcCwgMCkgLSBub3dUaW1lO1xyXG4gICAgICAgIGlmIChyZXNpZHVlVGltZSA8IDApIHtcclxuICAgICAgICAgICAgcmVzaWR1ZVRpbWUgPSAoKG5ldyBEYXRlKG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCkpLmdldFRpbWUoKSArIDg2NDAwMDApIC8gMTAwMCkgLSBub3dUaW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaGggPSBNYXRoLmZsb29yKHJlc2lkdWVUaW1lIC8gKDYwICogNjApKTtcclxuICAgICAgICBpZiAoaGggPCAxMCkge1xyXG4gICAgICAgICAgICB0aW1lTnVtLnN0cmluZyA9ICcwJyArIGhoICsgJzonO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRpbWVOdW0uc3RyaW5nID0gaGggKyAnOic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBtbSA9IE1hdGguZmxvb3IocmVzaWR1ZVRpbWUgJSAoNjAgKiA2MCkgLyA2MCk7XHJcbiAgICAgICAgaWYgKG1tIDwgMTApIHtcclxuICAgICAgICAgICAgdGltZU51bS5zdHJpbmcgKz0gJzAnICsgbW0gKyAnOidcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aW1lTnVtLnN0cmluZyArPSBtbSArICc6J1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgc3MgPSBNYXRoLmZsb29yKHJlc2lkdWVUaW1lICUgKDYwICogNjApICUgNjApXHJcbiAgICAgICAgaWYgKHNzIDwgMTApIHtcclxuICAgICAgICAgICAgdGltZU51bS5zdHJpbmcgKz0gJzAnICsgc3NcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aW1lTnVtLnN0cmluZyArPSBzc1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDliqjmgIHliLfmlrDkuIDlvovlhpnlnKjlh73mlbDnmoTmnIDkuIvmlrlcclxuXHJcbiAgICAgICAgbGV0IHRleHRSb290ID0gbmV3IGNjLk5vZGUoKTtcclxuICAgICAgICB0ZXh0Um9vdC53aWR0aCA9IHRoaXMubm9kZS53aWR0aDtcclxuICAgICAgICB0ZXh0Um9vdC5oZWlnaHQgPSAyMDtcclxuICAgICAgICB0ZXh0Um9vdC5hZGRDaGlsZCh0aW1lTGFiZWwubm9kZSk7XHJcbiAgICAgICAgdGV4dFJvb3QuYWRkQ2hpbGQodGltZU51bS5ub2RlKTtcclxuICAgICAgICBjb250ZW50LmFkZENoaWxkKHRleHRSb290KTtcclxuXHJcbiAgICAgICAgbGV0IGRhaWx5U3RvcmVSb290ID0gbmV3IGNjLk5vZGUoKTtcclxuICAgICAgICBkYWlseVN0b3JlUm9vdC5uYW1lID0gJ2RhaWx5U3RvcmVSb290JztcclxuICAgICAgICBkYWlseVN0b3JlUm9vdC5oZWlnaHQgPSB0aGlzLnN0b3JlX2RhaWx5X2l0ZW0uZGF0YS5oZWlnaHQgKiAyICsgMTA7XHJcbiAgICAgICAgZGFpbHlTdG9yZVJvb3Qud2lkdGggPSB0aGlzLm5vZGUud2lkdGhcclxuICAgICAgICBjb250ZW50LmFkZENoaWxkKGRhaWx5U3RvcmVSb290KTtcclxuICAgICAgICBsZXQgZGFpbHlTdG9yZUxheW91dCA9IGRhaWx5U3RvcmVSb290LmFkZENvbXBvbmVudChjYy5MYXlvdXQpO1xyXG4gICAgICAgIGRhaWx5U3RvcmVMYXlvdXQudHlwZSA9IGNjLkxheW91dC5UeXBlLkdSSUQ7XHJcbiAgICAgICAgZGFpbHlTdG9yZUxheW91dC5yZXNpemVNb2RlID0gY2MuTGF5b3V0LlJlc2l6ZU1vZGUuQ09OVEFJTkVSO1xyXG5cclxuICAgICAgICBkYWlseVN0b3JlTGF5b3V0LnBhZGRpbmdSaWdodCA9IDQwO1xyXG4gICAgICAgIGRhaWx5U3RvcmVMYXlvdXQucGFkZGluZ0xlZnQgPSA0MDtcclxuICAgICAgICBkYWlseVN0b3JlTGF5b3V0LnNwYWNpbmdYID0gMjA7XHJcbiAgICAgICAgZGFpbHlTdG9yZUxheW91dC5zcGFjaW5nWSA9IDIwO1xyXG4gICAgICAgIGxldCBkYWlseURhdGE6IEpzb25EYWlseVNob3A7XHJcbiAgICAgICAgaWYgKFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0TnVtYmVyKFN0b3JhZ2VLZXkuU3RvcmVEYWlseVNob3BJZCwgMCkgPT0gMCkge1xyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSB0aGlzLmdldFJhbmRvbUludCgxLCA0KTtcclxuICAgICAgICAgICAgZGFpbHlEYXRhID0gRGFpbHlTaG9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEpzb25EYXRhQnlDaGFwdGVyQW5kSW5kZShMZXZlbE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRGaW5pc2hDaGFwdGVyKCksIGluZGV4KTtcclxuICAgICAgICAgICAgVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zZXRJdGVtKFN0b3JhZ2VLZXkuU3RvcmVEYWlseVNob3BJZCwgZGFpbHlEYXRhLlNob3BfSUQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGRhaWx5RGF0YSA9IERhaWx5U2hvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKc29uRGFpbHlTaG9wKFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0TnVtYmVyKFN0b3JhZ2VLZXkuU3RvcmVEYWlseVNob3BJZCkpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi5q+P5pel5ZWG5bqXSUQ6XCIgKyBkYWlseURhdGEuU2hvcF9JRCk7XHJcbiAgICAgICAgZGFpbHlEYXRhLlNob3BsaXN0LmZvckVhY2goKHYsIGspID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCLmr4/ml6XllYblupfpgZPlhbdcIiArIGsgKyBcIjpcIiArIHYpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRhaWx5RGF0YS5TaG9wbGlzdC5mb3JFYWNoKCh2LCBrKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpdGVtID0gY2MuaW5zdGFudGlhdGUodGhpcy5zdG9yZV9kYWlseV9pdGVtKTtcclxuICAgICAgICAgICAgbGV0IHN0b3JlSXRlbUluZm8gPSBDb21tb2RpdHlJbmZvcm1hdGlvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKc29uQ29tbW9kaXR5SW5mb3JtYXRpb24odilcclxuICAgICAgICAgICAgaWYgKFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0TnVtYmVyKFN0b3JhZ2VLZXkuU3RvcmVEYWlseVNob3BOdW0gKyBrLCAwKSA8IHN0b3JlSXRlbUluZm8uQWRQbGF5YWJsZVRpbWVzKSB7XHJcbiAgICAgICAgICAgICAgICAvLyDlj6/otK3kubBcclxuICAgICAgICAgICAgICAgIGlmIChDb21tb2RpdHlJbmZvcm1hdGlvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRBZFJld2FyZCh2KSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g5bm/5ZGK5ZWG5ZOBXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImRpc2NvdW50SWNvblwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiZGlzY291bnROdW1cIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInByaWNlXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJmcmVlXCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInJlZFwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvblwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHRoaXMuc3RvcmVfdWkuZ2V0U3ByaXRlRnJhbWUoXCJTaG9wX0ljb25fQURTXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcIm5hbWVcIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc2V0VGV4dElkKEl0ZW1NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0TmFtZVRleHRJZChzdG9yZUl0ZW1JbmZvLkdldEl0ZW0pKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBsZXQgbmFtZSA9IGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJuYW1lXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYoSXRlbU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKc29uSXRlbShzdG9yZUl0ZW1JbmZvLkdldEl0ZW0pLlR5cGU9PTUpe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBsZXQgdmFsdWVTdHI9MjQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGxldCB5dXNodT1JdGVtTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEpzb25JdGVtKHN0b3JlSXRlbUluZm8uR2V0SXRlbSkuSXRlbUlEJTEwLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGlmKHl1c2h1PD00KXtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHZhbHVlU3RyPU1hdGgucG93KDIseXVzaHUpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGlmKHZhbHVlU3RyID09IDE2KSB2YWx1ZVN0ciA9IDI0O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBuYW1lLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nPW5hbWUuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcucmVwbGFjZSgnficsdmFsdWVTdHIudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIC8vIGRldGFpbFN0cj1kZXRhaWxTdHIucmVwbGFjZSgnficsdmFsdWVTdHIudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKHN0b3JlSXRlbUluZm8uR2V0SXRlbSwgc3RvcmVJdGVtSW5mby5HZXROdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJld2FyZC5uYW1lID0gJ3Jld2FyZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5hZGRDaGlsZChyZXdhcmQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmFkZENvbXBvbmVudChjYy5CdXR0b24pLnRyYW5zaXRpb24gPSBjYy5CdXR0b24uVHJhbnNpdGlvbi5TQ0FMRTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENvbXBvbmVudChjYy5CdXR0b24pLmR1cmF0aW9uID0gMC4xO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuem9vbVNjYWxlID0gMC45O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpdGVtLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkSXRlbT1pdGVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluZm9ybWF0aW9uVGVtcD12O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluZm9ybWF0aW9uSz1rO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuQllURURBTkNFX0dBTUUpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdYTWFuYWdlckVYLmdldEluc3RhbmNlKCkuenVhbnNoaWlTaGlwaW49IHR0LmNyZWF0ZVJld2FyZGVkVmlkZW9BZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRVbml0SWQ6ICdkYmVlNGIxOTlkOTEyZjZvbnAnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdYTWFuYWdlckVYLmdldEluc3RhbmNlKCkuenVhbnNoaWlTaGlwaW4ub2ZmRXJyb3IoKTtcclxuICAgICAgICAgICAgV1hNYW5hZ2VyRVguZ2V0SW5zdGFuY2UoKS56dWFuc2hpaVNoaXBpbi5vbkVycm9yKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgV1hNYW5hZ2VyRVguZ2V0SW5zdGFuY2UoKS56dWFuc2hpaVNoaXBpbi5vZmZDbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgV1hNYW5hZ2VyRVguZ2V0SW5zdGFuY2UoKS56dWFuc2hpaVNoaXBpbi5zaG93KCkuY2F0Y2goKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWksei0pemHjeivlVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdYTWFuYWdlckVYLmdldEluc3RhbmNlKCkuenVhbnNoaWlTaGlwaW4ubG9hZCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IFdYTWFuYWdlckVYLmdldEluc3RhbmNlKCkuenVhbnNoaWlTaGlwaW4uc2hvdygpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd01lc3NhZ2UoXCLlub/lkYrmi4nlj5blpLHotKVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgV1hNYW5hZ2VyRVguZ2V0SW5zdGFuY2UoKS56dWFuc2hpaVNoaXBpbi5vbkNsb3NlKHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g55So5oi354K55Ye75LqG44CQ5YWz6Zet5bm/5ZGK44CR5oyJ6ZKuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5bCP5LqOIDIuMS4wIOeahOWfuuehgOW6k+eJiOacrO+8jHJlcyDmmK/kuIDkuKogdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcyAmJiByZXMuaXNFbmRlZCB8fCByZXMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5q2j5bi45pKt5pS+57uT5p2f77yM5Y+v5Lul5LiL5Y+R5ri45oiP5aWW5YqxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uU2hpcGluQ29tcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5pKt5pS+5Lit6YCU6YCA5Ye677yM5LiN5LiL5Y+R5ri45oiP5aWW5YqxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdYTWFuYWdlckVYLmdldEluc3RhbmNlKCkuenVhbnNoaWlTaGlwaW4uZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25TaGlwaW5Db21wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g6Z2e5bm/5ZGK5ZWG5ZOBXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0TnVtYmVyKFN0b3JhZ2VLZXkuU3RvcmVEYWlseVNob3BEaXNjb3VudCArIGssIDApID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5peg5oqY5omj6ZyA6KaB6ZqP5py65oqY5omjXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkaXNjb3VudE51bSA9IHRoaXMuZ2V0UmFuZG9tSW50KDQsIDkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNldEl0ZW0oU3RvcmFnZUtleS5TdG9yZURhaWx5U2hvcERpc2NvdW50ICsgaywgZGlzY291bnROdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiZnJlZVwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInJlZFwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLnBvc3RSZWRFdmVudChSZWRFdmVudFN0cmluZy5SRURfQ0hFQ0ssIFJlZEV2ZW50VHlwZS5CdG5fU2hvcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvblwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChzdG9yZUl0ZW1JbmZvLkNvc3RJdGVtSUQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwicHJpY2VcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSAneCcgKyBNeVRvb2wuZ2V0Q29pbkRhbndlaShzdG9yZUl0ZW1JbmZvLkNvc3ROdW0gKiBkaXNjb3VudE51bSAqIDAuMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJuYW1lXCIpLmdldENvbXBvbmVudChUZXh0TGFuZ3VhZ2UpLnNldFRleHRJZChJdGVtTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldE5hbWVUZXh0SWQoc3RvcmVJdGVtSW5mby5HZXRJdGVtKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJkaXNjb3VudE51bVwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zZXRSZXBsYWNlVmFsdWUoJ34nLCAoMTAwIC0gZGlzY291bnROdW0gKiAxMCkgKyAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKHN0b3JlSXRlbUluZm8uR2V0SXRlbSwgc3RvcmVJdGVtSW5mby5HZXROdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXdhcmQubmFtZSA9ICdyZXdhcmQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmFkZENoaWxkKHJld2FyZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmFkZENvbXBvbmVudChjYy5CdXR0b24pLnRyYW5zaXRpb24gPSBjYy5CdXR0b24uVHJhbnNpdGlvbi5TQ0FMRTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS5kdXJhdGlvbiA9IDAuMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS56b29tU2NhbGUgPSAwLjk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0oc3RvcmVJdGVtSW5mby5Db3N0SXRlbUlELCAtKHN0b3JlSXRlbUluZm8uQ29zdE51bSAqIGRpc2NvdW50TnVtICogMC4xKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLuWVhuW6l+S4rei0reS5sOeJqeWTgTHmrKEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u5YmN5b6A5ZWG5Z+O6LSt5LmwWOasoeWVhuWTgSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKHN0b3JlSXRlbUluZm8uR2V0SXRlbSwgc3RvcmVJdGVtSW5mby5HZXROdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEh0dHBNYW5hZ2VyLnBvc3QoQWNjZXNzTmFtZS5zYXZlR2FtZVRhc2ssIHRoaXMuZ2V0U2F2ZUdhbWVUYXNrSnNvblN0cmluZyhrKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJld2FyZCA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlUHJvcEl0ZW0oc3RvcmVJdGVtSW5mby5HZXRJdGVtLCBzdG9yZUl0ZW1JbmZvLkdldE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG51bSA9IFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0TnVtYmVyKFN0b3JhZ2VLZXkuU3RvcmVEYWlseVNob3BOdW0gKyBrLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW0rKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcmVJdGVtSW5mby5Db3N0SXRlbUlEID09IFByb3BJZC5Db2luKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5hZGRUb3RhbChGb2xsb3dfVHlwZS7lnKjmr4/ml6XllYblupfkuK3mtojogJfnmoTph5HluIHmlbDph48sIChzdG9yZUl0ZW1JbmZvLkNvc3ROdW0gKiBkaXNjb3VudE51bSAqIDAuMSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS7lnKjmr4/ml6XllYblupfkuK3kvb/nlKjph5HluIHotK3kubDnianlk4HnmoTmrKHmlbApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5hZGRUb3RhbChGb2xsb3dfVHlwZS7lnKjmr4/ml6XllYblupfkuK3mtojogJfnmoTpkrvnn7PmlbDph48sIChzdG9yZUl0ZW1JbmZvLkNvc3ROdW0gKiBkaXNjb3VudE51bSAqIDAuMSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS7lnKjmr4/ml6XllYblupfkuK3kvb/nlKjpkrvnn7PotK3kubDnianlk4HnmoTmrKHmlbApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNldEl0ZW0oU3RvcmFnZUtleS5TdG9yZURhaWx5U2hvcE51bSArIGssIG51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bSA+PSBzdG9yZUl0ZW1JbmZvLkFkUGxheWFibGVUaW1lcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb25cIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJwcmljZVwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImRpc2NvdW50TnVtXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiZGlzY291bnRJY29uXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwic2FsZU91dFwiKS56SW5kZXggPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwic2FsZU91dFwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHlwZSA9IEl0ZW1NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0VHlwZShzdG9yZUl0ZW1JbmZvLkdldEl0ZW0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJyZXdhcmRcIikuZ2V0Q29tcG9uZW50KEVxdWlwSXRlbSkucHJvcF9hY3Rpb24gPSBQcm9wQWN0aW9uLk51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwicmV3YXJkXCIpLmdldENvbXBvbmVudChQcm9wKS5wcm9wX2FjdGlvbiA9IFByb3BBY3Rpb24uTnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLm9mZihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUu5q+P5pel5ZWG5bqX5Lit5oiQ5Yqf6LSt5Lmw54mp5ZOB55qE5qyh5pWwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dHZXRUaXAocmV3YXJkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdG9yZUl0ZW1JbmZvLkNvc3RJdGVtSUQgPT0gUHJvcElkLkNvaW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVUlNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd1VpRGlhbG9nKFVJUGF0aC5Db2luUG9wLCBVSUxheWVyTGV2ZWwuVGhyZWUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGVkOiAodWlOb2RlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWlOb2RlLmdldENvbXBvbmVudChDb2luUG9wKS5pbml0VWkoUHJvcElkLkNvaW4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVSU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93VWlEaWFsb2coVUlQYXRoLkNvaW5Qb3AsIFVJTGF5ZXJMZXZlbC5UaHJlZSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZWQ6ICh1aU5vZGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aU5vZGUuZ2V0Q29tcG9uZW50KENvaW5Qb3ApLmluaXRVaShQcm9wSWQuR2VtKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dNZXNzYWdlKExhbmd1YWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0ckJ5VGV4dElkKDEwMDA0MSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS7mr4/ml6XllYblupfkuK3otK3kubDlpLHotKXnmoTmrKHmlbApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDmnInmipjmiaPnm7TmjqXor7vlj5bmipjmiaPnmoTlpKflsI9cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpc2NvdW50TnVtID0gVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROdW1iZXIoU3RvcmFnZUtleS5TdG9yZURhaWx5U2hvcERpc2NvdW50ICsgayk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiZnJlZVwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInJlZFwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLnBvc3RSZWRFdmVudChSZWRFdmVudFN0cmluZy5SRURfQ0hFQ0ssIFJlZEV2ZW50VHlwZS5CdG5fU2hvcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvblwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChzdG9yZUl0ZW1JbmZvLkNvc3RJdGVtSUQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwicHJpY2VcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSAneCcgKyBNeVRvb2wuZ2V0Q29pbkRhbndlaShzdG9yZUl0ZW1JbmZvLkNvc3ROdW0gKiBkaXNjb3VudE51bSAqIDAuMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJuYW1lXCIpLmdldENvbXBvbmVudChUZXh0TGFuZ3VhZ2UpLnNldFRleHRJZChJdGVtTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldE5hbWVUZXh0SWQoc3RvcmVJdGVtSW5mby5HZXRJdGVtKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJkaXNjb3VudE51bVwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zZXRSZXBsYWNlVmFsdWUoJ34nLCAoMTAwIC0gZGlzY291bnROdW0gKiAxMCkgKyAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKHN0b3JlSXRlbUluZm8uR2V0SXRlbSwgc3RvcmVJdGVtSW5mby5HZXROdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXdhcmQubmFtZSA9ICdyZXdhcmQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmFkZENoaWxkKHJld2FyZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmFkZENvbXBvbmVudChjYy5CdXR0b24pLnRyYW5zaXRpb24gPSBjYy5CdXR0b24uVHJhbnNpdGlvbi5TQ0FMRTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS5kdXJhdGlvbiA9IDAuMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS56b29tU2NhbGUgPSAwLjk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShzdG9yZUl0ZW1JbmZvLkNvc3RJdGVtSUQsIC0oc3RvcmVJdGVtSW5mby5Db3N0TnVtICogZGlzY291bnROdW0gKiAwLjEpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u5ZWG5bqX5Lit6LSt5Lmw54mp5ZOBMeasoSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7liY3lvoDllYbln47otK3kubBY5qyh5ZWG5ZOBKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0oc3RvcmVJdGVtSW5mby5HZXRJdGVtLCBzdG9yZUl0ZW1JbmZvLkdldE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSHR0cE1hbmFnZXIucG9zdChBY2Nlc3NOYW1lLnNhdmVHYW1lVGFzaywgdGhpcy5nZXRTYXZlR2FtZVRhc2tKc29uU3RyaW5nKGspKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShzdG9yZUl0ZW1JbmZvLkdldEl0ZW0sIHN0b3JlSXRlbUluZm8uR2V0TnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbnVtID0gVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROdW1iZXIoU3RvcmFnZUtleS5TdG9yZURhaWx5U2hvcE51bSArIGssIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bSsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdG9yZUl0ZW1JbmZvLkNvc3RJdGVtSUQgPT0gUHJvcElkLkNvaW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmFkZFRvdGFsKEZvbGxvd19UeXBlLuWcqOavj+aXpeWVhuW6l+S4rea2iOiAl+eahOmHkeW4geaVsOmHjywgKHN0b3JlSXRlbUluZm8uQ29zdE51bSAqIGRpc2NvdW50TnVtICogMC4xKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmZvbGxvd0V2ZW50KEZvbGxvd19UeXBlLuWcqOavj+aXpeWVhuW6l+S4reS9v+eUqOmHkeW4gei0reS5sOeJqeWTgeeahOasoeaVsCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmFkZFRvdGFsKEZvbGxvd19UeXBlLuWcqOavj+aXpeWVhuW6l+S4rea2iOiAl+eahOmSu+efs+aVsOmHjywgKHN0b3JlSXRlbUluZm8uQ29zdE51bSAqIGRpc2NvdW50TnVtICogMC4xKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmZvbGxvd0V2ZW50KEZvbGxvd19UeXBlLuWcqOavj+aXpeWVhuW6l+S4reS9v+eUqOmSu+efs+i0reS5sOeJqeWTgeeahOasoeaVsCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2V0SXRlbShTdG9yYWdlS2V5LlN0b3JlRGFpbHlTaG9wTnVtICsgaywgbnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVtID49IHN0b3JlSXRlbUluZm8uQWRQbGF5YWJsZVRpbWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvblwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInByaWNlXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiZGlzY291bnROdW1cIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJkaXNjb3VudEljb25cIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJzYWxlT3V0XCIpLnpJbmRleCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJzYWxlT3V0XCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0eXBlID0gSXRlbU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRUeXBlKHN0b3JlSXRlbUluZm8uR2V0SXRlbSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInJld2FyZFwiKS5nZXRDb21wb25lbnQoRXF1aXBJdGVtKS5wcm9wX2FjdGlvbiA9IFByb3BBY3Rpb24uTnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJyZXdhcmRcIikuZ2V0Q29tcG9uZW50KFByb3ApLnByb3BfYWN0aW9uID0gUHJvcEFjdGlvbi5OdWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd0dldFRpcChyZXdhcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS7mr4/ml6XllYblupfkuK3miJDlip/otK3kubDnianlk4HnmoTmrKHmlbApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcmVJdGVtSW5mby5Db3N0SXRlbUlEID09IFByb3BJZC5Db2luKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVJTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dVaURpYWxvZyhVSVBhdGguQ29pblBvcCwgVUlMYXllckxldmVsLlRocmVlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlZDogKHVpTm9kZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpTm9kZS5nZXRDb21wb25lbnQoQ29pblBvcCkuaW5pdFVpKFByb3BJZC5Db2luKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5hZGRUb3RhbChGb2xsb3dfVHlwZS7lnKjmr4/ml6XllYblupfkuK3mtojogJfnmoTph5HluIHmlbDph48sKHN0b3JlSXRlbUluZm8uQ29zdE51bSAqIGRpc2NvdW50TnVtICogMC4xKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmZvbGxvd0V2ZW50KEZvbGxvd19UeXBlLuWcqOavj+aXpeWVhuW6l+S4reS9v+eUqOmHkeW4gei0reS5sOeJqeWTgeeahOasoeaVsCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVUlNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd1VpRGlhbG9nKFVJUGF0aC5Db2luUG9wLCBVSUxheWVyTGV2ZWwuVGhyZWUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGVkOiAodWlOb2RlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWlOb2RlLmdldENvbXBvbmVudChDb2luUG9wKS5pbml0VWkoUHJvcElkLkdlbSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuYWRkVG90YWwoRm9sbG93X1R5cGUu5Zyo5q+P5pel5ZWG5bqX5Lit5raI6ICX55qE6ZK755+z5pWw6YePLChzdG9yZUl0ZW1JbmZvLkNvc3ROdW0gKiBkaXNjb3VudE51bSAqIDAuMSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS7lnKjmr4/ml6XllYblupfkuK3kvb/nlKjpkrvnn7PotK3kubDnianlk4HnmoTmrKHmlbApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dNZXNzYWdlKExhbmd1YWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0ckJ5VGV4dElkKDEwMDA0MSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS7mr4/ml6XllYblupfkuK3otK3kubDlpLHotKXnmoTmrKHmlbApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyDkuI3lj6/otK3kubBcclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvblwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJwcmljZVwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJkaXNjb3VudE51bVwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJkaXNjb3VudEljb25cIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiZnJlZVwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJyZWRcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBFdmVudE1hbmFnZXIucG9zdFJlZEV2ZW50KFJlZEV2ZW50U3RyaW5nLlJFRF9DSEVDSywgUmVkRXZlbnRUeXBlLkJ0bl9TaG9wKTtcclxuICAgICAgICAgICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKHN0b3JlSXRlbUluZm8uR2V0SXRlbSwgc3RvcmVJdGVtSW5mby5HZXROdW0sIFByb3BBY3Rpb24uTnVsbCk7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmFkZENoaWxkKHJld2FyZCk7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwibmFtZVwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQoSXRlbU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROYW1lVGV4dElkKHN0b3JlSXRlbUluZm8uR2V0SXRlbSkpO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInNhbGVPdXRcIikuekluZGV4ID0gMTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJzYWxlT3V0XCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGFpbHlTdG9yZVJvb3QuYWRkQ2hpbGQoaXRlbSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8jZW5kcmVnaW9uXHJcbiAgICAgICAgLy8g56We56eY5ZWG5bqXXHJcbiAgICAgICAgLy8jcmVnaW9uIFxyXG4gICAgICAgIHRpdGxlID0gY2MuaW5zdGFudGlhdGUodGhpcy5zdG9yZV90aXRsZSk7XHJcbiAgICAgICAgdGl0bGUuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihUZXh0TGFuZ3VhZ2UpLnNldFRleHRJZCgxNDYwMDExKTtcclxuICAgICAgICB0aXRsZS5uYW1lID0gXCJteXN0ZXJ5VGl0bGVcIjtcclxuICAgICAgICBjb250ZW50LmFkZENoaWxkKHRpdGxlKTtcclxuXHJcbiAgICAgICAgbGV0IG15c3RlcnlSb290ID0gbmV3IGNjLk5vZGUoKTtcclxuICAgICAgICBteXN0ZXJ5Um9vdC5uYW1lID0gJ215c3RlcnlSb290JztcclxuICAgICAgICBteXN0ZXJ5Um9vdC5oZWlnaHQgPSB0aGlzLnN0b3JlX2VxdWlwX2l0ZW0uZGF0YS5oZWlnaHQgKyAyMDtcclxuICAgICAgICBteXN0ZXJ5Um9vdC53aWR0aCA9IHRoaXMubm9kZS53aWR0aDtcclxuXHJcbiAgICAgICAgbGV0IG15c3RlcnlMYXlvdXQgPSBteXN0ZXJ5Um9vdC5hZGRDb21wb25lbnQoY2MuTGF5b3V0KTtcclxuICAgICAgICBteXN0ZXJ5TGF5b3V0LnR5cGUgPSBjYy5MYXlvdXQuVHlwZS5IT1JJWk9OVEFMO1xyXG4gICAgICAgIG15c3RlcnlMYXlvdXQucmVzaXplTW9kZSA9IGNjLkxheW91dC5SZXNpemVNb2RlLkNPTlRBSU5FUjtcclxuXHJcbiAgICAgICAgbXlzdGVyeUxheW91dC5wYWRkaW5nUmlnaHQgPSA0MDtcclxuICAgICAgICBteXN0ZXJ5TGF5b3V0LnBhZGRpbmdMZWZ0ID0gNDA7XHJcbiAgICAgICAgbXlzdGVyeUxheW91dC5zcGFjaW5nWCA9IDIwO1xyXG5cclxuICAgICAgICBsZXQgcGV0SXRlbSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuc3RvcmVfcGV0X2l0ZW0pO1xyXG4gICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJyaWNoQmdcIikuY2hpbGRyZW5bMV0uY2hpbGRyZW5bMV0uZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcIlhcIiArIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bSg0MDAwNik7XHJcbiAgICAgICAgdGhpcy5wZXRfaW5zdGFuY2UgPSBwZXRJdGVtO1xyXG4gICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJyaWNoQmdcIikuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihjYy5SaWNoVGV4dCkuc3RyaW5nID0gTGFuZ3VhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyQnlUZXh0SWQoMTQ2MDAwNSk7XHJcbiAgICAgICAgbGV0IHByaXplUGV0RGF0YSA9IERyYXdDYXJkSW5mb3JtYXRpb25NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SnNvbkRyYXdDYXJkSW5mb3JtYXRpb24oMzAwMSk7XHJcbiAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVQZXREYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMTBcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMTBcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplUGV0RGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZVBldERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBvbmVEYXlUaW1lID0gNjAgKiA2MCAqIDI0ICogMTAwMDtcclxuICAgICAgICBsZXQgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIGlmIChUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldE51bWJlcihTdG9yYWdlS2V5LlN0b3JlTXlzdGVyeVBldEZyZWVUaW1lLCAwKSArIG9uZURheVRpbWUgLSBjdXJyZW50VGltZSA8PSAwKSB7XHJcbiAgICAgICAgICAgIC8vIOWFjei0uVxyXG4gICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImZyZWVcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHRoaXMuc3RvcmVfdWkuZ2V0U3ByaXRlRnJhbWUoXCJTaG9wX0ljb25fQURTXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJmcmVlXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcGV0QnRuMSA9IHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJidG4xXCIpO1xyXG4gICAgICAgIGxldCBwZXRCdG4xMCA9IHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJidG4xMFwiKTtcclxuICAgICAgICBwZXRCdG4xLmdldENoaWxkQnlOYW1lKCdyZWQnKS5hY3RpdmUgPSBHYW1lRGF0YS5nZXRJbnN0YW5jZSgpLmdldFBldFJlY3J1aXRpbmdSZWRUaXAoKTtcclxuICAgICAgICBwZXRCdG4xLmFkZENvbXBvbmVudChjYy5CdXR0b24pLnRyYW5zaXRpb24gPSBjYy5CdXR0b24uVHJhbnNpdGlvbi5TQ0FMRTtcclxuICAgICAgICBwZXRCdG4xLmdldENvbXBvbmVudChjYy5CdXR0b24pLmR1cmF0aW9uID0gMC4xO1xyXG4gICAgICAgIHBldEJ0bjEuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuem9vbVNjYWxlID0gMC45O1xyXG5cclxuICAgICAgICBwZXRCdG4xMC5hZGRDb21wb25lbnQoY2MuQnV0dG9uKS50cmFuc2l0aW9uID0gY2MuQnV0dG9uLlRyYW5zaXRpb24uU0NBTEU7XHJcbiAgICAgICAgcGV0QnRuMTAuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuZHVyYXRpb24gPSAwLjE7XHJcbiAgICAgICAgcGV0QnRuMTAuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuem9vbVNjYWxlID0gMC45O1xyXG5cclxuICAgICAgICBwZXRCdG4xLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyDmmoLmnKrlvIDmlL7lpITnkIZcclxuICAgICAgICAgICAgLy8gbGV0IHMgPSBMYW5ndWFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdHJCeVRleHRJZCgxMDAxMTMpO1xyXG4gICAgICAgICAgICAvLyBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dNZXNzYWdlKHMpO1xyXG4gICAgICAgICAgICAvLyByZXR1cm47XHJcbiAgICAgICAgICAgIGlmIChGdW5jdGlvbkRlZmluaXRpb25NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SXNVbmxvY2soRnVuY1R5cGUuUGV0UGFyYWRpc2UpID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdW5sb2NrVHlwZSA9IEZ1bmN0aW9uRGVmaW5pdGlvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRVbmxvY2tDb25kaXRpb25UeXBlKEZ1bmNUeXBlLlBldFBhcmFkaXNlKTtcclxuICAgICAgICAgICAgICAgIGxldCBzID0gJyc7XHJcbiAgICAgICAgICAgICAgICBpZiAodW5sb2NrVHlwZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcyA9IExhbmd1YWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0ckJ5VGV4dElkKDEwMDA1MSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcyA9IHMucmVwbGFjZSgnLicsICcuJyArIChGdW5jdGlvbkRlZmluaXRpb25NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0VW5sb2NrQ29uZGljdGlvblBhcmFtZXRlcihGdW5jVHlwZS5QZXRQYXJhZGlzZSkpICsgJycpXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHMgPSBMYW5ndWFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdHJCeVRleHRJZCgxMDAwNTIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHMgPSBzLnJlcGxhY2UoJ34nLCAoTWlzc2lvbkxldmVsTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldExldmVsTmFtZSgoRnVuY3Rpb25EZWZpbml0aW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFVubG9ja0NvbmRpY3Rpb25QYXJhbWV0ZXIoRnVuY1R5cGUuUGV0UGFyYWRpc2UpKSkpICsgJycpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dNZXNzYWdlKHMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGNvc3RJZCA9IDA7XHJcbiAgICAgICAgICAgIGxldCBjb3N0TnVtID0gMDtcclxuICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgICAgIGNvc3RJZCA9IHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xO1xyXG4gICAgICAgICAgICAgICAgY29zdE51bSA9IHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29zdElkID0gcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzI7XHJcbiAgICAgICAgICAgICAgICBjb3N0TnVtID0gcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IG9uZURheVRpbWUgPSA2MCAqIDYwICogMjQgKiAxMDAwO1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICBpZiAoVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROdW1iZXIoU3RvcmFnZUtleS5TdG9yZU15c3RlcnlQZXRGcmVlVGltZSwgMCkgKyBvbmVEYXlUaW1lIC0gY3VycmVudFRpbWUgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8g5YWN6LS5XHJcbiAgICAgICAgICAgICAgICBjb3N0TnVtID0gMDtcclxuICAgICAgICAgICAgICAgIFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2V0SXRlbShTdG9yYWdlS2V5LlN0b3JlTXlzdGVyeVBldEZyZWVUaW1lLCBjdXJyZW50VGltZSlcclxuICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImZyZWVcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBBcGtNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd1ZpZGVvKChpc1RydWU6IGJvb2xlYW4pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNUcnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvc3ROdW0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNldEl0ZW0oU3RvcmFnZUtleS5TdG9yZU15c3RlcnlQZXRGcmVlVGltZSwgY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiZnJlZVwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGV0QnRuMS5nZXRDaGlsZEJ5TmFtZSgncmVkJykuYWN0aXZlID0gR2FtZURhdGEuZ2V0SW5zdGFuY2UoKS5nZXRQZXRSZWNydWl0aW5nUmVkVGlwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50TWFuYWdlci5wb3N0UmVkRXZlbnQoUmVkRXZlbnRTdHJpbmcuUkVEX0NIRUNLLCBSZWRFdmVudFR5cGUuQnRuX1Nob3ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBIdHRwTWFuYWdlci5wb3N0KEFjY2Vzc05hbWUudHJ5UHJpemUsIHRoaXMuZ2V0UHJpemVKc29uU3RyaW5nKDEsIDMsIGNvc3RJZCwgY29zdE51bSksIHRydWUpLnRoZW4oKGRhdGE6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUu6K6w5b2V5byA5ZCvMeasoeWuoOeJqeeahOasoeaVsCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ov5vooYwx5qyh5byA5ZCv6KOF5aSHKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLue0r+iuoeWtteWMlueBteWuoOibi1jmrKEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u5YmN5b6A5ZWG5Z+O5a215YyWWOasoeWuoOeJqSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ov5vooYwx5qyh5a6g54mp5oub5YufKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLui/m+ihjDEw5qyh5a6g54mp5a215YyWKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkSXRlbSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlUHJvcEl0ZW0oZGF0YVswXS5kcm9wSWQsIGRhdGFbMF0uZHJvcE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKGRhdGFbMF0uZHJvcElkLCBkYXRhWzBdLmRyb3BOdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2F2ZUFsbFByb3BOdW0oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dHZXRUaXAocmV3YXJkSXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVQZXREYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMTBcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMTBcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplUGV0RGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZVBldERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd01lc3NhZ2UoTGFuZ3VhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyQnlUZXh0SWQoMSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIFZJREVPX1RZUEUuRXF1aXApXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKGNvc3RJZCkgPCBjb3N0TnVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93TWVzc2FnZShMYW5ndWFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdHJCeVRleHRJZCgxMDAwNDEpKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJzY3JvbGxcIikuZ2V0Q29tcG9uZW50KGNjLlNjcm9sbFZpZXcpLnNjcm9sbFRvQm90dG9tKDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIFVJTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dVaURpYWxvZyhVSVBhdGguVHVybnRhYmxlLFVJTGF5ZXJMZXZlbC5PbmUse29uQ29tcGxldGVkOih1aU5vZGUpPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1aU5vZGUuZ2V0Q29tcG9uZW50KFR1cm10YWJsZSkuaW5pdFVpKClcclxuICAgICAgICAgICAgICAgICAgICB9LH0pOy8v6L2s55uYXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgSHR0cE1hbmFnZXIucG9zdChBY2Nlc3NOYW1lLnRyeVByaXplLCB0aGlzLmdldFByaXplSnNvblN0cmluZygxLCAzLCBjb3N0SWQsIGNvc3ROdW0pLCB0cnVlKS50aGVuKChkYXRhOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLue0r+iuoeWtteWMlueBteWuoOibi1jmrKEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLuWJjeW+gOWVhuWfjuWtteWMlljmrKHlrqDniakpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLui/m+ihjDHmrKHlrqDnianmi5vli58pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLui/m+ihjDEw5qyh5a6g54mp5a215YyWKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKGNvc3RJZCwgLWNvc3ROdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnJlZnJlc2hHZW1TaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmRJdGVtID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShkYXRhWzBdLmRyb3BJZCwgZGF0YVswXS5kcm9wTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKGRhdGFbMF0uZHJvcElkLCBkYXRhWzBdLmRyb3BOdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNhdmVBbGxQcm9wTnVtKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd0dldFRpcChyZXdhcmRJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplUGV0RGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xMFwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMTBcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplUGV0RGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMTBcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZVBldERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBwZXRCdG4xMC5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsICgpID0+IHtcclxuICAgICAgICAgICAgLy8g5pqC5pyq5byA5pS+5aSE55CGXHJcbiAgICAgICAgICAgIC8vIGxldCBzID0gTGFuZ3VhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyQnlUZXh0SWQoMTAwMTEzKTtcclxuICAgICAgICAgICAgLy8gR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93TWVzc2FnZShzKTtcclxuICAgICAgICAgICAgLy8gcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgaWYgKEZ1bmN0aW9uRGVmaW5pdGlvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRJc1VubG9jayhGdW5jVHlwZS5QZXRQYXJhZGlzZSkgPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGxldCB1bmxvY2tUeXBlID0gRnVuY3Rpb25EZWZpbml0aW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFVubG9ja0NvbmRpdGlvblR5cGUoRnVuY1R5cGUuUGV0UGFyYWRpc2UpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHMgPSAnJztcclxuICAgICAgICAgICAgICAgIGlmICh1bmxvY2tUeXBlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBzID0gTGFuZ3VhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyQnlUZXh0SWQoMTAwMDUxKTtcclxuICAgICAgICAgICAgICAgICAgICBzID0gcy5yZXBsYWNlKCcuJywgJy4nICsgKEZ1bmN0aW9uRGVmaW5pdGlvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRVbmxvY2tDb25kaWN0aW9uUGFyYW1ldGVyKEZ1bmNUeXBlLlBldFBhcmFkaXNlKSkgKyAnJylcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcyA9IExhbmd1YWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0ckJ5VGV4dElkKDEwMDA1Mik7XHJcbiAgICAgICAgICAgICAgICAgICAgcyA9IHMucmVwbGFjZSgnficsIChNaXNzaW9uTGV2ZWxNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0TGV2ZWxOYW1lKChGdW5jdGlvbkRlZmluaXRpb25NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0VW5sb2NrQ29uZGljdGlvblBhcmFtZXRlcihGdW5jVHlwZS5QZXRQYXJhZGlzZSkpKSkgKyAnJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd01lc3NhZ2Uocyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGNvc3RJZCA9IDA7XHJcbiAgICAgICAgICAgIGxldCBjb3N0TnVtID0gMDtcclxuICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVQZXREYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgICAgIGNvc3RJZCA9IHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xO1xyXG4gICAgICAgICAgICAgICAgY29zdE51bSA9IHByaXplUGV0RGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29zdElkID0gcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzI7XHJcbiAgICAgICAgICAgICAgICBjb3N0TnVtID0gcHJpemVQZXREYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShjb3N0SWQpIDwgY29zdE51bSkge1xyXG4gICAgICAgICAgICAgICAgLy8gR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93TWVzc2FnZShMYW5ndWFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdHJCeVRleHRJZCgxMDAwNDEpKTtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcInNjcm9sbFwiKS5nZXRDb21wb25lbnQoY2MuU2Nyb2xsVmlldykuc2Nyb2xsVG9Cb3R0b20oMik7XHJcbiAgICAgICAgICAgICAgICBVSU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93VWlEaWFsb2coVUlQYXRoLlR1cm50YWJsZSxVSUxheWVyTGV2ZWwuT25lLHtvbkNvbXBsZXRlZDoodWlOb2RlKT0+IHtcclxuICAgICAgICAgICAgICAgICAgICB1aU5vZGUuZ2V0Q29tcG9uZW50KFR1cm10YWJsZSkuaW5pdFVpKClcclxuICAgICAgICAgICAgICAgIH0sfSk7Ly/ovaznm5hcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBpZihJc0RlYnVnKSBjb3N0TnVtID0gMDsgICBcclxuICAgICAgICAgICAgSHR0cE1hbmFnZXIucG9zdChBY2Nlc3NOYW1lLnRyeVByaXplLCB0aGlzLmdldFByaXplSnNvblN0cmluZygyLCAzLCBjb3N0SWQsIGNvc3ROdW0pLCB0cnVlKS50aGVuKChkYXRhOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKGNvc3RJZCwgLWNvc3ROdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkucmVmcmVzaEdlbVNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJld2FyZExpc3QgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcEluZGV4ID0gTXlUb29sLnJhbmRvbVJhbmdlSW50KDAsIDkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wID0gZGF0YVs5XTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhWzldID0gZGF0YVt0ZW1wSW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbdGVtcEluZGV4XSA9IHRlbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkSXRlbSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlUHJvcEl0ZW0oZGF0YVtpXS5kcm9wSWQsIGRhdGFbaV0uZHJvcE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShkYXRhW2ldLmRyb3BJZCwgZGF0YVtpXS5kcm9wTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV3YXJkTGlzdC5wdXNoKHJld2FyZEl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLuWJjeW+gOWVhuWfjuWtteWMlljmrKHlrqDniakpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLui/m+ihjDHmrKHlrqDnianmi5vli58pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLui/m+ihjDEw5qyh5a6g54mp5a215YyWKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ntK/orqHlrbXljJbngbXlrqDom4tY5qyhKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zYXZlQWxsUHJvcE51bSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd011bHRpcGxlR2V0VGlwKHJld2FyZExpc3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBteXN0ZXJ5Um9vdC5hZGRDaGlsZChwZXRJdGVtKTtcclxuXHJcbiAgICAgICAgbGV0IGVxdWlwSXRlbSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuc3RvcmVfZXF1aXBfaXRlbSk7XHJcbiAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwicmljaEJnXCIpLmNoaWxkcmVuWzFdLmNoaWxkcmVuWzFdLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJYXCIgKyBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0oNDAwMDUpO1xyXG4gICAgICAgIHRoaXMud2VhcG9uX2luc3RhbmNlID0gZXF1aXBJdGVtO1xyXG4gICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcInJpY2hCZ1wiKS5nZXRDb21wb25lbnRJbkNoaWxkcmVuKGNjLlJpY2hUZXh0KS5zdHJpbmcgPSBMYW5ndWFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdHJCeVRleHRJZCgxNDYwMDA2KTtcclxuICAgICAgICBsZXQgcHJpemVFcXVpcERhdGEgPSBEcmF3Q2FyZEluZm9ybWF0aW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEpzb25EcmF3Q2FyZEluZm9ybWF0aW9uKDIwMDEpO1xyXG4gICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZUVxdWlwRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMTBcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUVxdWlwRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMTBcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMik7XHJcbiAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUVxdWlwRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gb25lRGF5VGltZSA9IDYwKjYwKjI0KjEwMDA7XHJcbiAgICAgICAgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIGlmIChUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldE51bWJlcihTdG9yYWdlS2V5LlN0b3JlTXlzdGVyeUVxdWlwRnJlZVRpbWUsIDApICsgb25lRGF5VGltZSAtIGN1cnJlbnRUaW1lIDw9IDApIHtcclxuICAgICAgICAgICAgLy8g5YWN6LS5XHJcbiAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImZyZWVcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gdGhpcy5zdG9yZV91aS5nZXRTcHJpdGVGcmFtZShcIlNob3BfSWNvbl9BRFNcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJmcmVlXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZXF1aXBCdG4xID0gZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiYnRuMVwiKTtcclxuICAgICAgICBsZXQgZXF1aXBCdG4xMCA9IGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImJ0bjEwXCIpO1xyXG4gICAgICAgIGVxdWlwQnRuMS5nZXRDaGlsZEJ5TmFtZSgncmVkJykuYWN0aXZlID0gR2FtZURhdGEuZ2V0SW5zdGFuY2UoKS5nZXRFcXVpcEZyZWVSZWRUaXAoKTtcclxuICAgICAgICBlcXVpcEJ0bjEuYWRkQ29tcG9uZW50KGNjLkJ1dHRvbikudHJhbnNpdGlvbiA9IGNjLkJ1dHRvbi5UcmFuc2l0aW9uLlNDQUxFO1xyXG4gICAgICAgIGVxdWlwQnRuMS5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS5kdXJhdGlvbiA9IDAuMTtcclxuICAgICAgICBlcXVpcEJ0bjEuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuem9vbVNjYWxlID0gMC45O1xyXG5cclxuICAgICAgICBlcXVpcEJ0bjEwLmFkZENvbXBvbmVudChjYy5CdXR0b24pLnRyYW5zaXRpb24gPSBjYy5CdXR0b24uVHJhbnNpdGlvbi5TQ0FMRTtcclxuICAgICAgICBlcXVpcEJ0bjEwLmdldENvbXBvbmVudChjYy5CdXR0b24pLmR1cmF0aW9uID0gMC4xO1xyXG4gICAgICAgIGVxdWlwQnRuMTAuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuem9vbVNjYWxlID0gMC45O1xyXG5cclxuICAgICAgICBlcXVpcEJ0bjEub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjb3N0SWQgPSAwO1xyXG4gICAgICAgICAgICBsZXQgY29zdE51bSA9IDA7XHJcbiAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgY29zdElkID0gcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMTtcclxuICAgICAgICAgICAgICAgIGNvc3ROdW0gPSBwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgLy8g5Lul5LiL5Li65ZCO56uv5pyq5a2Y5raI6LS55Yi455qE5aSE55CG77yM5b2T5ZCO56uv5a2Y5YKo5raI6LS55Yi45pe277yM5L2/55So5LiK6Z2i5Lik6KGM5Luj56CBXHJcbiAgICAgICAgICAgICAgICAvLyBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0ocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSwtcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSk7XHJcbiAgICAgICAgICAgICAgICAvLyBjb3N0SWQgPSBwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8yO1xyXG4gICAgICAgICAgICAgICAgLy8gY29zdE51bSA9IDA7XHJcbiAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuYWRkVG90YWwoRm9sbG93X1R5cGUu6K6w5b2V5raI6ICX55qE6ZKl5YyZ5pWw6YePLCBwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvc3RJZCA9IHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzI7XHJcbiAgICAgICAgICAgICAgICBjb3N0TnVtID0gcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5hZGRUb3RhbChGb2xsb3dfVHlwZS7orrDlvZXmtojogJflrp3nn7PmlbDph48sIGNvc3ROdW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBvbmVEYXlUaW1lID0gNjAgKiA2MCAqIDI0ICogMTAwMDtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgaWYgKFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0TnVtYmVyKFN0b3JhZ2VLZXkuU3RvcmVNeXN0ZXJ5RXF1aXBGcmVlVGltZSwgMCkgKyBvbmVEYXlUaW1lIC0gY3VycmVudFRpbWUgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lcXVpcEl0ZW1UZW1wPWVxdWlwSXRlbTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29zdElkVGVtcD1jb3N0SWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByaXplRXF1aXBEYXRhVGVtcD1wcml6ZUVxdWlwRGF0YTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuQllURURBTkNFX0dBTUUpIHtcclxuXHJcbiAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFdYTWFuYWdlckVYLmdldEluc3RhbmNlKCkuemh1YW5nYmVpa3VTaGlwaW49IHR0LmNyZWF0ZVJld2FyZGVkVmlkZW9BZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkVW5pdElkOiAnNjEzZWZmbDdlMjFkNWU3ZGM2J1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIFdYTWFuYWdlckVYLmdldEluc3RhbmNlKCkuemh1YW5nYmVpa3VTaGlwaW4ub2ZmRXJyb3IoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdYTWFuYWdlckVYLmdldEluc3RhbmNlKCkuemh1YW5nYmVpa3VTaGlwaW4ub25FcnJvcihlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBXWE1hbmFnZXJFWC5nZXRJbnN0YW5jZSgpLnpodWFuZ2JlaWt1U2hpcGluLm9mZkNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgV1hNYW5hZ2VyRVguZ2V0SW5zdGFuY2UoKS56aHVhbmdiZWlrdVNoaXBpbi5zaG93KCkuY2F0Y2goKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDlpLHotKXph43or5VcclxuICAgICAgICAgICAgICAgICAgICAgICAgV1hNYW5hZ2VyRVguZ2V0SW5zdGFuY2UoKS56aHVhbmdiZWlrdVNoaXBpbi5sb2FkKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IFdYTWFuYWdlckVYLmdldEluc3RhbmNlKCkuemh1YW5nYmVpa3VTaGlwaW4uc2hvdygpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93TWVzc2FnZShcIuW5v+WRiuaLieWPluWksei0pVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICBXWE1hbmFnZXJFWC5nZXRJbnN0YW5jZSgpLnpodWFuZ2JlaWt1U2hpcGluLm9uQ2xvc2UocmVzID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g55So5oi354K55Ye75LqG44CQ5YWz6Zet5bm/5ZGK44CR5oyJ6ZKuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWwj+S6jiAyLjEuMCDnmoTln7rnoYDlupPniYjmnKzvvIxyZXMg5piv5LiA5LiqIHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzICYmIHJlcy5pc0VuZGVkIHx8IHJlcyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5q2j5bi45pKt5pS+57uT5p2f77yM5Y+v5Lul5LiL5Y+R5ri45oiP5aWW5YqxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblNIaXBpbmNvbXAyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDmkq3mlL7kuK3pgJTpgIDlh7rvvIzkuI3kuIvlj5HmuLjmiI/lpZblirFcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBXWE1hbmFnZXJFWC5nZXRJbnN0YW5jZSgpLnpodWFuZ2JlaWt1U2hpcGluLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vblNIaXBpbmNvbXAyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShjb3N0SWQpIDwgY29zdE51bSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd01lc3NhZ2UoTGFuZ3VhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyQnlUZXh0SWQoMTAwMDQxKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwic2Nyb2xsXCIpLmdldENvbXBvbmVudChjYy5TY3JvbGxWaWV3KS5zY3JvbGxUb0JvdHRvbSgyKTtcclxuICAgICAgICAgICAgICAgICAgICBVSU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93VWlEaWFsb2coVUlQYXRoLlR1cm50YWJsZSxVSUxheWVyTGV2ZWwuT25lLHtvbkNvbXBsZXRlZDoodWlOb2RlKT0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdWlOb2RlLmdldENvbXBvbmVudChUdXJtdGFibGUpLmluaXRVaSgpXHJcbiAgICAgICAgICAgICAgICAgICAgfSx9KTsvL+i9rOebmFxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIEh0dHBNYW5hZ2VyLnBvc3QoQWNjZXNzTmFtZS50cnlQcml6ZSwgdGhpcy5nZXRQcml6ZUpzb25TdHJpbmcoMSwgMiwgY29zdElkLCBjb3N0TnVtKSwgdHJ1ZSkudGhlbigoZGF0YTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKGNvc3RJZCwgLWNvc3ROdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnJlZnJlc2hHZW1TaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS7orrDlvZXlvIDlkK8x5qyh6KOF5aSH55qE5qyh5pWwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ov5vooYwx5qyh5byA5ZCv6KOF5aSHKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ov5vooYwxMOasoeW8gOWQr+ijheWkhyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u57Sv6K6h6I635b6XWOS7tuijheWkhyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmRJdGVtID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShkYXRhWzBdLmRyb3BJZCwgZGF0YVswXS5kcm9wTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKGRhdGFbMF0uZHJvcElkLCBkYXRhWzBdLmRyb3BOdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNhdmVBbGxQcm9wTnVtKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd0dldFRpcChyZXdhcmRJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZUVxdWlwRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMTBcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplRXF1aXBEYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMTBcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplRXF1aXBEYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROdW1iZXIoU3RvcmFnZUtleS5TdG9yZU15c3RlcnlFcXVpcEZyZWVUaW1lLCAwKSArIG9uZURheVRpbWUgLSBjdXJyZW50VGltZSA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDlhY3otLlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJmcmVlXCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSB0aGlzLnN0b3JlX3VpLmdldFNwcml0ZUZyYW1lKFwiU2hvcF9JY29uX0FEU1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImZyZWVcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBpZihJc0RlYnVnKSBjb3N0TnVtID0gMDtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVxdWlwQnRuMTAub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjb3N0SWQgPSAwO1xyXG4gICAgICAgICAgICBsZXQgY29zdE51bSA9IDA7XHJcbiAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVFcXVpcERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29zdElkID0gcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMTtcclxuICAgICAgICAgICAgICAgIC8vIGNvc3ROdW0gPSBwcml6ZUVxdWlwRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgLy8g5Lul5LiL5Li65ZCO56uv5pyq5a2Y5raI6LS55Yi455qE5aSE55CG77yM5b2T5ZCO56uv5a2Y5YKo5raI6LS55Yi45pe277yM5L2/55So5LiK6Z2i5Lik6KGM5Luj56CBXHJcbiAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0ocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSwgLXByaXplRXF1aXBEYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzEpO1xyXG4gICAgICAgICAgICAgICAgY29zdElkID0gcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMjtcclxuICAgICAgICAgICAgICAgIGNvc3ROdW0gPSAwO1xyXG4gICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmFkZFRvdGFsKEZvbGxvd19UeXBlLuiusOW9lea2iOiAl+eahOmSpeWMmeaVsOmHjywgcHJpemVFcXVpcERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb3N0SWQgPSBwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8yO1xyXG4gICAgICAgICAgICAgICAgY29zdE51bSA9IHByaXplRXF1aXBEYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuYWRkVG90YWwoRm9sbG93X1R5cGUu6K6w5b2V5raI6ICX5a6d55+z5pWw6YePLCBjb3N0TnVtKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShjb3N0SWQpIDwgY29zdE51bSkge1xyXG4gICAgICAgICAgICAgICAgLy8gR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93TWVzc2FnZShMYW5ndWFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdHJCeVRleHRJZCgxMDAwNDEpKTtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcInNjcm9sbFwiKS5nZXRDb21wb25lbnQoY2MuU2Nyb2xsVmlldykuc2Nyb2xsVG9Cb3R0b20oMik7XHJcbiAgICAgICAgICAgICAgICBVSU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93VWlEaWFsb2coVUlQYXRoLlR1cm50YWJsZSxVSUxheWVyTGV2ZWwuT25lLHtvbkNvbXBsZXRlZDoodWlOb2RlKT0+IHtcclxuICAgICAgICAgICAgICAgICAgICB1aU5vZGUuZ2V0Q29tcG9uZW50KFR1cm10YWJsZSkuaW5pdFVpKClcclxuICAgICAgICAgICAgICAgIH0sfSk7Ly/ovaznm5hcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gaWYoSXNEZWJ1ZykgY29zdE51bSA9IDA7ICAgXHJcbiAgICAgICAgICAgIEh0dHBNYW5hZ2VyLnBvc3QoQWNjZXNzTmFtZS50cnlQcml6ZSwgdGhpcy5nZXRQcml6ZUpzb25TdHJpbmcoMiwgMiwgY29zdElkLCBjb3N0TnVtKSwgdHJ1ZSkudGhlbigoZGF0YTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShjb3N0SWQsIC1jb3N0TnVtKTtcclxuICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnJlZnJlc2hHZW1TaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmZvbGxvd0V2ZW50KEZvbGxvd19UeXBlLuiusOW9leW8gOWQrzEw5qyh6KOF5aSH55qE5qyh5pWwKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJld2FyZExpc3QgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcEluZGV4ID0gTXlUb29sLnJhbmRvbVJhbmdlSW50KDAsIDkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wID0gZGF0YVs5XTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhWzldID0gZGF0YVt0ZW1wSW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbdGVtcEluZGV4XSA9IHRlbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLui/m+ihjDHmrKHlvIDlkK/oo4XlpIcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLui/m+ihjDEw5qyh5byA5ZCv6KOF5aSHKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ntK/orqHojrflvpdY5Lu26KOF5aSHKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJld2FyZEl0ZW0gPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKGRhdGFbaV0uZHJvcElkLCBkYXRhW2ldLmRyb3BOdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0oZGF0YVtpXS5kcm9wSWQsIGRhdGFbaV0uZHJvcE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJld2FyZExpc3QucHVzaChyZXdhcmRJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93TXVsdGlwbGVHZXRUaXAocmV3YXJkTGlzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zYXZlQWxsUHJvcE51bSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZUVxdWlwRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMTBcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUVxdWlwRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMTBcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUVxdWlwRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0TnVtYmVyKFN0b3JhZ2VLZXkuU3RvcmVNeXN0ZXJ5RXF1aXBGcmVlVGltZSwgMCkgKyBvbmVEYXlUaW1lIC0gY3VycmVudFRpbWUgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDlhY3otLlcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiZnJlZVwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSB0aGlzLnN0b3JlX3VpLmdldFNwcml0ZUZyYW1lKFwiU2hvcF9JY29uX0FEU1wiKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImZyZWVcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBteXN0ZXJ5Um9vdC5hZGRDaGlsZChlcXVpcEl0ZW0pO1xyXG4gICAgICAgIGNvbnRlbnQuYWRkQ2hpbGQobXlzdGVyeVJvb3QpO1xyXG4gICAgICAgIC8vI2VuZHJlZ2lvblxyXG4gICAgICAgIC8vIOmSu+efs1xyXG4gICAgICAgIC8vI3JlZ2lvbiBcclxuICAgICAgICB0aXRsZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuc3RvcmVfdGl0bGUpO1xyXG4gICAgICAgIHRpdGxlLmdldENvbXBvbmVudEluQ2hpbGRyZW4oVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQoNDAwMDAyKTtcclxuICAgICAgICB0aXRsZS5uYW1lID0gXCJnZW1UaXRsZVwiO1xyXG4gICAgICAgIC8vY29udGVudC5hZGRDaGlsZCh0aXRsZSk7XHJcblxyXG4gICAgICAgIGxldCBnZW1Sb290ID0gbmV3IGNjLk5vZGUoKTtcclxuICAgICAgICBnZW1Sb290Lm5hbWUgPSAnZ2VtUm9vdCc7XHJcbiAgICAgICAgZ2VtUm9vdC5oZWlnaHQgPSB0aGlzLnN0b3JlX2dlbV9pdGVtLmRhdGEuaGVpZ2h0ICogMiArIDEwO1xyXG4gICAgICAgIGdlbVJvb3Qud2lkdGggPSB0aGlzLm5vZGUud2lkdGhcclxuICAgICAgICAvL2NvbnRlbnQuYWRkQ2hpbGQoZ2VtUm9vdCk7XHJcbiAgICAgICAgbGV0IGdlbUxheW91dCA9IGdlbVJvb3QuYWRkQ29tcG9uZW50KGNjLkxheW91dCk7XHJcbiAgICAgICAgZ2VtTGF5b3V0LnR5cGUgPSBjYy5MYXlvdXQuVHlwZS5HUklEO1xyXG4gICAgICAgIGdlbUxheW91dC5yZXNpemVNb2RlID0gY2MuTGF5b3V0LlJlc2l6ZU1vZGUuQ09OVEFJTkVSO1xyXG5cclxuICAgICAgICBnZW1MYXlvdXQucGFkZGluZ1JpZ2h0ID0gNDA7XHJcbiAgICAgICAgZ2VtTGF5b3V0LnBhZGRpbmdMZWZ0ID0gNDA7XHJcbiAgICAgICAgZ2VtTGF5b3V0LnNwYWNpbmdYID0gMjA7XHJcbiAgICAgICAgZ2VtTGF5b3V0LnNwYWNpbmdZID0gMjA7XHJcblxyXG4gICAgICAgIGxldCBnZW1EYXRhID0gRGlhbW9uZHNSZWNoYXJnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKc29uRGF0YSgpXHJcbiAgICAgICAgZ2VtRGF0YS5mb3JFYWNoKCh2LCBrKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpdGVtID0gY2MuaW5zdGFudGlhdGUodGhpcy5zdG9yZV9nZW1faXRlbSk7XHJcbiAgICAgICAgICAgIGl0ZW0ubmFtZSA9ICdnZW0nICsgdi5SZWNoYXJnZUlEO1xyXG4gICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwidGl0bGVcIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc2V0VGV4dElkKDQwMDAwMik7XHJcbiAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJ0aXRsZVwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zdHJpbmcgPSB2LkRpYW1vbmRzTnVtICsgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInRpdGxlXCIpLmdldENvbXBvbmVudChUZXh0TGFuZ3VhZ2UpLnN0cmluZztcclxuICAgICAgICAgICAgbGV0IHBheUluZm8gPSBQYXlNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UGF5SW5mbyh2LlByb2R1Y3RJZCk7XHJcbiAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW1cIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBwYXlJbmZvLnByaWNlO1xyXG4gICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKCdpY29uJykuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSB0aGlzLnN0b3JlX3VpLmdldFNwcml0ZUZyYW1lKFwiU2hvcF9JY29uX0dlbV9cIiArICh2LlJlY2hhcmdlSUQgLSAxKSk7XHJcbiAgICAgICAgICAgIGlmIChUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0cmluZyhTdG9yYWdlS2V5LlN0b3JlR2VtSXRlbSArIHYuUmVjaGFyZ2VJRCwgJycpID09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKCdiZycpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKCd0aXAnKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInRpcFwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQoMTQxMDAwNCk7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwidGlwXCIpLmdldENvbXBvbmVudChUZXh0TGFuZ3VhZ2UpLnNldFJlcGxhY2VWYWx1ZSgnficsIHYuR2V0RGlhbW9uZHNOdW0gKyAnJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKCdiZycpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZSgndGlwJykuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGJ1dHRvbiA9IGl0ZW0uYWRkQ29tcG9uZW50KGNjLkJ1dHRvbik7XHJcbiAgICAgICAgICAgIGJ1dHRvbi50cmFuc2l0aW9uID0gY2MuQnV0dG9uLlRyYW5zaXRpb24uU0NBTEVcclxuICAgICAgICAgICAgYnV0dG9uLmR1cmF0aW9uID0gMC4xO1xyXG4gICAgICAgICAgICBidXR0b24uem9vbVNjYWxlID0gMC45O1xyXG5cclxuICAgICAgICAgICAgbGV0IGNsaWNrRXZlbnQgPSBuZXcgY2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlcigpO1xyXG4gICAgICAgICAgICBjbGlja0V2ZW50LnRhcmdldCA9IHRoaXMubm9kZTtcclxuICAgICAgICAgICAgY2xpY2tFdmVudC5jb21wb25lbnQgPSAnU3RvcmVVaSc7XHJcbiAgICAgICAgICAgIGNsaWNrRXZlbnQuaGFuZGxlciA9ICdvbkdlbUJ0bkNsaWNrJztcclxuICAgICAgICAgICAgY2xpY2tFdmVudC5jdXN0b21FdmVudERhdGEgPSB2LlJlY2hhcmdlSUQgKyAnJztcclxuICAgICAgICAgICAgYnV0dG9uLmNsaWNrRXZlbnRzLnB1c2goY2xpY2tFdmVudCk7XHJcbiAgICAgICAgICAgIC8vIGJ1dHRvblxyXG5cclxuICAgICAgICAgICAgLy8gaXRlbS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsKCk9PntcclxuICAgICAgICAgICAgLy8gICAgIEFwa01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93UGF5KHtcclxuICAgICAgICAgICAgLy8gICAgICAgICByZXN1bHQ6KGlzRHkpPT4ge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBpZihpc0R5KXtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS546ZK755+z54K55Ye76LSt5Lmw5qyh5pWwICsgdi5Qcm9kdWN0SWQpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgaWYoVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdHJpbmcoU3RvcmFnZUtleS5TdG9yZUdlbUl0ZW0gKyB2LlJlY2hhcmdlSUQsJycpID09ICcnKXtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShQcm9wSWQuR2VtLHYuRGlhbW9uZHNOdW0gKyB2LkdldERpYW1vbmRzTnVtKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0oUHJvcElkLkdlbSx2LkRpYW1vbmRzTnVtICsgdi5HZXREaWFtb25kc051bSk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zZXRJdGVtKFN0b3JhZ2VLZXkuU3RvcmVHZW1JdGVtICsgdi5SZWNoYXJnZUlELCcxJyk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZSgnYmcnKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKCd0aXAnKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dHZXRUaXAocmV3YXJkKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKFByb3BJZC5HZW0sdi5EaWFtb25kc051bSk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKFByb3BJZC5HZW0sdi5EaWFtb25kc051bSk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93R2V0VGlwKHJld2FyZCk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICB9LHYuUHJvZHVjdElkKVxyXG4gICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICAgICAgLy9nZW1Sb290LmFkZENoaWxkKGl0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vI2VuZHJlZ2lvblxyXG4gICAgICAgIC8vIOmHkeW4gVxyXG4gICAgICAgIC8vI3JlZ2lvbiBcclxuICAgICAgICB0aXRsZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuc3RvcmVfdGl0bGUpO1xyXG4gICAgICAgIHRpdGxlLmdldENvbXBvbmVudEluQ2hpbGRyZW4oVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQoNDAwMDAxKTtcclxuICAgICAgICB0aXRsZS5uYW1lID0gXCJjb2luVGl0bGVcIjtcclxuICAgICAgICBjb250ZW50LmFkZENoaWxkKHRpdGxlKTtcclxuXHJcbiAgICAgICAgbGV0IGNvaW5Sb290ID0gbmV3IGNjLk5vZGUoKTtcclxuICAgICAgICBjb2luUm9vdC5uYW1lID0gJ2NvaW5Sb290JztcclxuICAgICAgICBjb2luUm9vdC5oZWlnaHQgPSB0aGlzLnN0b3JlX2NvaW5faXRlbS5kYXRhLmhlaWdodCArIDEwO1xyXG4gICAgICAgIGNvaW5Sb290LndpZHRoID0gdGhpcy5ub2RlLndpZHRoXHJcbiAgICAgICAgY29udGVudC5hZGRDaGlsZChjb2luUm9vdCk7XHJcbiAgICAgICAgbGV0IGNvaW5MYXlvdXQgPSBjb2luUm9vdC5hZGRDb21wb25lbnQoY2MuTGF5b3V0KTtcclxuICAgICAgICBjb2luTGF5b3V0LnR5cGUgPSBjYy5MYXlvdXQuVHlwZS5IT1JJWk9OVEFMO1xyXG4gICAgICAgIGNvaW5MYXlvdXQucmVzaXplTW9kZSA9IGNjLkxheW91dC5SZXNpemVNb2RlLkNPTlRBSU5FUjtcclxuXHJcbiAgICAgICAgY29pbkxheW91dC5wYWRkaW5nUmlnaHQgPSA0MDtcclxuICAgICAgICBjb2luTGF5b3V0LnBhZGRpbmdMZWZ0ID0gNDA7XHJcbiAgICAgICAgY29pbkxheW91dC5zcGFjaW5nWCA9IDIwO1xyXG5cclxuICAgICAgICBsZXQgY29pbkRhdGEgPSBQdXJjaGFzZUNvaW5zTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEpzb25EYXRhQnlDaGFwdGVyKExldmVsTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEZpbmlzaENoYXB0ZXIoKSk7XHJcbiAgICAgICAgY29pbkRhdGEuZm9yRWFjaCgodiwgaykgPT4ge1xyXG4gICAgICAgICAgICBsZXQgaXRlbSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuc3RvcmVfY29pbl9pdGVtKTtcclxuICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInRpdGxlXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gdi5HZXRDb2luTnVtICsgJyc7XHJcbiAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJpY29uXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gdGhpcy5zdG9yZV91aS5nZXRTcHJpdGVGcmFtZShcIlNob3BfSWNvbl9Db2luX1wiICsgdi5EaXNwbGF5UG9zaXRpb24pO1xyXG4gICAgICAgICAgICBpZiAodi5BZFJld2FyZCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoTnVtYmVyKFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SW50KFN0b3JhZ2VLZXkuU3RvcmVDb2luSXRlbSArIGssIDApKSA8IHYuQWRQbGF5YWJsZVRpbWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gdGhpcy5zdG9yZV91aS5nZXRTcHJpdGVGcmFtZShcIlNob3BfSWNvbl9BRFNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bVwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwidGV4dFwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoJ3JlZCcpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvblwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChQcm9wSWQuR2VtKTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwibnVtXCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9ICd4JyArIHYuQ29uc3VtZURpYW1vbmRzTnVtO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJ0ZXh0XCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoJ3JlZCcpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKFByb3BJZC5HZW0pO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bVwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9ICd4JyArIHYuQ29uc3VtZURpYW1vbmRzTnVtO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInRleHRcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKCdyZWQnKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaXRlbS5hZGRDb21wb25lbnQoY2MuQnV0dG9uKS50cmFuc2l0aW9uID0gY2MuQnV0dG9uLlRyYW5zaXRpb24uU0NBTEU7XHJcbiAgICAgICAgICAgIGl0ZW0uZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuZHVyYXRpb24gPSAwLjE7XHJcbiAgICAgICAgICAgIGl0ZW0uZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuem9vbVNjYWxlID0gMC45O1xyXG5cclxuICAgICAgICAgICAgY29pblJvb3QuYWRkQ2hpbGQoaXRlbSk7XHJcbiAgICAgICAgICAgIGl0ZW0ub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodi5BZFJld2FyZCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE51bWJlcihUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEludChTdG9yYWdlS2V5LlN0b3JlQ29pbkl0ZW0gKyBrLCAwKSkgPCB2LkFkUGxheWFibGVUaW1lcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudlRlbXA9djtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZEl0ZW09aXRlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rVGVtcD1rO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuQllURURBTkNFX0dBTUUpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXWE1hbmFnZXJFWC5nZXRJbnN0YW5jZSgpLmppbmJpU2hpcGluID0gdHQuY3JlYXRlUmV3YXJkZWRWaWRlb0FkKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFVuaXRJZDogJzFmaWRhMWxxZWpuZDNwZDRsMSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgV1hNYW5hZ2VyRVguZ2V0SW5zdGFuY2UoKS5qaW5iaVNoaXBpbi5vZmZFcnJvcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgV1hNYW5hZ2VyRVguZ2V0SW5zdGFuY2UoKS5qaW5iaVNoaXBpbi5vbkVycm9yKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXWE1hbmFnZXJFWC5nZXRJbnN0YW5jZSgpLmppbmJpU2hpcGluLm9mZkNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXWE1hbmFnZXJFWC5nZXRJbnN0YW5jZSgpLmppbmJpU2hpcGluLnNob3coKS5jYXRjaCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5aSx6LSl6YeN6K+VXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV1hNYW5hZ2VyRVguZ2V0SW5zdGFuY2UoKS5qaW5iaVNoaXBpbi5sb2FkKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gV1hNYW5hZ2VyRVguZ2V0SW5zdGFuY2UoKS5qaW5iaVNoaXBpbi5zaG93KCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93TWVzc2FnZShcIuW5v+WRiuaLieWPluWksei0pVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXWE1hbmFnZXJFWC5nZXRJbnN0YW5jZSgpLmppbmJpU2hpcGluLm9uQ2xvc2UocmVzID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDnlKjmiLfngrnlh7vkuobjgJDlhbPpl63lub/lkYrjgJHmjInpkq5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDlsI/kuo4gMi4xLjAg55qE5Z+656GA5bqT54mI5pys77yMcmVzIOaYr+S4gOS4qiB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzICYmIHJlcy5pc0VuZGVkIHx8IHJlcyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDmraPluLjmkq3mlL7nu5PmnZ/vvIzlj6/ku6XkuIvlj5HmuLjmiI/lpZblirFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25TaGlwaW5jb21wMygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5pKt5pS+5Lit6YCU6YCA5Ye677yM5LiN5LiL5Y+R5ri45oiP5aWW5YqxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdYTWFuYWdlckVYLmdldEluc3RhbmNlKCkuamluYmlTaGlwaW4uZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25TaGlwaW5jb21wMygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShQcm9wSWQuR2VtLCAtdi5Db25zdW1lRGlhbW9uZHNOdW0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLui0reS5sDHmrKHllYblupfkuK3nmoTph5HluIEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmZvbGxvd0V2ZW50KEZvbGxvd19UeXBlLnjph5HluIHngrnlh7votK3kubDmrKHmlbAgKyB2LkNvaW5QdXJjaGFzZUlEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShQcm9wSWQuQ29pbiwgdi5HZXRDb2luTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKFByb3BJZC5Db2luLCB2LkdldENvaW5OdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93R2V0VGlwKHJld2FyZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVSU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93VWlEaWFsb2coVUlQYXRoLkNvaW5Qb3AsIFVJTGF5ZXJMZXZlbC5UaHJlZSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGVkOiAodWlOb2RlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpTm9kZS5nZXRDb21wb25lbnQoQ29pblBvcCkuaW5pdFVpKFByb3BJZC5HZW0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKFByb3BJZC5HZW0sIC12LkNvbnN1bWVEaWFtb25kc051bSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7otK3kubAx5qyh5ZWG5bqX5Lit55qE6YeR5biBKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmZvbGxvd0V2ZW50KEZvbGxvd19UeXBlLnjph5HluIHngrnlh7votK3kubDmrKHmlbAgKyB2LkNvaW5QdXJjaGFzZUlEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKFByb3BJZC5Db2luLCB2LkdldENvaW5OdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShQcm9wSWQuQ29pbiwgdi5HZXRDb2luTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93R2V0VGlwKHJld2FyZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVUlNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd1VpRGlhbG9nKFVJUGF0aC5Db2luUG9wLCBVSUxheWVyTGV2ZWwuVGhyZWUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGVkOiAodWlOb2RlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWlOb2RlLmdldENvbXBvbmVudChDb2luUG9wKS5pbml0VWkoUHJvcElkLkdlbSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8jZW5kcmVnaW9uXHJcbiAgICAgICAgLy8g5Yqo5oCB5Yi35paw5YaF5a65XHJcbiAgICAgICAgdGhpcy5zY2hlZHVsZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIOavj+aXpeWVhuW6l+WIt+aWsFxyXG4gICAgICAgICAgICBub3dUaW1lID0gRGF0ZS5ub3coKSAvIDEwMDA7XHJcbiAgICAgICAgICAgIGxldCByZXNpZHVlVGltZSA9IFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0TnVtYmVyKFN0b3JhZ2VLZXkuVG9tb3Jvd1plcm9UaW1lU3RhbXAsIDApIC0gbm93VGltZTtcclxuICAgICAgICAgICAgaWYgKHJlc2lkdWVUaW1lIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgcmVzaWR1ZVRpbWUgPSAoKG5ldyBEYXRlKG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCkpLmdldFRpbWUoKSArIDg2NDAwMDApIC8gMTAwMCkgLSBub3dUaW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBoaCA9IE1hdGguZmxvb3IocmVzaWR1ZVRpbWUgLyAoNjAgKiA2MCkpO1xyXG4gICAgICAgICAgICBpZiAoaGggPCAxMCkge1xyXG4gICAgICAgICAgICAgICAgdGltZU51bS5zdHJpbmcgPSAnMCcgKyBoaCArICc6JztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRpbWVOdW0uc3RyaW5nID0gaGggKyAnOic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IG1tID0gTWF0aC5mbG9vcihyZXNpZHVlVGltZSAlICg2MCAqIDYwKSAvIDYwKTtcclxuICAgICAgICAgICAgaWYgKG1tIDwgMTApIHtcclxuICAgICAgICAgICAgICAgIHRpbWVOdW0uc3RyaW5nICs9ICcwJyArIG1tICsgJzonXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lTnVtLnN0cmluZyArPSBtbSArICc6J1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBzcyA9IE1hdGguZmxvb3IocmVzaWR1ZVRpbWUgJSAoNjAgKiA2MCkgJSA2MClcclxuICAgICAgICAgICAgaWYgKHNzIDwgMTApIHtcclxuICAgICAgICAgICAgICAgIHRpbWVOdW0uc3RyaW5nICs9ICcwJyArIHNzXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lTnVtLnN0cmluZyArPSBzc1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIC8vIOWuoOeJqeWIt+aWsFxyXG4gICAgICAgICAgICBpZiAoVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROdW1iZXIoU3RvcmFnZUtleS5TdG9yZU15c3RlcnlQZXRGcmVlVGltZSwgMCkgKyBvbmVEYXlUaW1lIC0gY3VycmVudFRpbWUgPD0gMCAmJiBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5hY3RpdmUgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiZnJlZVwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHRoaXMuc3RvcmVfdWkuZ2V0U3ByaXRlRnJhbWUoXCJTaG9wX0ljb25fQURTXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIOatpuWZqOWIt+aWsFxyXG4gICAgICAgICAgICBpZiAoVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROdW1iZXIoU3RvcmFnZUtleS5TdG9yZU15c3RlcnlFcXVpcEZyZWVUaW1lLCAwKSArIG9uZURheVRpbWUgLSBjdXJyZW50VGltZSA8PSAwICYmIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmFjdGl2ZSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiZnJlZVwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gdGhpcy5zdG9yZV91aS5nZXRTcHJpdGVGcmFtZShcIlNob3BfSWNvbl9BRFNcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCAxLCBjYy5tYWNyby5SRVBFQVRfRk9SRVZFUiwgMClcclxuXHJcblxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBvblNoaXBpbmNvbXAzKCk6dm9pZHtcclxuXHJcbiAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7otK3kubAx5qyh5ZWG5bqX5Lit55qE6YeR5biBKTtcclxuICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUueOmHkeW4geeCueWHu+i0reS5sOasoeaVsCArIHRoaXMudlRlbXAuQ29pblB1cmNoYXNlSUQpO1xyXG4gICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShQcm9wSWQuQ29pbiwgdGhpcy52VGVtcC5HZXRDb2luTnVtKTtcclxuICAgICAgICBsZXQgcmV3YXJkID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShQcm9wSWQuQ29pbix0aGlzLnZUZW1wLkdldENvaW5OdW0pO1xyXG4gICAgICAgIGxldCBudW0gPSBUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEludChTdG9yYWdlS2V5LlN0b3JlQ29pbkl0ZW0gKyB0aGlzLmtUZW1wLCAwKSArIDE7XHJcbiAgICAgICAgVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zZXRJdGVtKFN0b3JhZ2VLZXkuU3RvcmVDb2luSXRlbSArIHRoaXMua1RlbXAsIG51bSlcclxuICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dHZXRUaXAocmV3YXJkKTtcclxuICAgICAgICBpZiAobnVtID49IHRoaXMudlRlbXAuQWRQbGF5YWJsZVRpbWVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb25cIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQoUHJvcElkLkdlbSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtXCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuYWRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gJ3gnICsgdGhpcy52VGVtcC5Db25zdW1lRGlhbW9uZHNOdW07XHJcbiAgICAgICAgICAgIHRoaXMuYWRJdGVtLmdldENoaWxkQnlOYW1lKFwidGV4dFwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5hZEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoJ3JlZCcpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBFdmVudE1hbmFnZXIucG9zdFJlZEV2ZW50KFJlZEV2ZW50U3RyaW5nLlJFRF9DSEVDSywgUmVkRXZlbnRUeXBlLkJ0bl9TaG9wKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgICAgIFxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBvblNIaXBpbmNvbXAyKCk6dm9pZHtcclxuICAgICAgICB2YXIgY29zdE51bSA9IDA7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNldEl0ZW0oU3RvcmFnZUtleS5TdG9yZU15c3RlcnlFcXVpcEZyZWVUaW1lLCBjdXJyZW50VGltZSk7XHJcbiAgICAgICAgLy8gaWYoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc1NwZW5kXzEpe1xyXG4gICAgICAgIC8vICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgLy8gICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgLy8gfWVsc2V7XHJcbiAgICAgICAgLy8gICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAvLyAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgbGV0IGVxdWlwQnRuMSA9IHRoaXMuZXF1aXBJdGVtVGVtcC5nZXRDaGlsZEJ5TmFtZShcImJ0bjFcIik7XHJcbiAgICAgICAgZXF1aXBCdG4xLmdldENoaWxkQnlOYW1lKCdyZWQnKS5hY3RpdmUgPSBHYW1lRGF0YS5nZXRJbnN0YW5jZSgpLmdldEVxdWlwRnJlZVJlZFRpcCgpO1xyXG4gICAgICAgIEV2ZW50TWFuYWdlci5wb3N0UmVkRXZlbnQoUmVkRXZlbnRTdHJpbmcuUkVEX0NIRUNLLCBSZWRFdmVudFR5cGUuQnRuX1Nob3ApO1xyXG4gICAgICAgIHRoaXMuZXF1aXBJdGVtVGVtcC5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmVxdWlwSXRlbVRlbXAuZ2V0Q2hpbGRCeU5hbWUoXCJmcmVlXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIEh0dHBNYW5hZ2VyLnBvc3QoQWNjZXNzTmFtZS50cnlQcml6ZSwgdGhpcy5nZXRQcml6ZUpzb25TdHJpbmcoMSwgMiwgdGhpcy5jb3N0SWRUZW1wLCBjb3N0TnVtKSwgdHJ1ZSkudGhlbigoZGF0YTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUu6K6w5b2V5byA5ZCvMeasoeijheWkh+eahOasoeaVsCk7XHJcbiAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLui/m+ihjDHmrKHlvIDlkK/oo4XlpIcpO1xyXG4gICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ov5vooYwxMOasoeW8gOWQr+ijheWkhyk7XHJcbiAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLue0r+iuoeiOt+W+l1jku7boo4XlpIcpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJld2FyZEl0ZW0gPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKGRhdGFbMF0uZHJvcElkLCBkYXRhWzBdLmRyb3BOdW0pO1xyXG4gICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKGRhdGFbMF0uZHJvcElkLCBkYXRhWzBdLmRyb3BOdW0pO1xyXG4gICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zYXZlQWxsUHJvcE51bSgpO1xyXG4gICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93R2V0VGlwKHJld2FyZEl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bSh0aGlzLnByaXplRXF1aXBEYXRhVGVtcC5PbmVEcmF3UHJvcHNJRF8xKSA+PSB0aGlzLnByaXplRXF1aXBEYXRhVGVtcC5PbmVEcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcXVpcEl0ZW1UZW1wLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHRoaXMucHJpemVFcXVpcERhdGFUZW1wLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXF1aXBJdGVtVGVtcC5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHRoaXMucHJpemVFcXVpcERhdGFUZW1wLk9uZURyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXF1aXBJdGVtVGVtcC5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZCh0aGlzLnByaXplRXF1aXBEYXRhVGVtcC5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVxdWlwSXRlbVRlbXAuZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyB0aGlzLnByaXplRXF1aXBEYXRhVGVtcC5PbmVEcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0odGhpcy5wcml6ZUVxdWlwRGF0YVRlbXAuT25lRHJhd1Byb3BzSURfMSkgPj0gdGhpcy5wcml6ZUVxdWlwRGF0YVRlbXAuVGVuRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXF1aXBJdGVtVGVtcC5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMTBcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQodGhpcy5wcml6ZUVxdWlwRGF0YVRlbXAuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcXVpcEl0ZW1UZW1wLmdldENoaWxkQnlOYW1lKFwibnVtMTBcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHRoaXMucHJpemVFcXVpcERhdGFUZW1wLlRlbkRyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXF1aXBJdGVtVGVtcC5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMTBcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQodGhpcy5wcml6ZUVxdWlwRGF0YVRlbXAuT25lRHJhd1Byb3BzSURfMik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcXVpcEl0ZW1UZW1wLmdldENoaWxkQnlOYW1lKFwibnVtMTBcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHRoaXMucHJpemVFcXVpcERhdGFUZW1wLlRlbkRyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaWYoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc1NwZW5kXzEpe1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgLy8gfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgb25TaGlwaW5Db21wKCk6dm9pZHtcclxuICAgICAgICBsZXQgc3RvcmVJdGVtSW5mbyA9IENvbW1vZGl0eUluZm9ybWF0aW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEpzb25Db21tb2RpdHlJbmZvcm1hdGlvbih0aGlzLmluZm9ybWF0aW9uVGVtcClcclxuICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLuWVhuW6l+S4rei0reS5sOeJqeWTgTHmrKEpO1xyXG4gICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u5YmN5b6A5ZWG5Z+O6LSt5LmwWOasoeWVhuWTgSk7XHJcbiAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKHN0b3JlSXRlbUluZm8uR2V0SXRlbSwgc3RvcmVJdGVtSW5mby5HZXROdW0pO1xyXG4gICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKHN0b3JlSXRlbUluZm8uR2V0SXRlbSwgc3RvcmVJdGVtSW5mby5HZXROdW0pO1xyXG4gICAgICAgIGxldCBudW0gPSBUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldE51bWJlcihTdG9yYWdlS2V5LlN0b3JlRGFpbHlTaG9wTnVtICsgdGhpcy5pbmZvcm1hdGlvbkssIDApO1xyXG4gICAgICAgIG51bSsrO1xyXG4gICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS7lnKjmr4/ml6XllYblupfkuK3kvb/nlKjlub/lkYrotK3kubDpkrvnn7PnmoTmrKHmlbApO1xyXG4gICAgICAgIFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2V0SXRlbShTdG9yYWdlS2V5LlN0b3JlRGFpbHlTaG9wTnVtICsgdGhpcy5pbmZvcm1hdGlvbkssIG51bSk7XHJcbiAgICAgICAgaWYgKG51bSA+PSBzdG9yZUl0ZW1JbmZvLkFkUGxheWFibGVUaW1lcykge1xyXG4gICAgICAgICAgICB0aGlzLmFkSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmFkSXRlbS5nZXRDaGlsZEJ5TmFtZShcImZyZWVcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuYWRJdGVtLmdldENoaWxkQnlOYW1lKFwic2FsZU91dFwiKS56SW5kZXggPSAxO1xyXG4gICAgICAgICAgICB0aGlzLmFkSXRlbS5nZXRDaGlsZEJ5TmFtZShcInNhbGVPdXRcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5hZEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJyZWRcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIEV2ZW50TWFuYWdlci5wb3N0UmVkRXZlbnQoUmVkRXZlbnRTdHJpbmcuUkVEX0NIRUNLLCBSZWRFdmVudFR5cGUuQnRuX1Nob3ApO1xyXG4gICAgICAgICAgICBsZXQgdHlwZSA9IEl0ZW1NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0VHlwZShzdG9yZUl0ZW1JbmZvLkdldEl0ZW0pXHJcbiAgICAgICAgICAgIGlmICh0eXBlID09IDMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRJdGVtLmdldENoaWxkQnlOYW1lKFwicmV3YXJkXCIpLmdldENvbXBvbmVudChFcXVpcEl0ZW0pLnByb3BfYWN0aW9uID0gUHJvcEFjdGlvbi5OdWxsO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJyZXdhcmRcIikuZ2V0Q29tcG9uZW50KFByb3ApLnByb3BfYWN0aW9uID0gUHJvcEFjdGlvbi5OdWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuYWRJdGVtLm9mZihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUu5q+P5pel5ZWG5bqX5Lit5oiQ5Yqf6LSt5Lmw54mp5ZOB55qE5qyh5pWwKTtcclxuICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dHZXRUaXAocmV3YXJkKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gaXRlbTpjYy5Ob2RlLHY6SnNvbkRpYW1vbmRzUmVjaGFyZ2VcclxuICAgIG9uR2VtQnRuQ2xpY2soZSwgaWQ6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBpdGVtID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwic2Nyb2xsXCIpLmdldENvbXBvbmVudChjYy5TY3JvbGxWaWV3KS5jb250ZW50LmdldENoaWxkQnlOYW1lKFwiZ2VtUm9vdFwiKS5nZXRDaGlsZEJ5TmFtZShcImdlbVwiICsgaWQpO1xyXG4gICAgICAgIGxldCB2OiBKc29uRGlhbW9uZHNSZWNoYXJnZSA9IERpYW1vbmRzUmVjaGFyZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SnNvbkRpYW1vbmRzUmVjaGFyZ2UoTnVtYmVyKGlkKSk7XHJcbiAgICAgICAgQXBrTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dQYXkoe1xyXG4gICAgICAgICAgICByZXN1bHQ6IChpc0R5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNEeSkge1xyXG4gICAgICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS546ZK755+z54K55Ye76LSt5Lmw5qyh5pWwICsgdi5Qcm9kdWN0SWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0cmluZyhTdG9yYWdlS2V5LlN0b3JlR2VtSXRlbSArIHYuUmVjaGFyZ2VJRCwgJycpID09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKFByb3BJZC5HZW0sIHYuRGlhbW9uZHNOdW0gKyB2LkdldERpYW1vbmRzTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKFByb3BJZC5HZW0sIHYuRGlhbW9uZHNOdW0gKyB2LkdldERpYW1vbmRzTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zZXRJdGVtKFN0b3JhZ2VLZXkuU3RvcmVHZW1JdGVtICsgdi5SZWNoYXJnZUlELCAnMScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBVc2VySW5mby5nZXRJbnN0YW5jZSgpLnBheUdlbSArPSB2LkRpYW1vbmRzTnVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBIdHRwTWFuYWdlci5wb3N0KEFjY2Vzc05hbWUudXBkYXRlVXNlckluZm8sIHRoaXMuc2V0Q3VtdWxhdGl2ZVJlY2hhcmdlSnNvblN0cmluZyh2LkRpYW1vbmRzTnVtKSkudGhlbigoZGF0YTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVc2VySW5mby5nZXRJbnN0YW5jZSgpLnJlZnJlc2hEYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDdW11bGF0aXZlUmVjaGFyZ2VzTWFuYWdlci5nZXRJbnN0YW5jZSgpLnJlZnJlc2hEYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKCdiZycpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKCd0aXAnKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93R2V0VGlwKHJld2FyZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJld2FyZCA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlUHJvcEl0ZW0oUHJvcElkLkdlbSwgdi5EaWFtb25kc051bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShQcm9wSWQuR2VtLCB2LkRpYW1vbmRzTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVXNlckluZm8uZ2V0SW5zdGFuY2UoKS5wYXlHZW0gKz0gdi5EaWFtb25kc051bTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgSHR0cE1hbmFnZXIucG9zdChBY2Nlc3NOYW1lLnVwZGF0ZVVzZXJJbmZvLCB0aGlzLnNldEN1bXVsYXRpdmVSZWNoYXJnZUpzb25TdHJpbmcodi5EaWFtb25kc051bSkpLnRoZW4oKGRhdGE6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVXNlckluZm8uZ2V0SW5zdGFuY2UoKS5yZWZyZXNoRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3VtdWxhdGl2ZVJlY2hhcmdlc01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5yZWZyZXNoRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93R2V0VGlwKHJld2FyZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgdi5Qcm9kdWN0SWQpXHJcbiAgICB9XHJcblxyXG4gICAgcmVmcmVzaFN0b3JlKCkge1xyXG4gICAgICAgIGxldCBjb250ZW50ID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwic2Nyb2xsXCIpLmdldENvbXBvbmVudChjYy5TY3JvbGxWaWV3KS5jb250ZW50O1xyXG4gICAgICAgIGxldCBnZW1Sb290ID0gY29udGVudC5nZXRDaGlsZEJ5TmFtZShcImdlbVJvb3RcIik7XHJcbiAgICAgICAgbGV0IGdlbURhdGEgPSBEaWFtb25kc1JlY2hhcmdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEpzb25EYXRhKClcclxuICAgICAgICBnZW1EYXRhLmZvckVhY2goKHYsIGspID0+IHtcclxuICAgICAgICAgICAgbGV0IGl0ZW0gPSBnZW1Sb290LmdldENoaWxkQnlOYW1lKCdnZW0nICsgdi5SZWNoYXJnZUlEKTtcclxuICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInRpdGxlXCIpLmdldENvbXBvbmVudChUZXh0TGFuZ3VhZ2UpLnNldFRleHRJZCg0MDAwMDIpO1xyXG4gICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwidGl0bGVcIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc3RyaW5nID0gdi5EaWFtb25kc051bSArIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJ0aXRsZVwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zdHJpbmc7XHJcbiAgICAgICAgICAgIGxldCBwYXlJbmZvID0gUGF5TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFBheUluZm8odi5Qcm9kdWN0SWQpO1xyXG4gICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwibnVtXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gcGF5SW5mby5wcmljZTtcclxuICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZSgnaWNvbicpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gdGhpcy5zdG9yZV91aS5nZXRTcHJpdGVGcmFtZShcIlNob3BfSWNvbl9HZW1fXCIgKyAodi5SZWNoYXJnZUlEIC0gMSkpO1xyXG4gICAgICAgICAgICBpZiAoVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdHJpbmcoU3RvcmFnZUtleS5TdG9yZUdlbUl0ZW0gKyB2LlJlY2hhcmdlSUQsICcnKSA9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZSgnYmcnKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZSgndGlwJykuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJ0aXBcIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc2V0VGV4dElkKDE0MTAwMDQpO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInRpcFwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zZXRSZXBsYWNlVmFsdWUoJ34nLCB2LkdldERpYW1vbmRzTnVtICsgJycpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZSgnYmcnKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoJ3RpcCcpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGl0ZW0ub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCk7XHJcbiAgICAgICAgICAgIC8vIGl0ZW0ub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCgpPT57XHJcbiAgICAgICAgICAgIC8vICAgICBpdGVtLnNjYWxlID0gMTtcclxuICAgICAgICAgICAgLy8gICAgIEFwa01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93UGF5KHtcclxuICAgICAgICAgICAgLy8gICAgICAgICByZXN1bHQ6KGlzRHkpPT4ge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBpZihpc0R5KXtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS546ZK755+z54K55Ye76LSt5Lmw5qyh5pWwICsgdi5Qcm9kdWN0SWQpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgaWYoVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdHJpbmcoU3RvcmFnZUtleS5TdG9yZUdlbUl0ZW0gKyB2LlJlY2hhcmdlSUQsJycpID09ICcnKXtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShQcm9wSWQuR2VtLHYuRGlhbW9uZHNOdW0gKyB2LkdldERpYW1vbmRzTnVtKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0oUHJvcElkLkdlbSx2LkRpYW1vbmRzTnVtICsgdi5HZXREaWFtb25kc051bSk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zZXRJdGVtKFN0b3JhZ2VLZXkuU3RvcmVHZW1JdGVtICsgdi5SZWNoYXJnZUlELCcxJyk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZSgnYmcnKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKCd0aXAnKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dHZXRUaXAocmV3YXJkKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKFByb3BJZC5HZW0sdi5EaWFtb25kc051bSk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKFByb3BJZC5HZW0sdi5EaWFtb25kc051bSk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93R2V0VGlwKHJld2FyZCk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICB9LHYuUHJvZHVjdElkKVxyXG4gICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRSYW5kb21JbnQobWluLCBtYXgpIHtcclxuICAgICAgICBtaW4gPSBNYXRoLmNlaWwobWluKTtcclxuICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjsgLy/kuI3lkKvmnIDlpKflgLzvvIzlkKvmnIDlsI/lgLxcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gdHlwZSDmir3lpZbnsbvlnosgMS3ljZXmir0gMi3ljYHov57mir1cclxuICAgICAqIEBwYXJhbSBkcmF3VHllcCDmir3lpZbnsbvlnosgMS3oi7Hpm4Qs6Iux6ZuE56KO54mHIDIt6KOF5aSHIDMt54G15a6gXHJcbiAgICAgKiBAcGFyYW0gY29zdElkIOa2iOiAl+mBk+WFt2lkXHJcbiAgICAgKiBAcGFyYW0gY29zdE51bSDmtojogJfpgZPlhbfmlbDph49cclxuICAgICAqIEByZXR1cm5zIFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFByaXplSnNvblN0cmluZyh0eXBlOiBudW1iZXIsIGRyYXdUeWVwOiBudW1iZXIsIGNvc3RJZDogbnVtYmVyLCBjb3N0TnVtOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCB1aWQgPSBVc2VyRGF0YS5nZXRJbnN0YW5jZSgpLmdldFVzZXJJRCgpO1xyXG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgIHVpZDogdWlkLFxyXG4gICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICBkcmF3VHlwZTogZHJhd1R5ZXAsXHJcbiAgICAgICAgICAgIGl0ZW1zSWQ6IGNvc3RJZCxcclxuICAgICAgICAgICAgbWludXNOdW06IGNvc3ROdW0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25SZWZyZXNoSW5zdGFuY2VJdGVtKCkge1xyXG5cclxuICAgICAgICBsZXQgcHJpemVIZXJvRGF0YSA9IERyYXdDYXJkSW5mb3JtYXRpb25NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SnNvbkRyYXdDYXJkSW5mb3JtYXRpb24oMTAwMSk7XHJcbiAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICB0aGlzLmhlcm9faW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgdGhpcy5oZXJvX2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGVyb19pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICB0aGlzLmhlcm9faW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVIZXJvRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGVyb19pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMTBcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgdGhpcy5oZXJvX2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwibnVtMTBcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplSGVyb0RhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmhlcm9faW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMik7XHJcbiAgICAgICAgICAgIHRoaXMuaGVyb19pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUhlcm9EYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaGVyb19pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcIkljb25OdW1cIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcIlhcIiArIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bSg0MDAwNCk7XHJcblxyXG4gICAgICAgIGxldCBwcml6ZVBldERhdGEgPSBEcmF3Q2FyZEluZm9ybWF0aW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEpzb25EcmF3Q2FyZEluZm9ybWF0aW9uKDMwMDEpO1xyXG4gICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGV0X2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgdGhpcy5wZXRfaW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBldF9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMik7XHJcbiAgICAgICAgICAgIHRoaXMucGV0X2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucGV0X2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwicmljaEJnXCIpLmNoaWxkcmVuWzFdLmNoaWxkcmVuWzFdLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJYXCIgKyBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0oNDAwMDYpO1xyXG5cclxuICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZVBldERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICB0aGlzLnBldF9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMTBcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICB0aGlzLnBldF9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZVBldERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBldF9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMTBcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICB0aGlzLnBldF9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZVBldERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBvbmVEYXlUaW1lID0gNjAgKiA2MCAqIDI0ICogMTAwMDtcclxuICAgICAgICBsZXQgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIGxldCBwcml6ZUVxdWlwRGF0YSA9IERyYXdDYXJkSW5mb3JtYXRpb25NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SnNvbkRyYXdDYXJkSW5mb3JtYXRpb24oMjAwMSk7XHJcbiAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgIHRoaXMud2VhcG9uX2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICB0aGlzLndlYXBvbl9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy53ZWFwb25faW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMik7XHJcbiAgICAgICAgICAgIHRoaXMud2VhcG9uX2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVFcXVpcERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICB0aGlzLndlYXBvbl9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMTBcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgIHRoaXMud2VhcG9uX2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwibnVtMTBcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplRXF1aXBEYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy53ZWFwb25faW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICB0aGlzLndlYXBvbl9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUVxdWlwRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLndlYXBvbl9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcInJpY2hCZ1wiKS5jaGlsZHJlblsxXS5jaGlsZHJlblsxXS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwiWFwiICsgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKDQwMDA1KTtcclxuXHJcbiAgICAgICAgLy8gb25lRGF5VGltZSA9IDYwKjYwKjI0KjEwMDA7XHJcbiAgICAgICAgLy8gY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIGlmIChUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldE51bWJlcihTdG9yYWdlS2V5LlN0b3JlTXlzdGVyeUVxdWlwRnJlZVRpbWUsIDApICsgb25lRGF5VGltZSAtIGN1cnJlbnRUaW1lIDw9IDApIHtcclxuICAgICAgICAgICAgLy8g5YWN6LS5XHJcbiAgICAgICAgICAgIHRoaXMud2VhcG9uX2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy53ZWFwb25faW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJmcmVlXCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMud2VhcG9uX2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gdGhpcy5zdG9yZV91aS5nZXRTcHJpdGVGcmFtZShcIlNob3BfSWNvbl9BRFNcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy53ZWFwb25faW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMud2VhcG9uX2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwiZnJlZVwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRDdW11bGF0aXZlUmVjaGFyZ2VKc29uU3RyaW5nKGFkZE51bTogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgdWlkID0gVXNlckRhdGEuZ2V0SW5zdGFuY2UoKS5nZXRVc2VySUQoKTtcclxuICAgICAgICBsZXQgbnVtID0gYWRkTnVtO1xyXG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgIHR5cGU6IDgsXHJcbiAgICAgICAgICAgIHVpZDogdWlkLFxyXG4gICAgICAgICAgICB2YWx1ZTogbnVtLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0U2F2ZUdhbWVUYXNrSnNvblN0cmluZyhpbmRleDogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgdWlkID0gVXNlckRhdGEuZ2V0SW5zdGFuY2UoKS5nZXRVc2VySUQoKTtcclxuICAgICAgICBsZXQgbnVtID0gaW5kZXg7XHJcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgdWlkOiB1aWQsXHJcbiAgICAgICAgICAgIHBsYXlMZXZlbDogbnVtLFxyXG4gICAgICAgICAgICByZXdhcmRUeXBlOiAxMCxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn1cclxuIl19