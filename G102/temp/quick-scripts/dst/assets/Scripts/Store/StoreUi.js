
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/Store/StoreUi.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2c3a3IWd75Pb7xy3nheaKWn', 'StoreUi');
// Scripts/Store/StoreUi.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var WXManagerEX_1 = require("../../startscene/WXManagerEX");
var HttpManager_1 = require(".././NetWork/HttpManager");
var CumulativeRecharges_1 = require("../AccumulatedRecharge/CumulativeRecharges");
var ApkManager_1 = require("../Ads/ApkManager");
var CoinPop_1 = require("../CoinPop");
var Constants_1 = require("../Constants");
var EquipItem_1 = require("../Equipment/Ui/EquipItem");
var GameData_1 = require("../GameData");
var GameManager_1 = require("../GameManager");
var HeroManager_1 = require("../Hero/Data/HeroManager");
var HeroConfig_1 = require("../Hero/Game/HeroConfig");
var FunctionDefinition_1 = require("../JsonData/FunctionDefinition");
var LevelJsonData_1 = require("../JsonData/LevelJsonData");
var LevelManager_1 = require("../Level/LevelManager");
var MissionLevel_1 = require("../Level/MissionLevel");
var FollowConstants_1 = require("../multiLanguage/FollowConstants");
var FollowManager_1 = require("../multiLanguage/FollowManager");
var LanguageConstants_1 = require("../multiLanguage/LanguageConstants");
var LanguageManager_1 = require("../multiLanguage/LanguageManager");
var TextLanguage_1 = require("../multiLanguage/TextLanguage");
var PayManager_1 = require("../Payment/PayManager");
var Item_1 = require("../Prop/Data/Item");
var Prop_1 = require("../Prop/Prop");
var PropConfig_1 = require("../Prop/PropConfig");
var PropManager_1 = require("../Prop/PropManager");
var StorageConfig_1 = require("../Storage/StorageConfig");
var StorageManager_1 = require("../Storage/StorageManager");
var TaskEnum_1 = require("../Task/TaskEnum");
var TaskManager_1 = require("../Task/TaskManager");
var EventManager_1 = require("../Tools/EventManager");
var MyTool_1 = require("../Tools/MyTool");
var Turmtable_1 = require("../Turntable/Turmtable");
var TutorailsManager_1 = require("../Tutorials/TutorailsManager");
var MainUi_1 = require("../UI/home/MainUi");
var UIConfig_1 = require("../UI/UIConfig");
var UIManager_1 = require("../UI/UIManager");
var UserData_1 = require("../UserData");
var UserInfo_1 = require("../UserInfo/UserInfo");
var CommodityInformation_1 = require("./CommodityInformation");
var DailyShop_1 = require("./DailyShop");
var DiamondsRecharge_1 = require("./DiamondsRecharge");
var DrawCardInformation_1 = require("./DrawCardInformation");
var ProbabilityTipUi_1 = require("./ProbabilityTipUi");
var PurchaseCoins_1 = require("./PurchaseCoins");
var StoreHeroUi_1 = require("./StoreHeroUi");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var StoreUi = /** @class */ (function (_super) {
    __extends(StoreUi, _super);
    function StoreUi() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.store_title = null;
        _this.store_chapter_item = null;
        _this.store_hero_item = null;
        _this.store_daily_item = null;
        _this.store_pet_item = null;
        _this.store_equip_item = null;
        _this.store_gem_item = null;
        _this.store_coin_item = null;
        _this.store_ui = null;
        // 私有数据
        _this.hero_instance = null;
        _this.weapon_instance = null;
        _this.pet_instance = null;
        _this.adItem = null;
        _this.informationTemp = 0;
        _this.informationK = 0;
        _this.equipItemTemp = null;
        _this.costIdTemp = 0;
        return _this;
    }
    StoreUi.prototype.onLoad = function () {
        this.node.on(cc.Node.EventType.POSITION_CHANGED, this.onPositionChange, this);
        cc.director.on(LanguageConstants_1.OnLanguageChange, this.initStore, this);
        if (WXManagerEX_1.default.getInstance().statusBarHeight > 20) {
            this.node.getComponent(cc.Widget).top = 150;
        }
        this.initStore();
        cc.director.on(WXManagerEX_1.WXADEnvnt.ZUANSHILINGQUSHIPIN, this.onShipinComp, this);
        cc.director.on(WXManagerEX_1.WXADEnvnt.ZHUANGBEICHOUJIANG, this.onSHipincomp2, this);
        cc.director.on(WXManagerEX_1.WXADEnvnt.ZHUANGBEICHOUJIANG, this.onShipincomp3, this);
    };
    StoreUi.prototype.onDestroy = function () {
        this.node.off(cc.Node.EventType.POSITION_CHANGED, this.onPositionChange, this);
        cc.director.off(LanguageConstants_1.OnLanguageChange, this.initStore, this);
        cc.director.off("onRefreshInstanceItem");
        cc.director.off(WXManagerEX_1.WXADEnvnt.ZUANSHILINGQUSHIPIN, this.onShipinComp, this);
        cc.director.off(WXManagerEX_1.WXADEnvnt.ZHUANGBEICHOUJIANG, this.onSHipincomp2, this);
        cc.director.off(WXManagerEX_1.WXADEnvnt.ZHUANGBEICHOUJIANG, this.onShipincomp3, this);
    };
    StoreUi.prototype.onPositionChange = function () {
        if (this.node.x == 0) {
            this.onEnable();
        }
    };
    StoreUi.prototype.onEnable = function () {
        FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.商城商城页点击次数);
        //this.refreshStore();
        //this.checkTutorails();
    };
    StoreUi.prototype.checkTutorails = function () {
        if (TutorailsManager_1.default.getInstance().is_tutorails_state && TutorailsManager_1.default.getInstance().isShowTutorials(222) && LevelManager_1.LevelManager.getInstance().finish_level >= 3) {
            TutorailsManager_1.default.getInstance().is_tutorails_state = true;
            this.scheduleOnce(function () {
                var store_ui = cc.find('Canvas/store_ui/scroll');
                var content = store_ui.getComponent(cc.ScrollView).content;
                var btn1 = content.getChildByName('heroRoot').getChildByName('heroItem').getChildByName('btn1');
                var wordPos = btn1.parent.convertToWorldSpaceAR(btn1.getPosition());
                var localPos = cc.find('Canvas/Ui_Root').convertToNodeSpaceAR(wordPos);
                localPos.x -= cc.find('Canvas/store_ui').x;
                TutorailsManager_1.default.getInstance().showTutorials(222, null, function () {
                    if (PropManager_1.PropManager.getInstance().changePropNum(40004, -1)) {
                        if (HeroManager_1.HeroManager.getInstance().getHeroInfo(HeroConfig_1.Hero_Type.DeLuYi) == null) {
                            var rewardList_1 = new Array();
                            var rd = new LevelJsonData_1.RewardHeroData();
                            rd.dropId = 110004;
                            rd.dropNum = 1;
                            rewardList_1.push(rd);
                            HeroManager_1.HeroManager.getInstance().addHero(HeroConfig_1.Hero_Type.DeLuYi);
                            HeroManager_1.HeroManager.getInstance().reportHeroList();
                            var teamList = HeroManager_1.HeroManager.getInstance().getTeamList(Constants_1.GameMode.Main);
                            teamList[1] = HeroConfig_1.Hero_Type.DeLuYi;
                            HeroManager_1.HeroManager.getInstance().saveTeamList(Constants_1.GameMode.Main, teamList);
                            TutorailsManager_1.default.getInstance().saveTutorials(222);
                            TutorailsManager_1.default.getInstance().saveTutorials(223);
                            UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.StoreHeroUi, UIConfig_1.UILayerLevel.One, {
                                onCompleted: function (uiNode) {
                                    uiNode.getComponent(StoreHeroUi_1.default).init({
                                        onClose: function () {
                                            //直接进入游戏
                                            cc.find('Canvas/main_ui').getComponent(MainUi_1.default).startGame();
                                        }
                                    });
                                    uiNode.getComponent(StoreHeroUi_1.default).initData(rewardList_1);
                                },
                            });
                        }
                    }
                }, false, null, localPos);
            }, 0.1);
        }
    };
    StoreUi.prototype.initStore = function () {
        var _this = this;
        var content = this.node.getChildByName("scroll").getComponent(cc.ScrollView).content;
        content.removeAllChildren();
        cc.director.off("onRefreshInstanceItem");
        cc.director.on("onRefreshInstanceItem", this.onRefreshInstanceItem, this);
        // 章节礼包
        //#region 
        var title = cc.instantiate(this.store_title);
        title.getComponentInChildren(TextLanguage_1.default).setTextId(1430001);
        title.name = "chapterTitle";
        content.addChild(title);
        var chapterRoot = new cc.Node();
        chapterRoot.name = 'chapterRoot';
        chapterRoot.height = this.store_chapter_item.data.height;
        chapterRoot.width = (this.store_chapter_item.data.width + 20) * 3;
        var chapterRight = new cc.Node();
        var chapterLeft = new cc.Node();
        chapterRight.addComponent(cc.Sprite).spriteFrame = this.store_ui.getSpriteFrame("Shop_Arrow");
        chapterLeft.addComponent(cc.Sprite).spriteFrame = this.store_ui.getSpriteFrame("Shop_Arrow");
        chapterLeft.scaleX = -1;
        chapterRoot.addChild(chapterRight);
        chapterRoot.addChild(chapterLeft);
        chapterRight.x = 345;
        chapterLeft.x = -345;
        chapterLeft.active = false;
        // let chapterData = ChapterPackManager.getInstance().getJsonData();
        // chapterData.forEach((v, k) => {
        //     if (TheStorageManager.getInstance().getString(StorageKey.StoreChapterItem + v.Chapter, '') == '' && (LevelManager.getInstance().getFinishChapter()) >= v.Chapter) {
        //         let item = cc.instantiate(this.store_chapter_item);
        //         item.name = "chapterItem" + v.Chapter;
        //         if (v.Chapter == 1) {
        //             item.getChildByName("title").getComponent(TextLanguage).setTextId(1430002);
        //         } else {
        //             item.getChildByName("title").getComponent(TextLanguage).setTextId(1430003);
        //             item.getChildByName("title").getComponent(TextLanguage).setReplaceValue('~', v.Chapter + '');
        //         }
        //         let payInfo = PayManager.getInstance().getPayInfo(v.ProductId);
        //         item.getChildByName("originPrice").getComponent(cc.Label).string = payInfo.currency + (MyTool.getNumberFromString(payInfo.price) * v.InitialPrice);
        //         item.getChildByName("payBtn").getComponentInChildren(cc.Label).string = payInfo.price;
        //         let propRoot = item.getChildByName("itemRoot");
        //         if (v.GetCoinNum != 0) {
        //             let reward = PropManager.getInstance().createPropItem(PropId.Coin, v.GetCoinNum);
        //             reward.scale = 0.75;
        //             propRoot.addChild(reward);
        //         }
        //         if (v.GetGemNum != 0) {
        //             let reward = PropManager.getInstance().createPropItem(PropId.Gem, v.GetGemNum);
        //             reward.scale = 0.75;
        //             propRoot.addChild(reward);
        //         }
        //         if (v.ItemId_1 != 0) {
        //             let reward = PropManager.getInstance().createPropItem(v.ItemId_1, v.ItemNum_1);
        //             reward.scale = 0.75;
        //             propRoot.addChild(reward);
        //         }
        //         if (v.ItemId_2 != 0) {
        //             let reward = PropManager.getInstance().createPropItem(v.ItemId_2, v.ItemNum_2);
        //             reward.scale = 0.75;
        //             propRoot.addChild(reward);
        //         }
        //         chapterRoot.addChild(item);
        //         if (chapterRoot.childrenCount == 3) {
        //             chapterRoot.children[2].x = 0;
        //         } else {
        //             chapterRoot.children[chapterRoot.childrenCount - 1].x = 2 * chapterRoot.children[chapterRoot.childrenCount - 1].width;
        //         }
        //         let btn = item.getChildByName("payBtn");
        //         btn.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        //         btn.getComponent(cc.Button).duration = 0.1;
        //         btn.getComponent(cc.Button).zoomScale = 0.9;
        //         btn.on(cc.Node.EventType.TOUCH_END, () => {
        //             ApkManager.getInstance().showPay({
        //                 result: (isDy) => {
        //                     if (isDy) {
        //                         FollowManager.getInstance().followEvent(Follow_Type.商城章节礼包x章点击购买次数 + v.Chapter);
        //                         let rewardList = [];
        //                         if (v.GetCoinNum != 0) {
        //                             PropManager.getInstance().changePropNum(PropId.Coin, v.GetCoinNum)
        //                             let reward = PropManager.getInstance().createPropItem(PropId.Coin, v.GetCoinNum);
        //                             rewardList.push(reward);
        //                         }
        //                         if (v.GetGemNum != 0) {
        //                             PropManager.getInstance().changePropNum(PropId.Gem, v.GetGemNum)
        //                             let reward = PropManager.getInstance().createPropItem(PropId.Gem, v.GetGemNum);
        //                             rewardList.push(reward);
        //                         }
        //                         if (v.ItemId_1 != 0) {
        //                             PropManager.getInstance().changePropNum(v.ItemId_1, v.ItemNum_1)
        //                             let reward = PropManager.getInstance().createPropItem(v.ItemId_1, v.ItemNum_1);
        //                             rewardList.push(reward);
        //                         }
        //                         if (v.ItemId_2 != 0) {
        //                             PropManager.getInstance().changePropNum(v.ItemId_2, v.ItemNum_2)
        //                             let reward = PropManager.getInstance().createPropItem(v.ItemId_2, v.ItemNum_2);
        //                             rewardList.push(reward);
        //                         }
        //                         GameManager.getInstance().showMultipleGetTip(rewardList);
        //                         TheStorageManager.getInstance().setItem(StorageKey.StoreChapterItem + v.Chapter, '1')
        //                         chapterRoot.removeChild(item);
        //                         if (chapterRoot.childrenCount == 2) {
        //                             content.getChildByName("chapterTitle").active = false;
        //                             chapterLeft.active = false;
        //                             chapterRight.active = false;
        //                             chapterRoot.active = false;
        //                         } else if (chapterRoot.childrenCount <= 3) {
        //                             chapterLeft.active = false;
        //                             chapterRight.active = false;
        //                             cc.tween(chapterRoot.children[2]).to(0.2, { position: cc.v3(0, 0, 0) }).start().call(() => {
        //                             });
        //                         } else {
        //                             cc.tween(chapterRoot.children[2]).to(0.2, { position: cc.v3(0, 0, 0) }).start().call(() => {
        //                             });
        //                         }
        //                     }
        //                 }
        //             }, v.ProductId)
        //         });
        //     }
        // });
        chapterLeft.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        chapterLeft.getComponent(cc.Button).duration = 0.1;
        chapterLeft.getComponent(cc.Button).zoomScale = 0.9;
        chapterRight.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        chapterRight.getComponent(cc.Button).duration = 0.1;
        chapterRight.getComponent(cc.Button).zoomScale = 0.9;
        var index = 2;
        chapterRight.on(cc.Node.EventType.TOUCH_END, function () {
            index++;
            if (index >= chapterRoot.childrenCount - 1) {
                index = chapterRoot.childrenCount - 1;
                chapterRight.active = false;
            }
            if (index > 2)
                chapterLeft.active = true;
            cc.tween(chapterRoot.children[index]).to(0.2, { position: cc.v3(0, 0, 0) }).start().call(function () {
            });
            cc.tween(chapterRoot.children[index - 1]).to(0.2, { position: cc.v3(-800, 0, 0) }).start().call(function () {
            });
        });
        chapterLeft.on(cc.Node.EventType.TOUCH_END, function () {
            index--;
            if (index <= 2) {
                index = 2;
                chapterLeft.active = false;
            }
            if (index < chapterRoot.childrenCount - 1)
                chapterRight.active = true;
            cc.tween(chapterRoot.children[index]).to(0.2, { position: cc.v3(0, 0, 0) }).start().call(function () {
            });
            cc.tween(chapterRoot.children[index + 1]).to(0.2, { position: cc.v3(800, 0, 0) }).start().call(function () {
            });
        });
        if (chapterRoot.childrenCount <= 3) {
            chapterLeft.active = false;
            chapterRight.active = false;
        }
        if (chapterRoot.childrenCount == 2) {
            content.getChildByName("chapterTitle").active = false;
            chapterRoot.active = false;
        }
        else {
            content.getChildByName("chapterTitle").active = true;
            chapterRoot.active = true;
        }
        content.addChild(chapterRoot);
        //#endregion
        // 英雄招募
        title = cc.instantiate(this.store_title);
        title.getComponentInChildren(TextLanguage_1.default).setTextId(1460011);
        title.name = "mysteryTitle";
        content.addChild(title);
        var heroRoot = new cc.Node();
        heroRoot.name = 'heroRoot';
        heroRoot.height = this.store_hero_item.data.height;
        heroRoot.width = (this.store_hero_item.data.width + 20) * 3;
        var heroItem = cc.instantiate(this.store_hero_item);
        this.hero_instance = heroItem;
        heroItem.name = "heroItem";
        heroItem.getChildByName("richBg").getComponentInChildren(cc.RichText).string = LanguageManager_1.default.getInstance().getStrByTextId(1460002);
        heroItem.getChildByName("IconNum").getComponent(cc.Label).string = "X" + PropManager_1.PropManager.getInstance().getPropNum(40004);
        var prizeHeroData = DrawCardInformation_1.DrawCardInformationManager.getInstance().getJsonDrawCardInformation(1001);
        if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.OneDrawPropsSpend_1) {
            heroItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_1);
            heroItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeHeroData.OneDrawPropsSpend_1;
        }
        else {
            heroItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_2);
            heroItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeHeroData.OneDrawPropsSpend_2;
        }
        if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.TenDrawPropsSpend_1) {
            heroItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_1);
            heroItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeHeroData.TenDrawPropsSpend_1;
        }
        else {
            heroItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_2);
            heroItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeHeroData.TenDrawPropsSpend_2;
        }
        var heroTip = heroItem.getChildByName("name").getChildByName("tip");
        heroTip.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        heroTip.getComponent(cc.Button).duration = 0.1;
        heroTip.getComponent(cc.Button).zoomScale = 0.9;
        heroTip.on(cc.Node.EventType.TOUCH_END, function () {
            UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.ProbabilityTipUi, UIConfig_1.UILayerLevel.One, {
                onCompleted: function (uiNode) {
                    uiNode.getComponent(ProbabilityTipUi_1.default).init(null);
                    uiNode.getComponent(ProbabilityTipUi_1.default).initUi();
                },
            });
        });
        var heroBtn1 = heroItem.getChildByName("btn1");
        var heroBtn10 = heroItem.getChildByName("btn10");
        heroBtn10.getChildByName('red').active = GameData_1.default.getInstance().getHeroRecruitingRedTip();
        heroBtn1.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        heroBtn1.getComponent(cc.Button).duration = 0.1;
        heroBtn1.getComponent(cc.Button).zoomScale = 0.9;
        heroBtn10.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        heroBtn10.getComponent(cc.Button).duration = 0.1;
        heroBtn10.getComponent(cc.Button).zoomScale = 0.9;
        heroBtn1.on(cc.Node.EventType.TOUCH_END, function () {
            var costId = 0;
            var costNum = 0;
            if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.OneDrawPropsSpend_1) {
                costId = prizeHeroData.OneDrawPropsID_1;
                costNum = prizeHeroData.OneDrawPropsSpend_1;
                // 以下为后端未存消费券的处理，当后端存储消费券时，使用上面两行代码
                // PropManager.getInstance().changePropNum(prizeHeroData.OneDrawPropsID_1,-prizeHeroData.OneDrawPropsSpend_1);
                // costId = prizeHeroData.OneDrawPropsID_2;
                // costNum = 0;
                FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.记录招募消耗招募卷数量, prizeHeroData.OneDrawPropsSpend_1);
            }
            else {
                costId = prizeHeroData.OneDrawPropsID_2;
                costNum = prizeHeroData.OneDrawPropsSpend_2;
                FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.记录招募卷消耗钻石数量, costNum);
            }
            // if(PropManager.getInstance().getPropNum(costId) < costNum){
            //     UIManager.getInstance().showUiDialog(UIPath.CoinPop,UILayerLevel.Two,{onCompleted:(uiNode)=> {
            //         uiNode.getComponent(CoinPop).initUi(PropId.Gem)
            //     },});
            //     return;
            // }
            if (PropManager_1.PropManager.getInstance().getPropNum(costId) < costNum) {
                // GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(100041));
                // this.node.getChildByName("scroll").getComponent(cc.ScrollView).scrollToBottom(2);
                UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.Turntable, UIConfig_1.UILayerLevel.One, { onCompleted: function (uiNode) {
                        uiNode.getComponent(Turmtable_1.default).initUi();
                    }, }); //转盘
                return;
            }
            // if(IsDebug) costNum = 0;
            HttpManager_1.HttpManager.post(HttpManager_1.AccessName.tryPrize, _this.getPrizeJsonString(1, 1, costId, costNum), true).then(function (data) {
                if (data) {
                    PropManager_1.PropManager.getInstance().changePropNum(costId, -costNum);
                    GameManager_1.default.getInstance().refreshGemShow();
                    FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.记录单次招募的次数);
                    TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行1次英雄招募);
                    TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行10次英雄招募);
                    TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.招募X次英雄);
                    PropManager_1.PropManager.getInstance().changePropNum(data[0].dropId, data[0].dropNum);
                    HeroManager_1.HeroManager.getInstance().reportHeroList();
                    var type = Item_1.ItemManager.getInstance().getType(data[0].dropId);
                    if (type == 11) {
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.累计招募X个英雄);
                    }
                    PropManager_1.PropManager.getInstance().saveAllPropNum();
                    UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.StoreHeroUi, UIConfig_1.UILayerLevel.One, {
                        onCompleted: function (uiNode) {
                            uiNode.getComponent(StoreHeroUi_1.default).init(null);
                            uiNode.getComponent(StoreHeroUi_1.default).initData(data);
                        },
                    });
                    if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.OneDrawPropsSpend_1) {
                        heroItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_1);
                        heroItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeHeroData.OneDrawPropsSpend_1;
                    }
                    else {
                        heroItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_2);
                        heroItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeHeroData.OneDrawPropsSpend_2;
                    }
                    if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.TenDrawPropsSpend_1) {
                        heroItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_1);
                        heroItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeHeroData.TenDrawPropsSpend_1;
                    }
                    else {
                        heroItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_2);
                        heroItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeHeroData.TenDrawPropsSpend_2;
                    }
                }
            });
        });
        heroBtn10.on(cc.Node.EventType.TOUCH_END, function () {
            var costId = 0;
            var costNum = 0;
            if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.TenDrawPropsSpend_1) {
                costId = prizeHeroData.OneDrawPropsID_1;
                costNum = prizeHeroData.TenDrawPropsSpend_1;
                // 以下为后端未存消费券的处理，当后端存储消费券时，使用上面两行代码
                // PropManager.getInstance().changePropNum(prizeHeroData.OneDrawPropsID_1,-prizeHeroData.TenDrawPropsSpend_1);
                // costId = prizeHeroData.OneDrawPropsID_2;
                // costNum = 0;
                FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.记录招募消耗招募卷数量, prizeHeroData.TenDrawPropsSpend_1);
            }
            else {
                costId = prizeHeroData.OneDrawPropsID_2;
                costNum = prizeHeroData.TenDrawPropsSpend_2;
                FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.记录招募卷消耗钻石数量, costNum);
            }
            // if(PropManager.getInstance().getPropNum(costId) < costNum){
            //     UIManager.getInstance().showUiDialog(UIPath.CoinPop,UILayerLevel.Two,{onCompleted:(uiNode)=> {
            //         uiNode.getComponent(CoinPop).initUi(PropId.Gem)
            //     },});
            //     return;
            // }
            if (PropManager_1.PropManager.getInstance().getPropNum(costId) < costNum) {
                // GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(100041));
                // this.node.getChildByName("scroll").getComponent(cc.ScrollView).scrollToBottom(2);
                UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.Turntable, UIConfig_1.UILayerLevel.One, { onCompleted: function (uiNode) {
                        uiNode.getComponent(Turmtable_1.default).initUi();
                    }, }); //转盘
                return;
            }
            // if(IsDebug) costNum = 0;   
            HttpManager_1.HttpManager.post(HttpManager_1.AccessName.tryPrize, _this.getPrizeJsonString(2, 1, costId, costNum), true).then(function (data) {
                if (data) {
                    PropManager_1.PropManager.getInstance().changePropNum(costId, -costNum);
                    GameManager_1.default.getInstance().refreshGemShow();
                    FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.记录十次招募的次数);
                    var length = data.length;
                    for (var i = 0; i < length; i++) {
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行1次英雄招募);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行10次英雄招募);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.招募X次英雄);
                        PropManager_1.PropManager.getInstance().changePropNum(data[i].dropId, data[i].dropNum);
                        var type = Item_1.ItemManager.getInstance().getType(data[i].dropId);
                        if (type == 11) {
                            TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.累计招募X个英雄);
                        }
                    }
                    HeroManager_1.HeroManager.getInstance().reportHeroList();
                    var tempIndex = MyTool_1.default.randomRangeInt(0, 9);
                    var temp = data[9];
                    data[9] = data[tempIndex];
                    data[tempIndex] = temp;
                    PropManager_1.PropManager.getInstance().saveAllPropNum();
                    UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.StoreHeroUi, UIConfig_1.UILayerLevel.One, {
                        onCompleted: function (uiNode) {
                            uiNode.getComponent(StoreHeroUi_1.default).init(null);
                            uiNode.getComponent(StoreHeroUi_1.default).initData(data);
                        },
                    });
                    if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.OneDrawPropsSpend_1) {
                        heroItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_1);
                        heroItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeHeroData.OneDrawPropsSpend_1;
                    }
                    else {
                        heroItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_2);
                        heroItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeHeroData.OneDrawPropsSpend_2;
                    }
                    if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.TenDrawPropsSpend_1) {
                        heroItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_1);
                        heroItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeHeroData.TenDrawPropsSpend_1;
                    }
                    else {
                        heroItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_2);
                        heroItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeHeroData.TenDrawPropsSpend_2;
                    }
                    heroBtn10.getChildByName('red').active = GameData_1.default.getInstance().getHeroRecruitingRedTip();
                    EventManager_1.EventManager.postRedEvent(EventManager_1.RedEventString.RED_CHECK, EventManager_1.RedEventType.Btn_Shop);
                }
            });
        });
        heroRoot.addChild(heroItem);
        content.addChild(heroRoot);
        // 每日商店
        //#region 
        title = cc.instantiate(this.store_title);
        title.getComponentInChildren(TextLanguage_1.default).setTextId(1480001);
        title.name = "dailyStoreTitle";
        content.addChild(title);
        var timeLabel = new cc.Node().addComponent(TextLanguage_1.default);
        timeLabel.node.color = cc.color(255, 242, 206);
        timeLabel.node.anchorX = 1;
        timeLabel.verticalAlign = cc.Label.VerticalAlign.CENTER;
        timeLabel.horizontalAlign = cc.Label.HorizontalAlign.RIGHT;
        timeLabel.enableBold = true;
        timeLabel.fontSize = 24;
        timeLabel.setTextId(100045);
        var timeNum = new cc.Node().addComponent(cc.Label);
        timeNum.node.color = cc.color(79, 255, 70);
        timeNum.node.anchorX = 0;
        timeNum.verticalAlign = cc.Label.VerticalAlign.CENTER;
        timeNum.horizontalAlign = cc.Label.HorizontalAlign.LEFT;
        timeNum.enableBold = true;
        timeNum.fontSize = 24;
        var nowTime = Date.now() / 1000;
        var residueTime = StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.TomorowZeroTimeStamp, 0) - nowTime;
        if (residueTime < 0) {
            residueTime = ((new Date(new Date().toLocaleDateString()).getTime() + 8640000) / 1000) - nowTime;
        }
        var hh = Math.floor(residueTime / (60 * 60));
        if (hh < 10) {
            timeNum.string = '0' + hh + ':';
        }
        else {
            timeNum.string = hh + ':';
        }
        var mm = Math.floor(residueTime % (60 * 60) / 60);
        if (mm < 10) {
            timeNum.string += '0' + mm + ':';
        }
        else {
            timeNum.string += mm + ':';
        }
        var ss = Math.floor(residueTime % (60 * 60) % 60);
        if (ss < 10) {
            timeNum.string += '0' + ss;
        }
        else {
            timeNum.string += ss;
        }
        // 动态刷新一律写在函数的最下方
        var textRoot = new cc.Node();
        textRoot.width = this.node.width;
        textRoot.height = 20;
        textRoot.addChild(timeLabel.node);
        textRoot.addChild(timeNum.node);
        content.addChild(textRoot);
        var dailyStoreRoot = new cc.Node();
        dailyStoreRoot.name = 'dailyStoreRoot';
        dailyStoreRoot.height = this.store_daily_item.data.height * 2 + 10;
        dailyStoreRoot.width = this.node.width;
        content.addChild(dailyStoreRoot);
        var dailyStoreLayout = dailyStoreRoot.addComponent(cc.Layout);
        dailyStoreLayout.type = cc.Layout.Type.GRID;
        dailyStoreLayout.resizeMode = cc.Layout.ResizeMode.CONTAINER;
        dailyStoreLayout.paddingRight = 40;
        dailyStoreLayout.paddingLeft = 40;
        dailyStoreLayout.spacingX = 20;
        dailyStoreLayout.spacingY = 20;
        var dailyData;
        if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreDailyShopId, 0) == 0) {
            var index_1 = this.getRandomInt(1, 4);
            dailyData = DailyShop_1.DailyShopManager.getInstance().getJsonDataByChapterAndInde(LevelManager_1.LevelManager.getInstance().getFinishChapter(), index_1);
            StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreDailyShopId, dailyData.Shop_ID);
        }
        else {
            dailyData = DailyShop_1.DailyShopManager.getInstance().getJsonDailyShop(StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreDailyShopId));
        }
        console.log("每日商店ID:" + dailyData.Shop_ID);
        dailyData.Shoplist.forEach(function (v, k) {
            console.log("每日商店道具" + k + ":" + v);
        });
        dailyData.Shoplist.forEach(function (v, k) {
            var item = cc.instantiate(_this.store_daily_item);
            var storeItemInfo = CommodityInformation_1.CommodityInformationManager.getInstance().getJsonCommodityInformation(v);
            if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreDailyShopNum + k, 0) < storeItemInfo.AdPlayableTimes) {
                // 可购买
                if (CommodityInformation_1.CommodityInformationManager.getInstance().getAdReward(v) == 1) {
                    // 广告商品
                    item.getChildByName("discountIcon").active = false;
                    item.getChildByName("discountNum").active = false;
                    item.getChildByName("price").active = false;
                    item.getChildByName("free").active = true;
                    item.getChildByName("red").active = true;
                    item.getChildByName("costIcon").active = false;
                    item.getChildByName("adicon").active = true;
                    item.getChildByName("name").getComponent(TextLanguage_1.default).setTextId(Item_1.ItemManager.getInstance().getNameTextId(storeItemInfo.GetItem));
                    // let name = item.getChildByName("name").getComponent(cc.Label);
                    // if(ItemManager.getInstance().getJsonItem(storeItemInfo.GetItem).Type==5){
                    //     let valueStr=24;
                    //     let yushu=ItemManager.getInstance().getJsonItem(storeItemInfo.GetItem).ItemID%10-1;
                    //     if(yushu<=4){
                    //         valueStr=Math.pow(2,yushu);
                    //     }
                    //     if(valueStr == 16) valueStr = 24;
                    //     name.getComponent(cc.Label).string=name.getComponent(cc.Label).string.replace('~',valueStr.toString());
                    //     // detailStr=detailStr.replace('~',valueStr.toString());
                    // }
                    var reward = PropManager_1.PropManager.getInstance().createPropItem(storeItemInfo.GetItem, storeItemInfo.GetNum);
                    reward.name = 'reward';
                    item.addChild(reward);
                    item.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
                    item.getComponent(cc.Button).duration = 0.1;
                    item.getComponent(cc.Button).zoomScale = 0.9;
                    item.on(cc.Node.EventType.TOUCH_END, function () {
                        _this.adItem = item;
                        _this.informationTemp = v;
                        _this.informationK = k;
                        if (cc.sys.platform === cc.sys.BYTEDANCE_GAME) {
                            WXManagerEX_1.default.getInstance().zuanshiiShipin = tt.createRewardedVideoAd({
                                adUnitId: 'dbee4b199d912f6onp'
                            });
                            WXManagerEX_1.default.getInstance().zuanshiiShipin.offError();
                            WXManagerEX_1.default.getInstance().zuanshiiShipin.onError(function (err) {
                                console.log(err);
                            });
                            WXManagerEX_1.default.getInstance().zuanshiiShipin.offClose();
                            WXManagerEX_1.default.getInstance().zuanshiiShipin.show().catch(function () {
                                // 失败重试
                                WXManagerEX_1.default.getInstance().zuanshiiShipin.load()
                                    .then(function () { return WXManagerEX_1.default.getInstance().zuanshiiShipin.show(); })
                                    .catch(function (err) {
                                    GameManager_1.default.getInstance().showMessage("广告拉取失败");
                                });
                            });
                            WXManagerEX_1.default.getInstance().zuanshiiShipin.onClose(function (res) {
                                // 用户点击了【关闭广告】按钮
                                // 小于 2.1.0 的基础库版本，res 是一个 undefined
                                if (res && res.isEnded || res === undefined) {
                                    // 正常播放结束，可以下发游戏奖励
                                    _this.onShipinComp();
                                }
                                else {
                                    // 播放中途退出，不下发游戏奖励
                                }
                                WXManagerEX_1.default.getInstance().zuanshiiShipin.destroy();
                            });
                        }
                        else {
                            _this.onShipinComp();
                        }
                    });
                }
                else {
                    // 非广告商品
                    if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreDailyShopDiscount + k, 0) == 0) {
                        // 无折扣需要随机折扣
                        var discountNum_1 = _this.getRandomInt(4, 9);
                        StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreDailyShopDiscount + k, discountNum_1);
                        item.getChildByName("free").active = false;
                        item.getChildByName("red").active = false;
                        EventManager_1.EventManager.postRedEvent(EventManager_1.RedEventString.RED_CHECK, EventManager_1.RedEventType.Btn_Shop);
                        item.getChildByName("costIcon").active = true;
                        item.getChildByName("adicon").active = false;
                        item.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(storeItemInfo.CostItemID);
                        item.getChildByName("price").getComponent(cc.Label).string = 'x' + MyTool_1.default.getCoinDanwei(storeItemInfo.CostNum * discountNum_1 * 0.1);
                        item.getChildByName("name").getComponent(TextLanguage_1.default).setTextId(Item_1.ItemManager.getInstance().getNameTextId(storeItemInfo.GetItem));
                        item.getChildByName("discountNum").getComponent(TextLanguage_1.default).setReplaceValue('~', (100 - discountNum_1 * 10) + '');
                        var reward = PropManager_1.PropManager.getInstance().createPropItem(storeItemInfo.GetItem, storeItemInfo.GetNum);
                        reward.name = 'reward';
                        item.addChild(reward);
                        item.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
                        item.getComponent(cc.Button).duration = 0.1;
                        item.getComponent(cc.Button).zoomScale = 0.9;
                        item.on(cc.Node.EventType.TOUCH_END, function () {
                            if (PropManager_1.PropManager.getInstance().changePropNum(storeItemInfo.CostItemID, -(storeItemInfo.CostNum * discountNum_1 * 0.1))) {
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.商店中购买物品1次);
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.前往商城购买X次商品);
                                PropManager_1.PropManager.getInstance().changePropNum(storeItemInfo.GetItem, storeItemInfo.GetNum);
                                HttpManager_1.HttpManager.post(HttpManager_1.AccessName.saveGameTask, _this.getSaveGameTaskJsonString(k));
                                var reward_1 = PropManager_1.PropManager.getInstance().createPropItem(storeItemInfo.GetItem, storeItemInfo.GetNum);
                                var num = StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreDailyShopNum + k, 0);
                                num++;
                                if (storeItemInfo.CostItemID == PropConfig_1.PropId.Coin) {
                                    FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.在每日商店中消耗的金币数量, (storeItemInfo.CostNum * discountNum_1 * 0.1));
                                    FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.在每日商店中使用金币购买物品的次数);
                                }
                                else {
                                    FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.在每日商店中消耗的钻石数量, (storeItemInfo.CostNum * discountNum_1 * 0.1));
                                    FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.在每日商店中使用钻石购买物品的次数);
                                }
                                StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreDailyShopNum + k, num);
                                if (num >= storeItemInfo.AdPlayableTimes) {
                                    item.getChildByName("costIcon").active = false;
                                    item.getChildByName("price").active = false;
                                    item.getChildByName("discountNum").active = false;
                                    item.getChildByName("discountIcon").active = false;
                                    item.getChildByName("saleOut").zIndex = 1;
                                    item.getChildByName("saleOut").active = true;
                                    var type = Item_1.ItemManager.getInstance().getType(storeItemInfo.GetItem);
                                    if (type == 3) {
                                        item.getChildByName("reward").getComponent(EquipItem_1.default).prop_action = PropConfig_1.PropAction.Null;
                                    }
                                    else {
                                        item.getChildByName("reward").getComponent(Prop_1.default).prop_action = PropConfig_1.PropAction.Null;
                                    }
                                    item.off(cc.Node.EventType.TOUCH_END);
                                }
                                FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.每日商店中成功购买物品的次数);
                                GameManager_1.default.getInstance().showGetTip(reward_1);
                            }
                            else {
                                if (storeItemInfo.CostItemID == PropConfig_1.PropId.Coin) {
                                    UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.CoinPop, UIConfig_1.UILayerLevel.Three, {
                                        onCompleted: function (uiNode) {
                                            uiNode.getComponent(CoinPop_1.default).initUi(PropConfig_1.PropId.Coin);
                                        },
                                    });
                                }
                                else {
                                    UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.CoinPop, UIConfig_1.UILayerLevel.Three, {
                                        onCompleted: function (uiNode) {
                                            uiNode.getComponent(CoinPop_1.default).initUi(PropConfig_1.PropId.Gem);
                                        },
                                    });
                                }
                                // GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(100041));
                                FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.每日商店中购买失败的次数);
                            }
                        });
                    }
                    else {
                        // 有折扣直接读取折扣的大小
                        var discountNum_2 = StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreDailyShopDiscount + k);
                        item.getChildByName("free").active = false;
                        item.getChildByName("red").active = false;
                        EventManager_1.EventManager.postRedEvent(EventManager_1.RedEventString.RED_CHECK, EventManager_1.RedEventType.Btn_Shop);
                        item.getChildByName("costIcon").active = true;
                        item.getChildByName("adicon").active = false;
                        item.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(storeItemInfo.CostItemID);
                        item.getChildByName("price").getComponent(cc.Label).string = 'x' + MyTool_1.default.getCoinDanwei(storeItemInfo.CostNum * discountNum_2 * 0.1);
                        item.getChildByName("name").getComponent(TextLanguage_1.default).setTextId(Item_1.ItemManager.getInstance().getNameTextId(storeItemInfo.GetItem));
                        item.getChildByName("discountNum").getComponent(TextLanguage_1.default).setReplaceValue('~', (100 - discountNum_2 * 10) + '');
                        var reward = PropManager_1.PropManager.getInstance().createPropItem(storeItemInfo.GetItem, storeItemInfo.GetNum);
                        reward.name = 'reward';
                        item.addChild(reward);
                        item.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
                        item.getComponent(cc.Button).duration = 0.1;
                        item.getComponent(cc.Button).zoomScale = 0.9;
                        item.on(cc.Node.EventType.TOUCH_END, function () {
                            if (PropManager_1.PropManager.getInstance().changePropNum(storeItemInfo.CostItemID, -(storeItemInfo.CostNum * discountNum_2 * 0.1))) {
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.商店中购买物品1次);
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.前往商城购买X次商品);
                                PropManager_1.PropManager.getInstance().changePropNum(storeItemInfo.GetItem, storeItemInfo.GetNum);
                                HttpManager_1.HttpManager.post(HttpManager_1.AccessName.saveGameTask, _this.getSaveGameTaskJsonString(k));
                                var reward_2 = PropManager_1.PropManager.getInstance().createPropItem(storeItemInfo.GetItem, storeItemInfo.GetNum);
                                var num = StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreDailyShopNum + k, 0);
                                num++;
                                if (storeItemInfo.CostItemID == PropConfig_1.PropId.Coin) {
                                    FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.在每日商店中消耗的金币数量, (storeItemInfo.CostNum * discountNum_2 * 0.1));
                                    FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.在每日商店中使用金币购买物品的次数);
                                }
                                else {
                                    FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.在每日商店中消耗的钻石数量, (storeItemInfo.CostNum * discountNum_2 * 0.1));
                                    FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.在每日商店中使用钻石购买物品的次数);
                                }
                                StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreDailyShopNum + k, num);
                                if (num >= storeItemInfo.AdPlayableTimes) {
                                    item.getChildByName("costIcon").active = false;
                                    item.getChildByName("price").active = false;
                                    item.getChildByName("discountNum").active = false;
                                    item.getChildByName("discountIcon").active = false;
                                    item.getChildByName("saleOut").zIndex = 1;
                                    item.getChildByName("saleOut").active = true;
                                    var type = Item_1.ItemManager.getInstance().getType(storeItemInfo.GetItem);
                                    if (type == 3) {
                                        item.getChildByName("reward").getComponent(EquipItem_1.default).prop_action = PropConfig_1.PropAction.Null;
                                    }
                                    else {
                                        item.getChildByName("reward").getComponent(Prop_1.default).prop_action = PropConfig_1.PropAction.Null;
                                    }
                                    item.off(cc.Node.EventType.TOUCH_END);
                                }
                                GameManager_1.default.getInstance().showGetTip(reward_2);
                                FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.每日商店中成功购买物品的次数);
                            }
                            else {
                                if (storeItemInfo.CostItemID == PropConfig_1.PropId.Coin) {
                                    UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.CoinPop, UIConfig_1.UILayerLevel.Three, {
                                        onCompleted: function (uiNode) {
                                            uiNode.getComponent(CoinPop_1.default).initUi(PropConfig_1.PropId.Coin);
                                        },
                                    });
                                    // FollowManager.getInstance().addTotal(Follow_Type.在每日商店中消耗的金币数量,(storeItemInfo.CostNum * discountNum * 0.1))
                                    // FollowManager.getInstance().followEvent(Follow_Type.在每日商店中使用金币购买物品的次数);
                                }
                                else {
                                    UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.CoinPop, UIConfig_1.UILayerLevel.Three, {
                                        onCompleted: function (uiNode) {
                                            uiNode.getComponent(CoinPop_1.default).initUi(PropConfig_1.PropId.Gem);
                                        },
                                    });
                                    // FollowManager.getInstance().addTotal(Follow_Type.在每日商店中消耗的钻石数量,(storeItemInfo.CostNum * discountNum * 0.1))
                                    // FollowManager.getInstance().followEvent(Follow_Type.在每日商店中使用钻石购买物品的次数);
                                }
                                // GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(100041));
                                FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.每日商店中购买失败的次数);
                            }
                        });
                    }
                }
            }
            else {
                // 不可购买
                item.getChildByName("costIcon").active = false;
                item.getChildByName("price").active = false;
                item.getChildByName("discountNum").active = false;
                item.getChildByName("discountIcon").active = false;
                item.getChildByName("free").active = false;
                item.getChildByName("red").active = false;
                EventManager_1.EventManager.postRedEvent(EventManager_1.RedEventString.RED_CHECK, EventManager_1.RedEventType.Btn_Shop);
                var reward = PropManager_1.PropManager.getInstance().createPropItem(storeItemInfo.GetItem, storeItemInfo.GetNum, PropConfig_1.PropAction.Null);
                item.addChild(reward);
                item.getChildByName("name").getComponent(TextLanguage_1.default).setTextId(Item_1.ItemManager.getInstance().getNameTextId(storeItemInfo.GetItem));
                item.getChildByName("saleOut").zIndex = 1;
                item.getChildByName("saleOut").active = true;
            }
            dailyStoreRoot.addChild(item);
        });
        //#endregion
        // 神秘商店
        //#region 
        title = cc.instantiate(this.store_title);
        title.getComponentInChildren(TextLanguage_1.default).setTextId(1460011);
        title.name = "mysteryTitle";
        content.addChild(title);
        var mysteryRoot = new cc.Node();
        mysteryRoot.name = 'mysteryRoot';
        mysteryRoot.height = this.store_equip_item.data.height + 20;
        mysteryRoot.width = this.node.width;
        var mysteryLayout = mysteryRoot.addComponent(cc.Layout);
        mysteryLayout.type = cc.Layout.Type.HORIZONTAL;
        mysteryLayout.resizeMode = cc.Layout.ResizeMode.CONTAINER;
        mysteryLayout.paddingRight = 40;
        mysteryLayout.paddingLeft = 40;
        mysteryLayout.spacingX = 20;
        var petItem = cc.instantiate(this.store_pet_item);
        petItem.getChildByName("richBg").children[1].children[1].getComponent(cc.Label).string = "X" + PropManager_1.PropManager.getInstance().getPropNum(40006);
        this.pet_instance = petItem;
        petItem.getChildByName("richBg").getComponentInChildren(cc.RichText).string = LanguageManager_1.default.getInstance().getStrByTextId(1460005);
        var prizePetData = DrawCardInformation_1.DrawCardInformationManager.getInstance().getJsonDrawCardInformation(3001);
        if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
            petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_1;
        }
        else {
            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
            petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_2;
        }
        if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.TenDrawPropsSpend_1) {
            petItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
            petItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizePetData.TenDrawPropsSpend_1;
        }
        else {
            petItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
            petItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizePetData.TenDrawPropsSpend_2;
        }
        var oneDayTime = 60 * 60 * 24 * 1000;
        var currentTime = Date.now();
        if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryPetFreeTime, 0) + oneDayTime - currentTime <= 0) {
            // 免费
            petItem.getChildByName("num1").active = false;
            petItem.getChildByName("free").active = true;
            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = this.store_ui.getSpriteFrame("Shop_Icon_ADS");
        }
        else {
            petItem.getChildByName("num1").active = true;
            petItem.getChildByName("free").active = false;
        }
        var petBtn1 = petItem.getChildByName("btn1");
        var petBtn10 = petItem.getChildByName("btn10");
        petBtn1.getChildByName('red').active = GameData_1.default.getInstance().getPetRecruitingRedTip();
        petBtn1.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        petBtn1.getComponent(cc.Button).duration = 0.1;
        petBtn1.getComponent(cc.Button).zoomScale = 0.9;
        petBtn10.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        petBtn10.getComponent(cc.Button).duration = 0.1;
        petBtn10.getComponent(cc.Button).zoomScale = 0.9;
        petBtn1.on(cc.Node.EventType.TOUCH_END, function () {
            // 暂未开放处理
            // let s = LanguageManager.getInstance().getStrByTextId(100113);
            // GameManager.getInstance().showMessage(s);
            // return;
            if (FunctionDefinition_1.FunctionDefinitionManager.getInstance().getIsUnlock(Constants_1.FuncType.PetParadise) == false) {
                var unlockType = FunctionDefinition_1.FunctionDefinitionManager.getInstance().getUnlockConditionType(Constants_1.FuncType.PetParadise);
                var s = '';
                if (unlockType == 1) {
                    s = LanguageManager_1.default.getInstance().getStrByTextId(100051);
                    s = s.replace('.', '.' + (FunctionDefinition_1.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(Constants_1.FuncType.PetParadise)) + '');
                }
                else {
                    s = LanguageManager_1.default.getInstance().getStrByTextId(100052);
                    s = s.replace('~', (MissionLevel_1.MissionLevelManager.getInstance().getLevelName((FunctionDefinition_1.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(Constants_1.FuncType.PetParadise)))) + '');
                }
                GameManager_1.default.getInstance().showMessage(s);
                return;
            }
            var costId = 0;
            var costNum = 0;
            if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
                costId = prizePetData.OneDrawPropsID_1;
                costNum = prizePetData.OneDrawPropsSpend_1;
            }
            else {
                costId = prizePetData.OneDrawPropsID_2;
                costNum = prizePetData.OneDrawPropsSpend_2;
            }
            var oneDayTime = 60 * 60 * 24 * 1000;
            var currentTime = Date.now();
            if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryPetFreeTime, 0) + oneDayTime - currentTime <= 0) {
                // 免费
                costNum = 0;
                StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreMysteryPetFreeTime, currentTime);
                if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
                    petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
                    petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_1;
                }
                else {
                    petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
                    petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_2;
                }
                petItem.getChildByName("num1").active = true;
                petItem.getChildByName("free").active = false;
                ApkManager_1.default.getInstance().showVideo(function (isTrue) {
                    if (isTrue) {
                        costNum = 0;
                        StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreMysteryPetFreeTime, currentTime);
                        if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
                            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
                            petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_1;
                        }
                        else {
                            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
                            petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_2;
                        }
                        petItem.getChildByName("num1").active = true;
                        petItem.getChildByName("free").active = false;
                        petBtn1.getChildByName('red').active = GameData_1.default.getInstance().getPetRecruitingRedTip();
                        EventManager_1.EventManager.postRedEvent(EventManager_1.RedEventString.RED_CHECK, EventManager_1.RedEventType.Btn_Shop);
                        HttpManager_1.HttpManager.post(HttpManager_1.AccessName.tryPrize, _this.getPrizeJsonString(1, 3, costId, costNum), true).then(function (data) {
                            if (data) {
                                // FollowManager.getInstance().followEvent(Follow_Type.记录开启1次宠物的次数);
                                // TaskManager.getInstance().emitTask(TaskItem.进行1次开启装备);
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.累计孵化灵宠蛋X次);
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.前往商城孵化X次宠物);
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行1次宠物招募);
                                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行10次宠物孵化);
                                var rewardItem = PropManager_1.PropManager.getInstance().createPropItem(data[0].dropId, data[0].dropNum);
                                PropManager_1.PropManager.getInstance().changePropNum(data[0].dropId, data[0].dropNum);
                                PropManager_1.PropManager.getInstance().saveAllPropNum();
                                GameManager_1.default.getInstance().showGetTip(rewardItem);
                                if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
                                    petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
                                    petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_1;
                                }
                                else {
                                    petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
                                    petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_2;
                                }
                                if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.TenDrawPropsSpend_1) {
                                    petItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
                                    petItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizePetData.TenDrawPropsSpend_1;
                                }
                                else {
                                    petItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
                                    petItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizePetData.TenDrawPropsSpend_2;
                                }
                                if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
                                    petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
                                    petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_1;
                                }
                                else {
                                    petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
                                    petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_2;
                                }
                            }
                        });
                    }
                    else {
                        // GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(1));
                    }
                }, Constants_1.VIDEO_TYPE.Equip);
            }
            else {
                if (PropManager_1.PropManager.getInstance().getPropNum(costId) < costNum) {
                    // GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(100041));
                    // this.node.getChildByName("scroll").getComponent(cc.ScrollView).scrollToBottom(2);
                    UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.Turntable, UIConfig_1.UILayerLevel.One, { onCompleted: function (uiNode) {
                            uiNode.getComponent(Turmtable_1.default).initUi();
                        }, }); //转盘
                    return;
                }
                HttpManager_1.HttpManager.post(HttpManager_1.AccessName.tryPrize, _this.getPrizeJsonString(1, 3, costId, costNum), true).then(function (data) {
                    if (data) {
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.累计孵化灵宠蛋X次);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.前往商城孵化X次宠物);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行1次宠物招募);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行10次宠物孵化);
                        PropManager_1.PropManager.getInstance().changePropNum(costId, -costNum);
                        GameManager_1.default.getInstance().refreshGemShow();
                        var rewardItem = PropManager_1.PropManager.getInstance().createPropItem(data[0].dropId, data[0].dropNum);
                        PropManager_1.PropManager.getInstance().changePropNum(data[0].dropId, data[0].dropNum);
                        PropManager_1.PropManager.getInstance().saveAllPropNum();
                        GameManager_1.default.getInstance().showGetTip(rewardItem);
                        if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
                            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
                            petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_1;
                        }
                        else {
                            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
                            petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_2;
                        }
                        if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.TenDrawPropsSpend_1) {
                            petItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
                            petItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizePetData.TenDrawPropsSpend_1;
                        }
                        else {
                            petItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
                            petItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizePetData.TenDrawPropsSpend_2;
                        }
                        if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
                            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
                            petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_1;
                        }
                        else {
                            petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
                            petItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_2;
                        }
                    }
                });
            }
        });
        petBtn10.on(cc.Node.EventType.TOUCH_END, function () {
            // 暂未开放处理
            // let s = LanguageManager.getInstance().getStrByTextId(100113);
            // GameManager.getInstance().showMessage(s);
            // return;
            if (FunctionDefinition_1.FunctionDefinitionManager.getInstance().getIsUnlock(Constants_1.FuncType.PetParadise) == false) {
                var unlockType = FunctionDefinition_1.FunctionDefinitionManager.getInstance().getUnlockConditionType(Constants_1.FuncType.PetParadise);
                var s = '';
                if (unlockType == 1) {
                    s = LanguageManager_1.default.getInstance().getStrByTextId(100051);
                    s = s.replace('.', '.' + (FunctionDefinition_1.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(Constants_1.FuncType.PetParadise)) + '');
                }
                else {
                    s = LanguageManager_1.default.getInstance().getStrByTextId(100052);
                    s = s.replace('~', (MissionLevel_1.MissionLevelManager.getInstance().getLevelName((FunctionDefinition_1.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(Constants_1.FuncType.PetParadise)))) + '');
                }
                GameManager_1.default.getInstance().showMessage(s);
                return;
            }
            var costId = 0;
            var costNum = 0;
            if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.TenDrawPropsSpend_1) {
                costId = prizePetData.OneDrawPropsID_1;
                costNum = prizePetData.TenDrawPropsSpend_1;
            }
            else {
                costId = prizePetData.OneDrawPropsID_2;
                costNum = prizePetData.TenDrawPropsSpend_2;
            }
            if (PropManager_1.PropManager.getInstance().getPropNum(costId) < costNum) {
                // GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(100041));
                // this.node.getChildByName("scroll").getComponent(cc.ScrollView).scrollToBottom(2);
                UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.Turntable, UIConfig_1.UILayerLevel.One, { onCompleted: function (uiNode) {
                        uiNode.getComponent(Turmtable_1.default).initUi();
                    }, }); //转盘
                return;
            }
            // if(IsDebug) costNum = 0;   
            HttpManager_1.HttpManager.post(HttpManager_1.AccessName.tryPrize, _this.getPrizeJsonString(2, 3, costId, costNum), true).then(function (data) {
                if (data) {
                    PropManager_1.PropManager.getInstance().changePropNum(costId, -costNum);
                    GameManager_1.default.getInstance().refreshGemShow();
                    var length = data.length;
                    var rewardList = [];
                    var tempIndex = MyTool_1.default.randomRangeInt(0, 9);
                    var temp = data[9];
                    data[9] = data[tempIndex];
                    data[tempIndex] = temp;
                    for (var i = 0; i < length; i++) {
                        var rewardItem = PropManager_1.PropManager.getInstance().createPropItem(data[i].dropId, data[i].dropNum);
                        PropManager_1.PropManager.getInstance().changePropNum(data[i].dropId, data[i].dropNum);
                        rewardList.push(rewardItem);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.前往商城孵化X次宠物);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行1次宠物招募);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行10次宠物孵化);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.累计孵化灵宠蛋X次);
                    }
                    PropManager_1.PropManager.getInstance().saveAllPropNum();
                    GameManager_1.default.getInstance().showMultipleGetTip(rewardList);
                }
            });
        });
        // mysteryRoot.addChild(petItem);
        var equipItem = cc.instantiate(this.store_equip_item);
        equipItem.getChildByName("richBg").children[1].children[1].getComponent(cc.Label).string = "X" + PropManager_1.PropManager.getInstance().getPropNum(40005);
        this.weapon_instance = equipItem;
        equipItem.getChildByName("richBg").getComponentInChildren(cc.RichText).string = LanguageManager_1.default.getInstance().getStrByTextId(1460006);
        var prizeEquipData = DrawCardInformation_1.DrawCardInformationManager.getInstance().getJsonDrawCardInformation(2001);
        if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.OneDrawPropsSpend_1) {
            equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
            equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_1;
        }
        else {
            equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
            equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_2;
        }
        if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.TenDrawPropsSpend_1) {
            equipItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
            equipItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeEquipData.TenDrawPropsSpend_1;
        }
        else {
            equipItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
            equipItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeEquipData.TenDrawPropsSpend_2;
        }
        // oneDayTime = 60*60*24*1000;
        currentTime = Date.now();
        if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryEquipFreeTime, 0) + oneDayTime - currentTime <= 0) {
            // 免费
            equipItem.getChildByName("num1").active = false;
            equipItem.getChildByName("free").active = true;
            equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = null;
        }
        else {
            equipItem.getChildByName("num1").active = true;
            equipItem.getChildByName("free").active = false;
        }
        var equipBtn1 = equipItem.getChildByName("btn1");
        var equipBtn10 = equipItem.getChildByName("btn10");
        equipBtn1.getChildByName('lay').getChildByName('red').active = GameData_1.default.getInstance().getEquipFreeRedTip();
        equipBtn1.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        equipBtn1.getComponent(cc.Button).duration = 0.1;
        equipBtn1.getComponent(cc.Button).zoomScale = 0.9;
        equipBtn10.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
        equipBtn10.getComponent(cc.Button).duration = 0.1;
        equipBtn10.getComponent(cc.Button).zoomScale = 0.9;
        equipBtn1.on(cc.Node.EventType.TOUCH_END, function () {
            var costId = 0;
            var costNum = 0;
            if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.OneDrawPropsSpend_1) {
                costId = prizeEquipData.OneDrawPropsID_1;
                costNum = prizeEquipData.OneDrawPropsSpend_1;
                // 以下为后端未存消费券的处理，当后端存储消费券时，使用上面两行代码
                // PropManager.getInstance().changePropNum(prizeEquipData.OneDrawPropsID_1,-prizeEquipData.OneDrawPropsSpend_1);
                // costId = prizeEquipData.OneDrawPropsID_2;
                // costNum = 0;
                FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.记录消耗的钥匙数量, prizeEquipData.OneDrawPropsSpend_1);
            }
            else {
                costId = prizeEquipData.OneDrawPropsID_2;
                costNum = prizeEquipData.OneDrawPropsSpend_2;
                FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.记录消耗宝石数量, costNum);
            }
            var oneDayTime = 60 * 60 * 24 * 1000;
            var currentTime = Date.now();
            if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryEquipFreeTime, 0) + oneDayTime - currentTime <= 0) {
                _this.equipItemTemp = equipItem;
                _this.costIdTemp = costId;
                _this.prizeEquipDataTemp = prizeEquipData;
                if (cc.sys.platform === cc.sys.BYTEDANCE_GAME) {
                    WXManagerEX_1.default.getInstance().zhuangbeikuShipin = tt.createRewardedVideoAd({
                        adUnitId: '613effl7e21d5e7dc6'
                    });
                    WXManagerEX_1.default.getInstance().zhuangbeikuShipin.offError();
                    WXManagerEX_1.default.getInstance().zhuangbeikuShipin.onError(function (err) {
                        console.log(err);
                    });
                    WXManagerEX_1.default.getInstance().zhuangbeikuShipin.offClose();
                    WXManagerEX_1.default.getInstance().zhuangbeikuShipin.show().catch(function () {
                        // 失败重试
                        WXManagerEX_1.default.getInstance().zhuangbeikuShipin.load()
                            .then(function () { return WXManagerEX_1.default.getInstance().zhuangbeikuShipin.show(); })
                            .catch(function (err) {
                            GameManager_1.default.getInstance().showMessage("广告拉取失败");
                        });
                    });
                    WXManagerEX_1.default.getInstance().zhuangbeikuShipin.onClose(function (res) {
                        // 用户点击了【关闭广告】按钮
                        // 小于 2.1.0 的基础库版本，res 是一个 undefined
                        if (res && res.isEnded || res === undefined) {
                            // 正常播放结束，可以下发游戏奖励
                            _this.onSHipincomp2();
                        }
                        else {
                            // 播放中途退出，不下发游戏奖励
                        }
                        WXManagerEX_1.default.getInstance().zhuangbeikuShipin.destroy();
                    });
                }
                else {
                    _this.onSHipincomp2();
                }
            }
            else {
                if (PropManager_1.PropManager.getInstance().getPropNum(costId) < costNum) {
                    // GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(100041));
                    // this.node.getChildByName("scroll").getComponent(cc.ScrollView).scrollToBottom(2);
                    UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.Turntable, UIConfig_1.UILayerLevel.One, { onCompleted: function (uiNode) {
                            uiNode.getComponent(Turmtable_1.default).initUi();
                        }, }); //转盘
                    return;
                }
                HttpManager_1.HttpManager.post(HttpManager_1.AccessName.tryPrize, _this.getPrizeJsonString(1, 2, costId, costNum), true).then(function (data) {
                    if (data) {
                        PropManager_1.PropManager.getInstance().changePropNum(costId, -costNum);
                        GameManager_1.default.getInstance().refreshGemShow();
                        FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.记录开启1次装备的次数);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行1次开启装备);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行10次开启装备);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.累计获得X件装备);
                        var rewardItem = PropManager_1.PropManager.getInstance().createPropItem(data[0].dropId, data[0].dropNum);
                        PropManager_1.PropManager.getInstance().changePropNum(data[0].dropId, data[0].dropNum);
                        PropManager_1.PropManager.getInstance().saveAllPropNum();
                        GameManager_1.default.getInstance().showGetTip(rewardItem);
                        if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.OneDrawPropsSpend_1) {
                            equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
                            equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_1;
                        }
                        else {
                            equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
                            equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_2;
                        }
                        if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.TenDrawPropsSpend_1) {
                            equipItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
                            equipItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeEquipData.TenDrawPropsSpend_1;
                        }
                        else {
                            equipItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
                            equipItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeEquipData.TenDrawPropsSpend_2;
                        }
                        if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryEquipFreeTime, 0) + oneDayTime - currentTime <= 0) {
                            // 免费
                            equipItem.getChildByName("num1").active = false;
                            equipItem.getChildByName("free").active = true;
                            equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = null;
                        }
                        else {
                            equipItem.getChildByName("num1").active = true;
                            equipItem.getChildByName("free").active = false;
                        }
                    }
                });
            }
            // if(IsDebug) costNum = 0;
        });
        equipBtn10.on(cc.Node.EventType.TOUCH_END, function () {
            var costId = 0;
            var costNum = 0;
            if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.TenDrawPropsSpend_1) {
                // costId = prizeEquipData.OneDrawPropsID_1;
                // costNum = prizeEquipData.TenDrawPropsSpend_1;
                // 以下为后端未存消费券的处理，当后端存储消费券时，使用上面两行代码
                PropManager_1.PropManager.getInstance().changePropNum(prizeEquipData.OneDrawPropsID_1, -prizeEquipData.TenDrawPropsSpend_1);
                costId = prizeEquipData.OneDrawPropsID_2;
                costNum = 0;
                FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.记录消耗的钥匙数量, prizeEquipData.TenDrawPropsSpend_1);
            }
            else {
                costId = prizeEquipData.OneDrawPropsID_2;
                costNum = prizeEquipData.TenDrawPropsSpend_2;
                FollowManager_1.default.getInstance().addTotal(FollowConstants_1.Follow_Type.记录消耗宝石数量, costNum);
            }
            if (PropManager_1.PropManager.getInstance().getPropNum(costId) < costNum) {
                // GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(100041));
                // this.node.getChildByName("scroll").getComponent(cc.ScrollView).scrollToBottom(2);
                UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.Turntable, UIConfig_1.UILayerLevel.One, { onCompleted: function (uiNode) {
                        uiNode.getComponent(Turmtable_1.default).initUi();
                    }, }); //转盘
                return;
            }
            // if(IsDebug) costNum = 0;   
            HttpManager_1.HttpManager.post(HttpManager_1.AccessName.tryPrize, _this.getPrizeJsonString(2, 2, costId, costNum), true).then(function (data) {
                if (data) {
                    PropManager_1.PropManager.getInstance().changePropNum(costId, -costNum);
                    GameManager_1.default.getInstance().refreshGemShow();
                    FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.记录开启10次装备的次数);
                    var length = data.length;
                    var rewardList = [];
                    var tempIndex = MyTool_1.default.randomRangeInt(0, 9);
                    var temp = data[9];
                    data[9] = data[tempIndex];
                    data[tempIndex] = temp;
                    for (var i = 0; i < length; i++) {
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行1次开启装备);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行10次开启装备);
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.累计获得X件装备);
                        var rewardItem = PropManager_1.PropManager.getInstance().createPropItem(data[i].dropId, data[i].dropNum);
                        PropManager_1.PropManager.getInstance().changePropNum(data[i].dropId, data[i].dropNum);
                        rewardList.push(rewardItem);
                    }
                    GameManager_1.default.getInstance().showMultipleGetTip(rewardList);
                    PropManager_1.PropManager.getInstance().saveAllPropNum();
                    if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.OneDrawPropsSpend_1) {
                        equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
                        equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_1;
                    }
                    else {
                        equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
                        equipItem.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_2;
                    }
                    if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.TenDrawPropsSpend_1) {
                        equipItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
                        equipItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeEquipData.TenDrawPropsSpend_1;
                    }
                    else {
                        equipItem.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
                        equipItem.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeEquipData.TenDrawPropsSpend_2;
                    }
                    if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryEquipFreeTime, 0) + oneDayTime - currentTime <= 0) {
                        // 免费
                        equipItem.getChildByName("num1").active = false;
                        equipItem.getChildByName("free").active = true;
                        equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = null;
                    }
                    else {
                        equipItem.getChildByName("num1").active = true;
                        equipItem.getChildByName("free").active = false;
                    }
                }
            });
        });
        mysteryRoot.addChild(equipItem);
        content.addChild(mysteryRoot);
        //#endregion
        // 钻石
        //#region 
        title = cc.instantiate(this.store_title);
        title.getComponentInChildren(TextLanguage_1.default).setTextId(400002);
        title.name = "gemTitle";
        //content.addChild(title);
        var gemRoot = new cc.Node();
        gemRoot.name = 'gemRoot';
        gemRoot.height = this.store_gem_item.data.height * 2 + 10;
        gemRoot.width = this.node.width;
        //content.addChild(gemRoot);
        var gemLayout = gemRoot.addComponent(cc.Layout);
        gemLayout.type = cc.Layout.Type.GRID;
        gemLayout.resizeMode = cc.Layout.ResizeMode.CONTAINER;
        gemLayout.paddingRight = 40;
        gemLayout.paddingLeft = 40;
        gemLayout.spacingX = 20;
        gemLayout.spacingY = 20;
        var gemData = DiamondsRecharge_1.DiamondsRechargeManager.getInstance().getJsonData();
        gemData.forEach(function (v, k) {
            var item = cc.instantiate(_this.store_gem_item);
            item.name = 'gem' + v.RechargeID;
            item.getChildByName("title").getComponent(TextLanguage_1.default).setTextId(400002);
            item.getChildByName("title").getComponent(TextLanguage_1.default).string = v.DiamondsNum + item.getChildByName("title").getComponent(TextLanguage_1.default).string;
            var payInfo = PayManager_1.PayManager.getInstance().getPayInfo(v.ProductId);
            item.getChildByName("num").getComponent(cc.Label).string = payInfo.price;
            item.getChildByName('icon').getComponent(cc.Sprite).spriteFrame = _this.store_ui.getSpriteFrame("Shop_Icon_Gem_" + (v.RechargeID - 1));
            if (StorageManager_1.TheStorageManager.getInstance().getString(StorageConfig_1.StorageKey.StoreGemItem + v.RechargeID, '') == '') {
                item.getChildByName('bg').active = true;
                item.getChildByName('tip').active = true;
                item.getChildByName("tip").getComponent(TextLanguage_1.default).setTextId(1410004);
                item.getChildByName("tip").getComponent(TextLanguage_1.default).setReplaceValue('~', v.GetDiamondsNum + '');
            }
            else {
                item.getChildByName('bg').active = false;
                item.getChildByName('tip').active = false;
            }
            var button = item.addComponent(cc.Button);
            button.transition = cc.Button.Transition.SCALE;
            button.duration = 0.1;
            button.zoomScale = 0.9;
            var clickEvent = new cc.Component.EventHandler();
            clickEvent.target = _this.node;
            clickEvent.component = 'StoreUi';
            clickEvent.handler = 'onGemBtnClick';
            clickEvent.customEventData = v.RechargeID + '';
            button.clickEvents.push(clickEvent);
            // button
            // item.on(cc.Node.EventType.TOUCH_END,()=>{
            //     ApkManager.getInstance().showPay({
            //         result:(isDy)=> {
            //             if(isDy){
            //                 FollowManager.getInstance().followEvent(Follow_Type.x钻石点击购买次数 + v.ProductId);
            //                 if(TheStorageManager.getInstance().getString(StorageKey.StoreGemItem + v.RechargeID,'') == ''){
            //                     let reward = PropManager.getInstance().createPropItem(PropId.Gem,v.DiamondsNum + v.GetDiamondsNum);
            //                     PropManager.getInstance().changePropNum(PropId.Gem,v.DiamondsNum + v.GetDiamondsNum);
            //                     TheStorageManager.getInstance().setItem(StorageKey.StoreGemItem + v.RechargeID,'1');
            //                     item.getChildByName('bg').active = false;
            //                     item.getChildByName('tip').active = false;
            //                     GameManager.getInstance().showGetTip(reward);
            //                 }else{
            //                     let reward = PropManager.getInstance().createPropItem(PropId.Gem,v.DiamondsNum);
            //                     PropManager.getInstance().changePropNum(PropId.Gem,v.DiamondsNum);
            //                     GameManager.getInstance().showGetTip(reward);
            //                 }
            //             }
            //         }
            //     },v.ProductId)
            // });
            //gemRoot.addChild(item);
        });
        //#endregion
        // 金币
        //#region 
        title = cc.instantiate(this.store_title);
        title.getComponentInChildren(TextLanguage_1.default).setTextId(400001);
        title.name = "coinTitle";
        content.addChild(title);
        var coinRoot = new cc.Node();
        coinRoot.name = 'coinRoot';
        coinRoot.height = this.store_coin_item.data.height + 10;
        coinRoot.width = this.node.width;
        content.addChild(coinRoot);
        var coinLayout = coinRoot.addComponent(cc.Layout);
        coinLayout.type = cc.Layout.Type.HORIZONTAL;
        coinLayout.resizeMode = cc.Layout.ResizeMode.CONTAINER;
        coinLayout.paddingRight = 40;
        coinLayout.paddingLeft = 40;
        coinLayout.spacingX = 20;
        var coinData = PurchaseCoins_1.PurchaseCoinsManager.getInstance().getJsonDataByChapter(LevelManager_1.LevelManager.getInstance().getFinishChapter());
        coinData.forEach(function (v, k) {
            var item = cc.instantiate(_this.store_coin_item);
            item.getChildByName("title").getComponent(cc.Label).string = v.GetCoinNum + '';
            item.getChildByName("icon").getComponent(cc.Sprite).spriteFrame = _this.store_ui.getSpriteFrame("Shop_Icon_Coin_" + v.DisplayPosition);
            if (v.AdReward == 1) {
                if (Number(StorageManager_1.TheStorageManager.getInstance().getInt(StorageConfig_1.StorageKey.StoreCoinItem + k, 0)) < v.AdPlayableTimes) {
                    item.getChildByName("adicon").active = true;
                    item.getChildByName("costIcon").active = false;
                    item.getChildByName("num").active = false;
                    item.getChildByName("text").active = true;
                    item.getChildByName('red').active = true;
                }
                else {
                    item.getChildByName("adicon").active = false;
                    item.getChildByName("costIcon").active = true;
                    item.getChildByName("num").active = true;
                    item.getChildByName("num").getComponent(cc.Label).string = 'x' + v.ConsumeDiamondsNum;
                    item.getChildByName("text").active = false;
                    item.getChildByName('red').active = false;
                }
            }
            else {
                item.getChildByName("adicon").active = false;
                item.getChildByName("costIcon").active = true;
                item.getChildByName("num").active = true;
                item.getChildByName("num").getComponent(cc.Label).string = 'x' + v.ConsumeDiamondsNum;
                item.getChildByName("text").active = false;
                item.getChildByName('red').active = false;
            }
            item.addComponent(cc.Button).transition = cc.Button.Transition.SCALE;
            item.getComponent(cc.Button).duration = 0.1;
            item.getComponent(cc.Button).zoomScale = 0.9;
            coinRoot.addChild(item);
            item.on(cc.Node.EventType.TOUCH_END, function () {
                if (v.AdReward == 1) {
                    if (Number(StorageManager_1.TheStorageManager.getInstance().getInt(StorageConfig_1.StorageKey.StoreCoinItem + k, 0)) < v.AdPlayableTimes) {
                        _this.vTemp = v;
                        _this.adItem = item;
                        _this.kTemp = k;
                        if (cc.sys.platform === cc.sys.BYTEDANCE_GAME) {
                            WXManagerEX_1.default.getInstance().jinbiShipin = tt.createRewardedVideoAd({
                                adUnitId: '1fida1lqejnd3pd4l1'
                            });
                            WXManagerEX_1.default.getInstance().jinbiShipin.offError();
                            WXManagerEX_1.default.getInstance().jinbiShipin.onError(function (err) {
                                console.log(err);
                            });
                            WXManagerEX_1.default.getInstance().jinbiShipin.offClose();
                            WXManagerEX_1.default.getInstance().jinbiShipin.show().catch(function () {
                                // 失败重试
                                WXManagerEX_1.default.getInstance().jinbiShipin.load()
                                    .then(function () { return WXManagerEX_1.default.getInstance().jinbiShipin.show(); })
                                    .catch(function (err) {
                                    GameManager_1.default.getInstance().showMessage("广告拉取失败");
                                });
                            });
                            WXManagerEX_1.default.getInstance().jinbiShipin.onClose(function (res) {
                                // 用户点击了【关闭广告】按钮
                                // 小于 2.1.0 的基础库版本，res 是一个 undefined
                                if (res && res.isEnded || res === undefined) {
                                    // 正常播放结束，可以下发游戏奖励
                                    _this.onShipincomp3();
                                }
                                else {
                                    // 播放中途退出，不下发游戏奖励
                                }
                                WXManagerEX_1.default.getInstance().jinbiShipin.destroy();
                            });
                        }
                        else {
                            _this.onShipincomp3();
                        }
                    }
                    else {
                        if (PropManager_1.PropManager.getInstance().changePropNum(PropConfig_1.PropId.Gem, -v.ConsumeDiamondsNum)) {
                            TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.购买1次商店中的金币);
                            FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.x金币点击购买次数 + v.CoinPurchaseID);
                            PropManager_1.PropManager.getInstance().changePropNum(PropConfig_1.PropId.Coin, v.GetCoinNum);
                            var reward = PropManager_1.PropManager.getInstance().createPropItem(PropConfig_1.PropId.Coin, v.GetCoinNum);
                            GameManager_1.default.getInstance().showGetTip(reward);
                        }
                        else {
                            UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.CoinPop, UIConfig_1.UILayerLevel.Three, {
                                onCompleted: function (uiNode) {
                                    uiNode.getComponent(CoinPop_1.default).initUi(PropConfig_1.PropId.Gem);
                                },
                            });
                        }
                    }
                }
                else {
                    if (PropManager_1.PropManager.getInstance().changePropNum(PropConfig_1.PropId.Gem, -v.ConsumeDiamondsNum)) {
                        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.购买1次商店中的金币);
                        FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.x金币点击购买次数 + v.CoinPurchaseID);
                        PropManager_1.PropManager.getInstance().changePropNum(PropConfig_1.PropId.Coin, v.GetCoinNum);
                        var reward = PropManager_1.PropManager.getInstance().createPropItem(PropConfig_1.PropId.Coin, v.GetCoinNum);
                        GameManager_1.default.getInstance().showGetTip(reward);
                    }
                    else {
                        UIManager_1.UIManager.getInstance().showUiDialog(UIConfig_1.UIPath.CoinPop, UIConfig_1.UILayerLevel.Three, {
                            onCompleted: function (uiNode) {
                                uiNode.getComponent(CoinPop_1.default).initUi(PropConfig_1.PropId.Gem);
                            },
                        });
                    }
                }
            });
        });
        //#endregion
        // 动态刷新内容
        this.schedule(function () {
            // 每日商店刷新
            nowTime = Date.now() / 1000;
            var residueTime = StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.TomorowZeroTimeStamp, 0) - nowTime;
            if (residueTime < 0) {
                residueTime = ((new Date(new Date().toLocaleDateString()).getTime() + 8640000) / 1000) - nowTime;
            }
            var hh = Math.floor(residueTime / (60 * 60));
            if (hh < 10) {
                timeNum.string = '0' + hh + ':';
            }
            else {
                timeNum.string = hh + ':';
            }
            var mm = Math.floor(residueTime % (60 * 60) / 60);
            if (mm < 10) {
                timeNum.string += '0' + mm + ':';
            }
            else {
                timeNum.string += mm + ':';
            }
            var ss = Math.floor(residueTime % (60 * 60) % 60);
            if (ss < 10) {
                timeNum.string += '0' + ss;
            }
            else {
                timeNum.string += ss;
            }
            currentTime = Date.now();
            // 宠物刷新
            if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryPetFreeTime, 0) + oneDayTime - currentTime <= 0 && petItem.getChildByName("num1").active == true) {
                petItem.getChildByName("num1").active = false;
                petItem.getChildByName("free").active = true;
                petItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = _this.store_ui.getSpriteFrame("Shop_Icon_ADS");
            }
            // 武器刷新
            if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryEquipFreeTime, 0) + oneDayTime - currentTime <= 0 && petItem.getChildByName("num1").active == true) {
                equipItem.getChildByName("num1").active = false;
                equipItem.getChildByName("free").active = true;
                equipItem.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = null;
            }
        }, 1, cc.macro.REPEAT_FOREVER, 0);
    };
    StoreUi.prototype.onShipincomp3 = function () {
        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.购买1次商店中的金币);
        FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.x金币点击购买次数 + this.vTemp.CoinPurchaseID);
        PropManager_1.PropManager.getInstance().changePropNum(PropConfig_1.PropId.Coin, this.vTemp.GetCoinNum);
        var reward = PropManager_1.PropManager.getInstance().createPropItem(PropConfig_1.PropId.Coin, this.vTemp.GetCoinNum);
        var num = StorageManager_1.TheStorageManager.getInstance().getInt(StorageConfig_1.StorageKey.StoreCoinItem + this.kTemp, 0) + 1;
        StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreCoinItem + this.kTemp, num);
        GameManager_1.default.getInstance().showGetTip(reward);
        if (num >= this.vTemp.AdPlayableTimes) {
            this.adItem.getChildByName("costIcon").active = true;
            this.adItem.getChildByName("adicon").active = false;
            this.adItem.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(PropConfig_1.PropId.Gem);
            this.adItem.getChildByName("num").active = true;
            this.adItem.getChildByName("num").getComponent(cc.Label).string = 'x' + this.vTemp.ConsumeDiamondsNum;
            this.adItem.getChildByName("text").active = false;
            this.adItem.getChildByName('red').active = false;
            EventManager_1.EventManager.postRedEvent(EventManager_1.RedEventString.RED_CHECK, EventManager_1.RedEventType.Btn_Shop);
        }
    };
    StoreUi.prototype.onSHipincomp2 = function () {
        var _this = this;
        var costNum = 0;
        var currentTime = Date.now();
        StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreMysteryEquipFreeTime, currentTime);
        var equipBtn1 = this.equipItemTemp.getChildByName("btn1");
        equipBtn1.getChildByName('lay').getChildByName('red').active = GameData_1.default.getInstance().getEquipFreeRedTip();
        EventManager_1.EventManager.postRedEvent(EventManager_1.RedEventString.RED_CHECK, EventManager_1.RedEventType.Btn_Shop);
        this.equipItemTemp.getChildByName("num1").active = true;
        this.equipItemTemp.getChildByName("free").active = false;
        HttpManager_1.HttpManager.post(HttpManager_1.AccessName.tryPrize, this.getPrizeJsonString(1, 2, this.costIdTemp, costNum), true).then(function (data) {
            if (data) {
                FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.记录开启1次装备的次数);
                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行1次开启装备);
                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.进行10次开启装备);
                TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.累计获得X件装备);
                var rewardItem = PropManager_1.PropManager.getInstance().createPropItem(data[0].dropId, data[0].dropNum);
                PropManager_1.PropManager.getInstance().changePropNum(data[0].dropId, data[0].dropNum);
                PropManager_1.PropManager.getInstance().saveAllPropNum();
                GameManager_1.default.getInstance().showGetTip(rewardItem);
                if (PropManager_1.PropManager.getInstance().getPropNum(_this.prizeEquipDataTemp.OneDrawPropsID_1) >= _this.prizeEquipDataTemp.OneDrawPropsSpend_1) {
                    _this.equipItemTemp.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(_this.prizeEquipDataTemp.OneDrawPropsID_1);
                    _this.equipItemTemp.getChildByName("num1").getComponent(cc.Label).string = "x" + _this.prizeEquipDataTemp.OneDrawPropsSpend_1;
                }
                else {
                    _this.equipItemTemp.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(_this.prizeEquipDataTemp.OneDrawPropsID_2);
                    _this.equipItemTemp.getChildByName("num1").getComponent(cc.Label).string = "x" + _this.prizeEquipDataTemp.OneDrawPropsSpend_2;
                }
                if (PropManager_1.PropManager.getInstance().getPropNum(_this.prizeEquipDataTemp.OneDrawPropsID_1) >= _this.prizeEquipDataTemp.TenDrawPropsSpend_1) {
                    _this.equipItemTemp.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(_this.prizeEquipDataTemp.OneDrawPropsID_1);
                    _this.equipItemTemp.getChildByName("num10").getComponent(cc.Label).string = "x" + _this.prizeEquipDataTemp.TenDrawPropsSpend_1;
                }
                else {
                    _this.equipItemTemp.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(_this.prizeEquipDataTemp.OneDrawPropsID_2);
                    _this.equipItemTemp.getChildByName("num10").getComponent(cc.Label).string = "x" + _this.prizeEquipDataTemp.TenDrawPropsSpend_2;
                }
            }
        });
    };
    StoreUi.prototype.onShipinComp = function () {
        var storeItemInfo = CommodityInformation_1.CommodityInformationManager.getInstance().getJsonCommodityInformation(this.informationTemp);
        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.商店中购买物品1次);
        TaskManager_1.default.getInstance().emitTask(TaskEnum_1.TaskItem.前往商城购买X次商品);
        PropManager_1.PropManager.getInstance().changePropNum(storeItemInfo.GetItem, storeItemInfo.GetNum);
        var reward = PropManager_1.PropManager.getInstance().createPropItem(storeItemInfo.GetItem, storeItemInfo.GetNum);
        var num = StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreDailyShopNum + this.informationK, 0);
        num++;
        FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.在每日商店中使用广告购买钻石的次数);
        StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreDailyShopNum + this.informationK, num);
        if (num >= storeItemInfo.AdPlayableTimes) {
            this.adItem.getChildByName("costIcon").active = false;
            this.adItem.getChildByName("free").active = false;
            this.adItem.getChildByName("saleOut").zIndex = 1;
            this.adItem.getChildByName("saleOut").active = true;
            this.adItem.getChildByName("red").active = false;
            EventManager_1.EventManager.postRedEvent(EventManager_1.RedEventString.RED_CHECK, EventManager_1.RedEventType.Btn_Shop);
            var type = Item_1.ItemManager.getInstance().getType(storeItemInfo.GetItem);
            if (type == 3) {
                this.adItem.getChildByName("reward").getComponent(EquipItem_1.default).prop_action = PropConfig_1.PropAction.Null;
            }
            else {
                this.adItem.getChildByName("reward").getComponent(Prop_1.default).prop_action = PropConfig_1.PropAction.Null;
            }
            this.adItem.off(cc.Node.EventType.TOUCH_END);
        }
        FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.每日商店中成功购买物品的次数);
        GameManager_1.default.getInstance().showGetTip(reward);
    };
    // item:cc.Node,v:JsonDiamondsRecharge
    StoreUi.prototype.onGemBtnClick = function (e, id) {
        var _this = this;
        var item = this.node.getChildByName("scroll").getComponent(cc.ScrollView).content.getChildByName("gemRoot").getChildByName("gem" + id);
        var v = DiamondsRecharge_1.DiamondsRechargeManager.getInstance().getJsonDiamondsRecharge(Number(id));
        ApkManager_1.default.getInstance().showPay({
            result: function (isDy) {
                if (isDy) {
                    FollowManager_1.default.getInstance().followEvent(FollowConstants_1.Follow_Type.x钻石点击购买次数 + v.ProductId);
                    if (StorageManager_1.TheStorageManager.getInstance().getString(StorageConfig_1.StorageKey.StoreGemItem + v.RechargeID, '') == '') {
                        var reward = PropManager_1.PropManager.getInstance().createPropItem(PropConfig_1.PropId.Gem, v.DiamondsNum + v.GetDiamondsNum);
                        PropManager_1.PropManager.getInstance().changePropNum(PropConfig_1.PropId.Gem, v.DiamondsNum + v.GetDiamondsNum);
                        StorageManager_1.TheStorageManager.getInstance().setItem(StorageConfig_1.StorageKey.StoreGemItem + v.RechargeID, '1');
                        UserInfo_1.UserInfo.getInstance().payGem += v.DiamondsNum;
                        HttpManager_1.HttpManager.post(HttpManager_1.AccessName.updateUserInfo, _this.setCumulativeRechargeJsonString(v.DiamondsNum)).then(function (data) {
                            UserInfo_1.UserInfo.getInstance().refreshData();
                            CumulativeRecharges_1.CumulativeRechargesManager.getInstance().refreshData();
                        });
                        item.getChildByName('bg').active = false;
                        item.getChildByName('tip').active = false;
                        GameManager_1.default.getInstance().showGetTip(reward);
                    }
                    else {
                        var reward = PropManager_1.PropManager.getInstance().createPropItem(PropConfig_1.PropId.Gem, v.DiamondsNum);
                        PropManager_1.PropManager.getInstance().changePropNum(PropConfig_1.PropId.Gem, v.DiamondsNum);
                        UserInfo_1.UserInfo.getInstance().payGem += v.DiamondsNum;
                        HttpManager_1.HttpManager.post(HttpManager_1.AccessName.updateUserInfo, _this.setCumulativeRechargeJsonString(v.DiamondsNum)).then(function (data) {
                            UserInfo_1.UserInfo.getInstance().refreshData();
                            CumulativeRecharges_1.CumulativeRechargesManager.getInstance().refreshData();
                        });
                        GameManager_1.default.getInstance().showGetTip(reward);
                    }
                }
            }
        }, v.ProductId);
    };
    StoreUi.prototype.refreshStore = function () {
        var _this = this;
        var content = this.node.getChildByName("scroll").getComponent(cc.ScrollView).content;
        var gemRoot = content.getChildByName("gemRoot");
        var gemData = DiamondsRecharge_1.DiamondsRechargeManager.getInstance().getJsonData();
        gemData.forEach(function (v, k) {
            var item = gemRoot.getChildByName('gem' + v.RechargeID);
            item.getChildByName("title").getComponent(TextLanguage_1.default).setTextId(400002);
            item.getChildByName("title").getComponent(TextLanguage_1.default).string = v.DiamondsNum + item.getChildByName("title").getComponent(TextLanguage_1.default).string;
            var payInfo = PayManager_1.PayManager.getInstance().getPayInfo(v.ProductId);
            item.getChildByName("num").getComponent(cc.Label).string = payInfo.price;
            item.getChildByName('icon').getComponent(cc.Sprite).spriteFrame = _this.store_ui.getSpriteFrame("Shop_Icon_Gem_" + (v.RechargeID - 1));
            if (StorageManager_1.TheStorageManager.getInstance().getString(StorageConfig_1.StorageKey.StoreGemItem + v.RechargeID, '') == '') {
                item.getChildByName('bg').active = true;
                item.getChildByName('tip').active = true;
                item.getChildByName("tip").getComponent(TextLanguage_1.default).setTextId(1410004);
                item.getChildByName("tip").getComponent(TextLanguage_1.default).setReplaceValue('~', v.GetDiamondsNum + '');
            }
            else {
                item.getChildByName('bg').active = false;
                item.getChildByName('tip').active = false;
            }
            // item.off(cc.Node.EventType.TOUCH_END);
            // item.on(cc.Node.EventType.TOUCH_END,()=>{
            //     item.scale = 1;
            //     ApkManager.getInstance().showPay({
            //         result:(isDy)=> {
            //             if(isDy){
            //                 FollowManager.getInstance().followEvent(Follow_Type.x钻石点击购买次数 + v.ProductId);
            //                 if(TheStorageManager.getInstance().getString(StorageKey.StoreGemItem + v.RechargeID,'') == ''){
            //                     let reward = PropManager.getInstance().createPropItem(PropId.Gem,v.DiamondsNum + v.GetDiamondsNum);
            //                     PropManager.getInstance().changePropNum(PropId.Gem,v.DiamondsNum + v.GetDiamondsNum);
            //                     TheStorageManager.getInstance().setItem(StorageKey.StoreGemItem + v.RechargeID,'1');
            //                     item.getChildByName('bg').active = false;
            //                     item.getChildByName('tip').active = false;
            //                     GameManager.getInstance().showGetTip(reward);
            //                 }else{
            //                     let reward = PropManager.getInstance().createPropItem(PropId.Gem,v.DiamondsNum);
            //                     PropManager.getInstance().changePropNum(PropId.Gem,v.DiamondsNum);
            //                     GameManager.getInstance().showGetTip(reward);
            //                 }
            //             }
            //         }
            //     },v.ProductId)
            // });
        });
    };
    StoreUi.prototype.getRandomInt = function (min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min)) + min; //不含最大值，含最小值
    };
    /**
     *
     * @param type 抽奖类型 1-单抽 2-十连抽
     * @param drawTyep 抽奖类型 1-英雄,英雄碎片 2-装备 3-灵宠
     * @param costId 消耗道具id
     * @param costNum 消耗道具数量
     * @returns
     */
    StoreUi.prototype.getPrizeJsonString = function (type, drawTyep, costId, costNum) {
        var uid = UserData_1.default.getInstance().getUserID();
        return JSON.stringify({
            uid: uid,
            type: type,
            drawType: drawTyep,
            itemsId: costId,
            minusNum: costNum,
        });
    };
    StoreUi.prototype.onRefreshInstanceItem = function () {
        var prizeHeroData = DrawCardInformation_1.DrawCardInformationManager.getInstance().getJsonDrawCardInformation(1001);
        if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.OneDrawPropsSpend_1) {
            this.hero_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_1);
            this.hero_instance.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeHeroData.OneDrawPropsSpend_1;
        }
        else {
            this.hero_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_2);
            this.hero_instance.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeHeroData.OneDrawPropsSpend_2;
        }
        if (PropManager_1.PropManager.getInstance().getPropNum(prizeHeroData.OneDrawPropsID_1) >= prizeHeroData.TenDrawPropsSpend_1) {
            this.hero_instance.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_1);
            this.hero_instance.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeHeroData.TenDrawPropsSpend_1;
        }
        else {
            this.hero_instance.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeHeroData.OneDrawPropsID_2);
            this.hero_instance.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeHeroData.TenDrawPropsSpend_2;
        }
        this.hero_instance.getChildByName("IconNum").getComponent(cc.Label).string = "X" + PropManager_1.PropManager.getInstance().getPropNum(40004);
        var prizePetData = DrawCardInformation_1.DrawCardInformationManager.getInstance().getJsonDrawCardInformation(3001);
        if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.OneDrawPropsSpend_1) {
            this.pet_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
            this.pet_instance.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_1;
        }
        else {
            this.pet_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
            this.pet_instance.getChildByName("num1").getComponent(cc.Label).string = "x" + prizePetData.OneDrawPropsSpend_2;
        }
        this.pet_instance.getChildByName("richBg").children[1].children[1].getComponent(cc.Label).string = "X" + PropManager_1.PropManager.getInstance().getPropNum(40006);
        if (PropManager_1.PropManager.getInstance().getPropNum(prizePetData.OneDrawPropsID_1) >= prizePetData.TenDrawPropsSpend_1) {
            this.pet_instance.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_1);
            this.pet_instance.getChildByName("num10").getComponent(cc.Label).string = "x" + prizePetData.TenDrawPropsSpend_1;
        }
        else {
            this.pet_instance.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizePetData.OneDrawPropsID_2);
            this.pet_instance.getChildByName("num10").getComponent(cc.Label).string = "x" + prizePetData.TenDrawPropsSpend_2;
        }
        var oneDayTime = 60 * 60 * 24 * 1000;
        var currentTime = Date.now();
        var prizeEquipData = DrawCardInformation_1.DrawCardInformationManager.getInstance().getJsonDrawCardInformation(2001);
        if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.OneDrawPropsSpend_1) {
            this.weapon_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
            this.weapon_instance.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_1;
        }
        else {
            this.weapon_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
            this.weapon_instance.getChildByName("num1").getComponent(cc.Label).string = "x" + prizeEquipData.OneDrawPropsSpend_2;
        }
        if (PropManager_1.PropManager.getInstance().getPropNum(prizeEquipData.OneDrawPropsID_1) >= prizeEquipData.TenDrawPropsSpend_1) {
            this.weapon_instance.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_1);
            this.weapon_instance.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeEquipData.TenDrawPropsSpend_1;
        }
        else {
            this.weapon_instance.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame = PropManager_1.PropManager.getInstance().getSpByPropId(prizeEquipData.OneDrawPropsID_2);
            this.weapon_instance.getChildByName("num10").getComponent(cc.Label).string = "x" + prizeEquipData.TenDrawPropsSpend_2;
        }
        this.weapon_instance.getChildByName("richBg").children[1].children[1].getComponent(cc.Label).string = "X" + PropManager_1.PropManager.getInstance().getPropNum(40005);
        // oneDayTime = 60*60*24*1000;
        // currentTime = Date.now();
        if (StorageManager_1.TheStorageManager.getInstance().getNumber(StorageConfig_1.StorageKey.StoreMysteryEquipFreeTime, 0) + oneDayTime - currentTime <= 0) {
            // 免费
            this.weapon_instance.getChildByName("num1").active = false;
            this.weapon_instance.getChildByName("free").active = true;
            this.weapon_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame = this.store_ui.getSpriteFrame("Shop_Icon_ADS");
        }
        else {
            this.weapon_instance.getChildByName("num1").active = true;
            this.weapon_instance.getChildByName("free").active = false;
        }
    };
    StoreUi.prototype.setCumulativeRechargeJsonString = function (addNum) {
        var uid = UserData_1.default.getInstance().getUserID();
        var num = addNum;
        return JSON.stringify({
            type: 8,
            uid: uid,
            value: num,
        });
    };
    StoreUi.prototype.getSaveGameTaskJsonString = function (index) {
        var uid = UserData_1.default.getInstance().getUserID();
        var num = index;
        return JSON.stringify({
            uid: uid,
            playLevel: num,
            rewardType: 10,
        });
    };
    __decorate([
        property(cc.Prefab)
    ], StoreUi.prototype, "store_title", void 0);
    __decorate([
        property(cc.Prefab)
    ], StoreUi.prototype, "store_chapter_item", void 0);
    __decorate([
        property(cc.Prefab)
    ], StoreUi.prototype, "store_hero_item", void 0);
    __decorate([
        property(cc.Prefab)
    ], StoreUi.prototype, "store_daily_item", void 0);
    __decorate([
        property(cc.Prefab)
    ], StoreUi.prototype, "store_pet_item", void 0);
    __decorate([
        property(cc.Prefab)
    ], StoreUi.prototype, "store_equip_item", void 0);
    __decorate([
        property(cc.Prefab)
    ], StoreUi.prototype, "store_gem_item", void 0);
    __decorate([
        property(cc.Prefab)
    ], StoreUi.prototype, "store_coin_item", void 0);
    __decorate([
        property(cc.SpriteAtlas)
    ], StoreUi.prototype, "store_ui", void 0);
    StoreUi = __decorate([
        ccclass
    ], StoreUi);
    return StoreUi;
}(cc.Component));
exports.default = StoreUi;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcU3RvcmVcXFN0b3JlVWkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsNERBQXNFO0FBQ3RFLHdEQUFtRTtBQUNuRSxrRkFBd0Y7QUFDeEYsZ0RBQTJDO0FBQzNDLHNDQUFpQztBQUNqQywwQ0FBdUU7QUFDdkUsdURBQWtEO0FBQ2xELHdDQUFtQztBQUNuQyw4Q0FBeUM7QUFDekMsd0RBQXVEO0FBQ3ZELHNEQUFvRDtBQUNwRCxxRUFBMkU7QUFDM0UsMkRBQTJEO0FBQzNELHNEQUFxRDtBQUNyRCxzREFBNEQ7QUFDNUQsb0VBQStEO0FBQy9ELGdFQUEyRDtBQUMzRCx3RUFBc0U7QUFDdEUsb0VBQStEO0FBQy9ELDhEQUF5RDtBQUN6RCxvREFBbUQ7QUFDbkQsMENBQWdEO0FBQ2hELHFDQUFnQztBQUNoQyxpREFBd0Q7QUFDeEQsbURBQWtEO0FBQ2xELDBEQUFzRDtBQUN0RCw0REFBOEQ7QUFDOUQsNkNBQTRDO0FBQzVDLG1EQUE4QztBQUM5QyxzREFBbUY7QUFDbkYsMENBQXFDO0FBQ3JDLG9EQUErQztBQUMvQyxrRUFBNkQ7QUFDN0QsNENBQXVDO0FBQ3ZDLDJDQUFzRDtBQUN0RCw2Q0FBNEM7QUFDNUMsd0NBQW1DO0FBQ25DLGlEQUFnRDtBQUVoRCwrREFBcUU7QUFDckUseUNBQThEO0FBQzlELHVEQUFtRjtBQUNuRiw2REFBbUU7QUFDbkUsdURBQWtEO0FBQ2xELGlEQUF1RDtBQUN2RCw2Q0FBd0M7QUFFbEMsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFHNUM7SUFBcUMsMkJBQVk7SUFBakQ7UUFBQSxxRUF5MkRDO1FBdDJERyxpQkFBVyxHQUFjLElBQUksQ0FBQztRQUU5Qix3QkFBa0IsR0FBYyxJQUFJLENBQUM7UUFFckMscUJBQWUsR0FBYyxJQUFJLENBQUM7UUFFbEMs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Q0F6MkRvQyxFQUFFLENBQUMsU0FBUyxHQXkyRGhEO2tCQXoyRG9CLE9BQU8iLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgV1hNYW5hZ2VyRVgsIHsgV1hBREVudm50IH0gZnJvbSBcIi4uLy4uL3N0YXJ0c2NlbmUvV1hNYW5hZ2VyRVhcIjtcclxuaW1wb3J0IHsgQWNjZXNzTmFtZSwgSHR0cE1hbmFnZXIgfSBmcm9tIFwiLi4vLi9OZXRXb3JrL0h0dHBNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEN1bXVsYXRpdmVSZWNoYXJnZXNNYW5hZ2VyIH0gZnJvbSBcIi4uL0FjY3VtdWxhdGVkUmVjaGFyZ2UvQ3VtdWxhdGl2ZVJlY2hhcmdlc1wiO1xyXG5pbXBvcnQgQXBrTWFuYWdlciBmcm9tIFwiLi4vQWRzL0Fwa01hbmFnZXJcIjtcclxuaW1wb3J0IENvaW5Qb3AgZnJvbSBcIi4uL0NvaW5Qb3BcIjtcclxuaW1wb3J0IHsgRnVuY1R5cGUsIEdhbWVNb2RlLCBJc0RlYnVnLCBWSURFT19UWVBFIH0gZnJvbSBcIi4uL0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgRXF1aXBJdGVtIGZyb20gXCIuLi9FcXVpcG1lbnQvVWkvRXF1aXBJdGVtXCI7XHJcbmltcG9ydCBHYW1lRGF0YSBmcm9tIFwiLi4vR2FtZURhdGFcIjtcclxuaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuLi9HYW1lTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBIZXJvTWFuYWdlciB9IGZyb20gXCIuLi9IZXJvL0RhdGEvSGVyb01hbmFnZXJcIjtcclxuaW1wb3J0IHsgSGVyb19UeXBlIH0gZnJvbSBcIi4uL0hlcm8vR2FtZS9IZXJvQ29uZmlnXCI7XHJcbmltcG9ydCB7IEZ1bmN0aW9uRGVmaW5pdGlvbk1hbmFnZXIgfSBmcm9tIFwiLi4vSnNvbkRhdGEvRnVuY3Rpb25EZWZpbml0aW9uXCI7XHJcbmltcG9ydCB7IFJld2FyZEhlcm9EYXRhIH0gZnJvbSBcIi4uL0pzb25EYXRhL0xldmVsSnNvbkRhdGFcIjtcclxuaW1wb3J0IHsgTGV2ZWxNYW5hZ2VyIH0gZnJvbSBcIi4uL0xldmVsL0xldmVsTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBNaXNzaW9uTGV2ZWxNYW5hZ2VyIH0gZnJvbSBcIi4uL0xldmVsL01pc3Npb25MZXZlbFwiO1xyXG5pbXBvcnQgeyBGb2xsb3dfVHlwZSB9IGZyb20gXCIuLi9tdWx0aUxhbmd1YWdlL0ZvbGxvd0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgRm9sbG93TWFuYWdlciBmcm9tIFwiLi4vbXVsdGlMYW5ndWFnZS9Gb2xsb3dNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IE9uTGFuZ3VhZ2VDaGFuZ2UgfSBmcm9tIFwiLi4vbXVsdGlMYW5ndWFnZS9MYW5ndWFnZUNvbnN0YW50c1wiO1xyXG5pbXBvcnQgTGFuZ3VhZ2VNYW5hZ2VyIGZyb20gXCIuLi9tdWx0aUxhbmd1YWdlL0xhbmd1YWdlTWFuYWdlclwiO1xyXG5pbXBvcnQgVGV4dExhbmd1YWdlIGZyb20gXCIuLi9tdWx0aUxhbmd1YWdlL1RleHRMYW5ndWFnZVwiO1xyXG5pbXBvcnQgeyBQYXlNYW5hZ2VyIH0gZnJvbSBcIi4uL1BheW1lbnQvUGF5TWFuYWdlclwiO1xyXG5pbXBvcnQgeyBJdGVtTWFuYWdlciB9IGZyb20gXCIuLi9Qcm9wL0RhdGEvSXRlbVwiO1xyXG5pbXBvcnQgUHJvcCBmcm9tIFwiLi4vUHJvcC9Qcm9wXCI7XHJcbmltcG9ydCB7IFByb3BBY3Rpb24sIFByb3BJZCB9IGZyb20gXCIuLi9Qcm9wL1Byb3BDb25maWdcIjtcclxuaW1wb3J0IHsgUHJvcE1hbmFnZXIgfSBmcm9tIFwiLi4vUHJvcC9Qcm9wTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBTdG9yYWdlS2V5IH0gZnJvbSBcIi4uL1N0b3JhZ2UvU3RvcmFnZUNvbmZpZ1wiO1xyXG5pbXBvcnQgeyBUaGVTdG9yYWdlTWFuYWdlciB9IGZyb20gXCIuLi9TdG9yYWdlL1N0b3JhZ2VNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFRhc2tJdGVtIH0gZnJvbSBcIi4uL1Rhc2svVGFza0VudW1cIjtcclxuaW1wb3J0IFRhc2tNYW5hZ2VyIGZyb20gXCIuLi9UYXNrL1Rhc2tNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEV2ZW50TWFuYWdlciwgUmVkRXZlbnRTdHJpbmcsIFJlZEV2ZW50VHlwZSB9IGZyb20gXCIuLi9Ub29scy9FdmVudE1hbmFnZXJcIjtcclxuaW1wb3J0IE15VG9vbCBmcm9tIFwiLi4vVG9vbHMvTXlUb29sXCI7XHJcbmltcG9ydCBUdXJtdGFibGUgZnJvbSBcIi4uL1R1cm50YWJsZS9UdXJtdGFibGVcIjtcclxuaW1wb3J0IFR1dG9yYWlsc01hbmFnZXIgZnJvbSBcIi4uL1R1dG9yaWFscy9UdXRvcmFpbHNNYW5hZ2VyXCI7XHJcbmltcG9ydCBNYWluVWkgZnJvbSBcIi4uL1VJL2hvbWUvTWFpblVpXCI7XHJcbmltcG9ydCB7IFVJTGF5ZXJMZXZlbCwgVUlQYXRoIH0gZnJvbSBcIi4uL1VJL1VJQ29uZmlnXCI7XHJcbmltcG9ydCB7IFVJTWFuYWdlciB9IGZyb20gXCIuLi9VSS9VSU1hbmFnZXJcIjtcclxuaW1wb3J0IFVzZXJEYXRhIGZyb20gXCIuLi9Vc2VyRGF0YVwiO1xyXG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuLi9Vc2VySW5mby9Vc2VySW5mb1wiO1xyXG5pbXBvcnQgeyBDaGFwdGVyUGFja01hbmFnZXIgfSBmcm9tIFwiLi9DaGFwdGVyUGFja1wiO1xyXG5pbXBvcnQgeyBDb21tb2RpdHlJbmZvcm1hdGlvbk1hbmFnZXIgfSBmcm9tIFwiLi9Db21tb2RpdHlJbmZvcm1hdGlvblwiO1xyXG5pbXBvcnQgeyBEYWlseVNob3BNYW5hZ2VyLCBKc29uRGFpbHlTaG9wIH0gZnJvbSBcIi4vRGFpbHlTaG9wXCI7XHJcbmltcG9ydCB7IERpYW1vbmRzUmVjaGFyZ2VNYW5hZ2VyLCBKc29uRGlhbW9uZHNSZWNoYXJnZSB9IGZyb20gXCIuL0RpYW1vbmRzUmVjaGFyZ2VcIjtcclxuaW1wb3J0IHsgRHJhd0NhcmRJbmZvcm1hdGlvbk1hbmFnZXIgfSBmcm9tIFwiLi9EcmF3Q2FyZEluZm9ybWF0aW9uXCI7XHJcbmltcG9ydCBQcm9iYWJpbGl0eVRpcFVpIGZyb20gXCIuL1Byb2JhYmlsaXR5VGlwVWlcIjtcclxuaW1wb3J0IHsgUHVyY2hhc2VDb2luc01hbmFnZXIgfSBmcm9tIFwiLi9QdXJjaGFzZUNvaW5zXCI7XHJcbmltcG9ydCBTdG9yZUhlcm9VaSBmcm9tIFwiLi9TdG9yZUhlcm9VaVwiO1xyXG5cclxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0b3JlVWkgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpXHJcbiAgICBzdG9yZV90aXRsZTogY2MuUHJlZmFiID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpXHJcbiAgICBzdG9yZV9jaGFwdGVyX2l0ZW06IGNjLlByZWZhYiA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxyXG4gICAgc3RvcmVfaGVyb19pdGVtOiBjYy5QcmVmYWIgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcclxuICAgIHN0b3JlX2RhaWx5X2l0ZW06IGNjLlByZWZhYiA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxyXG4gICAgc3RvcmVfcGV0X2l0ZW06IGNjLlByZWZhYiA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxyXG4gICAgc3RvcmVfZXF1aXBfaXRlbTogY2MuUHJlZmFiID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpXHJcbiAgICBzdG9yZV9nZW1faXRlbTogY2MuUHJlZmFiID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpXHJcbiAgICBzdG9yZV9jb2luX2l0ZW06IGNjLlByZWZhYiA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZUF0bGFzKVxyXG4gICAgc3RvcmVfdWk6IGNjLlNwcml0ZUF0bGFzID0gbnVsbDtcclxuXHJcbiAgICAvLyDnp4HmnInmlbDmja5cclxuICAgIHByaXZhdGUgaGVyb19pbnN0YW5jZTogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBwcml2YXRlIHdlYXBvbl9pbnN0YW5jZTogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBwcml2YXRlIHBldF9pbnN0YW5jZTogY2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgcHJpdmF0ZSBhZEl0ZW06Y2MuTm9kZT1udWxsO1xyXG4gICAgcHJpdmF0ZSBpbmZvcm1hdGlvblRlbXA6bnVtYmVyPTA7XHJcbiAgICBwcml2YXRlIGluZm9ybWF0aW9uSzpudW1iZXI9MDtcclxuXHJcbiAgICBwcml2YXRlIGVxdWlwSXRlbVRlbXA6Y2MuTm9kZT1udWxsO1xyXG4gICAgcHJpdmF0ZSBjb3N0SWRUZW1wOm51bWJlcj0wO1xyXG4gICAgcHJpdmF0ZSBwcml6ZUVxdWlwRGF0YVRlbXA7XHJcblxyXG4gICAgcHJpdmF0ZSB2VGVtcDtcclxuICAgIHByaXZhdGUga1RlbXA7XHJcblxyXG5cclxuICAgIHByb3RlY3RlZCBvbkxvYWQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlBPU0lUSU9OX0NIQU5HRUQsIHRoaXMub25Qb3NpdGlvbkNoYW5nZSwgdGhpcyk7XHJcbiAgICAgICAgY2MuZGlyZWN0b3Iub24oT25MYW5ndWFnZUNoYW5nZSwgdGhpcy5pbml0U3RvcmUsIHRoaXMpO1xyXG4gICAgICAgIGlmKFdYTWFuYWdlckVYLmdldEluc3RhbmNlKCkuc3RhdHVzQmFySGVpZ2h0PjIwKXsgICBcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmdldENvbXBvbmVudChjYy5XaWRnZXQpLnRvcCA9IDE1MDtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5pbml0U3RvcmUoKTtcclxuXHJcbiAgICAgICAgY2MuZGlyZWN0b3Iub24oV1hBREVudm50LlpVQU5TSElMSU5HUVVTSElQSU4sIHRoaXMub25TaGlwaW5Db21wLCB0aGlzKTtcclxuICAgICAgICBjYy5kaXJlY3Rvci5vbihXWEFERW52bnQuWkhVQU5HQkVJQ0hPVUpJQU5HLCB0aGlzLm9uU0hpcGluY29tcDIsIHRoaXMpO1xyXG4gICAgICAgIGNjLmRpcmVjdG9yLm9uKFdYQURFbnZudC5aSFVBTkdCRUlDSE9VSklBTkcsIHRoaXMub25TaGlwaW5jb21wMywgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uRGVzdHJveSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm5vZGUub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlBPU0lUSU9OX0NIQU5HRUQsIHRoaXMub25Qb3NpdGlvbkNoYW5nZSwgdGhpcyk7XHJcbiAgICAgICAgY2MuZGlyZWN0b3Iub2ZmKE9uTGFuZ3VhZ2VDaGFuZ2UsIHRoaXMuaW5pdFN0b3JlLCB0aGlzKTtcclxuICAgICAgICBjYy5kaXJlY3Rvci5vZmYoXCJvblJlZnJlc2hJbnN0YW5jZUl0ZW1cIik7XHJcbiAgICAgICAgY2MuZGlyZWN0b3Iub2ZmKFdYQURFbnZudC5aVUFOU0hJTElOR1FVU0hJUElOLCB0aGlzLm9uU2hpcGluQ29tcCwgdGhpcyk7XHJcbiAgICAgICAgY2MuZGlyZWN0b3Iub2ZmKFdYQURFbnZudC5aSFVBTkdCRUlDSE9VSklBTkcsIHRoaXMub25TSGlwaW5jb21wMiwgdGhpcyk7XHJcbiAgICAgICAgY2MuZGlyZWN0b3Iub2ZmKFdYQURFbnZudC5aSFVBTkdCRUlDSE9VSklBTkcsIHRoaXMub25TaGlwaW5jb21wMywgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Qb3NpdGlvbkNoYW5nZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5ub2RlLnggPT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLm9uRW5hYmxlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUu5ZWG5Z+O5ZWG5Z+O6aG154K55Ye75qyh5pWwKTtcclxuICAgICAgICAvL3RoaXMucmVmcmVzaFN0b3JlKCk7XHJcbiAgICAgICAgLy90aGlzLmNoZWNrVHV0b3JhaWxzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tUdXRvcmFpbHMoKSB7XHJcbiAgICAgICAgaWYgKFR1dG9yYWlsc01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5pc190dXRvcmFpbHNfc3RhdGUgJiYgVHV0b3JhaWxzTWFuYWdlci5nZXRJbnN0YW5jZSgpLmlzU2hvd1R1dG9yaWFscygyMjIpICYmIExldmVsTWFuYWdlci5nZXRJbnN0YW5jZSgpLmZpbmlzaF9sZXZlbCA+PSAzKSB7XHJcbiAgICAgICAgICAgIFR1dG9yYWlsc01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5pc190dXRvcmFpbHNfc3RhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3RvcmVfdWkgPSBjYy5maW5kKCdDYW52YXMvc3RvcmVfdWkvc2Nyb2xsJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29udGVudCA9IHN0b3JlX3VpLmdldENvbXBvbmVudChjYy5TY3JvbGxWaWV3KS5jb250ZW50O1xyXG4gICAgICAgICAgICAgICAgbGV0IGJ0bjEgPSBjb250ZW50LmdldENoaWxkQnlOYW1lKCdoZXJvUm9vdCcpLmdldENoaWxkQnlOYW1lKCdoZXJvSXRlbScpLmdldENoaWxkQnlOYW1lKCdidG4xJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgd29yZFBvcyA9IGJ0bjEucGFyZW50LmNvbnZlcnRUb1dvcmxkU3BhY2VBUihidG4xLmdldFBvc2l0aW9uKCkpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGxvY2FsUG9zID0gY2MuZmluZCgnQ2FudmFzL1VpX1Jvb3QnKS5jb252ZXJ0VG9Ob2RlU3BhY2VBUih3b3JkUG9zKTtcclxuICAgICAgICAgICAgICAgIGxvY2FsUG9zLnggLT0gY2MuZmluZCgnQ2FudmFzL3N0b3JlX3VpJykueDtcclxuICAgICAgICAgICAgICAgIFR1dG9yYWlsc01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93VHV0b3JpYWxzKDIyMiwgbnVsbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0oNDAwMDQsIC0xKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoSGVyb01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRIZXJvSW5mbyhIZXJvX1R5cGUuRGVMdVlpKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkTGlzdDogUmV3YXJkSGVyb0RhdGFbXSA9IG5ldyBBcnJheTxSZXdhcmRIZXJvRGF0YT4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZCA9IG5ldyBSZXdhcmRIZXJvRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmQuZHJvcElkID0gMTEwMDA0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmQuZHJvcE51bSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXdhcmRMaXN0LnB1c2gocmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVyb01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5hZGRIZXJvKEhlcm9fVHlwZS5EZUx1WWkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZXJvTWFuYWdlci5nZXRJbnN0YW5jZSgpLnJlcG9ydEhlcm9MaXN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVhbUxpc3QgPSBIZXJvTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFRlYW1MaXN0KEdhbWVNb2RlLk1haW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVhbUxpc3RbMV0gPSBIZXJvX1R5cGUuRGVMdVlpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVyb01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zYXZlVGVhbUxpc3QoR2FtZU1vZGUuTWFpbiwgdGVhbUxpc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVHV0b3JhaWxzTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNhdmVUdXRvcmlhbHMoMjIyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR1dG9yYWlsc01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zYXZlVHV0b3JpYWxzKDIyMyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVSU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93VWlEaWFsb2coVUlQYXRoLlN0b3JlSGVyb1VpLCBVSUxheWVyTGV2ZWwuT25lLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZWQ6ICh1aU5vZGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWlOb2RlLmdldENvbXBvbmVudChTdG9yZUhlcm9VaSkuaW5pdCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/nm7TmjqXov5vlhaXmuLjmiI9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYy5maW5kKCdDYW52YXMvbWFpbl91aScpLmdldENvbXBvbmVudChNYWluVWkpLnN0YXJ0R2FtZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWlOb2RlLmdldENvbXBvbmVudChTdG9yZUhlcm9VaSkuaW5pdERhdGEocmV3YXJkTGlzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgZmFsc2UsIG51bGwsIGxvY2FsUG9zKTtcclxuICAgICAgICAgICAgfSwgMC4xKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGluaXRTdG9yZSgpIHtcclxuICAgICAgICBsZXQgY29udGVudCA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcInNjcm9sbFwiKS5nZXRDb21wb25lbnQoY2MuU2Nyb2xsVmlldykuY29udGVudDtcclxuICAgICAgICBjb250ZW50LnJlbW92ZUFsbENoaWxkcmVuKCk7XHJcbiAgICAgICAgY2MuZGlyZWN0b3Iub2ZmKFwib25SZWZyZXNoSW5zdGFuY2VJdGVtXCIpO1xyXG4gICAgICAgIGNjLmRpcmVjdG9yLm9uKFwib25SZWZyZXNoSW5zdGFuY2VJdGVtXCIsIHRoaXMub25SZWZyZXNoSW5zdGFuY2VJdGVtLCB0aGlzKTtcclxuICAgICAgICAvLyDnq6DoioLnpLzljIVcclxuICAgICAgICAvLyNyZWdpb24gXHJcbiAgICAgICAgbGV0IHRpdGxlID0gY2MuaW5zdGFudGlhdGUodGhpcy5zdG9yZV90aXRsZSk7XHJcbiAgICAgICAgdGl0bGUuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihUZXh0TGFuZ3VhZ2UpLnNldFRleHRJZCgxNDMwMDAxKTtcclxuICAgICAgICB0aXRsZS5uYW1lID0gXCJjaGFwdGVyVGl0bGVcIjtcclxuICAgICAgICBjb250ZW50LmFkZENoaWxkKHRpdGxlKTtcclxuICAgICAgICBsZXQgY2hhcHRlclJvb3QgPSBuZXcgY2MuTm9kZSgpO1xyXG4gICAgICAgIGNoYXB0ZXJSb290Lm5hbWUgPSAnY2hhcHRlclJvb3QnO1xyXG4gICAgICAgIGNoYXB0ZXJSb290LmhlaWdodCA9IHRoaXMuc3RvcmVfY2hhcHRlcl9pdGVtLmRhdGEuaGVpZ2h0O1xyXG4gICAgICAgIGNoYXB0ZXJSb290LndpZHRoID0gKHRoaXMuc3RvcmVfY2hhcHRlcl9pdGVtLmRhdGEud2lkdGggKyAyMCkgKiAzO1xyXG5cclxuICAgICAgICBsZXQgY2hhcHRlclJpZ2h0ID0gbmV3IGNjLk5vZGUoKTtcclxuICAgICAgICBsZXQgY2hhcHRlckxlZnQgPSBuZXcgY2MuTm9kZSgpO1xyXG5cclxuICAgICAgICBjaGFwdGVyUmlnaHQuYWRkQ29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSB0aGlzLnN0b3JlX3VpLmdldFNwcml0ZUZyYW1lKFwiU2hvcF9BcnJvd1wiKVxyXG4gICAgICAgIGNoYXB0ZXJMZWZ0LmFkZENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gdGhpcy5zdG9yZV91aS5nZXRTcHJpdGVGcmFtZShcIlNob3BfQXJyb3dcIilcclxuICAgICAgICBjaGFwdGVyTGVmdC5zY2FsZVggPSAtMTtcclxuXHJcbiAgICAgICAgY2hhcHRlclJvb3QuYWRkQ2hpbGQoY2hhcHRlclJpZ2h0KTtcclxuICAgICAgICBjaGFwdGVyUm9vdC5hZGRDaGlsZChjaGFwdGVyTGVmdCk7XHJcblxyXG4gICAgICAgIGNoYXB0ZXJSaWdodC54ID0gMzQ1O1xyXG4gICAgICAgIGNoYXB0ZXJMZWZ0LnggPSAtMzQ1O1xyXG4gICAgICAgIGNoYXB0ZXJMZWZ0LmFjdGl2ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBsZXQgY2hhcHRlckRhdGEgPSBDaGFwdGVyUGFja01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKc29uRGF0YSgpO1xyXG4gICAgICAgIC8vIGNoYXB0ZXJEYXRhLmZvckVhY2goKHYsIGspID0+IHtcclxuICAgICAgICAvLyAgICAgaWYgKFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyaW5nKFN0b3JhZ2VLZXkuU3RvcmVDaGFwdGVySXRlbSArIHYuQ2hhcHRlciwgJycpID09ICcnICYmIChMZXZlbE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRGaW5pc2hDaGFwdGVyKCkpID49IHYuQ2hhcHRlcikge1xyXG4gICAgICAgIC8vICAgICAgICAgbGV0IGl0ZW0gPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnN0b3JlX2NoYXB0ZXJfaXRlbSk7XHJcbiAgICAgICAgLy8gICAgICAgICBpdGVtLm5hbWUgPSBcImNoYXB0ZXJJdGVtXCIgKyB2LkNoYXB0ZXI7XHJcbiAgICAgICAgLy8gICAgICAgICBpZiAodi5DaGFwdGVyID09IDEpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwidGl0bGVcIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc2V0VGV4dElkKDE0MzAwMDIpO1xyXG4gICAgICAgIC8vICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwidGl0bGVcIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc2V0VGV4dElkKDE0MzAwMDMpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJ0aXRsZVwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zZXRSZXBsYWNlVmFsdWUoJ34nLCB2LkNoYXB0ZXIgKyAnJyk7XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgICAgICBsZXQgcGF5SW5mbyA9IFBheU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQYXlJbmZvKHYuUHJvZHVjdElkKTtcclxuICAgICAgICAvLyAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJvcmlnaW5QcmljZVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IHBheUluZm8uY3VycmVuY3kgKyAoTXlUb29sLmdldE51bWJlckZyb21TdHJpbmcocGF5SW5mby5wcmljZSkgKiB2LkluaXRpYWxQcmljZSk7XHJcbiAgICAgICAgLy8gICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwicGF5QnRuXCIpLmdldENvbXBvbmVudEluQ2hpbGRyZW4oY2MuTGFiZWwpLnN0cmluZyA9IHBheUluZm8ucHJpY2U7XHJcbiAgICAgICAgLy8gICAgICAgICBsZXQgcHJvcFJvb3QgPSBpdGVtLmdldENoaWxkQnlOYW1lKFwiaXRlbVJvb3RcIik7XHJcbiAgICAgICAgLy8gICAgICAgICBpZiAodi5HZXRDb2luTnVtICE9IDApIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBsZXQgcmV3YXJkID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShQcm9wSWQuQ29pbiwgdi5HZXRDb2luTnVtKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICByZXdhcmQuc2NhbGUgPSAwLjc1O1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHByb3BSb290LmFkZENoaWxkKHJld2FyZCk7XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgICAgICBpZiAodi5HZXRHZW1OdW0gIT0gMCkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKFByb3BJZC5HZW0sIHYuR2V0R2VtTnVtKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICByZXdhcmQuc2NhbGUgPSAwLjc1O1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHByb3BSb290LmFkZENoaWxkKHJld2FyZCk7XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgICAgICBpZiAodi5JdGVtSWRfMSAhPSAwKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgbGV0IHJld2FyZCA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlUHJvcEl0ZW0odi5JdGVtSWRfMSwgdi5JdGVtTnVtXzEpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHJld2FyZC5zY2FsZSA9IDAuNzU7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgcHJvcFJvb3QuYWRkQ2hpbGQocmV3YXJkKTtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgIGlmICh2Lkl0ZW1JZF8yICE9IDApIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBsZXQgcmV3YXJkID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbSh2Lkl0ZW1JZF8yLCB2Lkl0ZW1OdW1fMik7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgcmV3YXJkLnNjYWxlID0gMC43NTtcclxuICAgICAgICAvLyAgICAgICAgICAgICBwcm9wUm9vdC5hZGRDaGlsZChyZXdhcmQpO1xyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgY2hhcHRlclJvb3QuYWRkQ2hpbGQoaXRlbSk7XHJcbiAgICAgICAgLy8gICAgICAgICBpZiAoY2hhcHRlclJvb3QuY2hpbGRyZW5Db3VudCA9PSAzKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgY2hhcHRlclJvb3QuY2hpbGRyZW5bMl0ueCA9IDA7XHJcbiAgICAgICAgLy8gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGNoYXB0ZXJSb290LmNoaWxkcmVuW2NoYXB0ZXJSb290LmNoaWxkcmVuQ291bnQgLSAxXS54ID0gMiAqIGNoYXB0ZXJSb290LmNoaWxkcmVuW2NoYXB0ZXJSb290LmNoaWxkcmVuQ291bnQgLSAxXS53aWR0aDtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgIGxldCBidG4gPSBpdGVtLmdldENoaWxkQnlOYW1lKFwicGF5QnRuXCIpO1xyXG4gICAgICAgIC8vICAgICAgICAgYnRuLmFkZENvbXBvbmVudChjYy5CdXR0b24pLnRyYW5zaXRpb24gPSBjYy5CdXR0b24uVHJhbnNpdGlvbi5TQ0FMRTtcclxuICAgICAgICAvLyAgICAgICAgIGJ0bi5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS5kdXJhdGlvbiA9IDAuMTtcclxuICAgICAgICAvLyAgICAgICAgIGJ0bi5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS56b29tU2NhbGUgPSAwLjk7XHJcbiAgICAgICAgLy8gICAgICAgICBidG4ub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCAoKSA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgQXBrTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dQYXkoe1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICByZXN1bHQ6IChpc0R5KSA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBpZiAoaXNEeSkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS7llYbln47nq6DoioLnpLzljIV456ug54K55Ye76LSt5Lmw5qyh5pWwICsgdi5DaGFwdGVyKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkTGlzdCA9IFtdO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2LkdldENvaW5OdW0gIT0gMCkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0oUHJvcElkLkNvaW4sIHYuR2V0Q29pbk51bSlcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJld2FyZCA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlUHJvcEl0ZW0oUHJvcElkLkNvaW4sIHYuR2V0Q29pbk51bSk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJld2FyZExpc3QucHVzaChyZXdhcmQpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodi5HZXRHZW1OdW0gIT0gMCkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0oUHJvcElkLkdlbSwgdi5HZXRHZW1OdW0pXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKFByb3BJZC5HZW0sIHYuR2V0R2VtTnVtKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV3YXJkTGlzdC5wdXNoKHJld2FyZCk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2Lkl0ZW1JZF8xICE9IDApIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKHYuSXRlbUlkXzEsIHYuSXRlbU51bV8xKVxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbSh2Lkl0ZW1JZF8xLCB2Lkl0ZW1OdW1fMSk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJld2FyZExpc3QucHVzaChyZXdhcmQpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodi5JdGVtSWRfMiAhPSAwKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bSh2Lkl0ZW1JZF8yLCB2Lkl0ZW1OdW1fMilcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJld2FyZCA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlUHJvcEl0ZW0odi5JdGVtSWRfMiwgdi5JdGVtTnVtXzIpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXdhcmRMaXN0LnB1c2gocmV3YXJkKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93TXVsdGlwbGVHZXRUaXAocmV3YXJkTGlzdCk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zZXRJdGVtKFN0b3JhZ2VLZXkuU3RvcmVDaGFwdGVySXRlbSArIHYuQ2hhcHRlciwgJzEnKVxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXB0ZXJSb290LnJlbW92ZUNoaWxkKGl0ZW0pO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFwdGVyUm9vdC5jaGlsZHJlbkNvdW50ID09IDIpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudC5nZXRDaGlsZEJ5TmFtZShcImNoYXB0ZXJUaXRsZVwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcHRlckxlZnQuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXB0ZXJSaWdodC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcHRlclJvb3QuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFwdGVyUm9vdC5jaGlsZHJlbkNvdW50IDw9IDMpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcHRlckxlZnQuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXB0ZXJSaWdodC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2MudHdlZW4oY2hhcHRlclJvb3QuY2hpbGRyZW5bMl0pLnRvKDAuMiwgeyBwb3NpdGlvbjogY2MudjMoMCwgMCwgMCkgfSkuc3RhcnQoKS5jYWxsKCgpID0+IHtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNjLnR3ZWVuKGNoYXB0ZXJSb290LmNoaWxkcmVuWzJdKS50bygwLjIsIHsgcG9zaXRpb246IGNjLnYzKDAsIDAsIDApIH0pLnN0YXJ0KCkuY2FsbCgoKSA9PiB7XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgfSwgdi5Qcm9kdWN0SWQpXHJcbiAgICAgICAgLy8gICAgICAgICB9KTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICBjaGFwdGVyTGVmdC5hZGRDb21wb25lbnQoY2MuQnV0dG9uKS50cmFuc2l0aW9uID0gY2MuQnV0dG9uLlRyYW5zaXRpb24uU0NBTEU7XHJcbiAgICAgICAgY2hhcHRlckxlZnQuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuZHVyYXRpb24gPSAwLjE7XHJcbiAgICAgICAgY2hhcHRlckxlZnQuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuem9vbVNjYWxlID0gMC45O1xyXG5cclxuICAgICAgICBjaGFwdGVyUmlnaHQuYWRkQ29tcG9uZW50KGNjLkJ1dHRvbikudHJhbnNpdGlvbiA9IGNjLkJ1dHRvbi5UcmFuc2l0aW9uLlNDQUxFO1xyXG4gICAgICAgIGNoYXB0ZXJSaWdodC5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS5kdXJhdGlvbiA9IDAuMTtcclxuICAgICAgICBjaGFwdGVyUmlnaHQuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuem9vbVNjYWxlID0gMC45O1xyXG5cclxuICAgICAgICBsZXQgaW5kZXggPSAyO1xyXG4gICAgICAgIGNoYXB0ZXJSaWdodC5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsICgpID0+IHtcclxuICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgaWYgKGluZGV4ID49IGNoYXB0ZXJSb290LmNoaWxkcmVuQ291bnQgLSAxKSB7XHJcbiAgICAgICAgICAgICAgICBpbmRleCA9IGNoYXB0ZXJSb290LmNoaWxkcmVuQ291bnQgLSAxO1xyXG4gICAgICAgICAgICAgICAgY2hhcHRlclJpZ2h0LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA+IDIpIGNoYXB0ZXJMZWZ0LmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGNjLnR3ZWVuKGNoYXB0ZXJSb290LmNoaWxkcmVuW2luZGV4XSkudG8oMC4yLCB7IHBvc2l0aW9uOiBjYy52MygwLCAwLCAwKSB9KS5zdGFydCgpLmNhbGwoKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNjLnR3ZWVuKGNoYXB0ZXJSb290LmNoaWxkcmVuW2luZGV4IC0gMV0pLnRvKDAuMiwgeyBwb3NpdGlvbjogY2MudjMoLTgwMCwgMCwgMCkgfSkuc3RhcnQoKS5jYWxsKCgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjaGFwdGVyTGVmdC5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsICgpID0+IHtcclxuICAgICAgICAgICAgaW5kZXgtLTtcclxuICAgICAgICAgICAgaWYgKGluZGV4IDw9IDIpIHtcclxuICAgICAgICAgICAgICAgIGluZGV4ID0gMjtcclxuICAgICAgICAgICAgICAgIGNoYXB0ZXJMZWZ0LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA8IGNoYXB0ZXJSb290LmNoaWxkcmVuQ291bnQgLSAxKSBjaGFwdGVyUmlnaHQuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgY2MudHdlZW4oY2hhcHRlclJvb3QuY2hpbGRyZW5baW5kZXhdKS50bygwLjIsIHsgcG9zaXRpb246IGNjLnYzKDAsIDAsIDApIH0pLnN0YXJ0KCkuY2FsbCgoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY2MudHdlZW4oY2hhcHRlclJvb3QuY2hpbGRyZW5baW5kZXggKyAxXSkudG8oMC4yLCB7IHBvc2l0aW9uOiBjYy52Myg4MDAsIDAsIDApIH0pLnN0YXJ0KCkuY2FsbCgoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKGNoYXB0ZXJSb290LmNoaWxkcmVuQ291bnQgPD0gMykge1xyXG4gICAgICAgICAgICBjaGFwdGVyTGVmdC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgY2hhcHRlclJpZ2h0LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNoYXB0ZXJSb290LmNoaWxkcmVuQ291bnQgPT0gMikge1xyXG4gICAgICAgICAgICBjb250ZW50LmdldENoaWxkQnlOYW1lKFwiY2hhcHRlclRpdGxlXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjaGFwdGVyUm9vdC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuZ2V0Q2hpbGRCeU5hbWUoXCJjaGFwdGVyVGl0bGVcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgY2hhcHRlclJvb3QuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29udGVudC5hZGRDaGlsZChjaGFwdGVyUm9vdCk7XHJcbiAgICAgICAgLy8jZW5kcmVnaW9uXHJcbiAgICAgICAgLy8g6Iux6ZuE5oub5YufXHJcbiAgICAgICAgdGl0bGUgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnN0b3JlX3RpdGxlKTtcclxuICAgICAgICB0aXRsZS5nZXRDb21wb25lbnRJbkNoaWxkcmVuKFRleHRMYW5ndWFnZSkuc2V0VGV4dElkKDE0NjAwMTEpO1xyXG4gICAgICAgIHRpdGxlLm5hbWUgPSBcIm15c3RlcnlUaXRsZVwiO1xyXG4gICAgICAgIGNvbnRlbnQuYWRkQ2hpbGQodGl0bGUpO1xyXG5cclxuICAgICAgICBsZXQgaGVyb1Jvb3QgPSBuZXcgY2MuTm9kZSgpO1xyXG4gICAgICAgIGhlcm9Sb290Lm5hbWUgPSAnaGVyb1Jvb3QnO1xyXG4gICAgICAgIGhlcm9Sb290LmhlaWdodCA9IHRoaXMuc3RvcmVfaGVyb19pdGVtLmRhdGEuaGVpZ2h0O1xyXG4gICAgICAgIGhlcm9Sb290LndpZHRoID0gKHRoaXMuc3RvcmVfaGVyb19pdGVtLmRhdGEud2lkdGggKyAyMCkgKiAzO1xyXG5cclxuICAgICAgICBsZXQgaGVyb0l0ZW0gPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnN0b3JlX2hlcm9faXRlbSk7XHJcbiAgICAgICAgdGhpcy5oZXJvX2luc3RhbmNlID0gaGVyb0l0ZW07XHJcbiAgICAgICAgaGVyb0l0ZW0ubmFtZSA9IFwiaGVyb0l0ZW1cIjtcclxuICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcInJpY2hCZ1wiKS5nZXRDb21wb25lbnRJbkNoaWxkcmVuKGNjLlJpY2hUZXh0KS5zdHJpbmcgPSBMYW5ndWFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdHJCeVRleHRJZCgxNDYwMDAyKTtcclxuICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcIkljb25OdW1cIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcIlhcIiArIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bSg0MDAwNCk7XHJcbiAgICAgICAgbGV0IHByaXplSGVyb0RhdGEgPSBEcmF3Q2FyZEluZm9ybWF0aW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEpzb25EcmF3Q2FyZEluZm9ybWF0aW9uKDEwMDEpO1xyXG4gICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgaGVyb0l0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgaGVyb0l0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaGVyb0l0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgaGVyb0l0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVIZXJvRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgIGhlcm9JdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xMFwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUhlcm9EYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaGVyb0l0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMik7XHJcbiAgICAgICAgICAgIGhlcm9JdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMTBcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplSGVyb0RhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBoZXJvVGlwID0gaGVyb0l0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJuYW1lXCIpLmdldENoaWxkQnlOYW1lKFwidGlwXCIpO1xyXG4gICAgICAgIGhlcm9UaXAuYWRkQ29tcG9uZW50KGNjLkJ1dHRvbikudHJhbnNpdGlvbiA9IGNjLkJ1dHRvbi5UcmFuc2l0aW9uLlNDQUxFO1xyXG4gICAgICAgIGhlcm9UaXAuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuZHVyYXRpb24gPSAwLjE7XHJcbiAgICAgICAgaGVyb1RpcC5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS56b29tU2NhbGUgPSAwLjk7XHJcblxyXG4gICAgICAgIGhlcm9UaXAub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCAoKSA9PiB7XHJcbiAgICAgICAgICAgIFVJTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dVaURpYWxvZyhVSVBhdGguUHJvYmFiaWxpdHlUaXBVaSwgVUlMYXllckxldmVsLk9uZSwge1xyXG4gICAgICAgICAgICAgICAgb25Db21wbGV0ZWQ6ICh1aU5vZGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB1aU5vZGUuZ2V0Q29tcG9uZW50KFByb2JhYmlsaXR5VGlwVWkpLmluaXQobnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdWlOb2RlLmdldENvbXBvbmVudChQcm9iYWJpbGl0eVRpcFVpKS5pbml0VWkoKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgaGVyb0J0bjEgPSBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcImJ0bjFcIik7XHJcbiAgICAgICAgbGV0IGhlcm9CdG4xMCA9IGhlcm9JdGVtLmdldENoaWxkQnlOYW1lKFwiYnRuMTBcIik7XHJcbiAgICAgICAgaGVyb0J0bjEwLmdldENoaWxkQnlOYW1lKCdyZWQnKS5hY3RpdmUgPSBHYW1lRGF0YS5nZXRJbnN0YW5jZSgpLmdldEhlcm9SZWNydWl0aW5nUmVkVGlwKCk7XHJcbiAgICAgICAgaGVyb0J0bjEuYWRkQ29tcG9uZW50KGNjLkJ1dHRvbikudHJhbnNpdGlvbiA9IGNjLkJ1dHRvbi5UcmFuc2l0aW9uLlNDQUxFO1xyXG4gICAgICAgIGhlcm9CdG4xLmdldENvbXBvbmVudChjYy5CdXR0b24pLmR1cmF0aW9uID0gMC4xO1xyXG4gICAgICAgIGhlcm9CdG4xLmdldENvbXBvbmVudChjYy5CdXR0b24pLnpvb21TY2FsZSA9IDAuOTtcclxuXHJcbiAgICAgICAgaGVyb0J0bjEwLmFkZENvbXBvbmVudChjYy5CdXR0b24pLnRyYW5zaXRpb24gPSBjYy5CdXR0b24uVHJhbnNpdGlvbi5TQ0FMRTtcclxuICAgICAgICBoZXJvQnRuMTAuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuZHVyYXRpb24gPSAwLjE7XHJcbiAgICAgICAgaGVyb0J0bjEwLmdldENvbXBvbmVudChjYy5CdXR0b24pLnpvb21TY2FsZSA9IDAuOTtcclxuXHJcbiAgICAgICAgaGVyb0J0bjEub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjb3N0SWQgPSAwO1xyXG4gICAgICAgICAgICBsZXQgY29zdE51bSA9IDA7XHJcbiAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgICAgIGNvc3RJZCA9IHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMTtcclxuICAgICAgICAgICAgICAgIGNvc3ROdW0gPSBwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgICAgICAgICAvLyDku6XkuIvkuLrlkI7nq6/mnKrlrZjmtojotLnliLjnmoTlpITnkIbvvIzlvZPlkI7nq6/lrZjlgqjmtojotLnliLjml7bvvIzkvb/nlKjkuIrpnaLkuKTooYzku6PnoIFcclxuICAgICAgICAgICAgICAgIC8vIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzEsLXByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSk7XHJcbiAgICAgICAgICAgICAgICAvLyBjb3N0SWQgPSBwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzI7XHJcbiAgICAgICAgICAgICAgICAvLyBjb3N0TnVtID0gMDtcclxuICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5hZGRUb3RhbChGb2xsb3dfVHlwZS7orrDlvZXmi5vli5/mtojogJfmi5vli5/ljbfmlbDph48sIHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb3N0SWQgPSBwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzI7XHJcbiAgICAgICAgICAgICAgICBjb3N0TnVtID0gcHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmFkZFRvdGFsKEZvbGxvd19UeXBlLuiusOW9leaLm+WLn+WNt+a2iOiAl+mSu+efs+aVsOmHjywgY29zdE51bSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaWYoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKGNvc3RJZCkgPCBjb3N0TnVtKXtcclxuICAgICAgICAgICAgLy8gICAgIFVJTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dVaURpYWxvZyhVSVBhdGguQ29pblBvcCxVSUxheWVyTGV2ZWwuVHdvLHtvbkNvbXBsZXRlZDoodWlOb2RlKT0+IHtcclxuICAgICAgICAgICAgLy8gICAgICAgICB1aU5vZGUuZ2V0Q29tcG9uZW50KENvaW5Qb3ApLmluaXRVaShQcm9wSWQuR2VtKVxyXG4gICAgICAgICAgICAvLyAgICAgfSx9KTtcclxuICAgICAgICAgICAgLy8gICAgIHJldHVybjtcclxuICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShjb3N0SWQpIDwgY29zdE51bSkge1xyXG4gICAgICAgICAgICAgICAgLy8gR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93TWVzc2FnZShMYW5ndWFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdHJCeVRleHRJZCgxMDAwNDEpKTtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcInNjcm9sbFwiKS5nZXRDb21wb25lbnQoY2MuU2Nyb2xsVmlldykuc2Nyb2xsVG9Cb3R0b20oMik7XHJcbiAgICAgICAgICAgICAgICBVSU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93VWlEaWFsb2coVUlQYXRoLlR1cm50YWJsZSxVSUxheWVyTGV2ZWwuT25lLHtvbkNvbXBsZXRlZDoodWlOb2RlKT0+IHtcclxuICAgICAgICAgICAgICAgICAgICB1aU5vZGUuZ2V0Q29tcG9uZW50KFR1cm10YWJsZSkuaW5pdFVpKClcclxuICAgICAgICAgICAgICAgIH0sfSk7Ly/ovaznm5hcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gaWYoSXNEZWJ1ZykgY29zdE51bSA9IDA7XHJcbiAgICAgICAgICAgIEh0dHBNYW5hZ2VyLnBvc3QoQWNjZXNzTmFtZS50cnlQcml6ZSwgdGhpcy5nZXRQcml6ZUpzb25TdHJpbmcoMSwgMSwgY29zdElkLCBjb3N0TnVtKSwgdHJ1ZSkudGhlbigoZGF0YTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShjb3N0SWQsIC1jb3N0TnVtKTtcclxuICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnJlZnJlc2hHZW1TaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmZvbGxvd0V2ZW50KEZvbGxvd19UeXBlLuiusOW9leWNleasoeaLm+WLn+eahOasoeaVsCk7XHJcbiAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ov5vooYwx5qyh6Iux6ZuE5oub5YufKTtcclxuICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLui/m+ihjDEw5qyh6Iux6ZuE5oub5YufKTtcclxuICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLuaLm+WLn1jmrKHoi7Hpm4QpO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShkYXRhWzBdLmRyb3BJZCwgZGF0YVswXS5kcm9wTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICBIZXJvTWFuYWdlci5nZXRJbnN0YW5jZSgpLnJlcG9ydEhlcm9MaXN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHR5cGUgPSBJdGVtTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFR5cGUoZGF0YVswXS5kcm9wSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09IDExKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u57Sv6K6h5oub5YufWOS4quiLsembhCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2F2ZUFsbFByb3BOdW0oKTtcclxuICAgICAgICAgICAgICAgICAgICBVSU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93VWlEaWFsb2coVUlQYXRoLlN0b3JlSGVyb1VpLCBVSUxheWVyTGV2ZWwuT25lLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGVkOiAodWlOb2RlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aU5vZGUuZ2V0Q29tcG9uZW50KFN0b3JlSGVyb1VpKS5pbml0KG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdWlOb2RlLmdldENvbXBvbmVudChTdG9yZUhlcm9VaSkuaW5pdERhdGEoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZUhlcm9EYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVyb0l0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlcm9JdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMTBcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplSGVyb0RhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMTBcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVyb0l0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVIZXJvRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGhlcm9CdG4xMC5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGNvc3RJZCA9IDA7XHJcbiAgICAgICAgICAgIGxldCBjb3N0TnVtID0gMDtcclxuICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplSGVyb0RhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgY29zdElkID0gcHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8xO1xyXG4gICAgICAgICAgICAgICAgY29zdE51bSA9IHByaXplSGVyb0RhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgIC8vIOS7peS4i+S4uuWQjuerr+acquWtmOa2iOi0ueWIuOeahOWkhOeQhu+8jOW9k+WQjuerr+WtmOWCqOa2iOi0ueWIuOaXtu+8jOS9v+eUqOS4iumdouS4pOihjOS7o+eggVxyXG4gICAgICAgICAgICAgICAgLy8gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMSwtcHJpemVIZXJvRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvc3RJZCA9IHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMjtcclxuICAgICAgICAgICAgICAgIC8vIGNvc3ROdW0gPSAwO1xyXG4gICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmFkZFRvdGFsKEZvbGxvd19UeXBlLuiusOW9leaLm+WLn+a2iOiAl+aLm+WLn+WNt+aVsOmHjywgcHJpemVIZXJvRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvc3RJZCA9IHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMjtcclxuICAgICAgICAgICAgICAgIGNvc3ROdW0gPSBwcml6ZUhlcm9EYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuYWRkVG90YWwoRm9sbG93X1R5cGUu6K6w5b2V5oub5Yuf5Y235raI6ICX6ZK755+z5pWw6YePLCBjb3N0TnVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBpZihQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0oY29zdElkKSA8IGNvc3ROdW0pe1xyXG4gICAgICAgICAgICAvLyAgICAgVUlNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd1VpRGlhbG9nKFVJUGF0aC5Db2luUG9wLFVJTGF5ZXJMZXZlbC5Ud28se29uQ29tcGxldGVkOih1aU5vZGUpPT4ge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIHVpTm9kZS5nZXRDb21wb25lbnQoQ29pblBvcCkuaW5pdFVpKFByb3BJZC5HZW0pXHJcbiAgICAgICAgICAgIC8vICAgICB9LH0pO1xyXG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKGNvc3RJZCkgPCBjb3N0TnVtKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dNZXNzYWdlKExhbmd1YWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0ckJ5VGV4dElkKDEwMDA0MSkpO1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwic2Nyb2xsXCIpLmdldENvbXBvbmVudChjYy5TY3JvbGxWaWV3KS5zY3JvbGxUb0JvdHRvbSgyKTtcclxuICAgICAgICAgICAgICAgIFVJTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dVaURpYWxvZyhVSVBhdGguVHVybnRhYmxlLFVJTGF5ZXJMZXZlbC5PbmUse29uQ29tcGxldGVkOih1aU5vZGUpPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHVpTm9kZS5nZXRDb21wb25lbnQoVHVybXRhYmxlKS5pbml0VWkoKVxyXG4gICAgICAgICAgICAgICAgfSx9KTsvL+i9rOebmFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBpZihJc0RlYnVnKSBjb3N0TnVtID0gMDsgICBcclxuICAgICAgICAgICAgSHR0cE1hbmFnZXIucG9zdChBY2Nlc3NOYW1lLnRyeVByaXplLCB0aGlzLmdldFByaXplSnNvblN0cmluZygyLCAxLCBjb3N0SWQsIGNvc3ROdW0pLCB0cnVlKS50aGVuKChkYXRhOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKGNvc3RJZCwgLWNvc3ROdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkucmVmcmVzaEdlbVNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUu6K6w5b2V5Y2B5qyh5oub5Yuf55qE5qyh5pWwKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLui/m+ihjDHmrKHoi7Hpm4Tmi5vli58pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLui/m+ihjDEw5qyh6Iux6ZuE5oub5YufKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7mi5vli59Y5qyh6Iux6ZuEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKGRhdGFbaV0uZHJvcElkLCBkYXRhW2ldLmRyb3BOdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHlwZSA9IEl0ZW1NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0VHlwZShkYXRhW2ldLmRyb3BJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09IDExKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLue0r+iuoeaLm+WLn1jkuKroi7Hpm4QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIEhlcm9NYW5hZ2VyLmdldEluc3RhbmNlKCkucmVwb3J0SGVyb0xpc3QoKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcEluZGV4ID0gTXlUb29sLnJhbmRvbVJhbmdlSW50KDAsIDkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wID0gZGF0YVs5XTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhWzldID0gZGF0YVt0ZW1wSW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbdGVtcEluZGV4XSA9IHRlbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zYXZlQWxsUHJvcE51bSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIFVJTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dVaURpYWxvZyhVSVBhdGguU3RvcmVIZXJvVWksIFVJTGF5ZXJMZXZlbC5PbmUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZWQ6ICh1aU5vZGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpTm9kZS5nZXRDb21wb25lbnQoU3RvcmVIZXJvVWkpLmluaXQobnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aU5vZGUuZ2V0Q29tcG9uZW50KFN0b3JlSGVyb1VpKS5pbml0RGF0YShkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlcm9JdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlcm9JdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlcm9JdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlcm9JdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplSGVyb0RhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMTBcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVyb0l0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVIZXJvRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlcm9JdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xMFwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZXJvSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUhlcm9EYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGhlcm9CdG4xMC5nZXRDaGlsZEJ5TmFtZSgncmVkJykuYWN0aXZlID0gR2FtZURhdGEuZ2V0SW5zdGFuY2UoKS5nZXRIZXJvUmVjcnVpdGluZ1JlZFRpcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIEV2ZW50TWFuYWdlci5wb3N0UmVkRXZlbnQoUmVkRXZlbnRTdHJpbmcuUkVEX0NIRUNLLCBSZWRFdmVudFR5cGUuQnRuX1Nob3ApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBoZXJvUm9vdC5hZGRDaGlsZChoZXJvSXRlbSk7XHJcbiAgICAgICAgY29udGVudC5hZGRDaGlsZChoZXJvUm9vdCk7XHJcbiAgICAgICAgLy8g5q+P5pel5ZWG5bqXXHJcbiAgICAgICAgLy8jcmVnaW9uIFxyXG4gICAgICAgIHRpdGxlID0gY2MuaW5zdGFudGlhdGUodGhpcy5zdG9yZV90aXRsZSk7XHJcbiAgICAgICAgdGl0bGUuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihUZXh0TGFuZ3VhZ2UpLnNldFRleHRJZCgxNDgwMDAxKTtcclxuICAgICAgICB0aXRsZS5uYW1lID0gXCJkYWlseVN0b3JlVGl0bGVcIjtcclxuICAgICAgICBjb250ZW50LmFkZENoaWxkKHRpdGxlKTtcclxuXHJcbiAgICAgICAgbGV0IHRpbWVMYWJlbCA9IG5ldyBjYy5Ob2RlKCkuYWRkQ29tcG9uZW50KFRleHRMYW5ndWFnZSk7XHJcbiAgICAgICAgdGltZUxhYmVsLm5vZGUuY29sb3IgPSBjYy5jb2xvcigyNTUsIDI0MiwgMjA2KTtcclxuICAgICAgICB0aW1lTGFiZWwubm9kZS5hbmNob3JYID0gMTtcclxuICAgICAgICB0aW1lTGFiZWwudmVydGljYWxBbGlnbiA9IGNjLkxhYmVsLlZlcnRpY2FsQWxpZ24uQ0VOVEVSO1xyXG4gICAgICAgIHRpbWVMYWJlbC5ob3Jpem9udGFsQWxpZ24gPSBjYy5MYWJlbC5Ib3Jpem9udGFsQWxpZ24uUklHSFQ7XHJcbiAgICAgICAgdGltZUxhYmVsLmVuYWJsZUJvbGQgPSB0cnVlO1xyXG4gICAgICAgIHRpbWVMYWJlbC5mb250U2l6ZSA9IDI0O1xyXG4gICAgICAgIHRpbWVMYWJlbC5zZXRUZXh0SWQoMTAwMDQ1KTtcclxuXHJcbiAgICAgICAgbGV0IHRpbWVOdW0gPSBuZXcgY2MuTm9kZSgpLmFkZENvbXBvbmVudChjYy5MYWJlbCk7XHJcbiAgICAgICAgdGltZU51bS5ub2RlLmNvbG9yID0gY2MuY29sb3IoNzksIDI1NSwgNzApO1xyXG4gICAgICAgIHRpbWVOdW0ubm9kZS5hbmNob3JYID0gMDtcclxuICAgICAgICB0aW1lTnVtLnZlcnRpY2FsQWxpZ24gPSBjYy5MYWJlbC5WZXJ0aWNhbEFsaWduLkNFTlRFUjtcclxuICAgICAgICB0aW1lTnVtLmhvcml6b250YWxBbGlnbiA9IGNjLkxhYmVsLkhvcml6b250YWxBbGlnbi5MRUZUO1xyXG4gICAgICAgIHRpbWVOdW0uZW5hYmxlQm9sZCA9IHRydWU7XHJcbiAgICAgICAgdGltZU51bS5mb250U2l6ZSA9IDI0O1xyXG5cclxuICAgICAgICBsZXQgbm93VGltZSA9IERhdGUubm93KCkgLyAxMDAwO1xyXG4gICAgICAgIGxldCByZXNpZHVlVGltZSA9IFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0TnVtYmVyKFN0b3JhZ2VLZXkuVG9tb3Jvd1plcm9UaW1lU3RhbXAsIDApIC0gbm93VGltZTtcclxuICAgICAgICBpZiAocmVzaWR1ZVRpbWUgPCAwKSB7XHJcbiAgICAgICAgICAgIHJlc2lkdWVUaW1lID0gKChuZXcgRGF0ZShuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygpKS5nZXRUaW1lKCkgKyA4NjQwMDAwKSAvIDEwMDApIC0gbm93VGltZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGhoID0gTWF0aC5mbG9vcihyZXNpZHVlVGltZSAvICg2MCAqIDYwKSk7XHJcbiAgICAgICAgaWYgKGhoIDwgMTApIHtcclxuICAgICAgICAgICAgdGltZU51bS5zdHJpbmcgPSAnMCcgKyBoaCArICc6JztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aW1lTnVtLnN0cmluZyA9IGhoICsgJzonO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbW0gPSBNYXRoLmZsb29yKHJlc2lkdWVUaW1lICUgKDYwICogNjApIC8gNjApO1xyXG4gICAgICAgIGlmIChtbSA8IDEwKSB7XHJcbiAgICAgICAgICAgIHRpbWVOdW0uc3RyaW5nICs9ICcwJyArIG1tICsgJzonXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGltZU51bS5zdHJpbmcgKz0gbW0gKyAnOidcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHNzID0gTWF0aC5mbG9vcihyZXNpZHVlVGltZSAlICg2MCAqIDYwKSAlIDYwKVxyXG4gICAgICAgIGlmIChzcyA8IDEwKSB7XHJcbiAgICAgICAgICAgIHRpbWVOdW0uc3RyaW5nICs9ICcwJyArIHNzXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGltZU51bS5zdHJpbmcgKz0gc3NcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5Yqo5oCB5Yi35paw5LiA5b6L5YaZ5Zyo5Ye95pWw55qE5pyA5LiL5pa5XHJcblxyXG4gICAgICAgIGxldCB0ZXh0Um9vdCA9IG5ldyBjYy5Ob2RlKCk7XHJcbiAgICAgICAgdGV4dFJvb3Qud2lkdGggPSB0aGlzLm5vZGUud2lkdGg7XHJcbiAgICAgICAgdGV4dFJvb3QuaGVpZ2h0ID0gMjA7XHJcbiAgICAgICAgdGV4dFJvb3QuYWRkQ2hpbGQodGltZUxhYmVsLm5vZGUpO1xyXG4gICAgICAgIHRleHRSb290LmFkZENoaWxkKHRpbWVOdW0ubm9kZSk7XHJcbiAgICAgICAgY29udGVudC5hZGRDaGlsZCh0ZXh0Um9vdCk7XHJcblxyXG4gICAgICAgIGxldCBkYWlseVN0b3JlUm9vdCA9IG5ldyBjYy5Ob2RlKCk7XHJcbiAgICAgICAgZGFpbHlTdG9yZVJvb3QubmFtZSA9ICdkYWlseVN0b3JlUm9vdCc7XHJcbiAgICAgICAgZGFpbHlTdG9yZVJvb3QuaGVpZ2h0ID0gdGhpcy5zdG9yZV9kYWlseV9pdGVtLmRhdGEuaGVpZ2h0ICogMiArIDEwO1xyXG4gICAgICAgIGRhaWx5U3RvcmVSb290LndpZHRoID0gdGhpcy5ub2RlLndpZHRoXHJcbiAgICAgICAgY29udGVudC5hZGRDaGlsZChkYWlseVN0b3JlUm9vdCk7XHJcbiAgICAgICAgbGV0IGRhaWx5U3RvcmVMYXlvdXQgPSBkYWlseVN0b3JlUm9vdC5hZGRDb21wb25lbnQoY2MuTGF5b3V0KTtcclxuICAgICAgICBkYWlseVN0b3JlTGF5b3V0LnR5cGUgPSBjYy5MYXlvdXQuVHlwZS5HUklEO1xyXG4gICAgICAgIGRhaWx5U3RvcmVMYXlvdXQucmVzaXplTW9kZSA9IGNjLkxheW91dC5SZXNpemVNb2RlLkNPTlRBSU5FUjtcclxuXHJcbiAgICAgICAgZGFpbHlTdG9yZUxheW91dC5wYWRkaW5nUmlnaHQgPSA0MDtcclxuICAgICAgICBkYWlseVN0b3JlTGF5b3V0LnBhZGRpbmdMZWZ0ID0gNDA7XHJcbiAgICAgICAgZGFpbHlTdG9yZUxheW91dC5zcGFjaW5nWCA9IDIwO1xyXG4gICAgICAgIGRhaWx5U3RvcmVMYXlvdXQuc3BhY2luZ1kgPSAyMDtcclxuICAgICAgICBsZXQgZGFpbHlEYXRhOiBKc29uRGFpbHlTaG9wO1xyXG4gICAgICAgIGlmIChUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldE51bWJlcihTdG9yYWdlS2V5LlN0b3JlRGFpbHlTaG9wSWQsIDApID09IDApIHtcclxuICAgICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5nZXRSYW5kb21JbnQoMSwgNCk7XHJcbiAgICAgICAgICAgIGRhaWx5RGF0YSA9IERhaWx5U2hvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKc29uRGF0YUJ5Q2hhcHRlckFuZEluZGUoTGV2ZWxNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RmluaXNoQ2hhcHRlcigpLCBpbmRleCk7XHJcbiAgICAgICAgICAgIFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2V0SXRlbShTdG9yYWdlS2V5LlN0b3JlRGFpbHlTaG9wSWQsIGRhaWx5RGF0YS5TaG9wX0lEKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkYWlseURhdGEgPSBEYWlseVNob3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SnNvbkRhaWx5U2hvcChUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldE51bWJlcihTdG9yYWdlS2V5LlN0b3JlRGFpbHlTaG9wSWQpKVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhcIuavj+aXpeWVhuW6l0lEOlwiICsgZGFpbHlEYXRhLlNob3BfSUQpO1xyXG4gICAgICAgIGRhaWx5RGF0YS5TaG9wbGlzdC5mb3JFYWNoKCh2LCBrKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5q+P5pel5ZWG5bqX6YGT5YW3XCIgKyBrICsgXCI6XCIgKyB2KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBkYWlseURhdGEuU2hvcGxpc3QuZm9yRWFjaCgodiwgaykgPT4ge1xyXG4gICAgICAgICAgICBsZXQgaXRlbSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuc3RvcmVfZGFpbHlfaXRlbSk7XHJcbiAgICAgICAgICAgIGxldCBzdG9yZUl0ZW1JbmZvID0gQ29tbW9kaXR5SW5mb3JtYXRpb25NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SnNvbkNvbW1vZGl0eUluZm9ybWF0aW9uKHYpXHJcbiAgICAgICAgICAgIGlmIChUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldE51bWJlcihTdG9yYWdlS2V5LlN0b3JlRGFpbHlTaG9wTnVtICsgaywgMCkgPCBzdG9yZUl0ZW1JbmZvLkFkUGxheWFibGVUaW1lcykge1xyXG4gICAgICAgICAgICAgICAgLy8g5Y+v6LSt5LmwXHJcbiAgICAgICAgICAgICAgICBpZiAoQ29tbW9kaXR5SW5mb3JtYXRpb25NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0QWRSZXdhcmQodikgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOW5v+WRiuWVhuWTgVxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJkaXNjb3VudEljb25cIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImRpc2NvdW50TnVtXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJwcmljZVwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiZnJlZVwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJyZWRcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb25cIikuYWN0aXZlPWZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJhZGljb25cIikuYWN0aXZlPXRydWU7XHJcbiAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwibmFtZVwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQoSXRlbU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROYW1lVGV4dElkKHN0b3JlSXRlbUluZm8uR2V0SXRlbSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxldCBuYW1lID0gaXRlbS5nZXRDaGlsZEJ5TmFtZShcIm5hbWVcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZihJdGVtTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEpzb25JdGVtKHN0b3JlSXRlbUluZm8uR2V0SXRlbSkuVHlwZT09NSl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGxldCB2YWx1ZVN0cj0yNDtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbGV0IHl1c2h1PUl0ZW1NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SnNvbkl0ZW0oc3RvcmVJdGVtSW5mby5HZXRJdGVtKS5JdGVtSUQlMTAtMTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYoeXVzaHU8PTQpe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgdmFsdWVTdHI9TWF0aC5wb3coMix5dXNodSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYodmFsdWVTdHIgPT0gMTYpIHZhbHVlU3RyID0gMjQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIG5hbWUuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmc9bmFtZS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZy5yZXBsYWNlKCd+Jyx2YWx1ZVN0ci50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy8gZGV0YWlsU3RyPWRldGFpbFN0ci5yZXBsYWNlKCd+Jyx2YWx1ZVN0ci50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJld2FyZCA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlUHJvcEl0ZW0oc3RvcmVJdGVtSW5mby5HZXRJdGVtLCBzdG9yZUl0ZW1JbmZvLkdldE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV3YXJkLm5hbWUgPSAncmV3YXJkJztcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmFkZENoaWxkKHJld2FyZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uYWRkQ29tcG9uZW50KGNjLkJ1dHRvbikudHJhbnNpdGlvbiA9IGNjLkJ1dHRvbi5UcmFuc2l0aW9uLlNDQUxFO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuZHVyYXRpb24gPSAwLjE7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS56b29tU2NhbGUgPSAwLjk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0ub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRJdGVtPWl0ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5mb3JtYXRpb25UZW1wPXY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5mb3JtYXRpb25LPWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYy5zeXMucGxhdGZvcm0gPT09IGNjLnN5cy5CWVRFREFOQ0VfR0FNRSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgV1hNYW5hZ2VyRVguZ2V0SW5zdGFuY2UoKS56dWFuc2hpaVNoaXBpbj0gdHQuY3JlYXRlUmV3YXJkZWRWaWRlb0FkKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFVuaXRJZDogJ2RiZWU0YjE5OWQ5MTJmNm9ucCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgV1hNYW5hZ2VyRVguZ2V0SW5zdGFuY2UoKS56dWFuc2hpaVNoaXBpbi5vZmZFcnJvcigpO1xyXG4gICAgICAgICAgICBXWE1hbmFnZXJFWC5nZXRJbnN0YW5jZSgpLnp1YW5zaGlpU2hpcGluLm9uRXJyb3IoZXJyID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXWE1hbmFnZXJFWC5nZXRJbnN0YW5jZSgpLnp1YW5zaGlpU2hpcGluLm9mZkNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXWE1hbmFnZXJFWC5nZXRJbnN0YW5jZSgpLnp1YW5zaGlpU2hpcGluLnNob3coKS5jYXRjaCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5aSx6LSl6YeN6K+VXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV1hNYW5hZ2VyRVguZ2V0SW5zdGFuY2UoKS56dWFuc2hpaVNoaXBpbi5sb2FkKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gV1hNYW5hZ2VyRVguZ2V0SW5zdGFuY2UoKS56dWFuc2hpaVNoaXBpbi5zaG93KCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93TWVzc2FnZShcIuW5v+WRiuaLieWPluWksei0pVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXWE1hbmFnZXJFWC5nZXRJbnN0YW5jZSgpLnp1YW5zaGlpU2hpcGluLm9uQ2xvc2UocmVzID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDnlKjmiLfngrnlh7vkuobjgJDlhbPpl63lub/lkYrjgJHmjInpkq5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDlsI/kuo4gMi4xLjAg55qE5Z+656GA5bqT54mI5pys77yMcmVzIOaYr+S4gOS4qiB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzICYmIHJlcy5pc0VuZGVkIHx8IHJlcyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDmraPluLjmkq3mlL7nu5PmnZ/vvIzlj6/ku6XkuIvlj5HmuLjmiI/lpZblirFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25TaGlwaW5Db21wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDmkq3mlL7kuK3pgJTpgIDlh7rvvIzkuI3kuIvlj5HmuLjmiI/lpZblirFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV1hNYW5hZ2VyRVguZ2V0SW5zdGFuY2UoKS56dWFuc2hpaVNoaXBpbi5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblNoaXBpbkNvbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyDpnZ7lub/lkYrllYblk4FcclxuICAgICAgICAgICAgICAgICAgICBpZiAoVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROdW1iZXIoU3RvcmFnZUtleS5TdG9yZURhaWx5U2hvcERpc2NvdW50ICsgaywgMCkgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDml6DmipjmiaPpnIDopoHpmo/mnLrmipjmiaNcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpc2NvdW50TnVtID0gdGhpcy5nZXRSYW5kb21JbnQoNCwgOSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2V0SXRlbShTdG9yYWdlS2V5LlN0b3JlRGFpbHlTaG9wRGlzY291bnQgKyBrLCBkaXNjb3VudE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJmcmVlXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwicmVkXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBFdmVudE1hbmFnZXIucG9zdFJlZEV2ZW50KFJlZEV2ZW50U3RyaW5nLlJFRF9DSEVDSywgUmVkRXZlbnRUeXBlLkJ0bl9TaG9wKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uXCIpLmFjdGl2ZT10cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJhZGljb25cIikuYWN0aXZlPWZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb25cIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQoc3RvcmVJdGVtSW5mby5Db3N0SXRlbUlEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInByaWNlXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gJ3gnICsgTXlUb29sLmdldENvaW5EYW53ZWkoc3RvcmVJdGVtSW5mby5Db3N0TnVtICogZGlzY291bnROdW0gKiAwLjEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwibmFtZVwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQoSXRlbU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROYW1lVGV4dElkKHN0b3JlSXRlbUluZm8uR2V0SXRlbSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiZGlzY291bnROdW1cIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc2V0UmVwbGFjZVZhbHVlKCd+JywgKDEwMCAtIGRpc2NvdW50TnVtICogMTApICsgJycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShzdG9yZUl0ZW1JbmZvLkdldEl0ZW0sIHN0b3JlSXRlbUluZm8uR2V0TnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV3YXJkLm5hbWUgPSAncmV3YXJkJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5hZGRDaGlsZChyZXdhcmQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5hZGRDb21wb25lbnQoY2MuQnV0dG9uKS50cmFuc2l0aW9uID0gY2MuQnV0dG9uLlRyYW5zaXRpb24uU0NBTEU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuZHVyYXRpb24gPSAwLjE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuem9vbVNjYWxlID0gMC45O1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKHN0b3JlSXRlbUluZm8uQ29zdEl0ZW1JRCwgLShzdG9yZUl0ZW1JbmZvLkNvc3ROdW0gKiBkaXNjb3VudE51bSAqIDAuMSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7llYblupfkuK3otK3kubDnianlk4Ex5qyhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLuWJjeW+gOWVhuWfjui0reS5sFjmrKHllYblk4EpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShzdG9yZUl0ZW1JbmZvLkdldEl0ZW0sIHN0b3JlSXRlbUluZm8uR2V0TnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIdHRwTWFuYWdlci5wb3N0KEFjY2Vzc05hbWUuc2F2ZUdhbWVUYXNrLCB0aGlzLmdldFNhdmVHYW1lVGFza0pzb25TdHJpbmcoaykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKHN0b3JlSXRlbUluZm8uR2V0SXRlbSwgc3RvcmVJdGVtSW5mby5HZXROdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBudW0gPSBUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldE51bWJlcihTdG9yYWdlS2V5LlN0b3JlRGFpbHlTaG9wTnVtICsgaywgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3JlSXRlbUluZm8uQ29zdEl0ZW1JRCA9PSBQcm9wSWQuQ29pbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuYWRkVG90YWwoRm9sbG93X1R5cGUu5Zyo5q+P5pel5ZWG5bqX5Lit5raI6ICX55qE6YeR5biB5pWw6YePLCAoc3RvcmVJdGVtSW5mby5Db3N0TnVtICogZGlzY291bnROdW0gKiAwLjEpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUu5Zyo5q+P5pel5ZWG5bqX5Lit5L2/55So6YeR5biB6LSt5Lmw54mp5ZOB55qE5qyh5pWwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuYWRkVG90YWwoRm9sbG93X1R5cGUu5Zyo5q+P5pel5ZWG5bqX5Lit5raI6ICX55qE6ZK755+z5pWw6YePLCAoc3RvcmVJdGVtSW5mby5Db3N0TnVtICogZGlzY291bnROdW0gKiAwLjEpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUu5Zyo5q+P5pel5ZWG5bqX5Lit5L2/55So6ZK755+z6LSt5Lmw54mp5ZOB55qE5qyh5pWwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zZXRJdGVtKFN0b3JhZ2VLZXkuU3RvcmVEYWlseVNob3BOdW0gKyBrLCBudW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudW0gPj0gc3RvcmVJdGVtSW5mby5BZFBsYXlhYmxlVGltZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwicHJpY2VcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJkaXNjb3VudE51bVwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImRpc2NvdW50SWNvblwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInNhbGVPdXRcIikuekluZGV4ID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInNhbGVPdXRcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHR5cGUgPSBJdGVtTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFR5cGUoc3RvcmVJdGVtSW5mby5HZXRJdGVtKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwicmV3YXJkXCIpLmdldENvbXBvbmVudChFcXVpcEl0ZW0pLnByb3BfYWN0aW9uID0gUHJvcEFjdGlvbi5OdWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInJld2FyZFwiKS5nZXRDb21wb25lbnQoUHJvcCkucHJvcF9hY3Rpb24gPSBQcm9wQWN0aW9uLk51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5EKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmZvbGxvd0V2ZW50KEZvbGxvd19UeXBlLuavj+aXpeWVhuW6l+S4reaIkOWKn+i0reS5sOeJqeWTgeeahOasoeaVsCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93R2V0VGlwKHJld2FyZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcmVJdGVtSW5mby5Db3N0SXRlbUlEID09IFByb3BJZC5Db2luKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVJTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dVaURpYWxvZyhVSVBhdGguQ29pblBvcCwgVUlMYXllckxldmVsLlRocmVlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlZDogKHVpTm9kZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpTm9kZS5nZXRDb21wb25lbnQoQ29pblBvcCkuaW5pdFVpKFByb3BJZC5Db2luKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVUlNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd1VpRGlhbG9nKFVJUGF0aC5Db2luUG9wLCBVSUxheWVyTGV2ZWwuVGhyZWUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGVkOiAodWlOb2RlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWlOb2RlLmdldENvbXBvbmVudChDb2luUG9wKS5pbml0VWkoUHJvcElkLkdlbSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93TWVzc2FnZShMYW5ndWFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdHJCeVRleHRJZCgxMDAwNDEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUu5q+P5pel5ZWG5bqX5Lit6LSt5Lmw5aSx6LSl55qE5qyh5pWwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5pyJ5oqY5omj55u05o6l6K+75Y+W5oqY5omj55qE5aSn5bCPXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkaXNjb3VudE51bSA9IFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0TnVtYmVyKFN0b3JhZ2VLZXkuU3RvcmVEYWlseVNob3BEaXNjb3VudCArIGspO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImZyZWVcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJyZWRcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50TWFuYWdlci5wb3N0UmVkRXZlbnQoUmVkRXZlbnRTdHJpbmcuUkVEX0NIRUNLLCBSZWRFdmVudFR5cGUuQnRuX1Nob3ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb25cIikuYWN0aXZlPXRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJhZGljb25cIikuYWN0aXZlPWZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb25cIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQoc3RvcmVJdGVtSW5mby5Db3N0SXRlbUlEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInByaWNlXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gJ3gnICsgTXlUb29sLmdldENvaW5EYW53ZWkoc3RvcmVJdGVtSW5mby5Db3N0TnVtICogZGlzY291bnROdW0gKiAwLjEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwibmFtZVwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQoSXRlbU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROYW1lVGV4dElkKHN0b3JlSXRlbUluZm8uR2V0SXRlbSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiZGlzY291bnROdW1cIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc2V0UmVwbGFjZVZhbHVlKCd+JywgKDEwMCAtIGRpc2NvdW50TnVtICogMTApICsgJycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShzdG9yZUl0ZW1JbmZvLkdldEl0ZW0sIHN0b3JlSXRlbUluZm8uR2V0TnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV3YXJkLm5hbWUgPSAncmV3YXJkJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5hZGRDaGlsZChyZXdhcmQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5hZGRDb21wb25lbnQoY2MuQnV0dG9uKS50cmFuc2l0aW9uID0gY2MuQnV0dG9uLlRyYW5zaXRpb24uU0NBTEU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuZHVyYXRpb24gPSAwLjE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuem9vbVNjYWxlID0gMC45O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0oc3RvcmVJdGVtSW5mby5Db3N0SXRlbUlELCAtKHN0b3JlSXRlbUluZm8uQ29zdE51bSAqIGRpc2NvdW50TnVtICogMC4xKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLuWVhuW6l+S4rei0reS5sOeJqeWTgTHmrKEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u5YmN5b6A5ZWG5Z+O6LSt5LmwWOasoeWVhuWTgSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKHN0b3JlSXRlbUluZm8uR2V0SXRlbSwgc3RvcmVJdGVtSW5mby5HZXROdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEh0dHBNYW5hZ2VyLnBvc3QoQWNjZXNzTmFtZS5zYXZlR2FtZVRhc2ssIHRoaXMuZ2V0U2F2ZUdhbWVUYXNrSnNvblN0cmluZyhrKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJld2FyZCA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlUHJvcEl0ZW0oc3RvcmVJdGVtSW5mby5HZXRJdGVtLCBzdG9yZUl0ZW1JbmZvLkdldE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG51bSA9IFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0TnVtYmVyKFN0b3JhZ2VLZXkuU3RvcmVEYWlseVNob3BOdW0gKyBrLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW0rKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcmVJdGVtSW5mby5Db3N0SXRlbUlEID09IFByb3BJZC5Db2luKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5hZGRUb3RhbChGb2xsb3dfVHlwZS7lnKjmr4/ml6XllYblupfkuK3mtojogJfnmoTph5HluIHmlbDph48sIChzdG9yZUl0ZW1JbmZvLkNvc3ROdW0gKiBkaXNjb3VudE51bSAqIDAuMSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS7lnKjmr4/ml6XllYblupfkuK3kvb/nlKjph5HluIHotK3kubDnianlk4HnmoTmrKHmlbApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5hZGRUb3RhbChGb2xsb3dfVHlwZS7lnKjmr4/ml6XllYblupfkuK3mtojogJfnmoTpkrvnn7PmlbDph48sIChzdG9yZUl0ZW1JbmZvLkNvc3ROdW0gKiBkaXNjb3VudE51bSAqIDAuMSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS7lnKjmr4/ml6XllYblupfkuK3kvb/nlKjpkrvnn7PotK3kubDnianlk4HnmoTmrKHmlbApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNldEl0ZW0oU3RvcmFnZUtleS5TdG9yZURhaWx5U2hvcE51bSArIGssIG51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bSA+PSBzdG9yZUl0ZW1JbmZvLkFkUGxheWFibGVUaW1lcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb25cIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJwcmljZVwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImRpc2NvdW50TnVtXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiZGlzY291bnRJY29uXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwic2FsZU91dFwiKS56SW5kZXggPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwic2FsZU91dFwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHlwZSA9IEl0ZW1NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0VHlwZShzdG9yZUl0ZW1JbmZvLkdldEl0ZW0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJyZXdhcmRcIikuZ2V0Q29tcG9uZW50KEVxdWlwSXRlbSkucHJvcF9hY3Rpb24gPSBQcm9wQWN0aW9uLk51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwicmV3YXJkXCIpLmdldENvbXBvbmVudChQcm9wKS5wcm9wX2FjdGlvbiA9IFByb3BBY3Rpb24uTnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLm9mZihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dHZXRUaXAocmV3YXJkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUu5q+P5pel5ZWG5bqX5Lit5oiQ5Yqf6LSt5Lmw54mp5ZOB55qE5qyh5pWwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3JlSXRlbUluZm8uQ29zdEl0ZW1JRCA9PSBQcm9wSWQuQ29pbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVSU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93VWlEaWFsb2coVUlQYXRoLkNvaW5Qb3AsIFVJTGF5ZXJMZXZlbC5UaHJlZSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZWQ6ICh1aU5vZGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aU5vZGUuZ2V0Q29tcG9uZW50KENvaW5Qb3ApLmluaXRVaShQcm9wSWQuQ29pbilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuYWRkVG90YWwoRm9sbG93X1R5cGUu5Zyo5q+P5pel5ZWG5bqX5Lit5raI6ICX55qE6YeR5biB5pWw6YePLChzdG9yZUl0ZW1JbmZvLkNvc3ROdW0gKiBkaXNjb3VudE51bSAqIDAuMSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS7lnKjmr4/ml6XllYblupfkuK3kvb/nlKjph5HluIHotK3kubDnianlk4HnmoTmrKHmlbApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVJTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dVaURpYWxvZyhVSVBhdGguQ29pblBvcCwgVUlMYXllckxldmVsLlRocmVlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlZDogKHVpTm9kZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpTm9kZS5nZXRDb21wb25lbnQoQ29pblBvcCkuaW5pdFVpKFByb3BJZC5HZW0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmFkZFRvdGFsKEZvbGxvd19UeXBlLuWcqOavj+aXpeWVhuW6l+S4rea2iOiAl+eahOmSu+efs+aVsOmHjywoc3RvcmVJdGVtSW5mby5Db3N0TnVtICogZGlzY291bnROdW0gKiAwLjEpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUu5Zyo5q+P5pel5ZWG5bqX5Lit5L2/55So6ZK755+z6LSt5Lmw54mp5ZOB55qE5qyh5pWwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93TWVzc2FnZShMYW5ndWFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdHJCeVRleHRJZCgxMDAwNDEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUu5q+P5pel5ZWG5bqX5Lit6LSt5Lmw5aSx6LSl55qE5qyh5pWwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8g5LiN5Y+v6LSt5LmwXHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb25cIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwicHJpY2VcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiZGlzY291bnROdW1cIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiZGlzY291bnRJY29uXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImZyZWVcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwicmVkXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLnBvc3RSZWRFdmVudChSZWRFdmVudFN0cmluZy5SRURfQ0hFQ0ssIFJlZEV2ZW50VHlwZS5CdG5fU2hvcCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmV3YXJkID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShzdG9yZUl0ZW1JbmZvLkdldEl0ZW0sIHN0b3JlSXRlbUluZm8uR2V0TnVtLCBQcm9wQWN0aW9uLk51bGwpO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5hZGRDaGlsZChyZXdhcmQpO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcIm5hbWVcIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc2V0VGV4dElkKEl0ZW1NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0TmFtZVRleHRJZChzdG9yZUl0ZW1JbmZvLkdldEl0ZW0pKTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJzYWxlT3V0XCIpLnpJbmRleCA9IDE7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwic2FsZU91dFwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRhaWx5U3RvcmVSb290LmFkZENoaWxkKGl0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vI2VuZHJlZ2lvblxyXG4gICAgICAgIC8vIOelnuenmOWVhuW6l1xyXG4gICAgICAgIC8vI3JlZ2lvbiBcclxuICAgICAgICB0aXRsZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuc3RvcmVfdGl0bGUpO1xyXG4gICAgICAgIHRpdGxlLmdldENvbXBvbmVudEluQ2hpbGRyZW4oVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQoMTQ2MDAxMSk7XHJcbiAgICAgICAgdGl0bGUubmFtZSA9IFwibXlzdGVyeVRpdGxlXCI7XHJcbiAgICAgICAgY29udGVudC5hZGRDaGlsZCh0aXRsZSk7XHJcblxyXG4gICAgICAgIGxldCBteXN0ZXJ5Um9vdCA9IG5ldyBjYy5Ob2RlKCk7XHJcbiAgICAgICAgbXlzdGVyeVJvb3QubmFtZSA9ICdteXN0ZXJ5Um9vdCc7XHJcbiAgICAgICAgbXlzdGVyeVJvb3QuaGVpZ2h0ID0gdGhpcy5zdG9yZV9lcXVpcF9pdGVtLmRhdGEuaGVpZ2h0ICsgMjA7XHJcbiAgICAgICAgbXlzdGVyeVJvb3Qud2lkdGggPSB0aGlzLm5vZGUud2lkdGg7XHJcblxyXG4gICAgICAgIGxldCBteXN0ZXJ5TGF5b3V0ID0gbXlzdGVyeVJvb3QuYWRkQ29tcG9uZW50KGNjLkxheW91dCk7XHJcbiAgICAgICAgbXlzdGVyeUxheW91dC50eXBlID0gY2MuTGF5b3V0LlR5cGUuSE9SSVpPTlRBTDtcclxuICAgICAgICBteXN0ZXJ5TGF5b3V0LnJlc2l6ZU1vZGUgPSBjYy5MYXlvdXQuUmVzaXplTW9kZS5DT05UQUlORVI7XHJcblxyXG4gICAgICAgIG15c3RlcnlMYXlvdXQucGFkZGluZ1JpZ2h0ID0gNDA7XHJcbiAgICAgICAgbXlzdGVyeUxheW91dC5wYWRkaW5nTGVmdCA9IDQwO1xyXG4gICAgICAgIG15c3RlcnlMYXlvdXQuc3BhY2luZ1ggPSAyMDtcclxuXHJcbiAgICAgICAgbGV0IHBldEl0ZW0gPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnN0b3JlX3BldF9pdGVtKTtcclxuICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwicmljaEJnXCIpLmNoaWxkcmVuWzFdLmNoaWxkcmVuWzFdLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJYXCIgKyBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0oNDAwMDYpO1xyXG4gICAgICAgIHRoaXMucGV0X2luc3RhbmNlID0gcGV0SXRlbTtcclxuICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwicmljaEJnXCIpLmdldENvbXBvbmVudEluQ2hpbGRyZW4oY2MuUmljaFRleHQpLnN0cmluZyA9IExhbmd1YWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0ckJ5VGV4dElkKDE0NjAwMDUpO1xyXG4gICAgICAgIGxldCBwcml6ZVBldERhdGEgPSBEcmF3Q2FyZEluZm9ybWF0aW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEpzb25EcmF3Q2FyZEluZm9ybWF0aW9uKDMwMDEpO1xyXG4gICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMik7XHJcbiAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplUGV0RGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZVBldERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xMFwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMik7XHJcbiAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVQZXREYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgb25lRGF5VGltZSA9IDYwICogNjAgKiAyNCAqIDEwMDA7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBpZiAoVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROdW1iZXIoU3RvcmFnZUtleS5TdG9yZU15c3RlcnlQZXRGcmVlVGltZSwgMCkgKyBvbmVEYXlUaW1lIC0gY3VycmVudFRpbWUgPD0gMCkge1xyXG4gICAgICAgICAgICAvLyDlhY3otLlcclxuICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJmcmVlXCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSB0aGlzLnN0b3JlX3VpLmdldFNwcml0ZUZyYW1lKFwiU2hvcF9JY29uX0FEU1wiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiZnJlZVwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHBldEJ0bjEgPSBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiYnRuMVwiKTtcclxuICAgICAgICBsZXQgcGV0QnRuMTAgPSBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiYnRuMTBcIik7XHJcbiAgICAgICAgcGV0QnRuMS5nZXRDaGlsZEJ5TmFtZSgncmVkJykuYWN0aXZlID0gR2FtZURhdGEuZ2V0SW5zdGFuY2UoKS5nZXRQZXRSZWNydWl0aW5nUmVkVGlwKCk7XHJcbiAgICAgICAgcGV0QnRuMS5hZGRDb21wb25lbnQoY2MuQnV0dG9uKS50cmFuc2l0aW9uID0gY2MuQnV0dG9uLlRyYW5zaXRpb24uU0NBTEU7XHJcbiAgICAgICAgcGV0QnRuMS5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS5kdXJhdGlvbiA9IDAuMTtcclxuICAgICAgICBwZXRCdG4xLmdldENvbXBvbmVudChjYy5CdXR0b24pLnpvb21TY2FsZSA9IDAuOTtcclxuXHJcbiAgICAgICAgcGV0QnRuMTAuYWRkQ29tcG9uZW50KGNjLkJ1dHRvbikudHJhbnNpdGlvbiA9IGNjLkJ1dHRvbi5UcmFuc2l0aW9uLlNDQUxFO1xyXG4gICAgICAgIHBldEJ0bjEwLmdldENvbXBvbmVudChjYy5CdXR0b24pLmR1cmF0aW9uID0gMC4xO1xyXG4gICAgICAgIHBldEJ0bjEwLmdldENvbXBvbmVudChjYy5CdXR0b24pLnpvb21TY2FsZSA9IDAuOTtcclxuXHJcbiAgICAgICAgcGV0QnRuMS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsICgpID0+IHtcclxuICAgICAgICAgICAgLy8g5pqC5pyq5byA5pS+5aSE55CGXHJcbiAgICAgICAgICAgIC8vIGxldCBzID0gTGFuZ3VhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyQnlUZXh0SWQoMTAwMTEzKTtcclxuICAgICAgICAgICAgLy8gR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93TWVzc2FnZShzKTtcclxuICAgICAgICAgICAgLy8gcmV0dXJuO1xyXG4gICAgICAgICAgICBpZiAoRnVuY3Rpb25EZWZpbml0aW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldElzVW5sb2NrKEZ1bmNUeXBlLlBldFBhcmFkaXNlKSA9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHVubG9ja1R5cGUgPSBGdW5jdGlvbkRlZmluaXRpb25NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0VW5sb2NrQ29uZGl0aW9uVHlwZShGdW5jVHlwZS5QZXRQYXJhZGlzZSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcyA9ICcnO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVubG9ja1R5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHMgPSBMYW5ndWFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdHJCeVRleHRJZCgxMDAwNTEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHMgPSBzLnJlcGxhY2UoJy4nLCAnLicgKyAoRnVuY3Rpb25EZWZpbml0aW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFVubG9ja0NvbmRpY3Rpb25QYXJhbWV0ZXIoRnVuY1R5cGUuUGV0UGFyYWRpc2UpKSArICcnKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzID0gTGFuZ3VhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyQnlUZXh0SWQoMTAwMDUyKTtcclxuICAgICAgICAgICAgICAgICAgICBzID0gcy5yZXBsYWNlKCd+JywgKE1pc3Npb25MZXZlbE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRMZXZlbE5hbWUoKEZ1bmN0aW9uRGVmaW5pdGlvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRVbmxvY2tDb25kaWN0aW9uUGFyYW1ldGVyKEZ1bmNUeXBlLlBldFBhcmFkaXNlKSkpKSArICcnKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93TWVzc2FnZShzKTtcclxuICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBjb3N0SWQgPSAwO1xyXG4gICAgICAgICAgICBsZXQgY29zdE51bSA9IDA7XHJcbiAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgICAgICBjb3N0SWQgPSBwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMTtcclxuICAgICAgICAgICAgICAgIGNvc3ROdW0gPSBwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvc3RJZCA9IHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8yO1xyXG4gICAgICAgICAgICAgICAgY29zdE51bSA9IHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBvbmVEYXlUaW1lID0gNjAgKiA2MCAqIDI0ICogMTAwMDtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgaWYgKFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0TnVtYmVyKFN0b3JhZ2VLZXkuU3RvcmVNeXN0ZXJ5UGV0RnJlZVRpbWUsIDApICsgb25lRGF5VGltZSAtIGN1cnJlbnRUaW1lIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIC8vIOWFjei0uVxyXG4gICAgICAgICAgICAgICAgY29zdE51bSA9IDA7XHJcbiAgICAgICAgICAgICAgICBUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNldEl0ZW0oU3RvcmFnZUtleS5TdG9yZU15c3RlcnlQZXRGcmVlVGltZSwgY3VycmVudFRpbWUpXHJcbiAgICAgICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMik7XHJcbiAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJmcmVlXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgQXBrTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dWaWRlbygoaXNUcnVlOiBib29sZWFuKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3N0TnVtID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zZXRJdGVtKFN0b3JhZ2VLZXkuU3RvcmVNeXN0ZXJ5UGV0RnJlZVRpbWUsIGN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImZyZWVcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBldEJ0bjEuZ2V0Q2hpbGRCeU5hbWUoJ3JlZCcpLmFjdGl2ZSA9IEdhbWVEYXRhLmdldEluc3RhbmNlKCkuZ2V0UGV0UmVjcnVpdGluZ1JlZFRpcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBFdmVudE1hbmFnZXIucG9zdFJlZEV2ZW50KFJlZEV2ZW50U3RyaW5nLlJFRF9DSEVDSywgUmVkRXZlbnRUeXBlLkJ0bl9TaG9wKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgSHR0cE1hbmFnZXIucG9zdChBY2Nlc3NOYW1lLnRyeVByaXplLCB0aGlzLmdldFByaXplSnNvblN0cmluZygxLCAzLCBjb3N0SWQsIGNvc3ROdW0pLCB0cnVlKS50aGVuKChkYXRhOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmZvbGxvd0V2ZW50KEZvbGxvd19UeXBlLuiusOW9leW8gOWQrzHmrKHlrqDniannmoTmrKHmlbApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u6L+b6KGMMeasoeW8gOWQr+ijheWkhyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ntK/orqHlrbXljJbngbXlrqDom4tY5qyhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLuWJjeW+gOWVhuWfjuWtteWMlljmrKHlrqDniakpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u6L+b6KGMMeasoeWuoOeJqeaLm+WLnyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ov5vooYwxMOasoeWuoOeJqeWtteWMlik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJld2FyZEl0ZW0gPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKGRhdGFbMF0uZHJvcElkLCBkYXRhWzBdLmRyb3BOdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShkYXRhWzBdLmRyb3BJZCwgZGF0YVswXS5kcm9wTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNhdmVBbGxQcm9wTnVtKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93R2V0VGlwKHJld2FyZEl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplUGV0RGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZVBldERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xMFwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVQZXREYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dNZXNzYWdlKExhbmd1YWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0ckJ5VGV4dElkKDEpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCBWSURFT19UWVBFLkVxdWlwKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShjb3N0SWQpIDwgY29zdE51bSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd01lc3NhZ2UoTGFuZ3VhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyQnlUZXh0SWQoMTAwMDQxKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwic2Nyb2xsXCIpLmdldENvbXBvbmVudChjYy5TY3JvbGxWaWV3KS5zY3JvbGxUb0JvdHRvbSgyKTtcclxuICAgICAgICAgICAgICAgICAgICBVSU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93VWlEaWFsb2coVUlQYXRoLlR1cm50YWJsZSxVSUxheWVyTGV2ZWwuT25lLHtvbkNvbXBsZXRlZDoodWlOb2RlKT0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdWlOb2RlLmdldENvbXBvbmVudChUdXJtdGFibGUpLmluaXRVaSgpXHJcbiAgICAgICAgICAgICAgICAgICAgfSx9KTsvL+i9rOebmFxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIEh0dHBNYW5hZ2VyLnBvc3QoQWNjZXNzTmFtZS50cnlQcml6ZSwgdGhpcy5nZXRQcml6ZUpzb25TdHJpbmcoMSwgMywgY29zdElkLCBjb3N0TnVtKSwgdHJ1ZSkudGhlbigoZGF0YTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ntK/orqHlrbXljJbngbXlrqDom4tY5qyhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7liY3lvoDllYbln47lrbXljJZY5qyh5a6g54mpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ov5vooYwx5qyh5a6g54mp5oub5YufKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ov5vooYwxMOasoeWuoOeJqeWtteWMlik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShjb3N0SWQsIC1jb3N0TnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5yZWZyZXNoR2VtU2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkSXRlbSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlUHJvcEl0ZW0oZGF0YVswXS5kcm9wSWQsIGRhdGFbMF0uZHJvcE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShkYXRhWzBdLmRyb3BJZCwgZGF0YVswXS5kcm9wTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zYXZlQWxsUHJvcE51bSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dHZXRUaXAocmV3YXJkSXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZVBldERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMTBcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZVBldERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVQZXREYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcGV0QnRuMTAub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIOaaguacquW8gOaUvuWkhOeQhlxyXG4gICAgICAgICAgICAvLyBsZXQgcyA9IExhbmd1YWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0ckJ5VGV4dElkKDEwMDExMyk7XHJcbiAgICAgICAgICAgIC8vIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd01lc3NhZ2Uocyk7XHJcbiAgICAgICAgICAgIC8vIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGlmIChGdW5jdGlvbkRlZmluaXRpb25NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SXNVbmxvY2soRnVuY1R5cGUuUGV0UGFyYWRpc2UpID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdW5sb2NrVHlwZSA9IEZ1bmN0aW9uRGVmaW5pdGlvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRVbmxvY2tDb25kaXRpb25UeXBlKEZ1bmNUeXBlLlBldFBhcmFkaXNlKTtcclxuICAgICAgICAgICAgICAgIGxldCBzID0gJyc7XHJcbiAgICAgICAgICAgICAgICBpZiAodW5sb2NrVHlwZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcyA9IExhbmd1YWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0ckJ5VGV4dElkKDEwMDA1MSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcyA9IHMucmVwbGFjZSgnLicsICcuJyArIChGdW5jdGlvbkRlZmluaXRpb25NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0VW5sb2NrQ29uZGljdGlvblBhcmFtZXRlcihGdW5jVHlwZS5QZXRQYXJhZGlzZSkpICsgJycpXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHMgPSBMYW5ndWFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdHJCeVRleHRJZCgxMDAwNTIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHMgPSBzLnJlcGxhY2UoJ34nLCAoTWlzc2lvbkxldmVsTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldExldmVsTmFtZSgoRnVuY3Rpb25EZWZpbml0aW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFVubG9ja0NvbmRpY3Rpb25QYXJhbWV0ZXIoRnVuY1R5cGUuUGV0UGFyYWRpc2UpKSkpICsgJycpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dNZXNzYWdlKHMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBjb3N0SWQgPSAwO1xyXG4gICAgICAgICAgICBsZXQgY29zdE51bSA9IDA7XHJcbiAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplUGV0RGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xKSB7XHJcbiAgICAgICAgICAgICAgICBjb3N0SWQgPSBwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMTtcclxuICAgICAgICAgICAgICAgIGNvc3ROdW0gPSBwcml6ZVBldERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvc3RJZCA9IHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8yO1xyXG4gICAgICAgICAgICAgICAgY29zdE51bSA9IHByaXplUGV0RGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0oY29zdElkKSA8IGNvc3ROdW0pIHtcclxuICAgICAgICAgICAgICAgIC8vIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd01lc3NhZ2UoTGFuZ3VhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyQnlUZXh0SWQoMTAwMDQxKSk7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJzY3JvbGxcIikuZ2V0Q29tcG9uZW50KGNjLlNjcm9sbFZpZXcpLnNjcm9sbFRvQm90dG9tKDIpO1xyXG4gICAgICAgICAgICAgICAgVUlNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd1VpRGlhbG9nKFVJUGF0aC5UdXJudGFibGUsVUlMYXllckxldmVsLk9uZSx7b25Db21wbGV0ZWQ6KHVpTm9kZSk9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdWlOb2RlLmdldENvbXBvbmVudChUdXJtdGFibGUpLmluaXRVaSgpXHJcbiAgICAgICAgICAgICAgICB9LH0pOy8v6L2s55uYXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaWYoSXNEZWJ1ZykgY29zdE51bSA9IDA7ICAgXHJcbiAgICAgICAgICAgIEh0dHBNYW5hZ2VyLnBvc3QoQWNjZXNzTmFtZS50cnlQcml6ZSwgdGhpcy5nZXRQcml6ZUpzb25TdHJpbmcoMiwgMywgY29zdElkLCBjb3N0TnVtKSwgdHJ1ZSkudGhlbigoZGF0YTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShjb3N0SWQsIC1jb3N0TnVtKTtcclxuICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnJlZnJlc2hHZW1TaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxlbmd0aCA9IGRhdGEubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmRMaXN0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBJbmRleCA9IE15VG9vbC5yYW5kb21SYW5nZUludCgwLCA5KTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IGRhdGFbOV07XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVs5XSA9IGRhdGFbdGVtcEluZGV4XTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhW3RlbXBJbmRleF0gPSB0ZW1wO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJld2FyZEl0ZW0gPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKGRhdGFbaV0uZHJvcElkLCBkYXRhW2ldLmRyb3BOdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0oZGF0YVtpXS5kcm9wSWQsIGRhdGFbaV0uZHJvcE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJld2FyZExpc3QucHVzaChyZXdhcmRJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7liY3lvoDllYbln47lrbXljJZY5qyh5a6g54mpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ov5vooYwx5qyh5a6g54mp5oub5YufKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ov5vooYwxMOasoeWuoOeJqeWtteWMlik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u57Sv6K6h5a215YyW54G15a6g6JuLWOasoSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2F2ZUFsbFByb3BOdW0oKTtcclxuICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dNdWx0aXBsZUdldFRpcChyZXdhcmRMaXN0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gbXlzdGVyeVJvb3QuYWRkQ2hpbGQocGV0SXRlbSk7XHJcblxyXG4gICAgICAgIGxldCBlcXVpcEl0ZW0gPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnN0b3JlX2VxdWlwX2l0ZW0pO1xyXG4gICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcInJpY2hCZ1wiKS5jaGlsZHJlblsxXS5jaGlsZHJlblsxXS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwiWFwiICsgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKDQwMDA1KTtcclxuICAgICAgICB0aGlzLndlYXBvbl9pbnN0YW5jZSA9IGVxdWlwSXRlbTtcclxuICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJyaWNoQmdcIikuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihjYy5SaWNoVGV4dCkuc3RyaW5nID0gTGFuZ3VhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyQnlUZXh0SWQoMTQ2MDAwNik7XHJcbiAgICAgICAgbGV0IHByaXplRXF1aXBEYXRhID0gRHJhd0NhcmRJbmZvcm1hdGlvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKc29uRHJhd0NhcmRJbmZvcm1hdGlvbigyMDAxKTtcclxuICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVFcXVpcERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVFcXVpcERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVFcXVpcERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIG9uZURheVRpbWUgPSA2MCo2MCoyNCoxMDAwO1xyXG4gICAgICAgIGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBpZiAoVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROdW1iZXIoU3RvcmFnZUtleS5TdG9yZU15c3RlcnlFcXVpcEZyZWVUaW1lLCAwKSArIG9uZURheVRpbWUgLSBjdXJyZW50VGltZSA8PSAwKSB7XHJcbiAgICAgICAgICAgIC8vIOWFjei0uVxyXG4gICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJmcmVlXCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IG51bGw7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJmcmVlXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZXF1aXBCdG4xID0gZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiYnRuMVwiKTtcclxuICAgICAgICBsZXQgZXF1aXBCdG4xMCA9IGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImJ0bjEwXCIpO1xyXG4gICAgICAgIGVxdWlwQnRuMS5nZXRDaGlsZEJ5TmFtZSgnbGF5JykuZ2V0Q2hpbGRCeU5hbWUoJ3JlZCcpLmFjdGl2ZSA9IEdhbWVEYXRhLmdldEluc3RhbmNlKCkuZ2V0RXF1aXBGcmVlUmVkVGlwKCk7XHJcbiAgICAgICAgZXF1aXBCdG4xLmFkZENvbXBvbmVudChjYy5CdXR0b24pLnRyYW5zaXRpb24gPSBjYy5CdXR0b24uVHJhbnNpdGlvbi5TQ0FMRTtcclxuICAgICAgICBlcXVpcEJ0bjEuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuZHVyYXRpb24gPSAwLjE7XHJcbiAgICAgICAgZXF1aXBCdG4xLmdldENvbXBvbmVudChjYy5CdXR0b24pLnpvb21TY2FsZSA9IDAuOTtcclxuXHJcbiAgICAgICAgZXF1aXBCdG4xMC5hZGRDb21wb25lbnQoY2MuQnV0dG9uKS50cmFuc2l0aW9uID0gY2MuQnV0dG9uLlRyYW5zaXRpb24uU0NBTEU7XHJcbiAgICAgICAgZXF1aXBCdG4xMC5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS5kdXJhdGlvbiA9IDAuMTtcclxuICAgICAgICBlcXVpcEJ0bjEwLmdldENvbXBvbmVudChjYy5CdXR0b24pLnpvb21TY2FsZSA9IDAuOTtcclxuXHJcbiAgICAgICAgZXF1aXBCdG4xLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgY29zdElkID0gMDtcclxuICAgICAgICAgICAgbGV0IGNvc3ROdW0gPSAwO1xyXG4gICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgICAgIGNvc3RJZCA9IHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzE7XHJcbiAgICAgICAgICAgICAgICBjb3N0TnVtID0gcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgIC8vIOS7peS4i+S4uuWQjuerr+acquWtmOa2iOi0ueWIuOeahOWkhOeQhu+8jOW9k+WQjuerr+WtmOWCqOa2iOi0ueWIuOaXtu+8jOS9v+eUqOS4iumdouS4pOihjOS7o+eggVxyXG4gICAgICAgICAgICAgICAgLy8gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEsLXByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc1NwZW5kXzEpO1xyXG4gICAgICAgICAgICAgICAgLy8gY29zdElkID0gcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMjtcclxuICAgICAgICAgICAgICAgIC8vIGNvc3ROdW0gPSAwO1xyXG4gICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmFkZFRvdGFsKEZvbGxvd19UeXBlLuiusOW9lea2iOiAl+eahOmSpeWMmeaVsOmHjywgcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb3N0SWQgPSBwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8yO1xyXG4gICAgICAgICAgICAgICAgY29zdE51bSA9IHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuYWRkVG90YWwoRm9sbG93X1R5cGUu6K6w5b2V5raI6ICX5a6d55+z5pWw6YePLCBjb3N0TnVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgb25lRGF5VGltZSA9IDYwICogNjAgKiAyNCAqIDEwMDA7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIGlmIChUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldE51bWJlcihTdG9yYWdlS2V5LlN0b3JlTXlzdGVyeUVxdWlwRnJlZVRpbWUsIDApICsgb25lRGF5VGltZSAtIGN1cnJlbnRUaW1lIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXF1aXBJdGVtVGVtcD1lcXVpcEl0ZW07XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvc3RJZFRlbXA9Y29zdElkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcml6ZUVxdWlwRGF0YVRlbXA9cHJpemVFcXVpcERhdGE7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNjLnN5cy5wbGF0Zm9ybSA9PT0gY2Muc3lzLkJZVEVEQU5DRV9HQU1FKSB7XHJcblxyXG4gICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBXWE1hbmFnZXJFWC5nZXRJbnN0YW5jZSgpLnpodWFuZ2JlaWt1U2hpcGluPSB0dC5jcmVhdGVSZXdhcmRlZFZpZGVvQWQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZFVuaXRJZDogJzYxM2VmZmw3ZTIxZDVlN2RjNidcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBXWE1hbmFnZXJFWC5nZXRJbnN0YW5jZSgpLnpodWFuZ2JlaWt1U2hpcGluLm9mZkVycm9yKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXWE1hbmFnZXJFWC5nZXRJbnN0YW5jZSgpLnpodWFuZ2JlaWt1U2hpcGluLm9uRXJyb3IoZXJyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgV1hNYW5hZ2VyRVguZ2V0SW5zdGFuY2UoKS56aHVhbmdiZWlrdVNoaXBpbi5vZmZDbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIFdYTWFuYWdlckVYLmdldEluc3RhbmNlKCkuemh1YW5nYmVpa3VTaGlwaW4uc2hvdygpLmNhdGNoKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5aSx6LSl6YeN6K+VXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFdYTWFuYWdlckVYLmdldEluc3RhbmNlKCkuemh1YW5nYmVpa3VTaGlwaW4ubG9hZCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiBXWE1hbmFnZXJFWC5nZXRJbnN0YW5jZSgpLnpodWFuZ2JlaWt1U2hpcGluLnNob3coKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd01lc3NhZ2UoXCLlub/lkYrmi4nlj5blpLHotKVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgV1hNYW5hZ2VyRVguZ2V0SW5zdGFuY2UoKS56aHVhbmdiZWlrdVNoaXBpbi5vbkNsb3NlKHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOeUqOaIt+eCueWHu+S6huOAkOWFs+mXreW5v+WRiuOAkeaMiemSrlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDlsI/kuo4gMi4xLjAg55qE5Z+656GA5bqT54mI5pys77yMcmVzIOaYr+S4gOS4qiB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcyAmJiByZXMuaXNFbmRlZCB8fCByZXMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOato+W4uOaSreaUvue7k+adn++8jOWPr+S7peS4i+WPkea4uOaIj+WlluWKsVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25TSGlwaW5jb21wMigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5pKt5pS+5Lit6YCU6YCA5Ye677yM5LiN5LiL5Y+R5ri45oiP5aWW5YqxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgV1hNYW5hZ2VyRVguZ2V0SW5zdGFuY2UoKS56aHVhbmdiZWlrdVNoaXBpbi5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25TSGlwaW5jb21wMigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0oY29zdElkKSA8IGNvc3ROdW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dNZXNzYWdlKExhbmd1YWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0ckJ5VGV4dElkKDEwMDA0MSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcInNjcm9sbFwiKS5nZXRDb21wb25lbnQoY2MuU2Nyb2xsVmlldykuc2Nyb2xsVG9Cb3R0b20oMik7XHJcbiAgICAgICAgICAgICAgICAgICAgVUlNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd1VpRGlhbG9nKFVJUGF0aC5UdXJudGFibGUsVUlMYXllckxldmVsLk9uZSx7b25Db21wbGV0ZWQ6KHVpTm9kZSk9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVpTm9kZS5nZXRDb21wb25lbnQoVHVybXRhYmxlKS5pbml0VWkoKVxyXG4gICAgICAgICAgICAgICAgICAgIH0sfSk7Ly/ovaznm5hcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBIdHRwTWFuYWdlci5wb3N0KEFjY2Vzc05hbWUudHJ5UHJpemUsIHRoaXMuZ2V0UHJpemVKc29uU3RyaW5nKDEsIDIsIGNvc3RJZCwgY29zdE51bSksIHRydWUpLnRoZW4oKGRhdGE6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShjb3N0SWQsIC1jb3N0TnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5yZWZyZXNoR2VtU2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUu6K6w5b2V5byA5ZCvMeasoeijheWkh+eahOasoeaVsCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u6L+b6KGMMeasoeW8gOWQr+ijheWkhyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u6L+b6KGMMTDmrKHlvIDlkK/oo4XlpIcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLue0r+iuoeiOt+W+l1jku7boo4XlpIcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkSXRlbSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlUHJvcEl0ZW0oZGF0YVswXS5kcm9wSWQsIGRhdGFbMF0uZHJvcE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShkYXRhWzBdLmRyb3BJZCwgZGF0YVswXS5kcm9wTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zYXZlQWxsUHJvcE51bSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dHZXRUaXAocmV3YXJkSXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVFcXVpcERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xMFwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUVxdWlwRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xMFwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUVxdWlwRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldE51bWJlcihTdG9yYWdlS2V5LlN0b3JlTXlzdGVyeUVxdWlwRnJlZVRpbWUsIDApICsgb25lRGF5VGltZSAtIGN1cnJlbnRUaW1lIDw9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWFjei0uVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImZyZWVcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJmcmVlXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaWYoSXNEZWJ1ZykgY29zdE51bSA9IDA7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlcXVpcEJ0bjEwLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgY29zdElkID0gMDtcclxuICAgICAgICAgICAgbGV0IGNvc3ROdW0gPSAwO1xyXG4gICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplRXF1aXBEYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvc3RJZCA9IHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzE7XHJcbiAgICAgICAgICAgICAgICAvLyBjb3N0TnVtID0gcHJpemVFcXVpcERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgIC8vIOS7peS4i+S4uuWQjuerr+acquWtmOa2iOi0ueWIuOeahOWkhOeQhu+8jOW9k+WQjuerr+WtmOWCqOa2iOi0ueWIuOaXtu+8jOS9v+eUqOS4iumdouS4pOihjOS7o+eggVxyXG4gICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEsIC1wcml6ZUVxdWlwRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xKTtcclxuICAgICAgICAgICAgICAgIGNvc3RJZCA9IHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzI7XHJcbiAgICAgICAgICAgICAgICBjb3N0TnVtID0gMDtcclxuICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5hZGRUb3RhbChGb2xsb3dfVHlwZS7orrDlvZXmtojogJfnmoTpkqXljJnmlbDph48sIHByaXplRXF1aXBEYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29zdElkID0gcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMjtcclxuICAgICAgICAgICAgICAgIGNvc3ROdW0gPSBwcml6ZUVxdWlwRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmFkZFRvdGFsKEZvbGxvd19UeXBlLuiusOW9lea2iOiAl+Wuneefs+aVsOmHjywgY29zdE51bSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0oY29zdElkKSA8IGNvc3ROdW0pIHtcclxuICAgICAgICAgICAgICAgIC8vIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd01lc3NhZ2UoTGFuZ3VhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyQnlUZXh0SWQoMTAwMDQxKSk7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJzY3JvbGxcIikuZ2V0Q29tcG9uZW50KGNjLlNjcm9sbFZpZXcpLnNjcm9sbFRvQm90dG9tKDIpO1xyXG4gICAgICAgICAgICAgICAgVUlNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd1VpRGlhbG9nKFVJUGF0aC5UdXJudGFibGUsVUlMYXllckxldmVsLk9uZSx7b25Db21wbGV0ZWQ6KHVpTm9kZSk9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdWlOb2RlLmdldENvbXBvbmVudChUdXJtdGFibGUpLmluaXRVaSgpXHJcbiAgICAgICAgICAgICAgICB9LH0pOy8v6L2s55uYXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGlmKElzRGVidWcpIGNvc3ROdW0gPSAwOyAgIFxyXG4gICAgICAgICAgICBIdHRwTWFuYWdlci5wb3N0KEFjY2Vzc05hbWUudHJ5UHJpemUsIHRoaXMuZ2V0UHJpemVKc29uU3RyaW5nKDIsIDIsIGNvc3RJZCwgY29zdE51bSksIHRydWUpLnRoZW4oKGRhdGE6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0oY29zdElkLCAtY29zdE51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5yZWZyZXNoR2VtU2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS7orrDlvZXlvIDlkK8xMOasoeijheWkh+eahOasoeaVsCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxlbmd0aCA9IGRhdGEubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmRMaXN0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBJbmRleCA9IE15VG9vbC5yYW5kb21SYW5nZUludCgwLCA5KTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IGRhdGFbOV07XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVs5XSA9IGRhdGFbdGVtcEluZGV4XTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhW3RlbXBJbmRleF0gPSB0ZW1wO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ov5vooYwx5qyh5byA5ZCv6KOF5aSHKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ov5vooYwxMOasoeW8gOWQr+ijheWkhyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u57Sv6K6h6I635b6XWOS7tuijheWkhyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmRJdGVtID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShkYXRhW2ldLmRyb3BJZCwgZGF0YVtpXS5kcm9wTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKGRhdGFbaV0uZHJvcElkLCBkYXRhW2ldLmRyb3BOdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXdhcmRMaXN0LnB1c2gocmV3YXJkSXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd011bHRpcGxlR2V0VGlwKHJld2FyZExpc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2F2ZUFsbFByb3BOdW0oKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVFcXVpcERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVFcXVpcERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVFcXVpcERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldE51bWJlcihTdG9yYWdlS2V5LlN0b3JlTXlzdGVyeUVxdWlwRnJlZVRpbWUsIDApICsgb25lRGF5VGltZSAtIGN1cnJlbnRUaW1lIDw9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YWN6LS5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImZyZWVcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVxdWlwSXRlbS5nZXRDaGlsZEJ5TmFtZShcImZyZWVcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBteXN0ZXJ5Um9vdC5hZGRDaGlsZChlcXVpcEl0ZW0pO1xyXG4gICAgICAgIGNvbnRlbnQuYWRkQ2hpbGQobXlzdGVyeVJvb3QpO1xyXG4gICAgICAgIC8vI2VuZHJlZ2lvblxyXG4gICAgICAgIC8vIOmSu+efs1xyXG4gICAgICAgIC8vI3JlZ2lvbiBcclxuICAgICAgICB0aXRsZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuc3RvcmVfdGl0bGUpO1xyXG4gICAgICAgIHRpdGxlLmdldENvbXBvbmVudEluQ2hpbGRyZW4oVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQoNDAwMDAyKTtcclxuICAgICAgICB0aXRsZS5uYW1lID0gXCJnZW1UaXRsZVwiO1xyXG4gICAgICAgIC8vY29udGVudC5hZGRDaGlsZCh0aXRsZSk7XHJcblxyXG4gICAgICAgIGxldCBnZW1Sb290ID0gbmV3IGNjLk5vZGUoKTtcclxuICAgICAgICBnZW1Sb290Lm5hbWUgPSAnZ2VtUm9vdCc7XHJcbiAgICAgICAgZ2VtUm9vdC5oZWlnaHQgPSB0aGlzLnN0b3JlX2dlbV9pdGVtLmRhdGEuaGVpZ2h0ICogMiArIDEwO1xyXG4gICAgICAgIGdlbVJvb3Qud2lkdGggPSB0aGlzLm5vZGUud2lkdGhcclxuICAgICAgICAvL2NvbnRlbnQuYWRkQ2hpbGQoZ2VtUm9vdCk7XHJcbiAgICAgICAgbGV0IGdlbUxheW91dCA9IGdlbVJvb3QuYWRkQ29tcG9uZW50KGNjLkxheW91dCk7XHJcbiAgICAgICAgZ2VtTGF5b3V0LnR5cGUgPSBjYy5MYXlvdXQuVHlwZS5HUklEO1xyXG4gICAgICAgIGdlbUxheW91dC5yZXNpemVNb2RlID0gY2MuTGF5b3V0LlJlc2l6ZU1vZGUuQ09OVEFJTkVSO1xyXG5cclxuICAgICAgICBnZW1MYXlvdXQucGFkZGluZ1JpZ2h0ID0gNDA7XHJcbiAgICAgICAgZ2VtTGF5b3V0LnBhZGRpbmdMZWZ0ID0gNDA7XHJcbiAgICAgICAgZ2VtTGF5b3V0LnNwYWNpbmdYID0gMjA7XHJcbiAgICAgICAgZ2VtTGF5b3V0LnNwYWNpbmdZID0gMjA7XHJcblxyXG4gICAgICAgIGxldCBnZW1EYXRhID0gRGlhbW9uZHNSZWNoYXJnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKc29uRGF0YSgpXHJcbiAgICAgICAgZ2VtRGF0YS5mb3JFYWNoKCh2LCBrKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpdGVtID0gY2MuaW5zdGFudGlhdGUodGhpcy5zdG9yZV9nZW1faXRlbSk7XHJcbiAgICAgICAgICAgIGl0ZW0ubmFtZSA9ICdnZW0nICsgdi5SZWNoYXJnZUlEO1xyXG4gICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwidGl0bGVcIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc2V0VGV4dElkKDQwMDAwMik7XHJcbiAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJ0aXRsZVwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zdHJpbmcgPSB2LkRpYW1vbmRzTnVtICsgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInRpdGxlXCIpLmdldENvbXBvbmVudChUZXh0TGFuZ3VhZ2UpLnN0cmluZztcclxuICAgICAgICAgICAgbGV0IHBheUluZm8gPSBQYXlNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UGF5SW5mbyh2LlByb2R1Y3RJZCk7XHJcbiAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW1cIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBwYXlJbmZvLnByaWNlO1xyXG4gICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKCdpY29uJykuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSB0aGlzLnN0b3JlX3VpLmdldFNwcml0ZUZyYW1lKFwiU2hvcF9JY29uX0dlbV9cIiArICh2LlJlY2hhcmdlSUQgLSAxKSk7XHJcbiAgICAgICAgICAgIGlmIChUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0cmluZyhTdG9yYWdlS2V5LlN0b3JlR2VtSXRlbSArIHYuUmVjaGFyZ2VJRCwgJycpID09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKCdiZycpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKCd0aXAnKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInRpcFwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQoMTQxMDAwNCk7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwidGlwXCIpLmdldENvbXBvbmVudChUZXh0TGFuZ3VhZ2UpLnNldFJlcGxhY2VWYWx1ZSgnficsIHYuR2V0RGlhbW9uZHNOdW0gKyAnJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKCdiZycpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZSgndGlwJykuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGJ1dHRvbiA9IGl0ZW0uYWRkQ29tcG9uZW50KGNjLkJ1dHRvbik7XHJcbiAgICAgICAgICAgIGJ1dHRvbi50cmFuc2l0aW9uID0gY2MuQnV0dG9uLlRyYW5zaXRpb24uU0NBTEVcclxuICAgICAgICAgICAgYnV0dG9uLmR1cmF0aW9uID0gMC4xO1xyXG4gICAgICAgICAgICBidXR0b24uem9vbVNjYWxlID0gMC45O1xyXG5cclxuICAgICAgICAgICAgbGV0IGNsaWNrRXZlbnQgPSBuZXcgY2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlcigpO1xyXG4gICAgICAgICAgICBjbGlja0V2ZW50LnRhcmdldCA9IHRoaXMubm9kZTtcclxuICAgICAgICAgICAgY2xpY2tFdmVudC5jb21wb25lbnQgPSAnU3RvcmVVaSc7XHJcbiAgICAgICAgICAgIGNsaWNrRXZlbnQuaGFuZGxlciA9ICdvbkdlbUJ0bkNsaWNrJztcclxuICAgICAgICAgICAgY2xpY2tFdmVudC5jdXN0b21FdmVudERhdGEgPSB2LlJlY2hhcmdlSUQgKyAnJztcclxuICAgICAgICAgICAgYnV0dG9uLmNsaWNrRXZlbnRzLnB1c2goY2xpY2tFdmVudCk7XHJcbiAgICAgICAgICAgIC8vIGJ1dHRvblxyXG5cclxuICAgICAgICAgICAgLy8gaXRlbS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsKCk9PntcclxuICAgICAgICAgICAgLy8gICAgIEFwa01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93UGF5KHtcclxuICAgICAgICAgICAgLy8gICAgICAgICByZXN1bHQ6KGlzRHkpPT4ge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBpZihpc0R5KXtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS546ZK755+z54K55Ye76LSt5Lmw5qyh5pWwICsgdi5Qcm9kdWN0SWQpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgaWYoVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdHJpbmcoU3RvcmFnZUtleS5TdG9yZUdlbUl0ZW0gKyB2LlJlY2hhcmdlSUQsJycpID09ICcnKXtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShQcm9wSWQuR2VtLHYuRGlhbW9uZHNOdW0gKyB2LkdldERpYW1vbmRzTnVtKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0oUHJvcElkLkdlbSx2LkRpYW1vbmRzTnVtICsgdi5HZXREaWFtb25kc051bSk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zZXRJdGVtKFN0b3JhZ2VLZXkuU3RvcmVHZW1JdGVtICsgdi5SZWNoYXJnZUlELCcxJyk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZSgnYmcnKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKCd0aXAnKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNob3dHZXRUaXAocmV3YXJkKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKFByb3BJZC5HZW0sdi5EaWFtb25kc051bSk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKFByb3BJZC5HZW0sdi5EaWFtb25kc051bSk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93R2V0VGlwKHJld2FyZCk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICB9LHYuUHJvZHVjdElkKVxyXG4gICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICAgICAgLy9nZW1Sb290LmFkZENoaWxkKGl0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vI2VuZHJlZ2lvblxyXG4gICAgICAgIC8vIOmHkeW4gVxyXG4gICAgICAgIC8vI3JlZ2lvbiBcclxuICAgICAgICB0aXRsZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuc3RvcmVfdGl0bGUpO1xyXG4gICAgICAgIHRpdGxlLmdldENvbXBvbmVudEluQ2hpbGRyZW4oVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQoNDAwMDAxKTtcclxuICAgICAgICB0aXRsZS5uYW1lID0gXCJjb2luVGl0bGVcIjtcclxuICAgICAgICBjb250ZW50LmFkZENoaWxkKHRpdGxlKTtcclxuXHJcbiAgICAgICAgbGV0IGNvaW5Sb290ID0gbmV3IGNjLk5vZGUoKTtcclxuICAgICAgICBjb2luUm9vdC5uYW1lID0gJ2NvaW5Sb290JztcclxuICAgICAgICBjb2luUm9vdC5oZWlnaHQgPSB0aGlzLnN0b3JlX2NvaW5faXRlbS5kYXRhLmhlaWdodCArIDEwO1xyXG4gICAgICAgIGNvaW5Sb290LndpZHRoID0gdGhpcy5ub2RlLndpZHRoXHJcbiAgICAgICAgY29udGVudC5hZGRDaGlsZChjb2luUm9vdCk7XHJcbiAgICAgICAgbGV0IGNvaW5MYXlvdXQgPSBjb2luUm9vdC5hZGRDb21wb25lbnQoY2MuTGF5b3V0KTtcclxuICAgICAgICBjb2luTGF5b3V0LnR5cGUgPSBjYy5MYXlvdXQuVHlwZS5IT1JJWk9OVEFMO1xyXG4gICAgICAgIGNvaW5MYXlvdXQucmVzaXplTW9kZSA9IGNjLkxheW91dC5SZXNpemVNb2RlLkNPTlRBSU5FUjtcclxuXHJcbiAgICAgICAgY29pbkxheW91dC5wYWRkaW5nUmlnaHQgPSA0MDtcclxuICAgICAgICBjb2luTGF5b3V0LnBhZGRpbmdMZWZ0ID0gNDA7XHJcbiAgICAgICAgY29pbkxheW91dC5zcGFjaW5nWCA9IDIwO1xyXG5cclxuICAgICAgICBsZXQgY29pbkRhdGEgPSBQdXJjaGFzZUNvaW5zTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEpzb25EYXRhQnlDaGFwdGVyKExldmVsTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEZpbmlzaENoYXB0ZXIoKSk7XHJcbiAgICAgICAgY29pbkRhdGEuZm9yRWFjaCgodiwgaykgPT4ge1xyXG4gICAgICAgICAgICBsZXQgaXRlbSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuc3RvcmVfY29pbl9pdGVtKTtcclxuICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInRpdGxlXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gdi5HZXRDb2luTnVtICsgJyc7XHJcbiAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJpY29uXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gdGhpcy5zdG9yZV91aS5nZXRTcHJpdGVGcmFtZShcIlNob3BfSWNvbl9Db2luX1wiICsgdi5EaXNwbGF5UG9zaXRpb24pO1xyXG4gICAgICAgICAgICBpZiAodi5BZFJld2FyZCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoTnVtYmVyKFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SW50KFN0b3JhZ2VLZXkuU3RvcmVDb2luSXRlbSArIGssIDApKSA8IHYuQWRQbGF5YWJsZVRpbWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImFkaWNvblwiKS5hY3RpdmU9dHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb25cIikuYWN0aXZlPWZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW1cIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInRleHRcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKCdyZWQnKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiYWRpY29uXCIpLmFjdGl2ZT1mYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb25cIikuYWN0aXZlPXRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bVwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW1cIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSAneCcgKyB2LkNvbnN1bWVEaWFtb25kc051bTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwidGV4dFwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKCdyZWQnKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJhZGljb25cIikuYWN0aXZlPWZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uXCIpLmFjdGl2ZT10cnVlO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bVwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9ICd4JyArIHYuQ29uc3VtZURpYW1vbmRzTnVtO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInRleHRcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKCdyZWQnKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaXRlbS5hZGRDb21wb25lbnQoY2MuQnV0dG9uKS50cmFuc2l0aW9uID0gY2MuQnV0dG9uLlRyYW5zaXRpb24uU0NBTEU7XHJcbiAgICAgICAgICAgIGl0ZW0uZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuZHVyYXRpb24gPSAwLjE7XHJcbiAgICAgICAgICAgIGl0ZW0uZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuem9vbVNjYWxlID0gMC45O1xyXG5cclxuICAgICAgICAgICAgY29pblJvb3QuYWRkQ2hpbGQoaXRlbSk7XHJcbiAgICAgICAgICAgIGl0ZW0ub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodi5BZFJld2FyZCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE51bWJlcihUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEludChTdG9yYWdlS2V5LlN0b3JlQ29pbkl0ZW0gKyBrLCAwKSkgPCB2LkFkUGxheWFibGVUaW1lcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudlRlbXA9djtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZEl0ZW09aXRlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rVGVtcD1rO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuQllURURBTkNFX0dBTUUpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXWE1hbmFnZXJFWC5nZXRJbnN0YW5jZSgpLmppbmJpU2hpcGluID0gdHQuY3JlYXRlUmV3YXJkZWRWaWRlb0FkKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZFVuaXRJZDogJzFmaWRhMWxxZWpuZDNwZDRsMSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgV1hNYW5hZ2VyRVguZ2V0SW5zdGFuY2UoKS5qaW5iaVNoaXBpbi5vZmZFcnJvcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgV1hNYW5hZ2VyRVguZ2V0SW5zdGFuY2UoKS5qaW5iaVNoaXBpbi5vbkVycm9yKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXWE1hbmFnZXJFWC5nZXRJbnN0YW5jZSgpLmppbmJpU2hpcGluLm9mZkNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXWE1hbmFnZXJFWC5nZXRJbnN0YW5jZSgpLmppbmJpU2hpcGluLnNob3coKS5jYXRjaCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5aSx6LSl6YeN6K+VXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV1hNYW5hZ2VyRVguZ2V0SW5zdGFuY2UoKS5qaW5iaVNoaXBpbi5sb2FkKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gV1hNYW5hZ2VyRVguZ2V0SW5zdGFuY2UoKS5qaW5iaVNoaXBpbi5zaG93KCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93TWVzc2FnZShcIuW5v+WRiuaLieWPluWksei0pVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXWE1hbmFnZXJFWC5nZXRJbnN0YW5jZSgpLmppbmJpU2hpcGluLm9uQ2xvc2UocmVzID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDnlKjmiLfngrnlh7vkuobjgJDlhbPpl63lub/lkYrjgJHmjInpkq5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDlsI/kuo4gMi4xLjAg55qE5Z+656GA5bqT54mI5pys77yMcmVzIOaYr+S4gOS4qiB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzICYmIHJlcy5pc0VuZGVkIHx8IHJlcyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDmraPluLjmkq3mlL7nu5PmnZ/vvIzlj6/ku6XkuIvlj5HmuLjmiI/lpZblirFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25TaGlwaW5jb21wMygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5pKt5pS+5Lit6YCU6YCA5Ye677yM5LiN5LiL5Y+R5ri45oiP5aWW5YqxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdYTWFuYWdlckVYLmdldEluc3RhbmNlKCkuamluYmlTaGlwaW4uZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25TaGlwaW5jb21wMygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShQcm9wSWQuR2VtLCAtdi5Db25zdW1lRGlhbW9uZHNOdW0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLui0reS5sDHmrKHllYblupfkuK3nmoTph5HluIEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmZvbGxvd0V2ZW50KEZvbGxvd19UeXBlLnjph5HluIHngrnlh7votK3kubDmrKHmlbAgKyB2LkNvaW5QdXJjaGFzZUlEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShQcm9wSWQuQ29pbiwgdi5HZXRDb2luTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKFByb3BJZC5Db2luLCB2LkdldENvaW5OdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93R2V0VGlwKHJld2FyZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVSU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93VWlEaWFsb2coVUlQYXRoLkNvaW5Qb3AsIFVJTGF5ZXJMZXZlbC5UaHJlZSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGVkOiAodWlOb2RlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpTm9kZS5nZXRDb21wb25lbnQoQ29pblBvcCkuaW5pdFVpKFByb3BJZC5HZW0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKFByb3BJZC5HZW0sIC12LkNvbnN1bWVEaWFtb25kc051bSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7otK3kubAx5qyh5ZWG5bqX5Lit55qE6YeR5biBKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmZvbGxvd0V2ZW50KEZvbGxvd19UeXBlLnjph5HluIHngrnlh7votK3kubDmrKHmlbAgKyB2LkNvaW5QdXJjaGFzZUlEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKFByb3BJZC5Db2luLCB2LkdldENvaW5OdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShQcm9wSWQuQ29pbiwgdi5HZXRDb2luTnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93R2V0VGlwKHJld2FyZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVUlNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd1VpRGlhbG9nKFVJUGF0aC5Db2luUG9wLCBVSUxheWVyTGV2ZWwuVGhyZWUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGVkOiAodWlOb2RlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWlOb2RlLmdldENvbXBvbmVudChDb2luUG9wKS5pbml0VWkoUHJvcElkLkdlbSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8jZW5kcmVnaW9uXHJcbiAgICAgICAgLy8g5Yqo5oCB5Yi35paw5YaF5a65XHJcbiAgICAgICAgdGhpcy5zY2hlZHVsZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIOavj+aXpeWVhuW6l+WIt+aWsFxyXG4gICAgICAgICAgICBub3dUaW1lID0gRGF0ZS5ub3coKSAvIDEwMDA7XHJcbiAgICAgICAgICAgIGxldCByZXNpZHVlVGltZSA9IFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0TnVtYmVyKFN0b3JhZ2VLZXkuVG9tb3Jvd1plcm9UaW1lU3RhbXAsIDApIC0gbm93VGltZTtcclxuICAgICAgICAgICAgaWYgKHJlc2lkdWVUaW1lIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgcmVzaWR1ZVRpbWUgPSAoKG5ldyBEYXRlKG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCkpLmdldFRpbWUoKSArIDg2NDAwMDApIC8gMTAwMCkgLSBub3dUaW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBoaCA9IE1hdGguZmxvb3IocmVzaWR1ZVRpbWUgLyAoNjAgKiA2MCkpO1xyXG4gICAgICAgICAgICBpZiAoaGggPCAxMCkge1xyXG4gICAgICAgICAgICAgICAgdGltZU51bS5zdHJpbmcgPSAnMCcgKyBoaCArICc6JztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRpbWVOdW0uc3RyaW5nID0gaGggKyAnOic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IG1tID0gTWF0aC5mbG9vcihyZXNpZHVlVGltZSAlICg2MCAqIDYwKSAvIDYwKTtcclxuICAgICAgICAgICAgaWYgKG1tIDwgMTApIHtcclxuICAgICAgICAgICAgICAgIHRpbWVOdW0uc3RyaW5nICs9ICcwJyArIG1tICsgJzonXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lTnVtLnN0cmluZyArPSBtbSArICc6J1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBzcyA9IE1hdGguZmxvb3IocmVzaWR1ZVRpbWUgJSAoNjAgKiA2MCkgJSA2MClcclxuICAgICAgICAgICAgaWYgKHNzIDwgMTApIHtcclxuICAgICAgICAgICAgICAgIHRpbWVOdW0uc3RyaW5nICs9ICcwJyArIHNzXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lTnVtLnN0cmluZyArPSBzc1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIC8vIOWuoOeJqeWIt+aWsFxyXG4gICAgICAgICAgICBpZiAoVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROdW1iZXIoU3RvcmFnZUtleS5TdG9yZU15c3RlcnlQZXRGcmVlVGltZSwgMCkgKyBvbmVEYXlUaW1lIC0gY3VycmVudFRpbWUgPD0gMCAmJiBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5hY3RpdmUgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBwZXRJdGVtLmdldENoaWxkQnlOYW1lKFwiZnJlZVwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcGV0SXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHRoaXMuc3RvcmVfdWkuZ2V0U3ByaXRlRnJhbWUoXCJTaG9wX0ljb25fQURTXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIOatpuWZqOWIt+aWsFxyXG4gICAgICAgICAgICBpZiAoVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROdW1iZXIoU3RvcmFnZUtleS5TdG9yZU15c3RlcnlFcXVpcEZyZWVUaW1lLCAwKSArIG9uZURheVRpbWUgLSBjdXJyZW50VGltZSA8PSAwICYmIHBldEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmFjdGl2ZSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBlcXVpcEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiZnJlZVwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZXF1aXBJdGVtLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIDEsIGNjLm1hY3JvLlJFUEVBVF9GT1JFVkVSLCAwKVxyXG5cclxuXHJcbiAgICB9XHJcbiAgICBwcml2YXRlIG9uU2hpcGluY29tcDMoKTp2b2lke1xyXG5cclxuICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLui0reS5sDHmrKHllYblupfkuK3nmoTph5HluIEpO1xyXG4gICAgICAgIEZvbGxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5mb2xsb3dFdmVudChGb2xsb3dfVHlwZS546YeR5biB54K55Ye76LSt5Lmw5qyh5pWwICsgdGhpcy52VGVtcC5Db2luUHVyY2hhc2VJRCk7XHJcbiAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKFByb3BJZC5Db2luLCB0aGlzLnZUZW1wLkdldENvaW5OdW0pO1xyXG4gICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKFByb3BJZC5Db2luLHRoaXMudlRlbXAuR2V0Q29pbk51bSk7XHJcbiAgICAgICAgbGV0IG51bSA9IFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SW50KFN0b3JhZ2VLZXkuU3RvcmVDb2luSXRlbSArIHRoaXMua1RlbXAsIDApICsgMTtcclxuICAgICAgICBUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNldEl0ZW0oU3RvcmFnZUtleS5TdG9yZUNvaW5JdGVtICsgdGhpcy5rVGVtcCwgbnVtKVxyXG4gICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd0dldFRpcChyZXdhcmQpO1xyXG4gICAgICAgIGlmIChudW0gPj0gdGhpcy52VGVtcC5BZFBsYXlhYmxlVGltZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5hZEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvblwiKS5hY3RpdmU9dHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5hZEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJhZGljb25cIikuYWN0aXZlPWZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmFkSXRlbS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKFByb3BJZC5HZW0pO1xyXG4gICAgICAgICAgICB0aGlzLmFkSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bVwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmFkSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9ICd4JyArIHRoaXMudlRlbXAuQ29uc3VtZURpYW1vbmRzTnVtO1xyXG4gICAgICAgICAgICB0aGlzLmFkSXRlbS5nZXRDaGlsZEJ5TmFtZShcInRleHRcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuYWRJdGVtLmdldENoaWxkQnlOYW1lKCdyZWQnKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLnBvc3RSZWRFdmVudChSZWRFdmVudFN0cmluZy5SRURfQ0hFQ0ssIFJlZEV2ZW50VHlwZS5CdG5fU2hvcCk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAgICBcclxuICAgIH1cclxuICAgIHByaXZhdGUgb25TSGlwaW5jb21wMigpOnZvaWR7XHJcbiAgICAgICAgdmFyIGNvc3ROdW0gPSAwO1xyXG4gICAgICAgIGxldCBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zZXRJdGVtKFN0b3JhZ2VLZXkuU3RvcmVNeXN0ZXJ5RXF1aXBGcmVlVGltZSwgY3VycmVudFRpbWUpO1xyXG4gICAgICAgXHJcbiAgICAgICAgbGV0IGVxdWlwQnRuMSA9IHRoaXMuZXF1aXBJdGVtVGVtcC5nZXRDaGlsZEJ5TmFtZShcImJ0bjFcIik7XHJcbiAgICAgICAgZXF1aXBCdG4xLmdldENoaWxkQnlOYW1lKCdsYXknKS5nZXRDaGlsZEJ5TmFtZSgncmVkJykuYWN0aXZlID0gR2FtZURhdGEuZ2V0SW5zdGFuY2UoKS5nZXRFcXVpcEZyZWVSZWRUaXAoKTtcclxuICAgICAgICBFdmVudE1hbmFnZXIucG9zdFJlZEV2ZW50KFJlZEV2ZW50U3RyaW5nLlJFRF9DSEVDSywgUmVkRXZlbnRUeXBlLkJ0bl9TaG9wKTtcclxuICAgICAgICB0aGlzLmVxdWlwSXRlbVRlbXAuZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5lcXVpcEl0ZW1UZW1wLmdldENoaWxkQnlOYW1lKFwiZnJlZVwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICBIdHRwTWFuYWdlci5wb3N0KEFjY2Vzc05hbWUudHJ5UHJpemUsIHRoaXMuZ2V0UHJpemVKc29uU3RyaW5nKDEsIDIsIHRoaXMuY29zdElkVGVtcCwgY29zdE51bSksIHRydWUpLnRoZW4oKGRhdGE6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmZvbGxvd0V2ZW50KEZvbGxvd19UeXBlLuiusOW9leW8gOWQrzHmrKHoo4XlpIfnmoTmrKHmlbApO1xyXG4gICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ov5vooYwx5qyh5byA5ZCv6KOF5aSHKTtcclxuICAgICAgICAgICAgICAgIFRhc2tNYW5hZ2VyLmdldEluc3RhbmNlKCkuZW1pdFRhc2soVGFza0l0ZW0u6L+b6KGMMTDmrKHlvIDlkK/oo4XlpIcpO1xyXG4gICAgICAgICAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7ntK/orqHojrflvpdY5Lu26KOF5aSHKTtcclxuICAgICAgICAgICAgICAgIGxldCByZXdhcmRJdGVtID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShkYXRhWzBdLmRyb3BJZCwgZGF0YVswXS5kcm9wTnVtKTtcclxuICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShkYXRhWzBdLmRyb3BJZCwgZGF0YVswXS5kcm9wTnVtKTtcclxuICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2F2ZUFsbFByb3BOdW0oKTtcclxuICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd0dldFRpcChyZXdhcmRJdGVtKTtcclxuICAgICAgICAgICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0odGhpcy5wcml6ZUVxdWlwRGF0YVRlbXAuT25lRHJhd1Byb3BzSURfMSkgPj0gdGhpcy5wcml6ZUVxdWlwRGF0YVRlbXAuT25lRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXF1aXBJdGVtVGVtcC5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZCh0aGlzLnByaXplRXF1aXBEYXRhVGVtcC5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVxdWlwSXRlbVRlbXAuZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyB0aGlzLnByaXplRXF1aXBEYXRhVGVtcC5PbmVEcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVxdWlwSXRlbVRlbXAuZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQodGhpcy5wcml6ZUVxdWlwRGF0YVRlbXAuT25lRHJhd1Byb3BzSURfMik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcXVpcEl0ZW1UZW1wLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgdGhpcy5wcml6ZUVxdWlwRGF0YVRlbXAuT25lRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHRoaXMucHJpemVFcXVpcERhdGFUZW1wLk9uZURyYXdQcm9wc0lEXzEpID49IHRoaXMucHJpemVFcXVpcERhdGFUZW1wLlRlbkRyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVxdWlwSXRlbVRlbXAuZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHRoaXMucHJpemVFcXVpcERhdGFUZW1wLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXF1aXBJdGVtVGVtcC5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyB0aGlzLnByaXplRXF1aXBEYXRhVGVtcC5UZW5EcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVxdWlwSXRlbVRlbXAuZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHRoaXMucHJpemVFcXVpcERhdGFUZW1wLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXF1aXBJdGVtVGVtcC5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyB0aGlzLnByaXplRXF1aXBEYXRhVGVtcC5UZW5EcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIG9uU2hpcGluQ29tcCgpOnZvaWR7XHJcbiAgICAgICAgbGV0IHN0b3JlSXRlbUluZm8gPSBDb21tb2RpdHlJbmZvcm1hdGlvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKc29uQ29tbW9kaXR5SW5mb3JtYXRpb24odGhpcy5pbmZvcm1hdGlvblRlbXApXHJcbiAgICAgICAgVGFza01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5lbWl0VGFzayhUYXNrSXRlbS7llYblupfkuK3otK3kubDnianlk4Ex5qyhKTtcclxuICAgICAgICBUYXNrTWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXRUYXNrKFRhc2tJdGVtLuWJjeW+gOWVhuWfjui0reS5sFjmrKHllYblk4EpO1xyXG4gICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShzdG9yZUl0ZW1JbmZvLkdldEl0ZW0sIHN0b3JlSXRlbUluZm8uR2V0TnVtKTtcclxuICAgICAgICBsZXQgcmV3YXJkID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShzdG9yZUl0ZW1JbmZvLkdldEl0ZW0sIHN0b3JlSXRlbUluZm8uR2V0TnVtKTtcclxuICAgICAgICBsZXQgbnVtID0gVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROdW1iZXIoU3RvcmFnZUtleS5TdG9yZURhaWx5U2hvcE51bSArIHRoaXMuaW5mb3JtYXRpb25LLCAwKTtcclxuICAgICAgICBudW0rKztcclxuICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUu5Zyo5q+P5pel5ZWG5bqX5Lit5L2/55So5bm/5ZGK6LSt5Lmw6ZK755+z55qE5qyh5pWwKTtcclxuICAgICAgICBUaGVTdG9yYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNldEl0ZW0oU3RvcmFnZUtleS5TdG9yZURhaWx5U2hvcE51bSArIHRoaXMuaW5mb3JtYXRpb25LLCBudW0pO1xyXG4gICAgICAgIGlmIChudW0gPj0gc3RvcmVJdGVtSW5mby5BZFBsYXlhYmxlVGltZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5hZEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvblwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5hZEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJmcmVlXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmFkSXRlbS5nZXRDaGlsZEJ5TmFtZShcInNhbGVPdXRcIikuekluZGV4ID0gMTtcclxuICAgICAgICAgICAgdGhpcy5hZEl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJzYWxlT3V0XCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuYWRJdGVtLmdldENoaWxkQnlOYW1lKFwicmVkXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBFdmVudE1hbmFnZXIucG9zdFJlZEV2ZW50KFJlZEV2ZW50U3RyaW5nLlJFRF9DSEVDSywgUmVkRXZlbnRUeXBlLkJ0bl9TaG9wKTtcclxuICAgICAgICAgICAgbGV0IHR5cGUgPSBJdGVtTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFR5cGUoc3RvcmVJdGVtSW5mby5HZXRJdGVtKVxyXG4gICAgICAgICAgICBpZiAodHlwZSA9PSAzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkSXRlbS5nZXRDaGlsZEJ5TmFtZShcInJld2FyZFwiKS5nZXRDb21wb25lbnQoRXF1aXBJdGVtKS5wcm9wX2FjdGlvbiA9IFByb3BBY3Rpb24uTnVsbDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRJdGVtLmdldENoaWxkQnlOYW1lKFwicmV3YXJkXCIpLmdldENvbXBvbmVudChQcm9wKS5wcm9wX2FjdGlvbiA9IFByb3BBY3Rpb24uTnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmFkSXRlbS5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5EKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgRm9sbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpLmZvbGxvd0V2ZW50KEZvbGxvd19UeXBlLuavj+aXpeWVhuW6l+S4reaIkOWKn+i0reS5sOeJqeWTgeeahOasoeaVsCk7XHJcbiAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93R2V0VGlwKHJld2FyZCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIGl0ZW06Y2MuTm9kZSx2Okpzb25EaWFtb25kc1JlY2hhcmdlXHJcbiAgICBvbkdlbUJ0bkNsaWNrKGUsIGlkOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgaXRlbSA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcInNjcm9sbFwiKS5nZXRDb21wb25lbnQoY2MuU2Nyb2xsVmlldykuY29udGVudC5nZXRDaGlsZEJ5TmFtZShcImdlbVJvb3RcIikuZ2V0Q2hpbGRCeU5hbWUoXCJnZW1cIiArIGlkKTtcclxuICAgICAgICBsZXQgdjogSnNvbkRpYW1vbmRzUmVjaGFyZ2UgPSBEaWFtb25kc1JlY2hhcmdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEpzb25EaWFtb25kc1JlY2hhcmdlKE51bWJlcihpZCkpO1xyXG4gICAgICAgIEFwa01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93UGF5KHtcclxuICAgICAgICAgICAgcmVzdWx0OiAoaXNEeSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzRHkpIHtcclxuICAgICAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUueOmSu+efs+eCueWHu+i0reS5sOasoeaVsCArIHYuUHJvZHVjdElkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTdHJpbmcoU3RvcmFnZUtleS5TdG9yZUdlbUl0ZW0gKyB2LlJlY2hhcmdlSUQsICcnKSA9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShQcm9wSWQuR2VtLCB2LkRpYW1vbmRzTnVtICsgdi5HZXREaWFtb25kc051bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShQcm9wSWQuR2VtLCB2LkRpYW1vbmRzTnVtICsgdi5HZXREaWFtb25kc051bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2V0SXRlbShTdG9yYWdlS2V5LlN0b3JlR2VtSXRlbSArIHYuUmVjaGFyZ2VJRCwgJzEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVXNlckluZm8uZ2V0SW5zdGFuY2UoKS5wYXlHZW0gKz0gdi5EaWFtb25kc051bTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgSHR0cE1hbmFnZXIucG9zdChBY2Nlc3NOYW1lLnVwZGF0ZVVzZXJJbmZvLCB0aGlzLnNldEN1bXVsYXRpdmVSZWNoYXJnZUpzb25TdHJpbmcodi5EaWFtb25kc051bSkpLnRoZW4oKGRhdGE6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVXNlckluZm8uZ2V0SW5zdGFuY2UoKS5yZWZyZXNoRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3VtdWxhdGl2ZVJlY2hhcmdlc01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5yZWZyZXNoRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZSgnYmcnKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZSgndGlwJykuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd0dldFRpcChyZXdhcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXdhcmQgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZVByb3BJdGVtKFByb3BJZC5HZW0sIHYuRGlhbW9uZHNOdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoYW5nZVByb3BOdW0oUHJvcElkLkdlbSwgdi5EaWFtb25kc051bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFVzZXJJbmZvLmdldEluc3RhbmNlKCkucGF5R2VtICs9IHYuRGlhbW9uZHNOdW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEh0dHBNYW5hZ2VyLnBvc3QoQWNjZXNzTmFtZS51cGRhdGVVc2VySW5mbywgdGhpcy5zZXRDdW11bGF0aXZlUmVjaGFyZ2VKc29uU3RyaW5nKHYuRGlhbW9uZHNOdW0pKS50aGVuKChkYXRhOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVzZXJJbmZvLmdldEluc3RhbmNlKCkucmVmcmVzaERhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEN1bXVsYXRpdmVSZWNoYXJnZXNNYW5hZ2VyLmdldEluc3RhbmNlKCkucmVmcmVzaERhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd0dldFRpcChyZXdhcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHYuUHJvZHVjdElkKVxyXG4gICAgfVxyXG5cclxuICAgIHJlZnJlc2hTdG9yZSgpIHtcclxuICAgICAgICBsZXQgY29udGVudCA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcInNjcm9sbFwiKS5nZXRDb21wb25lbnQoY2MuU2Nyb2xsVmlldykuY29udGVudDtcclxuICAgICAgICBsZXQgZ2VtUm9vdCA9IGNvbnRlbnQuZ2V0Q2hpbGRCeU5hbWUoXCJnZW1Sb290XCIpO1xyXG4gICAgICAgIGxldCBnZW1EYXRhID0gRGlhbW9uZHNSZWNoYXJnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKc29uRGF0YSgpXHJcbiAgICAgICAgZ2VtRGF0YS5mb3JFYWNoKCh2LCBrKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpdGVtID0gZ2VtUm9vdC5nZXRDaGlsZEJ5TmFtZSgnZ2VtJyArIHYuUmVjaGFyZ2VJRCk7XHJcbiAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJ0aXRsZVwiKS5nZXRDb21wb25lbnQoVGV4dExhbmd1YWdlKS5zZXRUZXh0SWQoNDAwMDAyKTtcclxuICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInRpdGxlXCIpLmdldENvbXBvbmVudChUZXh0TGFuZ3VhZ2UpLnN0cmluZyA9IHYuRGlhbW9uZHNOdW0gKyBpdGVtLmdldENoaWxkQnlOYW1lKFwidGl0bGVcIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc3RyaW5nO1xyXG4gICAgICAgICAgICBsZXQgcGF5SW5mbyA9IFBheU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQYXlJbmZvKHYuUHJvZHVjdElkKTtcclxuICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcIm51bVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IHBheUluZm8ucHJpY2U7XHJcbiAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoJ2ljb24nKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHRoaXMuc3RvcmVfdWkuZ2V0U3ByaXRlRnJhbWUoXCJTaG9wX0ljb25fR2VtX1wiICsgKHYuUmVjaGFyZ2VJRCAtIDEpKTtcclxuICAgICAgICAgICAgaWYgKFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyaW5nKFN0b3JhZ2VLZXkuU3RvcmVHZW1JdGVtICsgdi5SZWNoYXJnZUlELCAnJykgPT0gJycpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoJ2JnJykuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoJ3RpcCcpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwidGlwXCIpLmdldENvbXBvbmVudChUZXh0TGFuZ3VhZ2UpLnNldFRleHRJZCgxNDEwMDA0KTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJ0aXBcIikuZ2V0Q29tcG9uZW50KFRleHRMYW5ndWFnZSkuc2V0UmVwbGFjZVZhbHVlKCd+Jywgdi5HZXREaWFtb25kc051bSArICcnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoJ2JnJykuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKCd0aXAnKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBpdGVtLm9mZihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQpO1xyXG4gICAgICAgICAgICAvLyBpdGVtLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwoKT0+e1xyXG4gICAgICAgICAgICAvLyAgICAgaXRlbS5zY2FsZSA9IDE7XHJcbiAgICAgICAgICAgIC8vICAgICBBcGtNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd1BheSh7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgcmVzdWx0Oihpc0R5KT0+IHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgaWYoaXNEeSl7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBGb2xsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCkuZm9sbG93RXZlbnQoRm9sbG93X1R5cGUueOmSu+efs+eCueWHu+i0reS5sOasoeaVsCArIHYuUHJvZHVjdElkKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGlmKFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RyaW5nKFN0b3JhZ2VLZXkuU3RvcmVHZW1JdGVtICsgdi5SZWNoYXJnZUlELCcnKSA9PSAnJyl7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgbGV0IHJld2FyZCA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY3JlYXRlUHJvcEl0ZW0oUHJvcElkLkdlbSx2LkRpYW1vbmRzTnVtICsgdi5HZXREaWFtb25kc051bSk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGFuZ2VQcm9wTnVtKFByb3BJZC5HZW0sdi5EaWFtb25kc051bSArIHYuR2V0RGlhbW9uZHNOdW0pO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIFRoZVN0b3JhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2V0SXRlbShTdG9yYWdlS2V5LlN0b3JlR2VtSXRlbSArIHYuUmVjaGFyZ2VJRCwnMScpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoJ2JnJykuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZSgndGlwJykuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgR2FtZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zaG93R2V0VGlwKHJld2FyZCk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBsZXQgcmV3YXJkID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVQcm9wSXRlbShQcm9wSWQuR2VtLHYuRGlhbW9uZHNOdW0pO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hhbmdlUHJvcE51bShQcm9wSWQuR2VtLHYuRGlhbW9uZHNOdW0pO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLmdldEluc3RhbmNlKCkuc2hvd0dldFRpcChyZXdhcmQpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAgICAgfSx2LlByb2R1Y3RJZClcclxuICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmFuZG9tSW50KG1pbiwgbWF4KSB7XHJcbiAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbik7XHJcbiAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSkgKyBtaW47IC8v5LiN5ZCr5pyA5aSn5YC877yM5ZCr5pyA5bCP5YC8XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHR5cGUg5oq95aWW57G75Z6LIDEt5Y2V5oq9IDIt5Y2B6L+e5oq9XHJcbiAgICAgKiBAcGFyYW0gZHJhd1R5ZXAg5oq95aWW57G75Z6LIDEt6Iux6ZuELOiLsembhOeijueJhyAyLeijheWkhyAzLeeBteWuoFxyXG4gICAgICogQHBhcmFtIGNvc3RJZCDmtojogJfpgZPlhbdpZFxyXG4gICAgICogQHBhcmFtIGNvc3ROdW0g5raI6ICX6YGT5YW35pWw6YePXHJcbiAgICAgKiBAcmV0dXJucyBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRQcml6ZUpzb25TdHJpbmcodHlwZTogbnVtYmVyLCBkcmF3VHllcDogbnVtYmVyLCBjb3N0SWQ6IG51bWJlciwgY29zdE51bTogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgdWlkID0gVXNlckRhdGEuZ2V0SW5zdGFuY2UoKS5nZXRVc2VySUQoKTtcclxuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICB1aWQ6IHVpZCxcclxuICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgZHJhd1R5cGU6IGRyYXdUeWVwLFxyXG4gICAgICAgICAgICBpdGVtc0lkOiBjb3N0SWQsXHJcbiAgICAgICAgICAgIG1pbnVzTnVtOiBjb3N0TnVtLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uUmVmcmVzaEluc3RhbmNlSXRlbSgpIHtcclxuXHJcbiAgICAgICAgbGV0IHByaXplSGVyb0RhdGEgPSBEcmF3Q2FyZEluZm9ybWF0aW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEpzb25EcmF3Q2FyZEluZm9ybWF0aW9uKDEwMDEpO1xyXG4gICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgdGhpcy5oZXJvX2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgIHRoaXMuaGVyb19pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzU3BlbmRfMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmhlcm9faW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgdGhpcy5oZXJvX2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVIZXJvRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplSGVyb0RhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICB0aGlzLmhlcm9faW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplSGVyb0RhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgIHRoaXMuaGVyb19pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUhlcm9EYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5oZXJvX2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xMFwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUhlcm9EYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICB0aGlzLmhlcm9faW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVIZXJvRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhlcm9faW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJJY29uTnVtXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJYXCIgKyBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0oNDAwMDQpO1xyXG5cclxuICAgICAgICBsZXQgcHJpemVQZXREYXRhID0gRHJhd0NhcmRJbmZvcm1hdGlvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKc29uRHJhd0NhcmRJbmZvcm1hdGlvbigzMDAxKTtcclxuICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xKSA+PSBwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICB0aGlzLnBldF9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSk7XHJcbiAgICAgICAgICAgIHRoaXMucGV0X2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVQZXREYXRhLk9uZURyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wZXRfaW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjFcIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNwQnlQcm9wSWQocHJpemVQZXREYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICB0aGlzLnBldF9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8yO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBldF9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcInJpY2hCZ1wiKS5jaGlsZHJlblsxXS5jaGlsZHJlblsxXS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwiWFwiICsgUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKDQwMDA2KTtcclxuXHJcbiAgICAgICAgaWYgKFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bShwcml6ZVBldERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVQZXREYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgdGhpcy5wZXRfaW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgdGhpcy5wZXRfaW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVQZXREYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wZXRfaW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplUGV0RGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgdGhpcy5wZXRfaW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVQZXREYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgb25lRGF5VGltZSA9IDYwICogNjAgKiAyNCAqIDEwMDA7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBsZXQgcHJpemVFcXVpcERhdGEgPSBEcmF3Q2FyZEluZm9ybWF0aW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEpzb25EcmF3Q2FyZEluZm9ybWF0aW9uKDIwMDEpO1xyXG4gICAgICAgIGlmIChQcm9wTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFByb3BOdW0ocHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzSURfMSkgPj0gcHJpemVFcXVpcERhdGEuT25lRHJhd1Byb3BzU3BlbmRfMSkge1xyXG4gICAgICAgICAgICB0aGlzLndlYXBvbl9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8xKTtcclxuICAgICAgICAgICAgdGhpcy53ZWFwb25faW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJudW0xXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMud2VhcG9uX2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzIpO1xyXG4gICAgICAgICAgICB0aGlzLndlYXBvbl9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcInhcIiArIHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc1NwZW5kXzI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRQcm9wTnVtKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpID49IHByaXplRXF1aXBEYXRhLlRlbkRyYXdQcm9wc1NwZW5kXzEpIHtcclxuICAgICAgICAgICAgdGhpcy53ZWFwb25faW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJjb3N0SWNvbjEwXCIpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gUHJvcE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTcEJ5UHJvcElkKHByaXplRXF1aXBEYXRhLk9uZURyYXdQcm9wc0lEXzEpO1xyXG4gICAgICAgICAgICB0aGlzLndlYXBvbl9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcIm51bTEwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCJ4XCIgKyBwcml6ZUVxdWlwRGF0YS5UZW5EcmF3UHJvcHNTcGVuZF8xO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMud2VhcG9uX2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwiY29zdEljb24xMFwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3BCeVByb3BJZChwcml6ZUVxdWlwRGF0YS5PbmVEcmF3UHJvcHNJRF8yKTtcclxuICAgICAgICAgICAgdGhpcy53ZWFwb25faW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJudW0xMFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwieFwiICsgcHJpemVFcXVpcERhdGEuVGVuRHJhd1Byb3BzU3BlbmRfMjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy53ZWFwb25faW5zdGFuY2UuZ2V0Q2hpbGRCeU5hbWUoXCJyaWNoQmdcIikuY2hpbGRyZW5bMV0uY2hpbGRyZW5bMV0uZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcIlhcIiArIFByb3BNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0UHJvcE51bSg0MDAwNSk7XHJcblxyXG4gICAgICAgIC8vIG9uZURheVRpbWUgPSA2MCo2MCoyNCoxMDAwO1xyXG4gICAgICAgIC8vIGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBpZiAoVGhlU3RvcmFnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXROdW1iZXIoU3RvcmFnZUtleS5TdG9yZU15c3RlcnlFcXVpcEZyZWVUaW1lLCAwKSArIG9uZURheVRpbWUgLSBjdXJyZW50VGltZSA8PSAwKSB7XHJcbiAgICAgICAgICAgIC8vIOWFjei0uVxyXG4gICAgICAgICAgICB0aGlzLndlYXBvbl9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcIm51bTFcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMud2VhcG9uX2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwiZnJlZVwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLndlYXBvbl9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcImNvc3RJY29uMVwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHRoaXMuc3RvcmVfdWkuZ2V0U3ByaXRlRnJhbWUoXCJTaG9wX0ljb25fQURTXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMud2VhcG9uX2luc3RhbmNlLmdldENoaWxkQnlOYW1lKFwibnVtMVwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLndlYXBvbl9pbnN0YW5jZS5nZXRDaGlsZEJ5TmFtZShcImZyZWVcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0Q3VtdWxhdGl2ZVJlY2hhcmdlSnNvblN0cmluZyhhZGROdW06IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IHVpZCA9IFVzZXJEYXRhLmdldEluc3RhbmNlKCkuZ2V0VXNlcklEKCk7XHJcbiAgICAgICAgbGV0IG51bSA9IGFkZE51bTtcclxuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICB0eXBlOiA4LFxyXG4gICAgICAgICAgICB1aWQ6IHVpZCxcclxuICAgICAgICAgICAgdmFsdWU6IG51bSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFNhdmVHYW1lVGFza0pzb25TdHJpbmcoaW5kZXg6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IHVpZCA9IFVzZXJEYXRhLmdldEluc3RhbmNlKCkuZ2V0VXNlcklEKCk7XHJcbiAgICAgICAgbGV0IG51bSA9IGluZGV4O1xyXG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgIHVpZDogdWlkLFxyXG4gICAgICAgICAgICBwbGF5TGV2ZWw6IG51bSxcclxuICAgICAgICAgICAgcmV3YXJkVHlwZTogMTAsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59XHJcbiJdfQ==