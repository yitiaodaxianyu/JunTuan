{"version":3,"sources":["assets\\Scripts\\Boss\\Rock.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,oDAAsE;AACtE,iEAA8E;AAC9E,8CAAyC;AACzC,0CAAyC;AACzC,4DAAuD;AACvD,0DAAqD;AACrD,sDAAsD;AACtD,gDAA2C;AAC3C,2DAAsD;AACtD,uDAAkD;AAClD,+BAA0B;AAC1B,0CAAqC;AACrC,sDAA+F;AAE/F,kDAAiD;AAEjD,IAAK,cAUJ;AAVD,WAAK,cAAc;IAEf,+BAAa,CAAA;IACb,qCAAmB,CAAA;IACnB,6BAAW,CAAA;IACX,iCAAe,CAAA;IACf,mCAAiB,CAAA;IACjB,mCAAiB,CAAA;IACjB,mCAAiB,CAAA;IACjB,+BAAY,CAAA;AAChB,CAAC,EAVI,cAAc,KAAd,cAAc,QAUlB;AAED,IAAK,WAOJ;AAPD,WAAK,WAAW;IACZ,SAAS;IACT,+CAAO,CAAA;IACP,QAAQ;IACR,uDAAS,CAAA;IACT,SAAS;IACT,2CAAG,CAAA;AACP,CAAC,EAPI,WAAW,KAAX,WAAW,QAOf;AAED,IAAK,SAOJ;AAPD,WAAK,SAAS;IACV,SAAS;IACT,yCAAM,CAAA;IACN,SAAS;IACT,uCAAG,CAAA;IACH,SAAS;IACT,uCAAG,CAAA;AACP,CAAC,EAPI,SAAS,KAAT,SAAS,QAOb;AAEK,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAkC,wBAAI;IAAtC;QAAA,qEAuTC;QArTG,cAAQ,GAAS,IAAI,CAAC;QACtB,eAAS,GAAS,IAAI,CAAC;QACvB,gBAAU,GAAS,IAAI,CAAC;QACxB,gBAAU,GAAS,IAAI,CAAC;QACxB,kBAAY,GAAQ,EAAE,CAAC;QACvB,sBAAgB,GAAQ,EAAE,CAAC;QAC3B,kBAAY,GAAa,WAAW,CAAC,KAAK,CAAC;QAC3C,eAAS,GAAQ,CAAC,CAAC;QACnB,iBAAW,GAAQ,CAAC,CAAC;QACrB,uBAAiB,GAAS,IAAI,CAAC;;IA4SnC,CAAC;IA1SG,qBAAM,GAAN;QACI,iBAAM,MAAM,WAAE,CAAC;QACf,uCAAkB,CAAC,WAAW,EAAE,CAAC,iBAAiB,CAAC,iCAAY,CAAC,aAAa,EAAC,CAAC,CAAC,CAAC;QACjF,uCAAkB,CAAC,WAAW,EAAE,CAAC,iBAAiB,CAAC,iCAAY,CAAC,eAAe,EAAC,CAAC,CAAC,CAAC;QACnF,uCAAkB,CAAC,WAAW,EAAE,CAAC,iBAAiB,CAAC,iCAAY,CAAC,gBAAgB,EAAC,CAAC,CAAC,CAAC;QACpF,uCAAkB,CAAC,WAAW,EAAE,CAAC,iBAAiB,CAAC,iCAAY,CAAC,OAAO,EAAC,CAAC,CAAC,CAAC;QAC3E,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACpC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QAC5C,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC5C,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,gBAAgB,GAAC,IAAI,CAAC,cAAc,CAAC;IAC9C,CAAC;IAED,8BAAe,GAAf;QACI,IAAI,KAAK,GAAC,GAAG,CAAC;QACd,IAAI,IAAI,GAAC,qBAAW,CAAC,WAAW,EAAE,CAAC,cAAc,EAAE,CAAC;QACpD,cAAc;QACd,IAAI,SAAS,GAAC,GAAG,CAAC;QAClB,IAAI,CAAC,SAAS,GAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,KAAK,GAAC,CAAC,EAAC,IAAI,CAAC,CAAC,EAAC,KAAK,EAAC,SAAS,CAAC,CAAC;QAC9D,cAAc;QACd,IAAI,WAAW,GAAC,GAAG,CAAC;QACpB,IAAI,CAAC,UAAU,GAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,KAAK,GAAC,CAAC,EAAC,IAAI,CAAC,CAAC,GAAC,WAAW,EAAC,KAAK,EAAC,WAAW,CAAC,CAAC;QAC7E,IAAI,CAAC,UAAU,GAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,EAAC,IAAI,CAAC,UAAU,CAAC,CAAC,EAAC,KAAK,EAAC,WAAW,GAAC,SAAS,CAAC,CAAC;IAC7F,CAAC;IAED,2BAAY,GAAZ;QACI,IAAI,CAAC,SAAS,EAAE,CAAC;IACrB,CAAC;IAED,2BAAY,GAAZ,UAAa,GAAW,EAAC,WAAoB;QACzC,IAAI,CAAC,eAAe,GAAC,GAAG,CAAC;QACzB,IAAI,CAAC,iBAAiB,GAAC,WAAW,CAAC;IACvC,CAAC;IAED,wBAAS,GAAT;QACI,iBAAM,aAAa,YAAC,yBAAW,CAAC,OAAO,CAAC,CAAC;QACzC,iBAAM,gBAAgB,YAAC,cAAc,CAAC,IAAI,EAAC,IAAI,CAAC,CAAC;QACjD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,EAAC,CAAC,CAAC,CAAA;IACvC,CAAC;IAED,8BAAe,GAAf,UAAgB,SAAiB;QAC7B,IAAG,SAAS,EAAC;YACT,IAAI,CAAC,YAAY,EAAE,CAAC;SACvB;aAAI;YACD,eAAe;YACf,IAAG,CAAC,iBAAM,QAAQ,WAAE;gBAChB,IAAI,CAAC,SAAS,EAAE,CAAC;SACxB;IACL,CAAC;IAED,2BAAY,GAAZ;QAAA,iBAKC;QAJG,iBAAM,gBAAgB,YAAC,cAAc,CAAC,KAAK,EAAC,KAAK,EAAC,IAAI,EAAC;YACnD,IAAG,iBAAM,gBAAgB,aAAC,qBAAQ,CAAC,OAAO,CAAC,IAAE,CAAC,iBAAM,QAAQ,YAAE;gBAC1D,KAAI,CAAC,KAAK,CAAC,MAAM,GAAC,IAAI,CAAC;QAC/B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,wBAAS,GAAT,UAAU,EAAS,EAAC,GAAY;QAAhC,iBAwBC;QAvBG,iBAAM,aAAa,YAAC,yBAAW,CAAC,IAAI,CAAC,CAAC;QACtC,iBAAM,gBAAgB,YAAC,cAAc,CAAC,GAAG,EAAC,IAAI,CAAC,CAAC;QAChD,GAAG,GAAC,GAAG,CAAA,CAAC,CAAA,GAAG,CAAA,CAAC,CAAA,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QAC7C,IAAI,CAAC,QAAQ,GAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QACtC,IAAI,CAAC,YAAY,CAAC,GAAG,EAAC;YAClB,IAAG,KAAI,CAAC,IAAI,CAAC,CAAC,GAAC,CAAC,GAAG,EAAC;gBAChB,KAAI,CAAC,IAAI,CAAC,MAAM,GAAC,KAAI,CAAC,WAAW,CAAC;aACrC;YACD,IAAG,KAAI,CAAC,IAAI,CAAC,CAAC,GAAC,GAAG,EAAC;gBACf,KAAI,CAAC,IAAI,CAAC,MAAM,GAAC,CAAC,KAAI,CAAC,WAAW,CAAC;aACtC;YACD,IAAI,MAAM,GAAC,KAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;YACnC,IAAI,QAAQ,GAAC,MAAM,CAAC,GAAG,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,EAAE,CAAC;YAC7C,IAAG,QAAQ,IAAE,GAAG,EAAC;gBACb,KAAI,CAAC,SAAS,EAAE,CAAC;aACpB;iBAAI;gBACD,KAAI,CAAC,SAAS,CAAC,CAAC,EAAC,KAAI,CAAC,YAAY,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;aACtD;QACL,CAAC,CAAC,CAAA;QACF,IAAG,IAAI,CAAC,iBAAiB,EAAC;YACtB,uCAAkB,CAAC,WAAW,EAAE,CAAC,qBAAqB,CAAC,iCAAY,CAAC,gBAAgB,EAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;YAC7G,IAAI,CAAC,iBAAiB,GAAC,IAAI,CAAC;SAC/B;IACL,CAAC;IAED,0BAAW,GAAX;QAAA,iBAqBC;QApBG,IAAG,IAAI,CAAC,aAAa,EAAE,IAAE,yBAAW,CAAC,KAAK,EAAC;YACvC,OAAO;SACV;QACD,IAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,EAAC;YACjD,OAAO;YACP,IAAI,CAAC,SAAS,GAAC,CAAC,CAAC;YACjB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAChC,iBAAM,aAAa,YAAC,yBAAW,CAAC,GAAG,CAAC,CAAC;YACrC,IAAI,IAAI,GAAC,IAAI,0BAAY,EAAE,CAAC;YAC5B,IAAI,CAAC,IAAI,GAAC,eAAe,CAAC;YAC1B,IAAI,CAAC,QAAQ,GAAC;gBACV,KAAI,CAAC,WAAW,EAAE,CAAC;YACvB,CAAC,CAAA;YACD,iBAAM,gBAAgB,YAAC,cAAc,CAAC,OAAO,EAAC,KAAK,EAAC,IAAI,EAAC;gBACrD,KAAI,CAAC,SAAS,EAAE,CAAC;YACrB,CAAC,CAAC,CAAC;SACN;aACD;YACI,IAAI,CAAC,SAAS,CAAC,CAAC,EAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;SACtD;IACL,CAAC;IAED,yBAAU,GAAV;QAAA,iBAkBC;QAjBG,IAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,EAAC;YAChD,IAAI,CAAC,WAAW,GAAC,CAAC,CAAC;YACnB,IAAI,CAAC,aAAa,GAAC,CAAC,CAAC;YACrB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAChC,IAAI,CAAC,WAAW,GAAC,CAAC,CAAC;YACnB,iBAAM,aAAa,YAAC,yBAAW,CAAC,KAAK,CAAC,CAAC;YACvC,IAAI,CAAC,gBAAgB,GAAC,IAAI,CAAC,cAAc,CAAC;YAC1C,IAAI,CAAC,YAAY,GAAC,WAAW,CAAC,KAAK,CAAC;YACpC,SAAS;YACT,iBAAM,gBAAgB,YAAC,cAAc,CAAC,MAAM,EAAC,KAAK,EAAC,IAAI,EAAC;gBACpD,OAAO;gBACP,iBAAM,gBAAgB,aAAC,cAAc,CAAC,MAAM,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,CAAC,CAAC;gBAC7D,KAAI,CAAC,YAAY,EAAE,CAAC;YACxB,CAAC,CAAC,CAAC;SACN;aAAI;YACD,IAAI,CAAC,SAAS,CAAC,CAAC,EAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;SACtD;IACL,CAAC;IAED,2BAAY,GAAZ;QACI,MAAM;QACN,IAAI,CAAC,YAAY,GAAC,WAAW,CAAC,SAAS,CAAC;QACxC,MAAM;QACN,IAAI,CAAC,iBAAiB,GAAC,uBAAa,CAAC,WAAW,EAAE,CAAC,oBAAoB,CAAC,iCAAY,CAAC,gBAAgB,EAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAClJ,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,kBAAQ,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAC,GAAG,CAAC,CAAC,CAAC;IAEhF,CAAC;IAED,2BAAY,GAAZ,UAAa,IAAc;QACvB,IAAI,GAAG,GAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;QACnB,IAAI,IAAI,GAAC,IAAI,CAAC,UAAU,CAAC;QACzB,QAAO,IAAI,EAAC;YACR,KAAK,SAAS,CAAC,IAAI;gBAAC;oBAChB,IAAI,GAAC,IAAI,CAAC,UAAU,CAAC;iBACxB;gBAAA,MAAM;YACP,KAAK,SAAS,CAAC,GAAG;gBAAC;oBACf,IAAI,GAAC,IAAI,CAAC,SAAS,CAAC;iBACvB;gBAAA,MAAM;YACP,KAAK,SAAS,CAAC,GAAG;gBAAC;oBACf,IAAI,GAAC,IAAI,CAAC,UAAU,CAAC;iBACxB;gBAAA,MAAM;SACV;QACD,GAAG,CAAC,CAAC,GAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,MAAM,EAAE,GAAC,IAAI,CAAC,KAAK,CAAC;QACtC,GAAG,CAAC,CAAC,GAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,MAAM,EAAE,GAAC,IAAI,CAAC,MAAM,CAAC;QACvC,OAAO,GAAG,CAAC;IACf,CAAC;IAED,0BAAW,GAAX;QACI,uCAAkB,CAAC,WAAW,EAAE,CAAC,oBAAoB,CAAC,iCAAY,CAAC,aAAa,EAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE,GAAC,GAAG,GAAC,GAAG,EAAC,qBAAW,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC;QACrJ,MAAM;QACN,iBAAM,UAAU,YAAC,IAAI,CAAC,OAAO,EAAC,uBAAU,CAAC,MAAM,CAAC,CAAC;IACrD,CAAC;IAED,sBAAO,GAAP;QAAA,iBAUC;QATG,IAAG,IAAI,CAAC,iBAAiB,EAAC;YACtB,uCAAkB,CAAC,WAAW,EAAE,CAAC,qBAAqB,CAAC,iCAAY,CAAC,gBAAgB,EAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;YAC7G,IAAI,CAAC,iBAAiB,GAAC,IAAI,CAAC;SAC/B;QACD,iBAAM,gBAAgB,YAAC,cAAc,CAAC,IAAI,EAAC;YACvC,wBAAc,CAAC,WAAW,EAAE,CAAC,cAAc,CAAC,KAAI,CAAC,IAAI,EAAC,KAAI,CAAC,YAAY,CAAC,CAAC;QAC7E,CAAC,CAAC,CAAA;QACF,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAC9B,qBAAW,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,SAAS,CAAC,2BAAU,CAAC,UAAU,CAAC,CAAC;IAC7E,CAAC;IAED,0BAAW,GAAX;QAAA,iBAwBC;QAvBG,IAAG,IAAI,CAAC,iBAAiB,EAAC;YACtB,uCAAkB,CAAC,WAAW,EAAE,CAAC,qBAAqB,CAAC,iCAAY,CAAC,gBAAgB,EAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;YAC7G,IAAI,CAAC,iBAAiB,GAAC,IAAI,CAAC;SAC/B;QACD,iBAAM,gBAAgB,YAAC,cAAc,CAAC,MAAM,EAAC,IAAI,EAAC,IAAI,EAAC;YACnD,KAAI,CAAC,SAAS,CAAC,CAAC,EAAC,KAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;YACpD,KAAI,CAAC,aAAa,GAAC,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC;QACH,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,GAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;QAC7D,SAAS;QACT,iBAAM,UAAU,YAAC,IAAI,CAAC,OAAO,EAAC,uBAAU,CAAC,KAAK,CAAC,CAAC;QAChD,KAAK;QACL,yBAAe,CAAC,WAAW,EAAE,CAAC,oBAAoB,CAAC,iCAAY,CAAC,eAAe,EAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAC3H,IAAI,QAAQ,GAAC,EAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;QACzC,IAAI,IAAI,GAAC,IAAI,mBAAQ,EAAE,CAAC;QACxB,IAAI,CAAC,SAAS,GAAC,qBAAQ,CAAC,OAAO,CAAC;QAChC,IAAI,CAAC,OAAO,GAAC,mBAAM,CAAC,eAAe,CAAC;QACpC,IAAI,CAAC,WAAW,GAAC,CAAC,CAAC;QACnB,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,EAAE,EAAC;YACvC,IAAI,IAAI,GAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,cAAI,CAAC,CAAC;YACjD,IAAG,IAAI;gBACP,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;SACxB;IACL,CAAC;IAED,qBAAM,GAAN,UAAO,EAAE;QAEL,IAAG,CAAC,qBAAW,CAAC,WAAW,EAAE,CAAC,cAAc,IAAE,qBAAS,CAAC,YAAY,CAAC,IAAE,IAAI,CAAC,QAAQ,EAAE,EACtF;YACI,OAAO;SACV;QACD,iBAAM,MAAM,YAAC,EAAE,CAAC,CAAC;QAEjB,IAAI,CAAC,SAAS,IAAE,EAAE,CAAC;QACnB,IAAI,CAAC,WAAW,IAAE,EAAE,CAAC;QACrB,IAAG,IAAI,CAAC,SAAS,IAAE,IAAI,CAAC,UAAU,IAAE,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,EAAC;YAClF,IAAI,CAAC,WAAW,EAAE,CAAC;SACtB;QACD,IAAG,IAAI,CAAC,WAAW,IAAE,EAAE,IAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,EAAC;YACtE,IAAI,CAAC,UAAU,EAAE,CAAC;SACrB;QACD,IAAG,IAAI,CAAC,aAAa,EAAE,IAAE,yBAAW,CAAC,IAAI,EAAC;YACtC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;SACtB;aAAK,IAAG,IAAI,CAAC,aAAa,EAAE,IAAE,yBAAW,CAAC,KAAK,EAAE;YAC9C,QAAO,IAAI,CAAC,YAAY,EACxB;gBACI,KAAK,WAAW,CAAC,SAAS;oBAAC;wBACvB,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;qBACtB;oBAAA,MAAM;gBACP,KAAK,WAAW,CAAC,GAAG,CAAC,CAAA;iBAEpB;aACJ;SACJ;IACL,CAAC;IAEO,wBAAS,GAAjB,UAAkB,EAAE;QAEhB,IAAG,CAAC,iBAAM,gBAAgB,YAAC,qBAAQ,CAAC,OAAO,CAAC,EAAC;YACzC,IAAI,KAAK,GAAC,IAAI,CAAC,cAAc,GAAC,EAAE,CAAC;YACjC,IAAG,IAAI,CAAC,eAAe,EAAC;gBACpB,IAAI,SAAS,GAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;gBAChE,IAAI,CAAC,IAAI,CAAC,MAAM,GAAC,SAAS,CAAC,CAAC,GAAC,CAAC,CAAA,CAAC,CAAA,IAAI,CAAC,WAAW,CAAA,CAAC,CAAA,CAAC,IAAI,CAAC,WAAW,CAAC;gBAClE,IAAG,SAAS,CAAC,GAAG,EAAE,GAAC,KAAK,EACxB;oBACI,IAAG,IAAI,CAAC,iBAAiB,EAAC;wBACtB,IAAI,CAAC,iBAAiB,EAAE,CAAC;wBACzB,IAAI,CAAC,iBAAiB,GAAC,IAAI,CAAC;qBAC/B;iBACJ;qBACD;oBACI,IAAI,GAAG,GAAC,IAAI,CAAC,EAAE,GAAC,CAAC,CAAC;oBAClB,IAAI,CAAC,cAAc,GAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAC,SAAS,CAAC,CAAC,CAAC,GAAC,GAAG,CAAC,GAAC,GAAG,CAAC;oBAClE,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;iBACnB;aACJ;SACJ;IACL,CAAC;IAED,qBAAM,GAAN,UAAO,EAAE;QACL,IAAI,IAAI,GAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACrB,IAAI,IAAI,GAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACrB,IAAI,KAAK,GAAC,IAAI,CAAC,cAAc,GAAC,EAAE,CAAC;QACjC,IAAI,IAAE,KAAK,GAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAC1C,IAAI,IAAE,KAAK,GAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAC1C,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC;QACjB,IAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,GAAG,EAClB;YACI,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,GAAG,CAAC;SACnB;QACD,IAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,CAAC,GAAG,EACnB;YACI,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,CAAC,GAAG,CAAC;SACpB;QACD,QAAQ;QACR,IAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,OAAO,EAAC;YACxB,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,OAAO,CAAC;SAC5B;IACL,CAAC;IAED,wBAAS,GAAT,UAAU,EAAS;QACf,IAAI,IAAI,GAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACrB,IAAI,IAAI,GAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACrB,IAAI,CAAC,gBAAgB,IAAE,IAAI,CAAC,YAAY,CAAC;QACzC,IAAI,KAAK,GAAC,IAAI,CAAC,gBAAgB,GAAC,EAAE,CAAC;QACnC,IAAI,CAAC,cAAc,GAAC,IAAI,CAAC,EAAE,GAAC,CAAC,GAAC,CAAC,CAAC;QAChC,IAAI,IAAE,KAAK,GAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAC1C,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC;QACjB,IAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,GAAG,EAClB;YACI,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,GAAG,CAAC;SACnB;QACD,IAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,CAAC,GAAG,EACnB;YACI,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,CAAC,GAAG,CAAC;SACpB;QACD,QAAQ;QACR,IAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,CAAC,IAAI,CAAC,OAAO,GAAC,GAAG,CAAC,EAAC;YAC9B,IAAI,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,OAAO,GAAC,GAAG,CAAC;YAC7B,IAAI,CAAC,YAAY,GAAC,WAAW,CAAC,GAAG,CAAC;YAClC,IAAI,CAAC,WAAW,EAAE,CAAC;SACtB;IACL,CAAC;IAtTgB,IAAI;QADxB,OAAO;OACa,IAAI,CAuTxB;IAAD,WAAC;CAvTD,AAuTC,CAvTiC,cAAI,GAuTrC;kBAvToB,IAAI","file":"","sourceRoot":"/","sourcesContent":["import { Enemy_DeBuff_Type, Enemy_State } from \"../Enemy/EnemyConfig\";\r\nimport { GameEffectId, GameEffectsManager } from \"../Game/GameEffectsManager\";\r\nimport GameManager from \"../GameManager\";\r\nimport { GameState } from \"../Constants\";\r\nimport MonsterManager from \"../Monster/MonsterManager\";\r\nimport { SoundIndex } from \"../Sound/AudioConstants\";\r\nimport { KeyFrameData } from \"../Monster/MonsterData\";\r\nimport FixedPos from \"../UI/home/FixedPos\";\r\nimport FightingManager from \"../Game/FightingManager\";\r\nimport GroundManager from \"../Game/GroundManager\";\r\nimport Boss from \"./Boss\";\r\nimport Hero from \"../Hero/Game/Hero\";\r\nimport { DamageType, Hero_Type, Hero_DeBuff, BuffType, BuffId } from \"../Hero/Game/HeroConfig\";\r\nimport BuffTimer from \"../Hero/Game/BuffTimer\";\r\nimport { BuffData } from \"../Hero/Game/BuffData\";\r\n\r\nenum Animation_Name\r\n{\r\n    Idle = \"idle\",       //-- 正面待机\r\n    attack1 = \"attack1\",          //-- 攻击1\r\n    run = \"run\",                //-- 跑路\r\n    hurt1 = \"hurt1\",          //-- 受击1\r\n    skill1 = \"skill1\",          //-- 技能动作1\r\n    skill2 = \"skill2\",          //-- 技能动作2\r\n    skill3 = \"skill3\",          //-- 技能动作3\r\n    dead= \"dead\",   //死亡\r\n}\r\n\r\nenum SprintState{\r\n    /**冲刺开始*/\r\n    start=0,\r\n    /**冲刺中*/\r\n    sprinting,\r\n    /**冲刺结束*/\r\n    end,\r\n}\r\n\r\nenum RangeType{\r\n    /**蓝色区域*/\r\n    blue=0,\r\n    /**红色区域*/\r\n    red,\r\n    /**所有区域*/\r\n    all,\r\n}\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Rock extends Boss {\r\n\r\n    prev_pos:cc.Vec2=null;\r\n    red_range:cc.Rect=null;\r\n    blue_range:cc.Rect=null;\r\n    move_range:cc.Rect=null;\r\n    acceleration:number=20;\r\n    cur_sprint_speed:number=10;\r\n    sprint_state:SprintState=SprintState.start;\r\n    att_jishu:number=0;\r\n    skill_jishu:number=0;\r\n    skill_move_effect:cc.Node=null;\r\n\r\n    onLoad(): void {\r\n        super.onLoad();\r\n        GameEffectsManager.getInstance().addEffectPoolById(GameEffectId.boss2_att_end,2);\r\n        GameEffectsManager.getInstance().addEffectPoolById(GameEffectId.boss2_skill_end,2);\r\n        GameEffectsManager.getInstance().addEffectPoolById(GameEffectId.boss2_skill_move,2);\r\n        GameEffectsManager.getInstance().addEffectPoolById(GameEffectId.xuanyun,2);\r\n        this.addDeathCallback(this.onDeath);\r\n        this.addXuanYunListen(this.onXuanYunResult);\r\n        this.addBossInitedListen(this.onBossInited);\r\n        this.initMovingRange();\r\n        this.cur_sprint_speed=this.cur_move_speed;\r\n    }\r\n\r\n    initMovingRange(){\r\n        let width=512;\r\n        let cPos=GameManager.getInstance().getFightCenter();\r\n        //中心点的上半区是红色区域\r\n        let redHeight=320;\r\n        this.red_range=cc.rect(cPos.x-width/2,cPos.y,width,redHeight);   \r\n        //中心点的下半区是蓝色区域\r\n        let bluedHeight=160;\r\n        this.blue_range=cc.rect(cPos.x-width/2,cPos.y-bluedHeight,width,bluedHeight);\r\n        this.move_range=cc.rect(this.blue_range.x,this.blue_range.y,width,bluedHeight+redHeight);        \r\n    }\r\n\r\n    onBossInited(): void {\r\n        this.startIdle();\r\n    }\r\n\r\n    setTargetPos(pos:cc.Vec2,endCallback:Function){\r\n        this.move_target_pos=pos;\r\n        this.move_end_callback=endCallback;\r\n    }\r\n\r\n    startIdle(){        \r\n        super.setEnemyState(Enemy_State.standby);\r\n        super.playSpinAnimaton(Animation_Name.Idle,true);\r\n        this.scheduleOnce(this.startMove,1)\r\n    }\r\n\r\n    onXuanYunResult(isXuanYun:boolean){\r\n        if(isXuanYun){\r\n            this.startXuanYun();\r\n        }else{\r\n            //根据上个状态判断需要做什么\r\n            if(!super.getIsDie())\r\n                this.startIdle();\r\n        }\r\n    }\r\n\r\n    startXuanYun(){\r\n        super.playSpinAnimaton(Animation_Name.hurt1,false,null,()=>{\r\n            if(super.isHaveDeBuffType(BuffType.Vertigo)&&!super.getIsDie())\r\n                this.spine.paused=true;\r\n        });\r\n    }\r\n\r\n    startMove(dt:number,pos?:cc.Vec2){\r\n        super.setEnemyState(Enemy_State.move);\r\n        super.playSpinAnimaton(Animation_Name.run,true);\r\n        pos=pos?pos:this.getRandomPos(RangeType.all);\r\n        this.prev_pos=this.node.getPosition();\r\n        this.setTargetPos(pos,()=>{                 \r\n            if(this.node.x<-128){\r\n                this.node.scaleX=this.setup_scale;\r\n            }\r\n            if(this.node.x>128){\r\n                this.node.scaleX=-this.setup_scale;\r\n            }\r\n            let curPos=this.node.getPosition();\r\n            let distance=curPos.sub(this.prev_pos).mag();\r\n            if(distance>=200){\r\n                this.startIdle();\r\n            }else{\r\n                this.startMove(0,this.getRandomPos(RangeType.all));\r\n            }            \r\n        })\r\n        if(this.skill_move_effect){\r\n            GameEffectsManager.getInstance().destroyGameEffectById(GameEffectId.boss2_skill_move,this.skill_move_effect);\r\n            this.skill_move_effect=null;\r\n        }\r\n    }\r\n\r\n    startAttack(){\r\n        if(this.getEnemyState()==Enemy_State.skill){\r\n            return;\r\n        }\r\n        if(this.move_range.contains(this.node.getPosition())){\r\n            //有前摇动作\r\n            this.att_jishu=0;\r\n            this.unschedule(this.startMove);\r\n            super.setEnemyState(Enemy_State.att);\r\n            let data=new KeyFrameData();\r\n            data.name=\"attack1_Start\";\r\n            data.callback=()=>{\r\n                this.startLaunch();\r\n            }\r\n            super.playSpinAnimaton(Animation_Name.attack1,false,data,()=>{\r\n                this.startIdle();\r\n            });\r\n        }else\r\n        {\r\n            this.startMove(0,this.getRandomPos(RangeType.all));\r\n        }\r\n    }\r\n\r\n    startSkill(){\r\n        if(this.red_range.contains(this.node.getPosition())){\r\n            this.skill_jishu=0;\r\n            this.cur_toughness=1;\r\n            this.unschedule(this.startMove);\r\n            this.skill_jishu=0;\r\n            super.setEnemyState(Enemy_State.skill);\r\n            this.cur_sprint_speed=this.cur_move_speed;\r\n            this.sprint_state=SprintState.start;\r\n            //蓄力先放技能1\r\n            super.playSpinAnimaton(Animation_Name.skill1,false,null,()=>{\r\n                //再放技能2\r\n                super.playSpinAnimaton(Animation_Name.skill2,true,null,null);\r\n                this.releaseSkill();\r\n            });\r\n        }else{\r\n            this.startMove(0,this.getRandomPos(RangeType.red));\r\n        }        \r\n    }\r\n\r\n    releaseSkill(){\r\n        //开始移动\r\n        this.sprint_state=SprintState.sprinting;\r\n        //添加特效\r\n        this.skill_move_effect=GroundManager.getInstance().createGameEffectById(GameEffectId.boss2_skill_move,this.node.getPosition().add(cc.v2(10,150)));\r\n        this.skill_move_effect.getComponent(FixedPos).init(this.node,cc.v2(10,150));\r\n        \r\n    }\r\n\r\n    getRandomPos(type:RangeType):cc.Vec2{\r\n        let pos=cc.v2(0,0);\r\n        let rect=this.move_range;\r\n        switch(type){\r\n            case RangeType.blue:{\r\n                rect=this.blue_range;\r\n            }break;\r\n            case RangeType.red:{\r\n                rect=this.red_range;\r\n            }break;\r\n            case RangeType.all:{\r\n                rect=this.move_range;\r\n            }break;\r\n        }\r\n        pos.x=rect.x+Math.random()*rect.width;\r\n        pos.y=rect.y+Math.random()*rect.height;\r\n        return pos;\r\n    }    \r\n    \r\n    startLaunch(){\r\n        GameEffectsManager.getInstance().createGameEffectById(GameEffectId.boss2_att_end,cc.v2(Math.random()*512-256,GameManager.getInstance().enemy_att_y));\r\n        //造成伤害\r\n        super.injureWall(this.cur_att,DamageType.Normal);\r\n    }\r\n\r\n    onDeath() {\r\n        if(this.skill_move_effect){\r\n            GameEffectsManager.getInstance().destroyGameEffectById(GameEffectId.boss2_skill_move,this.skill_move_effect);\r\n            this.skill_move_effect=null;\r\n        }\r\n        super.playDeadAnimaton(Animation_Name.dead,()=>{\r\n            MonsterManager.getInstance().destroyMonster(this.node,this.monster_type);\r\n        })\r\n        this.unscheduleAllCallbacks();\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.rewardBox2);\r\n    }\r\n\r\n    onSprintEnd(){\r\n        if(this.skill_move_effect){\r\n            GameEffectsManager.getInstance().destroyGameEffectById(GameEffectId.boss2_skill_move,this.skill_move_effect);\r\n            this.skill_move_effect=null;\r\n        }\r\n        super.playSpinAnimaton(Animation_Name.skill3,true,null,()=>{\r\n            this.startMove(0,this.getRandomPos(RangeType.blue));\r\n            this.cur_toughness=0;\r\n        });\r\n        cc.tween(this.node).then(cc.jumpBy(20/60,0,80,64,1)).start();\r\n        //造成伤害和眩晕\r\n        super.injureWall(this.cur_att,DamageType.Skill);\r\n        //特效 \r\n        FightingManager.getInstance().createGameEffectById(GameEffectId.boss2_skill_end,this.node.getPosition().add(cc.v2(10,32)));\r\n        let heroRoot=cc.find('Canvas/Hero_Root');\r\n        let data=new BuffData();\r\n        data.buff_type=BuffType.Vertigo;\r\n        data.buff_id=BuffId.Monster_XuanYun;\r\n        data.remain_time=2;\r\n        for(let i=0; i<heroRoot.childrenCount; i++){\r\n            let hero=heroRoot.children[i].getComponent(Hero);\r\n            if(hero)\r\n            hero.addDeBuff(data);\r\n        }\r\n    }\r\n\r\n    update(dt)\r\n    {\r\n        if((GameManager.getInstance().cur_game_state!=GameState.Game_Playing)||this.getIsDie())\r\n        {\r\n            return;\r\n        }\r\n        super.update(dt);\r\n\r\n        this.att_jishu+=dt;\r\n        this.skill_jishu+=dt;\r\n        if(this.att_jishu>=this.att_jiange&&this.move_range.contains(this.node.getPosition())){\r\n            this.startAttack();\r\n        }\r\n        if(this.skill_jishu>=10&&this.red_range.contains(this.node.getPosition())){\r\n            this.startSkill();\r\n        }\r\n        if(this.getEnemyState()==Enemy_State.move){\r\n            this.checkMove(dt);\r\n        }else if(this.getEnemyState()==Enemy_State.skill ){\r\n            switch(this.sprint_state)\r\n            {\r\n                case SprintState.sprinting:{\r\n                    this.sprinting(dt);\r\n                }break;\r\n                case SprintState.end:{\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private checkMove(dt)\r\n    {        \r\n        if(!super.isHaveDeBuffType(BuffType.Vertigo)){\r\n            let speed=this.cur_move_speed*dt;\r\n            if(this.move_target_pos){\r\n                let offsetPos=this.move_target_pos.sub(this.node.getPosition());\r\n                this.node.scaleX=offsetPos.x>0?this.setup_scale:-this.setup_scale;\r\n                if(offsetPos.mag()<speed)\r\n                {\r\n                    if(this.move_end_callback){\r\n                        this.move_end_callback();\r\n                        this.move_end_callback=null;\r\n                    }\r\n                }else\r\n                {\r\n                    let pi2=Math.PI*2;\r\n                    this.move_direction=(Math.atan2(offsetPos.y,offsetPos.x)+pi2)%pi2;\r\n                    this.moving(dt);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    moving(dt){\r\n        let disX=this.node.x;\r\n        let disY=this.node.y;\r\n        let speed=this.cur_move_speed*dt;\r\n        disX+=speed*Math.cos(this.move_direction);\r\n        disY+=speed*Math.sin(this.move_direction);\r\n        this.node.x=disX;\r\n        this.node.y=disY;\r\n        if(this.node.x>320)\r\n        {\r\n            this.node.x=320;\r\n        }\r\n        if(this.node.x<-320)\r\n        {\r\n            this.node.x=-320;\r\n        }\r\n        //不能穿过城墙\r\n        if(this.node.y<this.wall_yy){\r\n            this.node.y=this.wall_yy;\r\n        }\r\n    }\r\n\r\n    sprinting(dt:number){\r\n        let disX=this.node.x;\r\n        let disY=this.node.y;\r\n        this.cur_sprint_speed+=this.acceleration;\r\n        let speed=this.cur_sprint_speed*dt;\r\n        this.move_direction=Math.PI*3/2;\r\n        disY+=speed*Math.sin(this.move_direction);\r\n        this.node.x=disX;\r\n        this.node.y=disY;\r\n        if(this.node.x>320)\r\n        {\r\n            this.node.x=320;\r\n        }\r\n        if(this.node.x<-320)\r\n        {\r\n            this.node.x=-320;\r\n        }\r\n        //不能穿过城墙\r\n        if(this.node.y<(this.wall_yy-100)){\r\n            this.node.y=this.wall_yy-100;\r\n            this.sprint_state=SprintState.end;\r\n            this.onSprintEnd();\r\n        }\r\n    }    \r\n}\r\n"]}