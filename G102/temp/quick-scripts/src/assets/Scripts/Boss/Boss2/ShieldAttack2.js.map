{"version":3,"sources":["assets\\Scripts\\Boss\\Boss2\\ShieldAttack2.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,oEAAiF;AACjF,iDAA4C;AAC5C,qDAAoD;AACpD,yDAA0E;AAC1E,yDAAyD;AACzD,6DAAwD;AACxD,6CAAwC;AAGxC,sDAAiD;AAG3C,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAA2C,iCAAY;IAAvD;QAAA,qEA+BC;QA7BG,cAAQ,GAAS,EAAE,CAAC,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;;IA6BhC,CAAC;IA3BG,kCAAU,GAAV,UAAW,GAAW;QAClB,IAAI,CAAC,QAAQ,GAAC,GAAG,CAAC;IACtB,CAAC;IAED,WAAW;IACX,sCAAc,GAAd;QAAA,iBAoBC;QAnBG,IAAI,KAAK,GAAC,qBAAW,CAAC,WAAW,EAAE,CAAC,UAAU,EAAE,CAAC;QACjD,KAAK,CAAC,OAAO,CAAC,UAAC,IAAS,EAAC,QAAiB;YACtC,0BAA0B;YAC1B,IAAG,IAAI,CAAC,YAAY,EAAE,GAAC,KAAI,CAAC,QAAQ,CAAC,CAAC,EAAC;gBACnC,IAAI,CAAC,YAAY,CAAC,uBAAU,CAAC,KAAK,EAAC,0BAAY,CAAC,IAAI,EAAC,IAAI,CAAC,QAAQ,EAAE,GAAC,IAAI,CAAC,CAAA;aAC7E;QACL,CAAC,CAAC,CAAA;QACF,uCAAkB,CAAC,WAAW,EAAE,CAAC,oBAAoB,CAAC,iCAAY,CAAC,sBAAsB,EAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAC,qBAAW,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC;QACpJ,qBAAW,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,SAAS,CAAC,2BAAU,CAAC,aAAa,CAAC,CAAC;QAC5E,QAAQ;QACR,qBAAW,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAC,CAAC,EAAC,CAAC;YAC3C,IAAI,QAAQ,GAAC,IAAI,mBAAQ,EAAE,CAAC;YAC5B,QAAQ,CAAC,OAAO,GAAC,mBAAM,CAAC,eAAe,CAAC;YACxC,QAAQ,CAAC,cAAc,GAAC,iCAAY,CAAC,OAAO,CAAC;YAC7C,QAAQ,CAAC,WAAW,GAAC,CAAC,CAAC;YACvB,QAAQ,CAAC,SAAS,GAAC,qBAAQ,CAAC,OAAO,CAAC;YACpC,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAA;QACF,gBAAM,CAAC,mBAAmB,EAAE,CAAC;IACjC,CAAC;IA7BgB,aAAa;QADjC,OAAO;OACa,aAAa,CA+BjC;IAAD,oBAAC;CA/BD,AA+BC,CA/B0C,EAAE,CAAC,SAAS,GA+BtD;kBA/BoB,aAAa","file":"","sourceRoot":"/","sourcesContent":["import { GameEffectsManager, GameEffectId } from \"../../Game/GameEffectsManager\";\r\nimport GameManager from \"../../GameManager\";\r\nimport { BuffData } from \"../../Hero/Game/BuffData\";\r\nimport { BuffId, BuffType, DamageType } from \"../../Hero/Game/HeroConfig\";\r\nimport { StrengthType } from \"../../Monster/MonsterData\";\r\nimport { SoundIndex } from \"../../Sound/AudioConstants\";\r\nimport MyTool from \"../../Tools/MyTool\";\r\nimport Wall from \"../../Wall/Wall\";\r\nimport { WallType } from \"../../Wall/WallConfig\";\r\nimport WallManager from \"../../Wall/WallManager\";\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class ShieldAttack2 extends cc.Component {\r\n\r\n    boss_pos:cc.Vec2=cc.v2(0,0);\r\n\r\n    setBossPos(pos:cc.Vec2){\r\n        this.boss_pos=pos;\r\n    }\r\n    \r\n    /**帧动画回调 */\r\n    onShieldAttack(){\r\n        let walls=WallManager.getInstance().getAllWall();\r\n        walls.forEach((wall:Wall,wallType:WallType)=>{\r\n            //攻击城墙的条件1，必须在城墙之上,2达到攻击距离\r\n            if(wall.getWallMaxYY()<this.boss_pos.y){\r\n                wall.beRealDamage(DamageType.Skill,StrengthType.Boss,wall.getMaxHp()*0.25)\r\n            }\r\n        })\r\n        GameEffectsManager.getInstance().createGameEffectById(GameEffectId.boss2_normal_skill_hit,cc.v2(this.node.x,GameManager.getInstance().enemy_att_y));\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.YX_Boss2Skill);\r\n        //击晕所有英雄\r\n        GameManager.getInstance().all_hero.forEach((v,k)=>{\r\n            let buffData=new BuffData();\r\n            buffData.buff_id=BuffId.Monster_XuanYun;\r\n            buffData.game_effect_id=GameEffectId.xuanyun;\r\n            buffData.remain_time=1;\r\n            buffData.buff_type=BuffType.Vertigo;\r\n            v.addDeBuff(buffData);\r\n        })\r\n        MyTool.randomSceneShakeBig();\r\n    }\r\n\r\n}\r\n"]}