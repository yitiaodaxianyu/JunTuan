{"version":3,"sources":["assets\\Scripts\\Test\\TestTest.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,0CAAyC;AAEzC,wDAAqD;AACrD,kEAAiE;AAEjE,8CAAyC;AACzC,wDAAuD;AACvD,sDAAoD;AAGpD,sDAAqD;AACrD,sDAA4D;AAE5D,kEAA6D;AAGvD,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAsC,4BAAY;IAAlD;QAAA,qEAuJC;QArJG,gBAAU,GAAW,qBAAS,CAAC,IAAI,CAAC;QAGpC,YAAM,GAAkB,EAAE,CAAC;;IAkJ/B,CAAC;IAjJG,wBAAwB;IAExB,eAAe;IAEf,wBAAK,GAAL;QACI,qBAAW,CAAC,WAAW,EAAE,CAAC,cAAc,GAAC,qBAAS,CAAC,IAAI,CAAC;QACxD,0CAA0C;QAC1C,IAAI;QACJ,6BAA6B;QAC7B,QAAQ;QACR,iEAAiE;QACjE,QAAQ;QACR,IAAI;IAER,CAAC;IAED,6BAAU,GAAV;QAEI,IAAI,CAAC,UAAU,GAAC,qBAAS,CAAC,IAAI,CAAC;QAC/B,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC5B,CAAC;IAED,+BAAY,GAAZ;QAEI,2DAA2D;QAC3D,IAAI,CAAC,UAAU,GAAC,qBAAS,CAAC,IAAI,CAAC;QAC/B,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC5B,CAAC;IAED,+BAAY,GAAZ;QAEI,2DAA2D;QAC3D,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;IACvC,CAAC;IAED,mCAAgB,GAAhB;QAEI,IAAI,YAAY,GAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;QAC1D,IAAI,KAAK,GAAC,YAAY,CAAC,YAAY,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC;QACvD,IAAI,UAAU,GAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC/B,0BAAgB,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAClD,0BAAgB,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAClD,0BAAgB,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAClD,0BAAgB,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAClD,0BAAgB,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAClD,0BAAgB,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAClD,0BAAgB,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAClD,0BAAgB,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAClD,0BAAgB,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAClD,0BAAgB,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAClD,0BAAgB,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAClD,0BAAgB,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAClD,0BAAgB,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAClD,0BAAgB,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAClD,0BAAgB,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAClD,0BAAgB,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAClD,0BAAgB,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAClD,0BAAgB,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAClD,0BAAgB,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAClD,0BAAgB,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAClD,0BAAgB,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAClD,0BAAgB,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAClD,0BAAgB,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAClD,0BAAgB,CAAC,WAAW,EAAE,CA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","file":"","sourceRoot":"/","sourcesContent":["import { GameScene } from \"../Constants\";\r\n\r\nimport { EquipType } from \"../Equipment/EquipConfig\";\r\nimport { EquipmentManager } from \"../Equipment/EquipmentManager\";\r\n\r\nimport GameManager from \"../GameManager\";\r\nimport { HeroManager } from \"../Hero/Data/HeroManager\";\r\nimport { Hero_Type } from \"../Hero/Game/HeroConfig\";\r\n\r\n\r\nimport { LevelManager } from \"../Level/LevelManager\";\r\nimport { MissionLevelManager } from \"../Level/MissionLevel\";\r\n\r\nimport TutorailsManager from \"../Tutorials/TutorailsManager\";\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class TestTest extends cc.Component {\r\n\r\n    goto_scene:GameScene=GameScene.game;\r\n\r\n    @property([cc.SpriteFrame])\r\n    all_sp:cc.SpriteFrame[]=[];\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {}\r\n\r\n    start () {\r\n        GameManager.getInstance().cur_game_scene=GameScene.load;\r\n        // for(let i=0; i<Hero_Type.Hero_Num; i++)\r\n        // {\r\n        //     for(let n=0; n<3; n++)\r\n        //     {\r\n        //         EquipmentManager.getInstance().saveAllEquipmentList();\r\n        //     }\r\n        // }\r\n        \r\n    }\r\n\r\n    clickStart()\r\n    {\r\n        this.goto_scene=GameScene.game;    \r\n        this.cheakLoadToScene();\r\n    }\r\n\r\n    clickBtnHome()\r\n    {\r\n        //let aa=EnemyJsonData.getBaseDanwei(Enemy_Type.xunjieshu);\r\n        this.goto_scene=GameScene.home;\r\n        this.cheakLoadToScene();\r\n    }\r\n\r\n    clickBtnTest()\r\n    {\r\n        //let aa=EnemyJsonData.getBaseDanwei(Enemy_Type.xunjieshu);\r\n        cc.director.loadScene('zhengxing');\r\n    }\r\n\r\n    cheakLoadToScene()\r\n    {\r\n        let levelEditBox=this.node.getChildByName('levelEditBox');\r\n        let level=levelEditBox.getComponent(cc.EditBox).string;\r\n        let startLevel=parseInt(level);\r\n        TutorailsManager.getInstance().saveTutorials(201);\r\n        TutorailsManager.getInstance().saveTutorials(202);\r\n        TutorailsManager.getInstance().saveTutorials(203);\r\n        TutorailsManager.getInstance().saveTutorials(204);\r\n        TutorailsManager.getInstance().saveTutorials(205);\r\n        TutorailsManager.getInstance().saveTutorials(206);\r\n        TutorailsManager.getInstance().saveTutorials(207);\r\n        TutorailsManager.getInstance().saveTutorials(208);\r\n        TutorailsManager.getInstance().saveTutorials(209);\r\n        TutorailsManager.getInstance().saveTutorials(210);\r\n        TutorailsManager.getInstance().saveTutorials(211);\r\n        TutorailsManager.getInstance().saveTutorials(212);\r\n        TutorailsManager.getInstance().saveTutorials(213);\r\n        TutorailsManager.getInstance().saveTutorials(214);\r\n        TutorailsManager.getInstance().saveTutorials(215);\r\n        TutorailsManager.getInstance().saveTutorials(216);\r\n        TutorailsManager.getInstance().saveTutorials(217);\r\n        TutorailsManager.getInstance().saveTutorials(218);\r\n        TutorailsManager.getInstance().saveTutorials(219);\r\n        TutorailsManager.getInstance().saveTutorials(220);\r\n        TutorailsManager.getInstance().saveTutorials(221);\r\n        TutorailsManager.getInstance().saveTutorials(222);\r\n        TutorailsManager.getInstance().saveTutorials(223);\r\n        TutorailsManager.getInstance().saveTutorials(224);\r\n        if(startLevel>0)\r\n        {\r\n            //英雄品质\r\n            let qualityEditBox=this.node.getChildByName('qualityEditBox');\r\n            let heroQualityStr=qualityEditBox.getComponent(cc.EditBox).string;\r\n            let heroQuality=parseInt(heroQualityStr);\r\n            //装备\r\n            let equipEditBox=this.node.getChildByName('equipEditBox');\r\n            let equipStr=equipEditBox.getComponent(cc.EditBox).string;\r\n            let equipLevel=parseInt(equipStr);\r\n            if(equipLevel>0){\r\n                let em=EquipmentManager.getInstance()\r\n                for(let i=EquipType.WuQi; i<EquipType.Num; i++){\r\n                    for(let h=Hero_Type.ChangMaoShou; h<Hero_Type.Hero_Num; h++){\r\n\r\n\r\n                    }                \r\n                }\r\n            }else{\r\n                for(let h=Hero_Type.ChangMaoShou; h<Hero_Type.Hero_Num; h++){\r\n                    EquipmentManager.getInstance().checkQuickUnload(h,true);\r\n                }\r\n            }\r\n            \r\n            //获取英雄\r\n            let heroRoot=this.node.getChildByName('heroRoot');\r\n            let shangzhenHero=new Array();\r\n            for(let i=0; i<heroRoot.childrenCount; i++)\r\n            {\r\n                if(heroRoot.children[i].getComponent(cc.Toggle).isChecked)\r\n                {\r\n                    shangzhenHero.push(i+1);\r\n                }\r\n            }\r\n            //英雄等级\r\n            let heroLevelEditBox=this.node.getChildByName('heroLevelEditBox');\r\n            let heroLevelStr=heroLevelEditBox.getComponent(cc.EditBox).string;\r\n            let heroLevel=parseInt(heroLevelStr);\r\n            \r\n            let teamList=new Array(5);\r\n            let shangzhenNum=0;\r\n            let shunxu=[2,1,3,0,4];\r\n            for(let i=0; i<5; i++)\r\n            {\r\n                if(i<shangzhenHero.length)\r\n                {\r\n                    teamList[shunxu[shangzhenNum]]=shangzhenHero[i];\r\n                    // HeroManager.getInstance().saveHeroLevel(shangzhenHero[i],heroLevel);\r\n                    shangzhenNum++;\r\n                }else\r\n                {\r\n                    teamList[shunxu[shangzhenNum]]=-1;\r\n                    shangzhenNum++;\r\n                }\r\n            }                    \r\n            HeroManager.getInstance().saveTeamList(GameManager.getInstance().cur_game_mode,teamList);\r\n            //设置装备数据和等级数据\r\n            \r\n            \r\n            let heroList = HeroManager.getInstance().getHeroList();\r\n            for(let i=0; i<heroList.length; i++)\r\n            {\r\n                // HeroManager.getInstance().saveHeroQuality(i,heroQuality);\r\n                \r\n            }\r\n            //刷新数据   \r\n            for(let i=0; i<heroList.length; i++)\r\n            {\r\n                HeroManager.getInstance().refreshHeroData(heroList[i].hero_type);\r\n            }\r\n            \r\n            this.node.getChildByName('bg_loading').active=true;\r\n            //获取填写的关卡数\r\n            LevelManager.getInstance().start_level=startLevel;\r\n            GameManager.getInstance().fighting_info=MissionLevelManager.getInstance().getFightingInfo(startLevel);\r\n            cc.director.loadScene(this.goto_scene);\r\n        }else\r\n        {\r\n            GameManager.getInstance().showMessage('关卡需要大于0或者不能为空');\r\n        }\r\n    }\r\n}\r\n"]}