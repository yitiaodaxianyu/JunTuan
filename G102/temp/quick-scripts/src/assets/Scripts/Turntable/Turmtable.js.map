{"version":3,"sources":["assets\\Scripts\\Turntable\\Turmtable.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\r\n// import { _decorator, Component, Node, Tween, tween, v3, Sprite, Color, Vec3, Label } from 'cc';\r\n// import { Sound } from '../Sound/Sound';\r\n// import { UIPop } from '../UIPop';\r\n// import { AD_TYPE, Void } from './Void';\r\n\r\nimport { AccessName, HttpManager } from \".././NetWork/HttpManager\";\r\nimport UIComponent from \"../../Scripts/UI/UIComponent\";\r\nimport ApkManager from \"../Ads/ApkManager\";\r\nimport { INTER_VIDEO_TYPE, VIDEO_TYPE } from \"../Constants\";\r\nimport GameManager from \"../GameManager\";\r\nimport { Follow_Type } from \"../multiLanguage/FollowConstants\";\r\nimport FollowManager from \"../multiLanguage/FollowManager\";\r\nimport LanguageManager from \"../multiLanguage/LanguageManager\";\r\nimport { PropId } from \"../Prop/PropConfig\";\r\nimport { PropManager } from \"../Prop/PropManager\";\r\nimport { MusicIndex, SoundIndex } from \"../Sound/AudioConstants\";\r\nimport { StorageKey } from \"../Storage/StorageConfig\";\r\nimport { TheStorageManager } from \"../Storage/StorageManager\";\r\nimport { TaskItem } from \"../Task/TaskEnum\";\r\nimport TaskManager from \"../Task/TaskManager\";\r\nimport { EventManager, RedEventString, RedEventType } from \"../Tools/EventManager\";\r\nimport MyTool from \"../Tools/MyTool\";\r\nimport MainUi from \"../UI/home/MainUi\";\r\nimport UserData from \"../UserData\";\r\nimport PublicMethods from \"./PublicMethods\";\r\nimport Times from \"./Times\";\r\nimport { TurntableInformationManager } from \"./TurntableInformation\";\r\nimport WXManagerEX, { WXADEnvnt } from \"../../startscene/WXManagerEX\";\r\n\r\n// import WZPublic from './WZPublic';\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n/**\r\n * Predefined variables\r\n * Name = Turmtables\r\n * DateTime = Tue Dec 21 2021 18:07:29 GMT+0800 (中国标准时间)\r\n * Author = ZQYZ\r\n * FileBasename = Turmtables.ts\r\n * FileBasenameNoExtension = Turmtables\r\n * URL = db://assets/script/WZ/Turmtables.ts\r\n * ManualUrl = https://docs.cocos.com/creator/3.3/manual/zh/\r\n *\r\n */\r\n\r\n@ccclass\r\nexport default class Turmtable extends UIComponent {\r\n    // [1]\r\n    // dummy = '';\r\n\r\n    is_spining: boolean = false;\r\n    @property(cc.Node)\r\n    btnad: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    btnshow: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    btnClose: cc.Node = null;\r\n    btn_action: cc.Tween<any> = null;\r\n\r\n    @property(cc.Node)\r\n    gifts: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    spinlight: cc.Node = null;\r\n    item: cc.Node[] = [];\r\n\r\n    protected onDestroy(): void {\r\n\r\n    }\r\n    initUi() {\r\n        // GameManager.getInstance().music_manager.playMusic(MusicIndex.BGM_TJP);\r\n        // FollowManager.getInstance().followEvent(Follow_Type.转盘的打开次数);\r\n        let btn_start = this.btnad;\r\n        this.btn_action = cc.tween(btn_start).to(0.8, { scale: 1.1 }).to(0.8, { scale: 1 }).union().repeatForever().start();\r\n        this.spinlight.active = false;\r\n        this.node.getChildByName(\"B\").active = false\r\n        this.gifts.resumeAllActions()\r\n        this.gifts.angle = 0\r\n\r\n        //生成6个奖励\r\n        for (let index = this.item.length; index < this.gifts.getChildByName(\"itme\").children.length; index++) {\r\n            let id = index + 1\r\n            let items = PropManager.getInstance().createPropItem(TurntableInformationManager.getInstance().getItemID(id), TurntableInformationManager.getInstance().getItemNum(id));\r\n            items.scale = 0.73\r\n            items.parent = this.gifts.getChildByName(\"itme\").children[index]\r\n            this.item.push(items)\r\n        }\r\n        Times.Turmtablenode = this.node\r\n        // let num=TheStorageManager.getInstance().getNumber(StorageKey.TurmtableFreeYes, 0);\r\n        // if(num==1){\r\n        //     this.btnshow.getComponent(cc.Button).interactable=true\r\n        //     this.btnshow.getChildByName(\"time\").active=false\r\n        //     this.btnshow.getChildByName(\"text\").active=true\r\n        // }else{\r\n        //     this.btnshow.getComponent(cc.Button).interactable=false\r\n        //     this.btnshow.getChildByName(\"text\").active=false\r\n        //     this.btnshow.getChildByName(\"time\").active=true\r\n        // }\r\n        this.Refresh()\r\n\r\n\r\n\r\n    }\r\n    Refresh() {\r\n        if (TheStorageManager.getInstance().getNumber(StorageKey.TurmtableFree, 0) > 999999) {\r\n            this.btnshow.active = false\r\n            this.btnad.setPosition(0, -320, 0)\r\n        } else {\r\n            this.btnshow.active = true\r\n            this.btnad.setPosition(-144, -320, 0)\r\n        }\r\n        let num = TheStorageManager.getInstance().getNumber(StorageKey.TurmtableFreeYes, 0);\r\n        if (num == 1) {\r\n            this.btnshow.getComponent(cc.Button).interactable = true\r\n            this.btnshow.getChildByName(\"time\").active = false\r\n            this.btnshow.getChildByName(\"text\").active = true\r\n            this.btnshow.getChildByName('red').active = true;\r\n        } else {\r\n            this.btnshow.getComponent(cc.Button).interactable = false\r\n            this.btnshow.getChildByName(\"text\").active = false\r\n            this.btnshow.getChildByName(\"time\").active = true\r\n            this.btnshow.getChildByName('red').active = false;\r\n        }\r\n\r\n        Times.timetxt = this.btnshow.getChildByName(\"time\")\r\n        let times = TheStorageManager.getInstance().getNumber(StorageKey.TurmtableFreeTime, GameManager.getInstance().tumTableTime);\r\n        Times.timetxt.getComponent(cc.Label).string = \"\" + PublicMethods.timeconversions(times)\r\n        this.btnad.getChildByName('red').active = TheStorageManager.getInstance().getNumber(StorageKey.TurmtableAd, 0) < 10;\r\n    }\r\n    start() {\r\n        this.btnad.on(cc.Node.EventType.TOUCH_START, (event) => {\r\n            this.onClicbtnSpin(0);\r\n        }, this);\r\n        this.btnshow.on(cc.Node.EventType.TOUCH_START, (event) => {\r\n            this.onClicbtnSpin(1);\r\n        }, this);\r\n        this.btnClose.on(cc.Node.EventType.TOUCH_START, (event) => {\r\n            this.clickBtnClose();\r\n        }, this);\r\n\r\n        // cc.director\r\n        // 15*60*1000//900\r\n\r\n    }\r\n    //视频观看完成\r\n    private onShipinComp(): void {\r\n        let num = TheStorageManager.getInstance().getNumber(StorageKey.TurmtableAd, 0);\r\n        num++;\r\n        TheStorageManager.getInstance().setItem(StorageKey.TurmtableAd, num);\r\n        FollowManager.getInstance().followEvent(Follow_Type.转盘免费抽奖点击次数);\r\n        //1 20% 2 20% 3 20% 4 15% 5 15% 6 10%\r\n        this.startSpin(this.roundmNum(), 0);\r\n    }\r\n    onClicbtnSpin(type) {  //0:点击广告转盘10次   1：点击15分钟免费  5次\r\n        if (type == 0) {\r\n            if (TheStorageManager.getInstance().getNumber(StorageKey.TurmtableAd, 0) > 20) {\r\n                // 没次数提示100120\r\n                GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(1700004), 3);\r\n            } else {\r\n                if (cc.sys.platform === cc.sys.BYTEDANCE_GAME) {\r\n                    WXManagerEX.getInstance().zhuanpanShipin = tt.createRewardedVideoAd({\r\n                        adUnitId: 'a1m58qb4ql9122f3mp'\r\n                    });\r\n                    WXManagerEX.getInstance().zhuanpanShipin.offError();\r\n                    WXManagerEX.getInstance().zhuanpanShipin.onError(err => {\r\n                        console.log(err)\r\n                    });\r\n                    WXManagerEX.getInstance().zhuanpanShipin.offClose();\r\n                    WXManagerEX.getInstance().zhuanpanShipin.show().catch(() => {\r\n                        // 失败重试\r\n                        WXManagerEX.getInstance().zhuanpanShipin.load()\r\n                            .then(() => WXManagerEX.getInstance().zhuanpanShipin.show())\r\n                            .catch(err => {\r\n                                GameManager.getInstance().showMessage(\"广告拉取失败\");\r\n                            })\r\n                    })\r\n                    WXManagerEX.getInstance().zhuanpanShipin.onClose(res => {\r\n                        // 用户点击了【关闭广告】按钮\r\n                        // 小于 2.1.0 的基础库版本，res 是一个 undefined\r\n                        if (res && res.isEnded || res === undefined) {\r\n                            // 正常播放结束，可以下发游戏奖励\r\n                            this.onShipinComp();\r\n                        }\r\n                        else {\r\n                            // 播放中途退出，不下发游戏奖励\r\n                        }\r\n                    })\r\n\r\n\r\n                } else {\r\n                    let num = TheStorageManager.getInstance().getNumber(StorageKey.TurmtableAd, 0);\r\n                    num++;\r\n                    TheStorageManager.getInstance().setItem(StorageKey.TurmtableAd, num);\r\n                    FollowManager.getInstance().followEvent(Follow_Type.转盘免费抽奖点击次数);\r\n                    //1 20% 2 20% 3 20% 4 15% 5 15% 6 10%\r\n                    this.startSpin(this.roundmNum(), 0);\r\n                }\r\n                // ApkManager.getInstance().showVideo(((isTrue)=>{\r\n                //     if(isTrue){\r\n                //         HttpManager.post(AccessName.userTurnPrize,this.getTurnPrizeJsonString(),true).then((data:any)=>{\r\n                //             // 成功\r\n                //             let num = TheStorageManager.getInstance().getNumber(StorageKey.TurmtableAd,0);\r\n                //             num++;\r\n                //             TheStorageManager.getInstance().setItem(StorageKey.TurmtableAd,num);\r\n                //             FollowManager.getInstance().followEvent(Follow_Type.转盘广告抽奖点击次数);\r\n                //             this.startSpin(data.index,0);\r\n                //         }).catch((err) =>{\r\n                //             // 失败\r\n                //             // console.log(\"失败\")\r\n                //             let num = TheStorageManager.getInstance().getNumber(StorageKey.TurmtableAd,0);\r\n                //             num++;\r\n                //             TheStorageManager.getInstance().setItem(StorageKey.TurmtableAd,num);\r\n                //             FollowManager.getInstance().followEvent(Follow_Type.转盘广告抽奖点击次数);\r\n                //             this.startSpin(1,0);\r\n                //         });\r\n                //     }\r\n                // }),VIDEO_TYPE.Equip)\r\n            }\r\n        }\r\n        else if (type == 1) {\r\n            if (TheStorageManager.getInstance().getNumber(StorageKey.TurmtableFree, 0) > 99999) {\r\n                // 没次数提示100120\r\n                GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(1700003), 3);\r\n            } else {\r\n\r\n                let num = TheStorageManager.getInstance().getNumber(StorageKey.TurmtableFree, 0);\r\n                num++;\r\n                TheStorageManager.getInstance().setItem(StorageKey.TurmtableFree, num);\r\n                FollowManager.getInstance().followEvent(Follow_Type.转盘免费抽奖点击次数);\r\n                //1 20% 2 20% 3 20% 4 15% 5 15% 6 10%\r\n                this.startSpin(this.roundmNum(), 1);\r\n                // HttpManager.post(AccessName.userTurnPrize,this.getTurnPrizeJsonString(),true).then((data:any)=>{\r\n                //     // 成功\r\n                //     let num = TheStorageManager.getInstance().getNumber(StorageKey.TurmtableFree,0);\r\n                //     num++;\r\n                //     TheStorageManager.getInstance().setItem(StorageKey.TurmtableFree,num);\r\n                //     FollowManager.getInstance().followEvent(Follow_Type.转盘免费抽奖点击次数);\r\n                //     this.startSpin(data.index,1);\r\n                // }).catch((err) =>{\r\n                //     // 失败\r\n                //     // console.log(\"失败1\")\r\n                //     let num = TheStorageManager.getInstance().getNumber(StorageKey.TurmtableFree,0);\r\n                //     num++;\r\n                //     TheStorageManager.getInstance().setItem(StorageKey.TurmtableFree,num);\r\n                //     FollowManager.getInstance().followEvent(Follow_Type.转盘免费抽奖点击次数);\r\n                //     this.startSpin(1,1);\r\n                // });\r\n            }\r\n        }\r\n\r\n    }\r\n    private roundmNum(): number {\r\n\r\n        var rum: number = Math.random();\r\n        if (rum < 0.2) {\r\n            return 1;\r\n        } else if (rum < 0.4) {\r\n            return 2;\r\n        } else if (rum < 0.6) {\r\n            return 3;\r\n        } else if (rum < 0.75) {\r\n            return 4;\r\n        } else if (rum < 0.9) {\r\n            return 5;\r\n        } else if (rum < 1) {\r\n            return 6;\r\n        }\r\n        return 1;\r\n    }\r\n    startSpin(index: number, type: number) {//type:   0:广告   1：免费  更新时间\r\n        TaskManager.getInstance().emitTask(TaskItem.转动转盘1次);\r\n        TaskManager.getInstance().emitTask(TaskItem.转盘X次);\r\n        this.node.getChildByName(\"B\").active = true\r\n        this.is_spining = true;\r\n        this.spinlight.active = false;\r\n        let rewardnumber = index//3   \r\n        // cubicOut  quadInOut  6，0:第一个    5:第6个   4：第5个   quintOut\r\n        cc.tween(this.gifts).to(6, { angle: 3600 + (rewardnumber - 1) * 60 }, { easing: \"quintOut\" }).call(() => {\r\n            this.is_spining = false;\r\n            this.spinlight.parent.angle = (3600 + (rewardnumber - 1) * 60) * -1\r\n            this.spinlight.active = true;\r\n            let btnSpin = this.btnad;\r\n            this.btn_action = cc.tween(btnSpin).to(1, { scale: 1.1 }).to(1, { scale: 1.1 }).union().repeatForever().start();\r\n            let time = 0.4\r\n            cc.tween(this.spinlight)\r\n                .to(0.2, { opacity: 0 })\r\n                .to(0.2, { opacity: 255 })\r\n                .to(0.2, { opacity: 0 })\r\n                .to(0.2, { opacity: 255 })\r\n                .delay(time)\r\n                .call(() => {\r\n                    // console.log(\"+++++++++转盘\")\r\n                    PropManager.getInstance().changePropNum(TurntableInformationManager.getInstance().getItemID(rewardnumber), TurntableInformationManager.getInstance().getItemNum(rewardnumber));\r\n                    GameManager.getInstance().showGetTip(PropManager.getInstance().createPropItem(TurntableInformationManager.getInstance().getItemID(rewardnumber), TurntableInformationManager.getInstance().getItemNum(rewardnumber)));\r\n                    this.node.getChildByName(\"B\").active = false\r\n                    let btn_start = this.btnad;\r\n                    this.btn_action = cc.tween(btn_start).to(0.8, { scale: 1.1 }).to(0.8, { scale: 1 }).union().repeatForever().start();\r\n                    this.spinlight.active = false;\r\n                    this.gifts.angle = 0\r\n\r\n                    if (type == 1) {\r\n                        TheStorageManager.getInstance().setItem(StorageKey.TurmtableFreeYes, 0)\r\n                        TheStorageManager.getInstance().setItem(StorageKey.TurmtableFreeTime, GameManager.getInstance().tumTableTime);\r\n                    }\r\n\r\n                    cc.find('Canvas/main_ui').getComponent(MainUi).refreshMainTaskUi();\r\n                    this.Refresh()\r\n\r\n                    // let num=TheStorageManager.getInstance().getNumber(StorageKey.TurmtableFreeYes, 0);\r\n                    // let times=TheStorageManager.getInstance().getNumber(StorageKey.TurmtableFreeTime, 900);\r\n                    // Times.timetxt.getComponent(cc.Label).string=\"\"+PublicMethods.timeconversions(times)\r\n                    // if(num==1){\r\n                    //     this.btnshow.getComponent(cc.Button).interactable=true\r\n                    //     this.btnshow.getChildByName(\"time\").active=false\r\n                    //     this.btnshow.getChildByName(\"text\").active=true\r\n                    // }else{\r\n                    //     this.btnshow.getComponent(cc.Button).interactable=false\r\n                    //     this.btnshow.getChildByName(\"text\").active=false\r\n                    //     this.btnshow.getChildByName(\"time\").active=true\r\n                    // }\r\n                }).start();\r\n        }).start();\r\n    }\r\n    clickBtnClose()//关闭\r\n    {\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        EventManager.postRedEvent(RedEventString.RED_CHECK, RedEventType.Btn_Main_Spin);\r\n        this.onClose();\r\n    }\r\n    onClose(): void {\r\n        super.onClose();\r\n\r\n    }\r\n    private getTurnPrizeJsonString(): string {\r\n        let uid = UserData.getInstance().getUserID();\r\n        return JSON.stringify({\r\n            drawType: 5,\r\n            uid: uid,\r\n        });\r\n    }\r\n\r\n    // closeView() {\r\n    //     this.node.active = false\r\n    //     // console.log(\"关闭大转盘\")\r\n    // }\r\n\r\n    // update (deltaTime: number) {\r\n    //     // [4]\r\n    // }\r\n}\r\n\r\n/**\r\n * [1] Class member could be defined like this.\r\n * [2] Use `property` decorator if your want the member to be serializable.\r\n * [3] Your initialization goes here.\r\n * [4] Your update function goes here.\r\n *\r\n * Learn more about scripting: https://docs.cocos.com/creator/3.3/manual/zh/scripting/\r\n * Learn more about CCClass: https://docs.cocos.com/creator/3.3/manual/zh/scripting/ccclass.html\r\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.3/manual/zh/scripting/life-cycle-callbacks.html\r\n */\r\n"]}