{"version":3,"sources":["assets\\Scripts\\Turntable\\Turmtable.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\r\n// import { _decorator, Component, Node, Tween, tween, v3, Sprite, Color, Vec3, Label } from 'cc';\r\n// import { Sound } from '../Sound/Sound';\r\n// import { UIPop } from '../UIPop';\r\n// import { AD_TYPE, Void } from './Void';\r\n\r\nimport { AccessName, HttpManager } from \".././NetWork/HttpManager\";\r\nimport UIComponent from \"../../Scripts/UI/UIComponent\";\r\nimport ApkManager from \"../Ads/ApkManager\";\r\nimport { INTER_VIDEO_TYPE, VIDEO_TYPE } from \"../Constants\";\r\nimport GameManager from \"../GameManager\";\r\nimport { Follow_Type } from \"../multiLanguage/FollowConstants\";\r\nimport FollowManager from \"../multiLanguage/FollowManager\";\r\nimport LanguageManager from \"../multiLanguage/LanguageManager\";\r\nimport { PropId } from \"../Prop/PropConfig\";\r\nimport { PropManager } from \"../Prop/PropManager\";\r\nimport { MusicIndex, SoundIndex } from \"../Sound/AudioConstants\";\r\nimport { StorageKey } from \"../Storage/StorageConfig\";\r\nimport { TheStorageManager } from \"../Storage/StorageManager\";\r\nimport { TaskItem } from \"../Task/TaskEnum\";\r\nimport TaskManager from \"../Task/TaskManager\";\r\nimport { EventManager, RedEventString, RedEventType } from \"../Tools/EventManager\";\r\nimport MyTool from \"../Tools/MyTool\";\r\nimport MainUi from \"../UI/home/MainUi\";\r\nimport UserData from \"../UserData\";\r\nimport PublicMethods from \"./PublicMethods\";\r\nimport Times from \"./Times\";\r\nimport { TurntableInformationManager } from \"./TurntableInformation\";\r\n\r\n// import WZPublic from './WZPublic';\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n/**\r\n * Predefined variables\r\n * Name = Turmtables\r\n * DateTime = Tue Dec 21 2021 18:07:29 GMT+0800 (中国标准时间)\r\n * Author = ZQYZ\r\n * FileBasename = Turmtables.ts\r\n * FileBasenameNoExtension = Turmtables\r\n * URL = db://assets/script/WZ/Turmtables.ts\r\n * ManualUrl = https://docs.cocos.com/creator/3.3/manual/zh/\r\n *\r\n */\r\n\r\n @ccclass\r\n export default class Turmtable extends UIComponent {\r\n    // [1]\r\n    // dummy = '';\r\n\r\n    is_spining: boolean = false;\r\n    @property(cc.Node)\r\n    btnad: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    btnshow: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    btnClose: cc.Node = null;\r\n    btn_action: cc.Tween<any> = null;\r\n\r\n    @property(cc.Node)\r\n    gifts: cc.Node = null;\r\n    \r\n    @property(cc.Node)\r\n    spinlight: cc.Node = null;\r\n    item: cc.Node[] = [];\r\n    initUi() {\r\n        // GameManager.getInstance().music_manager.playMusic(MusicIndex.BGM_TJP);\r\n        // FollowManager.getInstance().followEvent(Follow_Type.转盘的打开次数);\r\n        let btn_start = this.btnad;\r\n        this.btn_action = cc.tween(btn_start).to(0.8, { scale: 1.1 }).to(0.8, { scale: 1 }).union().repeatForever().start();\r\n        this.spinlight.active = false;\r\n        this.node.getChildByName(\"B\").active = false\r\n        this.gifts.resumeAllActions()\r\n        this.gifts.angle = 0\r\n\r\n        //生成6个奖励\r\n        for (let index = this.item.length; index < this.gifts.getChildByName(\"itme\").children.length; index++) {\r\n            let id=index+1\r\n            let items=PropManager.getInstance().createPropItem(TurntableInformationManager.getInstance().getItemID(id),TurntableInformationManager.getInstance().getItemNum(id));\r\n            items.scale=0.73\r\n            items.parent=this.gifts.getChildByName(\"itme\").children[index]\r\n            this.item.push(items)\r\n        }\r\n        Times.Turmtablenode=this.node\r\n        // let num=TheStorageManager.getInstance().getNumber(StorageKey.TurmtableFreeYes, 0);\r\n        // if(num==1){\r\n        //     this.btnshow.getComponent(cc.Button).interactable=true\r\n        //     this.btnshow.getChildByName(\"time\").active=false\r\n        //     this.btnshow.getChildByName(\"text\").active=true\r\n        // }else{\r\n        //     this.btnshow.getComponent(cc.Button).interactable=false\r\n        //     this.btnshow.getChildByName(\"text\").active=false\r\n        //     this.btnshow.getChildByName(\"time\").active=true\r\n        // }\r\n        this.Refresh()\r\n\r\n    }\r\n    Refresh(){\r\n        if(TheStorageManager.getInstance().getNumber(StorageKey.TurmtableFree,0) > 4){\r\n            this.btnshow.active=false\r\n            this.btnad.setPosition(0,-320,0)\r\n        }else{\r\n            this.btnshow.active=true\r\n            this.btnad.setPosition(-144,-320,0)\r\n        }\r\n        let num=TheStorageManager.getInstance().getNumber(StorageKey.TurmtableFreeYes, 0);\r\n        if(num==1){\r\n            this.btnshow.getComponent(cc.Button).interactable=true\r\n            this.btnshow.getChildByName(\"time\").active=false\r\n            this.btnshow.getChildByName(\"text\").active=true\r\n            this.btnshow.getChildByName('red').active=true;            \r\n        }else{\r\n            this.btnshow.getComponent(cc.Button).interactable=false\r\n            this.btnshow.getChildByName(\"text\").active=false\r\n            this.btnshow.getChildByName(\"time\").active=true\r\n            this.btnshow.getChildByName('red').active=false;            \r\n        }\r\n        \r\n        Times.timetxt=this.btnshow.getChildByName(\"time\")\r\n        let times=TheStorageManager.getInstance().getNumber(StorageKey.TurmtableFreeTime, 900);\r\n        Times.timetxt.getComponent(cc.Label).string=\"\"+PublicMethods.timeconversions(times)\r\n        this.btnad.getChildByName('red').active=TheStorageManager.getInstance().getNumber(StorageKey.TurmtableAd,0) < 10;\r\n    }\r\n    start() {\r\n        this.btnad.on(cc.Node.EventType.TOUCH_START, (event) => {\r\n            this.onClicbtnSpin(0);\r\n        }, this);\r\n        this.btnshow.on(cc.Node.EventType.TOUCH_START, (event) => {\r\n            this.onClicbtnSpin(1);\r\n        }, this);\r\n        this.btnClose.on(cc.Node.EventType.TOUCH_START, (event) => {\r\n            this.clickBtnClose();\r\n        }, this);\r\n\r\n        // cc.director\r\n        // 15*60*1000//900\r\n\r\n    }\r\n    onClicbtnSpin(type) {  //0:点击广告转盘10次   1：点击15分钟免费  5次\r\n        if(type==0){\r\n            if(TheStorageManager.getInstance().getNumber(StorageKey.TurmtableAd,0) > 9){\r\n                // 没次数提示100120\r\n                GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(1700004),3);\r\n            }else{\r\n                ApkManager.getInstance().showVideo(((isTrue)=>{\r\n                    if(isTrue){\r\n                        HttpManager.post(AccessName.userTurnPrize,this.getTurnPrizeJsonString(),true).then((data:any)=>{\r\n                            // 成功\r\n                            let num = TheStorageManager.getInstance().getNumber(StorageKey.TurmtableAd,0);\r\n                            num++;\r\n                            TheStorageManager.getInstance().setItem(StorageKey.TurmtableAd,num);\r\n                            FollowManager.getInstance().followEvent(Follow_Type.转盘广告抽奖点击次数);\r\n                            this.startSpin(data.index,0);\r\n                        }).catch((err) =>{\r\n                            // 失败\r\n                            // console.log(\"失败\")\r\n                            let num = TheStorageManager.getInstance().getNumber(StorageKey.TurmtableAd,0);\r\n                            num++;\r\n                            TheStorageManager.getInstance().setItem(StorageKey.TurmtableAd,num);\r\n                            FollowManager.getInstance().followEvent(Follow_Type.转盘广告抽奖点击次数);\r\n                            this.startSpin(1,0);\r\n                        });\r\n                    }\r\n                }),VIDEO_TYPE.Equip)\r\n            }\r\n        }\r\n        else if(type==1){\r\n            if(TheStorageManager.getInstance().getNumber(StorageKey.TurmtableFree,0) > 4){\r\n                // 没次数提示100120\r\n                GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(1700003),3);\r\n            }else{\r\n                HttpManager.post(AccessName.userTurnPrize,this.getTurnPrizeJsonString(),true).then((data:any)=>{\r\n                    // 成功\r\n                    let num = TheStorageManager.getInstance().getNumber(StorageKey.TurmtableFree,0);\r\n                    num++;\r\n                    TheStorageManager.getInstance().setItem(StorageKey.TurmtableFree,num);\r\n                    FollowManager.getInstance().followEvent(Follow_Type.转盘免费抽奖点击次数);\r\n                    this.startSpin(data.index,1);\r\n                }).catch((err) =>{\r\n                    // 失败\r\n                    // console.log(\"失败1\")\r\n                    let num = TheStorageManager.getInstance().getNumber(StorageKey.TurmtableFree,0);\r\n                    num++;\r\n                    TheStorageManager.getInstance().setItem(StorageKey.TurmtableFree,num);\r\n                    FollowManager.getInstance().followEvent(Follow_Type.转盘免费抽奖点击次数);\r\n                    this.startSpin(1,1);\r\n                });\r\n            }\r\n        }\r\n\r\n    }\r\n    startSpin(index:number,type:number) {//type:   0:广告   1：免费  更新时间\r\n        TaskManager.getInstance().emitTask(TaskItem.转动转盘1次);\r\n        TaskManager.getInstance().emitTask(TaskItem.转盘X次);\r\n        this.node.getChildByName(\"B\").active = true\r\n        this.is_spining = true;\r\n        this.spinlight.active = false;\r\n        let rewardnumber=index//3   \r\n        // cubicOut  quadInOut  6，0:第一个    5:第6个   4：第5个   quintOut\r\n        cc.tween(this.gifts).to(6, { angle: 3600 + (rewardnumber-1) * 60 }, { easing: \"quintOut\" }).call(() => {\r\n            this.is_spining = false;\r\n            this.spinlight.parent.angle=(3600 + (rewardnumber-1) * 60)*-1\r\n            this.spinlight.active = true;\r\n            let btnSpin = this.btnad;\r\n            this.btn_action = cc.tween(btnSpin).to(1, { scale:1.1 }).to(1, { scale: 1.1 }).union().repeatForever().start();\r\n            let time = 0.4\r\n            cc.tween(this.spinlight)\r\n                .to(0.2, { opacity:0  })\r\n                .to(0.2, { opacity:255  })\r\n                .to(0.2, { opacity:0  })\r\n                .to(0.2, { opacity:255  })\r\n                .delay(time)\r\n                .call(() => {\r\n                    // console.log(\"+++++++++转盘\")\r\n                    PropManager.getInstance().changePropNum(TurntableInformationManager.getInstance().getItemID(rewardnumber),TurntableInformationManager.getInstance().getItemNum(rewardnumber));\r\n                    GameManager.getInstance().showGetTip(PropManager.getInstance().createPropItem(TurntableInformationManager.getInstance().getItemID(rewardnumber),TurntableInformationManager.getInstance().getItemNum(rewardnumber)));\r\n                    this.node.getChildByName(\"B\").active = false\r\n                    let btn_start = this.btnad;\r\n                    this.btn_action = cc.tween(btn_start).to(0.8, { scale: 1.1 }).to(0.8, { scale: 1 }).union().repeatForever().start();\r\n                    this.spinlight.active = false;\r\n                    this.gifts.angle = 0\r\n\r\n                    if(type==1){\r\n                        TheStorageManager.getInstance().setItem(StorageKey.TurmtableFreeYes, 0)\r\n                        TheStorageManager.getInstance().setItem(StorageKey.TurmtableFreeTime, 900);\r\n                    }\r\n                    \r\n                    cc.find('Canvas/main_ui').getComponent(MainUi).refreshMainTaskUi();\r\n                    this.Refresh()\r\n\r\n                    // let num=TheStorageManager.getInstance().getNumber(StorageKey.TurmtableFreeYes, 0);\r\n                    // let times=TheStorageManager.getInstance().getNumber(StorageKey.TurmtableFreeTime, 900);\r\n                    // Times.timetxt.getComponent(cc.Label).string=\"\"+PublicMethods.timeconversions(times)\r\n                    // if(num==1){\r\n                    //     this.btnshow.getComponent(cc.Button).interactable=true\r\n                    //     this.btnshow.getChildByName(\"time\").active=false\r\n                    //     this.btnshow.getChildByName(\"text\").active=true\r\n                    // }else{\r\n                    //     this.btnshow.getComponent(cc.Button).interactable=false\r\n                    //     this.btnshow.getChildByName(\"text\").active=false\r\n                    //     this.btnshow.getChildByName(\"time\").active=true\r\n                    // }\r\n                }).start();\r\n        }).start();\r\n    }\r\n    clickBtnClose()//关闭\r\n    {        \r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        EventManager.postRedEvent(RedEventString.RED_CHECK,RedEventType.Btn_Main_Spin);\r\n        this.onClose();\r\n    }\r\n\r\n    private getTurnPrizeJsonString():string{\r\n        let uid=UserData.getInstance().getUserID();\r\n        return JSON.stringify({\r\n            drawType:5,\r\n            uid:uid,\r\n        });\r\n    }\r\n\r\n    // closeView() {\r\n    //     this.node.active = false\r\n    //     // console.log(\"关闭大转盘\")\r\n    // }\r\n\r\n    // update (deltaTime: number) {\r\n    //     // [4]\r\n    // }\r\n}\r\n\r\n/**\r\n * [1] Class member could be defined like this.\r\n * [2] Use `property` decorator if your want the member to be serializable.\r\n * [3] Your initialization goes here.\r\n * [4] Your update function goes here.\r\n *\r\n * Learn more about scripting: https://docs.cocos.com/creator/3.3/manual/zh/scripting/\r\n * Learn more about CCClass: https://docs.cocos.com/creator/3.3/manual/zh/scripting/ccclass.html\r\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.3/manual/zh/scripting/life-cycle-callbacks.html\r\n */\r\n"]}