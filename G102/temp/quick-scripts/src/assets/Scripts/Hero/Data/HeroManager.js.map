{"version":3,"sources":["assets\\Scripts\\Hero\\Data\\HeroManager.ts"],"names":[],"mappings":";;;;;;;AAAA,6CAAmD;AACnD,8EAAoF;AACpF,qEAAoE;AACpE,+CAAqD;AACrD,6CAAmD;AACnD,qCAA2C;AAC3C,yDAAuF;AACvF,uCAAsC;AACtC,uDAA6D;AAC7D,iDAA0E;AAC1E,sDAAqD;AACrD,oDAA+C;AAC/C,2DAAiE;AAEjE,yDAAwD;AACxD,2DAAmE;AACnE,4EAAkF;AAClF,+DAAiE;AACjE,6DAAyD;AACzD,yCAA+C;AAC/C,iDAAyD;AACzD,6DAAmE;AACnE,sDAAiD;AACjD,gDAA+C;AAC/C,iDAA4C;AAC5C,kEAAwE;AACxE,4DAAkE;AAClE,4EAAkF;AAClF,2CAAsC;AACtC,2DAAkF;AAClF,oDAAmD;AACnD,gFAAsF;AAEtF,YAAY;AACZ;IAAA;QACI,WAAW;QACX,cAAS,GAAQ,CAAC,CAAC;QACnB,gBAAgB;QAChB,cAAS,GAAQ,CAAC,CAAC;QACnB,gBAAgB;QAChB,aAAQ,GAAS,KAAK,CAAC;QACvB,aAAa;QACb,aAAQ,GAAQ,CAAC,CAAC;QAClB,eAAe;QACf,cAAS,GAAQ,CAAC,CAAC;QACnB,cAAc;QACd,YAAO,GAAS,KAAK,CAAC;QACtB,gBAAgB;QAChB,oBAAoB;QACpB,kBAAkB;QAClB,qBAAqB;QACrB,iBAAiB;QACjB,wBAAwB;QACxB,iBAAiB;QACjB,0BAA0B;QAC1B,mBAAmB;QACnB,2BAA2B;QAC3B,kBAAkB;QAClB,8BAA8B;QAC9B,YAAY;QACZ,cAAS,GAAS,KAAK,CAAC;IAC5B,CAAC;IAAD,sBAAC;AAAD,CA3BA,AA2BC,IAAA;AA3BY,0CAAe;AA4B5B,YAAY;AACZ;IAAA;QACI,eAAe;QACf,iBAAY,GAAQ,CAAC,CAAC;QACtB,eAAe;QACf,kBAAa,GAAQ,CAAC,CAAC;QACvB,eAAe;QACf,iBAAY,GAAQ,CAAC,CAAC;QACtB,YAAY;QACZ,cAAS,GAAS,KAAK,CAAC;IAC5B,CAAC;IAAD,wBAAC;AAAD,CATA,AASC,IAAA;AATY,8CAAiB;AAW9B;IAAA;QAGI,IAAI;QACI,kBAAa,GAAW,IAAI,CAAC;QAC7B,kBAAa,GAAW,IAAI,CAAC;QAC7B,iBAAY,GAAgB,IAAI,CAAC;QACjC,kBAAa,GAAgB,IAAI,CAAC;QAC1C,4CAA4C;QACpC,YAAO,GAA4B,IAAI,CAAC;QACxC,kBAAa,GAAW,IAAI,CAAC;QACrC,MAAM;QACE,cAAS,GAAsB,IAAI,CAAC;QAC5C,kCAAkC;QAClC,oCAAoC;QAC5B,cAAS,GAAc,EAAE,CAAC;QAElC,mDAAmD;QAC5C,mBAAc,GAAe,CAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,CAAC,CAAC;IAu4ChE,CAAC;IAr4CiB,uBAAW,GAAzB;QACI,IAAG,IAAI,CAAC,SAAS,IAAE,IAAI,EAAE;YACrB,IAAI,CAAC,SAAS,GAAC,IAAI,WAAW,EAAE,CAAC;YACjC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;SACzB;QACD,OAAO,IAAI,CAAC,SAAS,CAAC;IAC1B,CAAC;IACD,SAAS;IACD,0BAAI,GAAZ;QACI,kCAAmB,CAAC,WAAW,EAAE,CAAC;QAClC,gCAAkB,CAAC,WAAW,EAAE,CAAC;QACjC,wBAAc,CAAC,WAAW,EAAE,CAAC;QAC7B,0CAAuB,CAAC,WAAW,EAAE,CAAC;QACtC,oCAAoB,CAAC,WAAW,EAAE,CAAC;QACnC,8CAAyB,CAAC,WAAW,EAAE,CAAC;QACxC,4BAAgB,CAAC,WAAW,EAAE,CAAC;QAC/B,gDAA0B,CAAC,WAAW,EAAE,CAAC;QACzC,kCAAmB,CAAC,WAAW,EAAE,CAAA;QACjC,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,0BAA0B;QAC1B,IAAI,CAAC,OAAO,EAAE,CAAC;QACf,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IACD,2DAA2D;IACnD,oCAAc,GAAtB;QAAA,iBAWC;QAVG,IAAG,IAAI,CAAC,aAAa;YACrB,OAAO;QACP,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,qBAAqB,EAAC,EAAE,CAAC,MAAM,EAAC,UAAC,KAAY,EAAE,MAAgB;YAC7E,IAAG,KAAK,EACR;gBACI,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBACnB,OAAO;aACV;YACD,KAAI,CAAC,aAAa,GAAC,MAAM,CAAC;QAC9B,CAAC,CAAC,CAAC;IACP,CAAC;IAEO,oCAAc,GAAtB;QAAA,iBAWC;QAVG,IAAG,IAAI,CAAC,aAAa;YACrB,OAAO;QACP,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,qBAAqB,EAAC,EAAE,CAAC,MAAM,EAAC,UAAC,KAAY,EAAE,MAAgB;YAC7E,IAAG,KAAK,EACR;gBACI,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBACnB,OAAO;aACV;YACD,KAAI,CAAC,aAAa,GAAC,MAAM,CAAC;QAC9B,CAAC,CAAC,CAAC;IACP,CAAC;IAEO,wCAAkB,GAA1B;QAAA,iBAWC;QAVG,IAAG,IAAI,CAAC,aAAa;YACrB,OAAO;QACP,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,qBAAqB,EAAC,EAAE,CAAC,MAAM,EAAC,UAAC,KAAY,EAAE,MAAgB;YAC7E,IAAG,KAAK,EACR;gBACI,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBACnB,OAAO;aACV;YACD,KAAI,CAAC,aAAa,GAAC,MAAM,CAAC;QAC9B,CAAC,CAAC,CAAC;IACP,CAAC;IAEO,4BAAM,GAAd;QAAA,iBAYC;QAXG,IAAG,IAAI,CAAC,YAAY;YACpB,OAAO;QACP,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,oBAAoB,EAAC,EAAE,CAAC,WAAW,EAAC,UAAC,KAAY,EAAE,MAAqB;YACtF,IAAG,KAAK,EACR;gBACI,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBACnB,OAAO;aACV;YACD,wCAAwC;YACxC,KAAI,CAAC,YAAY,GAAC,MAAM,CAAC;QAC7B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,wBAAwB;IACxB,0BAA0B;IAC1B,cAAc;IACd,gGAAgG;IAChG,oBAAoB;IACpB,YAAY;IACZ,kCAAkC;IAClC,sBAAsB;IACtB,YAAY;IACZ,mDAAmD;IACnD,8CAA8C;IAC9C,UAAU;IACV,IAAI;IAEI,6BAAO,GAAf;QAAA,iBAYC;QAXG,IAAG,IAAI,CAAC,aAAa;YACrB,OAAO;QACP,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,EAAC,EAAE,CAAC,WAAW,EAAC,UAAC,KAAY,EAAE,MAAqB;YAC9E,IAAG,KAAK,EACR;gBACI,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBACnB,OAAO;aACV;YACD,wCAAwC;YACxC,KAAI,CAAC,aAAa,GAAC,MAAM,CAAC;QAC9B,CAAC,CAAC,CAAC;IACP,CAAC;IACD,YAAY;IACJ,8BAAQ,GAAhB;QAAA,iBAuBC;QAtBG,IAAG,IAAI,CAAC,OAAO,EAAC;YACZ,OAAO;SACV;QACD,IAAI,CAAC,OAAO,GAAC,IAAI,GAAG,EAAyB,CAAC;QAC9C,EAAE,CAAC,SAAS,CAAC,OAAO,CAAC,YAAY,EAAC,EAAE,CAAC,WAAW,EAAC,UAAC,KAAY,EAAE,MAAuB;YACnF,IAAG,KAAK,EACR;gBACI,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBACnB,OAAO;aACV;YACD,IAAI,GAAG,GAAC,MAAM,CAAC,MAAM,CAAC;YACtB,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,GAAG,EAAE,CAAC,EAAE,EACvB;gBACI,IAAI,EAAE,GAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBACjB,IAAI,IAAI,GAAC,EAAE,CAAC,IAAI,CAAC;gBACjB,IAAI,KAAK,GAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBAChC,IAAG,KAAK,IAAE,CAAC,CAAC,EAAC;oBACT,IAAI,MAAM,GAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,GAAC,CAAC,CAAC,CAAC,CAAC;oBAC7C,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAC,EAAE,CAAC,CAAC;iBAC/B;aACJ;QACL,CAAC,CAAC,CAAA;IACN,CAAC;IAGM,0CAAoB,GAA3B,UAA4B,GAAU;QAClC,OAAO,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;IACjD,CAAC;IACD,8DAA8D;IAC9D,kDAAkD;IAClD,IAAI;IACG,2CAAqB,GAA5B,UAA6B,GAAU;QACnC,OAAO,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;IAClD,CAAC;IAGM,wCAAkB,GAAzB,UAA0B,QAAkB;QACxC,OAAO,IAAI,CAAC,oBAAoB,CAAC,MAAM,GAAC,QAAQ,CAAC,CAAC;IACtD,CAAC;IACM,yCAAmB,GAA1B,UAA2B,QAAkB;QACzC,OAAO,IAAI,CAAC,qBAAqB,CAAC,cAAc,GAAC,QAAQ,CAAC,CAAC;IAC/D,CAAC;IACD,iBAAiB;IACV,iCAAW,GAAlB,UAAmB,MAAgB;QAC/B,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IACpC,CAAC;IACD,6DAA6D;IAE7D,oCAAc,GAAd;QACI,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,eAAe,EAAE,CAAC;IAC3B,CAAC;IACD;;OAEG;IACH,kCAAY,GAAZ;QACI,kCAAiB,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,0BAAU,CAAC,QAAQ,EAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC5E,uBAAuB;QACvB,IAAI,CAAC,eAAe,EAAE,CAAC;IAC3B,CAAC;IAED,oCAAc,GAAd;QACI,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAC,CAAC,EAAC,CAAC;YACvB,IAAI,UAAU,GAAc,IAAI,wBAAU,EAAE,CAAC;YAC7C,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,SAAS,CAAC;YAChC,UAAU,CAAC,SAAS,GAAG,CAAC,CAAC,UAAU,CAAC;YACpC,UAAU,CAAC,SAAS,GAAG,CAAC,CAAC,UAAU,CAAC;YACpC,UAAU,CAAC,eAAe,GAAG,CAAC,CAAC,qBAAqB,CAAC;YACrD,UAAU,CAAC,OAAO,GAAG,CAAC,CAAC,KAAK,CAAC;YAC7B,UAAU,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;YAC3B,UAAU,CAAC,WAAW,GAAG,CAAC,CAAC,KAAK,CAAC;YACjC,UAAU,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;YAC3B,UAAU,CAAC,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC;YAC1B,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAC;QACH,yBAAW,CAAC,IAAI,CAAC,wBAAU,CAAC,cAAc,EAAC,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,EAAC,KAAK,CAAC,CAAC;QACnF,kCAAiB,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,0BAAU,CAAC,QAAQ,EAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAChF,CAAC;IAED;;OAEG;IACH,kCAAY,GAAZ;QAAA,iBAgGC;QA/FG,IAAI,CAAC,SAAS,GAAG,IAAI,KAAK,EAAE,CAAC;QAC7B,IAAI,IAAI,GAAG,mBAAQ,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC;QAC3C,IAAI,CAAC,OAAO,CAAC,UAAC,CAAC,EAAC,CAAC;YACb,IAAI,QAAQ,GAAG,IAAI,qBAAQ,EAAE,CAAC;YAC9B,QAAQ,CAAC,SAAS,GAAC,CAAC,CAAC,MAAM,CAAC;YAC5B,QAAQ,CAAC,UAAU,GAAC,CAAC,CAAC,SAAS,CAAC;YAChC,QAAQ,CAAC,UAAU,GAAC,CAAC,CAAC,SAAS,CAAC;YAChC,QAAQ,CAAC,qBAAqB,GAAC,CAAC,CAAC,eAAe,CAAC;YACjD,QAAQ,CAAC,KAAK,GAAC,CAAC,CAAC,OAAO,CAAC;YACzB,QAAQ,CAAC,KAAK,GAAC,CAAC,CAAC,KAAK,CAAC;YACvB,QAAQ,CAAC,KAAK,GAAC,CAAC,CAAC,WAAW,CAAC;YAC7B,QAAQ,CAAC,KAAK,GAAC,CAAC,CAAC,KAAK,CAAC;YACvB,QAAQ,CAAC,MAAM,GAAC,CAAC,CAAC,GAAG,CAAC;YACtB,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;QACH,kCAAiB,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,0BAAU,CAAC,QAAQ,EAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC5E,0EAA0E;QAC1E,YAAY;QACZ,wCAAwC;QACxC,yCAAyC;QACzC,8BAA8B;QAC9B,uEAAuE;QACvE,iDAAiD;QACjD,qDAAqD;QACrD,+CAA+C;QAC/C,yCAAyC;QACzC,gDAAgD;QAChD,2DAA2D;QAC3D,iDAAiD;QACjD,YAAY;QAEZ,yCAAyC;QACzC,QAAQ;QACR,IAAI;QACJ,iGAAiG;QACjG,gBAAgB;QAChB,wCAAwC;QACxC,yBAAyB;QACzB,gCAAgC;QACpB,iCAAiC;QACjC,+BAA+B;QAC/B,mCAAmC;QACnC,mCAAmC;QACnC,oDAAoD;QACpD,4BAA4B;QAC5B,0BAA0B;QAC1B,gCAAgC;QAChC,0BAA0B;QAC1B,yBAAyB;QACzB,sBAAsB;QAClC,cAAc;QACd,iCAAiC;QACjC,0CAA0C;QAC1C,6CAA6C;QAC7C,kDAAkD;QAClD,uCAAuC;QACvC,wGAAwG;QACxG,uCAAuC;QACvC,uDAAuD;QACvD,mCAAmC;QACnC,6CAA6C;QAC7C,4CAA4C;QAC5C,iDAAiD;QACjD,sCAAsC;QACtC,sGAAsG;QACtG,sCAAsC;QACtC,qDAAqD;QACrD,kCAAkC;QAClC,4CAA4C;QAC5C,YAAY;QACZ,kCAAkC;QAClC,uFAAuF;QACvF,uCAAuC;QACvC,oCAAoC;QACpC,QAAQ;QACR,MAAM;QACN,QAAQ;QACR,qCAAqC;QACrC,0CAA0C;QAC1C,+BAA+B;QAC/B,gGAAgG;QAChG,+BAA+B;QAC/B,+CAA+C;QAC/C,2BAA2B;QAC3B,qCAAqC;QACrC,oCAAoC;QACpC,yCAAyC;QACzC,8BAA8B;QAC9B,8FAA8F;QAC9F,8BAA8B;QAC9B,6CAA6C;QAC7C,0BAA0B;QAC1B,oCAAoC;QACpC,2BAA2B;QAC3B,IAAI;IACR,CAAC;IACD;;;OAGG;IACH,iCAAW,GAAX;QACI,OAAO,IAAI,CAAC,SAAS,CAAC;IAC1B,CAAC;IAED,WAAW;IACX,6BAAO,GAAP,UAAQ,QAAkB;QACtB,IAAI,QAAQ,GAAG,IAAI,qBAAQ,EAAE,CAAC;QAC9B,QAAQ,CAAC,SAAS,GAAG,QAAQ,CAAC;QAC9B,QAAQ,CAAC,UAAU,GAAG,CAAC,CAAC;QACxB,QAAQ,CAAC,YAAY,GAAG,kCAAmB,CAAC,WAAW,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;QAC/E,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;QACpB,QAAQ,CAAC,UAAU,GAAG,CAAC,CAAC;QACxB,QAAQ,CAAC,qBAAqB,GAAG,CAAC,CAAC;QACnC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC9B,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,qBAAW,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,mBAAQ,CAAC,QAAQ,CAAC,CAAC;IAC1D,CAAC;IACD;;;;OAIG;IACI,iCAAW,GAAlB,UAAmB,QAAkB;QAEjC,sCAAsC;QACtC,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC;QACf,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAC,CAAC,EAAC,CAAC;YACvB,IAAG,CAAC,CAAC,SAAS,IAAI,QAAQ,EAAC;gBACvB,KAAK,GAAG,CAAC,CAAC;aACb;QACL,CAAC,CAAC,CAAA;QACF,IAAG,KAAK,GAAG,CAAC,EAAC;YACT,OAAO,IAAI,CAAC;SACf;QACD,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IACjC,CAAC;IAED,UAAU;IACH,kCAAY,GAAnB,UAAoB,QAAkB;QAElC,IAAI,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAA;QACrC,IAAG,IAAI,IAAI,IAAI;YAAE,OAAO,IAAI,CAAC;QAC7B,OAAO,IAAI,CAAC,UAAU,CAAC;IAC3B,CAAC;IACD,YAAY;IACL,kCAAY,GAAnB,UAAoB,QAAkB;QAElC,IAAI,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAA;QACrC,IAAG,IAAI,IAAI,IAAI;YAAE,OAAO,IAAI,CAAC;QAC7B,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAG,IAAI,CAAC,UAAU,IAAI,EAAE,EAAC;YACrB,qBAAW,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,mBAAQ,CAAC,YAAY,CAAC,CAAC;SAC7D;QACD,IAAG,IAAI,CAAC,UAAU,GAAG,qBAAW,CAAC,WAAW,EAAE,CAAC,kBAAkB,CAAC,mBAAQ,CAAC,UAAU,CAAC,EAAC;YACnF,qBAAW,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,mBAAQ,CAAC,UAAU,CAAC,CAAC;SAC3D;QACD,IAAG,IAAI,CAAC,UAAU,IAAI,kCAAmB,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,EAAC;YAC1E,IAAI,CAAC,UAAU,GAAG,kCAAmB,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;SAC7E;QACD,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IACD,YAAY;IACL,mCAAa,GAApB,UAAqB,QAAkB;QACnC,IAAI,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACtC,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IACD,UAAU;IACH,oCAAc,GAArB,UAAsB,QAAkB;QAEpC,IAAI,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAA;QACrC,IAAG,IAAI,IAAI,IAAI;YAAE,OAAO,IAAI,CAAC;QAC7B,OAAO,IAAI,CAAC,YAAY,CAAC;IAC7B,CAAC;IACD;;;;OAIG;IACH,4CAAsB,GAAtB,UAAuB,QAAkB;QACrC,IAAI,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAA;QACrC,IAAG,IAAI,IAAI,IAAI;YAAE,OAAO,IAAI,CAAC;QAC7B,OAAO,IAAI,CAAC,qBAAqB,CAAC;IACtC,CAAC;IACD;;;OAGG;IACH,4CAAsB,GAAtB,UAAuB,QAAkB;QACrC,IAAI,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAA;QACrC,IAAI,CAAC,qBAAqB,EAAG,CAAC;QAC9B,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IACD;;;;OAIG;IACH,4CAAsB,GAAtB,UAAuB,QAAkB,EAAC,GAAU;QAChD,IAAI,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAA;QACrC,IAAG,IAAI,IAAI,IAAI;YAAE,OAAO,IAAI,CAAC;QAC7B,IAAI,CAAC,qBAAqB,GAAG,GAAG,CAAC;QACjC,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IACD;;;;OAIG;IACH,kCAAY,GAAZ,UAAa,QAAkB;QAC3B,IAAI,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACtC,IAAG,IAAI,IAAI,IAAI;YAAE,OAAO,IAAI,CAAC;QAC7B,OAAO,IAAI,CAAC,UAAU,CAAC;IAC3B,CAAC;IAED,kCAAY,GAAZ,UAAa,QAAkB;QAC3B,IAAI,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACtC,IAAI,CAAC,UAAU,EAAG,CAAC;QACnB,IAAG,QAAQ,IAAI,sBAAS,CAAC,OAAO,IAAI,IAAI,CAAC,UAAU,IAAI,CAAC,EAAC;YACrD,qBAAW,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,mBAAQ,CAAC,QAAQ,CAAC,CAAC;SACzD;QACD,IAAG,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC;eACpB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,GAAG,qBAAW,CAAC,WAAW,EAAE,CAAC,kBAAkB,CAAC,mBAAQ,CAAC,UAAU,CAAC,EAAE;YACpG,qBAAW,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,mBAAQ,CAAC,UAAU,CAAC,CAAC;SAC/D;QACD,IAAG,IAAI,CAAC,UAAU,IAAI,kCAAmB,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,EAAC;YAC1E,IAAI,CAAC,UAAU,GAAG,kCAAmB,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;SAC7E;QACD,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IAED,0CAAoB,GAApB,UAAqB,QAAkB;QAEnC,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,wBAAwB;IACxB,uDAAuD;IACvD,IAAI;IACJ,6CAA6C;IAC7C,0CAA0C;IAC1C,iDAAiD;IACjD,iDAAiD;IACjD,IAAI;IAEJ,wDAAwD;IACxD,YAAY;IACZ,6CAA6C;IAC7C,QAAQ;IACR,8CAA8C;IAC9C,QAAQ;IACR,6CAA6C;IAC7C,6BAA6B;IAC7B,uCAAuC;IACvC,IAAI;IAEJ,iCAAW,GAAX,UAAY,IAAa;QAErB,IAAI,IAAI,GAAC,IAAI,KAAK,EAAE,CAAC;QACrB,KAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,CAAC,EAAC,CAAC,EAAE,EACnB;YACI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;SACjB;QACD,IAAI,OAAO,GAAQ,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,GAAC,IAAI,CAAC,CAAC;QAClE,IAAG,OAAO,KAAG,EAAE,IAAI,OAAO,KAAG,IAAI,EACjC;YACI,IAAG,IAAI,IAAE,oBAAQ,CAAC,IAAI,EAAC;gBACnB,8BAA8B;gBAC9B,gCAAgC;gBAChC,+BAA+B;gBAC/B,IAAI,CAAC,CAAC,CAAC,GAAC,CAAC,sBAAS,CAAC,QAAQ,CAAC,CAAC;gBAC7B,IAAI,CAAC,YAAY,CAAC,IAAI,EAAC,IAAI,CAAC,CAAC;aAChC;iBAAI;gBACD,IAAI,GAAC,IAAI,CAAC,WAAW,CAAC,oBAAQ,CAAC,IAAI,CAAC,CAAC;aACxC;SAEJ;aAAI;YACD,IAAI,IAAI,GAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC5B,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAC/B;gBACI,IAAI,QAAQ,GAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC/B,IAAI,MAAM,GAAC,QAAQ,GAAC,CAAC,IAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAC,CAAC,CAAC;gBACrD,IAAI,CAAC,CAAC,CAAC,GAAC,MAAM,CAAA,CAAC,CAAA,QAAQ,CAAA,CAAC,CAAA,CAAC,CAAC,CAAC;aAC9B;SACJ;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,kCAAY,GAAZ,UAAa,IAAa,EAAC,IAAgB;QAEvC,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,GAAC,IAAI,EAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;IACnE,CAAC;IAED,WAAW;IACX,qCAAe,GAAf;QAEI,oBAAoB;QACpB,IAAI,CAAC,SAAS,GAAC,IAAI,GAAG,EAAmB,CAAC;QAC1C,IAAI,QAAQ,GAAG,WAAW,CAAC,WAAW,EAAE,CAAC,WAAW,EAAE,CAAC;QACvD,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EACnC;YACI,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;SAC5C;IACL,CAAC;IAED,kCAAY,GAAZ,UAAa,QAAkB;QAE3B,sCAAsC;QACtC,mBAAmB;QACnB,IAAI;QACJ,IAAI,OAAO,GAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACzC,IAAG,CAAC,OAAO,EAAC;YACR,OAAO,GAAC,IAAI,mBAAQ,EAAE,CAAC;SAC1B;QACD,SAAS;QACT,IAAI,MAAM,GAAG,CAAC,EAAC,UAAU,GAAG,CAAC,EAAC,SAAS,GAAG,CAAC,EAAC,MAAM,GAAG,CAAC,EAAC,OAAO,GAAG,CAAC,EAAC,WAAW,GAAG,CAAC,EAAC,eAAe,GAAG,CAAC,EAAC,gBAAgB,GAAG,CAAC,EAAC,oBAAoB,GAAG,CAAC,CAAC;QACrJ,UAAU;QACV,IAAI,IAAI,GAAG,CAAC,EAAC,QAAQ,GAAG,CAAC,EAAC,SAAS,GAAG,CAAC,CAAC;QACxC,QAAQ;QACR,IAAI,aAAa,GAAqB,oCAAoB,CAAC,WAAW,EAAE,CAAC,6BAA6B,CAAC,QAAQ,EAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC;QAC7I,IAAI,QAAQ,GAAY,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QAEnD,OAAO,CAAC,QAAQ,GAAG,CAAC,QAAQ,CAAC,UAAU,GAAG,aAAa,CAAC,YAAY,CAAC,GAAG,aAAa,CAAC,UAAU,CAAC;QACjG,OAAO,CAAC,WAAW,GAAG,CAAC,QAAQ,CAAC,UAAU,GAAG,aAAa,CAAC,YAAY,CAAC,GAAG,aAAa,CAAC,UAAU,CAAC;QACpG,OAAO,CAAC,WAAW,GAAG,CAAC,QAAQ,CAAC,UAAU,GAAG,aAAa,CAAC,aAAa,CAAC,GAAG,aAAa,CAAC,WAAW,CAAC;QACtG,WAAW;QACX,IAAI,OAAO,GAAG,IAAI,CAAC,sBAAsB,CAAC,QAAQ,CAAC,CAAA;QACnD,IAAG,OAAO,GAAG,CAAC,EAAC;YACX,IAAI,UAAU,GAAG,kDAA2B,CAAC,WAAW,EAAE,CAAC,6BAA6B,CAAC,QAAQ,EAAC,OAAO,CAAC,CAAC;YAC3G,IAAI,GAAG,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC;YAC9C,QAAQ,GAAG,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG,OAAO,CAAC,WAAW,CAAC;YACrD,SAAS,GAAG,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC,WAAW,CAAC;SAC1D;QAED,SAAS;QACT,IAAI,KAAK,GAAG,WAAW,CAAC,WAAW,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;QAC3D,IAAG,KAAK,IAAE,CAAC,EAAC;YACR,IAAI,OAAO,GAAG,wCAAsB,CAAC,WAAW,EAAE,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC;YACjF,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;YACxB,UAAU,GAAG,OAAO,CAAC,OAAO,CAAC;YAC7B,SAAS,GAAG,OAAO,CAAC,MAAM,CAAC;YAC3B,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC;YACrB,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC;YACvB,WAAW,GAAG,OAAO,CAAC,QAAQ,CAAC;YAC/B,eAAe,GAAG,OAAO,CAAC,YAAY,CAAC;YACvC,gBAAgB,GAAG,OAAO,CAAC,aAAa,CAAC;YACzC,oBAAoB,GAAG,OAAO,CAAC,iBAAiB,CAAC;SACpD;QACD,OAAO,CAAC,MAAM,GAAC,KAAK,CAAC;QACrB,MAAM;QACN,OAAO,CAAC,GAAG,GAAG,aAAa,CAAC,GAAG,GAAG,MAAM,CAAC;QACzC,MAAM;QACN,OAAO,CAAC,IAAI,GAAG,aAAa,CAAC,IAAI,GAAG,OAAO,CAAC;QAC5C,MAAM;QACN,OAAO,CAAC,QAAQ,GAAG,aAAa,CAAC,QAAQ,GAAG,WAAW,CAAC;QACxD,MAAM;QACN,OAAO,CAAC,YAAY,GAAG,aAAa,CAAC,YAAY,GAAG,eAAe,CAAC;QACpE,OAAO;QACP,OAAO,CAAC,aAAa,GAAG,aAAa,CAAC,aAAa,GAAG,gBAAgB,CAAC;QACvE,OAAO;QACP,OAAO,CAAC,iBAAiB,GAAG,aAAa,CAAC,iBAAiB,GAAG,oBAAoB,CAAC;QAEnF,KAAK;QACL,IAAI,IAAI,GAAG,kCAAmB,CAAC,WAAW,EAAE,CAAC;QAC7C,OAAO,CAAC,WAAW,GAAG,CAAC,GAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QACpD,OAAO,CAAC,aAAa,GAAG,CAAC,GAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QACtD,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QAC/C,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;QACzD,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QAEtD,OAAO;QACP,IAAI,WAAW,GAAG,CAAC,EAAC,YAAY,GAAG,CAAC,EAAC,gBAAgB,GAAG,CAAC,CAAC;QAC1D,KAAI,IAAI,CAAC,GAAG,uBAAS,CAAC,IAAI,EAAC,CAAC,GAAC,uBAAS,CAAC,GAAG,EAAC,CAAC,EAAE,EAAC;YAC3C,IAAI,UAAU,GAAG,QAAQ,CAAC,MAAM,GAAC,CAAC,CAAC,CAAC;YACpC,IAAG,UAAU,IAAI,CAAC,EAAC;gBACf,IAAI,UAAU,GAAG,mCAAgB,CAAC,WAAW,EAAE,CAAC,uBAAuB,CAAC,UAAU,CAAC,CAAC;gBACpF,YAAY,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC;gBAC9B,gBAAgB,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC;gBAClC,WAAW,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC;aAChC;SACJ;QAED,OAAO;QACP,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC,YAAY,GAAG,OAAO,CAAC,WAAW,GAAG,YAAY,GAAG,MAAM,GAAG,QAAQ,CAAC;QAC/F,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC,QAAQ,GAAG,OAAO,CAAC,QAAQ,GAAG,WAAW,GAAG,SAAS,GAAG,IAAI,CAAC;QACtF,OAAO,CAAC,OAAO,GAAG,OAAO,CAAC,aAAa,GAAG,OAAO,CAAC,WAAW,GAAG,gBAAgB,GAAG,UAAU,GAAG,SAAS,CAAC;QAE1G,IAAI,IAAI,GAAG,oCAAoB,CAAC,WAAW,EAAE,CAAC,yBAAyB,CAAC,QAAQ,EAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;QAE1G,OAAO,CAAC,QAAQ,GAAC,IAAI,GAAG,EAAiB,CAAC;QAC1C,OAAO,CAAC,YAAY,GAAC,IAAI,GAAG,EAAiB,CAAC;QAC9C,OAAO,CAAC,YAAY,GAAC,IAAI,GAAG,EAAiB,CAAC;QAC9C,OAAO,CAAC,YAAY,GAAC,IAAI,GAAG,EAAiB,CAAC;QAC9C,OAAO,CAAC,YAAY,GAAC,IAAI,GAAG,EAAiB,CAAC;QAC9C,OAAO,CAAC,YAAY,GAAC,IAAI,GAAG,EAAkB,CAAC;QAC/C,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,IAAE,CAAC,EAAE,CAAC,EAAE,EAAC;YACnB,IAAI,QAAQ,GAAC,8CAAyB,CAAC,WAAW,EAAE,CAAC,6CAA6C,CAAC,QAAQ,EAAC,CAAC,EAAC,IAAI,CAAC,CAAC;YACpH,IAAG,QAAQ,IAAI,IAAI;gBAAE,SAAS;YAC9B,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YAClD,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YAClD,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YAClD,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YAClD,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,EAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YAC1C,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAC,QAAQ,CAAC,UAAU,IAAE,0CAAuB,CAAC,WAAW,EAAE,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;SAC1G;QACD,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,IAAE,CAAC,EAAE,CAAC,EAAE,EAAC;YACnB,IAAG,OAAO,GAAC,CAAC,EAAC;gBACT,IAAI,IAAI,GAAC,kDAA2B,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,QAAQ,EAAC,OAAO,CAAC,CAAC;gBAC3E,IAAI,MAAM,GAAC,kDAA2B,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBACnE,IAAI,SAAS,GAAC,kDAA2B,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,QAAQ,EAAC,MAAM,GAAC,CAAC,CAAC,CAAC;gBACjF,IAAI,QAAQ,GAAC,kDAA2B,CAAC,WAAW,EAAE,CAAC,2BAA2B,CAAC,SAAS,CAAC,CAAC;gBAC9F,IAAG,QAAQ,IAAI,IAAI;oBAAE,SAAS;gBAC9B,OAAO,CAAC,4BAA4B,GAAC,CAAC,CAAC,GAAC,QAAQ,CAAC,4BAA4B,GAAC,CAAC,CAAC,CAAC;aACpF;SACJ;QACD,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,EAAC,OAAO,CAAC,CAAC;QACrC,OAAO,OAAO,CAAC;QAEf,kCAAkC;QAClC,SAAS;QACT,6CAA6C;QAC7C,mDAAmD;QACnD,wEAAwE;QACxE,4DAA4D;QAC5D,8EAA8E;QAC9E,uEAAuE;QACvE,aAAa;QACb,6BAA6B;QAC7B,qBAAqB;QACrB,gBAAgB;QAChB,4BAA4B;QAC5B,YAAY;QACZ,yBAAyB;QACzB,YAAY;QACZ,wBAAwB;QACxB,0CAA0C;QAC1C,mDAAmD;QACnD,kDAAkD;QAClD,IAAI;QACJ,6DAA6D;QAC7D,wBAAwB;QACxB,QAAQ;QACR,8EAA8E;QAC9E,kBAAkB;QAClB,wCAAwC;QACxC,kDAAkD;QAClD,0CAA0C;QAC1C,wCAAwC;QACxC,QAAQ;QACR,IAAI;QACJ,SAAS;QACT,eAAe;QACf,mBAAmB;QACnB,mBAAmB;QACnB,iBAAiB;QACjB,qBAAqB;QACrB,0BAA0B;QAC1B,yBAAyB;QACzB,8BAA8B;QAC9B,gBAAgB;QAChB,KAAK;QACL,wBAAwB;QACxB,yEAAyE;QACzE,4BAA4B;QAC5B,iCAAiC;QACjC,gCAAgC;QAChC,4BAA4B;QAC5B,oCAAoC;QACpC,8CAA8C;QAC9C,4CAA4C;QAC5C,sDAAsD;QACtD,0BAA0B;QAC1B,IAAI;QACJ,wCAAwC;QACxC,cAAc;QACd,mBAAmB;QACnB,kBAAkB;QAClB,gBAAgB;QAChB,oBAAoB;QACpB,yBAAyB;QACzB,wBAAwB;QACxB,6BAA6B;QAC7B,eAAe;QACf,SAAS;QACT,kDAAkD;QAClD,kDAAkD;QAClD,oGAAoG;QACpG,kGAAkG;QAClG,8BAA8B;QAC9B,oCAAoC;QACpC,kCAAkC;QAClC,8BAA8B;QAC9B,sCAAsC;QACtC,gDAAgD;QAChD,8CAA8C;QAC9C,wDAAwD;QACxD,4BAA4B;QAC5B,2BAA2B;QAC3B,6JAA6J;QAC7J,0GAA0G;QAC1G,uFAAuF;QACvF,uFAAuF;QACvF,uFAAuF;QACvF,uFAAuF;QACvF,IAAI;QAEJ,oBAAoB;QACpB,kBAAkB;QAClB,0CAA0C;QAC1C,yBAAyB;QACzB,iCAAiC;QACjC,2BAA2B;QAC3B,4CAA4C;QAC5C,+CAA+C;QAC/C,qCAAqC;QACrC,iFAAiF;QACjF,yEAAyE;QACzE,kCAAkC;QAClC,WAAW;QACX,+CAA+C;QAC/C,qBAAqB;QACrB,4CAA4C;QAC5C,QAAQ;QACR,mCAAmC;QACnC,sDAAsD;QACtD,gDAAgD;QAChD,QAAQ;QACR,6BAA6B;QAC7B,iDAAiD;QACjD,iEAAiE;QACjE,mCAAmC;QACnC,QAAQ;QACR,2BAA2B;QAC3B,oCAAoC;QACpC,QAAQ;QACR,6BAA6B;QAC7B,iCAAiC;QACjC,uCAAuC;QACvC,QAAQ;QACR,qCAAqC;QACrC,wDAAwD;QACxD,SAAS;QACT,+CAA+C;QAC/C,4DAA4D;QAC5D,kEAAkE;QAClE,QAAQ;QACR,6CAA6C;QAC7C,yDAAyD;QACzD,+DAA+D;QAC/D,SAAS;QACT,uDAAuD;QACvD,wEAAwE;QACxE,8EAA8E;QAC9E,KAAK;QACL,6CAA6C;QAC7C,iDAAiD;QACjD,iDAAiD;QACjD,iDAAiD;QACjD,yDAAyD;QACzD,WAAW;QACX,2BAA2B;QAC3B,uFAAuF;QACvF,wBAAwB;QACxB,mEAAmE;QACnE,8EAA8E;QAC9E,wGAAwG;QACxG,6DAA6D;QAC7D,6DAA6D;QAC7D,6DAA6D;QAC7D,6DAA6D;QAC7D,qDAAqD;QACrD,aAAa;QAEb,QAAQ;QACR,IAAI;QACJ,wCAAwC;QACxC,kBAAkB;IACtB,CAAC;IAED,wCAAkB,GAAlB,UAAmB,QAAiB;QAChC,IAAI,OAAO,GAAC,IAAI,mBAAQ,EAAE,CAAC;QAC3B,SAAS;QACT,IAAI,MAAM,GAAG,CAAC,EAAC,UAAU,GAAG,CAAC,EAAC,SAAS,GAAG,CAAC,EAAC,MAAM,GAAG,CAAC,EAAC,OAAO,GAAG,CAAC,EAAC,WAAW,GAAG,CAAC,EAAC,eAAe,GAAG,CAAC,EAAC,gBAAgB,GAAG,CAAC,EAAC,oBAAoB,GAAG,CAAC,CAAC;QACrJ,UAAU;QACV,IAAI,IAAI,GAAG,CAAC,EAAC,QAAQ,GAAG,CAAC,EAAC,SAAS,GAAG,CAAC,CAAC;QACxC,QAAQ;QACR,IAAI,aAAa,GAAqB,oCAAoB,CAAC,WAAW,EAAE,CAAC,6BAA6B,CAAC,QAAQ,CAAC,SAAS,EAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QAE/I,OAAO,CAAC,QAAQ,GAAG,CAAC,QAAQ,CAAC,UAAU,GAAG,aAAa,CAAC,YAAY,CAAC,GAAG,aAAa,CAAC,UAAU,CAAC;QACjG,OAAO,CAAC,WAAW,GAAG,CAAC,QAAQ,CAAC,UAAU,GAAG,aAAa,CAAC,YAAY,CAAC,GAAG,aAAa,CAAC,UAAU,CAAC;QACpG,OAAO,CAAC,WAAW,GAAG,CAAC,QAAQ,CAAC,UAAU,GAAG,aAAa,CAAC,aAAa,CAAC,GAAG,aAAa,CAAC,WAAW,CAAC;QACtG,WAAW;QACX,IAAI,OAAO,GAAG,QAAQ,CAAC,qBAAqB,CAAC;QAC7C,IAAG,OAAO,GAAG,CAAC,EAAC;YACX,IAAI,UAAU,GAAG,kDAA2B,CAAC,WAAW,EAAE,CAAC,6BAA6B,CAAC,QAAQ,CAAC,SAAS,EAAC,OAAO,CAAC,CAAC;YACrH,IAAI,GAAG,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC;YAC9C,QAAQ,GAAG,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG,OAAO,CAAC,WAAW,CAAC;YACrD,SAAS,GAAG,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC,WAAW,CAAC;SAC1D;QAED,SAAS;QACT,IAAI,KAAK,GAAG,QAAQ,CAAC,MAAM,CAAC;QAC5B,IAAG,KAAK,IAAE,CAAC,EAAC;YACR,IAAI,OAAO,GAAG,wCAAsB,CAAC,WAAW,EAAE,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC;YACjF,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;YACxB,UAAU,GAAG,OAAO,CAAC,OAAO,CAAC;YAC7B,SAAS,GAAG,OAAO,CAAC,MAAM,CAAC;YAC3B,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC;YACrB,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC;YACvB,WAAW,GAAG,OAAO,CAAC,QAAQ,CAAC;YAC/B,eAAe,GAAG,OAAO,CAAC,YAAY,CAAC;YACvC,gBAAgB,GAAG,OAAO,CAAC,aAAa,CAAC;YACzC,oBAAoB,GAAG,OAAO,CAAC,iBAAiB,CAAC;SACpD;QACD,OAAO,CAAC,MAAM,GAAC,KAAK,CAAC;QACrB,MAAM;QACN,OAAO,CAAC,GAAG,GAAG,aAAa,CAAC,GAAG,GAAG,MAAM,CAAC;QACzC,MAAM;QACN,OAAO,CAAC,IAAI,GAAG,aAAa,CAAC,IAAI,GAAG,OAAO,CAAC;QAC5C,MAAM;QACN,OAAO,CAAC,QAAQ,GAAG,aAAa,CAAC,QAAQ,GAAG,WAAW,CAAC;QACxD,MAAM;QACN,OAAO,CAAC,YAAY,GAAG,aAAa,CAAC,YAAY,GAAG,eAAe,CAAC;QACpE,OAAO;QACP,OAAO,CAAC,aAAa,GAAG,aAAa,CAAC,aAAa,GAAG,gBAAgB,CAAC;QACvE,OAAO;QACP,OAAO,CAAC,iBAAiB,GAAG,aAAa,CAAC,iBAAiB,GAAG,oBAAoB,CAAC;QAEnF,KAAK;QACL,IAAI,IAAI,GAAG,kCAAmB,CAAC,WAAW,EAAE,CAAC;QAC7C,OAAO,CAAC,WAAW,GAAG,CAAC,GAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QAC9D,OAAO,CAAC,aAAa,GAAG,CAAC,GAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QAChE,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QACzD,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QACnE,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QAEhE,OAAO;QACP,IAAI,WAAW,GAAG,CAAC,EAAC,YAAY,GAAG,CAAC,EAAC,gBAAgB,GAAG,CAAC,CAAC;QAC1D,KAAI,IAAI,CAAC,GAAG,uBAAS,CAAC,IAAI,EAAC,CAAC,GAAC,uBAAS,CAAC,GAAG,EAAC,CAAC,EAAE,EAAC;YAC3C,IAAI,UAAU,GAAG,QAAQ,CAAC,MAAM,GAAC,CAAC,CAAC,CAAC;YACpC,IAAG,UAAU,IAAI,CAAC,EAAC;gBACf,IAAI,UAAU,GAAG,mCAAgB,CAAC,WAAW,EAAE,CAAC,uBAAuB,CAAC,UAAU,CAAC,CAAC;gBACpF,YAAY,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC;gBAC9B,gBAAgB,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC;gBAClC,WAAW,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC;aAChC;SACJ;QAED,OAAO;QACP,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC,YAAY,GAAG,OAAO,CAAC,WAAW,GAAG,YAAY,GAAG,MAAM,GAAG,QAAQ,CAAC;QAC/F,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC,QAAQ,GAAG,OAAO,CAAC,QAAQ,GAAG,WAAW,GAAG,SAAS,GAAG,IAAI,CAAC;QACtF,OAAO,CAAC,OAAO,GAAG,OAAO,CAAC,aAAa,GAAG,OAAO,CAAC,WAAW,GAAG,gBAAgB,GAAG,UAAU,GAAG,SAAS,CAAC;QAE1G,IAAI,IAAI,GAAG,oCAAoB,CAAC,WAAW,EAAE,CAAC,yBAAyB,CAAC,QAAQ,CAAC,SAAS,EAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;QAEpH,OAAO,CAAC,QAAQ,GAAC,IAAI,GAAG,EAAiB,CAAC;QAC1C,OAAO,CAAC,YAAY,GAAC,IAAI,GAAG,EAAiB,CAAC;QAC9C,OAAO,CAAC,YAAY,GAAC,IAAI,GAAG,EAAiB,CAAC;QAC9C,OAAO,CAAC,YAAY,GAAC,IAAI,GAAG,EAAiB,CAAC;QAC9C,OAAO,CAAC,YAAY,GAAC,IAAI,GAAG,EAAiB,CAAC;QAC9C,OAAO,CAAC,YAAY,GAAC,IAAI,GAAG,EAAkB,CAAC;QAC/C,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,IAAE,CAAC,EAAE,CAAC,EAAE,EAAC;YACnB,IAAI,QAAQ,GAAC,8CAAyB,CAAC,WAAW,EAAE,CAAC,6CAA6C,CAAC,QAAQ,CAAC,SAAS,EAAC,CAAC,EAAC,IAAI,CAAC,CAAC;YAC9H,IAAG,QAAQ,IAAI,IAAI;gBAAE,SAAS;YAC9B,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YAClD,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YAClD,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YAClD,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YAClD,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,EAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YAC1C,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAC,QAAQ,CAAC,UAAU,IAAE,0CAAuB,CAAC,WAAW,EAAE,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;SAC1G;QACD,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,IAAE,CAAC,EAAE,CAAC,EAAE,EAAC;YACnB,IAAG,OAAO,GAAC,CAAC,EAAC;gBACT,IAAI,IAAI,GAAC,kDAA2B,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,SAAS,EAAC,OAAO,CAAC,CAAC;gBACrF,IAAI,MAAM,GAAC,kDAA2B,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBACnE,IAAI,SAAS,GAAC,kDAA2B,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,SAAS,EAAC,MAAM,GAAC,CAAC,CAAC,CAAC;gBAC3F,IAAI,QAAQ,GAAC,kDAA2B,CAAC,WAAW,EAAE,CAAC,2BAA2B,CAAC,SAAS,CAAC,CAAC;gBAC9F,IAAG,QAAQ,IAAI,IAAI;oBAAE,SAAS;gBAC9B,OAAO,CAAC,4BAA4B,GAAC,CAAC,CAAC,GAAC,QAAQ,CAAC,4BAA4B,GAAC,CAAC,CAAC,CAAC;aACpF;SACJ;QACD,OAAO,OAAO,CAAC;IACnB,CAAC;IAGD,uCAAiB,GAAjB,UAAkB,QAAkB,EAAC,KAAY,EAAC,KAAY;QAE1D,IAAI,OAAO,GAAC,IAAI,mBAAQ,EAAE,CAAC;QAC3B,IAAI,SAAS,GAAG,KAAK,CAAC;QAEtB,SAAS;QACT,IAAI,MAAM,GAAG,CAAC,EAAC,UAAU,GAAG,CAAC,EAAC,SAAS,GAAG,CAAC,EAAC,MAAM,GAAG,CAAC,EAAC,OAAO,GAAG,CAAC,EAAC,WAAW,GAAG,CAAC,EAAC,eAAe,GAAG,CAAC,EAAC,gBAAgB,GAAG,CAAC,EAAC,oBAAoB,GAAG,CAAC,CAAC;QAErJ,QAAQ;QACR,IAAI,aAAa,GAAqB,oCAAoB,CAAC,WAAW,EAAE,CAAC,6BAA6B,CAAC,QAAQ,EAAC,KAAK,CAAC,CAAC;QACvH,OAAO,CAAC,QAAQ,GAAG,CAAC,SAAS,GAAG,aAAa,CAAC,YAAY,CAAC,GAAG,aAAa,CAAC,UAAU,CAAC;QACvF,OAAO,CAAC,WAAW,GAAG,CAAC,SAAS,GAAG,aAAa,CAAC,YAAY,CAAC,GAAG,aAAa,CAAC,UAAU,CAAC;QAC1F,OAAO,CAAC,WAAW,GAAG,CAAC,SAAS,GAAG,aAAa,CAAC,aAAa,CAAC,GAAG,aAAa,CAAC,WAAW,CAAC;QAE5F,UAAU;QACV,IAAI,QAAQ,GAAG,WAAW,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QAC/D,IAAI,WAAW,GAAG,CAAC,EAAC,YAAY,GAAG,CAAC,EAAC,gBAAgB,GAAG,CAAC,CAAC;QAC1D,IAAG,QAAQ,IAAE,IAAI,EAAC;YAEd,IAAI,KAAK,GAAG,WAAW,CAAC,WAAW,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;YAC3D,IAAG,KAAK,IAAE,CAAC,EAAC;gBACR,IAAI,OAAO,GAAG,wCAAsB,CAAC,WAAW,EAAE,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC;gBACjF,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;gBACxB,UAAU,GAAG,OAAO,CAAC,OAAO,CAAC;gBAC7B,SAAS,GAAG,OAAO,CAAC,MAAM,CAAC;gBAC3B,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC;gBACrB,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC;gBACvB,WAAW,GAAG,OAAO,CAAC,QAAQ,CAAC;gBAC/B,eAAe,GAAG,OAAO,CAAC,YAAY,CAAC;gBACvC,gBAAgB,GAAG,OAAO,CAAC,aAAa,CAAC;gBACzC,oBAAoB,GAAG,oBAAoB,CAAC;aAC/C;YACD,OAAO,CAAC,MAAM,GAAC,KAAK,CAAC;YACrB,KAAI,IAAI,CAAC,GAAG,uBAAS,CAAC,IAAI,EAAC,CAAC,GAAC,uBAAS,CAAC,GAAG,EAAC,CAAC,EAAE,EAAC;gBAC3C,IAAI,UAAU,GAAG,QAAQ,CAAC,MAAM,GAAC,CAAC,CAAC,CAAC;gBACpC,IAAG,UAAU,IAAI,CAAC,EAAC;oBACf,IAAI,UAAU,GAAG,mCAAgB,CAAC,WAAW,EAAE,CAAC,uBAAuB,CAAC,UAAU,CAAC,CAAC;oBACpF,YAAY,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC;oBAC9B,gBAAgB,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC;oBAClC,WAAW,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC;iBAChC;aACJ;SACJ;QAED,MAAM;QACN,OAAO,CAAC,GAAG,GAAG,aAAa,CAAC,GAAG,GAAG,MAAM,CAAC;QACzC,MAAM;QACN,OAAO,CAAC,IAAI,GAAG,aAAa,CAAC,IAAI,GAAG,OAAO,CAAC;QAC5C,MAAM;QACN,OAAO,CAAC,QAAQ,GAAG,aAAa,CAAC,QAAQ,GAAG,WAAW,CAAC;QACxD,MAAM;QACN,OAAO,CAAC,YAAY,GAAG,aAAa,CAAC,YAAY,GAAG,eAAe,CAAC;QACpE,OAAO;QACP,OAAO,CAAC,aAAa,GAAG,aAAa,CAAC,aAAa,GAAG,gBAAgB,CAAC;QACvE,OAAO;QACP,OAAO,CAAC,iBAAiB,GAAG,aAAa,CAAC,iBAAiB,GAAG,oBAAoB,CAAC;QAEnF,KAAK;QACL,IAAI,IAAI,GAAG,kCAAmB,CAAC,WAAW,EAAE,CAAC;QAC7C,OAAO,CAAC,WAAW,GAAG,CAAC,GAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QACpD,OAAO,CAAC,aAAa,GAAG,CAAC,GAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QACtD,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;QACzD,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QAGtD,OAAO;QACP,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC,YAAY,GAAG,OAAO,CAAC,WAAW,GAAG,YAAY,GAAG,MAAM,CAAC;QACpF,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC,QAAQ,GAAG,OAAO,CAAC,QAAQ,GAAG,WAAW,GAAG,SAAS,CAAC;QAC/E,OAAO,CAAC,OAAO,GAAG,OAAO,CAAC,aAAa,GAAG,OAAO,CAAC,WAAW,GAAG,gBAAgB,GAAG,UAAU,CAAC;QAE9F,OAAO;QACP,8DAA8D;QAC9D,uDAAuD;QACvD,gEAAgE;QAEhE,IAAI,IAAI,GAAG,oCAAoB,CAAC,WAAW,EAAE,CAAC,yBAAyB,CAAC,QAAQ,EAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAE5F,OAAO,CAAC,QAAQ,GAAC,IAAI,GAAG,EAAiB,CAAC;QAC1C,OAAO,CAAC,YAAY,GAAC,IAAI,GAAG,EAAiB,CAAC;QAC9C,OAAO,CAAC,YAAY,GAAC,IAAI,GAAG,EAAiB,CAAC;QAC9C,OAAO,CAAC,YAAY,GAAC,IAAI,GAAG,EAAiB,CAAC;QAC9C,OAAO,CAAC,YAAY,GAAC,IAAI,GAAG,EAAiB,CAAC;QAE9C,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,IAAE,CAAC,EAAE,CAAC,EAAE,EAAC;YACnB,IAAI,QAAQ,GAAC,8CAAyB,CAAC,WAAW,EAAE,CAAC,6CAA6C,CAAC,QAAQ,EAAC,CAAC,EAAC,IAAI,CAAC,CAAC;YACpH,IAAG,QAAQ,IAAI,IAAI;gBAAE,SAAS;YAC9B,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YAClD,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YAClD,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YAClD,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YAClD,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,EAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;SAC7C;QAED,wCAAwC;QACxC,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,iCAAW,GAAX,UAAY,QAAkB;QAC1B,OAAO,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IACxC,CAAC;IAED,qCAAe,GAAf,UAAgB,QAAkB;QAC9B,IAAI,IAAI,GAAG,IAAI,mBAAQ,EAAE,CAAC;QAC1B,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACxC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;QACtC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;QACxC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC9B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;QACpB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACtB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC9B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;QACtC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;QACxC,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,CAAC;QAChD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,mCAAa,GAAb,UAAc,QAAkB,EAAC,OAAe;QAC5C,IAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAC;YAC5B,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,QAAQ,GAAC,OAAO,CAAC;YAC9C,wDAAwD;SAC3D;IACL,CAAC;IAED,qCAAe,GAAf,UAAgB,QAAkB;QAE9B,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAA;IAC/B,CAAC;IAED,MAAM;IACN,sCAAgB,GAAhB;QAEI,IAAI,GAAG,GAAC,CAAC,CAAC;QACV,IAAI,IAAI,GAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QAC5B,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAC/B;YACI,GAAG,IAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;SAC1D;QACD,OAAO,GAAG,CAAC;IACf,CAAC;IAED,mCAAa,GAAb,UAAc,QAAkB;QAE5B,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;QAC/B,IAAI,QAAQ,GAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAC1C,IAAI,MAAM,GAAG,QAAQ,CAAC,QAAQ,GAAG,gDAA0B,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,CAAC,CAAC;cAC9F,QAAQ,CAAC,YAAY,GAAG,gDAA0B,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,CAAC,CAAC;cACvF,QAAQ,CAAC,aAAa,GAAG,gDAA0B,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,CAAC,CAAC;cACxF,QAAQ,CAAC,GAAG,GAAG,gDAA0B,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,CAAC,CAAC;cAC9E,QAAQ,CAAC,IAAI,GAAG,gDAA0B,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,CAAC,CAAC;cAC/E,CAAC,QAAQ,CAAC,QAAQ,GAAG,GAAG,CAAC,GAAG,gDAA0B,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,CAAC,CAAC;cAC3F,QAAQ,CAAC,YAAY,GAAG,gDAA0B,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,CAAC,CAAC;cACvF,CAAC,QAAQ,CAAC,aAAa,GAAG,CAAC,CAAC,GAAG,gDAA0B,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,CAAC,CAAC;cAC9F,QAAQ,CAAC,iBAAiB,GAAG,gDAA0B,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAA;QAC9F,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,yCAAmB,GAAnB,UAAoB,QAAkB,EAAC,KAAY,EAAC,KAAY;QAE5D,IAAI,QAAQ,GAAC,IAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAC,KAAK,EAAC,KAAK,CAAC,CAAC;QAC1D,IAAI,MAAM,GAAG,QAAQ,CAAC,QAAQ,GAAG,gDAA0B,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,CAAC,CAAC;cAC9F,QAAQ,CAAC,YAAY,GAAG,gDAA0B,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,CAAC,CAAC;cACvF,QAAQ,CAAC,aAAa,GAAG,gDAA0B,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,CAAC,CAAC;cACxF,QAAQ,CAAC,GAAG,GAAG,gDAA0B,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,CAAC,CAAC;cAC9E,QAAQ,CAAC,IAAI,GAAG,gDAA0B,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,CAAC,CAAC;cAC/E,CAAC,QAAQ,CAAC,QAAQ,GAAG,GAAG,CAAC,GAAG,gDAA0B,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,CAAC,CAAC;cAC3F,QAAQ,CAAC,YAAY,GAAG,gDAA0B,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,CAAC,CAAC;cACvF,CAAC,QAAQ,CAAC,aAAa,GAAG,CAAC,CAAC,GAAG,gDAA0B,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,CAAC,CAAC;cAC9F,QAAQ,CAAC,iBAAiB,GAAG,gDAA0B,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAA;QAC9F,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,qCAAe,GAAf;QAEI,IAAI,GAAG,GAAC,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;QACrD,IAAG,GAAG,KAAG,EAAE,IAAI,GAAG,KAAG,IAAI,EACzB;YACI,GAAG,GAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC;SAC/B;aACD;YACI,GAAG,GAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;SACrB;QACD,OAAO,GAAG,CAAC;IACf,CAAC;IAEM,4BAAgB,GAAvB,UAAwB,QAAkB;QAEtC,IAAI,KAAK,GAAC,KAAK,CAAC;QAChB,IAAI,GAAG,GAAC,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,eAAe,GAAC,QAAQ,CAAC,CAAC;QAC9D,IAAG,GAAG,KAAG,EAAE,IAAI,GAAG,KAAG,IAAI,EACzB;YACI,KAAK,GAAC,IAAI,CAAC;SACd;aACD;YACI,KAAK,GAAC,KAAK,CAAC;SACf;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAEM,4BAAgB,GAAvB,UAAwB,QAAkB;QAEtC,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,eAAe,GAAC,QAAQ,EAAC,CAAC,CAAC,CAAC;IAC5D,CAAC;IAEM,wBAAY,GAAnB,UAAoB,IAAW;QAC3B,QAAO,IAAI,EAAC;YACR,KAAK,CAAC,CAAC,CAAA;gBACH,OAAO,CAAC,CAAC;aACZ;YACD,KAAK,CAAC,CAAC,CAAA;gBACH,OAAO,CAAC,CAAC;aACZ;YACD,KAAK,CAAC,CAAC,CAAA;gBACH,OAAO,CAAC,CAAC;aACZ;YACD,KAAK,CAAC,CAAC,CAAA;gBACH,OAAO,CAAC,CAAC;aACZ;YACD,KAAK,CAAC,CAAC,CAAA;gBACH,OAAO,EAAE,CAAC;aACb;YACD,KAAK,CAAC,CAAC,CAAA;gBACH,OAAO,EAAE,CAAC;aACb;SACJ;IACL,CAAC;IACD;;;;;MAKE;IACF,mCAAa,GAAb,UAAc,IAAa,EAAC,IAA6B,EAAC,QAAkB;QAAhD,qBAAA,EAAA,OAAe,sBAAS,CAAC,IAAI;QACrD,MAAM;QACN,IAAG,CAAC,QAAQ;YACZ,QAAQ,GAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAChC,IAAI,QAAQ,GAAC,EAAE,CAAC;QAChB,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;YAChC,IAAI,EAAE,GAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACnB,IAAG,EAAE,GAAC,sBAAS,CAAC,IAAI,EAAC;gBACjB,IAAG,EAAE,IAAE,IAAI,EAAC;oBACR,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;iBAC9B;aACJ;SACJ;QACD,IAAI,MAAM,GAAC,CAAC,CAAC;QACb,IAAG,QAAQ,CAAC,MAAM,GAAC,CAAC,EAAC;YACjB,MAAM,GAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;SAC9D;QACD,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,yHAAyH;IACzH;;;;;OAKG;IACH,sCAAgB,GAAhB,UAAiB,QAAkB,EAAC,OAAc,EAAC,SAAoB;QACnE,IAAG,CAAC,SAAS,EAAC;YACV,SAAS,GAAC,8CAAyB,CAAC,WAAW,EAAE,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC;SACnF;QACD,wBAAwB;QACxB,qBAAW,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,mBAAQ,CAAC,aAAa,CAAC,CAAC;QAC3D,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,MAAM,GAAC,SAAS,CAAC,GAAC,OAAO,CAAC;QACrD,qBAAW,CAAC,WAAW,EAAE,CAAC,iBAAiB,EAAE,CAAC;QAC9C,2BAAY,CAAC,eAAe,CAAC,8BAAe,CAAC,iBAAiB,CAAC,CAAC;QAChE,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IAED;;;;OAIG;IACF,yCAAmB,GAAnB,UAAoB,QAAkB,EAAC,SAAmB;QACvD,wBAAwB;QACxB,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,MAAM,GAAC,SAAS,CAAC,GAAC,CAAC,CAAC;QAC/C,qBAAW,CAAC,WAAW,EAAE,CAAC,iBAAiB,EAAE,CAAC;QAC9C,2BAAY,CAAC,eAAe,CAAC,8BAAe,CAAC,iBAAiB,CAAC,CAAC;IACpE,CAAC;IACD,iBAAiB;IACjB,sCAAgB,GAAhB,UAAiB,QAAkB,EAAC,SAAmB;QACnD,OAAO,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,MAAM,GAAC,SAAS,CAAC,CAAC;IACxD,CAAC;IACD,eAAe;IACf,2CAAqB,GAArB,UAAsB,SAAmB;QACrC,IAAI,GAAG,GAAC,SAAS,CAAC,SAAS,CAAC;QAC5B,IAAI,IAAI,GAAC,8CAAyB,CAAC,WAAW,EAAE,CAAC,oBAAoB,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;QAC1F,IAAI,QAAQ,GAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QAChC,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;YAChC,IAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,GAAC,IAAI,CAAC,IAAE,SAAS,CAAC,QAAQ,EAAC;gBAC5C,GAAG,EAAE,CAAC;aACT;SACJ;QACD,OAAO,GAAG,CAAC;IACf,CAAC;IACD,sBAAsB;IACtB,8CAAwB,GAAxB,UAAyB,SAAmB;QACxC,IAAI,IAAI,GAAC,EAAE,CAAC;QACZ,IAAI,IAAI,GAAC,8CAAyB,CAAC,WAAW,EAAE,CAAC,oBAAoB,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;QAC1F,IAAI,QAAQ,GAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QAChC,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;YAChC,IAAI,QAAQ,GAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACzB,IAAG,QAAQ,CAAC,MAAM,GAAC,IAAI,CAAC,IAAE,SAAS,CAAC,QAAQ,EAAC;gBACzC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;aACjC;SACJ;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,wFAAwF;IACxF;;;;;OAKG;IACF,gCAAU,GAAV,UAAW,QAAkB,EAAC,KAAY;QACvC,wBAAwB;QACxB,qBAAW,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,mBAAQ,CAAC,aAAa,CAAC,CAAC;QAC3D,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,MAAM,GAAC,KAAK,CAAC;QACxC,qBAAW,CAAC,WAAW,EAAE,CAAC,iBAAiB,EAAE,CAAC;QAC9C,mEAAmE;QACnE,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IAED;;;;OAIG;IACF,mCAAa,GAAb,UAAc,QAAkB;QAC7B,wBAAwB;QACxB,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,MAAM,GAAC,CAAC,CAAC;QACpC,qBAAW,CAAC,WAAW,EAAE,CAAC,iBAAiB,EAAE,CAAC;QAC9C,mEAAmE;IACvE,CAAC;IACD,iBAAiB;IACjB,gCAAU,GAAV,UAAW,QAAkB;QACzB,OAAO,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC;IAC7C,CAAC;IAED,eAAe;IACf,qCAAe,GAAf,UAAgB,OAAkB;QAC9B,IAAI,GAAG,GAAC,OAAO,CAAC,OAAO,CAAC;QACxB,IAAI,IAAI,GAAC,8CAAyB,CAAC,WAAW,EAAE,CAAC,oBAAoB,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QACtF,IAAI,QAAQ,GAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QAChC,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;YAChC,IAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,GAAC,IAAI,CAAC,IAAE,OAAO,CAAC,MAAM,EAAC;gBACxC,GAAG,EAAE,CAAC;aACT;SACJ;QACD,OAAO,GAAG,CAAC;IACf,CAAC;IACD,sBAAsB;IACtB,wCAAkB,GAAlB,UAAmB,OAAkB;QACjC,IAAI,IAAI,GAAC,EAAE,CAAC;QACZ,IAAI,QAAQ,GAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QAChC,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;YAChC,IAAI,QAAQ,GAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACzB,IAAG,QAAQ,CAAC,MAAM,IAAE,OAAO,CAAC,MAAM,EAAC;gBAC/B,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;aACjC;SACJ;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,cAAc;IACd,kCAAY,GAAZ,UAAa,QAAkB;QAC3B,mDAAmD;QACnD,IAAI,MAAM,GAAG,IAAI,eAAe,EAAE,CAAC;QACnC,IAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,kCAAmB,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC;YAAE,OAAO,MAAM,CAAA;QACxG,IAAI,WAAW,GAAG,yBAAW,CAAC,WAAW,EAAE,CAAC,UAAU,CAAC,mBAAM,CAAC,IAAI,CAAC,CAAC;QACpE,IAAI,WAAW,GAAG,wBAAc,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC;QACxF,IAAI,UAAU,GAAG,yBAAW,CAAC,WAAW,EAAE,CAAC,UAAU,CAAC,mBAAM,CAAC,GAAG,CAAC,CAAC;QAClE,IAAI,UAAU,GAAG,wBAAc,CAAC,WAAW,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC;QACtF,IAAI,WAAW,GAAG,2BAAY,CAAC,WAAW,EAAE,CAAC,YAAY,CAAC;QAC1D,IAAI,eAAe,GAAG,wBAAc,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC;QAC9F,4CAA4C;QAC5C,2DAA2D;QAC3D,MAAM,CAAC,SAAS,GAAC,WAAW,IAAE,WAAW,IAAI,WAAW,IAAE,eAAe,IAAI,UAAU,IAAI,UAAU,CAAC;QACtG,OAAO,MAAM,CAAC;IAClB,CAAC;IACD,cAAc;IACd,iCAAW,GAAX,UAAY,QAAkB;QAC1B,IAAI,QAAQ,GAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACxC,IAAG,CAAC,QAAQ,EAAC;YACT,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,QAAQ,GAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QACzC,IAAI,OAAO,GAAG,yBAAW,CAAC,WAAW,EAAE,CAAC,UAAU,CAAC,kCAAmB,CAAC,WAAW,EAAE,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC,CAAC;QAChH,IAAI,OAAO,GAAG,gCAAkB,CAAC,WAAW,EAAE,CAAC,kCAAkC,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAC,QAAQ,CAAC,CAAC;QAC1H,OAAO,OAAO,IAAI,OAAO,IAAI,QAAQ,GAAC,kCAAmB,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;IAClG,CAAC;IACD,kBAAkB;IAClB,6CAAuB,GAAvB,UAAwB,QAAkB;QACtC,IAAI,QAAQ,GAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACxC,IAAG,CAAC,QAAQ,EAAC;YACT,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,QAAQ,GAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QACzC,IAAI,OAAO,GAAG,yBAAW,CAAC,WAAW,EAAE,CAAC,UAAU,CAAC,kCAAmB,CAAC,WAAW,EAAE,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC,CAAC;QAChH,IAAI,OAAO,GAAG,gCAAkB,CAAC,WAAW,EAAE,CAAC,kCAAkC,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAC,QAAQ,CAAC,CAAC;QAC1H,IAAI,SAAS,GAAC,OAAO,GAAC,OAAO,CAAC;QAC9B,OAAO,OAAO,GAAG,OAAO,IAAI,QAAQ,GAAC,kCAAmB,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,yBAAW,CAAC,WAAW,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC,IAAE,SAAS,CAAC;IACtL,CAAC;IAED,uCAAiB,GAAjB,UAAkB,MAAgB;QAC9B,IAAI;QACJ,IAAI,OAAO,GAAC,kCAAmB,CAAC,WAAW,EAAE,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;QACjE,OAAO,MAAM,GAAC,OAAO,CAAC;IAC1B,CAAC;IACD,gBAAgB;IAChB,iCAAW,GAAX,UAAY,QAAkB;QAC1B,IAAI,QAAQ,GAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACxC,IAAG,QAAQ,EAAC;YACR,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,OAAO,GAAG,yBAAW,CAAC,WAAW,EAAE,CAAC,UAAU,CAAC,kCAAmB,CAAC,WAAW,EAAE,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC,CAAC;QAChH,IAAI,OAAO,GAAG,kCAAmB,CAAC,WAAW,EAAE,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC;QAC/E,IAAG,OAAO,IAAE,OAAO,EAAC;YAChB,OAAO,IAAI,CAAC;SACf;aAAI;YACD,IAAI,SAAS,GAAC,OAAO,GAAC,OAAO,CAAC;YAC9B,OAAO,yBAAW,CAAC,WAAW,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC,IAAE,SAAS,CAAC;SAC5F;IACL,CAAC;IACD,+BAAS,GAAT,UAAU,QAAkB;QACxB,IAAI,QAAQ,GAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACxC,IAAG,QAAQ,EAAC;YACR,IAAI,UAAU,GAAG,sDAA6B,CAAC,WAAW,EAAE,CAAC,6BAA6B,CAAC,QAAQ,CAAC,CAAC;YACrG,IAAG,QAAQ,CAAC,qBAAqB,IAAI,UAAU,CAAC,QAAQ,EAAC;gBACrD,OAAO,KAAK,CAAC;aAChB;YACD,IAAI,YAAY,GAAG,kCAAmB,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;YACnF,IAAI,OAAO,GAAG,kCAAmB,CAAC,WAAW,EAAE,CAAC,eAAe,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YACvF,IAAI,OAAO,GAAG,yBAAW,CAAC,WAAW,EAAE,CAAC,UAAU,CAAC,YAAY,CAAC,uBAAuB,CAAC,CAAC;YACzF,OAAO,OAAO,IAAE,OAAO,CAAC;SAC3B;QACD,OAAO,KAAK,CAAC;IAEjB,CAAC;IACD,4CAAsB,GAAtB,UAAuB,QAAkB,EAAC,KAAY;QAClD,IAAI,IAAI,GAAG,IAAI,mBAAQ,EAAE,CAAC;QAC1B,IAAI,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QAC1C,IAAI,MAAM,GAAG,kDAA2B,CAAC,WAAW,EAAE,CAAC,6BAA6B,CAAC,QAAQ,EAAC,KAAK,CAAC,CAAC;QAErG,IAAG,MAAM,IAAI,IAAI;YAAE,OAAO,IAAI,CAAC;QAE/B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC;QAClD,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,WAAW,GAAG,MAAM,CAAC,MAAM,CAAC;QACzD,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,WAAW,GAAG,MAAM,CAAC,OAAO,CAAC;QAE3D,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,+CAAyB,GAAzB,UAA0B,QAAkB,EAAC,KAAY;QACrD,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,IAAI,MAAM,GAAG,IAAI,CAAC,sBAAsB,CAAC,QAAQ,EAAC,KAAK,CAAC,CAAC;QAEzD,IAAG,MAAM,IAAG,IAAI,EAAC;YACb,GAAG,GAAG,MAAM,CAAC,QAAQ,GAAG,gDAA0B,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,CAAC,CAAC;kBACrF,MAAM,CAAC,YAAY,GAAG,gDAA0B,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,CAAC,CAAC;kBACrF,MAAM,CAAC,aAAa,GAAG,gDAA0B,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC;SAC5F;QAED,OAAO,GAAG,CAAA;IACd,CAAC;IAED,cAAc;IACd,oCAAc,GAAd,UAAe,QAAkB;QAC7B,IAAI,IAAI,GAAC,IAAI,iBAAiB,EAAE,CAAC;QACjC,yJAAyJ;QACzJ,2CAA2C;QAC3C,6EAA6E;QAC7E,8CAA8C;QAC9C,wDAAwD;QACxD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,kBAAkB;IACX,gCAAoB,GAA3B,UAA4B,OAAoB;QAC5C,IAAI,QAAQ,GAAC,sBAAS,CAAC,YAAY,CAAC;QACpC,QAAO,OAAO,EAAC;YACX,KAAK,2BAAY,CAAC,eAAe;gBAAC,QAAQ,GAAC,sBAAS,CAAC,YAAY,CAAC;gBAAC,MAAM;YACzE,KAAK,2BAAY,CAAC,eAAe;gBAAC,QAAQ,GAAC,sBAAS,CAAC,QAAQ,CAAC;gBAAC,MAAM;YACrE,KAAK,2BAAY,CAAC,eAAe;gBAAC,QAAQ,GAAC,sBAAS,CAAC,OAAO,CAAC;gBAAC,MAAM;YACpE,KAAK,2BAAY,CAAC,eAAe;gBAAC,QAAQ,GAAC,sBAAS,CAAC,MAAM,CAAC;gBAAC,MAAM;YACnE,KAAK,2BAAY,CAAC,eAAe;gBAAC,QAAQ,GAAC,sBAAS,CAAC,YAAY,CAAC;gBAAC,MAAM;YACzE,KAAK,2BAAY,CAAC,eAAe;gBAAC,QAAQ,GAAC,sBAAS,CAAC,MAAM,CAAC;gBAAC,MAAM;YACnE,KAAK,2BAAY,CAAC,eAAe;gBAAC,QAAQ,GAAC,sBAAS,CAAC,IAAI,CAAC;gBAAC,MAAM;YACjE,KAAK,2BAAY,CAAC,eAAe;gBAAC,QAAQ,GAAC,sBAAS,CAAC,YAAY,CAAC;gBAAC,MAAM;YACzE,KAAK,2BAAY,CAAC,eAAe;gBAAC,QAAQ,GAAC,sBAAS,CAAC,MAAM,CAAC;gBAAC,MAAM;YACnE,KAAK,2BAAY,CAAC,gBAAgB;gBAAC,QAAQ,GAAC,sBAAS,CAAC,OAAO,CAAC;gBAAC,MAAM;YACrE,KAAK,2BAAY,CAAC,gBAAgB;gBAAC,QAAQ,GAAC,sBAAS,CAAC,KAAK,CAAC;gBAAC,MAAM;YACnE,KAAK,2BAAY,CAAC,gBAAgB;gBAAC,QAAQ,GAAC,sBAAS,CAAC,OAAO,CAAC;gBAAC,MAAM;SACxE;QACD,OAAO,QAAQ,CAAC;IACpB,CAAC;IAED,kBAAkB;IACX,gCAAoB,GAA3B,UAA4B,QAAkB;QAC1C,IAAI,OAAO,GAAC,2BAAY,CAAC,eAAe,CAAC;QACzC,QAAO,QAAQ,EAAC;YACZ,KAAK,sBAAS,CAAC,YAAY;gBAAC,OAAO,GAAC,2BAAY,CAAC,eAAe,CAAC;gBAAC,MAAM;YACxE,KAAK,sBAAS,CAAC,QAAQ;gBAAC,OAAO,GAAC,2BAAY,CAAC,eAAe,CAAC;gBAAC,MAAM;YACpE,KAAK,sBAAS,CAAC,OAAO;gBAAC,OAAO,GAAC,2BAAY,CAAC,eAAe,CAAC;gBAAC,MAAM;YACnE,KAAK,sBAAS,CAAC,MAAM;gBAAC,OAAO,GAAC,2BAAY,CAAC,eAAe,CAAC;gBAAC,MAAM;YAClE,KAAK,sBAAS,CAAC,YAAY;gBAAC,OAAO,GAAC,2BAAY,CAAC,eAAe,CAAC;gBAAC,MAAM;YACxE,KAAK,sBAAS,CAAC,MAAM;gBAAC,OAAO,GAAC,2BAAY,CAAC,eAAe,CAAC;gBAAC,MAAM;YAClE,KAAK,sBAAS,CAAC,IAAI;gBAAC,OAAO,GAAC,2BAAY,CAAC,eAAe,CAAC;gBAAC,MAAM;YAChE,KAAK,sBAAS,CAAC,YAAY;gBAAC,OAAO,GAAC,2BAAY,CAAC,eAAe,CAAC;gBAAC,MAAM;YACxE,KAAK,sBAAS,CAAC,MAAM;gBAAC,OAAO,GAAC,2BAAY,CAAC,eAAe,CAAC;gBAAC,MAAM;YAClE,KAAK,sBAAS,CAAC,OAAO;gBAAC,OAAO,GAAC,2BAAY,CAAC,gBAAgB,CAAC;gBAAC,MAAM;YACpE,KAAK,sBAAS,CAAC,KAAK;gBAAC,OAAO,GAAC,2BAAY,CAAC,gBAAgB,CAAC;gBAAC,MAAM;YAClE,KAAK,sBAAS,CAAC,OAAO;gBAAC,OAAO,GAAC,2BAAY,CAAC,gBAAgB,CAAC;gBAAC,MAAM;SACvE;QACD,OAAO,OAAO,CAAC;IACnB,CAAC;IAEO,2CAAqB,GAA7B;QACI,IAAI,GAAG,GAAC,kBAAQ,CAAC,WAAW,EAAE,CAAC,SAAS,EAAE,CAAC;QAC3C,OAAO,IAAI,CAAC,SAAS,CAAC;YAClB,GAAG,EAAC,GAAG;SACV,CAAC,CAAC;IACP,CAAC;IAEO,2CAAqB,GAA7B,UAA8B,SAAsB;QAChD,IAAI,GAAG,GAAC,kBAAQ,CAAC,WAAW,EAAE,CAAC,SAAS,EAAE,CAAC;QAC3C,OAAO,IAAI,CAAC,SAAS,CAAC;YAClB,GAAG,EAAC,GAAG;YACP,QAAQ,EAAC,SAAS;SACrB,CAAC,CAAC;IACP,CAAC;IAt5Cc,qBAAS,GAAgB,IAAI,CAAC;IAu5CjD,kBAAC;CAz5CD,AAy5CC,IAAA;AAz5CY,kCAAW","file":"","sourceRoot":"/","sourcesContent":["import { GameMode, IsDebug} from \"../../Constants\";\r\nimport { EquipmentAttributeManager } from \"../../Equipment/Data/EquipmentAttribute\";\r\nimport { EquipmentManager } from \"../../Equipment/EquipmentManager\";\r\nimport { HeroBaseInfoManager } from \"./HeroBaseInfo\";\r\nimport { HeroQualityManager } from \"./HeroQuality\";\r\nimport { LevelUpManager } from \"./LevelUp\";\r\nimport { AssetsEventType, EventManager, RedEventType } from \"../../Tools/EventManager\";\r\nimport { HeroData } from \"./HeroData\";\r\nimport { SkillLevelUnlockManager } from \"./SkillLevelUnlock\";\r\nimport { HeroAttributeManager, JsonHeroAttribute } from \"./HeroAttribute\";\r\nimport { PropManager } from \"../../Prop/PropManager\";\r\nimport { PropId } from \"../../Prop/PropConfig\";\r\nimport { SkillConfigurationManager } from \"./SkillConfiguration\";\r\nimport { PetInfo, PetMessage } from \"../../Pet/PetConfig\";\r\nimport { LevelManager } from \"../../Level/LevelManager\";\r\nimport { EquipInfo, EquipType } from \"../../Equipment/EquipConfig\";\r\nimport { ExclusiveEnhancementManager } from \"../../JsonData/ExclusiveEnhancement\";\r\nimport { TheStorageManager } from \"../../Storage/StorageManager\";\r\nimport { StorageKey } from \"../../Storage/StorageConfig\";\r\nimport { HeroTitleManager } from \"./HeroTitle\";\r\nimport { Hero_Type, HeroInfo } from \"../Game/HeroConfig\";\r\nimport { CombatEffectivenessManager } from \"./CombatEffectiveness\";\r\nimport TaskManager from \"../../Task/TaskManager\";\r\nimport { TaskItem } from \"../../Task/TaskEnum\";\r\nimport GameManager from \"../../GameManager\";\r\nimport { SpiritAttributeManager } from \"../../Pet/Data/SpiritAttribute\";\r\nimport { EWUnlockCostManager } from \"../../JsonData/EWUnlockCost\";\r\nimport { ExclusiveWeaponSkillManager } from \"../../JsonData/ExclusiveWeaponSkill\";\r\nimport UserData from \"../../UserData\";\r\nimport { AccessName, HeroObject, HttpManager } from \"../.././NetWork/HttpManager\";\r\nimport { UserInfo } from \"../../UserInfo/UserInfo\";\r\nimport { ExclusiveWeaponMessageManager } from \"../../JsonData/ExclusiveWeaponMessage\";\r\n\r\n/**英雄升级数据 */\r\nexport class HeroUpgradeData{\r\n    /**当前的等级 */\r\n    cur_level:number=0;\r\n    /**当前能够升级的最大级 */\r\n    max_level:number=0;\r\n    /**当前等级是否可以升级 */\r\n    is_level:boolean=false;\r\n    /**当前拥有的金币 */\r\n    cur_coin:number=0;\r\n    /**升级需要花费的金币 */\r\n    cost_coin:number=0;\r\n    /**升级金币是否足够 */\r\n    is_coin:boolean=false;\r\n    // /**当前拥有的经验 */\r\n    // cur_exp:number=0;\r\n    // /**升级需要花费的经验 */\r\n    // cost_exp:number=0;\r\n    // /**升级经验是否足够 */\r\n    // is_exp:boolean=false;\r\n    // /**当前拥有的进阶石 */\r\n    // cur_jinjie: number = 0;\r\n    // /**升级需要花费的进阶石 */\r\n    // cost_jinjie: number = 0;\r\n    // /**升级进阶石是否足够 */\r\n    // is_jinjie: boolean = false;\r\n    /**是否能够升级 */\r\n    is_can_up:boolean=false;\r\n}\r\n/**英雄专武数据 */\r\nexport class HeroExclusiveData{\r\n    /**当前拥有的道具数量 */\r\n    cur_prop_num:number=0;\r\n    /**升级需要的道具数量 */\r\n    cost_prop_num:number=0;\r\n    /**升级需要的道具id */\r\n    cost_prop_id:number=0;\r\n    /**是否能够升级 */\r\n    is_can_up:boolean=false;\r\n}\r\n\r\nexport class HeroManager {\r\n\r\n    private static _instance: HeroManager = null;\r\n    //资源\r\n    private btn_hero_team:cc.Prefab=null;\r\n    private btn_hero_role:cc.Prefab=null;\r\n    private sprite_atlas:cc.SpriteAtlas=null;\r\n    private sprite_atlass:cc.SpriteAtlas=null;\r\n    // private role_atlas:cc.SpriteAtlas = null;\r\n    private sp_body:Map<number,cc.SpriteFrame>=null;\r\n    private hero_fragment:cc.Prefab=null;\r\n    //英雄数据\r\n    private hero_data:Map<number,HeroData>=null;\r\n    // private hero_level:number[]=[];\r\n    // private hero_quality:number[]=[];\r\n    private hero_list:HeroInfo[] = [];\r\n\r\n    //0星可升级40级；1星可到80级；2星到120级；3星到160级；4星到200级；5星到240级.\r\n    public hero_stageList:Array<number>=[40,80,120,160,200,240];\r\n\r\n    public static getInstance():HeroManager {\r\n        if(this._instance==null) {\r\n            this._instance=new HeroManager();\r\n            this._instance.init();\r\n        }\r\n        return this._instance;\r\n    }\r\n    //初始化游戏数据\r\n    private init () {\r\n        HeroBaseInfoManager.getInstance();        \r\n        HeroQualityManager.getInstance();\r\n        LevelUpManager.getInstance();\r\n        SkillLevelUnlockManager.getInstance();\r\n        HeroAttributeManager.getInstance();\r\n        SkillConfigurationManager.getInstance();    \r\n        HeroTitleManager.getInstance();    \r\n        CombatEffectivenessManager.getInstance();\r\n        EWUnlockCostManager.getInstance()\r\n        this.loadTeamPrefab();\r\n        this.loadRolePrefab();\r\n        this.loadFragmentPrefab();\r\n        this.loadSp();     \r\n        // this.loadRoleSp();     \r\n        this.loadSps();\r\n        this.loadBody();\r\n    }\r\n    //-----------------------资源的读取-----------------------------\r\n    private loadTeamPrefab(){\r\n        if(this.btn_hero_team)\r\n        return;\r\n        cc.resources.load('heros/btn_hero_team',cc.Prefab,(error: Error, assets:cc.Prefab)=>{\r\n            if(error)\r\n            {\r\n                console.log(error);\r\n                return;\r\n            }\r\n            this.btn_hero_team=assets;\r\n        });\r\n    }\r\n\r\n    private loadRolePrefab(){\r\n        if(this.btn_hero_role)\r\n        return;\r\n        cc.resources.load('heros/btn_hero_role',cc.Prefab,(error: Error, assets:cc.Prefab)=>{\r\n            if(error)\r\n            {\r\n                console.log(error);\r\n                return;\r\n            }\r\n            this.btn_hero_role=assets;            \r\n        });\r\n    }\r\n\r\n    private loadFragmentPrefab(){\r\n        if(this.hero_fragment)\r\n        return;\r\n        cc.resources.load('heros/hero_fragment',cc.Prefab,(error: Error, assets:cc.Prefab)=>{\r\n            if(error)\r\n            {\r\n                console.log(error);\r\n                return;\r\n            }\r\n            this.hero_fragment=assets;\r\n        });\r\n    }\r\n\r\n    private loadSp(){\r\n        if(this.sprite_atlas)\r\n        return;\r\n        cc.resources.load('heros/hero_list_ui',cc.SpriteAtlas,(error: Error, assets:cc.SpriteAtlas)=>{\r\n            if(error)\r\n            {\r\n                console.log(error);\r\n                return;\r\n            }\r\n            //console.log('加载EquipmentAttribute成功');\r\n            this.sprite_atlas=assets;            \r\n        });\r\n    }\r\n\r\n    // private loadRoleSp(){\r\n    //     if(this.role_atlas)\r\n    //     return;\r\n    //     cc.resources.load('heros/role_ui',cc.SpriteAtlas,(error: Error, assets:cc.SpriteAtlas)=>{\r\n    //         if(error)\r\n    //         {\r\n    //             console.log(error);\r\n    //             return;\r\n    //         }\r\n    //         //console.log('加载EquipmentAttribute成功');\r\n    //         this.role_atlas=assets;            \r\n    //     });\r\n    // }\r\n\r\n    private loadSps(){\r\n        if(this.sprite_atlass)\r\n        return;\r\n        cc.resources.load('heros/hero',cc.SpriteAtlas,(error: Error, assets:cc.SpriteAtlas)=>{\r\n            if(error)\r\n            {\r\n                console.log(error);\r\n                return;\r\n            }\r\n            //console.log('加载EquipmentAttribute成功');\r\n            this.sprite_atlass=assets;            \r\n        });\r\n    }\r\n    /**加载立绘主体 */\r\n    private loadBody(){\r\n        if(this.sp_body){\r\n            return;\r\n        }\r\n        this.sp_body=new Map<number,cc.SpriteFrame>();\r\n        cc.resources.loadDir('heros/body',cc.SpriteFrame,(error: Error, assets:cc.SpriteFrame[])=>{\r\n            if(error)\r\n            {\r\n                console.log(error);\r\n                return;\r\n            }\r\n            let len=assets.length;\r\n            for(let i=0; i<len; i++)\r\n            {\r\n                let sp=assets[i];\r\n                let name=sp.name;\r\n                let index=name.lastIndexOf('_');\r\n                if(index!=-1){\r\n                    let heroId=parseInt(name.substring(index+1));\r\n                    this.sp_body.set(heroId,sp);\r\n                }\r\n            }\r\n        })\r\n    }\r\n    \r\n\r\n    public getSpriteFrameByName(key:string):cc.SpriteFrame{\r\n        return this.sprite_atlas.getSpriteFrame(key);\r\n    }\r\n    // public getRoleSpriteFrameByName(key:string):cc.SpriteFrame{\r\n    //     return this.role_atlas.getSpriteFrame(key);\r\n    // }\r\n    public getSpriteFrameByNames(key:string):cc.SpriteFrame{\r\n        return this.sprite_atlass.getSpriteFrame(key);\r\n    }\r\n\r\n\r\n    public getHeroSpriteFrame(heroType:Hero_Type):cc.SpriteFrame{\r\n        return this.getSpriteFrameByName('hero'+heroType);\r\n    }\r\n    public getHeroSpriteFrames(heroType:Hero_Type):cc.SpriteFrame{\r\n        return this.getSpriteFrameByNames('Head_Hero_S_'+heroType);\r\n    }\r\n    /**获得一张英雄的立绘主体 */\r\n    public getHeroBody(heroId:Hero_Type):cc.SpriteFrame{\r\n        return this.sp_body.get(heroId);\r\n    }\r\n    //-----------------------数据保存与读取-----------------------------\r\n    \r\n    onLoadHeroData(){\r\n        this.loadHeroList();\r\n        this.loadAllHeroData();        \r\n    }\r\n    /**\r\n     * 保存当前的拥有的英雄信息\r\n     */\r\n    saveHeroList(){\r\n        TheStorageManager.getInstance().setJson(StorageKey.HeroList,this.hero_list);\r\n        // this.loadHeroList();\r\n        this.loadAllHeroData(); \r\n    }\r\n\r\n    reportHeroList(){\r\n        let list = [];\r\n        this.hero_list.forEach((v,k)=>{\r\n            let heroObject:HeroObject = new HeroObject();\r\n            heroObject.heroId = v.hero_type;\r\n            heroObject.heroLevel = v.hero_level;\r\n            heroObject.heroStage = v.hero_stage;\r\n            heroObject.heroWeaponStage = v.exclusive_equip_stage;\r\n            heroObject.weapons = v.wear1;\r\n            heroObject.armor = v.wear2;\r\n            heroObject.accessories = v.wear3;\r\n            heroObject.shoes = v.wear4;\r\n            heroObject.pet = v.pet_id;\r\n            list.push(heroObject);\r\n        });\r\n        HttpManager.post(AccessName.reportHeroList,this.setHeroListJsonString(list),false);\r\n        TheStorageManager.getInstance().setJson(StorageKey.HeroList,this.hero_list);\r\n    }\r\n\r\n    /**\r\n     * 加载英雄信息\r\n     */\r\n    loadHeroList(){\r\n        this.hero_list = new Array();\r\n        let list = UserInfo.getInstance().heroList;\r\n        list.forEach((v,k)=>{\r\n            let heroInfo = new HeroInfo();\r\n            heroInfo.hero_type=v.heroId;\r\n            heroInfo.hero_level=v.heroLevel;\r\n            heroInfo.hero_stage=v.heroStage;\r\n            heroInfo.exclusive_equip_stage=v.heroWeaponStage;\r\n            heroInfo.wear1=v.weapons;\r\n            heroInfo.wear2=v.armor;\r\n            heroInfo.wear3=v.accessories;\r\n            heroInfo.wear4=v.shoes;\r\n            heroInfo.pet_id=v.pet;\r\n            this.hero_list.push(heroInfo);\r\n        });\r\n        TheStorageManager.getInstance().setJson(StorageKey.HeroList,this.hero_list);\r\n        // let list = TheStorageManager.getInstance().getJson(StorageKey.HeroList)\r\n        // if(list){\r\n        //     for(let i = 0;i<list.length;i++){\r\n        //         let heroInfo = new HeroInfo();\r\n        //         let info = list[i];\r\n        //         heroInfo.exclusive_equip_stage = info.exclusive_equip_stage;\r\n        //         heroInfo.hero_level = info.hero_level;\r\n        //         heroInfo.hero_quality = info.hero_quality;\r\n        //         heroInfo.hero_type = info.hero_type;\r\n        //         heroInfo.pet_id = info.pet_id;\r\n        //         heroInfo.hero_stage =info.hero_stage;\r\n        //         for(let e=EquipType.WuQi; e<EquipType.Num; e++){\r\n        //             heroInfo[\"wear\"+e]=info[\"wear\"+e];\r\n        //         }\r\n                \r\n        //         this.hero_list.push(heroInfo);\r\n        //     }\r\n        // }\r\n        // HttpManager.post(AccessName.getHeroList,this.getHeroListJsonString(),false).then((data:any)=>{\r\n        //     if(data){\r\n        //         this.hero_list = new Array();\r\n        //         let list = [];\r\n        //         data.forEach((v,k)=>{\r\n                    // let heroInfo = new HeroInfo();\r\n                    // heroInfo.hero_type=v.heroId;\r\n                    // heroInfo.hero_level=v.heroLevel;\r\n                    // heroInfo.hero_stage=v.heroStage;\r\n                    // heroInfo.exclusive_equip_stage=v.heroWeaponStage;\r\n                    // heroInfo.wear1=v.weapons;\r\n                    // heroInfo.wear2=v.armor;\r\n                    // heroInfo.wear3=v.accessories;\r\n                    // heroInfo.wear4=v.shoes;\r\n                    // heroInfo.pet_id=v.pet;\r\n                    // list.push(heroInfo)\r\n        //         });\r\n        //         this.hero_list = list;\r\n        //         if(this.hero_list.length == 0){\r\n        //             let heroInfo = new HeroInfo();\r\n        //             heroInfo.exclusive_equip_stage = 0;\r\n        //             heroInfo.hero_level = 1;\r\n        //             heroInfo.hero_quality = HeroBaseInfoManager.getInstance().getQuality(Hero_Type.ShouWang);\r\n        //             heroInfo.hero_stage = 0;\r\n        //             heroInfo.hero_type = Hero_Type.ShouWang;\r\n        //             heroInfo.pet_id = 0;\r\n        //             this.hero_list.push(heroInfo);\r\n        //             let paoshou = new HeroInfo();\r\n        //             paoshou.exclusive_equip_stage = 0;\r\n        //             paoshou.hero_level = 1;\r\n        //             paoshou.hero_quality = HeroBaseInfoManager.getInstance().getQuality(Hero_Type.PaoShou);\r\n        //             paoshou.hero_stage = 0;\r\n        //             paoshou.hero_type = Hero_Type.PaoShou;\r\n        //             paoshou.pet_id = 0;\r\n        //             this.hero_list.push(paoshou);\r\n        //         }\r\n        //         // this.saveHeroList();\r\n        //         TheStorageManager.getInstance().setJson(StorageKey.HeroList,this.hero_list);\r\n        //         // this.loadAllHeroData();  \r\n        //         // this.reportHeroList();\r\n        //     }\r\n        // });\r\n        // else{\r\n        //     let heroInfo = new HeroInfo();\r\n        //     heroInfo.exclusive_equip_stage = 0;\r\n        //     heroInfo.hero_level = 1;\r\n        //     heroInfo.hero_quality = HeroBaseInfoManager.getInstance().getQuality(Hero_Type.ShouWang);\r\n        //     heroInfo.hero_stage = 0;\r\n        //     heroInfo.hero_type = Hero_Type.ShouWang;\r\n        //     heroInfo.pet_id = 0;\r\n        //     this.hero_list.push(heroInfo);\r\n        //     let paoshou = new HeroInfo();\r\n        //     paoshou.exclusive_equip_stage = 0;\r\n        //     paoshou.hero_level = 1;\r\n        //     paoshou.hero_quality = HeroBaseInfoManager.getInstance().getQuality(Hero_Type.PaoShou);\r\n        //     paoshou.hero_stage = 0;\r\n        //     paoshou.hero_type = Hero_Type.PaoShou;\r\n        //     paoshou.pet_id = 0;\r\n        //     this.hero_list.push(paoshou);\r\n        //     this.saveHeroList();\r\n        // }\r\n    }\r\n    /**\r\n     * 获取已拥有英雄列表\r\n     * @returns \r\n     */\r\n    getHeroList(){\r\n        return this.hero_list;\r\n    }\r\n\r\n    // 增加一个英雄信息\r\n    addHero(heroType:Hero_Type){\r\n        let heroInfo = new HeroInfo();\r\n        heroInfo.hero_type = heroType;\r\n        heroInfo.hero_level = 1;\r\n        heroInfo.hero_quality = HeroBaseInfoManager.getInstance().getQuality(heroType);\r\n        heroInfo.pet_id = 0;\r\n        heroInfo.hero_stage = 0;\r\n        heroInfo.exclusive_equip_stage = 0;\r\n        this.hero_list.push(heroInfo);\r\n        this.saveHeroList();\r\n        TaskManager.getInstance().emitTask(TaskItem.累计收集X个英雄);\r\n    }\r\n    /**\r\n     * 查询英雄数据\r\n     * @param heroType 英雄类型\r\n     * @returns \r\n     */\r\n    public getHeroInfo(heroType:Hero_Type):HeroInfo\r\n    {\r\n        // return this.hero_level[heroType-1];\r\n        let index = -1;\r\n        this.hero_list.forEach((v,k) => {\r\n            if(v.hero_type == heroType){\r\n                index = k;\r\n            }\r\n        })\r\n        if(index < 0){\r\n            return null;\r\n        }\r\n        return this.hero_list[index];\r\n    }\r\n\r\n    /**英雄等级 */\r\n    public getHeroLevel(heroType:Hero_Type):number\r\n    {\r\n        let info = this.getHeroInfo(heroType)\r\n        if(info == null) return null;\r\n        return info.hero_level;\r\n    }\r\n    /**增加英雄等级 */\r\n    public addHeroLevel(heroType:Hero_Type):number\r\n    {\r\n        let info = this.getHeroInfo(heroType)\r\n        if(info == null) return null;\r\n        info.hero_level++;\r\n        if(info.hero_level == 10){\r\n            TaskManager.getInstance().emitTask(TaskItem.将任意X名英雄升到10级);\r\n        }\r\n        if(info.hero_level > TaskManager.getInstance().getTaskNowProgress(TaskItem.累计1个英雄升到X级)){\r\n            TaskManager.getInstance().emitTask(TaskItem.累计1个英雄升到X级);\r\n        }\r\n        if(info.hero_level >= HeroBaseInfoManager.getInstance().getMaxLevel(heroType)){\r\n            info.hero_level = HeroBaseInfoManager.getInstance().getMaxLevel(heroType);\r\n        }\r\n        this.saveHeroList();\r\n    }\r\n    /**重置英雄等级 */\r\n    public resetHeroLvel(heroType:Hero_Type){\r\n        let info = this.getHeroInfo(heroType);\r\n        info.hero_level = 1;\r\n        this.saveHeroList();\r\n    }\r\n    /**英雄品质 */\r\n    public getHeroQuality(heroType:Hero_Type):number\r\n    {\r\n        let info = this.getHeroInfo(heroType)\r\n        if(info == null) return null;\r\n        return info.hero_quality;\r\n    } \r\n    /**\r\n     * 获取英雄的专武等级\r\n     * @param heroType 英雄类型\r\n     * @returns \r\n     */\r\n    getExclusiveEquipLevel(heroType:Hero_Type):number{\r\n        let info = this.getHeroInfo(heroType)\r\n        if(info == null) return null;\r\n        return info.exclusive_equip_stage;\r\n    }\r\n    /**\r\n     * 增加英雄的专武等级\r\n     * @param heroType 英雄类型\r\n     */\r\n    addExclusiveEquipLevel(heroType:Hero_Type){\r\n        let info = this.getHeroInfo(heroType)\r\n        info.exclusive_equip_stage ++;\r\n        this.saveHeroList();\r\n    }\r\n    /**\r\n     * 设置英雄的专武等级\r\n     * @param heroType 英雄类型\r\n     * @param num 设置的等级\r\n     */\r\n    setExclusiveEquipLevel(heroType:Hero_Type,num:number){\r\n        let info = this.getHeroInfo(heroType)\r\n        if(info == null) return null;\r\n        info.exclusive_equip_stage = num;\r\n        this.saveHeroList();\r\n    }\r\n    /**\r\n     * 获取英雄的阶段\r\n     * @param heroType \r\n     * @returns \r\n     */\r\n    getHeroStage(heroType:Hero_Type){\r\n        let info = this.getHeroInfo(heroType);\r\n        if(info == null) return null;\r\n        return info.hero_stage;\r\n    }\r\n\r\n    addHeroStage(heroType:Hero_Type){\r\n        let info = this.getHeroInfo(heroType);\r\n        info.hero_stage ++;\r\n        if(heroType == Hero_Type.PaoShou && info.hero_stage == 6){\r\n            TaskManager.getInstance().emitTask(TaskItem.将炮手升至1大星);\r\n        }\r\n        if(info.hero_stage % 6 == 0\r\n            && Math.floor(info.hero_stage / 6) > TaskManager.getInstance().getTaskNowProgress(TaskItem.累计1个英雄升到X星) ){\r\n                TaskManager.getInstance().emitTask(TaskItem.累计1个英雄升到X星);\r\n        }\r\n        if(info.hero_stage >= HeroBaseInfoManager.getInstance().getMaxStage(heroType)){\r\n            info.hero_stage = HeroBaseInfoManager.getInstance().getMaxStage(heroType);\r\n        }\r\n        this.saveHeroList();\r\n    }\r\n\r\n    checkCanAddHeroStage(heroType:Hero_Type):boolean{\r\n        \r\n        return true;\r\n    }\r\n\r\n    //只有更改的时候再保存到文件，减少文件读取次数\r\n    // public addHeroLevel(heroType:Hero_Type,level:number)\r\n    // {\r\n    //     let info = this.getHeroInfo(heroType);\r\n    //     let nowLevel=info.hero_level+level;\r\n    //     if(nowLevel<=LevelUpManager.getMaxLevel())\r\n    //         this.saveHeroLevel(heroType,nowLevel);\r\n    // }\r\n\r\n    // public saveHeroLevel(heroType:Hero_Type,level:number)\r\n    // {        \r\n    //     if(level>LevelUpManager.getMaxLevel())\r\n    //     {\r\n    //         level=LevelUpManager.getMaxLevel();\r\n    //     }\r\n    //     let info = this.getHeroInfo(heroType);\r\n    //     info.hero_level=level;\r\n    //     this.saveHeroList();            \r\n    // }\r\n\r\n    getTeamList(type:GameMode):Hero_Type[]\r\n    {\r\n        let team=new Array();\r\n        for(let i=0;i<5;i++)\r\n        {\r\n            team.push(-1);\r\n        }\r\n        let teamStr:string=cc.sys.localStorage.getItem('team_list_'+type);\r\n        if(teamStr===\"\" || teamStr===null)\r\n        {\r\n            if(type==GameMode.Main){\r\n                // team[1]=(Hero_Type.DeLuYi);\r\n                // team[2]=(Hero_Type.ShouWang);\r\n                // team[3]=(Hero_Type.PaoShou);\r\n                team[2]=(Hero_Type.ShouWang);\r\n                this.saveTeamList(type,team);                \r\n            }else{\r\n                team=this.getTeamList(GameMode.Main);\r\n            }\r\n            \r\n        }else{\r\n            let list=teamStr.split(',');\r\n            for(let i=0; i<list.length; i++)\r\n            {\r\n                let heroType=parseInt(list[i]);\r\n                let isJoin=heroType>0&&this.getHeroLevel(heroType)>0;\r\n                team[i]=isJoin?heroType:-1;                \r\n            }\r\n        }\r\n        return team;\r\n    }\r\n\r\n    saveTeamList(type:GameMode,temp:Hero_Type[])\r\n    {\r\n        cc.sys.localStorage.setItem('team_list_'+type,temp.toString());\r\n    }\r\n\r\n    //加载所有的英雄数据\r\n    loadAllHeroData()\r\n    {\r\n        //需要根据军衔等级，装备等级，英雄等级\r\n        this.hero_data=new Map<number,HeroData>();\r\n        let heroList = HeroManager.getInstance().getHeroList();\r\n        for(let i=0; i<heroList.length; i++)\r\n        {\r\n            this.loadHeroData(heroList[i].hero_type);\r\n        }\r\n    }\r\n\r\n    loadHeroData(heroType:Hero_Type):HeroData\r\n    {\r\n        // if(this.getHeroLevel(heroType)<=0){\r\n        //     return null;\r\n        // }\r\n        let localHD=this.hero_data.get(heroType);\r\n        if(!localHD){\r\n            localHD=new HeroData();\r\n        }\r\n        // 宠物属性定义\r\n        let petAtk = 0,petDefence = 0,petHealth = 0,petHit = 0,petMiss = 0,petCritical = 0,petAntiCritical = 0,petExtraCritical = 0,petAntiExtraCritical = 0;\r\n        // 专属武器的加成\r\n        let exHp = 0,exAttack = 0,exDefense = 0;\r\n        //--固定属性\r\n        let attributeData:JsonHeroAttribute = HeroAttributeManager.getInstance().getJsonDataByHeroTypeAndStage(heroType,this.getHeroStage(heroType));\r\n        let heroInfo:HeroInfo = this.getHeroInfo(heroType);\r\n        \r\n        localHD.fixed_hp = (heroInfo.hero_level * attributeData.GrowthHealth) + attributeData.BaseHealth;\r\n        localHD.fixed_attck = (heroInfo.hero_level * attributeData.GrowthAttack) + attributeData.BaseAttack;\r\n        localHD.fix_defense = (heroInfo.hero_level * attributeData.GrowthDefense) + attributeData.BaseDefense;\r\n        // 专属武器数据获取\r\n        let exStage = this.getExclusiveEquipLevel(heroType)\r\n        if(exStage > 0){\r\n            let exJsonData = ExclusiveEnhancementManager.getInstance().getJsonDataByHeroTypeAndStage(heroType,exStage);\r\n            exHp = (exJsonData.Health) * localHD.fixed_hp;\r\n            exAttack = (exJsonData.Attack) * localHD.fixed_attck;\r\n            exDefense = (exJsonData.Defense) * localHD.fix_defense;\r\n        }\r\n\r\n        // 宠物数据获取\r\n        let petId = HeroManager.getInstance().getWearPet(heroType);\r\n        if(petId!=0){\r\n            let petInfo = SpiritAttributeManager.getInstance().getJsonSpiritAttribute(petId);\r\n            petAtk = petInfo.Attack;\r\n            petDefence = petInfo.Defense;\r\n            petHealth = petInfo.Health;\r\n            petHit = petInfo.Hit;\r\n            petMiss = petInfo.Miss;\r\n            petCritical = petInfo.Critical;\r\n            petAntiCritical = petInfo.AntiCritical;\r\n            petExtraCritical = petInfo.ExtraCritical;\r\n            petAntiExtraCritical = petInfo.AntiExtraCritical;\r\n        }\r\n        localHD.pet_id=petId;\r\n        // 命中值\r\n        localHD.Hit = attributeData.Hit + petHit;\r\n        // 闪避值\r\n        localHD.Miss = attributeData.Miss + petMiss;\r\n        // 暴击值\r\n        localHD.Critical = attributeData.Critical + petCritical;\r\n        // 防爆值\r\n        localHD.AntiCritical = attributeData.AntiCritical + petAntiCritical;\r\n        // 暴击增幅\r\n        localHD.ExtraCritical = attributeData.ExtraCritical + petExtraCritical;\r\n        // 暴击抗性\r\n        localHD.AntiExtraCritical = attributeData.AntiExtraCritical + petAntiExtraCritical;\r\n\r\n        // 攻速\r\n        let HBIM = HeroBaseInfoManager.getInstance();\r\n        localHD.base_jiange = 1/HBIM.getBaseSpeed(heroType);\r\n        localHD.gongji_jiange = 1/HBIM.getBaseSpeed(heroType);\r\n        localHD.atkSpeed = HBIM.getBaseSpeed(heroType);\r\n        localHD.bullet_speed = HBIM.getBaseBulletSpeed(heroType);\r\n        localHD.gongji_fanwei = HBIM.getAttackRange(heroType);\r\n\r\n        // 武器加成\r\n        let allWeaponHp = 0,allWeaponAtk = 0,allWeaponDefence = 0;\r\n        for(let i = EquipType.WuQi;i<EquipType.Num;i++){\r\n            let weaponInfo = heroInfo[\"wear\"+i];\r\n            if(weaponInfo != 0){\r\n                let weaponData = EquipmentManager.getInstance().getAttributesadditional(weaponInfo);\r\n                allWeaponAtk += weaponData[0];\r\n                allWeaponDefence += weaponData[1];\r\n                allWeaponHp += weaponData[2];\r\n            }\r\n        }\r\n\r\n        // --总值\r\n        localHD.Attack = localHD.total_attack = localHD.fixed_attck + allWeaponAtk + petAtk + exAttack;\r\n        localHD.Health = localHD.total_hp = localHD.fixed_hp + allWeaponHp + petHealth + exHp;\r\n        localHD.Defense = localHD.total_defense = localHD.fix_defense + allWeaponDefence + petDefence + exDefense;\r\n\r\n        let star = HeroAttributeManager.getInstance().getStarByHeroTypeAndStage(heroType,heroInfo.hero_stage) + 1;\r\n\r\n        localHD.ColdDown=new Map<number,number>();\r\n        localHD.SkillValue_x=new Map<number,number>();\r\n        localHD.SkillValue_y=new Map<number,number>();\r\n        localHD.SkillValue_z=new Map<number,number>();\r\n        localHD.SkillValue_4=new Map<number,number>();  \r\n        localHD.unlock_state=new Map<number,boolean>();\r\n        for(let s=1; s<=4; s++){\r\n            let jsonData=SkillConfigurationManager.getInstance().getJsonDataByHeroTypeAndSkillPosAndSkillLevel(heroType,s,star);\r\n            if(jsonData == null) continue;\r\n            localHD.SkillValue_x.set(s,jsonData.SkillValue_1);\r\n            localHD.SkillValue_y.set(s,jsonData.SkillValue_2);\r\n            localHD.SkillValue_z.set(s,jsonData.SkillValue_3);\r\n            localHD.SkillValue_4.set(s,jsonData.SkillValue_4);\r\n            localHD.ColdDown.set(s,jsonData.ColdDown);\r\n            localHD.unlock_state.set(s,heroInfo.hero_level>=SkillLevelUnlockManager.getInstance().getHeroLevel(s));\r\n        }\r\n        for(let s=1; s<=4; s++){\r\n            if(exStage>0){\r\n                let exId=ExclusiveEnhancementManager.getInstance().getId(heroType,exStage);\r\n                let exStar=ExclusiveEnhancementManager.getInstance().getStar(exId);\r\n                let exSkillId=ExclusiveWeaponSkillManager.getInstance().getId(heroType,exStar+1);\r\n                let jsonData=ExclusiveWeaponSkillManager.getInstance().getJsonExclusiveWeaponSkill(exSkillId);\r\n                if(jsonData == null) continue;\r\n                localHD[\"ExclusiveWeaponSkillValue_\"+s]=jsonData[\"ExclusiveWeaponSkillValue_\"+s];\r\n            }            \r\n        }\r\n        this.hero_data.set(heroType,localHD);\r\n        return localHD;\r\n\r\n        //localHD=this.getBaseHeroData(i);\r\n        // //攻击范围\r\n        // let heroStage=this.getHeroStage(heroType);\r\n        // //let heroQuality=this.getHeroQuality(heroType);\r\n        // //let heroTier=HeroQualityManager.getInstance().getTier(heroQuality);\r\n        // let hamId=HeroAttributeManager.getId(heroType,heroStage);\r\n        // let jsonHAM=HeroAttributeManager.getInstance().getJsonHeroAttribute(hamId);\r\n        // //-------------------------------攻击攻速暴击爆率等--------------------------\r\n        // //攻击力,基本攻击\r\n        // let baseGJ=jsonHAM.Attack;\r\n        // let equipAttack=0;\r\n        // /**额外百分比攻速 */\r\n        // let equipAttackSpeed= 0 ;\r\n        // /**防御力 */\r\n        // let equipDefense = 0 ;\r\n        // /**生命值 */\r\n        // let equipHealth = 0 ;\r\n        // let eim=EquipmentManager.getInstance();\r\n        // let eam=EquipmentAttributeManager.getInstance();\r\n        // for(let i=EquipType.WuQi; i<EquipType.Num; i++)\r\n        // {\r\n        //     let wearEquipInfo=eim.getNewWearEquipment(heroType,i);\r\n        //     if(wearEquipInfo)\r\n        //     {\r\n        //         let jsonData=eam.getJsonEquipmentAttribute(wearEquipInfo.equip_id);\r\n        //         //这里是相加\r\n        //         equipAttack+=jsonData.Attack;\r\n        //         equipAttackSpeed+=jsonData.AttackSpeed;\r\n        //         equipDefense+=jsonData.Defense;\r\n        //         equipHealth+=jsonData.Health;\r\n        //     }\r\n        // }\r\n        // //宠物加成\r\n        // let petGJ=0;\r\n        // let peDefense=0;\r\n        // let petHealth=0;\r\n        // let petMiss=0;\r\n        // let petCritical=0;\r\n        // let petExtraCritical=0;\r\n        // let petAntiCritical=0;\r\n        // let petAntiExtraCritical=0;\r\n        // let petHit=0;\r\n        // //\r\n        // if(localHD.pet_info){\r\n        //     let petData=PetManager.getInstance().getPetData(localHD.pet_info);\r\n        //     petGJ=petData.Attack;\r\n        //     peDefense=petData.Defense;\r\n        //     petHealth=petData.Health;\r\n        //     petMiss=petData.Miss;\r\n        //     petCritical=petData.Critical;\r\n        //     petExtraCritical=petData.ExtraCritical;\r\n        //     petAntiCritical=petData.AntiCritical;\r\n        //     petAntiExtraCritical=petData.AntiExtraCritical;\r\n        //     petHit=petData.Hit;\r\n        // }\r\n        // //专属武器加成(%,除了暴击值和命中值是具体数值，其他的都是百分比数值)\r\n        // let exGJ=0;\r\n        // let exDefense=0;\r\n        // let exHealth=0;\r\n        // let exMiss=0;\r\n        // let exCritical=0;\r\n        // let exExtraCritical=0;\r\n        // let exAntiCritical=0;\r\n        // let exAntiExtraCritical=0;\r\n        // let exHit=0;\r\n        // //专武等级\r\n        // localHD.hero_info = this.getHeroInfo(heroType);\r\n        // if(localHD.hero_info.exclusive_equip_level>=0){\r\n        //     let exId=ExclusiveEnhancementManager.getId(heroType,localHD.hero_info.exclusive_equip_level);\r\n        //     let exJsonData=ExclusiveEnhancementManager.getInstance().getJsonExclusiveEnhancement(exId);\r\n        //     exGJ=exJsonData.Attack;\r\n        //     exDefense=exJsonData.Defense;\r\n        //     exHealth=exJsonData.Health;\r\n        //     exMiss=exJsonData.Miss;\r\n        //     exCritical=exJsonData.Critical;\r\n        //     exExtraCritical=exJsonData.ExtraCritical;\r\n        //     exAntiCritical=exJsonData.AntiCritical;\r\n        //     exAntiExtraCritical=exJsonData.AntiExtraCritical;\r\n        //     exHit=exJsonData.Hit;\r\n        //     //专武技能参数            \r\n        //     let skillId=ExclusiveWeaponSkillManager.getId(ExclusiveWeaponSkillManager.getInstance().getExStage(localHD.hero_info.exclusive_equip_level),heroType);\r\n        //     let exSkillJsonData=ExclusiveWeaponSkillManager.getInstance().getJsonExclusiveWeaponSkill(skillId);\r\n        //     localHD.ExclusiveWeaponSkillValue_1=exSkillJsonData.ExclusiveWeaponSkillValue_1;\r\n        //     localHD.ExclusiveWeaponSkillValue_2=exSkillJsonData.ExclusiveWeaponSkillValue_2;\r\n        //     localHD.ExclusiveWeaponSkillValue_3=exSkillJsonData.ExclusiveWeaponSkillValue_3;\r\n        //     localHD.ExclusiveWeaponSkillValue_4=exSkillJsonData.ExclusiveWeaponSkillValue_4;\r\n        // }\r\n        \r\n        // //攻击力=基础攻击力*（%+%）\r\n        // //固定攻击力        \r\n        // let totalGJ=(baseGJ+equipAttack+petGJ);\r\n        // let fixAttack=totalGJ;\r\n        // localHD.fixed_attck=fixAttack;\r\n        // totalGJ+=totalGJ*(exGJ);\r\n        // localHD.total_attack=Math.round(totalGJ);\r\n        // localHD.Attack=localHD.total_attack;        \r\n        // //基础攻击速度*（装备%+装备附加%）,这里得到的值是每秒攻击次数\r\n        // //let talentGS=TalentManager.getInstance().getTalentData(TalentType.AttSpeed);\r\n        // let attSpeed=HeroBaseInfoManager.getInstance().getBaseSpeed(heroType);\r\n        // localHD.base_jiange=1/attSpeed;\r\n        // //直接加天赋的\r\n        // attSpeed+=attSpeed*((equipAttackSpeed)/100);\r\n        // //转换成多少秒攻击一次,即攻击间隔\r\n        // localHD.gongji_jiange=1/attSpeed;        \r\n        // //防御力\r\n        // let baseDefense=jsonHAM.Defense;\r\n        // localHD.Defense=baseDefense+peDefense+equipDefense;\r\n        // localHD.Defense+=localHD.Defense*(exDefense);\r\n        // //生命值\r\n        // let baseHp=jsonHAM.Health;\r\n        // localHD.fixed_hp=baseHp+petHealth+equipHealth;\r\n        // localHD.total_hp=localHD.fixed_hp+localHD.fixed_hp*(exHealth);\r\n        // localHD.Health=localHD.total_hp;\r\n        // //命中值\r\n        // let baseHit=jsonHAM.Hit;\r\n        // localHD.Hit=baseHit+petHit+exHit;\r\n        // //闪避值\r\n        // let baseMiss=jsonHAM.Miss;\r\n        // localHD.Miss=baseMiss+petMiss;\r\n        // localHD.Miss+=localHD.Miss*(exMiss);\r\n        // //暴击值\r\n        // let baseCritical=jsonHAM.Critical;\r\n        // localHD.Critical=baseCritical+petCritical+exCritical;\r\n        // //暴击增幅\r\n        // let baseExtraCritical=jsonHAM.ExtraCritical;\r\n        // localHD.ExtraCritical=baseExtraCritical+petExtraCritical;\r\n        // localHD.ExtraCritical+=localHD.ExtraCritical*(exExtraCritical);\r\n        // //防暴值\r\n        // let baseAntiCritical=jsonHAM.AntiCritical;\r\n        // localHD.AntiCritical=baseAntiCritical+petAntiCritical;\r\n        // localHD.AntiCritical+=localHD.AntiCritical*(exAntiCritical);\r\n        // //暴击抗性\r\n        // let baseAntiExtraCritical=jsonHAM.AntiExtraCritical;\r\n        // localHD.AntiExtraCritical=baseAntiExtraCritical+petAntiExtraCritical;\r\n        // localHD.AntiExtraCritical+=localHD.AntiExtraCritical*(exAntiExtraCritical);\r\n        // //\r\n        // localHD.ColdDown=new Map<number,number>();\r\n        // localHD.SkillValue_x=new Map<number,number>();\r\n        // localHD.SkillValue_y=new Map<number,number>();\r\n        // localHD.SkillValue_z=new Map<number,number>();\r\n        // localHD.SkillValue_4=new Map<number,number>();        \r\n        // //3个技能槽的\r\n        // for(let s=1; s<=3; s++){\r\n        //     let skillLevel=SkillLevelUnlockManager.getInstance().getSkillLevel(s,heroStage);\r\n        //     if(skillLevel>0){\r\n        //         let skillId=SkillLevelUnlockManager.getId(s,skillLevel);\r\n        //         let skillLevelId=SkillConfigurationManager.getId(heroType,skillId);\r\n        //         let jsonData=SkillConfigurationManager.getInstance().getJsonSkillConfiguration(skillLevelId);\r\n        //         localHD.SkillValue_x.set(s,jsonData.SkillValue_1);\r\n        //         localHD.SkillValue_y.set(s,jsonData.SkillValue_2);\r\n        //         localHD.SkillValue_z.set(s,jsonData.SkillValue_3);\r\n        //         localHD.SkillValue_4.set(s,jsonData.SkillValue_4);\r\n        //         localHD.ColdDown.set(s,jsonData.ColdDown);\r\n        //     }else{\r\n                \r\n        //     }\r\n        // }\r\n        // this.hero_data.set(heroType,localHD);\r\n        // return localHD;\r\n    }\r\n\r\n    getTryPlayHeroData(heroInfo:HeroInfo):HeroData{\r\n        let localHD=new HeroData();\r\n        // 宠物属性定义\r\n        let petAtk = 0,petDefence = 0,petHealth = 0,petHit = 0,petMiss = 0,petCritical = 0,petAntiCritical = 0,petExtraCritical = 0,petAntiExtraCritical = 0;\r\n        // 专属武器的加成\r\n        let exHp = 0,exAttack = 0,exDefense = 0;\r\n        //--固定属性\r\n        let attributeData:JsonHeroAttribute = HeroAttributeManager.getInstance().getJsonDataByHeroTypeAndStage(heroInfo.hero_type,heroInfo.hero_stage);\r\n        \r\n        localHD.fixed_hp = (heroInfo.hero_level * attributeData.GrowthHealth) + attributeData.BaseHealth;\r\n        localHD.fixed_attck = (heroInfo.hero_level * attributeData.GrowthAttack) + attributeData.BaseAttack;\r\n        localHD.fix_defense = (heroInfo.hero_level * attributeData.GrowthDefense) + attributeData.BaseDefense;\r\n        // 专属武器数据获取\r\n        let exStage = heroInfo.exclusive_equip_stage;\r\n        if(exStage > 0){\r\n            let exJsonData = ExclusiveEnhancementManager.getInstance().getJsonDataByHeroTypeAndStage(heroInfo.hero_type,exStage);\r\n            exHp = (exJsonData.Health) * localHD.fixed_hp;\r\n            exAttack = (exJsonData.Attack) * localHD.fixed_attck;\r\n            exDefense = (exJsonData.Defense) * localHD.fix_defense;\r\n        }\r\n\r\n        // 宠物数据获取\r\n        let petId = heroInfo.pet_id;\r\n        if(petId!=0){\r\n            let petInfo = SpiritAttributeManager.getInstance().getJsonSpiritAttribute(petId);\r\n            petAtk = petInfo.Attack;\r\n            petDefence = petInfo.Defense;\r\n            petHealth = petInfo.Health;\r\n            petHit = petInfo.Hit;\r\n            petMiss = petInfo.Miss;\r\n            petCritical = petInfo.Critical;\r\n            petAntiCritical = petInfo.AntiCritical;\r\n            petExtraCritical = petInfo.ExtraCritical;\r\n            petAntiExtraCritical = petInfo.AntiExtraCritical;\r\n        }\r\n        localHD.pet_id=petId;\r\n        // 命中值\r\n        localHD.Hit = attributeData.Hit + petHit;\r\n        // 闪避值\r\n        localHD.Miss = attributeData.Miss + petMiss;\r\n        // 暴击值\r\n        localHD.Critical = attributeData.Critical + petCritical;\r\n        // 防爆值\r\n        localHD.AntiCritical = attributeData.AntiCritical + petAntiCritical;\r\n        // 暴击增幅\r\n        localHD.ExtraCritical = attributeData.ExtraCritical + petExtraCritical;\r\n        // 暴击抗性\r\n        localHD.AntiExtraCritical = attributeData.AntiExtraCritical + petAntiExtraCritical;\r\n\r\n        // 攻速\r\n        let HBIM = HeroBaseInfoManager.getInstance();\r\n        localHD.base_jiange = 1/HBIM.getBaseSpeed(heroInfo.hero_type);\r\n        localHD.gongji_jiange = 1/HBIM.getBaseSpeed(heroInfo.hero_type);\r\n        localHD.atkSpeed = HBIM.getBaseSpeed(heroInfo.hero_type);\r\n        localHD.bullet_speed = HBIM.getBaseBulletSpeed(heroInfo.hero_type);\r\n        localHD.gongji_fanwei = HBIM.getAttackRange(heroInfo.hero_type);\r\n\r\n        // 武器加成\r\n        let allWeaponHp = 0,allWeaponAtk = 0,allWeaponDefence = 0;\r\n        for(let i = EquipType.WuQi;i<EquipType.Num;i++){\r\n            let weaponInfo = heroInfo[\"wear\"+i];\r\n            if(weaponInfo != 0){\r\n                let weaponData = EquipmentManager.getInstance().getAttributesadditional(weaponInfo);\r\n                allWeaponAtk += weaponData[0];\r\n                allWeaponDefence += weaponData[1];\r\n                allWeaponHp += weaponData[2];\r\n            }\r\n        }\r\n\r\n        // --总值\r\n        localHD.Attack = localHD.total_attack = localHD.fixed_attck + allWeaponAtk + petAtk + exAttack;\r\n        localHD.Health = localHD.total_hp = localHD.fixed_hp + allWeaponHp + petHealth + exHp;\r\n        localHD.Defense = localHD.total_defense = localHD.fix_defense + allWeaponDefence + petDefence + exDefense;\r\n\r\n        let star = HeroAttributeManager.getInstance().getStarByHeroTypeAndStage(heroInfo.hero_type,heroInfo.hero_stage) + 1;\r\n\r\n        localHD.ColdDown=new Map<number,number>();\r\n        localHD.SkillValue_x=new Map<number,number>();\r\n        localHD.SkillValue_y=new Map<number,number>();\r\n        localHD.SkillValue_z=new Map<number,number>();\r\n        localHD.SkillValue_4=new Map<number,number>();  \r\n        localHD.unlock_state=new Map<number,boolean>();\r\n        for(let s=1; s<=4; s++){\r\n            let jsonData=SkillConfigurationManager.getInstance().getJsonDataByHeroTypeAndSkillPosAndSkillLevel(heroInfo.hero_type,s,star);\r\n            if(jsonData == null) continue;\r\n            localHD.SkillValue_x.set(s,jsonData.SkillValue_1);\r\n            localHD.SkillValue_y.set(s,jsonData.SkillValue_2);\r\n            localHD.SkillValue_z.set(s,jsonData.SkillValue_3);\r\n            localHD.SkillValue_4.set(s,jsonData.SkillValue_4);\r\n            localHD.ColdDown.set(s,jsonData.ColdDown);\r\n            localHD.unlock_state.set(s,heroInfo.hero_level>=SkillLevelUnlockManager.getInstance().getHeroLevel(s));\r\n        }\r\n        for(let s=1; s<=4; s++){\r\n            if(exStage>0){\r\n                let exId=ExclusiveEnhancementManager.getInstance().getId(heroInfo.hero_type,exStage);\r\n                let exStar=ExclusiveEnhancementManager.getInstance().getStar(exId);\r\n                let exSkillId=ExclusiveWeaponSkillManager.getInstance().getId(heroInfo.hero_type,exStar+1);\r\n                let jsonData=ExclusiveWeaponSkillManager.getInstance().getJsonExclusiveWeaponSkill(exSkillId);\r\n                if(jsonData == null) continue;\r\n                localHD[\"ExclusiveWeaponSkillValue_\"+s]=jsonData[\"ExclusiveWeaponSkillValue_\"+s];\r\n            }            \r\n        }\r\n        return localHD;\r\n    }\r\n\r\n    \r\n    getTargetHeroData(heroType:Hero_Type,stage:number,level:number):HeroData{\r\n        \r\n        let localHD=new HeroData();\r\n        let heroLevel = level;\r\n\r\n        // 宠物属性定义\r\n        let petAtk = 0,petDefence = 0,petHealth = 0,petHit = 0,petMiss = 0,petCritical = 0,petAntiCritical = 0,petExtraCritical = 0,petAntiExtraCritical = 0;\r\n\r\n        //--固定属性\r\n        let attributeData:JsonHeroAttribute = HeroAttributeManager.getInstance().getJsonDataByHeroTypeAndStage(heroType,stage);\r\n        localHD.fixed_hp = (heroLevel * attributeData.GrowthHealth) + attributeData.BaseHealth;\r\n        localHD.fixed_attck = (heroLevel * attributeData.GrowthAttack) + attributeData.BaseAttack;\r\n        localHD.fix_defense = (heroLevel * attributeData.GrowthDefense) + attributeData.BaseDefense;\r\n        \r\n        // 武器&宠物加成\r\n        let heroInfo = HeroManager.getInstance().getHeroInfo(heroType);\r\n        let allWeaponHp = 0,allWeaponAtk = 0,allWeaponDefence = 0;\r\n        if(heroInfo!=null){\r\n\r\n            let petId = HeroManager.getInstance().getWearPet(heroType);\r\n            if(petId!=0){\r\n                let petInfo = SpiritAttributeManager.getInstance().getJsonSpiritAttribute(petId);\r\n                petAtk = petInfo.Attack;\r\n                petDefence = petInfo.Defense;\r\n                petHealth = petInfo.Health;\r\n                petHit = petInfo.Hit;\r\n                petMiss = petInfo.Miss;\r\n                petCritical = petInfo.Critical;\r\n                petAntiCritical = petInfo.AntiCritical;\r\n                petExtraCritical = petInfo.ExtraCritical;\r\n                petAntiExtraCritical = petAntiExtraCritical;\r\n            }\r\n            localHD.pet_id=petId;\r\n            for(let i = EquipType.WuQi;i<EquipType.Num;i++){\r\n                let weaponInfo = heroInfo[\"wear\"+i];\r\n                if(weaponInfo != 0){\r\n                    let weaponData = EquipmentManager.getInstance().getAttributesadditional(weaponInfo);\r\n                    allWeaponAtk += weaponData[0];\r\n                    allWeaponDefence += weaponData[1];\r\n                    allWeaponHp += weaponData[2];\r\n                }\r\n            }\r\n        }\r\n\r\n        // 命中值\r\n        localHD.Hit = attributeData.Hit + petHit;\r\n        // 闪避值\r\n        localHD.Miss = attributeData.Miss + petMiss;\r\n        // 暴击值\r\n        localHD.Critical = attributeData.Critical + petCritical;\r\n        // 防爆值\r\n        localHD.AntiCritical = attributeData.AntiCritical + petAntiCritical;\r\n        // 暴击增幅\r\n        localHD.ExtraCritical = attributeData.ExtraCritical + petExtraCritical;\r\n        // 暴击抗性\r\n        localHD.AntiExtraCritical = attributeData.AntiExtraCritical + petAntiExtraCritical;\r\n\r\n        // 攻速\r\n        let HBIM = HeroBaseInfoManager.getInstance();\r\n        localHD.base_jiange = 1/HBIM.getBaseSpeed(heroType);\r\n        localHD.gongji_jiange = 1/HBIM.getBaseSpeed(heroType);\r\n        localHD.bullet_speed = HBIM.getBaseBulletSpeed(heroType);\r\n        localHD.gongji_fanwei = HBIM.getAttackRange(heroType);\r\n       \r\n        \r\n        // --总值\r\n        localHD.Attack = localHD.total_attack = localHD.fixed_attck + allWeaponAtk + petAtk;\r\n        localHD.Health = localHD.total_hp = localHD.fixed_hp + allWeaponHp + petHealth;\r\n        localHD.Defense = localHD.total_defense = localHD.fix_defense + allWeaponDefence + petDefence;\r\n\r\n        // --总值\r\n        // localHD.Attack=localHD.total_attack = localHD.fixed_attck ;\r\n        // localHD.Health=localHD.total_hp = localHD.fixed_hp ;\r\n        // localHD.Defense=localHD.total_defense = localHD.fix_defense ;\r\n\r\n        let star = HeroAttributeManager.getInstance().getStarByHeroTypeAndStage(heroType,stage) + 1;\r\n\r\n        localHD.ColdDown=new Map<number,number>();\r\n        localHD.SkillValue_x=new Map<number,number>();\r\n        localHD.SkillValue_y=new Map<number,number>();\r\n        localHD.SkillValue_z=new Map<number,number>();\r\n        localHD.SkillValue_4=new Map<number,number>();  \r\n\r\n        for(let s=1; s<=4; s++){\r\n            let jsonData=SkillConfigurationManager.getInstance().getJsonDataByHeroTypeAndSkillPosAndSkillLevel(heroType,s,star);\r\n            if(jsonData == null) continue;\r\n            localHD.SkillValue_x.set(s,jsonData.SkillValue_1);\r\n            localHD.SkillValue_y.set(s,jsonData.SkillValue_2);\r\n            localHD.SkillValue_z.set(s,jsonData.SkillValue_3);\r\n            localHD.SkillValue_4.set(s,jsonData.SkillValue_4);\r\n            localHD.ColdDown.set(s,jsonData.ColdDown);\r\n        }\r\n\r\n        // this.hero_data.set(heroType,localHD);\r\n        return localHD;\r\n    }\r\n\r\n    getHeroData(heroType:Hero_Type):HeroData{\r\n        return this.hero_data.get(heroType);\r\n    }\r\n\r\n    getDeepHeroData(heroType:Hero_Type):HeroData{\r\n        let data = new HeroData();\r\n        let temp = this.hero_data.get(heroType);\r\n        data.total_attack = temp.total_attack;\r\n        data.total_defense = temp.total_defense;\r\n        data.total_hp = temp.total_hp;\r\n        data.Hit = temp.Hit;\r\n        data.Miss = temp.Miss;\r\n        data.Critical = temp.Critical;\r\n        data.AntiCritical = temp.AntiCritical;\r\n        data.ExtraCritical = temp.ExtraCritical;\r\n        data.AntiExtraCritical = temp.AntiExtraCritical;\r\n        return data;\r\n    }\r\n\r\n    changeBindPet(heroType:Hero_Type,petInfo:PetInfo){\r\n        if(this.hero_data.get(heroType)){\r\n            this.hero_data.get(heroType).pet_info=petInfo;\r\n            //this.hero_data.get(heroType).pet_info.sequence_id=123;\r\n        }        \r\n    }\r\n\r\n    refreshHeroData(heroType:Hero_Type)\r\n    {\r\n        this.loadHeroData(heroType)\r\n    }\r\n\r\n    //获取战力\r\n    getAllHeroZhanli():number\r\n    {\r\n        let num=0;\r\n        let list=this.getHeroList();\r\n        for(let i=0; i<list.length; i++)\r\n        {\r\n            num+=Math.floor(this.getHeroZhanli(list[i].hero_type));\r\n        }\r\n        return num;\r\n    }\r\n\r\n    getHeroZhanli(heroType:Hero_Type):number\r\n    {\r\n        this.refreshHeroData(heroType);\r\n        let heroData=this.hero_data.get(heroType);\r\n        let zhanli = heroData.total_hp * CombatEffectivenessManager.getInstance().getConversionFactor(1) \r\n        + heroData.total_attack * CombatEffectivenessManager.getInstance().getConversionFactor(2)\r\n        + heroData.total_defense * CombatEffectivenessManager.getInstance().getConversionFactor(3)\r\n        + heroData.Hit * CombatEffectivenessManager.getInstance().getConversionFactor(4)\r\n        + heroData.Miss * CombatEffectivenessManager.getInstance().getConversionFactor(5)\r\n        + (heroData.Critical - 100) * CombatEffectivenessManager.getInstance().getConversionFactor(6)\r\n        + heroData.AntiCritical * CombatEffectivenessManager.getInstance().getConversionFactor(7)\r\n        + (heroData.ExtraCritical - 2) * CombatEffectivenessManager.getInstance().getConversionFactor(8)\r\n        + heroData.AntiExtraCritical * CombatEffectivenessManager.getInstance().getConversionFactor(9)\r\n        return zhanli;\r\n    }\r\n\r\n    getTargetHeroZhanli(heroType:Hero_Type,stage:number,level:number):number\r\n    {\r\n        let heroData=this.getTargetHeroData(heroType,stage,level);\r\n        let zhanli = heroData.total_hp * CombatEffectivenessManager.getInstance().getConversionFactor(1) \r\n        + heroData.total_attack * CombatEffectivenessManager.getInstance().getConversionFactor(2)\r\n        + heroData.total_defense * CombatEffectivenessManager.getInstance().getConversionFactor(3)\r\n        + heroData.Hit * CombatEffectivenessManager.getInstance().getConversionFactor(4)\r\n        + heroData.Miss * CombatEffectivenessManager.getInstance().getConversionFactor(5)\r\n        + (heroData.Critical - 100) * CombatEffectivenessManager.getInstance().getConversionFactor(6)\r\n        + heroData.AntiCritical * CombatEffectivenessManager.getInstance().getConversionFactor(7)\r\n        + (heroData.ExtraCritical - 2) * CombatEffectivenessManager.getInstance().getConversionFactor(8)\r\n        + heroData.AntiExtraCritical * CombatEffectivenessManager.getInstance().getConversionFactor(9)\r\n        return zhanli;\r\n    }\r\n\r\n    getNewDayZhanli():number\r\n    {\r\n        let num=cc.sys.localStorage.getItem('today_zhanli_');\r\n        if(num===\"\" || num===null)\r\n        {\r\n            num=this.getAllHeroZhanli();\r\n        }else\r\n        {\r\n            num=parseInt(num);            \r\n        }\r\n        return num;\r\n    }\r\n\r\n    static getHeroIsNeedTip(heroType:Hero_Type):boolean\r\n    {\r\n        let isTip=false;\r\n        let num=cc.sys.localStorage.getItem('hero_get_tip_'+heroType);\r\n        if(num===\"\" || num===null)\r\n        {\r\n            isTip=true;            \r\n        }else\r\n        {\r\n            isTip=false;\r\n        }\r\n        return isTip;\r\n    }\r\n\r\n    static setHeroIsNeedTip(heroType:Hero_Type)\r\n    {\r\n        cc.sys.localStorage.setItem('hero_get_tip_'+heroType,1);\r\n    }\r\n\r\n    static getSkinIndex(tier:number):number{\r\n        switch(tier){\r\n            case 1:{\r\n                return 1;\r\n            }\r\n            case 2:{\r\n                return 2;\r\n            }\r\n            case 3:{\r\n                return 4;\r\n            }\r\n            case 4:{\r\n                return 7;\r\n            }\r\n            case 5:{\r\n                return 10;\r\n            }\r\n            case 6:{\r\n                return 11;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n    * 获得一个上阵的随机英雄\r\n    * @param mode 游戏模式\r\n    * @param exId 排除的id\r\n    * @returns 除exId之外的id\r\n    */\r\n    getRandHeroId(mode:GameMode,exId:Hero_Type=Hero_Type.NULL,teamList?:number[]):Hero_Type{\r\n        //随机英雄\r\n        if(!teamList)\r\n        teamList=this.getTeamList(mode);\r\n        let randList=[];\r\n        for(let i=0; i<teamList.length; i++){\r\n            let id=teamList[i];\r\n            if(id>Hero_Type.NULL){\r\n                if(id!=exId){\r\n                    randList.push(teamList[i]);\r\n                }                \r\n            }\r\n        }\r\n        let heroId=0;\r\n        if(randList.length>0){\r\n            heroId=randList[Math.floor(Math.random()*randList.length)];\r\n        }    \r\n        return heroId;\r\n    }\r\n\r\n    //*******************************----------------装备-------------------************************************************ */\r\n    /**\r\n     * 穿戴一个装备,equipId为0时，请务必把equipType写上\r\n     * @param heroType 英雄id     \r\n     * @param equipId 装备id\r\n     * @param equipType 装备位\r\n     */\r\n    addWearEquipment(heroType:Hero_Type,equipId:number,equipType?:EquipType){\r\n        if(!equipType){\r\n            equipType=EquipmentAttributeManager.getInstance().getEquipmentPosition(equipId);\r\n        }\r\n        //需要遍历装备列表，获取hero_type变量\r\n        TaskManager.getInstance().emitTask(TaskItem.为任意X名英雄穿戴1件装备);\r\n        this.getHeroInfo(heroType)[\"wear\"+equipType]=equipId;\r\n        GameManager.getInstance().refreshZhanliShow();\r\n        EventManager.postAssetsEvent(AssetsEventType.EQUIP_WEAR_UNLOAD);\r\n        this.saveHeroList();\r\n    }\r\n\r\n    /**\r\n     * 卸下一个装备\r\n     * @param heroType 英雄id\r\n     * @param equipPos 装备位\r\n     */\r\n     unloadWearEquipment(heroType:Hero_Type,equipType:EquipType){\r\n        //需要遍历装备列表，获取hero_type变量\r\n        this.getHeroInfo(heroType)[\"wear\"+equipType]=0;\r\n        GameManager.getInstance().refreshZhanliShow();\r\n        EventManager.postAssetsEvent(AssetsEventType.EQUIP_WEAR_UNLOAD);\r\n    }\r\n    /**获得正在装备的装备id */\r\n    getWearEquipment(heroType:Hero_Type,equipType:EquipType):number{\r\n        return this.getHeroInfo(heroType)[\"wear\"+equipType];\r\n    }\r\n    /**获取剩余的装备数量 */\r\n    getEquipmentRemainNum(equipInfo:EquipInfo):number{\r\n        let num=equipInfo.equip_num;\r\n        let type=EquipmentAttributeManager.getInstance().getEquipmentPosition(equipInfo.equip_id);\r\n        let heroList=this.getHeroList();\r\n        for(let i=0; i<heroList.length; i++){\r\n            if(heroList[i][\"wear\"+type]==equipInfo.equip_id){\r\n                num--;\r\n            }\r\n        }\r\n        return num;\r\n    }\r\n    /**获取一个装备id被装备的英雄列表 */\r\n    getWearEquipmentHeroList(equipInfo:EquipInfo):Hero_Type[]{\r\n        let list=[];\r\n        let type=EquipmentAttributeManager.getInstance().getEquipmentPosition(equipInfo.equip_id);\r\n        let heroList=this.getHeroList();\r\n        for(let i=0; i<heroList.length; i++){\r\n            let heroInfo=heroList[i];\r\n            if(heroInfo[\"wear\"+type]==equipInfo.equip_id){\r\n                list.push(heroInfo.hero_type);\r\n            }\r\n        }\r\n        return list;\r\n    }\r\n\r\n    // --------------------------------------宠物---------------------------------------------\r\n    /**\r\n     * 穿戴一个宠物,equipId为0时，请务必把equipType写上\r\n     * @param heroType 英雄id     \r\n     * @param petId 装备id\r\n     * @param equipType 装备位\r\n     */\r\n     addWearPet(heroType:Hero_Type,petId:number){\r\n        //需要遍历装备列表，获取hero_type变量\r\n        TaskManager.getInstance().emitTask(TaskItem.为任意X名英雄穿戴1件装备);\r\n        this.getHeroInfo(heroType).pet_id=petId;\r\n        GameManager.getInstance().refreshZhanliShow();\r\n        // EventManager.postAssetsEvent(AssetsEventType.EQUIP_WEAR_UNLOAD);\r\n        this.saveHeroList();\r\n    }\r\n\r\n    /**\r\n     * 卸下一个装备\r\n     * @param heroType 英雄id\r\n     * @param equipPos 装备位\r\n     */\r\n     unloadWearPet(heroType:Hero_Type){\r\n        //需要遍历装备列表，获取hero_type变量\r\n        this.getHeroInfo(heroType).pet_id=0;\r\n        GameManager.getInstance().refreshZhanliShow();\r\n        // EventManager.postAssetsEvent(AssetsEventType.EQUIP_WEAR_UNLOAD);\r\n    }\r\n    /**获得正在装备的装备id */\r\n    getWearPet(heroType:Hero_Type):number{\r\n        return this.getHeroInfo(heroType).pet_id;\r\n    }\r\n\r\n    /**获取剩余的装备数量 */\r\n    getPetRemainNum(petInfo:PetMessage):number{\r\n        let num=petInfo.pet_num;\r\n        let type=EquipmentAttributeManager.getInstance().getEquipmentPosition(petInfo.pet_id);\r\n        let heroList=this.getHeroList();\r\n        for(let i=0; i<heroList.length; i++){\r\n            if(heroList[i][\"wear\"+type]==petInfo.pet_id){\r\n                num--;\r\n            }\r\n        }\r\n        return num;\r\n    }\r\n    /**获取一个装备id被装备的英雄列表 */\r\n    getWearPetHeroList(petInfo:PetMessage):Hero_Type[]{\r\n        let list=[];\r\n        let heroList=this.getHeroList();\r\n        for(let i=0; i<heroList.length; i++){\r\n            let heroInfo=heroList[i];\r\n            if(heroInfo.pet_id==petInfo.pet_id){\r\n                list.push(heroInfo.hero_type);\r\n            }\r\n        }\r\n        return list;\r\n    }\r\n\r\n    /**检查是否可以升级 */\r\n    checkUpgrade(heroType:Hero_Type):HeroUpgradeData{\r\n        // let heroQuality = this.getHeroQuality(heroType);\r\n        let upData = new HeroUpgradeData();\r\n        if(this.getHeroLevel(heroType) == HeroBaseInfoManager.getInstance().getMaxLevel(heroType)) return upData\r\n        let coinHaveNum = PropManager.getInstance().getPropNum(PropId.Coin);\r\n        let coinNeedNum = LevelUpManager.getInstance().getCostCoin(this.getHeroLevel(heroType));\r\n        let gemHaveNum = PropManager.getInstance().getPropNum(PropId.Gem);\r\n        let gemNeedNum = LevelUpManager.getInstance().getCostGem(this.getHeroLevel(heroType));\r\n        let finishLevel = LevelManager.getInstance().finish_level;\r\n        let needFinishLevel = LevelUpManager.getInstance().getLevelLimit(this.getHeroLevel(heroType));\r\n        // 升级按钮置灰，优先关卡置灰(即在金币足够的情况下，通过关卡没达到要求则按钮置灰)。\r\n        // 如果是以为金币不足置灰则点击升级按钮弹出资源不足弹窗，如果是关卡限制置灰，点击升级按钮则提示通过关卡不足飘字提醒\r\n        upData.is_can_up=coinHaveNum>=coinNeedNum && finishLevel>=needFinishLevel && gemHaveNum >= gemNeedNum;\r\n        return upData;\r\n    }\r\n    /**检查是否可以升星 */\r\n    checkUpStar(heroType:Hero_Type):boolean{\r\n        let heroInfo=this.getHeroInfo(heroType);\r\n        if(!heroInfo){\r\n            return false;\r\n        }\r\n        let curStage=this.getHeroStage(heroType);\r\n        let haveNum = PropManager.getInstance().getPropNum(HeroBaseInfoManager.getInstance().getHeroFragment(heroType));\r\n        let needNum = HeroQualityManager.getInstance().getCostDebrisByHeroQualityAndStage(this.getHeroQuality(heroType),curStage);\r\n        return haveNum >= needNum && curStage<HeroBaseInfoManager.getInstance().getMaxStage(heroType);\r\n    }\r\n    /**检查是否可以使用万能碎片 */\r\n    checkAllPurposeFragment(heroType:Hero_Type):boolean{\r\n        let heroInfo=this.getHeroInfo(heroType);\r\n        if(!heroInfo){\r\n            return false;\r\n        }\r\n        let curStage=this.getHeroStage(heroType);\r\n        let haveNum = PropManager.getInstance().getPropNum(HeroBaseInfoManager.getInstance().getHeroFragment(heroType));\r\n        let needNum = HeroQualityManager.getInstance().getCostDebrisByHeroQualityAndStage(this.getHeroQuality(heroType),curStage);\r\n        let offsetNum=needNum-haveNum;\r\n        return haveNum < needNum && curStage<HeroBaseInfoManager.getInstance().getMaxStage(heroType) && PropManager.getInstance().getPropNum(this.getHeroFragmentId(heroType))>=offsetNum;\r\n    }\r\n\r\n    getHeroFragmentId(heroId:Hero_Type):number{\r\n        //品质\r\n        let quality=HeroBaseInfoManager.getInstance().getQuality(heroId);\r\n        return 101000+quality;\r\n    }\r\n    /**检测英雄是否可以解锁 */\r\n    checkUnlock(heroType:Hero_Type):boolean{\r\n        let heroInfo=this.getHeroInfo(heroType);\r\n        if(heroInfo){\r\n            return false;\r\n        }\r\n        let haveNum = PropManager.getInstance().getPropNum(HeroBaseInfoManager.getInstance().getHeroFragment(heroType));\r\n        let needNum = HeroBaseInfoManager.getInstance().getUnlockFragmentNum(heroType);\r\n        if(haveNum>=needNum){\r\n            return true;\r\n        }else{\r\n            let offsetNum=needNum-haveNum;\r\n            return PropManager.getInstance().getPropNum(this.getHeroFragmentId(heroType))>=offsetNum;\r\n        }\r\n    }\r\n    checkExUp(heroType:Hero_Type):boolean{\r\n        let heroInfo=this.getHeroInfo(heroType);\r\n        if(heroInfo){\r\n            let ewShowData = ExclusiveWeaponMessageManager.getInstance().getJsonExclusiveWeaponMessage(heroType);\r\n            if(heroInfo.exclusive_equip_stage >= ewShowData.MaxStage){\r\n                return false;\r\n            }\r\n            let heroBaseInfo = HeroBaseInfoManager.getInstance().getJsonHeroBaseInfo(heroType);\r\n            let needNum = EWUnlockCostManager.getInstance().getCostFragment(heroInfo.hero_quality);\r\n            let haveNum = PropManager.getInstance().getPropNum(heroBaseInfo.ExclusiveWeaponFragment);\r\n            return haveNum>=needNum;\r\n        }\r\n        return false;\r\n        \r\n    }\r\n    getExclusiveWeaponData(heroType:Hero_Type,stage:number):HeroData{\r\n        let info = new HeroData();\r\n        let heroData = this.getHeroData(heroType);\r\n        let exData = ExclusiveEnhancementManager.getInstance().getJsonDataByHeroTypeAndStage(heroType,stage);\r\n\r\n        if(exData == null) return null;\r\n\r\n        info.total_hp = heroData.fixed_hp * exData.Health;\r\n        info.total_attack = heroData.fixed_attck * exData.Attack;\r\n        info.total_defense = heroData.fix_defense * exData.Defense;\r\n\r\n        return info;\r\n    }\r\n\r\n    getExclusiveWeaponCombbat(heroType:Hero_Type,stage:number):number{\r\n        let num = 0;\r\n        let exData = this.getExclusiveWeaponData(heroType,stage);\r\n\r\n        if(exData!= null){\r\n            num = exData.total_hp * CombatEffectivenessManager.getInstance().getConversionFactor(1) \r\n            + exData.total_attack * CombatEffectivenessManager.getInstance().getConversionFactor(2)\r\n            + exData.total_defense * CombatEffectivenessManager.getInstance().getConversionFactor(3);\r\n        }\r\n\r\n        return num\r\n    }\r\n\r\n    /**检测专武能否升级 */\r\n    checkExclusive(heroType:Hero_Type):HeroExclusiveData{\r\n        let data=new HeroExclusiveData();\r\n        // let weaponData = ExclusiveEnhancementManager.getInstance().getJsonByHeroTypeAndWeaponLevel(heroType,this.getHeroInfo(heroType).exclusive_equip_level);\r\n        // data.cost_prop_id=weaponData.SpendPropID\r\n        // data.cur_prop_num=PropManager.getInstance().getPropNum(data.cost_prop_id);\r\n        // data.cost_prop_num=weaponData.SpendPropNum;\r\n        // data.is_can_up=data.cur_prop_num>=data.cost_prop_num;\r\n        return data;\r\n    }    \r\n    \r\n    /**通过红点类型获取英雄类型 */\r\n    static getHeroTypeByRedType(redType:RedEventType):Hero_Type{\r\n        let heroType=Hero_Type.ChangMaoShou;\r\n        switch(redType){\r\n            case RedEventType.Btn_Role_List_1:heroType=Hero_Type.ChangMaoShou; break;\r\n            case RedEventType.Btn_Role_List_2:heroType=Hero_Type.ShouWang; break;\r\n            case RedEventType.Btn_Role_List_3:heroType=Hero_Type.PaoShou; break;\r\n            case RedEventType.Btn_Role_List_4:heroType=Hero_Type.DeLuYi; break;\r\n            case RedEventType.Btn_Role_List_5:heroType=Hero_Type.KuangZhanShi; break;\r\n            case RedEventType.Btn_Role_List_6:heroType=Hero_Type.ZhenDe; break;\r\n            case RedEventType.Btn_Role_List_7:heroType=Hero_Type.NvWu; break;\r\n            case RedEventType.Btn_Role_List_8:heroType=Hero_Type.GongJianShou; break;\r\n            case RedEventType.Btn_Role_List_9:heroType=Hero_Type.BingNv; break;\r\n            case RedEventType.Btn_Role_List_10:heroType=Hero_Type.ANuBiSi; break;\r\n            case RedEventType.Btn_Role_List_11:heroType=Hero_Type.MeiMo; break;\r\n            case RedEventType.Btn_Role_List_12:heroType=Hero_Type.LeiShen; break;\r\n        }\r\n        return heroType;\r\n    }\r\n\r\n    /**通过红点类型获取英雄类型 */\r\n    static getRedTypeByHeroType(heroType:Hero_Type):RedEventType{\r\n        let redType=RedEventType.Btn_Role_List_1;\r\n        switch(heroType){\r\n            case Hero_Type.ChangMaoShou:redType=RedEventType.Btn_Role_List_1; break;\r\n            case Hero_Type.ShouWang:redType=RedEventType.Btn_Role_List_2; break;\r\n            case Hero_Type.PaoShou:redType=RedEventType.Btn_Role_List_3; break;\r\n            case Hero_Type.DeLuYi:redType=RedEventType.Btn_Role_List_4; break;\r\n            case Hero_Type.KuangZhanShi:redType=RedEventType.Btn_Role_List_5; break;\r\n            case Hero_Type.ZhenDe:redType=RedEventType.Btn_Role_List_6; break;\r\n            case Hero_Type.NvWu:redType=RedEventType.Btn_Role_List_7; break;\r\n            case Hero_Type.GongJianShou:redType=RedEventType.Btn_Role_List_8; break;\r\n            case Hero_Type.BingNv:redType=RedEventType.Btn_Role_List_9; break;\r\n            case Hero_Type.ANuBiSi:redType=RedEventType.Btn_Role_List_10; break;\r\n            case Hero_Type.MeiMo:redType=RedEventType.Btn_Role_List_11; break;\r\n            case Hero_Type.LeiShen:redType=RedEventType.Btn_Role_List_12; break;\r\n        }\r\n        return redType;\r\n    }\r\n\r\n    private getHeroListJsonString():string{\r\n        let uid=UserData.getInstance().getUserID();\r\n        return JSON.stringify({\r\n            uid:uid,\r\n        });\r\n    }\r\n\r\n    private setHeroListJsonString(heroDatas:HeroObject[]):string{\r\n        let uid=UserData.getInstance().getUserID();\r\n        return JSON.stringify({\r\n            uid:uid,\r\n            heroList:heroDatas,\r\n        });\r\n    }\r\n}\r\n"]}