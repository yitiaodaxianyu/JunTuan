{"version":3,"sources":["assets\\Scripts\\Hero\\Game\\MpProgress.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import SkillManager from \"../../Game/SkillManager\";\r\nimport { HeroManager } from \"../Data/HeroManager\";\r\nimport { Hero_Type } from \"./HeroConfig\";\r\n\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class MpProgress extends cc.Component {\r\n\r\n    @property([cc.SpriteFrame])\r\n    sp_icon_bg:cc.SpriteFrame[]=[];\r\n\r\n    @property(cc.Prefab)\r\n    prefab_bg:cc.Prefab=null;\r\n\r\n    ok_node:cc.Node=null;\r\n    left:cc.Sprite=null;\r\n    right:cc.Sprite=null;\r\n    is_cding:boolean=false;\r\n    icon:cc.Sprite=null;\r\n    icon_bg:cc.Sprite=null;\r\n    /**禁止图标 */\r\n    disable:cc.Node=null;\r\n    is_disable:boolean=false;\r\n    /**材质 */\r\n    materials:cc.Material[]=[];\r\n    \r\n\r\n    init(heroId:Hero_Type)\r\n    {\r\n        this.ok_node=this.node.getChildByName('ok');\r\n        this.left=this.node.getChildByName('left').getComponent(cc.Sprite);\r\n        this.right=this.node.getChildByName('right').getComponent(cc.Sprite);\r\n        let iconBg=cc.instantiate(this.prefab_bg);\r\n        iconBg.x=this.node.x;\r\n        iconBg.y=this.node.y-36;\r\n        SkillManager.getInstance().node.getChildByName('skill_icon').addChild(iconBg);\r\n        this.icon_bg=iconBg.getComponent(cc.Sprite);\r\n        //icon\r\n        this.icon=iconBg.getChildByName('mask').getChildByName('icon').getComponent(cc.Sprite);\r\n        this.icon.spriteFrame=HeroManager.getInstance().getSpriteFrameByNames('Hero_'+heroId+'_Skill_0');\r\n        this.disable=this.icon.node.parent.getChildByName('disable');\r\n        this.disable.active=false;\r\n        this.setNormalSP();\r\n        this.materials.push(cc.Material.getBuiltinMaterial('2d-gray-sprite'))\r\n        this.materials.push(cc.Material.getBuiltinMaterial('2d-sprite'))\r\n        //this.prefab_bg=null;\r\n    }\r\n\r\n    // showLight(){\r\n        \r\n    // }\r\n    \r\n    setCDSP()\r\n    {\r\n        this.ok_node.active=false;\r\n        this.is_cding=true;\r\n        this.icon.setMaterial(0,this.materials[0]);\r\n        this.icon_bg.spriteFrame=this.sp_icon_bg[0];\r\n    }\r\n\r\n    setNormalSP()\r\n    {\r\n        this.ok_node.active=true;\r\n        this.is_cding=false;\r\n        if(this.is_disable==false){\r\n            this.icon.setMaterial(0,this.materials[1]);\r\n            this.icon_bg.spriteFrame=this.sp_icon_bg[1];\r\n        }        \r\n    }\r\n\r\n    setDisable(isDisable:boolean){\r\n        this.disable.active=isDisable;\r\n        this.is_disable=isDisable;\r\n        if(isDisable){\r\n            this.icon.setMaterial(0,this.materials[0]);\r\n            this.icon_bg.spriteFrame=this.sp_icon_bg[0];\r\n        }else{\r\n            if(this.is_cding==false){\r\n                this.icon.setMaterial(0,this.materials[1]);\r\n                this.icon_bg.spriteFrame=this.sp_icon_bg[1];\r\n            }            \r\n        }\r\n    }\r\n\r\n    setProgress(progress:number)\r\n    {\r\n        this.left.fillRange=progress/2;\r\n        this.right.fillRange=progress/2;\r\n    }\r\n\r\n    show(){\r\n        this.icon_bg.node.active=true;\r\n        this.node.opacity=255;\r\n    }\r\n\r\n    hide(){\r\n        this.icon_bg.node.active=false;\r\n        this.node.opacity=0;\r\n    }\r\n\r\n}\r\n"]}