{"version":3,"sources":["assets\\Scripts\\Hero\\Game\\RenZhe\\ActiveDart.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAEA,iEAA4D;AAI5D,sCAAiC;AACjC,4CAA0C;AAGpC,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAwC,8BAAO;IAA/C;QAAA,qEAkDC;QA9CG,gBAAU,GAAW,IAAI,CAAC;QAE1B,aAAO,GAAS,IAAI,CAAC;QACrB,mBAAa,GAAQ,CAAC,CAAC;QACvB,iBAAW,GAAQ,CAAC,CAAC;;IA0CzB,CAAC;IAxCG,2BAAM,GAAN;QACI,iBAAM,MAAM,WAAE,CAAC;QACf,iBAAM,yBAAyB,YAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;QACzD,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;IACpD,CAAC;IAED,mCAAc,GAAd;QACI,IAAI,CAAC,OAAO,GAAC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;QAClD,yBAAe,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC1D,IAAI,CAAC,aAAa,GAAC,CAAC,CAAC;QACrB,IAAI,CAAC,UAAU,GAAC,GAAG,CAAC;QACpB,IAAI,CAAC,IAAI,CAAC,KAAK,GAAC,CAAC,CAAC;QAClB,IAAI,CAAC,WAAW,GAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,cAAc,CAAC,sBAAS,CAAC,MAAM,CAAC,CAAC;QAC7E,IAAI,CAAC,sBAAsB,EAAE,CAAC;IAClC,CAAC;IAED,gCAAW,GAAX;QACI,iBAAM,WAAW,WAAE,CAAC;QACpB,IAAG,IAAI,CAAC,OAAO,EAAC;YACZ,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,CAAC;YACvG,IAAI,CAAC,OAAO,GAAC,IAAI,CAAC;SACrB;IACL,CAAC;IAED,uCAAkB,GAAlB,UAAmB,SAAiB;IAEpC,CAAC;IAED,2BAAM,GAAN,UAAO,EAAO;QACV,iBAAM,MAAM,YAAC,EAAE,CAAC,CAAC;QACjB,IAAG,IAAI,CAAC,OAAO,EAAC;YACZ,IAAI,GAAG,GAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;YAChC,SAAS;YACT,IAAI,QAAQ,GAAC,EAAE,CAAC;YAChB,IAAI,EAAE,GAAC,GAAG,CAAC,CAAC,GAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,GAAC,QAAQ,CAAC;YACpD,IAAI,EAAE,GAAC,GAAG,CAAC,CAAC,GAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,GAAC,QAAQ,CAAC;YACpD,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC,CAAC;SAC1C;IACL,CAAC;IA7CD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;kDACM;IAJT,UAAU;QAD9B,OAAO;OACa,UAAU,CAkD9B;IAAD,iBAAC;CAlDD,AAkDC,CAlDuC,iBAAO,GAkD9C;kBAlDoB,UAAU","file":"","sourceRoot":"/","sourcesContent":["\r\nimport { Enemy_DeBuff_Type } from \"../../../Enemy/EnemyConfig\";\r\nimport FightingManager from \"../../../Game/FightingManager\";\r\nimport { GameEffectId, GameEffectsManager } from \"../../../Game/GameEffectsManager\";\r\nimport Monster from \"../../../Monster/Monster\";\r\nimport MonsterManager from \"../../../Monster/MonsterManager\";\r\nimport Bullect from \"../Bullect\";\r\nimport { SkillType } from \"../HeroConfig\";\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class ActiveDart extends Bullect {\r\n\r\n   \r\n    @property(cc.Prefab)\r\n    att_tuowei:cc.Prefab=null;\r\n\r\n    tuo_wei:cc.Node=null;\r\n    collision_num:number=0;\r\n    remain_time:number=0;\r\n\r\n    onLoad(): void {\r\n        super.onLoad();\r\n        super.addCollisionMonsterListen(this.onCollisionMonster);        \r\n        this.addInitFinishedListen(this.onInitFinished);\r\n    }        \r\n\r\n    onInitFinished(){\r\n        this.tuo_wei=cc.instantiate(this.att_tuowei);\r\n        this.tuo_wei.setPosition(this.node.getPosition());\r\n        FightingManager.getInstance().node.addChild(this.tuo_wei);\r\n        this.collision_num=0;\r\n        this.spin_speed=600;\r\n        this.node.scale=1;\r\n        this.remain_time=this.gongji_data.hero_data.getSkillValue3(SkillType.Active);\r\n        this.unscheduleAllCallbacks();\r\n    }\r\n\r\n    destroySelf(): void {\r\n        super.destroySelf();\r\n        if(this.tuo_wei){\r\n            cc.tween(this.tuo_wei).delay(this.tuo_wei.getComponent(cc.MotionStreak).fadeTime).removeSelf().start();\r\n            this.tuo_wei=null;\r\n        }\r\n    }\r\n\r\n    onCollisionMonster(monsterTs:Monster) {\r\n        \r\n    }\r\n\r\n    update(dt: any): void {\r\n        super.update(dt);\r\n        if(this.tuo_wei){\r\n            let pos=this.node.getPosition();\r\n            //添加在子弹前面\r\n            let distance=64;\r\n            let xx=pos.x+Math.cos(this.move_direction)*distance;\r\n            let yy=pos.y+Math.sin(this.move_direction)*distance;\r\n            this.tuo_wei.setPosition(cc.v2(xx,yy));\r\n        }\r\n    }\r\n}\r\n"]}