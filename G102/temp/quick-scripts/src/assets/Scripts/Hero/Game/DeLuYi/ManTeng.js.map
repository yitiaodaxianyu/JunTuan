{"version":3,"sources":["assets\\Scripts\\Hero\\Game\\DeLuYi\\ManTeng.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AACA,gDAA+C;AAE/C,uEAAoF;AACpF,oDAA+C;AAC/C,oDAA+C;AAG/C,oCAA+B;AAIzB,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAqC,2BAAM;IAA3C;;IA8CA,CAAC;IA3CG,sBAAI,GAAJ,UAAK,MAAiB;QAClB,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;IAC1B,CAAC;IAED,kCAAgB,GAAhB,UAAiB,KAAiB,EAAC,IAAgB;QAC/C,IAAI,EAAE,GAAC,qBAAW,CAAC,WAAW,EAAE,CAAC;QACjC,IAAG,EAAE,CAAC,cAAc,IAAE,qBAAS,CAAC,SAAS;YACrC,OAAO;QACX,IAAI,KAAK,GAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;QAC3B,QAAO,KAAK,EAAC;YACT,KAAK,OAAO;gBAAC;oBACT,IAAI,SAAS,GAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,iBAAO,CAAC,CAAC;oBAC/C,IAAG,SAAS,EAAC;wBACT,IAAI,IAAI,GAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;wBACpD,IAAG,IAAI,CAAC,YAAY,EAAE,GAAC,CAAC,EAAC;4BACrB,uCAAkB,CAAC,WAAW,EAAE,CAAC,oBAAoB,CAAC,iCAAY,CAAC,cAAc,EAAC,SAAS,CAAC,UAAU,EAAE,CAAC,CAAC;4BAC1G,MAAM;4BACN,oEAAoE;4BACpE,uEAAuE;4BACvE,oCAAoC;4BACpC,4BAA4B;4BAC5B,8EAA8E;4BAC9E,yFAAyF;4BACzF,8EAA8E;4BAC9E,qCAAqC;4BACrC,4DAA4D;4BAC5D,sCAAsC;4BACtC,8CAA8C;4BAC9C,+DAA+D;4BAC/D,qDAAqD;4BACrD,oFAAoF;4BACpF,8FAA8F;4BAC9F,uEAAuE;4BACvE,gDAAgD;4BAChD,iEAAiE;4BACjE,YAAY;4BACZ,QAAQ;4BACR,4BAA4B;yBAC/B;qBACJ;iBACJ;gBAAA,MAAM;SACV;IACL,CAAC;IA7CgB,OAAO;QAD3B,OAAO;OACa,OAAO,CA8C3B;IAAD,cAAC;CA9CD,AA8CC,CA9CoC,gBAAM,GA8C1C;kBA9CoB,OAAO","file":"","sourceRoot":"/","sourcesContent":["\r\nimport { GameState } from \"../../../Constants\";\r\nimport { Enemy_DeBuff_Type } from \"../../../Enemy/EnemyConfig\";\r\nimport { GameEffectsManager, GameEffectId } from \"../../../Game/GameEffectsManager\";\r\nimport GameManager from \"../../../GameManager\";\r\nimport Monster from \"../../../Monster/Monster\";\r\nimport { GongJiData } from \"../../Data/HeroData\";\r\nimport { BuffData } from \"../BuffData\";\r\nimport GongJi from \"../GongJi\";\r\nimport { BuffId, BuffType } from \"../HeroConfig\";\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class ManTeng extends GongJi {\r\n\r\n\r\n    init(gjData:GongJiData){\r\n        this.initData(gjData);\r\n    }\r\n\r\n    onCollisionEnter(other:cc.Collider,self:cc.Collider) {\r\n        let gm=GameManager.getInstance();        \r\n        if(gm.cur_game_state==GameState.Game_Lose)\r\n            return;\r\n        let group=other.node.group;\r\n        switch(group){\r\n            case 'enemy':{\r\n                let monsterTs=other.node.getComponent(Monster);\r\n                if(monsterTs){\r\n                    let data=monsterTs.beFlashInjured(this.gongji_data);\r\n                    if(data.getDamageNum()>0){\r\n                        GameEffectsManager.getInstance().createGameEffectById(GameEffectId.deluyi_att_hit,monsterTs.getJuJiPos());\r\n                        //流血效果\r\n                        // if(this.gongji_data.hero_data.hero_info.exclusive_equip_level>0){\r\n                        //     let rate=this.gongji_data.hero_data.ExclusiveWeaponSkillValue_1;\r\n                        //     if(rate&&Math.random()<rate){\r\n                        //         if(!data.is_die){\r\n                        //             // monsterTs.addDeBuff(Enemy_DeBuff_Type.LiuXue_WuNv_Ex_Skill,{\r\n                        //             //     remain_time:this.gongji_data.hero_data.ExclusiveWeaponSkillValue_2,\r\n                        //             //     damage_num: this.gongji_data.hero_data.total_attack*0.1,\r\n                        //             //     jiange_time: 1,\r\n                        //             //     hero_type: this.gongji_data.hero_type,\r\n                        //             // },this.gongji_data);\r\n                        //             // let buffData=new BuffData();\r\n                        //             // buffData.buff_id=BuffId.Hero_FaShi_EX_LIUXUE;\r\n                        //             // buffData.buff_type=BuffType.Normal;\r\n                        //             // buffData.buff_value=[this.gongji_data.hero_data.total_attack*0.5];\r\n                        //             // buffData.remain_time=this.gongji_data.hero_data.ExclusiveWeaponSkillValue_2;\r\n                        //             // buffData.game_effect_id=GameEffectId.monster_zhongdu;\r\n                        //             // buffData.damage_jiange_time=1;\r\n                        //             // monsterTs.addDeBuff(buffData,this.gongji_data);\r\n                        //         }\r\n                        //     }\r\n                        // }                        \r\n                    }         \r\n                }\r\n            }break;            \r\n        }\r\n    }\r\n}\r\n"]}