{"version":3,"sources":["assets\\Scripts\\Hero\\Game\\SheShou\\JianShiCrit.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AACA,gDAA+C;AAC/C,uEAAoF;AACpF,oDAA+C;AAC/C,oDAA+C;AAE/C,oCAA+B;AAGzB,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAyC,+BAAM;IAA/C;QAAA,qEA6BC;QA3BG,oBAAc,GAAc,iCAAY,CAAC,uBAAuB,CAAC;;IA2BrE,CAAC;IAzBG,0BAAI,GAAJ,UAAK,EAAe,EAAC,MAAiB;QAClC,iBAAM,QAAQ,YAAC,MAAM,CAAC,CAAC;QACvB,IAAI,CAAC,cAAc,GAAC,EAAE,CAAC;IAC3B,CAAC;IAED,kGAAkG;IAClG,sCAAgB,GAAhB,UAAiB,KAAiB,EAAC,IAAgB;QAC/C,IAAI,EAAE,GAAC,qBAAW,CAAC,WAAW,EAAE,CAAC;QACjC,IAAG,EAAE,CAAC,cAAc,IAAE,qBAAS,CAAC,SAAS;YACrC,OAAO;QACX,IAAI,KAAK,GAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;QAC3B,QAAO,KAAK,EAAC;YACT,KAAK,OAAO;gBAAC;oBACT,IAAI,SAAS,GAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,iBAAO,CAAC,CAAC;oBAC/C,IAAG,SAAS,EAAC;wBACT,IAAI,IAAI,GAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;wBACpD,IAAG,IAAI,CAAC,YAAY,EAAE,GAAC,CAAC,EAAC;4BACrB,QAAQ;4BACR,IAAI,IAAI,GAAC,uCAAkB,CAAC,WAAW,EAAE,CAAC,oBAAoB,CAAC,iCAAY,CAAC,uBAAuB,EAAC,SAAS,CAAC,UAAU,EAAE,CAAC,CAAC;4BAC5H,+CAA+C;yBAClD;qBACJ;iBACJ;gBAAA,MAAM;SACV;IACL,CAAC;IA5BgB,WAAW;QAD/B,OAAO;OACa,WAAW,CA6B/B;IAAD,kBAAC;CA7BD,AA6BC,CA7BwC,gBAAM,GA6B9C;kBA7BoB,WAAW","file":"","sourceRoot":"/","sourcesContent":["\r\nimport { GameState } from \"../../../Constants\";\r\nimport { GameEffectId, GameEffectsManager } from \"../../../Game/GameEffectsManager\";\r\nimport GameManager from \"../../../GameManager\";\r\nimport Monster from \"../../../Monster/Monster\";\r\nimport { GongJiData } from \"../../Data/HeroData\";\r\nimport GongJi from \"../GongJi\";\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class JianShiCrit extends GongJi {\r\n\r\n    game_effect_id:GameEffectId=GameEffectId.sheshou_attack_ctrl_hit;\r\n\r\n    init(id:GameEffectId,gjData:GongJiData){\r\n        super.initData(gjData);\r\n        this.game_effect_id=id;\r\n    }\r\n\r\n    ////--------------------------------------碰撞开始----------------------------------------------------\r\n    onCollisionEnter(other:cc.Collider,self:cc.Collider) {\r\n        let gm=GameManager.getInstance();        \r\n        if(gm.cur_game_state==GameState.Game_Lose)\r\n            return;\r\n        let group=other.node.group;\r\n        switch(group){\r\n            case 'enemy':{\r\n                let monsterTs=other.node.getComponent(Monster);\r\n                if(monsterTs){\r\n                    let data=monsterTs.beFlashInjured(this.gongji_data);\r\n                    if(data.getDamageNum()>0){\r\n                        //本次攻击有效\r\n                        let node=GameEffectsManager.getInstance().createGameEffectById(GameEffectId.sheshou_jianshi_att_hit,monsterTs.getJuJiPos());\r\n                        //node.scale=monsterTs.getSheShouAttackScale();\r\n                    }                  \r\n                }\r\n            }break;           \r\n        }\r\n    }\r\n}\r\n"]}