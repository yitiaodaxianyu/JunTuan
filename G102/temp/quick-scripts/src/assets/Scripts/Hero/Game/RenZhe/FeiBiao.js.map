{"version":3,"sources":["assets\\Scripts\\Hero\\Game\\RenZhe\\FeiBiao.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { GameState } from \"../../../Constants\";\r\nimport { Enemy_Buff_Type, Enemy_DeBuff_Type } from \"../../../Enemy/EnemyConfig\";\r\nimport { GameEffectId, GameEffectsManager } from \"../../../Game/GameEffectsManager\";\r\nimport GameManager from \"../../../GameManager\";\r\nimport Monster from \"../../../Monster/Monster\";\r\nimport MonsterManager from \"../../../Monster/MonsterManager\";\r\nimport { SoundIndex } from \"../../../Sound/AudioConstants\";\r\nimport { GongJiData } from \"../../Data/HeroData\";\r\nimport { BuffData } from \"../BuffData\";\r\nimport GongJi from \"../GongJi\";\r\nimport { BuffId, BuffType, Hero_Type, SkillType } from \"../HeroConfig\";\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class FeiBiao extends GongJi {\r\n\r\n    @property({type:cc.Prefab})\r\n    tuowei:cc.Prefab=null;\r\n\r\n    game_effect_id:number=0;\r\n    //飞镖经过的路径记录\r\n    //feibiao_pos:cc.Vec2[]=[];\r\n    //飞镖旋转记录\r\n    //feibiao_angle:number[]=[];\r\n    //影子节点\r\n    //shadow_node:cc.Node=null;\r\n\r\n    move_speed:number=1200;\r\n    move_direction:number=Math.PI/2;\r\n    //旋转速度\r\n    xuanzhuan_speed:number=600;\r\n\r\n    //弹射弹射次数\r\n    cur_tanshe_num:number=6;\r\n    max_tanshe_num:number=0;\r\n    //记录弹射过的目标，防止重复弹射\r\n    tanshe_yes:string[]=[];\r\n\r\n    //目标\r\n    target:cc.Node=null;\r\n\r\n    cur_tanshe_rate:number=1;\r\n\r\n    shanghai:number=1;\r\n\r\n    tuo_wei:cc.Node=null;\r\n\r\n    onLoad()\r\n    {\r\n        //this.addShadow();\r\n    }\r\n    \r\n    init(gameEffectId:GameEffectId,gjData:GongJiData,speed:number,target:cc.Node,tansheNum:number)\r\n    {\r\n        super.initData(gjData);\r\n        this.game_effect_id=gameEffectId;\r\n        this.move_speed=speed;\r\n        this.cur_tanshe_rate=1;\r\n        this.max_tanshe_num=this.cur_tanshe_num=tansheNum+1;\r\n        this.node.color=cc.Color.WHITE;\r\n        this.node.opacity=255;\r\n        //重置飞镖弹射数据\r\n        this.tanshe_yes.splice(0); \r\n        if(typeof target == \"number\")\r\n        {\r\n            this.changeDir(target);\r\n        }else\r\n        {\r\n            this.target=target;\r\n            this.tanshe_yes.push(target.uuid);\r\n            let offsetPos=this.target.getPosition().sub(this.node.getPosition());\r\n            let pi2=Math.PI*2;\r\n            this.move_direction=(Math.atan2(offsetPos.y,offsetPos.x)+pi2)%pi2;\r\n        }\r\n\r\n        // if(this.shadow_node)\r\n        // {\r\n        //     this.shadow_node.active=true;\r\n        //     this.shadow_node.opacity=this.node.opacity/2;            \r\n        // }\r\n        this.tuo_wei=cc.instantiate(this.tuowei)\r\n        this.tuo_wei.parent=this.node.parent;\r\n        this.node.zIndex=1;\r\n    }\r\n\r\n    //添加影子\r\n    // addShadow()\r\n    // {\r\n    //     if(this.shadow_node==null)\r\n    //     {\r\n    //         this.node.zIndex=this.node.zIndex-1;\r\n    //         this.shadow_node=new cc.Node('feibiaoShadow');\r\n    //         this.shadow_node.parent=this.node.parent;\r\n    //         this.shadow_node.addComponent(cc.Sprite).spriteFrame=this.node.getComponent(cc.Sprite).spriteFrame;\r\n    //         this.shadow_node.setPosition(this.node.getPosition());\r\n    //         this.shadow_node.opacity=100;\r\n    //         this.shadow_node.color=cc.Color.GRAY;\r\n    //         this.shadow_node.scale=this.node.scale;\r\n    //         this.feibiao_pos=new Array(3);\r\n    //         let len=this.feibiao_pos.length;\r\n    //         for(let i=0; i<len; i++)\r\n    //         {\r\n    //             this.feibiao_pos[i]=this.node.getPosition();\r\n    //             this.feibiao_angle[i]=this.node.angle;\r\n    //         }\r\n    //     }                \r\n    // }\r\n\r\n    //删除\r\n    // removeShadow()\r\n    // {\r\n    //     if(this.shadow_node!=null)\r\n    //     {\r\n    //         this.shadow_node.removeFromParent();\r\n    //         this.shadow_node=null;\r\n    //     }                \r\n    // }\r\n\r\n    tanshe()\r\n    {\r\n        let curMonsterTs=this.target.getComponent(Monster);\r\n        if(curMonsterTs)\r\n        {\r\n            //let heroData=GameManager.getInstance().game_hero_data[Hero_Type.RenZhe];   \r\n            let heroData=GameManager.getInstance().game_hero_data.get(Hero_Type.PaoShou);\r\n            //如果有格挡护盾\r\n            // if(curMonsterTs.isHaveBuff(Enemy_Buff_Type.hudun))\r\n            // {\r\n            //     //结束弹射\r\n            //     this.cur_tanshe_num=0;\r\n            //     this.gongji_data.hero_data.att_rate=this.cur_tanshe_rate;\r\n            //     curMonsterTs.beFlashInjured(this.gongji_data);\r\n            //     return;\r\n            // }\r\n            GameManager.getInstance().sound_manager.playSound(SoundIndex.YX_RenzheAttack);                   \r\n            //this.gongji_data.hero_data.att_rate=this.cur_tanshe_rate;\r\n            let data=curMonsterTs.beFlashInjured(this.gongji_data);\r\n            if(!data.is_die && data.getDamageNum()>0){\r\n                //减速\r\n                // curMonsterTs.addDeBuff(Enemy_DeBuff_Type.JianSu_RenZhe_EX_Skill,{\r\n                //     /**持续剩余时间 */\r\n                //     remain_time:heroData.ExclusiveWeaponSkillValue_3,\r\n                //     /**每次触发的伤害值 */\r\n                //     damage_num:0,\r\n                //     /**触发伤害的时间间隔 */\r\n                //     jiange_time:0.2,\r\n                //     other_value_1:heroData.ExclusiveWeaponSkillValue_2,\r\n                //     hero_type:Hero_Type.RenZhe,                    \r\n                // },this.gongji_data)\r\n                \r\n            }\r\n            //普攻递增伤害\r\n            this.cur_tanshe_rate=(1+heroData.getSkillValue2(SkillType.Passive_1));\r\n            // GameEffectsManager.getInstance().createGameEffectById(GameEffectId.renzhe_feibiao_hit,this.node.getPosition());            \r\n            //查找弹射新目标\r\n            this.target=this.getMonster();\r\n            if(this.target)\r\n            {\r\n                this.tanshe_yes.push(this.target.uuid);\r\n            }else{\r\n                if(this.tanshe_yes.length>2){\r\n                    this.tanshe_yes.splice(0,this.tanshe_yes.length-1);\r\n                }else{\r\n                    this.cur_tanshe_num=0;\r\n                }                \r\n            }\r\n            //完成弹射\r\n            this.cur_tanshe_num--;\r\n        }\r\n    }\r\n\r\n    getMonster():cc.Node\r\n    {\r\n        let em=MonsterManager.getInstance();        \r\n        if(em.node.childrenCount<=0)\r\n        {\r\n            return null;\r\n        }\r\n        let pos:cc.Vec2=this.node.getPosition();\r\n        //1.先检测在攻击范围内符合攻击单位的敌人\r\n        let attMonsters=[];\r\n        for(let enemy of em.node.children)\r\n        {\r\n            let enemyPos=cc.v2(enemy.x,enemy.y+enemy.height/2);\r\n            let enemyTS=enemy.getComponent(Monster);\r\n            if(enemyTS.getIsCanCheck()==true)\r\n            {\r\n                let distance=pos.sub(enemyPos).mag();\r\n                if(this.getIsTanShe(enemy.uuid)==false && distance<=500)\r\n                {\r\n                    attMonsters.push(enemy);\r\n                }\r\n            }\r\n        }\r\n        if(attMonsters.length<=0)\r\n        {\r\n            return null;\r\n        }\r\n        if(1==attMonsters.length)\r\n        {\r\n            return attMonsters[0];\r\n        }\r\n        //2.1优先攻击跟目标位置最近的单位\r\n        attMonsters.sort((a:cc.Node,b:cc.Node)=>{\r\n            return cc.v2(a.x,a.y+a.height/2).sub(pos).mag()-cc.v2(b.x,b.y+b.height/2).sub(pos).mag();\r\n        });\r\n        return attMonsters[0];\r\n    }\r\n    //飞行途中目标丢失时\r\n    getMonsterForMiss():cc.Node\r\n    {\r\n        let em=MonsterManager.getInstance();\r\n        if(em.node.childrenCount<=0)\r\n        {\r\n            return null;\r\n        }\r\n        let pos:cc.Vec2=this.node.getPosition();\r\n        //1.先检测在攻击范围内符合攻击单位的敌人\r\n        let attMonsters=[];\r\n        for(let enemy of em.node.children)\r\n        {\r\n            let enemyPos=cc.v2(enemy.x,enemy.y+enemy.height/2);\r\n            let enemyTS=enemy.getComponent(Monster);\r\n            if(enemyTS.getIsCanCheck()==true)\r\n            {\r\n                let distance=pos.sub(enemyPos).mag();\r\n                //let width=enemy.width/2*enemy.scaleX+this.node.width/2*this.node.scaleX;                \r\n                if(this.getIsTanShe(enemy.uuid)==false && distance<=500)\r\n                {\r\n                    attMonsters.push(enemy);\r\n                }\r\n            }\r\n        }\r\n        if(attMonsters.length<=0)\r\n        {\r\n            return null;\r\n        }\r\n        if(1==attMonsters.length)\r\n        {\r\n            return attMonsters[0];\r\n        }\r\n        //2.1优先攻击跟目标位置最近的单位\r\n        attMonsters.sort((a:cc.Node,b:cc.Node)=>{\r\n            return cc.v2(a.x,a.y+a.height/2).sub(pos).mag()-cc.v2(b.x,b.y+b.height/2).sub(pos).mag();\r\n        });\r\n        return attMonsters[0];\r\n    }\r\n\r\n    getIsTanShe(uid:string):boolean\r\n    {\r\n        return this.tanshe_yes.includes(uid);\r\n    }\r\n\r\n    setNewTarget(enemy:cc.Node)\r\n    {\r\n        if(this.cur_tanshe_num>0 && this.target==null)\r\n        {\r\n            if(this.getIsTanShe(enemy.uuid)==false)\r\n            {\r\n                this.target=enemy;\r\n            }\r\n        }\r\n    }\r\n\r\n    private changeDir(dir:number)\r\n    {\r\n        this.move_direction=(dir+Math.PI*2)%(Math.PI*2);\r\n    }\r\n\r\n    collisionToWall(wallName:string)\r\n    {\r\n        // if(wallName=='wall_left' || wallName=='wall_right')\r\n        // {\r\n        //     this.changeDir((Math.PI-this.move_direction));\r\n        //     this.cur_tanshe_num--;\r\n        // }\r\n        // if(wallName=='wall_top')\r\n        // {\r\n        //     this.changeDir((2*Math.PI-this.move_direction));\r\n        //     this.cur_tanshe_num--;\r\n        // }\r\n        // if(wallName=='wall_down')\r\n        // {\r\n        //     //先判断当前方向\r\n        //     let dir=this.move_direction%(Math.PI*2);\r\n        //     if(dir>Math.PI && dir<2*Math.PI)\r\n        //     {                \r\n        //         this.changeDir((2*Math.PI-this.move_direction));\r\n        //         this.cur_tanshe_num--;\r\n        //     }\r\n        // }\r\n    }\r\n\r\n    //----------------------------------------UPDATE------------------------------------------\r\n    update (dt) {\r\n        if(GameManager.getInstance().cur_game_state!=GameState.Game_Playing)\r\n        return;\r\n        this.update_move(dt);\r\n        if(this.tuo_wei){\r\n            this.tuo_wei.setPosition(this.node.position);\r\n        }\r\n        //影分身\r\n        // this.update_locus_shadow();\r\n        // if(this.shadow_node)\r\n        // {\r\n        //     this.update_shadow();\r\n        // }\r\n    }\r\n\r\n    update_move(dt)\r\n    {\r\n        this.node.angle+=dt*this.xuanzhuan_speed;\r\n        if(this.node.angle>=360)\r\n        {\r\n            this.node.angle=this.node.angle%360;\r\n        }\r\n        //跟踪目标\r\n        let sp=this.move_speed*dt;\r\n        if(this.cur_tanshe_num>0)\r\n        {\r\n            let disX=this.node.x;\r\n            let disY=this.node.y;\r\n            if(this.target && this.target.getComponent(Monster).getIsCanCheck()==true)\r\n            {\r\n                let enemyTs=this.target.getComponent(Monster);\r\n                let enemyPos=enemyTs.getSheShouPos();;\r\n                let offsetPos=enemyPos.sub(this.node.getPosition());\r\n                if(offsetPos.mag()<sp)\r\n                {\r\n                    //中了,开始弹射\r\n                    this.tanshe();\r\n                }else\r\n                {\r\n                    let pi2=Math.PI*2;\r\n                    this.move_direction=(Math.atan2(offsetPos.y,offsetPos.x)+pi2)%pi2;\r\n                    disX+=sp*Math.cos(this.move_direction);\r\n                    disY+=sp*Math.sin(this.move_direction);\r\n                }\r\n            }else\r\n            {\r\n                //目标丢失,往当前方向走,如果途中遇到靠近的怪，则追踪目标\r\n                this.target=this.getMonsterForMiss();\r\n                if(this.target==null){\r\n                    disX+=sp*Math.cos(this.move_direction);\r\n                    disY+=sp*Math.sin(this.move_direction);\r\n                }\r\n            }            \r\n            this.node.x=disX;\r\n            this.node.y=disY;\r\n            if(Math.abs(this.node.y)>=1280 || Math.abs(this.node.x)>=640){\r\n                this.destroySelf();\r\n            }\r\n        }else\r\n        {\r\n            this.backToHero(sp);\r\n        }        \r\n    }\r\n\r\n    backToHero(sp:number)\r\n    {\r\n        if(this.tuo_wei){\r\n            cc.tween(this.tuo_wei).delay(this.tuo_wei.getComponent(cc.MotionStreak).fadeTime).removeSelf().start();\r\n            this.tuo_wei=null;\r\n        }\r\n        //收回英雄处\r\n        this.node.color=cc.Color.GRAY;\r\n        this.node.opacity=168;\r\n        //this.shadow_node.opacity=this.node.opacity/2;\r\n        //let offsetPos=GameManager.getInstance().all_hero[Hero_Type.RenZhe].node.getPosition().sub(this.node.getPosition());\r\n        let offsetPos=GameManager.getInstance().all_hero.get(Hero_Type.PaoShou).node.getPosition().sub(this.node.getPosition());\r\n        if(offsetPos.mag()<sp)\r\n        {\r\n            this.destroySelf();\r\n        }else\r\n        {\r\n            let pi2=Math.PI*2;\r\n            this.move_direction=(Math.atan2(offsetPos.y,offsetPos.x)+pi2)%pi2;\r\n            this.node.x+=sp*Math.cos(this.move_direction);\r\n            this.node.y+=sp*Math.sin(this.move_direction);\r\n        }\r\n    }\r\n\r\n    //记录影子的路径和角度数值\r\n    // update_locus_shadow()\r\n    // {\r\n    //     //加入头部\r\n    //     this.feibiao_pos.unshift(this.node.getPosition());\r\n    //     this.feibiao_angle.unshift(this.node.angle);\r\n    //     //删除尾部\r\n    //     this.feibiao_pos.pop();\r\n    //     this.feibiao_angle.pop();        \r\n    // }\r\n\r\n    // //显示影子的跟随\r\n    // update_shadow()\r\n    // {\r\n    //     let posIndex=this.getPosIndex();\r\n    //     this.shadow_node.setPosition(this.feibiao_pos[posIndex]);\r\n    //     this.shadow_node.angle=this.feibiao_angle[posIndex];\r\n    // }\r\n    //兼容加倍速率处理(暂时不支持减速倍率，因为游戏没有减速倍率，所以不做了，减速倍率思路：正常速度取中间值，加速取后，减速取前)\r\n    // private getPosIndex():number\r\n    // {\r\n    //     let maxCL=this.feibiao_pos.length-1;\r\n    //     let index=Math.floor(this.feibiao_pos.length/cc.kGetSpeed());\r\n    //     if(index>=maxCL)\r\n    //     {\r\n    //         index=maxCL;\r\n    //     }\r\n    //     return index;\r\n    // }\r\n\r\n    destroySelf()\r\n    {\r\n        this.target=null;\r\n        //this.shadow_node.active=false;\r\n        GameEffectsManager.getInstance().destroyGameEffectById(this.game_effect_id,this.node);\r\n    }\r\n\r\n     ////--------------------------------------碰撞开始----------------------------------------------------\r\n    //  onCollisionEnter(other:cc.Collider,self:cc.Collider) {\r\n    //     let gm=GameManager.getInstance();        \r\n    //     if(gm.cur_game_state==GameState.Game_Lose)\r\n    //         return;\r\n    //     let group=other.node.group;\r\n    //     switch(group){\r\n    //         case 'wall':{\r\n    //             this.collisionToWall(other.node.name);\r\n    //         }\r\n    //     }\r\n    // }\r\n}\r\n"]}