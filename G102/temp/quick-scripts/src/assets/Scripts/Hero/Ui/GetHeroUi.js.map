{"version":3,"sources":["assets\\Scripts\\Hero\\Ui\\GetHeroUi.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { Btn_Index, GameMode, GameScene, Go_Type } from \"../../Constants\";\r\nimport GameManager from \"../../GameManager\";\r\nimport { HeroManager } from \"../../Hero/Data/HeroManager\";\r\nimport { Hero_Type } from \"../../Hero/Game/HeroConfig\";\r\nimport { SoundIndex } from \"../../Sound/AudioConstants\";\r\nimport TutorailsManager from \"../../Tutorials/TutorailsManager\";\r\nimport UIComponent from \"../../UI/UIComponent\";\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class GetHeroUi extends UIComponent {\r\n\r\n    hero_type:Hero_Type=Hero_Type.ChangMaoShou;\r\n\r\n    initUi(heroType:Hero_Type)\r\n    {\r\n        //设置头像\r\n        let icon=this.node.getChildByName('mask').getChildByName('icon');\r\n        icon.getComponent(cc.Sprite).spriteFrame=HeroManager.getInstance().getHeroSpriteFrame(heroType);\r\n    \r\n        HeroManager.setHeroIsNeedTip(heroType);\r\n        this.hero_type=heroType;\r\n        this.node.zIndex=3;\r\n        \r\n        if(!TutorailsManager.getInstance().is_finish_game)\r\n        {\r\n            if(TutorailsManager.getInstance().isShowTutorials(203))\r\n            {\r\n                TutorailsManager.getInstance().showTutorials(203,()=>{\r\n                    TutorailsManager.getInstance().saveTutorials(203);                    \r\n                },()=>{\r\n                    this.clickBtnJump();\r\n                });\r\n            }\r\n        }\r\n        let teamList=HeroManager.getInstance().getTeamList(GameMode.Main);\r\n        let index=teamList.indexOf(heroType)\r\n        if(index>=0){\r\n            HeroManager.getInstance().loadHeroData(heroType);\r\n            GameManager.getInstance().loadGameHeroData();\r\n            GameManager.getInstance().game.loadHero(heroType,index);\r\n        }        \r\n    }\r\n\r\n    clickBtnClose()\r\n    {\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        super.onClose();\r\n    }\r\n\r\n    clickBtnJump()\r\n    {\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        //\r\n        super.onClose();\r\n        let curScene=GameManager.getInstance().cur_game_scene;\r\n        switch(curScene){\r\n            case GameScene.game:{\r\n                GameManager.getInstance().game_to_home=Go_Type.Role;\r\n                GameManager.getInstance().role_show_hero=this.hero_type;\r\n                GameManager.getInstance().backToHome(this.hero_type);\r\n            }break;\r\n            case GameScene.home:{\r\n                GameManager.getInstance().role_show_hero=this.hero_type;\r\n                GameManager.getInstance().jumoToUi(Btn_Index.Btn_Role);\r\n            }break;\r\n        }\r\n        \r\n    }\r\n}\r\n"]}