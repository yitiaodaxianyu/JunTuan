{"version":3,"sources":["assets\\Scripts\\GameManager.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\r\nimport { Btn_Index, GameScene, GameState, Go_Type, IsDebug, SelectSkill_Type, VIDEO_TYPE, Zheng_Xing_Type, GameMode, FightingInfo, JiaSu } from \"./Constants\";\r\nimport ChuShengDian from \"./Game/ChuShengDian\";\r\nimport EnemyHpManager from \"./Enemy/EnemyHpManager\";\r\nimport HpTextHpManager from \"./Monster/HpTextManager\";\r\nimport Music from \"./Sound/Muisc\";\r\nimport Sound from \"./Sound/Sound\";\r\nimport Home from \"./Home\";\r\nimport Hint from \"./Hint\";\r\nimport GetTip from \"./UI/GetTip\";\r\nimport Game from \"./Game/Game\";\r\nimport Dialog from \"./UI/Dialog\";\r\nimport FollowManager from \"./multiLanguage/FollowManager\";\r\nimport { Follow_Type } from \"./multiLanguage/FollowConstants\";\r\nimport { RewardData } from \"./JsonData/LevelJsonData\";\r\nimport LocalVideo from \"./LocalVideo\";\r\nimport { HeroData } from \"./Hero/Data/HeroData\";\r\nimport UnlockSkill from \"./UI/UnlockSkill\";\r\nimport { ZhenXingData } from \"./ZhenXingData\";\r\nimport TutorailsManager from \"./Tutorials/TutorailsManager\";\r\nimport { HeroManager } from \"./Hero/Data/HeroManager\";\r\nimport { LevelManager } from \"./Level/LevelManager\";\r\nimport { MissionLevelManager } from \"./Level/MissionLevel\";\r\nimport { EndlessLevelsManager } from \"./Activity/EndlessLevels\";\r\nimport BossManager from \"./Boss/BossManager\";\r\nimport { BossChallengeManager } from \"./Activity/BossChallenge\";\r\nimport { TowerLevelManager } from \"./Tower/TowerLevel\";\r\nimport TowerManager from \"./Tower/TowerManager\";\r\nimport { JsonMonsterConfigure, MonsterConfigureManager } from \"./Monster/Data/MonsterConfigure\";\r\nimport { StrengthType } from \"./Monster/MonsterData\";\r\nimport MonsterManager from \"./Monster/MonsterManager\";\r\nimport { UIManager } from \"./UI/UIManager\";\r\nimport Pet from \"./Pet/Game/Pet\";\r\nimport { PetInfo } from \"./Pet/PetConfig\";\r\nimport { MazeManager } from \"./Maze/MazeManager\";\r\nimport { GameEffectId, GameEffectsManager } from \"./Game/GameEffectsManager\";\r\nimport { TheStorageManager } from \"./Storage/StorageManager\";\r\nimport { StorageKey } from \"./Storage/StorageConfig\";\r\nimport Hero from \"./Hero/Game/Hero\";\r\nimport { AttributeData, HeroInfo, Hero_Type } from \"./Hero/Game/HeroConfig\";\r\nimport GuaJiGift from \"./GuaJi/Ui/GuaJiGift\";\r\nimport { UILayerLevel, UIPath } from \"./UI/UIConfig\";\r\nimport GameWin from \"./Game/Ui/GameWin\";\r\nimport { TutorialLevelManager } from \"./Level/TutorialLevel\";\r\nimport SkillManager from \"./Game/SkillManager\";\r\nimport { SoundIndex } from \"./Sound/AudioConstants\";\r\nimport WallManager from \"./Wall/WallManager\";\r\nimport { WallType } from \"./Wall/WallConfig\";\r\nimport BuffDisplay from \"./copy/endlesschallenges/BuffDisplay\";\r\nimport { HeroBaseInfoManager } from \"./Hero/Data/HeroBaseInfo\";\r\nimport { EquipmentAttributeManager } from \"./Equipment/Data/EquipmentAttribute\";\r\nimport { ExclusiveEnhancementManager } from \"./JsonData/ExclusiveEnhancement\";\r\nimport { ExclusiveWeaponMessageManager } from \"./JsonData/ExclusiveWeaponMessage\";\r\nimport RewardSSUi from \"./Tutorials/RewardSSUi\";\r\nimport WXManagerEX from \"../startscene/WXManagerEX\";\r\n\r\n\r\n\r\nconst { ccclass } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class GameManager extends cc.Component {\r\n\r\n    private static _instance: GameManager = null;\r\n\r\n    private prefab_hint: cc.Prefab = null;\r\n    private prefab_get_tip: cc.Prefab = null;\r\n    //-----------------------------HOME-------------------------------\r\n    role_show_hero: Hero_Type = Hero_Type.ChangMaoShou;\r\n    //-----------------------------Game-------------------------------\r\n    //各种管理器\r\n    game: Game = null;\r\n    enemy_hp_manager: EnemyHpManager = null;\r\n    hp_text_manager: HpTextHpManager = null;\r\n    chu_sheng_dian: ChuShengDian = null;\r\n    //声音\r\n    sound_manager: Sound = null;\r\n    music_manager: Music = null;\r\n    //各大英雄的\r\n    all_hero: Map<number, Hero> = null;\r\n    //DPS统计\r\n    hero_skill_dps: number[] = null;\r\n    hero_attack_dps: number[] = null;\r\n    /**宠物主动技能造成的伤害 */\r\n    private pet_active_dps: Map<PetInfo, number> = null;\r\n    /**宠物连携技能造成的伤害 */\r\n    private pet_connect_dps: Map<PetInfo, number> = null;\r\n\r\n    cur_game_state: GameState = GameState.Game_Ready;\r\n    cur_game_mode: GameMode = GameMode.Main;\r\n    cur_game_scene: GameScene = GameScene.home;\r\n\r\n    //tumTableTime: number = 60*60*12;//免费抽奖倒计时\r\n    tumTableTime: number = 1;//免费抽奖倒计时\r\n    //当前的加载进度\r\n    cur_load_progress: number = 0;\r\n\r\n    //每个英雄获得的游戏内技能\r\n    ingame_skills: SelectSkill_Type[] = [];\r\n    //开始的关卡的数据\r\n    cur_wave: number = 0;\r\n    fighting_info: FightingInfo = null;\r\n    //drop_data:DropData=null;\r\n    reward_data: RewardData[] = [];\r\n    is_loaded: boolean = false;\r\n    //掉落物品的怪物id\r\n    //drop_enemy_type:number=0;\r\n\r\n    game_to_home: Go_Type = Go_Type.Main;\r\n\r\n    fuhuo_num: number = 1;\r\n    is_show_text: boolean = true;\r\n    //最大的技能槽位\r\n    max_skill_slot: number = 2;\r\n    //各个英雄数据，游戏内使用，关卡内buff。\r\n    game_hero_data: Map<number, HeroData> = null;\r\n    //第几个怪有可能爆星星buff\r\n    //star_index:number=0;\r\n    //\r\n    /**当前总共的怪物数量 */\r\n    cur_total_num: number = 0;\r\n    /**实际上已经生成出怪物的数量 */\r\n    cur_create_num: number = 0;\r\n    enemy_offset_y: number = 0;\r\n    enemy_att_y: number = -300;\r\n    enemy_create_y: number = 1080;\r\n    load_jishu: number = 0;\r\n    load_callback: Function = null;\r\n    jishu_time: number = 0;\r\n    //通关次数\r\n    pass_level_num: number = 0;\r\n    /**游戏速率 */\r\n    private game_rate: number = 2;\r\n    /**按钮指定速率 */\r\n    private btn_setup_rate: number = 1;\r\n    /**战斗指定速率 */\r\n    private fighting_setup_rate: number = 1;\r\n    /**单次最高伤害值 */\r\n    private max_damage: number = 0;\r\n    /**单次最小伤害值 */\r\n    private min_damage: number = 9999;\r\n    /**自动战斗标识 */\r\n    public auto_fighting: boolean = true;\r\n    /**当前的队列 */\r\n    public cur_team_list: number[] = [];\r\n\r\n    public charioUpgradationData: Array<number> = [0, 0, 0, 0, 0, 0];\r\n\r\n    public charioTip: Array<string> = [\"攻击伤害\", \"血量上限\", \"攻击速度\", \"增强防御\", \"技能间隔\", \"恢复血量\"];\r\n\r\n    public charioContent: Array<Array<string>> = [\r\n        [\"没有加成\", \"所有英雄攻击力提升+20%\", \"所有英雄攻击力提升+40%\", \"所有英雄攻击力提升+60%\", \"所有英雄攻击力提升+80%\", \"所有英雄攻击力提升+100%\"],\r\n        [\"没有加成\", \"战车血量上限+40%\", \"战车血量上限+80%\", \"战车血量上限+120%\", \"战车血量上限+160%\", \"战车血量上限+200%\"],\r\n        [\"没有加成\", \"所有英雄攻击速度提升+10%\", \"所有英雄攻击速度提升+20%\", \"所有英雄攻击速度提升+30%\", \"所有英雄攻击速度提升+40%\", \"所有英雄攻击速度提升+50%\"],\r\n        [\"没有加成\", \"战车防御力提升+30%\", \"战车防御力提升+60%\", \"战车防御力提升+90%\", \"战车防御力提升+120%\", \"战车防御力提升+150%\"],\r\n        [\"没有加成\", \"所有英雄技能CD-0.5秒\", \"所有英雄技能CD-1秒\", \"所有英雄技能CD-1.5秒\", \"所有英雄技能CD-2秒\", \"所有英雄技能CD-2.5秒\"],\r\n        [\"恢复战车最大血量的20%\", \"恢复战车最大血量的20%\", \"恢复战车最大血量的20%\", \"恢复战车最大血量的20%\", \"恢复战车最大血量的20%\", \"恢复战车最大血量的20%\"]];\r\n\r\n    public herUpContent: Array<Array<string>> = [[],\r\n    [\"没有加成\", \"1.普攻伤害增加+10%\\n2.技能伤害增加+10%\", \"1.普攻伤害增加+20%\\n2.技能伤害增加+20%\", \"1.普攻伤害增加+30%\\n2.技能伤害增加+30%\", \"1.普攻伤害增加+40%\\n2.技能伤害增加+40%\", \"1.普攻伤害增加+50%\\n2.技能伤害增加+50%\"],\r\n    [\"没有加成\", \"1.普攻弓箭穿透敌人个数+1\\n2.技能伤害增加+10%\", \"1.普攻弓箭穿透敌人个数+2\\n2.技能伤害增加+20%\", \"1.普攻弓箭穿透敌人个数+3\\n2.技能伤害增加+30%\", \"1.普攻弓箭穿透敌人个数+3\\n2.技能伤害增加+40%\", \"1.普攻弓箭穿透敌人个数+5\\n2.技能伤害增加+50%\"],\r\n    [\"没有加成\", \"1.普攻伤害增加+10%\\n2.技能伤害增加+10%\", \"1.普攻伤害增加+20%\\n2.技能伤害增加+20%\", \"1.普攻伤害增加+30%\\n2.技能伤害增加+30%\", \"1.普攻伤害增加+40%\\n2.技能伤害增加+40%\", \"1.普攻伤害增加+50%\\n2.技能伤害增加+50%\"],\r\n    [\"没有加成\", \"1.普攻伤害增加+10%\\n2.技能伤害增加+10%,缠绕时间增加0.5秒。\", \"1.普攻伤害增加+20%\\n2.技能伤害增加+20%,缠绕时间增加1秒。\", \"1.普攻伤害增加+30%\\n2.技能伤害增加+30%,缠绕时间增加1.5秒。\", \"1.普攻伤害增加+40%\\n2.技能伤害增加+40%,缠绕时间增加2秒。\", \"1.普攻伤害增加+50%\\n2.技能伤害增加+50%,缠绕时间增加2.5秒。\"],\r\n    [\"没有加成\", \"1.普攻伤害增加+20%\\n2.技能伤害增加+20%\", \"1.普攻伤害增加+40%\\n2.技能伤害增加+40%\", \"1.普攻伤害增加+60%\\n2.技能伤害增加+60%\", \"1.普攻伤害增加+80%\\n2.技能伤害增加+80%\", \"1.普攻伤害增加+100%\\n2.技能伤害增加+100%\"],\r\n    [\"没有加成\", \"1.普攻伤害增加+20%，加血能量增加+0.2%\\n2.给战车护盾时长增加+0.5秒\", \"1.普攻伤害增加+40%，加血能量增加+0.4%\\n2.给战车护盾时长增加+1秒\", \"1.普攻伤害增加+60%，加血能量增加+0.6%\\n2.给战车护盾时长增加+1.5秒\", \"1.普攻伤害增加+80%，加血能量增加+0.8%\\n2.给战车护盾时长增加+2秒\", \"1.普攻伤害增加+100%，加血能量增加+1%\\n2.给战车护盾时长增加+2.5秒\"],\r\n    [\"没有加成\", \"1.普攻伤害增加+20%，增加中毒时长+0.5秒\\n2.技能伤害增加+20%\", \"1.普攻伤害增加+40%，增加中毒时长+1秒\\n2.技能伤害增加+40%\", \"1.普攻伤害增加+60%，增加中毒时长+1.5秒\\n2.技能伤害增加+60%\", \"1.普攻伤害增加+80%，增加中毒时长+2秒\\n2.技能伤害增加+80%\", \"1.普攻伤害增加+100%，增加中毒时长+2.5秒\\n2.技能伤害增加+100%\"],\r\n    [\"没有加成\", \"1.普攻弓箭个数增加+1\\n2.技能伤害增加+20%\", \"1.普攻弓箭个数增加+2\\n2.技能伤害增加+40%\", \"1.普攻弓箭个数增加+3\\n2.技能伤害增加+60%\", \"1.普攻弓箭个数增加+4\\n2.技能伤害增加+80%\", \"1.普攻弓箭个数增加+5\\n2.技能伤害增加+100%\"],\r\n    [\"没有加成\",\r\n        \"1.普攻伤害增加+30%，冰弹范围加20，持续加0.5秒\\n2.技能伤害增加+30%\",\r\n        \"1.普攻伤害增加+60%，冰弹范围加40，持续加1秒\\n2.技能伤害增加+60%\",\r\n        \"1.普攻伤害增加+90%，冰弹范围加60，持续加1.5秒\\n2.技能伤害增加+90%\",\r\n        \"1.普攻伤害增加+120%，冰弹范围加80，持续加2秒\\n2.技能伤害增加+120%\",\r\n        \"1.普攻伤害增加+150%，冰弹范围加100，持续加2.5秒\\n2.技能伤害增加+150%\"],\r\n    [\"没有加成\",\r\n        \"1.普攻伤害增加+30%\\n2.技能伤害增加+30%\",\r\n        \"1.普攻伤害增加+60%\\n2.技能伤害增加+60%\",\r\n        \"1.普攻伤害增加+90%\\n2.技能伤害增加+90%\",\r\n        \"1.普攻伤害增加+120%\\n2.技能伤害增加+120%\",\r\n        \"1.普攻伤害增加+150%\\n2.技能伤害增加+150%\"],\r\n    [\"没有加成\", \"1.普攻伤害增加+30%\\n2.技能伤害增加+30%\",\r\n        \"1.普攻伤害增加+60%\\n2.技能伤害增加+60%\",\r\n        \"1.普攻伤害增加+90%\\n2.技能伤害增加+90%\",\r\n        \"1.普攻伤害增加+120%\\n2.技能伤害增加+120%\",\r\n        \"1.普攻伤害增加+150%\\n2.技能伤害增加+150%\"],\r\n    [\"没有加成\", \"1.普攻伤害增加+30%，闪电弹射人数加+1\\n2.技能伤害增加+30%\",\r\n        \"1.普攻伤害增加+60%，闪电弹射人数加+2\\n2.技能伤害增加+60%\",\r\n        \"1.普攻伤害增加+90%，闪电弹射人数加+3\\n2.技能伤害增加+90%\",\r\n        \"1.普攻伤害增加+120%，闪电弹射人数加+4\\n2.技能伤害增加+120%\",\r\n        \"1.普攻伤害增加+150%，闪电弹射人数加+5\\n2.技能伤害增加+150%\"]];\r\n\r\n\r\n    //是否显示了退出游戏的对话框\r\n    public is_show_exit: boolean = false;\r\n    //动画位置\r\n    public aniType: number = 0;\r\n\r\n    //战车的位置x\r\n    public charPosX: number = 0;\r\n    //游戏动画存储数据\r\n    // public moveData: Array<cc.Vec2> = [];\r\n\r\n    private roguelikeWave: Array<number> = [3, 6, 10, 14, 18, 22, 26, 30, 34, 38, 42, 46, 50, 54, 58, 62, 66, 70, 74, 78, 82, 86, 90, 94, 98, 102, 106, 110];\r\n\r\n    public static getInstance(): GameManager {\r\n        return this._instance;\r\n    }\r\n\r\n    protected onLoad(): void {\r\n        console.log(\"gameLoaderon\");\r\n\r\n        cc.game.addPersistRootNode(this.node);\r\n        GameManager._instance = this;\r\n    }\r\n\r\n    //初始化游戏数据\r\n    init(scene: GameScene) {\r\n        this.unscheduleAllCallbacks();\r\n        this.cur_game_scene = scene;\r\n        this.is_loaded = false;\r\n        this.aniType = 0;\r\n        this.charioUpgradationData = [0, 0, 0, 0, 0, 0];\r\n        switch (this.cur_game_scene) {\r\n            case GameScene.home: {\r\n                this.cur_load_progress = 0;\r\n                this.is_loaded = true;\r\n                this.exitPlayGame();\r\n                //this.role_show_hero=Hero_Type.SheShou;\r\n            } break;\r\n            case GameScene.game: {\r\n                this.game_to_home = Go_Type.Main;\r\n                this.cur_game_state = GameState.Game_Ready;\r\n                this.all_hero = new Map<number, Hero>();\r\n                this.hero_attack_dps = null;\r\n                this.hero_skill_dps = null;\r\n                this.cur_total_num = this.cur_create_num = 0;\r\n                this.cur_wave = 0;\r\n                this.ingame_skills = new Array();\r\n                this.reward_data = new Array();\r\n                this.fuhuo_num = 1;\r\n                //this.auto_fighting = TheStorageManager.getInstance().getInt(StorageKey.AutoFighting) > 0;\r\n                this.loadLevel();\r\n                this.loadGameHeroData();\r\n            } break;\r\n            default: this.cur_load_progress = 0; break;\r\n        }\r\n        // this.game.setRogueText(this.getRogueLikeNum());\r\n        this.loadTip();\r\n    }\r\n\r\n    setBtnSetupRate(rate: number, isActivity: boolean = true) {\r\n        this.btn_setup_rate = rate;\r\n        this.setGameRate(1);\r\n        if (isActivity) {\r\n            if (rate == 2) {\r\n                FollowManager.getInstance().followEvent(Follow_Type.二倍速开启成功次数);\r\n            } else {\r\n                FollowManager.getInstance().followEvent(Follow_Type.二倍速关闭成功次数);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    setAutoFighting(isAuto: boolean, isActivity: boolean = true) {\r\n        // this.auto_fighting = isAuto;\r\n        // if (isActivity) {\r\n        //     if (isAuto) {\r\n        //         FollowManager.getInstance().followEvent(Follow_Type.自动战斗开启成功次数);\r\n        //     } else {\r\n        //         FollowManager.getInstance().followEvent(Follow_Type.自动战斗关闭成功次数);\r\n        //     }\r\n        // }\r\n    }\r\n\r\n    getBtnSetupRate(): number {\r\n        return this.btn_setup_rate;\r\n    }\r\n\r\n    setFightingRate(rate: number) {\r\n        this.fighting_setup_rate = rate;\r\n        this.setGameRate(1);\r\n    }\r\n\r\n    setGameRate(rate: number) {\r\n        //this.game_rate = rate * this.btn_setup_rate * this.fighting_setup_rate;\r\n        cc.kSpeed(this.game_rate);\r\n    }\r\n\r\n    getGameRate(): number {\r\n        return this.game_rate;\r\n    }\r\n\r\n    resetRate() {\r\n        //this.game_rate = 1;\r\n        cc.kSpeed(this.game_rate);\r\n    }\r\n\r\n    setMaxDamage(num: number) {\r\n        if (num > this.max_damage) {\r\n            this.max_damage = num;\r\n        }\r\n    }\r\n\r\n    getMaxDamage(): number {\r\n        return this.max_damage;\r\n    }\r\n\r\n    setMinDamage(num: number) {\r\n        if (num < this.min_damage) {\r\n            this.min_damage = num;\r\n        }\r\n    }\r\n\r\n    getMinDamage(): number {\r\n        return this.min_damage;\r\n    }\r\n\r\n    getDamageTextScale(damage: number) {\r\n        let maxScale = 1.4;\r\n        let scaleValue = 1;\r\n        let rate = damage / this.getMaxDamage();\r\n        scaleValue = rate * maxScale;\r\n        if (scaleValue < 1) {\r\n            scaleValue = 1;\r\n        }\r\n        if (scaleValue > maxScale) {\r\n            scaleValue = maxScale;\r\n        }\r\n        return scaleValue;\r\n    }\r\n\r\n    getDamageTextEffect(damage: number): number {\r\n        let effectId = GameEffectId.front_normal_attack_text_1;\r\n        let rate = damage / this.getMaxDamage();\r\n        if (rate < 0.2) {\r\n            effectId = GameEffectId.front_normal_attack_text_1;\r\n        } else if (rate < 0.4) {\r\n            effectId = GameEffectId.front_normal_attack_text_2;\r\n        } else if (rate < 0.6) {\r\n            effectId = GameEffectId.front_normal_attack_text_3;\r\n        } else if (rate < 0.8) {\r\n            effectId = GameEffectId.front_normal_attack_text_4;\r\n        } else {\r\n            effectId = GameEffectId.front_normal_attack_text_5;\r\n        }\r\n        return effectId;\r\n    }\r\n\r\n    getHero(heroId: Hero_Type): Hero {\r\n        return this.all_hero.get(heroId);\r\n    }\r\n\r\n    loadGameHeroData() {\r\n        let isInitDps = false;\r\n        if (this.cur_game_mode == GameMode.Main) {\r\n            this.hero_skill_dps = new Array();\r\n            this.hero_attack_dps = new Array();\r\n        } else {\r\n            if (!this.hero_attack_dps) {\r\n                this.hero_skill_dps = new Array();\r\n                this.hero_attack_dps = new Array();\r\n                isInitDps = true;\r\n            }\r\n        }\r\n        this.pet_active_dps = new Map<PetInfo, number>();\r\n        this.pet_connect_dps = new Map<PetInfo, number>();\r\n        this.game_hero_data = new Map<number, HeroData>();\r\n        this.cur_team_list = HeroManager.getInstance().getTeamList(this.cur_game_mode);\r\n\r\n        let fightingData = MazeManager.getInstance().refreshFightingData();\r\n        //\r\n        let mainWallData = new AttributeData();\r\n        for (let i = 0; i < Hero_Type.Hero_Num; i++) {\r\n            if (this.cur_game_mode == GameMode.Main) {\r\n                this.hero_skill_dps.push(0);\r\n                this.hero_attack_dps.push(0);\r\n            } else {\r\n                if (isInitDps) {\r\n                    this.hero_skill_dps.push(0);\r\n                    this.hero_attack_dps.push(0);\r\n                }\r\n            }\r\n\r\n            let heroData = new HeroData();\r\n            let homeHeroData = HeroManager.getInstance().getHeroData(i);\r\n            if (homeHeroData) {\r\n                heroData = cc.instantiate(homeHeroData);\r\n                if (this.cur_team_list.includes(i)) {\r\n                    //迷宫模式加成\r\n                    if (this.cur_game_mode == GameMode.Maze) {\r\n                        heroData.total_attack += (fightingData.AttackPer) * heroData.fixed_attck;\r\n                        heroData.total_defense += (fightingData.DefensePer) * heroData.fix_defense;\r\n                        heroData.Critical += fightingData.CriticalValue;\r\n                        heroData.Hit += fightingData.HitValue;\r\n                    }\r\n                    mainWallData.Health += heroData.total_hp * 0.2 * this.getCharioHealthRatio();;\r\n                    mainWallData.Defense += heroData.total_defense * 0.2 * this.getCharioDefenseRotio();\r\n                    mainWallData.Miss += heroData.Miss * 0.2;\r\n                    mainWallData.AntiCritical += heroData.AntiCritical * 0.2;\r\n                    mainWallData.AntiExtraCritical += heroData.AntiExtraCritical * 0.2;\r\n                    mainWallData.Attack += heroData.total_attack * 0.2;\r\n                    mainWallData.Hit += heroData.Hit * 0.2;\r\n\r\n                    this.pet_active_dps.set(heroData.pet_info, 0);\r\n                    this.pet_connect_dps.set(heroData.pet_info, 0);\r\n                    this.setMaxDamage(heroData.total_attack * heroData.ExtraCritical)\r\n                    this.setMinDamage(heroData.total_attack);\r\n                    this.game_hero_data.set(i, heroData);\r\n                }\r\n            }\r\n        }\r\n        WallManager.getInstance().getMainWall().startNextLevel();\r\n        WallManager.getInstance().getMainWall().initWall(mainWallData, WallType.Main);\r\n        // if(hp<3000){\r\n        //     hp=3000;\r\n        // }\r\n        // if(defense<100){\r\n        //     defense=100;\r\n        // }\r\n        //this.wall_data.initInheritData(hp,defense,miss,antiCritical,antiExtraCritical);\r\n    }\r\n\r\n    loadTutorailsHeroData() {\r\n        let isInitDps = false;\r\n        if (this.cur_game_mode == GameMode.Main) {\r\n            this.hero_skill_dps = new Array();\r\n            this.hero_attack_dps = new Array();\r\n        } else {\r\n            if (!this.hero_attack_dps) {\r\n                this.hero_skill_dps = new Array();\r\n                this.hero_attack_dps = new Array();\r\n                isInitDps = true;\r\n            }\r\n        }\r\n        for (let i = 0; i < Hero_Type.Hero_Num; i++) {\r\n            if (this.cur_game_mode == GameMode.Main) {\r\n                this.hero_skill_dps.push(0);\r\n                this.hero_attack_dps.push(0);\r\n            } else {\r\n                if (isInitDps) {\r\n                    this.hero_skill_dps.push(0);\r\n                    this.hero_attack_dps.push(0);\r\n                }\r\n            }\r\n        }\r\n        this.pet_active_dps = new Map<PetInfo, number>();\r\n        this.pet_connect_dps = new Map<PetInfo, number>();\r\n        this.game_hero_data = new Map<number, HeroData>();\r\n        this.cur_team_list = [Hero_Type.ShouWang, Hero_Type.ANuBiSi, Hero_Type.ZhenDe, Hero_Type.MeiMo, Hero_Type.LeiShen];\r\n        let mainWallData = new AttributeData();\r\n        for (let i = 0; i < this.cur_team_list.length; i++) {\r\n            let heroData = this.addTutotialsHeroFull(this.cur_team_list[i], i, null);\r\n            mainWallData.Health += heroData.total_hp * 0.2 * this.getCharioHealthRatio();;\r\n            mainWallData.Defense += heroData.total_defense * 0.2 * this.getCharioDefenseRotio();\r\n            mainWallData.Miss += heroData.Miss * 0.2;\r\n            mainWallData.AntiCritical += heroData.AntiCritical * 0.2;\r\n            mainWallData.AntiExtraCritical += heroData.AntiExtraCritical * 0.2;\r\n            mainWallData.Attack += heroData.total_attack * 0.2;\r\n            mainWallData.Hit += heroData.Hit * 0.2;\r\n\r\n            this.pet_active_dps.set(heroData.pet_info, 0);\r\n            this.pet_connect_dps.set(heroData.pet_info, 0);\r\n            this.setMaxDamage(heroData.total_attack * heroData.ExtraCritical)\r\n            this.setMinDamage(heroData.total_attack);\r\n            //this.game_hero_data.set(i,heroData);\r\n        }\r\n\r\n\r\n        WallManager.getInstance().getMainWall().startNextLevel();\r\n        WallManager.getInstance().getMainWall().initWall(mainWallData, WallType.Main);\r\n    }\r\n    refreshMainWallDataByaddHero() {\r\n        let mainWallData = new AttributeData();\r\n        this.all_hero.forEach((v, k) => {\r\n            let heroData = cc.instantiate(v.hero_data);\r\n            if (heroData) {\r\n                mainWallData.Health += heroData.total_hp * 0.2 * this.getCharioHealthRatio();\r\n                mainWallData.Defense += heroData.total_defense * 0.2 * this.getCharioDefenseRotio();\r\n                mainWallData.Miss += heroData.Miss * 0.2;\r\n                mainWallData.AntiCritical += heroData.AntiCritical * 0.2;\r\n                mainWallData.AntiExtraCritical += heroData.AntiExtraCritical * 0.2;\r\n                mainWallData.Attack += heroData.total_attack * 0.2;\r\n                mainWallData.Hit += heroData.Hit * 0.2;\r\n            }\r\n\r\n\r\n        })\r\n        WallManager.getInstance().getMainWall().refreshWallDataByaddHero(mainWallData);\r\n    }\r\n    refreshMainWallData() {\r\n        let mainWallData = new AttributeData();\r\n        this.all_hero.forEach((v, k) => {\r\n            let heroData = cc.instantiate(v.hero_data);\r\n            mainWallData.Health += heroData.total_hp * 0.2 * this.getCharioHealthRatio();;\r\n            mainWallData.Defense += heroData.total_defense * 0.2 * this.getCharioDefenseRotio();\r\n            mainWallData.Miss += heroData.Miss * 0.2;\r\n            mainWallData.AntiCritical += heroData.AntiCritical * 0.2;\r\n            mainWallData.AntiExtraCritical += heroData.AntiExtraCritical * 0.2;\r\n            mainWallData.Attack += heroData.total_attack * 0.2;\r\n            mainWallData.Hit += heroData.Hit * 0.2;\r\n\r\n        })\r\n        WallManager.getInstance().getMainWall().refreshWallData(mainWallData);\r\n    }\r\n\r\n    private loadTip() {\r\n        if (!this.prefab_hint) {\r\n            WXManagerEX.getInstance().resourcesBundle.load('hint', cc.Prefab, (error: Error, assets: cc.Prefab) => {\r\n                if (error) {\r\n                    console.log(error);\r\n                    return;\r\n                }\r\n                this.prefab_hint = assets;\r\n            });\r\n        }\r\n        if (!this.prefab_get_tip) {\r\n            WXManagerEX.getInstance().resourcesBundle.load('get_tip', cc.Prefab, (error: Error, assets: cc.Prefab) => {\r\n                if (error) {\r\n                    console.log(error);\r\n                    return;\r\n                }\r\n                this.prefab_get_tip = assets;\r\n            });\r\n        }\r\n    }\r\n\r\n    showMessage(message: string, dt?: number) {\r\n        if (this.prefab_hint == null) {\r\n            WXManagerEX.getInstance().resourcesBundle.load('hint', cc.Prefab, (error: Error, assets: cc.Prefab) => {\r\n                if (error) {\r\n                    console.log(error);\r\n                    return;\r\n                }\r\n                let hint = cc.instantiate(assets);\r\n                hint.parent = cc.find('Canvas/Ui_Root');\r\n                let hintJs = hint.getComponent(Hint);\r\n                hintJs.showHintMessage(message, dt);\r\n            });\r\n        } else {\r\n            let hint = cc.instantiate(this.prefab_hint);\r\n            hint.parent = cc.find('Canvas/Ui_Root');\r\n            let hintJs = hint.getComponent(Hint);\r\n            hintJs.showHintMessage(message, dt);\r\n        }\r\n    }\r\n\r\n    showGetTip(getNode: cc.Node, callBack?: Function) {\r\n        if (this.prefab_hint == null) {\r\n            WXManagerEX.getInstance().resourcesBundle.load('get_tip', cc.Prefab, (error: Error, assets: cc.Prefab) => {\r\n                if (error) {\r\n                    console.log(error);\r\n                    return;\r\n                }\r\n                let node = cc.instantiate(assets);\r\n                node.parent = cc.find('Canvas/Ui_Root');\r\n                node.getComponent(GetTip).addShowGetPorp(getNode, callBack);\r\n            });\r\n        } else {\r\n            let node = cc.instantiate(this.prefab_get_tip);\r\n            node.parent = cc.find('Canvas/Ui_Root');\r\n            node.getComponent(GetTip).addShowGetPorp(getNode, callBack);\r\n        }\r\n    }\r\n\r\n    showMultipleGetTip(getNodes: cc.Node[], callBack?: Function) {\r\n        if (this.prefab_hint == null) {\r\n            WXManagerEX.getInstance().resourcesBundle.load('get_tip', cc.Prefab, (error: Error, assets: cc.Prefab) => {\r\n                if (error) {\r\n                    console.log(error);\r\n                    return;\r\n                }\r\n                let node = cc.instantiate(assets);\r\n                node.parent = cc.find('Canvas/Ui_Root');\r\n                node.getComponent(GetTip).addMultiplePorp(getNodes, callBack);\r\n            });\r\n        } else {\r\n            let node = cc.instantiate(this.prefab_get_tip);\r\n            node.parent = cc.find('Canvas/Ui_Root');\r\n            node.getComponent(GetTip).addMultiplePorp(getNodes, callBack);\r\n        }\r\n    }\r\n\r\n    showDialog(message: string, yesCallback: Function, noCallback: Function, showType?: number, y?: number) {\r\n        if (this.is_show_exit == true) {\r\n            return;\r\n        }\r\n        this.is_show_exit = true;\r\n        WXManagerEX.getInstance().resourcesBundle.load('dialog', cc.Prefab, (error: Error, assets: cc.Prefab) => {\r\n            if (error) {\r\n                console.log(error);\r\n                return;\r\n            }\r\n            let node = cc.instantiate(assets);\r\n            node.parent = cc.find('Canvas/Ui_Root');\r\n            node.getComponent(Dialog).showDialog(message, yesCallback, noCallback, showType, y);\r\n            if (y) {\r\n                node.y = y;\r\n            }\r\n        });\r\n    }\r\n\r\n    showBuyDialog(message: string, yesCallback: Function, noCallback: Function, showType?: number, y?: string | number, currency?: string) {\r\n        WXManagerEX.getInstance().resourcesBundle.load('dialog', cc.Prefab, (error: Error, assets: cc.Prefab) => {\r\n            if (error) {\r\n                console.log(error);\r\n                return;\r\n            }\r\n            let node = cc.instantiate(assets);\r\n            node.parent = cc.find('Canvas/Ui_Root');\r\n            node.getComponent(Dialog).showDialog(message, yesCallback, noCallback, showType, y, currency);\r\n            // if(y){\r\n            //     node.y=y;\r\n            // }\r\n        });\r\n    }\r\n\r\n    showLocalVideo(yesCallback: Function, noCallback: Function, isVideo?: boolean) {\r\n        WXManagerEX.getInstance().resourcesBundle.load('video_dialog', cc.Prefab, (error: Error, assets: cc.Prefab) => {\r\n            if (error) {\r\n                console.log(error);\r\n                return;\r\n            }\r\n            let node = cc.instantiate(assets);\r\n            node.parent = cc.find('Canvas/Ui_Root');\r\n            node.getComponent(LocalVideo).init(yesCallback, noCallback);\r\n        });\r\n    }\r\n\r\n    //----------------------------------------------------GAME------------------------------------------------------------------------\r\n    startNextLevel() {\r\n        this.unscheduleAllCallbacks();\r\n\r\n\r\n\r\n        MonsterManager.getInstance().destroyAllDrop();\r\n        MonsterManager.getInstance().destroyAllMonster();\r\n        this.charioUpgradationData = [0, 0, 0, 0, 0, 0];\r\n        this.cur_wave = 0;\r\n        this.cur_total_num = 0;\r\n        switch (GameManager.getInstance().cur_game_mode) {\r\n            case GameMode.Main: {\r\n                if (!TutorailsManager.getInstance().is_finish_game) {\r\n                    this.fighting_info = TutorialLevelManager.getInstance().getFightingInfo(LevelManager.getInstance().start_level);\r\n                } else {\r\n                    this.fighting_info = MissionLevelManager.getInstance().getFightingInfo(LevelManager.getInstance().start_level);\r\n                }\r\n                GameEffectsManager.getInstance().removeAllEffect();\r\n                this.all_hero.forEach((v, k) => {\r\n                    v.resetState();\r\n                })\r\n                //数据\r\n                this.loadGameHeroData();\r\n            } break;\r\n            case GameMode.Maze: {\r\n                this.fighting_info = MazeManager.getInstance().getFightingInfo();\r\n            } break;\r\n            case GameMode.Tower: {\r\n                this.fighting_info = TowerLevelManager.getInstance().getFightingInfo(TowerManager.getTowerLevel());\r\n            } break;\r\n            case GameMode.Endless: {\r\n                let wavenumber = TheStorageManager.getInstance().getNumber(StorageKey.UnlimitedChallengeDamage, 0);//波数\r\n                let Round = EndlessLevelsManager.getInstance().getRound(wavenumber)//回合数\r\n                // console.log(\"+++++++\",Round)\r\n                this.fighting_info = EndlessLevelsManager.getInstance().getFightingInfo(Round);\r\n            } break;\r\n        }\r\n        MonsterManager.getInstance().loadData();\r\n        this.game.startNextLevel();\r\n        this.cur_game_state = GameState.Game_Playing;\r\n        this.setGameRate(1);\r\n        this.scheduleOnce(this.loadLevel, 0.5);\r\n        this.music_manager.resume();\r\n    }\r\n    //根据当前charioUpgradationData获取一个升级组\r\n    getcharioUpgradationData(): Array<number> {\r\n        var arr: Array<number> = [];\r\n        var arTemp: Array<number> = [];\r\n        for (var i: number = 0; i < this.charioUpgradationData.length; i++) {\r\n            if (this.charioUpgradationData[i] < 5 || i == 5) {\r\n                arTemp.push(i);\r\n            }\r\n        }\r\n        //可升级技能数量小于3\r\n        if (arTemp.length <= 3) {\r\n            return arTemp;\r\n        }\r\n        arTemp.sort(function () {\r\n            return Math.random() - 0.5\r\n        });\r\n        arr[0] = arTemp[0];\r\n        arr[1] = arTemp[1];\r\n        arr[2] = arTemp[2];\r\n        return arr;\r\n\r\n    }\r\n    //获取阵列类型\r\n    getZhengXingData(): ZhenXingData {\r\n        let waveData = this.fighting_info[this.cur_wave];\r\n        //解析阵型数据\r\n        let zxData = new ZhenXingData();\r\n        let allEnemyData = new Array<JsonMonsterConfigure>();\r\n        let MCM = MonsterConfigureManager.getInstance();\r\n        for (let i = 0; i < waveData.monster_num.length; i++) {\r\n            let mId = waveData.monster_id[i];\r\n            let jsonData = MCM.getJsonMonsterConfigure(mId);\r\n            let enemyNum = waveData.monster_num[i];\r\n            for (let n = 0; n < enemyNum; n++) {\r\n                allEnemyData.push(jsonData);\r\n            }\r\n        }\r\n        //二次处理，把boss跟buff怪放最前面\r\n        allEnemyData.sort((a: JsonMonsterConfigure, b: JsonMonsterConfigure) => {\r\n            return b.StrengthType - a.StrengthType;\r\n        });\r\n        this.getZhenXingDataByEnemyData(allEnemyData, zxData, 0, 0);\r\n        return zxData;\r\n    }\r\n    getZhenXingDataByEnemyData(enemyDatas: JsonMonsterConfigure[], out: ZhenXingData, buffNum: number, minY: number) {\r\n        //阵型\r\n        let zxType = Zheng_Xing_Type.ZX0;\r\n        //随机一个阵型\r\n        zxType = Math.floor(Math.random() * Zheng_Xing_Type.num);\r\n        // if(IsDebug)\r\n        // {\r\n        //     zxType=Zheng_Xing_Type.箭头;\r\n        // }\r\n        let zxData = new ZhenXingData();\r\n        //zxData=this.game.zhen_xing.json[zxType];\r\n        let len = enemyDatas.length;\r\n        let isNext = false;\r\n        let otherNum = 0;\r\n        let isHaveBoss = false;\r\n        let ewaiNum = 0;\r\n        for (let i = 0; i < len; i++) {\r\n            if (enemyDatas[i].StrengthType == StrengthType.Boss) {\r\n                isHaveBoss = true;\r\n                break;\r\n            }\r\n        }\r\n        for (let i = 0; i < len; i++) {\r\n            if (i < (zxData.other_pos.length + ewaiNum)) {\r\n                if (enemyDatas[i].StrengthType == StrengthType.Boss) {\r\n                    //判断一下是否boss位置已经用了，如果用了代表这关有2个boss，需要把这个boss放到buff位置上\r\n                    let pos = zxData.boss_pos;\r\n                    let disPos = cc.v2(pos.x, pos.y + minY);\r\n                    //如果之前没有设置boss位置                    \r\n                    if (out.boss_pos.y == 0) {\r\n                        out.boss_pos = disPos;\r\n                        ewaiNum++;\r\n                    } else {\r\n                        if (out.buff_pos.length < 4) {\r\n                            let pos = zxData.buff_pos[buffNum];\r\n                            disPos = cc.v2(pos.x, pos.y + minY);\r\n                            out.buff_pos.push(disPos);\r\n                            ewaiNum++;\r\n                            buffNum++;\r\n                        } else {\r\n                            let pos = zxData.other_pos[otherNum];\r\n                            disPos = cc.v2(pos.x, pos.y + minY);\r\n                            out.other_pos.push(disPos);\r\n                            otherNum++;\r\n                        }\r\n                    }\r\n\r\n                } else if (enemyDatas[i].StrengthType == StrengthType.Elite) {\r\n                    if (out.buff_pos.length < 4) {\r\n                        ewaiNum++;\r\n                        //如果这波没有boss，并且有buff，则buff代替boss位置\r\n                        if (isHaveBoss == false) {\r\n                            let pos = zxData.boss_pos;\r\n                            let disPos = cc.v2(pos.x, pos.y + minY);\r\n                            out.buff_pos.push(disPos);\r\n                            isHaveBoss = true;\r\n                        } else {\r\n                            let pos = zxData.buff_pos[buffNum];\r\n                            let disPos = cc.v2(pos.x, pos.y + minY);\r\n                            out.buff_pos.push(disPos);\r\n                            buffNum++;\r\n                        }\r\n                    } else {\r\n                        let pos = zxData.other_pos[otherNum];\r\n                        let disPos = cc.v2(pos.x, pos.y + minY);\r\n                        out.other_pos.push(disPos);\r\n                        otherNum++;\r\n                    }\r\n                } else {\r\n                    let pos = zxData.other_pos[otherNum];\r\n                    let disPos = cc.v2(pos.x, pos.y + minY);\r\n                    out.other_pos.push(disPos);\r\n                    otherNum++;\r\n                }\r\n            } else {\r\n                isNext = true;\r\n                break;\r\n            }\r\n        }\r\n        if (isNext == true) {\r\n            minY = zxData.other_pos[zxData.other_pos.length - 1].y + 60 - 505;\r\n            this.getZhenXingDataByEnemyData(enemyDatas.slice(zxData.other_pos.length), out, buffNum, minY);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    //显示关卡数据\r\n    public loadLevel() {\r\n\r\n        if (MonsterManager.getInstance() && MonsterManager.getInstance().is_load_ok && (Pet.cur_loaded_num >= Pet.max_load_num) && this.fighting_info && this.cur_game_state == GameState.Game_Playing) {\r\n            if (GameManager.getInstance().cur_game_mode == GameMode.Endless) {\r\n                let top = cc.find(\"Canvas/Ui_Root/top_ui\");\r\n                let wavenumber = TheStorageManager.getInstance().getNumber(StorageKey.UnlimitedChallengeDamage, 0) + 1\r\n                TheStorageManager.getInstance().setItem(StorageKey.UnlimitedChallengeDamage, wavenumber);\r\n                top.getChildByName('curLabel').getComponent(cc.Label).string = \"\" + wavenumber//(EndlessLevelsManager.getInstance().getMaxWave())\r\n            }\r\n            // console.log(\"_______进来了\")\r\n\r\n            //this.unscheduleAllCallbacks();\r\n            let monsterData = this.fighting_info.monster_datas[this.cur_wave];\r\n            let isBaoXiangLevel = false;\r\n            let MCM = MonsterConfigureManager.getInstance();\r\n            let useWidth = 600;\r\n            let left = (cc.winSize.width - useWidth) / 2 - cc.winSize.width / 2;\r\n            this.enemy_create_y = cc.winSize.height / 2;\r\n            //this.enemy_create_y=0;\r\n            let refreshTime = 0;\r\n            for (let i = 0; i < monsterData.length; i++) {\r\n                let data = monsterData[i];\r\n                let mId = data.id;\r\n                let strengthType = MCM.getStrengthType(mId);\r\n                let num = data.num;\r\n                let monsterLevel = data.level;\r\n                //一组怪,每组怪都一致的，所以取其中一个就行了\r\n                //分一下缝隙                \r\n                let width = MCM.getMonsterSpacing(mId);\r\n                let maxNumXX = Math.floor(useWidth / width);\r\n                let remainWidth = useWidth % maxNumXX;\r\n                width += Math.floor(remainWidth / maxNumXX);\r\n                let useIndexs = [];\r\n                for (let xx = 0; xx < maxNumXX; xx++) {\r\n                    useIndexs.push(xx);\r\n                }\r\n                //x轴添加的数量，达到maxNumXX后，yyNum++\r\n                let xxNum = 0;\r\n                let yyNum = 0;\r\n                refreshTime += data.refresh_time\r\n                for (let n = 0; n < num; n++) {\r\n                    this.cur_total_num++;\r\n                    //向上排列YY\r\n                    let yy = this.enemy_create_y + width * yyNum + Math.random() * width * 0.7;\r\n                    //随机算出XX\r\n                    let randIndex = Math.floor(Math.random() * useIndexs.length);\r\n                    let pos = cc.v2(left + width / 2 + width * useIndexs[randIndex] + Math.random() * 10 - 5, yy);\r\n                    useIndexs.splice(randIndex, 1);\r\n                    if (strengthType != StrengthType.Boss) {\r\n                        this.scheduleOnce(() => {\r\n                            MonsterManager.getInstance().createMonsterById(mId, pos, monsterLevel, data.hp_rate);\r\n                            this.cur_create_num++;\r\n                            this.game.showJianTouPos(this.cur_create_num / this.cur_total_num);\r\n                        }, refreshTime + Math.random() * (60 / MCM.getSpeed(mId)));\r\n                        xxNum++;\r\n                        if (xxNum > maxNumXX) {\r\n                            yyNum++;\r\n                            xxNum = 0;\r\n                            for (let xx = 0; xx < maxNumXX; xx++) {\r\n                                useIndexs.push(xx);\r\n                            }\r\n                        }\r\n                    } else {\r\n                        if (this.cur_game_mode == GameMode.Tower) {\r\n                            this.scheduleOnce(() => {\r\n                                BossManager.getInstance().addBoss(mId, monsterLevel, data.hp_rate);\r\n                            }, 3)\r\n                        } else {\r\n                            BossManager.getInstance().addBoss(mId, monsterLevel, data.hp_rate);\r\n                        }\r\n\r\n                    }\r\n                }\r\n            }\r\n            //怪物潮\r\n            if (this.fighting_info.getWaveTypes()[this.cur_wave] == 1) {\r\n                this.showMonsterWarning();\r\n            }\r\n            this.checkTutotials();\r\n            //因为宝箱关卡是插进去的，所以想要获取准确的数值，需要减去其出现的次数\r\n            //this.drop_data=LevelJsonData.getWaveDropData(LevelManager.getInstance().start_level,this.cur_wave-this.level_buff_num);\r\n            this.game.showLevelProgress();\r\n            let isLoadNext = !isBaoXiangLevel;\r\n            if (this.cur_wave >= this.fighting_info.monster_datas.length - 1) {\r\n                isLoadNext = false;\r\n            }\r\n            if (this.cur_game_mode == GameMode.Boss_Challenge) {\r\n                isLoadNext = false;\r\n            }\r\n            if (isLoadNext) {\r\n                let delyT = this.fighting_info.wave_refresh_time[this.cur_wave + 1];\r\n                this.scheduleOnce(() => {\r\n                    console.log(\"延迟加载下一关\");\r\n                    this.loadNextWave();\r\n                }, delyT);\r\n            }\r\n        } else {\r\n            this.scheduleOnce(() => {\r\n                if (!this.fighting_info) {\r\n                    this.reloadLevelDatas();\r\n                }\r\n                this.loadLevel();\r\n            }, 0.2);\r\n        }\r\n    }\r\n\r\n    loadNextWave() {\r\n        if (this.cur_wave < this.fighting_info.monster_datas.length - 1) {\r\n\r\n\r\n            this.cur_wave++;\r\n            console.log(\"关卡增加到\" + this.cur_wave + \" \" + this.getIsRogueLikeWave() + \" \" + this.getRogueLikeNum());\r\n            this.game.setRogueText(this.getRogueLikeNum());\r\n            if (this.getIsRogueLikeWave() && this.cur_game_state == GameState.Game_Playing) {\r\n                console.log(\"显示提示TIp\");\r\n\r\n                this.showRoguelike();\r\n            } else {\r\n                this.loadLevel();\r\n            }\r\n\r\n        }\r\n    }\r\n    //获取是否是Rougue关卡\r\n    private getIsRogueLikeWave(): boolean {\r\n\r\n        for (var i: number = 0; i < this.roguelikeWave.length; i++) {\r\n            if (this.cur_wave == (this.roguelikeWave[i] + 1)) {\r\n                return true;\r\n            }\r\n\r\n        }\r\n        return false;\r\n    }\r\n    //获取当前关卡距离下一个rogue关卡数字\r\n    public getRogueLikeNum(): number {\r\n        for (var i: number = 0; i < this.roguelikeWave.length; i++) {\r\n            if (this.cur_wave < (this.roguelikeWave[i] + 1)) {\r\n                if (this.cur_wave == 0) {\r\n                    return this.roguelikeWave[i];\r\n                } else {\r\n                    return this.roguelikeWave[i] + 1 - this.cur_wave;\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n        return 3;\r\n\r\n    }\r\n    reloadLevelDatas() {\r\n        // console.log(\"什么时候进来\")\r\n        this.fighting_info = new FightingInfo();\r\n        switch (this.cur_game_mode) {\r\n            case GameMode.Main: {\r\n                this.fighting_info = MissionLevelManager.getInstance().getFightingInfo(LevelManager.getInstance().start_level);\r\n            } break;\r\n            case GameMode.Endless: {\r\n                let wavenumber = TheStorageManager.getInstance().getNumber(StorageKey.UnlimitedChallengeDamage, 0);//波数\r\n                let Round = EndlessLevelsManager.getInstance().getRound(wavenumber)//回合数\r\n                this.fighting_info = EndlessLevelsManager.getInstance().getFightingInfo(Round);\r\n            } break;\r\n            case GameMode.Boss_Challenge: {\r\n                this.fighting_info = BossChallengeManager.getInstance().getFightingInfo(BossChallengeManager.getInstance().cur_challenge_mode);\r\n            } break;\r\n            case GameMode.Tower: {\r\n                this.fighting_info = TowerLevelManager.getInstance().getFightingInfo(TowerManager.getTowerLevel());\r\n            } break;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    addCheckTutotialsHero(heroId: Hero_Type, callback: Function) {\r\n        let heroInfo: HeroInfo = new HeroInfo();\r\n        heroInfo.hero_type = heroId;\r\n        heroInfo.hero_level = 100;\r\n        heroInfo.hero_stage = 5;\r\n        let data = HeroManager.getInstance().getTryPlayHeroData(heroInfo)\r\n        this.game_hero_data.set(heroId, data);\r\n        this.game.loadHero(heroId, 4, callback);\r\n    }\r\n    public addHero(heroId: Hero_Type, teamIndex: number, callback: Function = null): void {\r\n\r\n        let data = HeroManager.getInstance().getTryPlayHeroData(HeroManager.getInstance().getHeroInfo(heroId));\r\n        this.game_hero_data.set(heroId, data);\r\n        this.game.loadHero(heroId, teamIndex, callback);\r\n\r\n        // this.refreshMainWallData();\r\n    }\r\n    //获取因为技能等级变化的血量比率\r\n    public getCharioHealthRatio(): number {\r\n        return this.charioUpgradationData[1] * 0.4 + 1;\r\n    }\r\n    //获取因为技能等级变化的防御比率\r\n    public getCharioDefenseRotio(): number {\r\n        return this.charioUpgradationData[3] * 0.3 + 1;\r\n    }\r\n    //攻击力比率\r\n    public getCharioAttackRotio(): number {\r\n        return this.charioUpgradationData[0] * 0.2;\r\n    }\r\n\r\n    //攻击速度比率\r\n    public getCharioSpeedRotio(): number {\r\n        return this.charioUpgradationData[2] * 0.1;\r\n    }\r\n    //冷却缩减\r\n    public getCharioColdDownRotio(): number {\r\n        return this.charioUpgradationData[4] * 0.5;\r\n    }\r\n    /**添加一个满级满装满宠物的英雄 */\r\n    addTutotialsHeroFull(heroId: Hero_Type, teamIndex: number, callback: Function): HeroData {\r\n        let heroInfo: HeroInfo = new HeroInfo();\r\n        heroInfo.hero_type = heroId;\r\n        heroInfo.hero_level = HeroBaseInfoManager.getInstance().getMaxLevel(heroId);\r\n        heroInfo.hero_stage = 1//HeroBaseInfoManager.getInstance().getMaxStage(heroId);   \r\n        heroInfo.exclusive_equip_stage = ExclusiveWeaponMessageManager.getInstance().getMaxStage(heroId);\r\n        let equipMaxStage = EquipmentAttributeManager.getInstance().getMaxStage();\r\n        heroInfo.wear1 = EquipmentAttributeManager.getID(1, equipMaxStage);\r\n        heroInfo.wear2 = EquipmentAttributeManager.getID(2, equipMaxStage);\r\n        heroInfo.wear3 = EquipmentAttributeManager.getID(3, equipMaxStage);\r\n        heroInfo.wear4 = EquipmentAttributeManager.getID(4, equipMaxStage);\r\n        switch (heroId) {\r\n            case 2: {\r\n                heroInfo.pet_id = 70413;\r\n            } break;\r\n            case 6: {\r\n                heroInfo.pet_id = 70213;\r\n            } break;\r\n            case 10: {\r\n                heroInfo.pet_id = 70213;\r\n            } break;\r\n            case 11: {\r\n                heroInfo.pet_id = 70113;\r\n            } break;\r\n            case 12: {\r\n                heroInfo.pet_id = 70313;\r\n            } break;\r\n        }\r\n        let data = HeroManager.getInstance().getTryPlayHeroData(heroInfo)\r\n        this.game_hero_data.set(heroId, data);\r\n        this.game.loadHero(heroId, teamIndex, callback);\r\n        return data;\r\n    }\r\n\r\n    checkTutotials() {\r\n        if (!TutorailsManager.getInstance().is_finish_game) {\r\n            if (this.cur_game_mode == GameMode.Main) {\r\n\r\n                if (this.cur_wave == 5) {\r\n                    if (LevelManager.getInstance().start_level == 1) {\r\n                        if (TutorailsManager.getInstance().isShowTutorials(202)) {\r\n                            TutorailsManager.getInstance().showTutorials(202, () => {\r\n                                this.setGameRate(1 / JiaSu);\r\n                            }, () => {\r\n                                this.setGameRate(1);\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    //敌人死亡了,哪个敌人死亡了，哪个英雄击杀的\r\n    onEnemyDie(score: number, isAdd: boolean) {\r\n        if (isAdd) {\r\n\r\n            switch (this.cur_game_mode) {\r\n                case GameMode.Main: {\r\n                    if (MonsterManager.getInstance().killed_monster_num >= this.cur_total_num) {\r\n                        console.log(\"敌人死亡加载下一关\");\r\n\r\n                        //this.loadNextWave();\r\n                    }\r\n                } break;\r\n                case GameMode.Endless: {\r\n                    if (MonsterManager.getInstance().killed_monster_num >= this.cur_total_num) {\r\n                        console.log(\"敌人死亡加载下一关2\");\r\n                        //this.loadNextWave();\r\n                    }\r\n                } break;\r\n                // case GameMode.Boss_Prsonal:{\r\n                //     BossChallengeManager.getInstance().cur_score+=enemyTs.score;\r\n                // }break;\r\n            }\r\n\r\n        }\r\n        //this.game.showLevelProgress();        \r\n    }\r\n\r\n    getFightCenter(): cc.Vec2 {\r\n        return cc.v2(0, (700 + this.enemy_offset_y - this.enemy_att_y) / 2 + this.enemy_att_y);\r\n    }\r\n\r\n    setSkillCancel(isShow: boolean) {\r\n\r\n    }\r\n\r\n    exitPlayGame() {\r\n        this.load_callback = null;\r\n        this.load_jishu = 0;\r\n        this.unscheduleAllCallbacks();\r\n        this.all_hero = null;\r\n    }\r\n\r\n    backToHome(showHero?: Hero_Type) {\r\n        this.role_show_hero = showHero ? showHero : Hero_Type.ChangMaoShou;\r\n        let bgLoading = UIManager.getInstance().getLoadingNode();\r\n        bgLoading.active = true;\r\n        let loadingBar = bgLoading.getChildByName('ProgressBar').getComponent(cc.ProgressBar);\r\n        let loadLabel = loadingBar.node.getChildByName('loadLabel').getComponent(cc.Label);\r\n\r\n        // console.log(\"________type1\",GameManager.getInstance().game_to_home)\r\n        cc.director.preloadScene(GameScene.home, (completedCount: number, totalCount: number, item: any) => {\r\n            //真实进度\r\n            let progressTrue = completedCount / totalCount;\r\n            //假的进度\r\n            let progressFalse = progressTrue / 2;\r\n            loadingBar.progress = progressFalse;\r\n            loadLabel.string = (loadingBar.progress * 100).toFixed(0) + '%';\r\n            this.cur_load_progress = progressFalse;\r\n            //this.loading_light.x = this.loading_bar.progress*this.loading_bar.totalLength-this.loading_bar.totalLength/2;\r\n        }, () => {\r\n            cc.director.loadScene(GameScene.home);\r\n        });\r\n        //cc.director.loadScene(GameScene.home);\r\n    }\r\n\r\n    showDangerText() {\r\n        let dangerText = cc.find('Canvas/Fighting_Ui/dangerText');\r\n        if (dangerText == null) {\r\n            WXManagerEX.getInstance().resourcesBundle.load('ui/game/dangerText', cc.Prefab, (error: Error, assets: cc.Prefab) => {\r\n                if (error) {\r\n                    console.log(error);\r\n                    return;\r\n                }\r\n                dangerText = cc.find('Canvas/Fighting_Ui/dangerText');\r\n                if (dangerText == null) {\r\n                    let node = cc.instantiate(assets);\r\n                    node.parent = cc.find('Canvas/Fighting_Ui');\r\n                }\r\n            });\r\n        } else {\r\n            dangerText.active = true;\r\n        }\r\n    }\r\n    showRoguelike() {\r\n        if (this.cur_game_state == GameState.Game_Roguelike)\r\n            return;\r\n\r\n        this.cur_game_state = GameState.Game_Roguelike;\r\n        cc.director.pause();\r\n        UIManager.getInstance().showRoguelikeTip();\r\n    }\r\n    showGamePause() {\r\n        if (this.cur_game_state == GameState.Game_Pause)\r\n            return;\r\n        this.cur_game_state = GameState.Game_Pause;\r\n        cc.director.pause();\r\n        UIManager.getInstance().showGamePauseUi();\r\n    }\r\n    showBtnBuff(type)//0:Buff展示   1：Buff选择\r\n    {\r\n        if (this.cur_game_state == GameState.Game_Pause)\r\n            return;\r\n        this.cur_game_state = GameState.Game_Pause;\r\n        //cc.director.pause();\r\n        UIManager.getInstance().showUiDialog(UIPath.BuffDisplay, UILayerLevel.Two, {\r\n            onCompleted: (uiNode) => {\r\n                uiNode.getComponent(BuffDisplay).init({\r\n                    onClose: () => {\r\n\r\n                    }\r\n                })\r\n                uiNode.getComponent(BuffDisplay).initUi(type)\r\n            },\r\n        });\r\n    }\r\n    showGameWin() {\r\n        // console.log(\"打完一回合了\")\r\n        if (this.cur_game_state == GameState.Game_Win || this.cur_game_state == GameState.Game_Lose) {\r\n            return;\r\n        }\r\n        this.music_manager.pause();\r\n        this.cur_game_state = GameState.Game_Win;\r\n        this.resetRate();\r\n        this.game.setBtnRateShow();\r\n        TheStorageManager.getInstance().setItem(StorageKey.try_rate_fight_remain, Math.floor(this.game.try_rate_ramain));\r\n        TheStorageManager.getInstance().setItem(StorageKey.try_auto_fight_remain, Math.floor(this.game.try_auto_ramain));\r\n        switch (this.cur_game_mode) {\r\n            case GameMode.Main: {\r\n                let curStartLevel = LevelManager.getInstance().start_level;\r\n                if (TutorailsManager.getInstance().is_finish_game) {\r\n                    FollowManager.getInstance().followEvent(Follow_Type.完成第N章玩家数 + MissionLevelManager.getInstance().getChapter(curStartLevel));\r\n                    FollowManager.getInstance().followEvent(Follow_Type.完成挑战关卡 + curStartLevel);\r\n                    LevelManager.getInstance().finish_level = curStartLevel;\r\n                    this.game.showCoin();\r\n                    this.scheduleOnce(() => {\r\n                        UIManager.getInstance().showUiDialog(UIPath.GameWin, UILayerLevel.One, {\r\n                            onCompleted: (uiNode: cc.Node) => {\r\n                                uiNode.getComponent(GameWin).initUi();\r\n                            }\r\n                        })\r\n                    }, 1)\r\n                } else {\r\n                    if (LevelManager.getInstance().start_level == 1 && TutorailsManager.getInstance().isShowTutorials(204)) {\r\n                        TutorailsManager.getInstance().saveTutorials(200);\r\n                        TutorailsManager.getInstance().saveTutorials(202);\r\n                        TutorailsManager.getInstance().saveTutorials(203);\r\n                        TutorailsManager.getInstance().saveFinishFromGame();\r\n                        UIManager.getInstance().showUiDialog(UIPath.RewardSSUI, UILayerLevel.One, {\r\n                            onCompleted: (uiNode) => {\r\n                                uiNode.getComponent(RewardSSUi).initData(0);\r\n                            }\r\n                        });\r\n                        // TutorailsManager.getInstance().showTutorials(204,()=>{\r\n\r\n                        //     TutorailsManager.getInstance().saveTutorials(204);\r\n                        //     TutorailsManager.getInstance().saveFinishFromGame();\r\n                        // },()=>{\r\n                        //     //开始正式关卡\r\n                        // });\r\n                        // TutorailsManager.getInstance().is_tutorails_state=false;\r\n                    }\r\n                }\r\n            } break;\r\n            case GameMode.Tower: {\r\n                TowerManager.addTowerLevel(1);\r\n            } break;\r\n            case GameMode.Endless: {\r\n                //显示三选一\r\n                // console.log(\"+++++++++\")\r\n                GameManager.getInstance().startNextLevel();\r\n                //GameManager.getInstance().showBtnBuff(1);//Buff选择弹窗\r\n            } break;\r\n            case GameMode.Maze: {\r\n                this.game.showCoin();\r\n                this.scheduleOnce(() => {\r\n                    UIManager.getInstance().showUiDialog(UIPath.GameWin, UILayerLevel.One, {\r\n                        onCompleted: (uiNode: cc.Node) => {\r\n                            uiNode.getComponent(GameWin).initUi();\r\n                        }\r\n                    })\r\n                }, 1)\r\n            } break;\r\n        }\r\n\r\n\r\n        //熊消失\r\n        let showwang = this.all_hero.get(Hero_Type.ShouWang);\r\n        if (showwang) {\r\n            showwang.onGameWin();\r\n        }\r\n    }\r\n\r\n    showSelectSkill(delayTime: number = 1) {\r\n        this.cur_game_state = GameState.Game_Pause;\r\n        //延迟展示\r\n        this.scheduleOnce(() => {\r\n            WXManagerEX.getInstance().resourcesBundle.load('ui/game/select_skill', cc.Prefab, (error: Error, assets: cc.Prefab) => {\r\n                if (error) {\r\n                    console.log(error);\r\n                    return;\r\n                }\r\n                let fui = cc.find('Canvas/Drop_Root');\r\n                for (let i = 0; i < fui.childrenCount; i++) {\r\n                    cc.tween(fui.children[i]).by(0.5, { y: -1400 }).removeSelf().start();\r\n                }\r\n                let node = cc.instantiate(assets);\r\n                node.parent = cc.find('Canvas/Ui_Root');\r\n                this.cur_game_state = GameState.Game_Pause;\r\n            });\r\n        }, delayTime);\r\n    }\r\n\r\n    showUnlockSkill(yesCallback: Function, noCallback: Function) {\r\n        this.cur_game_state = GameState.Game_Pause;\r\n        WXManagerEX.getInstance().resourcesBundle.load('ui/game/unlock_ui', cc.Prefab, (error: Error, assets: cc.Prefab) => {\r\n            if (error) {\r\n                console.log(error);\r\n                return;\r\n            }\r\n            let node = cc.instantiate(assets);\r\n            node.parent = cc.find('Canvas/Ui_Root');\r\n            node.getComponent(UnlockSkill).init(yesCallback, noCallback);\r\n        });\r\n    }\r\n\r\n    // cheakLevelSkill()\r\n    // {\r\n    //     this.cur_game_state=GameState.Game_Pause;\r\n    //     let teamList=HeroManager.getInstance().getTeamList(GameMode.Main);\r\n    //     let isCanShow=false;\r\n    //     for(let i=0; i<5; i++)\r\n    //     {\r\n    //         let hero:Hero=null;\r\n    //         let heroType=teamList[i];\r\n    //         if(heroType>=0)\r\n    //         {\r\n    //             hero=GameManager.getInstance().all_hero[heroType];                \r\n    //             if(hero.level_buff.length<this.max_skill_slot)\r\n    //             {\r\n    //                 isCanShow=true;\r\n    //                 break;\r\n    //             }\r\n    //         }\r\n    //     }\r\n    //     if(isCanShow==false)\r\n    //     {\r\n    //         if(this.max_skill_slot==1)\r\n    //         {\r\n    //             //说明未视频解锁\r\n    //             this.showUnlockSkill(()=>{\r\n    //                 AdManager.getInstance().showVideo((isSuc:boolean)=>{\r\n    //                     if(isSuc)\r\n    //                     {\r\n    //                         this.max_skill_slot=2;\r\n    //                         this.showSelectSkill();\r\n    //                     }else\r\n    //                     {\r\n    //                         //直接开始下一波怪\r\n    //                         GameManager.getInstance().cur_game_state=GameState.Game_Playing;\r\n    //                         this.loadLevel();\r\n    //                         let fui=cc.find('Canvas/Drop_Root');\r\n    //                         for(let i=0; i<fui.childrenCount; i++)\r\n    //                         {\r\n    //                             cc.tween(fui.children[i]).by(0.5,{y:1400}).removeSelf().start();\r\n    //                         }\r\n    //                     }\r\n    //                 },VIDEO_TYPE.Huodong);\r\n    //             },()=>{\r\n    //                 //直接开始下一波怪\r\n    //                 GameManager.getInstance().cur_game_state=GameState.Game_Playing;\r\n    //                 this.loadLevel();\r\n    //                 let fui=cc.find('Canvas/Drop_Root');\r\n    //                 for(let i=0; i<fui.childrenCount; i++)\r\n    //                 {\r\n    //                     cc.tween(fui.children[i]).by(0.5,{y:1400}).removeSelf().start();\r\n    //                 }\r\n    //             });\r\n    //         }else\r\n    //         {\r\n    //             //直接提示技能满了，跳过弹窗\r\n    //             this.showMessage(LanguageManager.getInstance().getString(LanguageIndex.Skill_is_full));\r\n    //             GameManager.getInstance().cur_game_state=GameState.Game_Playing;\r\n    //             this.loadLevel();\r\n    //             let fui=cc.find('Canvas/Drop_Root');\r\n    //             for(let i=0; i<fui.childrenCount; i++)\r\n    //             {\r\n    //                 cc.tween(fui.children[i]).by(0.5,{y:1400}).removeSelf().start();\r\n    //             }\r\n    //         }\r\n    //     }else\r\n    //     {\r\n    //         this.showSelectSkill();\r\n    //     }\r\n    // }\r\n\r\n    onFuhuo() {\r\n        this.cur_game_state = GameState.Game_Playing;;\r\n\r\n        let dangerText = cc.find('Canvas/Fighting_Ui/dangerText');\r\n        if (dangerText) {\r\n            dangerText.active = false;\r\n        }\r\n    }\r\n\r\n    showFuhuo() {\r\n        this.cur_game_state = GameState.Game_Pause;\r\n        this.resetRate();\r\n        this.game.setBtnRateShow();\r\n        //LevelManager.getInstance().saveLevelWave(LevelManager.getInstance().start_level,this.cur_wave);\r\n        WXManagerEX.getInstance().resourcesBundle.load('ui/game/fuhuo_ui', cc.Prefab, (error: Error, assets: cc.Prefab) => {\r\n            if (error) {\r\n                console.log(error);\r\n                return;\r\n            }\r\n            let node = cc.instantiate(assets);\r\n            node.parent = cc.find('Canvas/Ui_Root');\r\n            this.fuhuo_num--;\r\n        });\r\n    }\r\n\r\n    showGameLose() {\r\n        // console.log(\"失败\",)\r\n        if (this.cur_game_state == GameState.Game_Lose || this.cur_game_state == GameState.Game_Win) {\r\n            return;\r\n        }\r\n        this.cur_game_state = GameState.Game_Lose;\r\n        this.resetRate();\r\n        this.game.setBtnRateShow();\r\n        TheStorageManager.getInstance().setItem(StorageKey.try_rate_fight_remain, Math.floor(this.game.try_rate_ramain));\r\n        TheStorageManager.getInstance().setItem(StorageKey.try_auto_fight_remain, Math.floor(this.game.try_auto_ramain));\r\n        switch (this.cur_game_mode) {\r\n            case GameMode.Tower: {\r\n\r\n            } break;\r\n            case GameMode.Main: {\r\n                this.game.showCoin();\r\n                //LevelManager.getInstance().saveLevelWave(LevelManager.getInstance().start_level,this.cur_wave);\r\n                this.scheduleOnce(() => {\r\n                    UIManager.getInstance().showGameLoseUi();\r\n                }, 1);\r\n            } break;\r\n\r\n            case GameMode.Maze: {\r\n                this.game.showCoin();\r\n                //LevelManager.getInstance().saveLevelWave(LevelManager.getInstance().start_level,this.cur_wave);\r\n                this.scheduleOnce(() => {\r\n                    UIManager.getInstance().showGameLoseUi();\r\n                }, 1);\r\n            } break;\r\n            case GameMode.Endless: {\r\n                // console.log(\"无尽挑战胜利\")\r\n                UIManager.getInstance().showUiDialog(UIPath.GameWin, UILayerLevel.One, {\r\n                    onCompleted: (uiNode: cc.Node) => {\r\n                        uiNode.getComponent(GameWin).initUi();\r\n                    }\r\n                })\r\n            } break;\r\n            case GameMode.Boss_Challenge: {\r\n                // console.log(\"Boss挑战胜利\")\r\n                UIManager.getInstance().showUiDialog(UIPath.GameWin, UILayerLevel.One, {\r\n                    onCompleted: (uiNode: cc.Node) => {\r\n                        uiNode.getComponent(GameWin).initUi();\r\n                    }\r\n                })\r\n            } break;\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    onWallDie() {\r\n        this.showGameLose();\r\n        // if(this.cur_game_mode==GameMode.Main){\r\n        //     if(this.fuhuo_num>0)\r\n        //     {\r\n        //         this.showFuhuo();\r\n        //     }else\r\n        //     {\r\n        //         this.showGameLose();\r\n        //     }\r\n        // }else{\r\n        //     this.showGameLose();\r\n        // }        \r\n    }\r\n\r\n    showMonsterWarning() {\r\n        this.sound_manager.playSound(SoundIndex.YX_EnemyComing);\r\n        let node = GameEffectsManager.getInstance().createGameEffectForParent(GameEffectId.ui_monster_warning, cc.v2(0, 0), UIManager.getInstance().node);\r\n        node.opacity = 0;\r\n        node.stopAllActions();\r\n        cc.tween(node).to(0.25, { opacity: 255 }).to(0.5, { opacity: 100 }).to(0.5, { opacity: 255 }).to(0.5, { opacity: 100 }).to(0.5, { opacity: 255 }).to(0.25, { opacity: 0 }).call(() => {\r\n            GameEffectsManager.getInstance().destroyGameEffectById(GameEffectId.ui_monster_warning, node);\r\n        }).start();\r\n    }\r\n\r\n    showBossWarning() {\r\n        WXManagerEX.getInstance().resourcesBundle.load('ui/game/boss_warning', cc.Prefab, (error: Error, assets: cc.Prefab) => {\r\n            if (error) {\r\n                console.log(error);\r\n                return;\r\n            }\r\n            if (GameManager.getInstance().cur_game_scene == GameScene.home)\r\n                return;\r\n            let chuxianAct = 0.3;\r\n            let xiaoshiAct = 0.15;\r\n            let tingliuAct = 2;\r\n            let node = cc.instantiate(assets);\r\n            node.parent = cc.find('Canvas/Ui_Root');\r\n            let auto = node.getChildByName('auto');\r\n            auto.x = -320;\r\n            cc.tween(auto).to(chuxianAct, { x: 320 }).to(2, { x: 1080 }).start();\r\n\r\n            let warningLabel = node.getChildByName('warningLabel');\r\n            warningLabel.x = 640;\r\n            cc.tween(warningLabel).to(chuxianAct, { x: 0 }).to(0.25, { scale: 1.1 }).to(0.25, { scale: 1.0 }).to(0.25, { scale: 1.1 }).to(0.25, { scale: 1.0 }).to(0.25, { scale: 1.1 }).to(0.25, { scale: 1.0 }).to(xiaoshiAct, { x: -640 }).start();\r\n            let bossLabel = node.getChildByName('bossLabel');\r\n            bossLabel.x = -640;\r\n            cc.tween(bossLabel).to(chuxianAct, { x: 0 }).to(0.25, { scale: 1.1 }).to(0.25, { scale: 1.0 }).to(0.25, { scale: 1.1 }).to(0.25, { scale: 1.0 }).to(0.25, { scale: 1.1 }).to(0.25, { scale: 1.0 }).to(xiaoshiAct, { x: 640 }).start();\r\n            let effects = node.getChildByName('effects');\r\n            effects.opacity = 0;\r\n            cc.tween(effects).delay(chuxianAct + 0.2).call(() => {\r\n                effects.opacity = 255;\r\n                effects.getComponent(cc.Animation).play();\r\n            }).delay(tingliuAct - chuxianAct - 0.2).removeSelf().start();\r\n            cc.tween(node).delay(tingliuAct).removeSelf().start();\r\n\r\n            // cc.tween(node).to(0.2,{y:200}).delay(0.5).to(0.2,{scale:1.2}).to(0.2,{scale:0.8}).to(0.1,{scale:32,opacity:0}).removeSelf().start();\r\n        });\r\n    }\r\n\r\n    saveSound() {\r\n        this.music_manager.saveMusicVolume();\r\n        this.music_manager.saveMusicMute();\r\n        this.sound_manager.saveSoundVolume();\r\n        this.sound_manager.saveSoundMute();\r\n    }\r\n\r\n    showSpeedUpUi() {\r\n        if (this.cur_game_scene == GameScene.game) {\r\n            WXManagerEX.getInstance().resourcesBundle.load('ui/game/speed_ui', cc.Prefab, (error: Error, assets: cc.Prefab) => {\r\n                if (error) {\r\n                    console.log(error);\r\n                    return;\r\n                }\r\n                this.cur_game_state = GameState.Game_Pause;\r\n                cc.director.pause();\r\n                let node = cc.instantiate(assets);\r\n                node.parent = cc.find('Canvas/Ui_Root');\r\n            });\r\n        }\r\n    }\r\n\r\n    //----------------------------------------------------HOME------------------------------------------------------------------------\r\n\r\n    refreshCoinShow(): cc.Node {\r\n        if (this.cur_game_scene == GameScene.home) {\r\n            let home = cc.find('Canvas').getComponent(Home);\r\n            if (home) {\r\n                return home.refreshCoinShow();\r\n            }\r\n        }\r\n    }\r\n\r\n    refreshGemShow(): cc.Node {\r\n        if (this.cur_game_scene == GameScene.home) {\r\n            let home = cc.find('Canvas').getComponent(Home);\r\n            if (home) {\r\n                return home.refreshGemShow();\r\n            }\r\n        }\r\n    }\r\n\r\n    refreshLongJingShow() {\r\n        if (this.cur_game_scene == GameScene.home) {\r\n            let home = cc.find('Canvas').getComponent(Home);\r\n            if (home) {\r\n                return home.refreshLongJing();\r\n            }\r\n        }\r\n    }\r\n\r\n    refreshUserExpShow() {\r\n        if (this.cur_game_scene == GameScene.home) {\r\n            let home = cc.find('Canvas').getComponent(Home);\r\n            if (home) {\r\n                return home.refreshUserExp();\r\n            }\r\n        }\r\n    }\r\n\r\n    jumoToUi(index: Btn_Index) {\r\n        if (this.cur_game_scene == GameScene.home)\r\n            cc.find('Canvas').getComponent(Home).jumoToUi(index);\r\n    }\r\n\r\n    jumoAndShowUi() {\r\n        if (this.cur_game_scene == GameScene.home) {\r\n            let home = cc.find('Canvas').getComponent(Home);\r\n            home.cheakUnlock();\r\n            home.showUi();\r\n        }\r\n    }\r\n\r\n    refreshZhanliShow() {\r\n        if (this.cur_game_scene == GameScene.home) {\r\n            let home = cc.find('Canvas').getComponent(Home);\r\n            if (home) {\r\n                return home.refreshZhanLiShow();\r\n            }\r\n        }\r\n    }\r\n\r\n    refreshTopShow() {\r\n        if (this.cur_game_scene == GameScene.home) {\r\n            let home = cc.find('Canvas').getComponent(Home);\r\n            if (home) {\r\n                home.refreshTop();\r\n            }\r\n        }\r\n    }\r\n\r\n    refreshGuaJiGift() {\r\n        if (this.cur_game_scene == GameScene.home) {\r\n            let btnOfflineGift = cc.find('Canvas/main_ui/btnOfflineGift');\r\n            btnOfflineGift.getComponent(GuaJiGift).cheak();\r\n        }\r\n    }\r\n\r\n    // refreshRole()\r\n    // {\r\n    //     if(this.cur_game_scene!=GameScene.home)\r\n    //     return;\r\n    //     let roleUi=cc.find('Canvas/role_ui');\r\n    //     if(roleUi.active==true)\r\n    //     {\r\n    //         roleUi.getComponent(RoleUi).onEnable();\r\n    //     }        \r\n    // }    \r\n\r\n\r\n    /**----------------------------------------------宠物---------------------------------------------- */\r\n    /**\r\n     * \r\n     * @param petId 宠物id\r\n     * @param num 增加的数值\r\n     */\r\n    public addPetActiveDps(petId: PetInfo, num: number) {\r\n        let nowNum = this.getPetActiveDps(petId);\r\n        let newNum = nowNum + num;\r\n        this.setPetActiveDps(petId, newNum);\r\n    }\r\n    /**\r\n     * \r\n     * @param petId 宠物id\r\n     * @returns 当前的dps\r\n     */\r\n    public getPetActiveDps(petId: PetInfo): number {\r\n        return this.pet_active_dps.get(petId);\r\n    }\r\n\r\n    private setPetActiveDps(petId: PetInfo, num: number) {\r\n        this.pet_active_dps.set(petId, num);\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param petId 宠物id\r\n     * @param num 增加的数值\r\n     */\r\n    public addPetConnectDps(petId: PetInfo, num: number) {\r\n        let nowNum = this.getPetConnectDps(petId);\r\n        let newNum = nowNum + num;\r\n        this.setPetConnectDps(petId, newNum);\r\n    }\r\n    /**\r\n     * \r\n     * @param petId 宠物id\r\n     * @returns 当前的dps\r\n     */\r\n    public getPetConnectDps(petId: PetInfo): number {\r\n        return this.pet_connect_dps.get(petId);\r\n    }\r\n\r\n    private setPetConnectDps(petId: PetInfo, num: number) {\r\n        this.pet_connect_dps.set(petId, num);\r\n    }\r\n}\r\n\r\n"]}