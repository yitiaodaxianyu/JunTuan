{"version":3,"sources":["assets\\Scripts\\VipSystem\\VIPPrivileges.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport { BossRewardManager } from \"../Activity/BossReward\";\r\nimport ApkManager from \"../Ads/ApkManager\";\r\nimport { BattlePassDataManager } from \"../BattlePass/BattlePassData\";\r\nimport GameManager from \"../GameManager\";\r\nimport { Follow_Type } from \"../multiLanguage/FollowConstants\";\r\nimport FollowManager from \"../multiLanguage/FollowManager\";\r\nimport LanguageManager from \"../multiLanguage/LanguageManager\";\r\nimport TextLanguage from \"../multiLanguage/TextLanguage\";\r\nimport { PayManager } from \"../Payment/PayManager\";\r\nimport { PropId } from \"../Prop/PropConfig\";\r\nimport { PropManager } from \"../Prop/PropManager\";\r\nimport { SoundIndex } from \"../Sound/AudioConstants\";\r\nimport { StorageKey } from \"../Storage/StorageConfig\";\r\nimport { TheStorageManager } from \"../Storage/StorageManager\";\r\nimport { TurntableInformationManager } from \"../Turntable/TurntableInformation\";\r\nimport UIComponent from \"../UI/UIComponent\";\r\nimport VipSystem from \"./VipSystem\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class VIPPrivileges extends cc.Component {\r\n\r\n\r\n    @property(cc.Node)\r\n    itme:cc.Node[]=[]//每天领取的500钻石道具父节点\r\n    id=\"c401\"//c401  c501\r\n    Gemnum:number=360\r\n    // propid=[PropId.Gem,10002,40004,101004]\r\n    // num=[this.Gemnum,500,10,20]\r\n    propid=[10002,40004,101004]\r\n    num=[500,10,20]\r\n    @property(cc.Node)\r\n    lanText:cc.Node=null//价格\r\n    start () {\r\n        for (let index = 0; index < this.itme.length; index++) {\r\n            let itme=PropManager.getInstance().createPropItem(this.propid[index],this.num[index]);\r\n            itme.scale=0.85\r\n            itme.parent=this.itme[index]\r\n        }\r\n    }\r\n    onEnable(){\r\n        this.lanText.getComponent(cc.Label).string=\"\"+PayManager.getInstance().getPayInfo(this.id).price\r\n    }\r\n    clickBtnbtnLan(){//购买\r\n        ApkManager.getInstance().showPay({result:(isPay:boolean)=>{\r\n            if(isPay){\r\n                FollowManager.getInstance().followEvent(Follow_Type.战令购买高级战令成功人数);\r\n                let itme=[]\r\n                for (let index = 0; index < this.itme.length; index++) {\r\n                    PropManager.getInstance().changePropNum(this.propid[index],this.num[index]);\r\n                    let itmes=PropManager.getInstance().createPropItem(this.propid[index],this.num[index]);\r\n                    itme.push(itmes)\r\n                }\r\n                GameManager.getInstance().showMultipleGetTip(itme);\r\n                TheStorageManager.getInstance().setItem(StorageKey.VipIdentity,1)\r\n                PayManager.getInstance().addPayNum(this.id);\r\n                this.node.parent.getComponent(VipSystem).Refresh()\r\n                this.clickBtnClose()\r\n            }\r\n        }},this.id) \r\n    }\r\n    clickBtnClose()//关闭\r\n    {\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        this.node.active=false\r\n    }\r\n\r\n\r\n    // update (dt) {}\r\n}\r\n"]}