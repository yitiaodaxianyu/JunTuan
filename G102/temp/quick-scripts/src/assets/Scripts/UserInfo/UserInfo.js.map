{"version":3,"sources":["assets\\Scripts\\UserInfo\\UserInfo.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { AccessName, HeroObject, HttpManager, TaskObject } from \".././NetWork/HttpManager\";\r\nimport { Hero_Type } from \"../Hero/Game/HeroConfig\";\r\nimport { StorageKey } from \"../Storage/StorageConfig\";\r\nimport { TheStorageManager } from \"../Storage/StorageManager\";\r\nimport UserData from \"../UserData\";\r\n\r\nexport class UserInfo{\r\n\r\n    //连续签到天数 新手7天签到\r\n    signInDays:number = 0;\r\n    // 是否领取七日礼包\r\n    isSignGift:number = 0;\r\n    // 最后一次签到时间 新手7天签到\r\n    lastSignTime:number = 0;\r\n    // 最后一次签到时间时间戳 毫秒级时间戳\r\n    lastSignTimeTS:number = 0;\r\n    // 付费宝石数量\r\n    payGem:number = 0\r\n    // 波数\r\n    waveNumber:number = 0\r\n\r\n    // 伤害数\r\n    damageNumber:number = 0\r\n\r\n    // Boss轮换顺序\r\n    RotationOrder:number = 1\r\n\r\n    heroList:HeroObject[] = [];\r\n\r\n    dailyTaskList:TaskObject[] = [];\r\n\r\n    achievementTaskList:TaskObject[] = [];\r\n\r\n    mainTaskList:TaskObject[] = [];\r\n\r\n    // Boss挑战每周奖励领取状态   是否能领取   0>未领取   -1已领取\r\n    damageNumberLast:number = -1\r\n    private static _instance: UserInfo = null;\r\n\r\n    public static getInstance():UserInfo {\r\n        if(this._instance==null) {\r\n            this._instance=new UserInfo();\r\n            this._instance.init();\r\n        }\r\n        return this._instance;\r\n    }\r\n\r\n    init(){\r\n        this.refreshData();\r\n        this.getHeroList();\r\n        this.getVIPData();\r\n        this.getTaskData();\r\n    }\r\n\r\n    refreshData(){\r\n        HttpManager.gameTimePost(AccessName.getServerTime,this.getUserInfoJsonString()).then((data:any)=>{\r\n            if(data.serverTime){\r\n                let nowTime = data.serverTime;\r\n                this.getStoreData(nowTime * 1000);\r\n                HttpManager.post(AccessName.userInfo,this.getUserInfoJsonString()).then((data:any)=>{\r\n                    this.signInDays = data.signDays;\r\n                    this.isSignGift = data.isSignGift;\r\n                    this.lastSignTime = data.lastSignTime;\r\n                    this.lastSignTimeTS = data.lastSignTimeTS;\r\n                    this.payGem = data.payGem;\r\n                    this.waveNumber = data.waveNumber;\r\n                    this.damageNumber = data.damageNumber;\r\n                    this.damageNumberLast=data.damageNumberLast;\r\n                    TheStorageManager.getInstance().setItem(StorageKey.NewPlayerSavenDaySignInNum,this.signInDays);\r\n                    TheStorageManager.getInstance().setItem(StorageKey.NewPlayerSavenDaySignInOver,this.isSignGift);\r\n                    if(this.isSignGift == 0){\r\n                        let signInDate = new Date(this.lastSignTimeTS * 1000);\r\n                        let n1 = signInDate.getDate();\r\n                        let n2 = new Date((nowTime * 1000)).getDate();\r\n                        if(signInDate.getDate() == new Date((nowTime * 1000)).getDate()){\r\n                            TheStorageManager.getInstance().setItem(StorageKey.CanSignIn,1);\r\n                        }else{\r\n                            TheStorageManager.getInstance().setItem(StorageKey.CanSignIn,0);\r\n                        }\r\n                    }else{\r\n                        // 拉取三十天签到数据\r\n                        this.getSignInData(nowTime);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        HttpManager.post(AccessName.getBoss,\"\").then((data:any)=>{\r\n            this.RotationOrder = data;\r\n        });\r\n    }\r\n\r\n    getSignInData(nowTime:number){\r\n        HttpManager.post(AccessName.getSignRecord,this.getUserInfoJsonString()).then((data:any)=>{\r\n            if(data){\r\n                // 标记累计奖励领取记录\r\n                data.signGift.forEach((v,k)=>{\r\n                    TheStorageManager.getInstance().setItem(StorageKey.DailySignInCumulativeDay + v.type,1);\r\n                });\r\n                // 标记签到记录\r\n                data.signDetail.forEach((v,k)=>{\r\n                    TheStorageManager.getInstance().setItem(StorageKey.DailySignInDay + new Date(v.signDateTS).getDate(),1);\r\n                });\r\n\r\n                if(data.signDetail.length > 0){\r\n                    let lastSignTimeTS = data.signDetail[data.signDetail.length - 1].signDateTS;\r\n                    if(new Date(nowTime).getDate() == new Date(lastSignTimeTS).getDate()){\r\n                        TheStorageManager.getInstance().setItem(StorageKey.CanSignIn,1);\r\n                    }else{\r\n                        TheStorageManager.getInstance().setItem(StorageKey.CanSignIn,0);\r\n                    }\r\n                }else{\r\n                    TheStorageManager.getInstance().setItem(StorageKey.CanSignIn,0);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    getHeroList(){\r\n        let heroJsonData = TheStorageManager.getInstance().getJson(StorageKey.HeroList);\r\n        if(heroJsonData){\r\n            for(let i = 0;i<heroJsonData.length;i++){\r\n                let heroInfo = new HeroObject();\r\n                let info = heroJsonData[i];\r\n                heroInfo.heroId=info.hero_type;\r\n                heroInfo.heroLevel=info.hero_level;\r\n                heroInfo.heroStage=info.hero_stage;\r\n                heroInfo.heroWeaponStage=info.exclusive_equip_stage;\r\n                heroInfo.weapons=info.wear1;\r\n                heroInfo.armor=info.wear2;\r\n                heroInfo.accessories=info.wear3;\r\n                heroInfo.shoes=info.wear4;\r\n                heroInfo.pet=info.pet_id;\r\n                this.heroList.push(heroInfo);\r\n            }\r\n        }else{\r\n            let heroInfo = new HeroObject();\r\n            heroInfo.heroId=Hero_Type.ShouWang;\r\n            heroInfo.heroLevel=1;\r\n            heroInfo.heroStage=0;\r\n            heroInfo.heroWeaponStage=0;\r\n            heroInfo.weapons=0;\r\n            heroInfo.armor=0;\r\n            heroInfo.accessories=0;\r\n            heroInfo.shoes=0;\r\n            heroInfo.pet=0;\r\n            this.heroList.push(heroInfo);\r\n\r\n            heroInfo = new HeroObject();\r\n            heroInfo.heroId=Hero_Type.PaoShou;\r\n            heroInfo.heroLevel=1;\r\n            heroInfo.heroStage=0;\r\n            heroInfo.heroWeaponStage=0;\r\n            heroInfo.weapons=0;\r\n            heroInfo.armor=0;\r\n            heroInfo.accessories=0;\r\n            heroInfo.shoes=0;\r\n            heroInfo.pet=0;\r\n            this.heroList.push(heroInfo);\r\n\r\n            heroInfo = new HeroObject();\r\n            heroInfo.heroId=Hero_Type.DeLuYi;\r\n            heroInfo.heroLevel=1;\r\n            heroInfo.heroStage=0;\r\n            heroInfo.heroWeaponStage=0;\r\n            heroInfo.weapons=0;\r\n            heroInfo.armor=0;\r\n            heroInfo.accessories=0;\r\n            heroInfo.shoes=0;\r\n            heroInfo.pet=0;\r\n            this.heroList.push(heroInfo);\r\n        }\r\n        HttpManager.post(AccessName.getHeroList,this.getUserInfoJsonString(),false).then((data:any)=>{\r\n            if(data){\r\n                this.heroList = [];\r\n                if(data.length != 0){\r\n                    data.forEach((v,k)=>{\r\n                        let heroInfo = new HeroObject();\r\n                        heroInfo.heroId=v.heroId;\r\n                        heroInfo.heroLevel=v.heroLevel;\r\n                        heroInfo.heroStage=v.heroStage;\r\n                        heroInfo.heroWeaponStage=v.heroWeaponStage;\r\n                        heroInfo.weapons=v.weapons;\r\n                        heroInfo.armor=v.armor;\r\n                        heroInfo.accessories=v.accessories;\r\n                        heroInfo.shoes=v.shoes;\r\n                        heroInfo.pet=v.pet;\r\n                        this.heroList.push(heroInfo);\r\n                    });\r\n                }else{\r\n                    let heroInfo = new HeroObject();\r\n                    heroInfo.heroId=Hero_Type.ShouWang;\r\n                    heroInfo.heroLevel=1;\r\n                    heroInfo.heroStage=0;\r\n                    heroInfo.heroWeaponStage=0;\r\n                    heroInfo.weapons=0;\r\n                    heroInfo.armor=0;\r\n                    heroInfo.accessories=0;\r\n                    heroInfo.shoes=0;\r\n                    heroInfo.pet=0;\r\n                    this.heroList.push(heroInfo);\r\n\r\n                    heroInfo = new HeroObject();\r\n                    heroInfo.heroId=Hero_Type.PaoShou;\r\n                    heroInfo.heroLevel=1;\r\n                    heroInfo.heroStage=0;\r\n                    heroInfo.heroWeaponStage=0;\r\n                    heroInfo.weapons=0;\r\n                    heroInfo.armor=0;\r\n                    heroInfo.accessories=0;\r\n                    heroInfo.shoes=0;\r\n                    heroInfo.pet=0;\r\n                    this.heroList.push(heroInfo);\r\n\r\n                    heroInfo = new HeroObject();\r\n                    heroInfo.heroId=Hero_Type.DeLuYi;\r\n                    heroInfo.heroLevel=1;\r\n                    heroInfo.heroStage=0;\r\n                    heroInfo.heroWeaponStage=0;\r\n                    heroInfo.weapons=0;\r\n                    heroInfo.armor=0;\r\n                    heroInfo.accessories=0;\r\n                    heroInfo.shoes=0;\r\n                    heroInfo.pet=0;\r\n                    this.heroList.push(heroInfo);\r\n                }\r\n            }\r\n        }).catch((err)=>{\r\n            console.log(\"网络请求出现问题，这里拿本地数据作为游戏依据\");\r\n        });\r\n    }\r\n\r\n    getStoreData(nowTime:number){\r\n        HttpManager.post(AccessName.queryGameTask,this.getQueryGameTaskJsonString(10)).then((data:any)=>{\r\n            if(data){\r\n                let date = new Date(nowTime);\r\n                data.forEach((v,k)=>{\r\n                    // let d1 = new Date(v.createTime);\r\n                    // console.log(d1.getDate(),date.getDate());\r\n                    if(new Date(v.createTime).getDate() == date.getDate()){\r\n                        TheStorageManager.getInstance().setItem(StorageKey.StoreDailyShopNum + v.playLevel,1);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    getVIPData(){\r\n        HttpManager.post(AccessName.queryGameTask,this.getQueryGameTaskJsonString(1)).then((data:any)=>{\r\n            if(data){\r\n                data.forEach((v,k)=>{\r\n                    TheStorageManager.getInstance().setItem(StorageKey.VipFreeRewardStatus+v.playLevel,1);\r\n                });\r\n            }\r\n        });\r\n        HttpManager.post(AccessName.queryGameTask,this.getQueryGameTaskJsonString(2)).then((data:any)=>{\r\n            if(data){\r\n                data.forEach((v,k)=>{\r\n                    // TheStorageManager.getInstance().setItem(StorageKey.VipFreeRewardStatus+v.playLevel,1);\r\n                    TheStorageManager.getInstance().setItem(StorageKey.VipAdvancedRewardStatus+v.playLevel,1)\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    getTaskData(){\r\n        HttpManager.gameTimePost(AccessName.getServerTime,this.getUserInfoJsonString()).then((data:any)=>{\r\n            if(data.serverTime){\r\n                let timeS = data.serverTime * 1000;\r\n                let date = new Date(timeS);\r\n                // 获取每日任务数据\r\n                this.dailyTaskList = [];\r\n                HttpManager.post(AccessName.queryGameAchievementTask,this.getTaskInfoJsonString(1)).then((data:any)=>{\r\n                    if(data){\r\n                        data.forEach((v,k)=>{\r\n                            let createDate = new Date(v.createTime);\r\n                            if(date.getDate() == createDate.getDate()){\r\n                                let taskItem:TaskObject = new TaskObject();\r\n                                taskItem.taskId = v.taskId;\r\n                                taskItem.dimension = v.dimension;\r\n                                taskItem.status = v.status;\r\n                                taskItem.emit = v.emit;\r\n                                // taskItem.stage = v.stage;\r\n                                this.dailyTaskList.push(taskItem);\r\n                            }\r\n                        });\r\n                        this.dailyTaskList.forEach((v,k)=>{\r\n                            // 设置每日任务id\r\n                            TheStorageManager.getInstance().setItem(StorageKey.TaskId + k,v.taskId);\r\n                            // 设置每日任务状态\r\n                            TheStorageManager.getInstance().setItem(StorageKey.TaskState + v.taskId,v.status);\r\n                            // 设置每日任务数据\r\n                            TheStorageManager.getInstance().setItem(StorageKey.TaskNum + v.taskId,v.emit);\r\n                        });\r\n                        //TODO 检查是否所有任务数据都加载完毕\r\n                    }\r\n                });\r\n\r\n                // 获取成就任务数据\r\n                this.achievementTaskList = [];\r\n                HttpManager.post(AccessName.queryGameAchievementTask,this.getTaskInfoJsonString(2)).then((data:any)=>{\r\n                    if(data){\r\n                        data.forEach((v,k)=>{\r\n                            let taskItem:TaskObject = new TaskObject();\r\n                            // taskItem.taskId = v.taskId;\r\n                            // taskItem.dimension = v.dimension;\r\n                            taskItem.status = v.status;\r\n                            taskItem.emit = v.emit;\r\n                            taskItem.stage = v.stage;\r\n                            taskItem.taskType = v.taskType;\r\n                            this.achievementTaskList.push(taskItem);\r\n                        });\r\n                        // 是新建成就任务的数据\r\n                        if(this.achievementTaskList.length == 0){\r\n                            for(let i = 1;i < 15;i++){\r\n                                let taskItem:TaskObject = new TaskObject();\r\n                                // taskItem.uid = UserData.getInstance().getUserID();\r\n                                taskItem.dimension = 2;\r\n                                taskItem.taskType = i;\r\n                                taskItem.taskId = i*100000+1;\r\n                                taskItem.status = 0;\r\n                                taskItem.stage = 0;\r\n                                taskItem.emit = 0;\r\n                                this.achievementTaskList.push(taskItem);\r\n                                HttpManager.post(AccessName.saveGameAchievementTask,this.getSaveGameAchievementTaskJson(taskItem));\r\n                            }\r\n                        }\r\n                        // 这里是用任务的类型和阶段算出任务id\r\n                        this.achievementTaskList.forEach((v,k)=>{\r\n                            TheStorageManager.getInstance().setItem(StorageKey.TaskAchievementIndex + v.taskType,v.stage);\r\n                            TheStorageManager.getInstance().setItem(StorageKey.TaskAchievementNum + v.taskType,v.emit);\r\n                            TheStorageManager.getInstance().setItem(StorageKey.TaskState + (v.taskType * 100000 + v.stage + 1),v.status);\r\n                        });\r\n\r\n                    }\r\n                });\r\n                // 获取主线任务数据\r\n                this.mainTaskList = [];\r\n                HttpManager.post(AccessName.queryGameAchievementTask,this.getTaskInfoJsonString(3)).then((data:any)=>{\r\n                    if(data){\r\n                        data.forEach((v,k)=>{\r\n                            let taskItem:TaskObject = new TaskObject();\r\n                            // taskItem.taskId = v.taskId;\r\n                            // taskItem.dimension = v.dimension;\r\n                            taskItem.status = v.status;\r\n                            taskItem.emit = v.emit;\r\n                            taskItem.progress = v.progress;\r\n                            taskItem.stage = v.stage;\r\n                            taskItem.taskType = v.taskType;\r\n                            this.mainTaskList.push(taskItem);\r\n                        });\r\n                        // 新建主线任务的数据\r\n                        if(this.mainTaskList.length == 0){\r\n                            for(let i = 1;i < 19;i++){\r\n                                let taskItem:TaskObject = new TaskObject();\r\n                                // taskItem.uid = UserData.getInstance().getUserID();\r\n                                taskItem.dimension = 3;\r\n                                taskItem.taskType = i;\r\n                                taskItem.taskId = i*100000+1;\r\n                                taskItem.status = 0;\r\n                                taskItem.stage = 0;\r\n                                taskItem.emit = 0;\r\n                                taskItem.progress = 0;\r\n                                this.mainTaskList.push(taskItem);\r\n                                HttpManager.post(AccessName.saveGameAchievementTask,this.getSaveGameAchievementTaskJson(taskItem));\r\n                            }\r\n                        }\r\n                        // 这里是用任务的类型和阶段算出任务id\r\n                        this.mainTaskList.forEach((v,k)=>{\r\n                            TheStorageManager.getInstance().setItem(StorageKey.TaskMainIndex + v.taskType,v.stage);\r\n                            TheStorageManager.getInstance().setItem(StorageKey.TaskMainNum + v.taskType,v.emit);\r\n                            TheStorageManager.getInstance().setItem(StorageKey.TaskState + (v.taskType * 10000000 + v.stage + 1),v.status);\r\n                            TheStorageManager.getInstance().setItem(StorageKey.TaskMainShowIndex,v.progress);\r\n                        });\r\n\r\n                    }\r\n                });\r\n\r\n                // 任务日活跃奖励领取\r\n                HttpManager.post(AccessName.queryGameTask,this.getQueryGameTaskJsonString(4)).then((data:any)=>{\r\n                    if(data){\r\n                        data.forEach((v,k)=>{\r\n                            let createDate = new Date(v.createTime);\r\n                            if(date.getDate() == createDate.getDate()){\r\n                                // 代表是今天内的数据\r\n                                TheStorageManager.getInstance().setItem(StorageKey.TaskDailyActivityState + v.playLevel,1);\r\n                            }\r\n                        });\r\n                    }\r\n                }); \r\n                // 任务周活跃领取\r\n                HttpManager.post(AccessName.queryGameTask,this.getQueryGameTaskJsonString(5)).then((data:any)=>{\r\n                    if(data){\r\n                        // let date = new Date(timeS);\r\n                        data.forEach((v,k)=>{\r\n                            let createDate = new Date(v.createTime);\r\n                            if(this.getYearWeek(date) == this.getYearWeek(createDate)){\r\n                                // 代表是本周内的数据\r\n                                TheStorageManager.getInstance().setItem(StorageKey.TaskWeeklyActivityState + v.playLevel,1);\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n                // 任务日活跃数\r\n                HttpManager.post(AccessName.queryGameTask,this.getQueryGameTaskJsonString(8)).then((data:any)=>{\r\n                    if(data){\r\n                        data.forEach((v,k)=>{\r\n                            // let date = new Date(timeS);\r\n                            let createDate = new Date(v.createTime);\r\n                            if(date.getDate() == createDate.getDate()){\r\n                                // 代表是今天内的数据\r\n                                TheStorageManager.getInstance().setItem(StorageKey.TaskDailyActivityNum,v.playLevel);\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n                // 任务周活跃数\r\n                HttpManager.post(AccessName.queryGameTask,this.getQueryGameTaskJsonString(9)).then((data:any)=>{\r\n                    if(data){\r\n                        // let date = new Date(timeS);\r\n                        data.forEach((v,k)=>{\r\n                            let createDate = new Date(v.createTime);\r\n                            if(this.getYearWeek(date) == this.getYearWeek(createDate)){\r\n                                // 代表是本周内的数据\r\n                                TheStorageManager.getInstance().setItem(StorageKey.TaskWeekActivityNum,v.playLevel);\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    // private getStoreInfoJsonString(type:number):string{\r\n    //     let uid=UserData.getInstance().getUserID();\r\n    //     return JSON.stringify({\r\n    //         uid:uid,\r\n    //         rewardType:type,\r\n    //     }); \r\n    // }\r\n\r\n    private getUserInfoJsonString():string{\r\n        let uid=UserData.getInstance().getUserID();\r\n        return JSON.stringify({\r\n            uid:uid,\r\n        });\r\n    }\r\n    /**\r\n     * \r\n     * @param type 任务类型，1-每日任务 2-成就任务 3-主线任务\r\n     * @returns \r\n     */\r\n    private getTaskInfoJsonString(type:number):string{\r\n        let uid=UserData.getInstance().getUserID();\r\n        return JSON.stringify({\r\n            uid:uid,\r\n            dimension:type,\r\n        });\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param type 4-日活跃度奖励,5-周活跃度奖励,8-任务日活跃度，9-任务周活跃度\r\n     * @returns \r\n     */\r\n    private getQueryGameTaskJsonString( type: number): string {\r\n        let uid = UserData.getInstance().getUserID();\r\n        return JSON.stringify({\r\n            uid: uid,\r\n            rewardType: type,\r\n        });\r\n    }\r\n\r\n    getYearWeek(endDate:Date){\r\n        let beginDate = new Date(endDate.getFullYear(),0,1);\r\n        let endWeek = endDate.getDay();\r\n        if(endWeek == 0)endWeek = 7;\r\n        let beginWeek = beginDate.getDay();\r\n        if(beginWeek == 0)beginWeek =7;\r\n        let millisDiff = endDate.getTime() - beginDate.getTime();\r\n        let dayDiff = Math.floor((millisDiff + (beginWeek - endWeek)*(24*60*60*1000))/86400000);\r\n        return Math.ceil(dayDiff/7) + 1;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param type 4-日活跃度奖励,5-周活跃度奖励,8-任务日活跃度，9-任务周活跃度\r\n     * @returns \r\n     */\r\n     getSaveGameTaskJsonString(value:number,type: number): string {\r\n        let uid = UserData.getInstance().getUserID();\r\n        let num = value;\r\n        return JSON.stringify({\r\n            uid: uid,\r\n            playLevel:num,\r\n            rewardType: type,\r\n        });\r\n    }\r\n\r\n    /**获取成就任务上报参数 */\r\n    getSaveGameAchievementTaskJson(taskItem:TaskObject):string{\r\n        let uid = UserData.getInstance().getUserID();\r\n        return JSON.stringify({\r\n            uid:uid,\r\n            dimension:taskItem.dimension,\r\n            taskType:taskItem.taskType,\r\n            taskId:taskItem.taskId,\r\n            progress:taskItem.progress,\r\n            status:taskItem.status,\r\n            stage:taskItem.stage,\r\n            emit:taskItem.emit,\r\n        })\r\n    }\r\n\r\n    getNowDay():string{\r\n        let s = \"\";\r\n        let date = new Date();\r\n        s += date.getFullYear();\r\n        if(date.getMonth() + 1 < 10){\r\n            s += \"-0\" + (date.getMonth() + 1);\r\n        }else{\r\n            s += \"-\" + (date.getMonth() + 1);\r\n        }\r\n        if(date.getDate() < 10){\r\n            s += \"-0\" + date.getDate();\r\n        }else{\r\n            s += \"-\" + date.getDate();\r\n        }\r\n        return s;\r\n    }\r\n}"]}