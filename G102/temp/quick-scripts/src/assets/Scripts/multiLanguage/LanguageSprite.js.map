{"version":3,"sources":["assets\\Scripts\\multiLanguage\\LanguageSprite.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,yDAAkF;AAClF,qDAAgD;AAG1C,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAA4C,kCAAS;IAArD;QAAA,qEAgDC;QA7CW,sBAAgB,GAAgB,+BAAW,CAAC,IAAI,CAAC;QAEjD,uBAAiB,GAAiB,gCAAY,CAAC,EAAE,CAAC;;IA2C9D,CAAC;IAxCG,+BAAM,GAAN;QACI,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,SAAS,EAAE,CAAC;IACrB,CAAC;IAED,qBAAqB;IACd,kCAAS,GAAhB;QAEI,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,oCAAgB,EAAC,IAAI,CAAC,gBAAgB,EAAC,IAAI,CAAC,CAAC;IAChE,CAAC;IAED,UAAU;IACH,qCAAY,GAAnB;QAEI,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,oCAAgB,EAAC,IAAI,CAAC,gBAAgB,EAAC,IAAI,CAAC,CAAC;IACjE,CAAC;IAED,yCAAgB,GAAhB;QACI,IAAG,IAAI,CAAC,iBAAiB,IAAE,yBAAe,CAAC,WAAW,EAAE,CAAC,kBAAkB,EAAE,EAC7E;YACI,IAAI,CAAC,gBAAgB,EAAE,CAAC;SAE3B;IACL,CAAC;IAED,OAAO;IACP,yCAAgB,GAAhB;QACI,IAAI,CAAC,iBAAiB,GAAC,yBAAe,CAAC,WAAW,EAAE,CAAC,kBAAkB,EAAE,CAAC;QACzE,kDAAkD;QAClD,IAAG,IAAI,CAAC,gBAAgB,IAAE,+BAAW,CAAC,IAAI,EAC1C;YACI,IAAI,CAAC,WAAW,GAAC,yBAAe,CAAC,WAAW,EAAE,CAAC,cAAc,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;SACxF;IACN,CAAC;IAGD,kCAAS,GAAT;QAEI,iBAAM,SAAS,WAAE,CAAC;IACtB,CAAC;IA5CD;QADC,QAAQ,CAAC,EAAC,IAAI,EAAC,EAAE,CAAC,IAAI,CAAC,+BAAW,CAAC,EAAC,CAAC;4DACmB;IAHxC,cAAc;QADlC,OAAO;OACa,cAAc,CAgDlC;IAAD,qBAAC;CAhDD,AAgDC,CAhD2C,EAAE,CAAC,MAAM,GAgDpD;kBAhDoB,cAAc","file":"","sourceRoot":"/","sourcesContent":["import { LanguageType, OnLanguageChange, SpriteIndex } from \"./LanguageConstants\";\r\nimport LanguageManager from \"./LanguageManager\";\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class SpriteLanguage extends cc.Sprite {\r\n\r\n    @property({type:cc.Enum(SpriteIndex)})\r\n    private cur_sprite_index: SpriteIndex = SpriteIndex.NULL;\r\n    \r\n    private cur_language_type: LanguageType = LanguageType.en;\r\n\r\n\r\n    onLoad () {\r\n        this.startTranslation();\r\n        this.addListen();\r\n    }\r\n\r\n    /**如果需要动态切换语言-事件监听 */\r\n    public addListen()\r\n    {\r\n        cc.director.on(OnLanguageChange,this.onLanguageChange,this);\r\n    }\r\n\r\n    /**事件移除 */\r\n    public removeListen()\r\n    {\r\n        cc.director.off(OnLanguageChange,this.onLanguageChange,this);\r\n    }\r\n   \r\n    onLanguageChange(){\r\n        if(this.cur_language_type!=LanguageManager.getInstance().getCurLanguageType())\r\n        {\r\n            this.startTranslation();\r\n            \r\n        }\r\n    }\r\n    \r\n    //开始翻译 \r\n    startTranslation () {\r\n        this.cur_language_type=LanguageManager.getInstance().getCurLanguageType();\r\n         //2.根据当前的字符串索引设置，如果为Null即没有预设,那么则开始查找，找不到就不翻译，维持原样\r\n         if(this.cur_sprite_index!=SpriteIndex.NULL)\r\n         {\r\n             this.spriteFrame=LanguageManager.getInstance().getSpriteFrame(this.cur_sprite_index);\r\n         }\r\n    }    \r\n\r\n\r\n    onDestroy()\r\n    {\r\n        super.onDestroy();\r\n    }\r\n}\r\n"]}