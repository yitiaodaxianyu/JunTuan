{"version":3,"sources":["assets\\Scripts\\Tower\\BtnTower.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import WXManagerEX from \"../../startscene/WXManagerEX\";\r\nimport { TableMonsterData } from \"../Level/MissionLevel\";\r\nimport { MonsterConfigureManager } from \"../Monster/Data/MonsterConfigure\";\r\nimport Monster from \"../Monster/Monster\";\r\nimport { MonsterActionName, MonsterFaceName } from \"../Monster/MonsterData\";\r\nimport TextLanguage from \"../multiLanguage/TextLanguage\";\r\nimport { UILayerLevel, UIPath } from \"../UI/UIConfig\";\r\nimport { UIManager } from \"../UI/UIManager\";\r\nimport TowerFightingUi from \"./TowerFightingUi\";\r\nimport { TowerLevelManager } from \"./TowerLevel\";\r\nimport TowerManager from \"./TowerManager\";\r\nimport { TowerRewardManager } from \"./TowerReward\";\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class BtnTower extends cc.Component {\r\n\r\n    level:number=null;\r\n\r\n    init (level:number) {\r\n        this.level=level;\r\n        this.initData();\r\n        this.refreshData();\r\n    }\r\n\r\n    private initData(){\r\n        let data = TowerLevelManager.getInstance().getFightingInfo(this.level)\r\n        this.node.getChildByName('levelLabel').getComponent(TextLanguage).setTextId(100020);\r\n        this.node.getChildByName('levelLabel').getComponent(TextLanguage).setReplaceValue('~',this.level + '');\r\n        //是否有宝箱\r\n        // let extraReward=TowerRewardManager.getInstance().getExtraReward(this.level);\r\n        // let reward=this.node.getChildByName('reward');\r\n        // reward.active=extraReward>0;\r\n        // let spName=extraReward?\"Tower_Main_1\":\"Tower_Main_0\"\r\n        // this.node.getComponent(cc.Sprite).spriteFrame=TowerManager.getInstance().getSpByName(spName);\r\n        // let shadow=this.node.getChildByName('shadow');\r\n        // spName=extraReward?\"Tower_Shadow_1\":\"Tower_Shadow_0\"\r\n        // shadow.getComponent(cc.Sprite).spriteFrame=TowerManager.getInstance().getSpByName(spName);\r\n        \r\n        this.node.getChildByName(\"bg\").scaleX = this.level % 2 == 0 ? -1 : 1;\r\n        let towerLevel=TowerManager.getTowerLevel();\r\n        if(towerLevel > this.level){\r\n            this.node.getChildByName(\"bg\").children.forEach((v,k) => {\r\n                v.active = false;\r\n            });\r\n            this.node.getChildByName(\"bg\").getChildByName(\"monsterRoot\").active = false;\r\n            this.node.getChildByName(\"reward\").getComponentInChildren(cc.Sprite).spriteFrame = TowerManager.getInstance().getSpByName(\"Tower_Chesk_1\");\r\n            this.node.getChildByName(\"reward\").getComponentInChildren(cc.Button).enabled = false;\r\n            this.node.getChildByName(\"bg\").getComponent(cc.Sprite).spriteFrame = TowerManager.getInstance().getSpByName(\"Tower_Bg_1_1\");\r\n        }else{\r\n            let monsterList = data.getOnlyMonsterDataList();\r\n            this.sortMonster(monsterList);\r\n            let type=MonsterConfigureManager.getInstance().getMonsterClass(monsterList[0].id);\r\n            this.loadPrefab(type+\"\",monsterList[0].id);\r\n            this.node.getChildByName(\"bg\").getComponent(cc.Sprite).spriteFrame = TowerManager.getInstance().getSpByName(\"Tower_Bg_1\");\r\n        }\r\n    }\r\n\r\n    refreshData(){\r\n        //根据完成的关卡设置可见属性\r\n        let towerLevel=TowerManager.getTowerLevel();\r\n        // this.setDoor(towerLevel);\r\n    }\r\n\r\n    setDoor(towerLevel:number){\r\n        //设置门的显示状态\r\n        let door=this.node.getChildByName('door');\r\n        let doorSp=door.getComponent(cc.Sprite);\r\n        let fire=door.getChildByName('fire');\r\n        //火把\r\n        let an1=this.node.getChildByName(\"Torch1\").getComponent(cc.Animation);\r\n        let an2=this.node.getChildByName(\"Torch2\").getComponent(cc.Animation);\r\n        //遮罩\r\n        let shadow=this.node.getChildByName('shadow');\r\n        if(towerLevel>this.level){\r\n            //已经完成\r\n            doorSp.spriteFrame=TowerManager.getInstance().getSpByName(\"Tower_Door_0\");\r\n            fire.active=false;\r\n            an1.enabled=false;\r\n            an2.enabled=false;\r\n            shadow.active=true;            \r\n        }else if(towerLevel==this.level){\r\n            //正在挑战\r\n            doorSp.spriteFrame=TowerManager.getInstance().getSpByName(\"Tower_Door_1\");\r\n            fire.active=true;\r\n            an1.enabled=true;\r\n            an2.enabled=true;\r\n            shadow.active=false;\r\n        }else{\r\n            //还未挑战\r\n            doorSp.spriteFrame=TowerManager.getInstance().getSpByName(\"Tower_Door_2\");\r\n            fire.active=false;\r\n            an1.enabled=true;\r\n            an2.enabled=true;\r\n            shadow.active=false;\r\n        }\r\n    }\r\n\r\n    //显示解锁过程\r\n    showUnlonkProcess0(){\r\n        //设置门的显示状态\r\n        let door=this.node.getChildByName('door');\r\n        let doorSp=door.getComponent(cc.Sprite);\r\n        let fire=door.getChildByName('fire');\r\n        doorSp.spriteFrame=TowerManager.getInstance().getSpByName(\"Tower_Door_1\");\r\n        fire.active=true;\r\n        //火把\r\n        let an1=this.node.getChildByName(\"Torch1\").getComponent(cc.Animation);\r\n        let an2=this.node.getChildByName(\"Torch2\").getComponent(cc.Animation);        \r\n        an1.enabled=true;\r\n        an2.enabled=true;\r\n        //遮罩\r\n        let shadow=this.node.getChildByName('shadow');\r\n        shadow.active=false;\r\n    }\r\n\r\n    showUnlonkProcess1(){\r\n        //设置门的显示状态\r\n        this.refreshData();\r\n        //遮罩\r\n        let shadow=this.node.getChildByName('shadow');\r\n        shadow.opacity=0;\r\n        cc.tween(shadow).to(0.5,{opacity:255}).start();\r\n        this.node.getChildByName(\"Torch1\").getComponent(cc.Sprite).spriteFrame=TowerManager.getInstance().getSpByName('Torch');\r\n        this.node.getChildByName(\"Torch2\").getComponent(cc.Sprite).spriteFrame=TowerManager.getInstance().getSpByName('Torch');     \r\n    }\r\n\r\n    sortMonster(list:TableMonsterData[]){\r\n        list.sort((a,b) => {\r\n            let at = MonsterConfigureManager.getInstance().getStrengthType(a.id);\r\n            let bt = MonsterConfigureManager.getInstance().getStrengthType(b.id);\r\n            return bt - at;\r\n        });\r\n    }\r\n    \r\n    private loadPrefab(type:string,id){\r\n        let path = \"monster/ui/Monster_\" + type;\r\n        let node:cc.Node = null;\r\n        WXManagerEX.getInstance().resourcesBundle.load(path,cc.Prefab,(error: Error, assets:cc.Prefab)=>{  \r\n            if(error){\r\n                cc.log(error);\r\n                return;\r\n            }\r\n            node = cc.instantiate(assets);\r\n            // node.removeComponent(Monster);\r\n            // node.removeComponent(cc.PolygonCollider);\r\n            node.parent = this.node.getChildByName(\"bg\").getChildByName(\"monsterRoot\");\r\n            node.setPosition(cc.v2(0,0));\r\n            if(MonsterConfigureManager.getInstance().getStrengthType(id) != 3){\r\n                node.scale = MonsterConfigureManager.getInstance().getScale(id) * 1.5;\r\n                node.getComponent(sp.Skeleton).setSkin(MonsterFaceName.SideL + MonsterConfigureManager.getInstance().getSkin(id));\r\n                node.getComponent(sp.Skeleton).setAnimation(0,MonsterFaceName.SideR + \"_\" + MonsterActionName.Idle,true);\r\n            }else{\r\n                node.getComponent(sp.Skeleton).setAnimation(0,\"idle\",true);\r\n            }\r\n        });\r\n    }\r\n\r\n    \r\n    onClickPreviewBtn(){\r\n        // UIManager.getInstance().showTowerFightingUi(null,this.level);\r\n        UIManager.getInstance().showUiDialog(UIPath.TowerFightting,UILayerLevel.One,{onCompleted:(uiNode)=> {\r\n            uiNode.getComponent(TowerFightingUi).init(null);\r\n            uiNode.getComponent(TowerFightingUi).initData(this.level);\r\n        },})\r\n    }\r\n\r\n}\r\n"]}