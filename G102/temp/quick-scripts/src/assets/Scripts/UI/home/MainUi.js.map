{"version":3,"sources":["assets\\Scripts\\UI\\home\\MainUi.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { FuncType, GameMode, GameScene, IsDebug, JianTou_Type} from \"../../Constants\";\r\nimport GameData from \"../../GameData\";\r\nimport GameManager from \"../../GameManager\";\r\nimport { LanguageIndex, OnLanguageChange } from \"../../multiLanguage/LanguageConstants\";\r\nimport LanguageManager from \"../../multiLanguage/LanguageManager\";\r\nimport { MusicIndex, SoundIndex } from \"../../Sound/AudioConstants\";\r\nimport FollowManager from \"../../multiLanguage/FollowManager\";\r\nimport { Follow_Type } from \"../../multiLanguage/FollowConstants\";\r\nimport { VipManager } from \"../../Ads/VipManager\";\r\nimport TutorailsManager from \"../../Tutorials/TutorailsManager\";\r\nimport { LevelManager } from \"../../Level/LevelManager\";\r\nimport { MissionLevelManager } from \"../../Level/MissionLevel\";\r\nimport { OfflineRevenueManager } from \"../../JsonData/OfflineRevenue\";\r\nimport { FunctionDefinitionManager } from \"../../JsonData/FunctionDefinition\";\r\nimport { UIManager } from \"../UIManager\";\r\nimport FuncTypeBtn from \"./FuncTypeBtn\";\r\nimport GuaJiGift from \"../../GuaJi/Ui/GuaJiGift\";\r\nimport { UILayerLevel, UIPath } from \"../UIConfig\";\r\nimport OfflineUi from \"../../GuaJi/Ui/OfflineUi\";\r\nimport ToPlayMainUi from \"./ToPlayMainUi\";\r\nimport MapManager from \"../../GuaJi/MapManager\";\r\nimport { TutorialLevelManager } from \"../../Level/TutorialLevel\";\r\nimport TaskManager from \"../../Task/TaskManager\";\r\nimport TextLanguage from \"../../multiLanguage/TextLanguage\";\r\nimport { StorageKey } from \"../../Storage/StorageConfig\";\r\nimport { TheStorageManager } from \"../../Storage/StorageManager\";\r\nimport { HttpManager, AccessName } from \"../.././NetWork/HttpManager\";\r\nimport { HeroManager } from \"../../Hero/Data/HeroManager\";\r\nimport UserData from \"../../UserData\";\r\nimport { PropManager } from \"../../Prop/PropManager\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class MainUi extends cc.Component {\r\n    \r\n    cur_selected_level:number=1;\r\n    cur_level_name:cc.Node=null;\r\n    cur_avatar:cc.Node=null;\r\n\r\n    @property([cc.SpriteFrame])\r\n    sp_level_bg:cc.SpriteFrame[]=[];\r\n\r\n    @property(cc.SpriteFrame)\r\n    sp_boss:cc.SpriteFrame=null;\r\n\r\n    @property(cc.Node)\r\n    BigMap:cc.Node=null;\r\n\r\n    onLoad()\r\n    {\r\n        this.cur_selected_level=LevelManager.getInstance().finish_level+1;\r\n        if(this.cur_selected_level>MissionLevelManager.getMaxLevel())\r\n        {\r\n            this.cur_selected_level=MissionLevelManager.getMaxLevel();\r\n        }\r\n        // cc.resources.load('ui/home/map_ui');\r\n        // cc.resources.load('ui/home/team_select_ui');\r\n        cc.director.on(OnLanguageChange,this.showLevelName,this);\r\n        this.node.on(cc.Node.EventType.POSITION_CHANGED,this.onPositionChange,this);\r\n\r\n        cc.director.on(\"OnSharBack\",this.onSharBack,this);\r\n       \r\n    }\r\n\r\n    protected onDestroy(): void {        \r\n        cc.director.off(OnLanguageChange,this.showLevelName,this);\r\n        cc.director.off(\"OnSharBack\",this.onSharBack,this);\r\n        this.node.off(cc.Node.EventType.POSITION_CHANGED,this.onPositionChange,this);\r\n    }\r\n\r\n    onPositionChange(){\r\n        if(this.node.x==0){\r\n            this.onEnable();\r\n        }\r\n    }\r\n\r\n    start()\r\n    {\r\n        // this.showLevelInfo();\r\n    }\r\n\r\n    onEnable()\r\n    {\r\n        FollowManager.getInstance().followEvent(Follow_Type.首页主界面展示总次数);\r\n        HttpManager.post(AccessName.updateUserInfo,this.getZongZhanLiJsonString());\r\n        this.refreshLeftRight();\r\n        this.refreshMainTaskUi();\r\n        if(GameManager.getInstance().cur_game_scene==GameScene.home){\r\n            // GameManager.getInstance().music_manager.playMusic(MusicIndex.BGM_GuajiBgm);\r\n        }\r\n    }\r\n    private onSharBack(){\r\n        this.refreshLeft();\r\n        let reward = PropManager.getInstance().createPropItem(10002,300);\r\n        PropManager.getInstance().changePropNum(10002,300);\r\n        GameManager.getInstance().showGetTip(reward);\r\n    }\r\n    refreshLeftRight(){\r\n        this.refreshLeft();\r\n        this.refreshRight();\r\n    }\r\n    \r\n    refreshLeft(){\r\n        let left=this.node.getChildByName('left');\r\n        //算出有几个是显示的\r\n        let showNum=0;\r\n        let btns=left.getChildByName('btns');\r\n        for(let i=0; i<btns.childrenCount; i++){\r\n            // let isShow=false;\r\n            let fb=btns.children[i].getComponent(FuncTypeBtn);\r\n            btns.children[i].active = fb.refresh();\r\n            // if(fb){\r\n            //     isShow=fb.refresh();\r\n            // }else{\r\n            //     isShow=btns.children[i].active;                                \r\n            // }\r\n            // if(isShow){\r\n            //     fb.node.y=-77-(150*showNum);\r\n            //     showNum++;\r\n            //     // if(showNum > 1)\r\n            //     //     fb.node.y -= 50;\r\n            // }\r\n        }\r\n        this.scheduleOnce(()=>{\r\n            left.height = btns.height + 7;\r\n        },0.03);\r\n        // left.active=showNum>0;\r\n        // if(showNum>0){\r\n        //     this.doUnfold(JianTou_Type.LEFT);\r\n        // }\r\n    }\r\n\r\n    refreshRight(){\r\n        let right=this.node.getChildByName('right');\r\n        //算出有几个是显示的\r\n        let showNum=0;\r\n        let btns=right.getChildByName('btns');\r\n        for(let i=0; i<btns.childrenCount; i++){\r\n            // let isShow=false;\r\n            let fb=btns.children[i].getComponent(FuncTypeBtn);\r\n            btns.children[i].active = fb.refresh();\r\n            // if(fb){\r\n            //     isShow=fb.refresh();\r\n            // }\r\n            // if(isShow){\r\n            //     fb.node.y=-77-(150*showNum);\r\n            //     showNum++;\r\n            // }\r\n        }\r\n        this.scheduleOnce(()=>{\r\n            right.height = btns.height + 7;\r\n        },0.03);\r\n        // right.active=showNum>0;\r\n        // if(showNum>0){\r\n        //     this.doUnfold(JianTou_Type.RIGHT);\r\n        // }\r\n    }\r\n    \r\n    showLevelInfo()\r\n    {\r\n        //获取当前关卡\r\n        let level=LevelManager.getInstance().finish_level+1;\r\n        let startLevel=1;\r\n        if(level>MissionLevelManager.getMaxLevel()){\r\n            level=MissionLevelManager.getMaxLevel();            \r\n        }\r\n        if(MissionLevelManager.getMaxLevel()-level>3){\r\n            startLevel=level;\r\n        }else{\r\n            startLevel=MissionLevelManager.getMaxLevel()-3;\r\n        }\r\n        //获取当前章节\r\n        let chapter=MissionLevelManager.getInstance().getChapter(level);\r\n        //获取章节最后一关\r\n        let lastLevel=MissionLevelManager.getInstance().getLastLevel(level);\r\n        let curSmallLevel=MissionLevelManager.getInstance().getLevelNum(level);\r\n        //获取显示的首个关卡和末关\r\n        let startSmallLevel=1;        \r\n        if(lastLevel-curSmallLevel>3){\r\n            startSmallLevel=curSmallLevel            \r\n        }else{\r\n            startSmallLevel=lastLevel-3;            \r\n        }     \r\n        let levelRoot=this.node.getChildByName('level');\r\n        //章节数\r\n        let titleLabel=levelRoot.getChildByName('titleLabel');\r\n        let titleStr=LanguageManager.getInstance().getStrByTextId(100053).replace('~',chapter+'');\r\n        titleLabel.getComponent(cc.Label).string=titleStr;\r\n        //车\r\n        let car=levelRoot.getChildByName('car');\r\n        //icon\r\n        let iconRoot=levelRoot.getChildByName('iconRoot');\r\n        iconRoot.removeAllChildren();\r\n        for(let i=1; i<=4; i++){\r\n            let levelBg=levelRoot.getChildByName('level'+i).getComponent(cc.Sprite);\r\n            let levelLabel=levelRoot.getChildByName('label'+i).getComponent(cc.Label);\r\n            let curLevel=(startSmallLevel+i-1);\r\n            levelLabel.string=''+curLevel;            \r\n            if(curLevel!=curSmallLevel){\r\n                levelBg.spriteFrame=this.sp_level_bg[1];\r\n                levelLabel.fontSize=22;\r\n            }else{\r\n                levelBg.spriteFrame=this.sp_level_bg[0];\r\n                car.x=levelBg.node.x;\r\n                levelLabel.fontSize=30;\r\n            }\r\n            //关卡信息\r\n            let monsterInfo=MissionLevelManager.getInstance().getFightingInfo(startLevel+i-1);\r\n            if(monsterInfo.getIsHaveBoss()){\r\n                let bossIcon=new cc.Node('bossIcon')\r\n                bossIcon.addComponent(cc.Sprite).spriteFrame=this.sp_boss;\r\n                bossIcon.x=levelBg.node.x;\r\n                iconRoot.addChild(bossIcon);\r\n            }\r\n        }\r\n    }\r\n\r\n    showLevelName(){\r\n        //获取当前关卡\r\n        let level=LevelManager.getInstance().finish_level+1;\r\n        if(level>MissionLevelManager.getMaxLevel()){\r\n            level=MissionLevelManager.getMaxLevel();            \r\n        }\r\n        //获取当前章节\r\n        let chapter=MissionLevelManager.getInstance().getChapter(level);\r\n        let levelRoot=this.node.getChildByName('level');\r\n        //章节数\r\n        let titleLabel=levelRoot.getChildByName('titleLabel');\r\n        let titleStr=LanguageManager.getInstance().getStrByTextId(100053).replace('~',chapter+'');\r\n        titleLabel.getComponent(cc.Label).string=titleStr;\r\n    }\r\n\r\n    setLevelData()\r\n    {\r\n        let gm=GameManager.getInstance();\r\n        if(!TutorailsManager.getInstance().is_finish_game){\r\n            LevelManager.getInstance().start_level=LevelManager.getInstance().finish_level+1;\r\n            MapManager.Currentlevel=LevelManager.getInstance().start_level;\r\n            gm.fighting_info=TutorialLevelManager.getInstance().getFightingInfo(LevelManager.getInstance().start_level);\r\n        }else{\r\n            gm.fighting_info=MissionLevelManager.getInstance().getFightingInfo(LevelManager.getInstance().start_level);\r\n        }\r\n    }\r\n\r\n    //展开\r\n    doUnfold(jiantouType:JianTou_Type)\r\n    {\r\n        switch(jiantouType)\r\n        {\r\n            case JianTou_Type.LEFT:{\r\n                //计算大小最后一个位置+138\r\n                let left=this.node.getChildByName('left');\r\n                left.stopAllActions();\r\n                //算出有几个是显示的\r\n                let showNum=0;\r\n                let btns=left.getChildByName('btns');\r\n                for(let i=0; i<btns.childrenCount; i++){\r\n                    let btn=btns.children[i];\r\n                    if(btn.active){\r\n                        showNum++;\r\n                    }\r\n                }\r\n                let disY=168+(showNum-1)*123 + 50;\r\n                cc.tween(left).to(0.2,{height:disY}).start();\r\n            }break;\r\n            case JianTou_Type.RIGHT:{\r\n                let right=this.node.getChildByName('right');\r\n                right.stopAllActions();\r\n                //算出有几个是显示的\r\n                let showNum=0;\r\n                let btns=right.getChildByName('btns');\r\n                for(let i=0; i<btns.childrenCount; i++){\r\n                    let btn=btns.children[i];\r\n                    if(btn.active){\r\n                        showNum++;\r\n                    }\r\n                }\r\n                let disY=168+(showNum-1)*123 + 50;                \r\n                cc.tween(right).to(0.2,{height:disY}).start();\r\n            }break;\r\n        }\r\n    }\r\n\r\n    //折起\r\n    doFolded(jiantouType:JianTou_Type)\r\n    {\r\n        switch(jiantouType)\r\n        {\r\n            case JianTou_Type.LEFT:{\r\n                let left=this.node.getChildByName('left');\r\n                left.stopAllActions();\r\n                let disY=168+0*123;\r\n                cc.tween(left).to(0.1,{height:disY}).start();\r\n            }break;\r\n            case JianTou_Type.RIGHT:{                \r\n                let right=this.node.getChildByName('right');\r\n                right.stopAllActions();\r\n                let disY=168+0*123;\r\n                cc.tween(right).to(0.1,{height:disY}).start();\r\n            }break;\r\n        }\r\n    }\r\n\r\n    clickBtnFast(){\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        FollowManager.getInstance().followEvent(Follow_Type.主页快速挂机按钮点击次数);\r\n        // UIManager.getInstance().showFastGuajiUi({onClose:()=>{\r\n            \r\n        // }});\r\n        UIManager.getInstance().showUiDialog(UIPath.FastGuaJi,UILayerLevel.One,{onCompleted:(uiNode)=> {},});\r\n    }\r\n\r\n    clickBtnSaoDang()\r\n    {\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n       \r\n    }\r\n\r\n    clickBtnStart () {\r\n        FollowManager.getInstance().followEvent(Follow_Type.挑战按钮的点击次数);\r\n        // console.log(\"__________\",(OfflineRevenueManager.getInstance().getTime(LevelManager.getInstance().finish_level)),MissionLevelManager.getMaxLevel())\r\n        if((LevelManager.getInstance().finish_level)>=MissionLevelManager.getMaxLevel()){\r\n            GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(100121),3);\r\n            return\r\n            // GameManager.getInstance().showMessage(\"你太厉害啦，测试版本暂时没有了，敬请期待后续版本！记得加id\",3);\r\n        }\r\n        GameManager.getInstance().cur_game_mode=GameMode.Main;\r\n        FollowManager.getInstance().followEvent(Follow_Type.点击开始挑战用户数);\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        //LevelManager.getInstance().start_level=this.cur_selected_level;\r\n        if(!TutorailsManager.getInstance().is_finish_game)\r\n        {\r\n            LevelManager.getInstance().start_level=MapManager.Currentlevel=LevelManager.getInstance().finish_level+1;\r\n            this.startGame();\r\n        }else\r\n        {\r\n            let max=OfflineRevenueManager.getInstance().getTime(LevelManager.getInstance().finish_level);\r\n            if(OfflineRevenueManager.getGuaJiMin()>=max){\r\n                // UIManager.getInstance().showOfflineUi({\r\n                //     onRefresh:()=>{\r\n                //         this.node.getChildByName('btnOfflineGift').getComponent(GuaJiGift).cheak();\r\n                //     }\r\n                // });\r\n                UIManager.getInstance().showUiDialog(UIPath.Guaji,UILayerLevel.One,{onCompleted:(uiNode)=> {\r\n                    uiNode.getComponent(OfflineUi).init({\r\n                        onRefresh:()=>{\r\n                            this.node.getChildByName('btnOfflineGift').getComponent(GuaJiGift).cheak();\r\n                        }\r\n                    })\r\n                },})\r\n            }else{\r\n                // UIManager.getInstance().showMapUi({onClose:()=>{\r\n                //     this.cur_selected_level=LevelManager.getInstance().start_level;                    \r\n                //     GameManager.getInstance().refreshZhanliShow();\r\n                // }});     \r\n                if(MapManager.Currentlevel==0){\r\n                    LevelManager.getInstance().start_level=MapManager.Currentlevel=LevelManager.getInstance().finish_level+1;\r\n                }        \r\n                \r\n                UIManager.getInstance().showUiDialog(UIPath.ToPlay,UILayerLevel.One,{onCompleted:(uiNode)=> {\r\n                    uiNode.getComponent(ToPlayMainUi).init({onClose:()=>{\r\n                        MapManager.Currentlevel=LevelManager.getInstance().finish_level+1;\r\n                        this.cur_selected_level=LevelManager.getInstance().start_level;                    \r\n                        GameManager.getInstance().refreshZhanliShow();\r\n                    }});\r\n                },})\r\n            }            \r\n        }\r\n    }    \r\n\r\n    clickBtnRabate(){\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        if(!FunctionDefinitionManager.getInstance().getIsUnlock(FuncType.FanLi)){            \r\n            GameManager.getInstance().showMessage(LanguageManager.getInstance().getString(LanguageIndex.UnlockAfter)+LanguageManager.getInstance().getString(LanguageIndex.PlayerLv)+FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(FuncType.FanLi));\r\n            return;\r\n        }\r\n        // UIManager.getInstance().showRabateUi();\r\n    }\r\n\r\n    clickBtnGift(){\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        if(!FunctionDefinitionManager.getInstance().getIsUnlock(FuncType.LiBao)){            \r\n            GameManager.getInstance().showMessage(LanguageManager.getInstance().getString(LanguageIndex.UnlockAfter)+LanguageManager.getInstance().getString(LanguageIndex.PlayerLv)+FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(FuncType.LiBao));\r\n            return;\r\n        }\r\n        // UIManager.getInstance().showGiftCenterUi();\r\n    }\r\n\r\n    clickBtnWeekGift(){\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        if(!FunctionDefinitionManager.getInstance().getIsUnlock(FuncType.ZhouLiBao)){            \r\n            GameManager.getInstance().showMessage(LanguageManager.getInstance().getString(LanguageIndex.UnlockAfter)+LanguageManager.getInstance().getString(LanguageIndex.PlayerLv)+FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(FuncType.ZhouLiBao));\r\n            return;\r\n        }\r\n        \r\n    }\r\n    clickBtnMainIconMap(){//打开大地图  \r\n        FollowManager.getInstance().followEvent(Follow_Type.大地图按钮点击次数);\r\n        this.BigMap.active=true\r\n    }\r\n    /**显示挂机奖励界面 */\r\n    clickBtnMainIconIdle(){\r\n        FollowManager.getInstance().followEvent(Follow_Type.离线收益按钮点击次数);\r\n        UIManager.getInstance().showUiDialog(UIPath.Guaji,UILayerLevel.One,{onCompleted:()=>{\r\n            \r\n        }});\r\n    }\r\n\r\n    startGame()\r\n    {\r\n        this.setLevelData();\r\n        let bgLoading=UIManager.getInstance().getLoadingNode();\r\n        bgLoading.active=true;\r\n        let loadingBar=bgLoading.getChildByName('ProgressBar').getComponent(cc.ProgressBar);\r\n        let loadLabel=loadingBar.node.getChildByName('loadLabel').getComponent(cc.Label);\r\n        cc.director.preloadScene(GameScene.game,(completedCount: number, totalCount: number, item: any)=>{\r\n            //真实进度\r\n            let progressTrue=completedCount/totalCount;\r\n            //假的进度\r\n            let progressFalse=progressTrue/2;\r\n            loadingBar.progress = progressFalse;\r\n            loadLabel.string=(loadingBar.progress*100).toFixed(0)+'%';\r\n            GameManager.getInstance().cur_load_progress=progressFalse;\r\n            //this.loading_light.x = this.loading_bar.progress*this.loading_bar.totalLength-this.loading_bar.totalLength/2;\r\n        },()=>{\r\n            cc.director.loadScene(GameScene.game);\r\n        });\r\n        \r\n    }\r\n\r\n    refreshMainTaskUi(){\r\n        let taskUi = this.node.getChildByName(\"mainTask\");\r\n        let effect = this.node.getChildByName(\"mainTaskEffect\");\r\n        let main_data = TaskManager.getInstance().getMainTaskData();\r\n\r\n        taskUi.active = false;\r\n        effect.active = false;\r\n        return;\r\n        if(main_data == null){\r\n            taskUi.active = false;\r\n            effect.active = false;\r\n            return;\r\n        }\r\n        this.scheduleOnce(()=>{\r\n            effect.height = taskUi.height;\r\n        },0.02);\r\n        let nowNum = TheStorageManager.getInstance().getNumber(StorageKey.TaskMainNum + main_data.TaskType,0);\r\n        taskUi.getChildByName(\"content\").getComponent(TextLanguage).setTextId(main_data.ThreadTaskDescription);\r\n        taskUi.getChildByName(\"content\").getComponentInChildren(cc.Label).string = nowNum + '/' + main_data.TaskParameters\r\n        let content = taskUi.getChildByName(\"content\");\r\n        if(nowNum>=main_data.TaskParameters){\r\n            effect.active = true;\r\n            content.getChildByName(\"num\").color = cc.color(47,255,42);\r\n            TheStorageManager.getInstance().setItem(StorageKey.TaskState + main_data.ThreadTaskID,1);\r\n            content.getComponentInChildren(cc.Label).string = main_data.TaskParameters + '/' + main_data.TaskParameters\r\n        }else{\r\n            content.getChildByName(\"num\").color = cc.color(255,255,255);\r\n            effect.active = false;\r\n        }\r\n        if(main_data.TaskType == 1){\r\n            taskUi.getChildByName(\"content\").getComponentInChildren(cc.Label).string = (nowNum>=main_data.TaskParameters?1:0) + '/' + \"1\";\r\n        }\r\n        let reward = taskUi.getChildByName(\"reward\");\r\n        reward.getChildByName(\"gemLabel\").getComponent(cc.Label).string = main_data.PropNum_2 + '';\r\n        reward.getChildByName(\"coinLabel\").getComponent(cc.Label).string = main_data.PropNum_1 + '';\r\n    }\r\n\r\n    private getZongZhanLiJsonString():string{\r\n        let uid=UserData.getInstance().getUserID();\r\n        let zongZhanLi = HeroManager.getInstance().getAllHeroZhanli();\r\n        return JSON.stringify({\r\n            type:1,\r\n            uid:uid,\r\n            value:zongZhanLi,\r\n        });\r\n    }\r\n\r\n}\r\n"]}