{"version":3,"sources":["assets\\Scripts\\UI\\home\\Chariot.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAElF,iDAA4C;AAC5C,2DAA0D;AAC1D,6CAAwC;AAElC,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAqC,2BAAY;IAAjD;QAAA,qEAuDC;QApDG,cAAQ,GAAY,IAAI,CAAC;QAEzB,QAAE,GAAY,IAAI,CAAC;QAGnB,SAAG,GAAc,EAAE,CAAC;;QA8CpB,iBAAiB;IACrB,CAAC;IA7CG,uBAAK,GAAL;QACI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAC,UAAS,KAAK;YACvD,IAAI,CAAC,UAAU,EAAE,CAAA;QACrB,CAAC,EAAC,IAAI,CAAC,CAAA;QACP,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAC,UAAS,KAAK;YACjD,IAAI,CAAC,UAAU,EAAE,CAAA;QACrB,CAAC,EAAC,IAAI,CAAC,CAAA;IACX,CAAC;IACD,0BAAQ,GAAR;QACI,IAAI,IAAI,GAAC,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,CAAA;QACpB,IAAI,QAAQ,GAAC,yBAAW,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,qBAAW,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,CAAC;QAC5F,KAAK,IAAI,aAAa,GAAG,CAAC,EAAE,aAAa,GAAG,QAAQ,CAAC,MAAM,EAAE,aAAa,EAAE,EAAE;YAC1E,IAAG,QAAQ,CAAC,aAAa,CAAC,GAAC,CAAC,EAAC;gBACzB,0EAA0E;gBAC1E,+FAA+F;gBAC/F,IAAI,CAAC,CAAC,CAAC,IAAE,yBAAW,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,CAAC,QAAQ,CAAA,CAAA,qCAAqC;gBACrH,IAAI,CAAC,CAAC,CAAC,IAAE,yBAAW,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,CAAC,aAAa,CAAA,CAAA,qCAAqC;gBAC1H,IAAI,CAAC,CAAC,CAAC,IAAE,yBAAW,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAA,CAAA,qCAAqC;gBACjH,IAAI,CAAC,CAAC,CAAC,IAAE,yBAAW,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,CAAC,YAAY,CAAA,CAAA,qCAAqC;gBACzH,IAAI,CAAC,CAAC,CAAC,IAAE,yBAAW,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,CAAC,iBAAiB,CAAA,CAAA,qCAAqC;aACjI;SACJ;QACD,KAAK,IAAK,KAAK,GAAE,CAAC,EAAE,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;YAE9C,IAAG,KAAK,IAAE,CAAC,EAAC;gBACR,8BAA8B;gBAC9B,qBAAqB;gBACrB,uDAAuD;gBACvD,iCAAiC;gBAEjC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAC,EAAE,GAAC,gBAAM,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,GAAG,EAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAA,MAAM;aAC7G;iBAAI;gBACD,IAAI,CAAC,KAAK,CAAC,GAAC,MAAM,CAAC,gBAAM,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,GAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAA;gBAC1D,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAC,EAAE,GAAC,IAAI,CAAC,KAAK,CAAC,CAAA;aAC/D;SAEJ;QACD,MAAM;IAEV,CAAC;IACD,4BAAU,GAAV;QACI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAC,KAAK,CAAA;IAC1B,CAAC;IAjDD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;6CACO;IAEzB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;uCACC;IAGnB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;wCACE;IARH,OAAO;QAD3B,OAAO;OACa,OAAO,CAuD3B;IAAD,cAAC;CAvDD,AAuDC,CAvDoC,EAAE,CAAC,SAAS,GAuDhD;kBAvDoB,OAAO","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport GameManager from \"../../GameManager\";\r\nimport { HeroManager } from \"../../Hero/Data/HeroManager\";\r\nimport MyTool from \"../../Tools/MyTool\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Chariot extends cc.Component {\r\n\r\n    @property(cc.Node)\r\n    btnClose: cc.Node = null;\r\n    @property(cc.Node)\r\n    bg: cc.Node = null;\r\n    \r\n    @property(cc.Node)\r\n    txt: cc.Node[] = [];\r\n\r\n    start () {\r\n        this.btnClose.on(cc.Node.EventType.TOUCH_END,function(event){\r\n            this.onCloseBtn()\r\n        },this)\r\n        this.bg.on(cc.Node.EventType.TOUCH_END,function(event){\r\n            this.onCloseBtn()\r\n        },this)\r\n    }\r\n    onEnable(){\r\n        let shux=[0,0,0,0,0]\r\n        let teamList=HeroManager.getInstance().getTeamList(GameManager.getInstance().cur_game_mode);\r\n        for (let teamListindex = 0; teamListindex < teamList.length; teamListindex++) {\r\n            if(teamList[teamListindex]>0){\r\n                // HeroManager.getInstance().getHeroData(teamList[teamListindex]).total_hp\r\n                // console.log(\"______\",HeroManager.getInstance().getHeroData(teamList[teamListindex]).Defense)\r\n                shux[0]+=HeroManager.getInstance().getHeroData(teamList[teamListindex]).total_hp//英雄的基础数据   传入英雄id类型  防御力  生命值  命中值  \r\n                shux[1]+=HeroManager.getInstance().getHeroData(teamList[teamListindex]).total_defense//英雄的基础数据   传入英雄id类型  防御力  生命值  命中值  \r\n                shux[2]+=HeroManager.getInstance().getHeroData(teamList[teamListindex]).Miss//英雄的基础数据   传入英雄id类型  防御力  生命值  命中值  \r\n                shux[3]+=HeroManager.getInstance().getHeroData(teamList[teamListindex]).AntiCritical//英雄的基础数据   传入英雄id类型  防御力  生命值  命中值  \r\n                shux[4]+=HeroManager.getInstance().getHeroData(teamList[teamListindex]).AntiExtraCritical//英雄的基础数据   传入英雄id类型  防御力  生命值  命中值  \r\n            }\r\n        }\r\n        for (let  index= 0; index < shux.length; index++) {\r\n            \r\n            if(index==4){\r\n                // let num=(shux[index]/5)*100\r\n                // console.log(\"__\",)\r\n                // shux[index]=Number(MyTool.numberFormat(num,4))//*100\r\n                // // shux[index]=shux[index]*100\r\n                \r\n                this.txt[index].getComponent(cc.Label).string=\"\"+MyTool.numberFormat(shux[index] / 5 * 100,2) + \"%\";//暴击抗性\r\n            }else{\r\n                shux[index]=Number(MyTool.numberFormat((shux[index]/5),0))\r\n                this.txt[index].getComponent(cc.Label).string=\"\"+shux[index]\r\n            }\r\n            \r\n        }\r\n        //刷新血量\r\n        \r\n    }\r\n    onCloseBtn(){\r\n        this.node.active=false\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}