{"version":3,"sources":["assets\\Scripts\\UI\\home\\JianTou.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { JianTou_Type } from \"../../Constants\";\r\nimport GameManager from \"../../GameManager\";\r\nimport { SoundIndex } from \"../../Sound/AudioConstants\";\r\nimport MainUi from \"./MainUi\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\nenum JianTou_Dir{\r\n    UP = 0,\r\n    DOWN = 1,\r\n}\r\n@ccclass\r\nexport default class JianTou extends cc.Component {\r\n\r\n    @property({type:cc.Enum(JianTou_Type)})\r\n    cur_jiantou_type:JianTou_Type=JianTou_Type.LEFT;\r\n\r\n    cur_jiantou_dir:JianTou_Dir=JianTou_Dir.DOWN;\r\n    follow_target:cc.Node=null;\r\n    //遮罩\r\n    mask_btns:cc.Node=null;\r\n\r\n    onLoad () {\r\n        this.follow_target=this.node.parent;\r\n        this.mask_btns=this.follow_target.getChildByName('btns');\r\n        // this.clickBtnJiantou();\r\n    }\r\n\r\n    onEnable()\r\n    {\r\n        //this.setDir(JianTou_Dir.DOWN);\r\n    }\r\n\r\n    setDir(dir:JianTou_Dir)\r\n    {\r\n        switch(dir)\r\n        {\r\n            case JianTou_Dir.UP:{\r\n                this.node.angle=0;\r\n                this.cur_jiantou_dir=JianTou_Dir.UP;\r\n            }break;\r\n            case JianTou_Dir.DOWN:{\r\n                this.node.angle=180;\r\n                this.cur_jiantou_dir=JianTou_Dir.DOWN;\r\n            }break;\r\n        }\r\n    }\r\n\r\n    clickBtnJiantou()\r\n    {\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        let mainUi=cc.find('Canvas/main_ui').getComponent(MainUi);\r\n        switch(this.cur_jiantou_type)\r\n        {\r\n            case JianTou_Type.LEFT:{\r\n                switch(this.cur_jiantou_dir)\r\n                {\r\n                    case JianTou_Dir.UP:{\r\n                        this.setDir(JianTou_Dir.DOWN);\r\n                        mainUi.doFolded(this.cur_jiantou_type);\r\n                    }break;\r\n                    case JianTou_Dir.DOWN:{\r\n                        this.setDir(JianTou_Dir.UP);\r\n                        mainUi.doUnfold(this.cur_jiantou_type);\r\n                    }break;\r\n                }\r\n            }break;\r\n            case JianTou_Type.RIGHT:{\r\n                switch(this.cur_jiantou_dir)\r\n                {\r\n                    case JianTou_Dir.UP:{\r\n                        this.setDir(JianTou_Dir.DOWN);\r\n                        mainUi.doFolded(this.cur_jiantou_type);\r\n                    }break;\r\n                    case JianTou_Dir.DOWN:{\r\n                        this.setDir(JianTou_Dir.UP);\r\n                        mainUi.doUnfold(this.cur_jiantou_type);\r\n                    }break;\r\n                }\r\n            }break;\r\n        }\r\n    }\r\n\r\n    update () {\r\n        if(this.follow_target)\r\n        {\r\n            this.node.y=-this.follow_target.height+48;\r\n            if(this.mask_btns)\r\n            {\r\n                this.mask_btns.height=this.follow_target.height;//有箭头需要减去箭头的高度\r\n            }\r\n        }\r\n    }    \r\n}\r\n"]}