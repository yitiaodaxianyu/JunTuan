{"version":3,"sources":["assets\\Scripts\\UI\\home\\GoldMallUi.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import ApkManager from \"../../Ads/ApkManager\";\r\nimport EquipItem from \"../../Equipment/Ui/EquipItem\";\r\nimport GameData from \"../../GameData\";\r\nimport GameManager from \"../../GameManager\";\r\nimport { CoinShopManagementManager } from \"../../JsonData/CoinShopManagement\";\r\nimport { CommodityManagementManager } from \"../../JsonData/CommodityManagement\";\r\nimport { LevelManager } from \"../../Level/LevelManager\";\r\nimport { Follow_Type } from \"../../multiLanguage/FollowConstants\";\r\nimport FollowManager from \"../../multiLanguage/FollowManager\";\r\nimport { ItemManager } from \"../../Prop/Data/Item\";\r\nimport Prop from \"../../Prop/Prop\";\r\nimport { PropAction, PropId } from \"../../Prop/PropConfig\";\r\nimport { PropManager } from \"../../Prop/PropManager\";\r\nimport { MusicIndex, SoundIndex } from \"../../Sound/AudioConstants\";\r\nimport MyTool from \"../../Tools/MyTool\";\r\nimport UIComponent from \"../UIComponent\";\r\nimport { UiAction } from \"../UiInterface\";\r\nimport { UIManager } from \"../UIManager\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class GoldMallUi extends UIComponent {\r\n\r\n\r\n    // protected start(): void {\r\n    //     this.refreshUi();\r\n    //     this.refreshScroll(true);\r\n    // }\r\n\r\n    init(uiAc: UiAction): void {\r\n        super.init(uiAc);\r\n        let canvas = cc.find(\"Canvas\")\r\n        this.node.getChildByName(\"top\").getComponent(cc.Widget).target = canvas;\r\n        this.node.getChildByName(\"bottom\").getComponent(cc.Widget).target = canvas;\r\n        this.node.getChildByName(\"scroll\").getComponent(cc.Widget).target = canvas;\r\n        this.refreshUi();\r\n        this.refreshScroll(GameData.getInstance().checkIsNewDay());\r\n        //GameManager.getInstance().music_manager.playMusic(MusicIndex.BGM_Shop);\r\n        FollowManager.getInstance().followEvent(Follow_Type.金币商店打开次数);\r\n    }\r\n\r\n    refreshUi(){\r\n        let top = this.node.getChildByName(\"top\")\r\n        let bottom = this.node.getChildByName(\"bottom\")\r\n        top.getChildByName(\"coinNum\").getComponent(cc.Label).string = MyTool.getCoinDanwei(PropManager.getInstance().getPropNum(PropId.Coin),1);\r\n        // console.log(MyTool.getCoinDanwei(PropManager.getInstance().getPropNum(PropId.Coin)),MyTool.getCoinDanwei(PropManager.getInstance().getPropNum(PropId.Gem)))\r\n        top.getChildByName(\"diamondNum\").getComponent(cc.Label).string = MyTool.getCoinDanwei(PropManager.getInstance().getPropNum(PropId.Gem),1);\r\n        let timeLable = top.getChildByName(\"timeLabel\")\r\n        let hour,minute,second,hourStr,minuteStr,secondStr;\r\n        let date = new Date();\r\n        hour = 23 - date.getHours();\r\n        minute = 59 - date.getMinutes();\r\n        second = 59 - date.getSeconds();\r\n        hourStr < 10 ? hourStr = \"0\"+hour : hourStr = hour;\r\n        minute < 10 ? minuteStr = \"0\"+minute : minuteStr = minute;\r\n        second < 10 ? secondStr = \"0\"+second : secondStr = second;\r\n        timeLable.getComponent(cc.Label).string = \"\" + hourStr + \":\" + minuteStr + \":\" + secondStr;\r\n        this.schedule(() =>{\r\n            date = new Date();\r\n            hour = 23 - date.getHours();\r\n            minute = 59 - date.getMinutes();\r\n            second = 59 - date.getSeconds(); \r\n            hourStr < 10 ? hourStr = \"0\"+hour : hourStr = hour;\r\n            minute < 10 ? minuteStr = \"0\"+minute : minuteStr = minute;\r\n            second < 10 ? secondStr = \"0\"+second : secondStr = second;\r\n            timeLable.getComponent(cc.Label).string = \"\" + hourStr + \":\" + minuteStr + \":\" + secondStr;\r\n        },1,cc.macro.REPEAT_FOREVER,0)\r\n    }\r\n\r\n    refreshScroll(isNewDay:boolean){\r\n        let content = this.node.getChildByName(\"scroll\").getComponent(cc.ScrollView).content;\r\n        content.removeAllChildren();\r\n        let data;\r\n        if(isNewDay){\r\n            let nowChapter = LevelManager.getInstance().getFinishChapter();\r\n            let index = this.getRandomInt(1, 4);\r\n            data = CoinShopManagementManager.getInstance().getJsonCoinShopManagement(this.getItemId(nowChapter, index));\r\n            // console.log(\"随机新的数据: \" + this.getItemId(nowChapter, index))\r\n            cc.sys.localStorage.setItem(\"GoldMallUi_id\",this.getItemId(nowChapter, index))\r\n        }else{\r\n            // console.log(\"读取本地数据： \" + Number(cc.sys.localStorage.getItem(\"GoldMallUi_id\")))\r\n            let nowChapter = LevelManager.getInstance().getFinishChapter();\r\n            let index = this.getRandomInt(1, 4);\r\n            if(cc.sys.localStorage.getItem(\"GoldMallUi_id\") != null){\r\n                // console.log(Number(cc.sys.localStorage.getItem(\"GoldMallUi_id\")));\r\n                data = CoinShopManagementManager.getInstance().getJsonCoinShopManagement(Number(cc.sys.localStorage.getItem(\"GoldMallUi_id\")));\r\n            }else{\r\n                data = CoinShopManagementManager.getInstance().getJsonCoinShopManagement(this.getItemId(nowChapter, index));\r\n                cc.sys.localStorage.setItem(\"GoldMallUi_id\",this.getItemId(nowChapter, index))\r\n            }\r\n        }\r\n        // console.log(\"刷新后的id：\"+cc.sys.localStorage.getItem(\"GoldMallUi_id\"))\r\n        let itemList = data.Shoplist;\r\n        let contentRowMode = this.node.getChildByName(\"Shop_Shelf\");\r\n        let contentRow:cc.Node = null;\r\n        // let itemNumList = data.GoodsNum;\r\n        // let spendCurrencyTypeList = data.SpendCurrencyType;\r\n        // let spendNumList = data.SpendNum;\r\n        for(let i = 0;i<itemList.length;i++){\r\n             if(i == 0||i%4 == 0){\r\n                contentRow = cc.instantiate(contentRowMode);\r\n                contentRow.active = true;\r\n                content.addChild(contentRow);\r\n                // console.log(\"ss\")\r\n             }\r\n            let itemData = CommodityManagementManager.getInstance().getJsonCommodityManagement(itemList[i]);\r\n            // console.log(itemList[i],itemData.GetItem)\r\n            let item = PropManager.getInstance().createSalePropItem(itemData.GetItem,itemData.GetNum,PropAction.Buy);\r\n            let type=ItemManager.getInstance().getType(itemData.GetItem);\r\n            // console.log(itemData.GetItem);\r\n            if(i<4){\r\n                let discount;\r\n                if(isNewDay){\r\n                    discount = (this.getRandomInt(1,5) * 10);\r\n                    cc.sys.localStorage.setItem(\"GoldMallUi_discont\" + i,discount);\r\n                    cc.sys.localStorage.setItem(\"GoldMallUi_Item\"+i,\"\")\r\n                    if(type == 3){\r\n                        item.getComponent(EquipItem).initSaleItem(itemData.CostItem,itemData.CostNum * (discount * 0.01),discount);\r\n                        item.getComponent(EquipItem).addBuyListen(()=>{\r\n                            item.getComponent(EquipItem).soldOut();\r\n                            FollowManager.getInstance().followEvent(Follow_Type.金币商店中成功购买物品的次数);\r\n                            if(itemData.CostItem == PropId.Coin){\r\n                                FollowManager.getInstance().addTotal(Follow_Type.在金币商店中消耗的金币数量,itemData.CostNum);\r\n                                FollowManager.getInstance().followEvent(Follow_Type.在金币商店中使用金币购买物品的次数);\r\n                            }else if(itemData.CostItem == PropId.Gem){\r\n                                FollowManager.getInstance().addTotal(Follow_Type.在金币商店中消耗的钻石数量,itemData.CostNum);\r\n                                FollowManager.getInstance().followEvent(Follow_Type.在金币商店中使用钻石购买物品的次数);\r\n                            }\r\n                            cc.sys.localStorage.setItem(\"GoldMallUi_Item\"+i,1);\r\n                            this.refreshUi();\r\n                        });\r\n                    }else{\r\n                        item.getComponent(Prop).initSaleItem(itemData.CostItem,itemData.CostNum * (discount * 0.01),discount);\r\n                        item.getComponent(Prop).addBuyListen(()=>{\r\n                            item.getComponent(Prop).soldOut();\r\n                            FollowManager.getInstance().followEvent(Follow_Type.金币商店中成功购买物品的次数);\r\n                            if(itemData.CostItem == PropId.Coin){\r\n                                FollowManager.getInstance().addTotal(Follow_Type.在金币商店中消耗的金币数量,itemData.CostNum);\r\n                                FollowManager.getInstance().followEvent(Follow_Type.在金币商店中使用金币购买物品的次数);\r\n                            }else if(itemData.CostItem == PropId.Gem){\r\n                                FollowManager.getInstance().addTotal(Follow_Type.在金币商店中消耗的钻石数量,itemData.CostNum);\r\n                                FollowManager.getInstance().followEvent(Follow_Type.在金币商店中使用钻石购买物品的次数);\r\n                            }\r\n                            cc.sys.localStorage.setItem(\"GoldMallUi_Item\"+i,1);\r\n                            this.refreshUi();\r\n                        });\r\n                    }\r\n                }else{\r\n                    if(cc.sys.localStorage.getItem(\"GoldMallUi_discont\" + i) != null){\r\n                        discount = Number(cc.sys.localStorage.getItem(\"GoldMallUi_discont\" + i));\r\n                    }else{\r\n                        discount = (this.getRandomInt(1,5) * 10);\r\n                        cc.sys.localStorage.setItem(\"GoldMallUi_discont\" + i,discount);\r\n                    }\r\n                    if(cc.sys.localStorage.getItem(\"GoldMallUi_Item\"+i) == null){\r\n                        cc.sys.localStorage.setItem(\"GoldMallUi_Item\"+i,\"\")\r\n                    }\r\n                    if(cc.sys.localStorage.getItem(\"GoldMallUi_Item\"+i) != \"\"){\r\n                        if(type == 3){\r\n                            item.getComponent(EquipItem).soldOut();\r\n                        }else{\r\n                            item.getComponent(Prop).soldOut();\r\n                        }\r\n                    }else{\r\n                        if(type == 3){\r\n                            item.getComponent(EquipItem).initSaleItem(itemData.CostItem,itemData.CostNum * (discount * 0.01),discount);\r\n                            item.getComponent(EquipItem).addBuyListen(()=>{\r\n                                item.getComponent(EquipItem).soldOut();\r\n                                FollowManager.getInstance().followEvent(Follow_Type.金币商店中成功购买物品的次数);\r\n                                if(itemData.CostItem == PropId.Coin){\r\n                                    FollowManager.getInstance().addTotal(Follow_Type.在金币商店中消耗的金币数量,itemData.CostNum);\r\n                                    FollowManager.getInstance().followEvent(Follow_Type.在金币商店中使用金币购买物品的次数);\r\n                                }else if(itemData.CostItem == PropId.Gem){\r\n                                    FollowManager.getInstance().addTotal(Follow_Type.在金币商店中消耗的钻石数量,itemData.CostNum);\r\n                                    FollowManager.getInstance().followEvent(Follow_Type.在金币商店中使用钻石购买物品的次数);\r\n                                }\r\n                                cc.sys.localStorage.setItem(\"GoldMallUi_Item\"+i,1);\r\n                                this.refreshUi();\r\n                            });\r\n                        }else{\r\n                            item.getComponent(Prop).initSaleItem(itemData.CostItem,itemData.CostNum * (discount * 0.01),discount);\r\n                            item.getComponent(Prop).addBuyListen(()=>{\r\n                                item.getComponent(Prop).soldOut();\r\n                                FollowManager.getInstance().followEvent(Follow_Type.金币商店中成功购买物品的次数);\r\n                                if(itemData.CostItem == PropId.Coin){\r\n                                    FollowManager.getInstance().addTotal(Follow_Type.在金币商店中消耗的金币数量,itemData.CostNum);\r\n                                    FollowManager.getInstance().followEvent(Follow_Type.在金币商店中使用金币购买物品的次数);\r\n                                }else if(itemData.CostItem == PropId.Gem){\r\n                                    FollowManager.getInstance().addTotal(Follow_Type.在金币商店中消耗的钻石数量,itemData.CostNum);\r\n                                    FollowManager.getInstance().followEvent(Follow_Type.在金币商店中使用钻石购买物品的次数);\r\n                                }\r\n                                cc.sys.localStorage.setItem(\"GoldMallUi_Item\"+i,1);\r\n                                this.refreshUi();\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }else{\r\n                if(isNewDay){\r\n                    cc.sys.localStorage.setItem(\"GoldMallUi_Item\"+i,\"\")\r\n                    if(type == 3){\r\n                        item.getComponent(EquipItem).initSaleItem(itemData.CostItem,itemData.CostNum);\r\n                        item.getComponent(EquipItem).addBuyListen(()=>{\r\n                            item.getComponent(EquipItem).soldOut();\r\n                            FollowManager.getInstance().followEvent(Follow_Type.金币商店中成功购买物品的次数);\r\n                            if(itemData.CostItem == PropId.Coin){\r\n                                FollowManager.getInstance().addTotal(Follow_Type.在金币商店中消耗的金币数量,itemData.CostNum);\r\n                                FollowManager.getInstance().followEvent(Follow_Type.在金币商店中使用金币购买物品的次数);\r\n                            }else if(itemData.CostItem == PropId.Gem){\r\n                                FollowManager.getInstance().addTotal(Follow_Type.在金币商店中消耗的钻石数量,itemData.CostNum);\r\n                                FollowManager.getInstance().followEvent(Follow_Type.在金币商店中使用钻石购买物品的次数);\r\n                            }\r\n                            cc.sys.localStorage.setItem(\"GoldMallUi_Item\"+i,1);\r\n                            this.refreshUi();\r\n                        });\r\n                    }else{\r\n                        item.getComponent(Prop).initSaleItem(itemData.CostItem,itemData.CostNum);\r\n                        item.getComponent(Prop).addBuyListen(()=>{\r\n                            item.getComponent(Prop).soldOut();\r\n                            FollowManager.getInstance().followEvent(Follow_Type.金币商店中成功购买物品的次数);\r\n                            if(itemData.CostItem == PropId.Coin){\r\n                                FollowManager.getInstance().addTotal(Follow_Type.在金币商店中消耗的金币数量,itemData.CostNum);\r\n                                FollowManager.getInstance().followEvent(Follow_Type.在金币商店中使用金币购买物品的次数);\r\n                            }else if(itemData.CostItem == PropId.Gem){\r\n                                FollowManager.getInstance().addTotal(Follow_Type.在金币商店中消耗的钻石数量,itemData.CostNum);\r\n                                FollowManager.getInstance().followEvent(Follow_Type.在金币商店中使用钻石购买物品的次数);\r\n                            }\r\n                            cc.sys.localStorage.setItem(\"GoldMallUi_Item\"+i,1);\r\n                            this.refreshUi();\r\n                        });\r\n                    }\r\n                }else{\r\n                    if(cc.sys.localStorage.getItem(\"GoldMallUi_Item\"+i) == null){\r\n                        cc.sys.localStorage.setItem(\"GoldMallUi_Item\"+i,\"\")\r\n                    }\r\n                    if(cc.sys.localStorage.getItem(\"GoldMallUi_Item\"+i) != \"\"){\r\n                        if(type == 3){\r\n                            item.getComponent(EquipItem).soldOut();\r\n                        }else{\r\n                            item.getComponent(Prop).soldOut();\r\n                        }\r\n                    }else{\r\n                        if(type == 3){\r\n                            item.getComponent(EquipItem).initSaleItem(itemData.CostItem,itemData.CostNum);\r\n                            item.getComponent(EquipItem).addBuyListen(()=>{\r\n                                item.getComponent(EquipItem).soldOut();\r\n                                FollowManager.getInstance().followEvent(Follow_Type.金币商店中成功购买物品的次数);\r\n                                if(itemData.CostItem == PropId.Coin){\r\n                                    FollowManager.getInstance().addTotal(Follow_Type.在金币商店中消耗的金币数量,itemData.CostNum);\r\n                                    FollowManager.getInstance().followEvent(Follow_Type.在金币商店中使用金币购买物品的次数);\r\n                                }else if(itemData.CostItem == PropId.Gem){\r\n                                    FollowManager.getInstance().addTotal(Follow_Type.在金币商店中消耗的钻石数量,itemData.CostNum);\r\n                                    FollowManager.getInstance().followEvent(Follow_Type.在金币商店中使用钻石购买物品的次数);\r\n                                }\r\n                                cc.sys.localStorage.setItem(\"GoldMallUi_Item\"+i,1);\r\n                                this.refreshUi();\r\n                            });\r\n                        }else{\r\n                            item.getComponent(Prop).initSaleItem(itemData.CostItem,itemData.CostNum);\r\n                            item.getComponent(Prop).addBuyListen(()=>{\r\n                                item.getComponent(Prop).soldOut();\r\n                                FollowManager.getInstance().followEvent(Follow_Type.金币商店中成功购买物品的次数);\r\n                                if(itemData.CostItem == PropId.Coin){\r\n                                    FollowManager.getInstance().addTotal(Follow_Type.在金币商店中消耗的金币数量,itemData.CostNum);\r\n                                    FollowManager.getInstance().followEvent(Follow_Type.在金币商店中使用金币购买物品的次数);\r\n                                }else if(itemData.CostItem == PropId.Gem){\r\n                                    FollowManager.getInstance().addTotal(Follow_Type.在金币商店中消耗的钻石数量,itemData.CostNum);\r\n                                    FollowManager.getInstance().followEvent(Follow_Type.在金币商店中使用钻石购买物品的次数);\r\n                                }\r\n                                cc.sys.localStorage.setItem(\"GoldMallUi_Item\"+i,1);\r\n                                this.refreshUi();\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // item.getComponent(Prop).soldOut();\r\n            if(!isNewDay){\r\n                if(cc.sys.localStorage.getItem(\"GoldMallUiItem\" + i) == 1){\r\n                    if(type == 3){\r\n                        item.getComponent(EquipItem).soldOut();\r\n                    }else{\r\n                        item.getComponent(Prop).soldOut();\r\n                    }\r\n                }\r\n            }\r\n            contentRow.addChild(item);\r\n            item.y = 55;\r\n        }\r\n\r\n        // this.node.getChildByName(\"Shop_Btn_Refresh\").on(cc.Node.EventType.TOUCH_END,() =>{\r\n        //     // TODO 刷新按钮\r\n\r\n        // });\r\n    }\r\n\r\n    clickBtnRefresh(){\r\n        UIManager.getInstance().showConsumptionTipUi(null,PropId.Gem,100,() => {\r\n            // console.log(\"进行刷新\");\r\n            this.refreshUi();\r\n            this.refreshScroll(true);\r\n        })\r\n    }\r\n    \r\n\r\n    getItemId(chapter:number,index:number){\r\n        return chapter*1000+index;\r\n    }\r\n\r\n    getRandomInt(min, max) {\r\n        min = Math.ceil(min);\r\n        max = Math.floor(max);\r\n        return Math.floor(Math.random() * (max - min)) + min; //不含最大值，含最小值\r\n    }\r\n\r\n    clickBtnClose()\r\n    {\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        this.destroySelf();\r\n    }\r\n\r\n    destroySelf()\r\n    {\r\n        super.onClose();\r\n        ApkManager.getInstance().closeBanner();\r\n        // EventManager.postRedEvent(RedEventString.RED_CHECK,RedEventType.Btn_Main_SignIn);\r\n    }\r\n\r\n}\r\n"]}