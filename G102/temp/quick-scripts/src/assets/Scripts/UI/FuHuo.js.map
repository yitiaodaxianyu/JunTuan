{"version":3,"sources":["assets\\Scripts\\UI\\FuHuo.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,8CAAyC;AACzC,gDAA+C;AAC/C,0CAA0C;AAC1C,8CAAyC;AACzC,wEAAmE;AACnE,oEAA+D;AAC/D,0DAAqD;AAG/C,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAmC,yBAAY;IAA/C;QAAA,qEAiEC;QA/DG,iBAAW,GAAQ,EAAE,CAAC;;IA+D1B,CAAC;IA7DG,sBAAM,GAAN;QAEI,IAAI,CAAC,WAAW,GAAC,EAAE,CAAC;QACpB,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,EAAC,CAAC,CAAC,CAAC;QACjC,IAAG,uBAAU,CAAC,QAAQ,EAAE,IAAE,IAAI,EAAC;YAC3B,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,MAAM,GAAC,KAAK,CAAC;SAChD;IACL,CAAC;IAED,0BAAU,GAAV;QAEI,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,WAAW,GAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;QACnF,WAAW,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAC,IAAI,CAAC,WAAW,GAAC,GAAG,CAAC;QAC/D,IAAG,IAAI,CAAC,WAAW,IAAE,CAAC,EACtB;YACI,IAAI,CAAC,YAAY,EAAE,CAAC;SACvB;IACL,CAAC;IAED,4BAAY,GAAZ;QAEI,qBAAW,CAAC,WAAW,EAAE,CAAC,YAAY,EAAE,CAAC;QACzC,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAEF,8BAAc,GAAd;QAEK,qBAAW,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,SAAS,CAAC,2BAAU,CAAC,KAAK,CAAC,CAAC;QACpE,IAAI,CAAC,YAAY,EAAE,CAAC;IACzB,CAAC;IAED,6BAAa,GAAb;QAAA,iBAqBC;QAnBI,qBAAW,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,SAAS,CAAC,2BAAU,CAAC,KAAK,CAAC,CAAC;QACpE,IAAG,uBAAU,CAAC,QAAQ,EAAE,IAAE,IAAI,EAC9B;YACI,qBAAW,CAAC,WAAW,EAAE,CAAC,OAAO,EAAE,CAAC;YACpC,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,OAAO;SACV;QACD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACjC,mBAAS,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,UAAC,KAAa;YAC5C,IAAG,KAAK,EACR;gBACI,qBAAW,CAAC,WAAW,EAAE,CAAC,OAAO,EAAE,CAAC;gBACpC,KAAI,CAAC,WAAW,EAAE,CAAC;aACtB;iBACD;gBACI,KAAI,CAAC,QAAQ,CAAC,KAAI,CAAC,UAAU,EAAC,CAAC,CAAC,CAAC;gBACjC,qBAAW,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,yBAAe,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,iCAAa,CAAC,uDAAuD,CAAC,CAAC,CAAC;aACzJ;QACL,CAAC,EAAC,sBAAU,CAAC,IAAI,CAAC,CAAC;IACxB,CAAC;IAED,2BAAW,GAAX;QAEI,EAAE,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;QACrB,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC;IACjC,CAAC;IAhEiB,KAAK;QADzB,OAAO;OACa,KAAK,CAiEzB;IAAD,YAAC;CAjED,AAiEC,CAjEkC,EAAE,CAAC,SAAS,GAiE9C;kBAjEoB,KAAK","file":"","sourceRoot":"/","sourcesContent":["import AdManager from \"../Ads/AdManager\";\r\nimport { VipManager } from \"../Ads/VipManager\";\r\nimport { VIDEO_TYPE } from \"../Constants\";\r\nimport GameManager from \"../GameManager\";\r\nimport { LanguageIndex } from \"../multiLanguage/LanguageConstants\";\r\nimport LanguageManager from \"../multiLanguage/LanguageManager\";\r\nimport { SoundIndex } from \"../Sound/AudioConstants\";\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class FuHuo extends cc.Component {\r\n\r\n    remain_time:number=10;\r\n\r\n    onLoad()\r\n    {\r\n        this.remain_time=11;\r\n        this.showRemain();\r\n        this.schedule(this.showRemain,1);\r\n        if(VipManager.getIsVip()==true){\r\n            this.node.getChildByName('ads').active=false;\r\n        }\r\n    }\r\n\r\n    showRemain()\r\n    {\r\n        this.remain_time--;\r\n        let remainLabel=this.node.getChildByName('btnFuHuo').getChildByName('remainLabel');\r\n        remainLabel.getComponent(cc.Label).string=this.remain_time+'s';\r\n        if(this.remain_time<=0)\r\n        {            \r\n            this.showGameLose();\r\n        }\r\n    }\r\n\r\n    showGameLose()\r\n    {\r\n        GameManager.getInstance().showGameLose();\r\n        this.destroySelf();\r\n    }\r\n\r\n   clickBtnFangQi()\r\n   {\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        this.showGameLose();\r\n   }\r\n\r\n   clickBtnFuhuo()\r\n   {\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        if(VipManager.getIsVip()==true)\r\n        {\r\n            GameManager.getInstance().onFuhuo();\r\n            this.destroySelf();\r\n            return;\r\n        }\r\n        this.unschedule(this.showRemain);\r\n        AdManager.getInstance().showVideo((isSuc:boolean)=>{\r\n            if(isSuc)\r\n            {\r\n                GameManager.getInstance().onFuhuo();\r\n                this.destroySelf();\r\n            }else\r\n            {\r\n                this.schedule(this.showRemain,1);\r\n                GameManager.getInstance().showMessage(LanguageManager.getInstance().getString(LanguageIndex.The_ad_failed_to_play_and_the_reward_cannot_be_obtained));\r\n            }\r\n        },VIDEO_TYPE.Coin);\r\n   }\r\n\r\n   destroySelf()\r\n   {\r\n       cc.director.resume();\r\n       this.node.removeFromParent();\r\n   }\r\n}\r\n"]}