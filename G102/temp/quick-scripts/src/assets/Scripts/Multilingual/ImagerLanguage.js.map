{"version":3,"sources":["assets\\Scripts\\Multilingual\\ImagerLanguage.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAGlF,wEAAoF;AACpF,oEAA+D;AAGzD,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAA4C,kCAAS;IAArD;QAEI,sBAAsB;QACtB,0BAA0B;QAH9B,qEA4DC;QAvDG,YAAY;QACZ,0BAA0B;QAE1B,wBAAwB;QAExB,eAAe;QAEP,iBAAW,GAAW,CAAC,CAAC,CAAA,OAAO;QAEvC,sBAAsB;QACd,sBAAgB,GAAW,CAAC,CAAC;QAC7B,oBAAc,GAAS,KAAK,CAAC;QAC7B,uBAAiB,GAAiB,gCAAY,CAAC,EAAE,CAAC;;IA2C9D,CAAC;IAzCa,+BAAM,GAAhB;QACI,IAAI,CAAC,gBAAgB,GAAC,IAAI,CAAC,WAAW,CAAC;QACvC,IAAG,CAAC,IAAI,CAAC,cAAc,EAAC;YACpB,IAAI,CAAC,gBAAgB,EAAE,CAAC;SAC3B;QACD,IAAI,CAAC,SAAS,EAAE,CAAC;IACrB,CAAC;IAED,kCAAS,GAAT,UAAU,EAAU;QAChB,IAAI,CAAC,WAAW,GAAC,EAAE,CAAC;QACpB,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC5B,CAAC;IAED,qBAAqB;IACrB,yCAAgB,GAAhB;QACI,IAAI,CAAC,cAAc,GAAC,IAAI,CAAC;QACzB,IAAI,CAAC,WAAW,GAAC,yBAAe,CAAC,WAAW,EAAE,CAAC,eAAe,CAAC,IAAI,CAAC,WAAW,CAAC,CAAA;IACpF,CAAC;IACM,kCAAS,GAAhB;QAEI,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,oCAAgB,EAAC,IAAI,CAAC,gBAAgB,EAAC,IAAI,CAAC,CAAC;IAChE,CAAC;IAED,UAAU;IACH,qCAAY,GAAnB;QAEI,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,oCAAgB,EAAC,IAAI,CAAC,gBAAgB,EAAC,IAAI,CAAC,CAAC;IACjE,CAAC;IAES,kCAAS,GAAnB;QACI,IAAI,CAAC,YAAY,EAAE,CAAA;IACvB,CAAC;IAED,yCAAgB,GAAhB;QACI,uGAAuG;QACvG,iFAAiF;QACjF,IAAI;QACA,IAAI,CAAC,gBAAgB,EAAE,CAAC;QAC5B,IAAI;IACR,CAAC;IA9CD;QADC,QAAQ,EAAE;uDACqB;IAZf,cAAc;QADlC,OAAO;OACa,cAAc,CA4DlC;IAAD,qBAAC;CA5DD,AA4DC,CA5D2C,EAAE,CAAC,MAAM,GA4DpD;kBA5DoB,cAAc","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport { HeroManager } from \"../Hero/Data/HeroManager\";\r\nimport { LanguageType, OnLanguageChange } from \"../multiLanguage/LanguageConstants\";\r\nimport LanguageManager from \"../multiLanguage/LanguageManager\";\r\nimport { Image_LanguageManager } from \"./Image_Language\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class ImagerLanguage extends cc.Sprite {\r\n\r\n    // @property(cc.Label)\r\n    // label: cc.Label = null;\r\n\r\n    // @property\r\n    // text: string = 'hello';\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {}\r\n    @property()\r\n    private cur_text_id: number = 0;//图片的id\r\n\r\n    //保存原本设定的Index，方便修改后恢复\r\n    private original_text_id: number = 0;\r\n    private is_translation:boolean=false;\r\n    private cur_language_type: LanguageType = LanguageType.en;\r\n\r\n    protected onLoad () {\r\n        this.original_text_id=this.cur_text_id;\r\n        if(!this.is_translation){\r\n            this.startTranslation();\r\n        }\r\n        this.addListen();\r\n    }\r\n\r\n    setTextId(id :number){\r\n        this.cur_text_id=id;        \r\n        this.startTranslation();\r\n    }\r\n\r\n    /**如果需要动态切换语言-事件监听 */\r\n    startTranslation(){\r\n        this.is_translation=true;\r\n        this.spriteFrame=LanguageManager.getInstance().getSpBySpriteId(this.cur_text_id)\r\n    }\r\n    public addListen()\r\n    {\r\n        cc.director.on(OnLanguageChange,this.onLanguageChange,this);\r\n    }\r\n\r\n    /**事件移除 */\r\n    public removeListen()\r\n    {\r\n        cc.director.off(OnLanguageChange,this.onLanguageChange,this);\r\n    }\r\n    \r\n    protected onDestroy(): void {\r\n        this.removeListen()\r\n    }\r\n\r\n    onLanguageChange(){\r\n        // console.log(\"+++++++++++\",LanguageManager.getInstance().getCurLanguageType(),this.cur_language_type)\r\n        // if(this.cur_language_type!=LanguageManager.getInstance().getCurLanguageType())\r\n        // {\r\n            this.startTranslation();\r\n        // }\r\n    }\r\n\r\n}\r\n"]}