{"version":3,"sources":["assets\\Scripts\\CoinPop.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport { HttpManager, AccessName } from \"./NetWork/HttpManager\";\r\nimport { CumulativeRechargesManager } from \"./AccumulatedRecharge/CumulativeRecharges\";\r\nimport ApkManager from \"./Ads/ApkManager\";\r\nimport { Btn_Index, Go_Type, VIDEO_TYPE } from \"./Constants\";\r\nimport GameManager from \"./GameManager\";\r\nimport Home from \"./Home\";\r\nimport { Follow_Type } from \"./multiLanguage/FollowConstants\";\r\nimport FollowManager from \"./multiLanguage/FollowManager\";\r\nimport LanguageManager from \"./multiLanguage/LanguageManager\";\r\nimport TextLanguage from \"./multiLanguage/TextLanguage\";\r\nimport { PayManager } from \"./Payment/PayManager\";\r\nimport { PropId } from \"./Prop/PropConfig\";\r\nimport { PropManager } from \"./Prop/PropManager\";\r\nimport { MusicIndex, SoundIndex } from \"./Sound/AudioConstants\";\r\nimport { StorageKey } from \"./Storage/StorageConfig\";\r\nimport { TheStorageManager } from \"./Storage/StorageManager\";\r\nimport { DiamondsRechargeManager, JsonDiamondsRecharge } from \"./Store/DiamondsRecharge\";\r\nimport UIComponent from \"./UI/UIComponent\";\r\nimport { UILayerLevel } from \"./UI/UIConfig\";\r\nimport { UiAction } from \"./UI/UiInterface\";\r\nimport { UIManager } from \"./UI/UIManager\";\r\nimport UserData from \"./UserData\";\r\nimport { UserInfo } from \"./UserInfo/UserInfo\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class CoinPop extends UIComponent {\r\n\r\n    // @property(cc.Label)\r\n    // label: cc.Label = null;\r\n\r\n    // @property\r\n    // text: string = 'hello';\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n    @property(cc.Node)\r\n    itme:cc.Node=null\r\n    @property(cc.Prefab)\r\n    gem_item:cc.Prefab = null;\r\n    @property(cc.SpriteAtlas)\r\n    store_ui:cc.SpriteAtlas = null;\r\n    // onLoad () {}\r\n    type:PropId=PropId.Coin//默认金币\r\n\r\n    num:number=20000//10000\r\n    initUi(type) {\r\n        GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(100041));\r\n        this.onClose();\r\n        return;\r\n        FollowManager.getInstance().followEvent(Follow_Type.资源不足弹窗弹出次数);\r\n        this.type=type\r\n        // GameManager.getInstance().music_manager.playMusic(MusicIndex.BGM_TJP);\r\n        // FollowManager.getInstance().followEvent(Follow_Type.铁匠铺打开次数);\r\n        //金币 10000\r\n        if(this.itme.childrenCount>0){\r\n            this.itme.children[0].destroy()\r\n        }\r\n        let items\r\n        if(this.type==PropId.Coin){\r\n            items=PropManager.getInstance().createPropItem(PropId.Coin,20000);\r\n            this.num=20000;\r\n            items.parent=this.itme\r\n            this.node.getChildByName(\"coin\").active = true;\r\n            this.node.getChildByName(\"gem\").active = false;\r\n        }else if(this.type==PropId.Gem){\r\n            // items=PropManager.getInstance().createPropItem(PropId.Gem,200);\r\n            // this.num=200\r\n            // console.log(GameManager.getInstance().game_to_home)\r\n            let gemData = DiamondsRechargeManager.getInstance().getJsonData();\r\n            let gemRoot = this.node.getChildByName(\"gem\").getChildByName(\"content\");\r\n            if(gemRoot.childrenCount == 0){\r\n                gemData.forEach((v,k) => {\r\n                    let item = cc.instantiate(this.gem_item);\r\n                    item.name = 'gem' + v.RechargeID;\r\n                    item.scale = 0.82;\r\n                    item.getChildByName(\"title\").getComponent(TextLanguage).setTextId(400002);\r\n                    item.getChildByName(\"title\").getComponent(TextLanguage).string = v.DiamondsNum + item.getChildByName(\"title\").getComponent(TextLanguage).string;\r\n                    let payInfo = PayManager.getInstance().getPayInfo(v.ProductId);\r\n                    item.getChildByName(\"num\").getComponent(cc.Label).string = payInfo.price;\r\n                    item.getChildByName('icon').getComponent(cc.Sprite).spriteFrame = this.store_ui.getSpriteFrame(\"Shop_Icon_Gem_\" + (v.RechargeID - 1));\r\n                    if(TheStorageManager.getInstance().getString(StorageKey.StoreGemItem + v.RechargeID,'') == ''){\r\n                        item.getChildByName('bg').active = true;\r\n                        item.getChildByName('tip').active = true;\r\n                        item.getChildByName(\"tip\").getComponent(TextLanguage).setTextId(1410004);\r\n                        item.getChildByName(\"tip\").getComponent(TextLanguage).setReplaceValue('~',v.GetDiamondsNum + '');\r\n                    }else{\r\n                        item.getChildByName('bg').active = false;\r\n                        item.getChildByName('tip').active = false;\r\n                    }\r\n                    let button = item.addComponent(cc.Button);\r\n                    button.transition = cc.Button.Transition.SCALE;\r\n                    button.duration = 0.1;\r\n                    button.zoomScale = 0.9;\r\n\r\n                    let clickEvent=new cc.Component.EventHandler();\r\n                    clickEvent.target=this.node;\r\n                    clickEvent.component='CoinPop';\r\n                    clickEvent.handler='onGemBtnClick';\r\n                    clickEvent.customEventData = v.RechargeID + '';\r\n                    button.clickEvents.push(clickEvent);\r\n        \r\n                    // item.on(cc.Node.EventType.TOUCH_END,()=>{\r\n                    //     ApkManager.getInstance().showPay({\r\n                    //         result:(isDy)=> {\r\n                    //             if(isDy){\r\n                    //                 FollowManager.getInstance().followEvent(Follow_Type.x钻石点击购买次数 + v.ProductId);\r\n                    //                 if(TheStorageManager.getInstance().getString(StorageKey.StoreGemItem + v.RechargeID,'') == ''){\r\n                    //                     let reward = PropManager.getInstance().createPropItem(PropId.Gem,v.DiamondsNum + v.GetDiamondsNum);\r\n                    //                     PropManager.getInstance().changePropNum(PropId.Gem,v.DiamondsNum + v.GetDiamondsNum);\r\n                    //                     TheStorageManager.getInstance().setItem(StorageKey.StoreGemItem + v.RechargeID,'1');\r\n                    //                     item.getChildByName('bg').active = false;\r\n                    //                     item.getChildByName('tip').active = false;\r\n                    //                     GameManager.getInstance().showGetTip(reward);\r\n                    //                 }else{\r\n                    //                     let reward = PropManager.getInstance().createPropItem(PropId.Gem,v.DiamondsNum);\r\n                    //                     PropManager.getInstance().changePropNum(PropId.Gem,v.DiamondsNum);\r\n                    //                     GameManager.getInstance().showGetTip(reward);\r\n                    //                 }\r\n                    //             }\r\n                    //         }\r\n                    //     },v.ProductId)\r\n                    // });\r\n                    gemRoot.addChild(item);\r\n                });\r\n            }else{\r\n                gemData.forEach((v,k) => {\r\n                    let item = gemRoot.getChildByName('gem' + v.RechargeID);\r\n                    item.getChildByName(\"title\").getComponent(TextLanguage).setTextId(400002);\r\n                    item.getChildByName(\"title\").getComponent(TextLanguage).string = v.DiamondsNum + item.getChildByName(\"title\").getComponent(TextLanguage).string;\r\n                    let payInfo = PayManager.getInstance().getPayInfo(v.ProductId);\r\n                    item.getChildByName(\"num\").getComponent(cc.Label).string = payInfo.price;\r\n                    item.getChildByName('icon').getComponent(cc.Sprite).spriteFrame = this.store_ui.getSpriteFrame(\"Shop_Icon_Gem_\" + (v.RechargeID - 1));\r\n                    if(TheStorageManager.getInstance().getString(StorageKey.StoreGemItem + v.RechargeID,'') == ''){\r\n                        item.getChildByName('bg').active = true;\r\n                        item.getChildByName('tip').active = true;\r\n                        item.getChildByName(\"tip\").getComponent(TextLanguage).setTextId(1410004);\r\n                        item.getChildByName(\"tip\").getComponent(TextLanguage).setReplaceValue('~',v.GetDiamondsNum + '');\r\n                    }else{\r\n                        item.getChildByName('bg').active = false;\r\n                        item.getChildByName('tip').active = false;\r\n                    }\r\n                    // item.off(cc.Node.EventType.TOUCH_END);\r\n                    // item.on(cc.Node.EventType.TOUCH_END,()=>{\r\n                    //     ApkManager.getInstance().showPay({\r\n                    //         result:(isDy)=> {\r\n                    //             if(isDy){\r\n                    //                 FollowManager.getInstance().followEvent(Follow_Type.x钻石点击购买次数 + v.ProductId);\r\n                    //                 if(TheStorageManager.getInstance().getString(StorageKey.StoreGemItem + v.RechargeID,'') == ''){\r\n                    //                     let reward = PropManager.getInstance().createPropItem(PropId.Gem,v.DiamondsNum + v.GetDiamondsNum);\r\n                    //                     PropManager.getInstance().changePropNum(PropId.Gem,v.DiamondsNum + v.GetDiamondsNum);\r\n                    //                     TheStorageManager.getInstance().setItem(StorageKey.StoreGemItem + v.RechargeID,'1');\r\n                    //                     item.getChildByName('bg').active = false;\r\n                    //                     item.getChildByName('tip').active = false;\r\n                    //                     GameManager.getInstance().showGetTip(reward);\r\n                    //                 }else{\r\n                    //                     let reward = PropManager.getInstance().createPropItem(PropId.Gem,v.DiamondsNum);\r\n                    //                     PropManager.getInstance().changePropNum(PropId.Gem,v.DiamondsNum);\r\n                    //                     GameManager.getInstance().showGetTip(reward);\r\n                    //                 }\r\n                    //             }\r\n                    //         }\r\n                    //     },v.ProductId)\r\n                    // });\r\n                });\r\n            }\r\n            this.node.getChildByName(\"coin\").active = false;\r\n            this.node.getChildByName(\"gem\").active = true;\r\n        }\r\n    }\r\n\r\n    init(uiAc: UiAction): void {\r\n        super.init(uiAc);\r\n    }\r\n\r\n    // start () {\r\n        \r\n    // }\r\n    clickBtnAd(){\r\n        //coin 10000   zhuanshi:100\r\n\r\n        if(TheStorageManager.getInstance().getNumber(StorageKey.CoinPopAd,0) > 4){\r\n            // 没次数提示100120\r\n            GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(100120),3);\r\n        }else{\r\n            let videoType=VIDEO_TYPE.Coin;\r\n            if(this.type==PropId.Gem){\r\n                videoType=VIDEO_TYPE.Gem;\r\n            }\r\n            ApkManager.getInstance().showVideo(((isTrue)=>{\r\n                if(isTrue){\r\n                    FollowManager.getInstance().followEvent(Follow_Type.点击资源不足时广告获得按钮次数);\r\n                    //有次数 ,可以看广告\r\n                    let num = TheStorageManager.getInstance().getNumber(StorageKey.CoinPopAd,0);\r\n                    num++;\r\n                    TheStorageManager.getInstance().setItem(StorageKey.CoinPopAd,num);\r\n                    PropManager.getInstance().changePropNum(this.type,this.num);\r\n                    GameManager.getInstance().showGetTip(PropManager.getInstance().createPropItem(this.type,this.num));\r\n                    this.clickBtnClose()\r\n                }\r\n            }),videoType)\r\n        }\r\n    }\r\n    clickBtnShow(){\r\n        cc.find('Canvas/store_ui/scroll').getComponent(cc.ScrollView).scrollToBottom(2)\r\n        GameManager.getInstance().game_to_home=Go_Type.City\r\n        FollowManager.getInstance().followEvent(Follow_Type.点击资源不足时前往的按钮点击次数);\r\n        GameManager.getInstance().jumoAndShowUi()\r\n        UIManager.getInstance().closeAllUiDialog(UILayerLevel.One);\r\n        this.clickBtnClose()\r\n    }\r\n    clickBtnClose()//关闭\r\n    {\r\n        if(this.itme.childrenCount>0){\r\n            this.itme.children[0].destroy()\r\n        }\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        this.onClose();\r\n    }\r\n\r\n    onGemBtnClick(e,id:string){\r\n        let item = this.node.getChildByName(\"gem\").getChildByName(\"content\").getChildByName(\"gem\" + id);\r\n        let v:JsonDiamondsRecharge = DiamondsRechargeManager.getInstance().getJsonDiamondsRecharge(Number(id));\r\n        ApkManager.getInstance().showPay({\r\n            result:(isDy)=> {\r\n                if(isDy){\r\n                    FollowManager.getInstance().followEvent(Follow_Type.x钻石点击购买次数 + v.ProductId);\r\n                    if(TheStorageManager.getInstance().getString(StorageKey.StoreGemItem + v.RechargeID,'') == ''){\r\n                        let reward = PropManager.getInstance().createPropItem(PropId.Gem,v.DiamondsNum + v.GetDiamondsNum);\r\n                        PropManager.getInstance().changePropNum(PropId.Gem,v.DiamondsNum + v.GetDiamondsNum);\r\n                        UserInfo.getInstance().payGem += v.DiamondsNum;\r\n                        HttpManager.post(AccessName.updateUserInfo,this.setCumulativeRechargeJsonString(v.DiamondsNum)).then((data:any)=>{\r\n                            UserInfo.getInstance().refreshData();\r\n                            CumulativeRechargesManager.getInstance().refreshData();\r\n                        });\r\n                        TheStorageManager.getInstance().setItem(StorageKey.StoreGemItem + v.RechargeID,'1');\r\n                        item.getChildByName('bg').active = false;\r\n                        item.getChildByName('tip').active = false;\r\n                        GameManager.getInstance().showGetTip(reward);\r\n                    }else{\r\n                        let reward = PropManager.getInstance().createPropItem(PropId.Gem,v.DiamondsNum);\r\n                        PropManager.getInstance().changePropNum(PropId.Gem,v.DiamondsNum);\r\n                        UserInfo.getInstance().payGem += v.DiamondsNum;\r\n                        HttpManager.post(AccessName.updateUserInfo,this.setCumulativeRechargeJsonString(v.DiamondsNum)).then((data:any)=>{\r\n                            UserInfo.getInstance().refreshData();\r\n                            CumulativeRechargesManager.getInstance().refreshData();\r\n                        });\r\n                        GameManager.getInstance().showGetTip(reward);\r\n                    }\r\n                }\r\n            }\r\n        },v.ProductId)\r\n    }\r\n\r\n    private setCumulativeRechargeJsonString(addNum:number):string{\r\n        let uid=UserData.getInstance().getUserID();\r\n        let num=addNum;\r\n        return JSON.stringify({\r\n            type:8,\r\n            uid:uid,\r\n            value:num,\r\n        });\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}