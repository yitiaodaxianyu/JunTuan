{"version":3,"sources":["assets\\Scripts\\Tools\\LogInfo.ts"],"names":[],"mappings":";;;;;;;AAAA,0CAA8C;AAE9C;IAAA;QACI,UAAU;QACV,aAAQ,GAAQ,oBAAoB,CAAC;QACrC,MAAM;QACN,gBAAW,GAAQ,gBAAgB,CAAC;IAExC,CAAC;IAAD,cAAC;AAAD,CANA,AAMC,IAAA;AANY,0BAAO;AAQpB;IAAA;IAsEA,CAAC;IAlEU,eAAI,GAAX;QACI,IAAI,CAAC,QAAQ,GAAC,IAAI,KAAK,EAAE,CAAC;QAC1B,IAAI,MAAM,GAAQ,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QAC1D,IAAG,MAAM,IAAE,EAAE,IAAI,MAAM,IAAE,IAAI,EAC7B;YACI,IAAI,KAAK,GAAW,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YACvC,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAChC;gBACI,IAAI,IAAI,GAAC,IAAI,OAAO,EAAE,CAAC;gBACvB,IAAI,GAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACd,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC5B;SACJ;IACL,CAAC;IACD,cAAc;IACd,0DAA0D;IAC1D,IAAI;IACJ,8BAA8B;IAC9B,cAAc;IACd,0DAA0D;IAC1D,mDAAmD;IACnD,8BAA8B;IAC9B,QAAQ;IACR,6CAA6C;IAC7C,mBAAmB;IACnB,mDAAmD;IACnD,0CAA0C;IAC1C,kBAAkB;IAClB,QAAQ;IACR,0BAA0B;IAC1B,qBAAqB;IACrB,uDAAuD;IACvD,IAAI;IAEG,qBAAU,GAAjB;QAEI,OAAO,IAAI,IAAI,CAAE,CAAC,IAAI,IAAI,EAAE,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,CAAE,CAAC,MAAM,EAAE,CAAC,SAAS,CAAC,CAAC,EAAC,EAAE,CAAC,CAAC,OAAO,CAAC,GAAG,EAAC,GAAG,CAAC,CAAC;IAC/F,CAAC;IAED,aAAa;IACN,iBAAM,GAAb,UAAc,GAAU;QAEpB,IAAG,0BAAc,EACjB;YACI,IAAG,IAAI,CAAC,QAAQ,IAAE,IAAI,EACtB;gBACI,IAAI,CAAC,IAAI,EAAE,CAAC;aACf;YACD,IAAI,OAAO,GAAC,IAAI,OAAO,EAAE,CAAC;YAC1B,OAAO,CAAC,QAAQ,GAAC,IAAI,CAAC,UAAU,EAAE,CAAC;YACnC,OAAO,CAAC,WAAW,GAAC,GAAG,CAAC;YACxB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAC5B,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,QAAQ,EAAC,OAAO,CAAC,WAAW,CAAC,CAAC;SAChD;IACL,CAAC;IAEM,sBAAW,GAAlB;QAEI,IAAG,0BAAc,EACjB;YACI,IAAG,IAAI,CAAC,QAAQ,EAChB;gBACI,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,EAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;aACzE;SACJ;IACL,CAAC;IAnEc,mBAAQ,GAAW,IAAI,CAAC;IAoE3C,iBAAC;CAtED,AAsEC,IAAA;AAtEY,gCAAU","file":"","sourceRoot":"/","sourcesContent":["import { IsSaveEquipLog } from \"../Constants\";\r\n\r\nexport class LogInfo{\r\n    //日志时间的字符串\r\n    log_time:string='2022-2-11 11:11:11';\r\n    //日志内容\r\n    log_content:string='获得了装备:66668888';\r\n\r\n}\r\n\r\nexport class LogManager{\r\n\r\n    private static log_list:LogInfo[]=null;\r\n\r\n    static init(){\r\n        this.log_list=new Array();\r\n        let logStr:string=cc.sys.localStorage.getItem('log_list');\r\n        if(logStr!=\"\" && logStr!=null)\r\n        {\r\n            let infos:LogInfo[]=JSON.parse(logStr);\r\n            for(let i=0; i<infos.length; i++)\r\n            {\r\n                let info=new LogInfo();\r\n                info=infos[i];\r\n                this.log_list.push(info);\r\n            }\r\n        }\r\n    }\r\n    // //装备数据的改动日志\r\n    // static saveLog(str:string,logStr?:string,count?:number)\r\n    // {\r\n    //     if(IsSavelogLog==false)\r\n    //     return;\r\n    //     logStr=arguments[1]?arguments[1]:this.getTimeStr();\r\n    //     let sss=cc.sys.localStorage.getItem(logStr);\r\n    //     if(sss!=''&& sss!=null)\r\n    //     {\r\n    //         count=arguments[2]?arguments[2]:0;\r\n    //         count++;\r\n    //         logStr=logStr.substring(0,19)+'/'+count;\r\n    //         this.saveLog(str,logStr,count);\r\n    //         return;\r\n    //     }\r\n    //     cc.log(logStr,str);\r\n    //     //把日志信息保存至日志列表\r\n    //     cc.sys.localStorage.setItem(logStr,str);        \r\n    // }\r\n\r\n    static getTimeStr():string\r\n    {\r\n        return new Date( +new Date() + 8 * 3600 * 1000 ).toJSON().substring(0,19).replace(\"T\",\" \");\r\n    }\r\n\r\n    //添加一个日志信息到列表\r\n    static addLog(str:string)\r\n    {        \r\n        if(IsSaveEquipLog)\r\n        {\r\n            if(this.log_list==null)\r\n            {\r\n                this.init();\r\n            }\r\n            let logInfo=new LogInfo();\r\n            logInfo.log_time=this.getTimeStr();\r\n            logInfo.log_content=str;\r\n            this.log_list.push(logInfo);\r\n            cc.log(logInfo.log_time,logInfo.log_content);\r\n        }\r\n    }\r\n\r\n    static saveLogList()\r\n    {\r\n        if(IsSaveEquipLog)\r\n        {\r\n            if(this.log_list)\r\n            {\r\n                cc.sys.localStorage.setItem('log_list',JSON.stringify(this.log_list));\r\n            }            \r\n        }\r\n    }\r\n}"]}