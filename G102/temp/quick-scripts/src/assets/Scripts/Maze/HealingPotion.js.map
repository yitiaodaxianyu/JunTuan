{"version":3,"sources":["assets\\Scripts\\Maze\\HealingPotion.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { RogueHexagonTypesManager } from \"../copy/voidcrack/RogueHexagonTypes\";\r\nimport GameManager from \"../GameManager\";\r\nimport { Follow_Type } from \"../multiLanguage/FollowConstants\";\r\nimport FollowManager from \"../multiLanguage/FollowManager\";\r\nimport LanguageManager from \"../multiLanguage/LanguageManager\";\r\nimport { SoundIndex } from \"../Sound/AudioConstants\";\r\nimport UIComponent from \"../UI/UIComponent\";\r\n// import { RogueHexagonTypesManager } from \"./Data/RogueHexagonTypes\";\r\nimport { RogueTextManager } from \"./Data/RogueText\";\r\nimport { MazeManager } from \"./MazeManager\";\r\nimport MazeUi from \"./MazeUi\";\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class HealingPotion extends UIComponent {\r\n\r\n    box_id:number=5;\r\n    is_can_go:boolean=false;    \r\n\r\n    initData(id:number,isCanGo:boolean){\r\n        this.box_id=id;\r\n        this.is_can_go=isCanGo;          \r\n        this.initUi();\r\n    }\r\n\r\n    initUi(){\r\n        //标题\r\n        let type=RogueHexagonTypesManager.getInstance().getHexagonType(this.box_id);\r\n        let jsonData=RogueTextManager.getInstance().getJsonRogueText(type);\r\n        let titleLabel=this.node.getChildByName('titleLabel');\r\n        titleLabel.getComponent(cc.Label).string=LanguageManager.getInstance().getStrByTextId(jsonData.Roguetitle_ID);\r\n        let contentLabel=this.node.getChildByName('contentLabel');\r\n        contentLabel.getComponent(cc.Label).string=LanguageManager.getInstance().getStrByTextId(jsonData.RogueText_ID);\r\n        this.node.getChildByName('btnNo').active=this.is_can_go;\r\n        this.node.getChildByName('btnYes').active=this.is_can_go;\r\n    }\r\n\r\n    clickBtnYes(){\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        //增加城墙的生命值\r\n        MazeManager.getInstance().setPassingId(this.box_id);\r\n        MazeManager.getInstance().setFightingId(this.box_id);\r\n        MazeManager.getInstance().addMazePassedId(this.box_id);        \r\n        //\r\n        let curHp=MazeManager.getInstance().getMazeHp();\r\n        let maxHp=MazeManager.getInstance().getMazeMaxHp();\r\n        curHp+=maxHp*0.5;\r\n        let hp=maxHp-curHp;\r\n        if(hp<0){\r\n            hp=0;\r\n        }\r\n        MazeManager.getInstance().setMazeSubHp(hp);\r\n        MazeUi.getInstance().refreshFloor();\r\n        super.onClose();\r\n        FollowManager.getInstance().followEvent(Follow_Type.rogue玩法治疗药水事件);\r\n    }\r\n\r\n    clickBtnNo(){\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        super.onClose();\r\n    }\r\n}\r\n"]}