{"version":3,"sources":["assets\\Scripts\\ZXEdit.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import MonsterNormal from \"./Monster/MonsterNormal\";\r\nimport { GameScene } from \"./Constants\";\r\nimport { MonsterDataManager } from \"./Monster/Data/MonsterDataManager\";\r\nimport GameManager from \"./GameManager\";\r\nimport { ZhenXingData } from \"./ZhenXingData\";\r\nimport HpTextHpManager from \"./Monster/HpTextManager\";\r\nimport { HttpManager } from \"./NetWork/HttpManager\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class ZXEdit extends cc.Component {\r\n\r\n    protected onLoad(): void {\r\n        cc.director.getCollisionManager().enabled = true;        \r\n        cc.director.getCollisionManager().enabledDebugDraw=true;\r\n    }\r\n\r\n    protected start(): void {        \r\n        this.show();\r\n        HttpManager.testAES(\"可以吗\");\r\n    }\r\n\r\n    show (){\r\n        // init logic\r\n        // let label=this.node.getChildByName('TestLabel').getComponent(cc.Label);\r\n        // label.string = 'this.text';\r\n        //  this.testAsync().then((str)=>{\r\n        //     label.string =str;\r\n        // }).catch((str)=>{\r\n        //     label.string =str;\r\n        // });\r\n        let nowDate=new Date();\r\n        let now=new Date().getTime()/1000;\r\n        let ssN=new Date().toLocaleString()\r\n        let yu=now%(24*60*60);\r\n        let ling=now-yu+(nowDate.getTimezoneOffset()*60);\r\n        let lngTime=new Date(ling*1000);\r\n        let h=lngTime.getHours();\r\n        let m=lngTime.getMinutes();\r\n        let s=lngTime.getSeconds();\r\n        //let ss3=lngTime.toTimeString()\r\n    }\r\n \r\n    async testAsync() : Promise<string> {\r\n        return new Promise<string>((resolve, reject)=>{\r\n            //resolve(\"liang miao yi hou \");\r\n            reject(\"a miao yi hou \");\r\n        });\r\n    }\r\n\r\n    clickBtnBossSkill(){\r\n        GameManager.getInstance().cur_game_scene=GameScene.game;\r\n        GameManager.getInstance().showBossWarning();\r\n    }\r\n\r\n    clickBtnCBoss(){\r\n        let ss=cc.find('Canvas/HPText_Root').getComponent(HpTextHpManager);\r\n        // ss.createHpTextHp(cc.v2(0,0),'-'+(Math.random()*9000+1000).toFixed(0),Enemy_Injured_Type.Normal_Attack);\r\n        // ss.createHpTextHp(cc.v2(0,0),'-'+(Math.random()*9000+1000).toFixed(0),Enemy_Injured_Type.BaoJi);        \r\n    }\r\n\r\n    clickBtnTTT(){\r\n        cc.director.loadScene('zhengxing');\r\n    }\r\n\r\n    clickBtnDownload()\r\n    {\r\n        //获取\r\n        let root=this.node.getChildByName('root');\r\n        //获取所有子节点\r\n        let otherPos=new Array();\r\n        let bossPos=cc.v2(0,0);\r\n        let buffPos=new Array();\r\n        let zhenRoot=root.children[0];\r\n        let len=zhenRoot.childrenCount;\r\n        for(let i=0; i<len; i++)\r\n        {\r\n            let node=zhenRoot.children[i];\r\n            let pos=cc.v2(node.x,node.y);\r\n            if(node.name=='1')\r\n            {\r\n                otherPos.push(pos);\r\n            }else if(node.name=='boss')\r\n            {\r\n                bossPos=pos;\r\n            }else if(node.name=='buff')\r\n            {\r\n                buffPos.push(pos);\r\n            }            \r\n        }\r\n        let zxData=new ZhenXingData();\r\n        zxData.boss_pos=bossPos;\r\n        zxData.buff_pos=buffPos;\r\n        zxData.other_pos=otherPos;\r\n        var jsonData=JSON.stringify(zxData);\r\n        let name=\"ZX\"+root.children[0].name;\r\n        this.saveForBrowser(jsonData,name+\".json\");\r\n    }\r\n\r\n    clickBtnTest()\r\n    {\r\n        let m2=this.node.getChildByName('Monster_02')\r\n        this.node.getChildByName('Monster_01').getComponent(MonsterNormal).setAttTarget(m2);\r\n\r\n    }\r\n\r\n    clickBtnTest1()\r\n    {\r\n\r\n        \r\n    }\r\n\r\n    saveForBrowser(textToWrite, fileNameToSaveAs) {\r\n        if (cc.sys.isBrowser) {\r\n            console.log(\"浏览器\");\r\n            let textFileAsBlob = new Blob([textToWrite], {type:'application/json'});\r\n            let downloadLink = document.createElement(\"a\");\r\n            downloadLink.download = fileNameToSaveAs;\r\n            downloadLink.innerHTML = \"Download File\";\r\n            if (window.webkitURL != null)\r\n            {\r\n                // Chrome allows the link to be clicked\r\n                // without actually adding it to the DOM.\r\n                downloadLink.href = window.webkitURL.createObjectURL(textFileAsBlob);\r\n            }\r\n            else\r\n            {\r\n                // Firefox requires the link to be added to the DOM\r\n                // before it can be clicked.\r\n                downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\r\n                downloadLink.onclick = destroyClickedElement;\r\n                downloadLink.style.display = \"none\";\r\n                document.body.appendChild(downloadLink);\r\n            }\r\n            downloadLink.click();\r\n        }\r\n    }\r\n\r\n}\r\n"]}