{"version":3,"sources":["assets\\Scripts\\GuaJi\\Ui\\OfflineUi.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import AdManager from \"../../Ads/AdManager\";\r\nimport ApkManager from \"../../Ads/ApkManager\";\r\nimport { IsDebug, VIDEO_TYPE } from \"../../Constants\";\r\nimport { EquipmentManager } from \"../../Equipment/EquipmentManager\";\r\nimport GameManager from \"../../GameManager\";\r\nimport { OfflineRevenueManager } from \"../../JsonData/OfflineRevenue\";\r\nimport { LevelManager } from \"../../Level/LevelManager\";\r\nimport { Follow_Type } from \"../../multiLanguage/FollowConstants\";\r\nimport FollowManager from \"../../multiLanguage/FollowManager\";\r\nimport { LanguageIndex } from \"../../multiLanguage/LanguageConstants\";\r\nimport LanguageManager from \"../../multiLanguage/LanguageManager\";\r\nimport { PropManager } from \"../../Prop/PropManager\";\r\nimport { PropId } from \"../../Prop/PropConfig\";\r\nimport { SoundIndex } from \"../../Sound/AudioConstants\";\r\nimport { EventManager, RedEventString, RedEventType } from \"../../Tools/EventManager\";\r\nimport { DingYueManager } from \"../../Payment/DingYueManager\";\r\nimport UIComponent from \"../../UI/UIComponent\";\r\nimport { UIManager } from \"../../UI/UIManager\";\r\nimport { UILayerLevel, UIPath } from \"../../UI/UIConfig\";\r\nimport FastGuaJiUi from \"./FastGuaJiUi\";\r\nimport MyTool from \"../../Tools/MyTool\";\r\nimport TaskManager from \"../../Task/TaskManager\";\r\nimport { TaskItem } from \"../../Task/TaskEnum\";\r\nimport { RewardData } from \"../../JsonData/LevelJsonData\";\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class OfflineUi extends UIComponent {\r\n\r\n    @property(cc.Prefab)\r\n    prefab_num:cc.Prefab=null;\r\n\r\n    @property(cc.SpriteFrame)\r\n    sp_vip:cc.SpriteFrame=null;//0=金币,1=英雄经验，2=玩家经验\r\n\r\n    reward_num0:number=60;\r\n    reward_num1:number=60;\r\n    reward_num2:number=60;\r\n    reward_equip_list:number[]=[];\r\n    reward_equip_num:number[]=[];\r\n    prop_reward:Map<number,number>=null;\r\n\r\n    onLoad(){\r\n        super.onLoad();\r\n        this.prop_reward=new Map<number,number>();\r\n    }\r\n\r\n    onEnable()\r\n    {\r\n        this.showGuaJiTime();\r\n        this.schedule(this.showGuaJiTime,1);\r\n        ApkManager.getInstance().showBanner();\r\n        this.showRewardList();\r\n    }\r\n\r\n    showGuaJiTime()\r\n    {\r\n        let offsetSec=OfflineRevenueManager.getGuaJiSec();\r\n        let shi=Math.floor(offsetSec/3600);\r\n        let shiStr='0'+shi;\r\n        if(shi>=10)\r\n        {\r\n            shiStr=''+shi;\r\n        }\r\n        let fen=Math.floor((offsetSec-shi*3600)/60);\r\n        let fenStr='0'+fen;\r\n        if(fen>=10)\r\n        {\r\n            fenStr=''+fen;\r\n        }\r\n        let miao=offsetSec%60;\r\n        let miaoStr='0'+miao;\r\n        if(miao>=10)\r\n        {\r\n            miaoStr=''+miao;\r\n        }\r\n        \r\n        let timeLabel=this.node.getChildByName('timeLabel').getComponent(cc.Label);\r\n        timeLabel.string= LanguageManager.getInstance().getStrByTextId(100117) + shiStr+':'+fenStr+':'+miaoStr;\r\n        // let timeProgressBar=this.node.getChildByName('timeProgressBar');\r\n        // timeProgressBar.getComponent(cc.ProgressBar).progress=offsetSec/(60*60*8);\r\n        //let level=GameData.getInstance().finish_level;  \r\n        \r\n        let offsetMin=Math.floor(offsetSec/60);\r\n        let level=LevelManager.getInstance().finish_level;\r\n        let maxMin=OfflineRevenueManager.getInstance().getTime(level);\r\n        if(offsetMin>maxMin)\r\n        {\r\n            offsetMin=maxMin;\r\n        }\r\n        if(offsetMin<0)\r\n        {\r\n            offsetMin=0;\r\n        }\r\n\r\n        let jsonData=OfflineRevenueManager.getInstance().getJsonOfflineRevenue(level);        \r\n        let coinLabel=this.node.getChildByName('coinLabel').getComponent(cc.Label);\r\n        coinLabel.string=MyTool.getCoinDanwei(jsonData.GetGold * 60)+'/h';\r\n        let heroExpLabel=this.node.getChildByName('heroExpLabel').getComponent(cc.Label);\r\n        heroExpLabel.string=jsonData.GetHeroExp+'/min';\r\n        let userExpLabel=this.node.getChildByName('userExpLabel').getComponent(cc.Label);\r\n        userExpLabel.string=jsonData.GetPromotion+'/min';\r\n        let remainMin=offsetMin-OfflineRevenueManager.getInstance().getRefreshTime();\r\n        if(remainMin>0){\r\n            this.showRewardList();\r\n        }\r\n        //设置领取按钮\r\n        let btnGet=this.node.getChildByName('btnGet');\r\n        let claimText=btnGet.getChildByName('claimText');\r\n        // let btnVideo=this.node.getChildByName('btnVideo');\r\n        let richText=this.node.getChildByName('richText');\r\n        let needMin=IsDebug?1:60;\r\n        if(offsetMin>=needMin){\r\n            // btnGet.x=0;\r\n            // btnGet.y=-280;\r\n            // btnGet.getComponent(cc.Button).interactable=true;\r\n            // claimText.color=cc.color(63,45,33);\r\n            // btnVideo.active=true;\r\n            // richText.active=false;\r\n\r\n        }else{\r\n            // btnGet.x=0;\r\n            // btnGet.y=-247;\r\n            // btnGet.getComponent(cc.Button).interactable=false;\r\n            // claimText.getComponent(cc.LabelOutline).color = cc.color(138,138,138);\r\n            // btnVideo.active=false;\r\n            // richText.active=true;\r\n            // let str1=LanguageManager.getInstance().getString(LanguageIndex.You_can_claim_after);\r\n            // offsetSec=3600-offsetSec;\r\n            // let fen=Math.floor((offsetSec-shi*3600)/60);\r\n            // fenStr='0'+fen;\r\n            // if(fen>=10)\r\n            // {\r\n            //     fenStr=''+fen;\r\n            // }\r\n            // miao=offsetSec%60;\r\n            // miaoStr='0'+miao;\r\n            // if(miao>=10)\r\n            // {\r\n            //     miaoStr=''+miao;\r\n            // }\r\n            // let str2=fenStr+':'+miaoStr;\r\n            // richText.ge tComponent(cc.RichText).string=\"<b>\"+LanguageManager.getInstance().getString(LanguageIndex.You_can_claim_after)+\"</b>\";\r\n        }\r\n    }\r\n\r\n    //显示挂机奖励的列表\r\n    showRewardList(){\r\n        let rewardScrollview=this.node.getChildByName('rewardScrollview').getComponent(cc.ScrollView);\r\n        let content=rewardScrollview.content;\r\n        content.removeAllChildren();\r\n        let numRoot=content.parent.getChildByName('num_root');\r\n        numRoot.removeAllChildren();\r\n        let equipRoot=content.parent.getChildByName('equip_root');\r\n        equipRoot.removeAllChildren();\r\n        //添加金币等资源列表\r\n        let level=LevelManager.getInstance().finish_level;\r\n        let jsonData=OfflineRevenueManager.getInstance().getJsonOfflineRevenue(level);\r\n        let offsetMin=OfflineRevenueManager.getGuaJiMin();\r\n        //金币\r\n        let coinNum=jsonData.GetGold*offsetMin;\r\n        //英雄经验\r\n        let heroExpNum=jsonData.GetHeroExp*offsetMin;        \r\n        //玩家经验\r\n        let userExpNum=jsonData.GetPlayerExp*offsetMin;\r\n        //晋升石头\r\n        let stonePromotion=Math.floor(jsonData.GetPromotion*offsetMin);\r\n        //普通精炼石\r\n        let jinglian1=Math.floor(jsonData.GetOrdinaryEnhancementStone*offsetMin);\r\n        //中级精炼石\r\n        let jinglian2=Math.floor(jsonData.GetIntermediateEnhancementStone*offsetMin);\r\n        //高级精炼石\r\n        let jinglian3=Math.floor(jsonData.GetSeniorEnhancementStone*offsetMin);\r\n        this.reward_num0=coinNum;\r\n        this.reward_num1=heroExpNum;\r\n        this.reward_num2=userExpNum;\r\n        //判断一下是否VIP\r\n        let item = null;        \r\n        if(coinNum>0){\r\n            coinNum=Math.floor(coinNum);\r\n            item = PropManager.getInstance().createPropItem(PropId.Coin,coinNum)\r\n            content.addChild(item);\r\n            this.prop_reward.set(PropId.Coin,coinNum);\r\n        }\r\n        if(heroExpNum>0){\r\n            heroExpNum=Math.floor(heroExpNum);\r\n            item = PropManager.getInstance().createPropItem(PropId.HeroExp,heroExpNum)\r\n            content.addChild(item);\r\n            this.prop_reward.set(PropId.HeroExp,heroExpNum);\r\n        }\r\n        if(userExpNum>0){\r\n            item = PropManager.getInstance().createPropItem(PropId.UserExp,userExpNum)\r\n            content.addChild(item);\r\n            this.prop_reward.set(PropId.UserExp,userExpNum);\r\n        }\r\n        if(stonePromotion>0){\r\n            stonePromotion=Math.floor(stonePromotion);\r\n            item = PropManager.getInstance().createPropItem(PropId.HeroStone,stonePromotion)\r\n            content.addChild(item);\r\n            this.prop_reward.set(PropId.HeroStone,stonePromotion);\r\n        }\r\n        if(jinglian1>0){\r\n            item = PropManager.getInstance().createPropItem(PropId.ExclusiveWeaponStone1,jinglian1)\r\n            content.addChild(item);\r\n            this.prop_reward.set(PropId.ExclusiveWeaponStone1,jinglian1);\r\n        }\r\n        if(jinglian2>0){\r\n            item = PropManager.getInstance().createPropItem(PropId.ExclusiveWeaponStone2,jinglian2)\r\n            content.addChild(item);\r\n            this.prop_reward.set(PropId.ExclusiveWeaponStone2,jinglian2);\r\n        }\r\n        if(jinglian3>0){\r\n            item = PropManager.getInstance().createPropItem(PropId.ExclusiveWeaponStone3,jinglian3)\r\n            content.addChild(item);\r\n            this.prop_reward.set(PropId.ExclusiveWeaponStone3,jinglian3);\r\n        }\r\n        //添加装备id列表\r\n        let idList=OfflineRevenueManager.getInstance().getNowEquipIdList();\r\n\r\n        let len=idList.length;\r\n        let em=EquipmentManager.getInstance();\r\n        this.reward_equip_list=new Array();\r\n        this.reward_equip_num=new Array();\r\n        //筛选出所有唯一id\r\n        for(let i=0; i<len; i++)\r\n        {\r\n            let id=idList[i];\r\n            let index=this.reward_equip_list.indexOf(id);\r\n            if(index==-1){\r\n                this.reward_equip_list.push(id);\r\n                this.reward_equip_num.push(1);\r\n            }else{\r\n                this.reward_equip_num[index]++;\r\n            }\r\n        }\r\n        len=this.reward_equip_list.length;\r\n        for(let i=0;i<len;i++){\r\n            let item=em.getEquipNodeById(this.reward_equip_list[i]);\r\n            content.addChild(item);            \r\n        }\r\n    }\r\n\r\n    addCoin(){\r\n        \r\n    }\r\n\r\n    // createKuang(kuangIndex:number):cc.Node{\r\n    //     let kuang=new cc.Node();\r\n    //     kuang.addComponent(cc.Sprite).spriteFrame=this.sp_kuang[kuangIndex];\r\n    //     return kuang;\r\n    // }\r\n\r\n    // createWupin(kuangIndex:number,isVip:boolean,num:number):cc.Node{\r\n    //     let content=this.node.getChildByName('rewardScrollview').getComponent(cc.ScrollView).content;\r\n    //     let numRoot=content.parent.getChildByName('num_root');\r\n    //     //框\r\n    //     let kuang=this.createKuang(kuangIndex);               \r\n    //     let node=new cc.Node();\r\n    //     node.addComponent(cc.Sprite).spriteFrame=this.sp_wupin[kuangIndex];\r\n    //     kuang.addChild(node);\r\n    //     let numLabel=cc.instantiate(this.prefab_num);\r\n    //     numLabel.getComponent(cc.Label).string=MyTool.getCoinDanwei(num);\r\n    //     numLabel.setAnchorPoint(cc.v2(0,0.5));\r\n    //     numLabel.getComponent(FixedPos).init(kuang,cc.v2(-16,-32.5),content);\r\n    //     numRoot.addChild(numLabel);\r\n    //     //vip标识\r\n    //     if(isVip){\r\n    //         let vipNode=new cc.Node();\r\n    //         vipNode.addComponent(cc.Sprite).spriteFrame=this.sp_vip;\r\n    //         vipNode.setPosition(cc.v2(36,44));\r\n    //         kuang.addChild(vipNode);\r\n    //     }\r\n    //     content.addChild(kuang);\r\n    //     switch(kuangIndex){\r\n    //         case 0:{\r\n    //             kuang.name=\"coin\"; \r\n    //             node.name=\"coin\"; \r\n    //         }break;\r\n    //     }\r\n    //     return node;\r\n    // }\r\n\r\n    clickBtnFive()\r\n    {\r\n        FollowManager.getInstance().followEvent(Follow_Type.挂机奖励5倍领取用户数);\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        if(this.reward_num0>0)\r\n        {\r\n            AdManager.getInstance().showVideo((isSuc:boolean)=>{\r\n                if(isSuc)\r\n                {\r\n                    this.getReward(3);\r\n                }else{\r\n                    GameManager.getInstance().showMessage(LanguageManager.getInstance().getString(LanguageIndex.The_ad_failed_to_play_and_the_reward_cannot_be_obtained));\r\n                }\r\n            },VIDEO_TYPE.Coin);\r\n        }\r\n    }\r\n\r\n    clickBtnClaim()\r\n    {\r\n        // FollowManager.getInstance().followEvent(Follow_Type.挂机奖励普通领取用户数);\r\n        FollowManager.getInstance().followEvent(Follow_Type.获取离线奖励次数);\r\n        TaskManager.getInstance().emitTask(TaskItem.领取挂机奖励2次);\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        if(this.reward_num0>0)\r\n        {\r\n            this.getReward(1);\r\n            EventManager.postRedEvent(RedEventString.RED_TIP,RedEventType.Btn_Main_Guaji_Btn_GuaJi,false);\r\n        }else{\r\n            GameManager.getInstance().showMessage(LanguageManager.getInstance().getStrByTextId(100115));\r\n        }\r\n    }\r\n\r\n    clickBtnFast(){\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        this.destroySelf();\r\n        FollowManager.getInstance().followEvent(Follow_Type.快速挂机按钮点击次数);\r\n        UIManager.getInstance().showUiDialog(UIPath.FastGuaJi,UILayerLevel.One,{onCompleted:(uiNode)=>{\r\n            uiNode.getComponent(FastGuaJiUi).init(null);\r\n        }});\r\n    }\r\n\r\n    clickBtnClose()\r\n    {\r\n        GameManager.getInstance().sound_manager.playSound(SoundIndex.click);\r\n        EventManager.postRedEvent(RedEventString.RED_CHECK,RedEventType.Btn_Main_Guaji);\r\n        this.destroySelf();\r\n    }\r\n\r\n    getReward(beishu:number)\r\n    {\r\n        let nodeList=new Array();                \r\n        let em=EquipmentManager.getInstance();\r\n        this.prop_reward.forEach((v,k)=>{\r\n            PropManager.getInstance().changePropNum(k,v);\r\n            let item=PropManager.getInstance().createPropItem(k,v);\r\n            nodeList.push(item);\r\n        })\r\n        //获取装备列表\r\n        // let len=this.reward_equip_list.length;        \r\n        // for(let i=0;i<len;i++){\r\n            \r\n        //     let id=this.reward_equip_list[i];\r\n        //     PropManager.getInstance().changePropNum(id,1);\r\n        //     let item=em.getEquipNodeById(id);                       \r\n        //     let numLabel=cc.instantiate(this.prefab_num);\r\n        //     numLabel.getComponent(cc.Label).string=''+this.reward_equip_num[i];\r\n        //     numLabel.setPosition(cc.v2(40,-36));\r\n        //     item.addChild(numLabel);\r\n        //     nodeList.push(item);\r\n        // }\r\n        let rewardDatas = [];\r\n        let len=this.reward_equip_list.length;        \r\n        for(let i=0;i<len;i++){\r\n            let info = new RewardData();\r\n            info.reward_id=this.reward_equip_list[i];\r\n            info.reward_num = this.reward_equip_num[i];\r\n            rewardDatas.push(info);\r\n        }\r\n\r\n        let rewardMap = new Map<number,number>();\r\n        rewardDatas.forEach((v,k)=>{\r\n            if(rewardMap.has(v.reward_id)){\r\n                let num = rewardMap.get(v.reward_id);\r\n                num += v.reward_num;\r\n                rewardMap.set(v.reward_id,num);\r\n            }else{\r\n                rewardMap.set(v.reward_id,v.reward_num);\r\n            }\r\n        })\r\n        rewardMap.forEach((num,id)=>{\r\n            let item=PropManager.getInstance().createPropItem(id,num);\r\n            PropManager.getInstance().changePropNum(id,num);\r\n            nodeList.push(item);\r\n        });\r\n        OfflineRevenueManager.saveGuaJiTime();\r\n        GameManager.getInstance().showMultipleGetTip(nodeList);\r\n        this.showRewardList();\r\n        super.onRefresh();\r\n        this.destroySelf();\r\n    }\r\n\r\n    destroySelf(){\r\n        super.onClose();\r\n        ApkManager.getInstance().closeBanner();\r\n    }\r\n}\r\n"]}