window.__require=function e(t,a,n){function o(r,s){if(!a[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var g=a[r]={exports:{}};t[r][0].call(g.exports,function(e){return o(t[r][1][e]||e)},g,g.exports,e,t,a,n)}return a[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<n.length;r++)o(n[r]);return o}({ABTestManager:[function(e,t,a){"use strict";cc._RF.push(t,"2be3cgIck9BuIpDd9zGYYeE","ABTestManager"),Object.defineProperty(a,"__esModule",{value:!0});var n=e("../Ads/ApkManager"),o=function(){this.rank_show=!0},i=function(){function e(){this.ab_test_par=null}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.ab_test_par=new o,n.default.getInstance().getABTestPar()},e.prototype.setABTestPar=function(e){var t=JSON.parse(e),a=new o;a.rank_show=t.rank_show,this.ab_test_par=a},e.prototype.getABTestPar=function(){return this.ab_test_par},e._instance=null,e}();a.default=i,cc._RF.pop()},{"../Ads/ApkManager":"ApkManager"}],ANuBiSi:[function(e,t,a){"use strict";cc._RF.push(t,"3d485dXvIlOqpCwC1ASUTa0","ANuBiSi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Constants"),s=e("../../../Game/FightingManager"),c=e("../../../Game/GameEffectsManager"),l=e("../../../Game/GroundManager"),g=e("../../../Game/SkillManager"),u=e("../../../Game/SkyManager"),p=e("../../../GameManager"),d=e("../../../Monster/Monster"),h=e("../../../Monster/MonsterData"),f=e("../../../Monster/MonsterManager"),_=e("../../../Sound/AudioConstants"),m=e("../../Skill/FullScreenDamage"),y=e("../Hero"),I=e("../HeroConfig"),v=e("./KuangSha"),M=e("./ShaChenBao"),C=e("./ShaDan"),S=cc._decorator,P=S.ccclass,k=S.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab_beidong_2=null,t.full_screen_damage=null,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.a_nu_bi_si_attack,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.a_nu_bi_si_attack_hit,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.a_nu_bi_si_beidong_skill_1,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.a_nu_bi_si_active_skill_1,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.a_nu_bi_si_active_skill_wind,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.a_nu_bi_si_active_skill_line,4),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.a_nu_bi_si_active_skill_ring,2),this.addSkillListen(this.useSkill),this.addAttackListen(this.normalAttack),this.addXuanYunListen(this.onXuanYunResult),this.addHitListen(this.onHitMonster)},t.prototype.start=function(){e.prototype.start.call(this),this.is_need_check_distance=!0;var t=2*this.hero_data.getSkillValue1(I.SkillType.Active);e.prototype.setSkillTipSize.call(this,t,t),this.hero_data.getIsUnlock(I.SkillType.Passive_2)&&this.createFullScreenDamage()},t.prototype.createFullScreenDamage=function(){var e=cc.instantiate(this.prefab_beidong_2);cc.find("Canvas/Hero_Shadow_Root").addChild(e),e.setPosition(this.node.getPosition()),this.full_screen_damage=e.getComponent(m.default),this.full_screen_damage.init(c.GameEffectId.a_nu_bi_si_beidong_skill_2,1,this.onSkillDamage2.bind(this))},t.prototype.onSkillDamage2=function(){for(var t=f.default.getInstance().node.children,a=t.length,n=0;n<a;n++){var o=t[n].getComponent(d.default);o&&(o.isHaveDeBuffType(I.BuffType.Slowdown)||o.isHaveDeBuffType(I.BuffType.Vertigo))&&o.beFlashInjured(e.prototype.getGongJiData.call(this,I.DamageType.Skill,!1,I.SkillType.Passive_2,this.hero_data.getSkillValue1(I.SkillType.Passive_2)))}},t.prototype.onXuanYunResult=function(e){e?this.unscheduleAllCallbacks():this.setHeroState(I.Hero_State.idle,I.GongJi_FangXiang.zhong)},t.prototype.starteIdle=function(){this.setHeroState(I.Hero_State.idle,this.cur_fangxiang)},t.prototype.onHitMonster=function(){},t.prototype.createShaDan=function(e,t,a,n,o){var i=s.default.getInstance().createGameEffectById(e,t);return i.getComponent(C.default).init(e,a,n,o),i},t.prototype.getSJFXByPos=function(e,t){var a=I.GongJi_FangXiang.zhong,n=e.sub(t),o=2*Math.PI,i=(Math.atan2(n.y,n.x)+o)%o*180/Math.PI;return i<=75?a=I.GongJi_FangXiang.you:i>75&&i<105?a=I.GongJi_FangXiang.zhong:i>=105&&i<=180&&(a=I.GongJi_FangXiang.zuo),a},t.prototype.normalAttack=function(e){p.default.getInstance().cur_game_state==r.GameState.Game_Playing&&this.startAttack(e)},t.prototype.startAttack=function(t){var a=this;this.is_can_gongji=!1;var n=this.getSJFXByPos(t.getPosition(),this.node.getPosition()),o=new h.KeyFrameData;o.name="Attack",o.callback=function(){var n=t.getComponent(d.default).getSheShouPos(),o=a.getCreateBulletPos(),i=n.sub(o),r=Math.atan2(i.y,i.x),s=e.prototype.getGongJiData.call(a,I.DamageType.Normal,!0,I.SkillType.Null);a.createShaDan(c.GameEffectId.a_nu_bi_si_attack,o,a.bullet_speed,r,s),p.default.getInstance().sound_manager.playSound(_.SoundIndex.YX_ANBSAttack),a.is_double_attack?a.resetNormalAttack():a.gongji_jishu=0},e.prototype.setHeroState.call(this,I.Hero_State.attack,n,[o],function(){e.prototype.setHeroState.call(a,I.Hero_State.idle,n)})},t.prototype.useSkill=function(e){var t=this;return g.default.getInstance().releaseSkill(function(){t.startSelfXuLi(e)},this.node),2},t.prototype.startSelfXuLi=function(e){var t=this,a=cc.find("Canvas/Hero_Root"),n=new h.KeyFrameData;n.name="FaShe",n.callback=function(){g.default.getInstance().setTimeStop(!1),t.node.parent=a,t.node.zIndex=2,t.startLaunch(e)},this.setHeroState(I.Hero_State.skill,I.GongJi_FangXiang.zhong,[n],function(){t.resetGongJiJiShu(),t.setHeroState(I.Hero_State.idle,I.GongJi_FangXiang.zhong)}),this.spine.timeScale=r.JiaSu},t.prototype.startLaunch=function(t){e.prototype.setAttSpineScale.call(this),this.resetGongJiJiShu();var a=this.hero_data.ExclusiveWeaponSkillValue_1,n=0;a&&a>0&&(n=a),l.default.getInstance().createGameEffectById(c.GameEffectId.a_nu_bi_si_active_skill_1,t).getComponent(M.default).init(e.prototype.getGongJiData.call(this,I.DamageType.Skill,!1,I.SkillType.Active,this.hero_data.getSkillValue2(I.SkillType.Active)),5+n,1,this.hero_data.getSkillValue1(I.SkillType.Active)),g.default.getInstance().setIsSkillState(!1),u.default.getInstance().createGameEffectById(c.GameEffectId.a_nu_bi_si_active_skill_wind,cc.v2(0,-cc.winSize.height/2)).getComponent(v.default).init(5+n,this.hero_data.getSkillValue3(I.SkillType.Active))},i([k(cc.Prefab)],t.prototype,"prefab_beidong_2",void 0),i([P],t)}(y.default);a.default=b,cc._RF.pop()},{"../../../Constants":"Constants","../../../Game/FightingManager":"FightingManager","../../../Game/GameEffectsManager":"GameEffectsManager","../../../Game/GroundManager":"GroundManager","../../../Game/SkillManager":"SkillManager","../../../Game/SkyManager":"SkyManager","../../../GameManager":"GameManager","../../../Monster/Monster":"Monster","../../../Monster/MonsterData":"MonsterData","../../../Monster/MonsterManager":"MonsterManager","../../../Sound/AudioConstants":"AudioConstants","../../Skill/FullScreenDamage":"FullScreenDamage","../Hero":"Hero","../HeroConfig":"HeroConfig","./KuangSha":"KuangSha","./ShaChenBao":"ShaChenBao","./ShaDan":"ShaDan"}],AccumulatedInformation:[function(e,t,a){"use strict";cc._RF.push(t,"0a878gKyddBMrpvSygQG8ov","AccumulatedInformation"),Object.defineProperty(a,"__esModule",{value:!0}),a.AccumulatedInformationManager=a.JsonAccumulatedInformation=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.AccumulatedPointsID=0,this.TaskType=0,this.AccumulatedPoints=0,this.PropID_1=0,this.PropNum_1=0};a.JsonAccumulatedInformation=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("AccumulatedInformation",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonAccumulatedInformation\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.AccumulatedPointsID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonAccumulatedInformation=function(e){return this.data.get(e)},e.prototype.getTaskType=function(e){return this.data.get(e).TaskType},e.prototype.getAccumulatedPoints=function(e){return this.data.get(e).AccumulatedPoints},e.prototype.getPropID_1=function(e){return this.data.get(e).PropID_1},e.prototype.getPropNum_1=function(e){return this.data.get(e).PropNum_1},e.getMaxAccumulatedPointsID=function(){return 250010},e.prototype.getRewardByTaskType=function(e){var t=[];return this.data.forEach(function(a){a.TaskType==e&&t.push(a)}),t},e._instance=null,e}();a.AccumulatedInformationManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],AccumulatedRechargeItem:[function(e,t,a){"use strict";cc._RF.push(t,"72ae8/hW1VNx6NayQEkeRRp","AccumulatedRechargeItem");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e(".././NetWork/HttpManager"),s=e("../CoinPop"),c=e("../GameManager"),l=e("../multiLanguage/FollowConstants"),g=e("../multiLanguage/FollowManager"),u=e("../multiLanguage/TextLanguage"),p=e("../Prop/PropConfig"),d=e("../Prop/PropManager"),h=e("../Sound/AudioConstants"),f=e("../UI/UIConfig"),_=e("../UI/UIManager"),m=e("../UserData"),y=e("../UserInfo/UserInfo"),I=e("./AccumulatedRechargeUi"),v=e("./CumulativeRecharges"),M=cc._decorator,C=M.ccclass,S=(M.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.message=null,t}return o(t,e),t.prototype.initGoingItem=function(e){this.message=e;var t=y.UserInfo.getInstance().payGem;this.node.getChildByName("label1").getComponent(u.default).setReplaceValue("~",e.DiamondRechargePrice+""),this.node.getChildByName("label2").getComponent(cc.Label).string=t+"/"+e.DiamondRechargePrice,this.node.getChildByName("Cumulative_Bar_1").getComponent(cc.Sprite).fillRange=t/e.DiamondRechargePrice;var a=this.node.getChildByName("itemRoot");if(0==a.childrenCount){var n=d.PropManager.getInstance().createPropItem(e.Item1_ID,e.Item1_Num),o=d.PropManager.getInstance().createPropItem(e.Item2_ID,e.Item2_Num),i=d.PropManager.getInstance().createPropItem(e.Item3_ID,e.Item3_Num);n.scale=.75,o.scale=.75,i.scale=.75,a.addChild(n),a.addChild(o),a.addChild(i)}var r=this.node.getChildByName("receiveBtn");r.getComponent(cc.Button).interactable=!0;var s=r.getComponentInChildren(u.default);s.setTextId(100034),s.setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite"))},t.prototype.initFinishItem=function(e){this.message=e,this.node.getChildByName("label1").getComponent(u.default).setReplaceValue("~",e.DiamondRechargePrice+""),this.node.getChildByName("label2").getComponent(cc.Label).string=e.DiamondRechargePrice+"/"+e.DiamondRechargePrice,this.node.getChildByName("Cumulative_Bar_1").getComponent(cc.Sprite).fillRange=e.DiamondRechargePrice/e.DiamondRechargePrice;var t=this.node.getChildByName("itemRoot");if(0==t.childrenCount){var a=d.PropManager.getInstance().createPropItem(e.Item1_ID,e.Item1_Num),n=d.PropManager.getInstance().createPropItem(e.Item2_ID,e.Item2_Num),o=d.PropManager.getInstance().createPropItem(e.Item3_ID,e.Item3_Num);a.scale=.75,n.scale=.75,o.scale=.75,t.addChild(a),t.addChild(n),t.addChild(o)}var i=this.node.getChildByName("receiveBtn");i.getComponent(cc.Button).interactable=!0;var r=i.getComponentInChildren(u.default);r.setTextId(100011),r.setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite"))},t.prototype.initReceivedItem=function(e){this.message=e,this.node.getChildByName("label1").getComponent(u.default).setReplaceValue("~",e.DiamondRechargePrice+""),this.node.getChildByName("label2").getComponent(cc.Label).string=e.DiamondRechargePrice+"/"+e.DiamondRechargePrice,this.node.getChildByName("Cumulative_Bar_1").getComponent(cc.Sprite).fillRange=e.DiamondRechargePrice/e.DiamondRechargePrice;var t=this.node.getChildByName("itemRoot");if(0==t.childrenCount){var a=d.PropManager.getInstance().createPropItem(e.Item1_ID,e.Item1_Num);(n=new cc.Node).name="bbbg",n.addComponent(cc.Sprite).spriteFrame=d.PropManager.getInstance().getSpByName("Item_frame_Dark"),(o=new cc.Node).addComponent(cc.Sprite).spriteFrame=d.PropManager.getInstance().getSpByName("SignIn_Got"),n.opacity=150,a.addChild(n),a.addChild(o),a.scale=.75,t.addChild(a),a=d.PropManager.getInstance().createPropItem(e.Item2_ID,e.Item2_Num),(n=new cc.Node).addComponent(cc.Sprite).spriteFrame=d.PropManager.getInstance().getSpByName("Item_frame_Dark"),(o=new cc.Node).addComponent(cc.Sprite).spriteFrame=d.PropManager.getInstance().getSpByName("SignIn_Got"),n.opacity=150,a.addChild(n),a.addChild(o),a.scale=.75,t.addChild(a),a=d.PropManager.getInstance().createPropItem(e.Item3_ID,e.Item3_Num),(n=new cc.Node).addComponent(cc.Sprite).spriteFrame=d.PropManager.getInstance().getSpByName("Item_frame_Dark"),(o=new cc.Node).addComponent(cc.Sprite).spriteFrame=d.PropManager.getInstance().getSpByName("SignIn_Got"),n.opacity=150,a.addChild(n),a.addChild(o),a.scale=.75,t.addChild(a)}else if(null==t.children[0].getChildByName("bbbg")){var n,o;a=t.children[0],(n=new cc.Node).name="bbbg",n.addComponent(cc.Sprite).spriteFrame=d.PropManager.getInstance().getSpByName("Item_frame_Dark"),(o=new cc.Node).addComponent(cc.Sprite).spriteFrame=d.PropManager.getInstance().getSpByName("SignIn_Got"),n.opacity=150,a.addChild(n),a.addChild(o),a=t.children[1],(n=new cc.Node).addComponent(cc.Sprite).spriteFrame=d.PropManager.getInstance().getSpByName("Item_frame_Dark"),(o=new cc.Node).addComponent(cc.Sprite).spriteFrame=d.PropManager.getInstance().getSpByName("SignIn_Got"),n.opacity=150,a.addChild(n),a.addChild(o),a=t.children[2],(n=new cc.Node).addComponent(cc.Sprite).spriteFrame=d.PropManager.getInstance().getSpByName("Item_frame_Dark"),(o=new cc.Node).addComponent(cc.Sprite).spriteFrame=d.PropManager.getInstance().getSpByName("SignIn_Got"),n.opacity=150,a.addChild(n),a.addChild(o)}var i=this.node.getChildByName("receiveBtn");i.getComponent(cc.Button).interactable=!1;var r=i.getComponentInChildren(u.default);r.setTextId(100013),r.setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite"))},t.prototype.onBtnClick=function(){var e=this;c.default.getInstance().sound_manager.playSound(h.SoundIndex.click);var t=v.CumulativeRechargesManager.getInstance().rewardMap.get(this.message.CumulativeRechargeID);0==t?_.UIManager.getInstance().showUiDialog(f.UIPath.CoinPop,f.UILayerLevel.Two,{onCompleted:function(t){t.getComponent(s.default).init({onClose:function(){e.node.parent.parent.parent.parent.getComponent(I.default).refreshUi()}}),t.getComponent(s.default).initUi(p.PropId.Gem)}}):1==t&&(d.PropManager.getInstance().changePropNum(this.message.Item1_ID,this.message.Item1_Num),d.PropManager.getInstance().changePropNum(this.message.Item2_ID,this.message.Item2_Num),d.PropManager.getInstance().changePropNum(this.message.Item3_ID,this.message.Item3_Num),r.HttpManager.post(r.AccessName.saveGameTask,this.setUserTaskJsonString()),g.default.getInstance().followEvent(l.Follow_Type.\u7d2f\u8ba1\u5145\u503c\u6bcf\u4e00\u6863\u7684\u9886\u53d6\u6b21\u6570x+this.message.CumulativeRechargeID),v.CumulativeRechargesManager.getInstance().modifyData(this.message),this.initReceivedItem(this.message),c.default.getInstance().showMultipleGetTip([d.PropManager.getInstance().createPropItem(this.message.Item1_ID,this.message.Item1_Num),d.PropManager.getInstance().createPropItem(this.message.Item2_ID,this.message.Item2_Num),d.PropManager.getInstance().createPropItem(this.message.Item3_ID,this.message.Item3_Num)]))},t.prototype.setUserTaskJsonString=function(){var e=m.default.getInstance().getUserID();return JSON.stringify({createTime:"",id:"",playLevel:this.message.CumulativeRechargeID,rewardType:6,uid:e})},i([C],t)}(cc.Component));a.default=S,cc._RF.pop()},{".././NetWork/HttpManager":"HttpManager","../CoinPop":"CoinPop","../GameManager":"GameManager","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../UI/UIConfig":"UIConfig","../UI/UIManager":"UIManager","../UserData":"UserData","../UserInfo/UserInfo":"UserInfo","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/TextLanguage":"TextLanguage","./AccumulatedRechargeUi":"AccumulatedRechargeUi","./CumulativeRecharges":"CumulativeRecharges"}],AccumulatedRechargeUi:[function(e,t,a){"use strict";cc._RF.push(t,"6d22av3ac1BWLqh/voWp9OK","AccumulatedRechargeUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Ads/ApkManager"),s=e("../GameManager"),c=e("../Prop/Data/Item"),l=e("../Prop/PropManager"),g=e("../Sound/AudioConstants"),u=e("../Tools/EventManager"),p=e("../UI/UIComponent"),d=e("./AccumulatedRechargeItem"),h=e("./CumulativeRecharges"),f=cc._decorator,_=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.accumulated_recharge_ui=null,t}return o(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t),this.refreshUi()},t.prototype.refreshUi=function(){var e=this,t=this.node.getChildByName("scroll").getComponent(cc.ScrollView).content,a=h.CumulativeRechargesManager.getInstance().rewardMap;if(0==t.childrenCount){var n=new Map;a.forEach(function(a,o){var i=h.CumulativeRechargesManager.getInstance().getJsonCumulativeRecharges(o);if(0==n.has(i.Item1_ID)&&3!=c.ItemManager.getInstance().getType(i.Item1_ID))n.set(i.Item1_ID,i.Item1_Num);else if(1==n.has(i.Item1_ID)){var r=n.get(i.Item1_ID)+i.Item1_Num;n.set(i.Item1_ID,r)}0==n.has(i.Item2_ID)&&3!=c.ItemManager.getInstance().getType(i.Item2_ID)?n.set(i.Item2_ID,i.Item2_Num):1==n.has(i.Item2_ID)&&(r=n.get(i.Item2_ID)+i.Item2_Num,n.set(i.Item2_ID,r)),0==n.has(i.Item3_ID)&&3!=c.ItemManager.getInstance().getType(i.Item3_ID)?n.set(i.Item3_ID,i.Item3_Num):1==n.has(i.Item3_ID)&&(r=n.get(i.Item3_ID)+i.Item3_Num,n.set(i.Item3_ID,r));var s=cc.instantiate(e.accumulated_recharge_ui);s.name="item"+i.CumulativeRechargeID,0==a?s.getComponent(d.default).initGoingItem(i):1==a?s.getComponent(d.default).initFinishItem(i):s.getComponent(d.default).initReceivedItem(i),t.addChild(s)});var o=this.node.getChildByName("itemRoot");n.forEach(function(e,t){var a=l.PropManager.getInstance().createPropItem(t,e);a.scale=.75,o.addChild(a)})}else a.forEach(function(e,a){var n=h.CumulativeRechargesManager.getInstance().getJsonCumulativeRecharges(a),o=t.getChildByName("item"+n.CumulativeRechargeID);0==e?o.getComponent(d.default).initGoingItem(n):1==e?o.getComponent(d.default).initFinishItem(n):o.getComponent(d.default).initReceivedItem(n)})},t.prototype.clickBtnClose=function(){s.default.getInstance().sound_manager.playSound(g.SoundIndex.click),this.destroySelf()},t.prototype.destroySelf=function(){e.prototype.onClose.call(this),r.default.getInstance().closeBanner(),u.EventManager.postRedEvent(u.RedEventString.RED_CHECK,u.RedEventType.Btn_Main_LeiChong)},i([m(cc.Prefab)],t.prototype,"accumulated_recharge_ui",void 0),i([_],t)}(p.default);a.default=y,cc._RF.pop()},{"../Ads/ApkManager":"ApkManager","../GameManager":"GameManager","../Prop/Data/Item":"Item","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../Tools/EventManager":"EventManager","../UI/UIComponent":"UIComponent","./AccumulatedRechargeItem":"AccumulatedRechargeItem","./CumulativeRecharges":"CumulativeRecharges"}],AchievenmentTask:[function(e,t,a){"use strict";cc._RF.push(t,"7e483WcloJJ+4vv7r/D0y5p","AchievenmentTask"),Object.defineProperty(a,"__esModule",{value:!0}),a.AchievenmentTaskManager=a.JsonAchievenmentTask=void 0;var n=e("../../Loading/LoadManager"),o=e("../../Storage/StorageConfig"),i=e("../../Storage/StorageManager"),r=function(){this.TaskID=0,this.AchievenmentTaskType=0,this.AchievenmentTaskPhase=0,this.TaskDescription=0,this.TaskParameters=0,this.RewardPropID=0,this.RewardPropNum=0};a.JsonAchievenmentTask=r;var s=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("AchievenmentTask",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonAchievenmentTask\u6210\u529f"),e.data=new Map;for(var n=a.json,o=0;o<n.length;o++){var i=new r;i=n[o],e.data.set(i.TaskID,i)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonAchievenmentTask=function(e){return this.data.get(e)},e.prototype.getAchievenmentTaskType=function(e){return this.data.get(e).AchievenmentTaskType},e.prototype.getAchievenmentTaskPhase=function(e){return this.data.get(e).AchievenmentTaskPhase},e.prototype.getTaskDescription=function(e){return this.data.get(e).TaskDescription},e.prototype.getTaskParameters=function(e){return this.data.get(e).TaskParameters},e.prototype.getRewardPropID=function(e){return this.data.get(e).RewardPropID},e.prototype.getRewardPropNum=function(e){return this.data.get(e).RewardPropNum},e.getMaxTaskID=function(){return 700006},e.prototype.getAchievenmentTaskData=function(){var t=[],a=1,n=i.TheStorageManager.getInstance().getNumber(o.StorageKey.TaskAchievementIndex+a,0)+1;return this.data.forEach(function(e){a==e.AchievenmentTaskType?n==e.AchievenmentTaskPhase&&(a++,n=i.TheStorageManager.getInstance().getNumber(o.StorageKey.TaskAchievementIndex+a,0)+1,t.push(e)):a<e.AchievenmentTaskType&&(t.push(null),a++,(n=i.TheStorageManager.getInstance().getNumber(o.StorageKey.TaskAchievementIndex+a,0)+1)==e.AchievenmentTaskPhase&&(a++,n=i.TheStorageManager.getInstance().getNumber(o.StorageKey.TaskAchievementIndex+a,0)+1,t.push(e)))}),t.length<Math.floor(e.getMaxTaskID()/1e5)&&t.push(null),t},e.prototype.getNowAchievenmentTaskDataByType=function(e){var t=null,a=i.TheStorageManager.getInstance().getNumber(o.StorageKey.TaskAchievementIndex+e,0)+1;return this.data.forEach(function(n){e==n.AchievenmentTaskType&&a==n.AchievenmentTaskPhase&&(t=n)}),t},e.prototype.getAchievenmentTaskDataByTypeAndIndex=function(e,t){var a=null;return this.data.forEach(function(n){n.AchievenmentTaskPhase==t&&n.AchievenmentTaskType==e&&(a=n)}),a},e._instance=null,e}();a.AchievenmentTaskManager=s,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager","../../Storage/StorageConfig":"StorageConfig","../../Storage/StorageManager":"StorageManager"}],ActiveDart:[function(e,t,a){"use strict";cc._RF.push(t,"c22e5FizZ5DCrdMhm4OhW6Y","ActiveDart");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Game/FightingManager"),s=e("../Bullect"),c=e("../HeroConfig"),l=cc._decorator,g=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.att_tuowei=null,t.tuo_wei=null,t.collision_num=0,t.remain_time=0,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addCollisionMonsterListen.call(this,this.onCollisionMonster),this.addInitFinishedListen(this.onInitFinished)},t.prototype.onInitFinished=function(){this.tuo_wei=cc.instantiate(this.att_tuowei),this.tuo_wei.setPosition(this.node.getPosition()),r.default.getInstance().node.addChild(this.tuo_wei),this.collision_num=0,this.spin_speed=600,this.node.scale=1,this.remain_time=this.gongji_data.hero_data.getSkillValue3(c.SkillType.Active),this.unscheduleAllCallbacks()},t.prototype.destroySelf=function(){e.prototype.destroySelf.call(this),this.tuo_wei&&(cc.tween(this.tuo_wei).delay(this.tuo_wei.getComponent(cc.MotionStreak).fadeTime).removeSelf().start(),this.tuo_wei=null)},t.prototype.onCollisionMonster=function(){},t.prototype.update=function(t){if(e.prototype.update.call(this,t),this.tuo_wei){var a=this.node.getPosition(),n=a.x+64*Math.cos(this.move_direction),o=a.y+64*Math.sin(this.move_direction);this.tuo_wei.setPosition(cc.v2(n,o))}},i([u(cc.Prefab)],t.prototype,"att_tuowei",void 0),i([g],t)}(s.default);a.default=p,cc._RF.pop()},{"../../../Game/FightingManager":"FightingManager","../Bullect":"Bullect","../HeroConfig":"HeroConfig"}],ActivityManager:[function(e,t,a){"use strict";cc._RF.push(t,"8c286r2M4RDT7LMXilGY0Jn","ActivityManager"),Object.defineProperty(a,"__esModule",{value:!0}),a.ActivityManager=a.ActivityType=void 0;var n,o=e("../Constants"),i=e("../JsonData/FunctionDefinition"),r=e("../Prop/PropConfig"),s=e("../Prop/PropManager"),c=e("../Tools/EventManager");(function(e){e[e.Endless=1]="Endless",e[e.Boss=2]="Boss",e[e.Tower=3]="Tower",e[e.Maze=4]="Maze",e[e.num=5]="num"})(n=a.ActivityType||(a.ActivityType={}));var l=function(){function e(){}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){},e.prototype.changeTicket=function(e,t){var a=this.getTicket(e)+t;return a>=0&&(this.saveTicket(e,a),!0)},e.prototype.saveTicket=function(e,t){e==n.Boss?s.PropManager.getInstance().setPropNum(r.PropId.BossTicket,t):e==n.Endless&&s.PropManager.getInstance().setPropNum(r.PropId.EndlessChallenge,t),c.EventManager.postAssetsEvent(c.AssetsEventType.TICKET)},e.prototype.getTicket=function(e){var t;return e==n.Boss?t=s.PropManager.getInstance().getPropNum(r.PropId.BossTicket):e==n.Endless&&(t=s.PropManager.getInstance().getPropNum(r.PropId.EndlessChallenge)),t},e.prototype.changeTodayRemain=function(e,t){var a=this.getTodayRemain(e)+t;return a>=0&&(this.saveTodayRemain(e,a),!0)},e.prototype.saveTodayRemain=function(e,t){cc.sys.localStorage.setItem("today_remain"+e,t)},e.prototype.getTodayRemain=function(e){var t=cc.sys.localStorage.getItem("today_remain"+e);return""!==t&&null!==t||(t=2),parseInt(t)},e.prototype.getIsUnlock=function(e){return i.FunctionDefinitionManager.getInstance().getIsUnlock(this.getFuncType(e))},e.prototype.getFuncType=function(e){var t=o.FuncType.WuJinTiaoZhan;switch(e){case n.Endless:t=o.FuncType.WuJinTiaoZhan;break;case n.Boss:t=o.FuncType.GeRenBoss;break;case n.Tower:t=o.FuncType.PaTa;break;case n.Maze:t=o.FuncType.MiGong}return t},e.prototype.getActivityType=function(e){var t=n.Endless;switch(e){case o.GameMode.Endless:t=n.Endless;break;case o.GameMode.Boss_Challenge:t=n.Boss;break;case o.GameMode.Tower:t=n.Tower}return t},e.prototype.resetTicket=function(){for(var e=n.Endless;e<=n.Boss;e++)this.getTicket(e)<2&&this.saveTicket(e,2)},e._instance=null,e}();a.ActivityManager=l,cc._RF.pop()},{"../Constants":"Constants","../JsonData/FunctionDefinition":"FunctionDefinition","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","../Tools/EventManager":"EventManager"}],ActivityUi:[function(e,t,a){"use strict";cc._RF.push(t,"28c08MDmYhFGLIatN5j/Bka","ActivityUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Activity/ActivityManager"),s=e("../../GameManager"),c=e("../../JsonData/FunctionDefinition"),l=e("../../multiLanguage/LanguageManager"),g=e("../../Sound/AudioConstants"),u=e("../../Constants"),p=e("../../multiLanguage/FollowManager"),d=e("../../multiLanguage/FollowConstants"),h=e("../../Level/LevelManager"),f=e("../UIManager"),_=e("../../Prop/PropManager"),m=e("../UIConfig"),y=e("../../multiLanguage/TextLanguage"),I=e("../../Level/MissionLevel"),v=e("../../copy/endlesschallenges/endlesschallenges"),M=e("../../Storage/StorageManager"),C=e("../../Storage/StorageConfig"),S=e("../../copy/voidcrack/VoidScene"),P=e("../../Turntable/Times"),k=e("../../copy/voidcrack/RogueHexagonTypes"),b=cc._decorator,T=b.ccclass,B=b.property,w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activity_ui=null,t.btnMaze=null,t.btnBoss=null,t.btnEndless=null,t}return o(t,e),t.prototype.onLoad=function(){this.adaptation()},t.prototype.start=function(){for(var e=this.btnBoss.getChildByName("itme"),t=this.btnEndless.getChildByName("itme"),a=this.btnMaze.getChildByName("itme"),n=[40006,20003,10002],o=[10001],i=[60001,90002,20012],r=0;r<n.length;r++)(s=_.PropManager.getInstance().createPropItem(n[r],0)).scale=.85,s.parent=e;for(r=0;r<o.length;r++)(s=_.PropManager.getInstance().createPropItem(o[r],0)).scale=.85,s.parent=t;for(r=0;r<i.length;r++){var s;(s=_.PropManager.getInstance().createPropItem(i[r],0)).scale=.85,s.parent=a}},t.prototype.onEnable=function(){p.default.getInstance().getFirstDo(d.Follow_Type.\u9996\u6b21\u8fdb\u5165\u526f\u672c\u9875\u9762)<=0&&(p.default.getInstance().addFirstDo(d.Follow_Type.\u9996\u6b21\u8fdb\u5165\u526f\u672c\u9875\u9762),p.default.getInstance().followEvent(d.Follow_Type.\u9996\u6b21\u8fdb\u5165\u526f\u672c\u9875\u9762)),s.default.getInstance().music_manager.playMusic(g.MusicIndex.BGM_Fuben);var e=c.FunctionDefinitionManager.getInstance().getUnlockConditionType(u.FuncType.WuJinTiaoZhan),t=c.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(u.FuncType.WuJinTiaoZhan),a=c.FunctionDefinitionManager.getInstance().getUnlockConditionType(u.FuncType.GeRenBoss),n=c.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(u.FuncType.GeRenBoss),o=c.FunctionDefinitionManager.getInstance().getUnlockConditionType(u.FuncType.MiGong),i=c.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(u.FuncType.MiGong);if(h.LevelManager.getInstance().finish_level<t){if(1==e)this.btnEndless.getChildByName("text").getComponent(y.default).setTextId(100051),this.btnEndless.getChildByName("text").getComponent(y.default).setReplaceValue(".","."+t);else if(2==e){this.btnEndless.getChildByName("text").getComponent(y.default).setTextId(100052);var r=I.MissionLevelManager.getInstance().getLevelName(t);this.btnEndless.getChildByName("text").getComponent(y.default).setReplaceValue("~",r+"")}this.btnEndless.getChildByName("itme").active=!1,this.btnEndless.getChildByName("text").active=!0,this.btnEndless.getChildByName("btnPlay").active=!1,this.btnEndless.getChildByName("icon").getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),this.btnEndless.getChildByName("First_Text_1_CN").getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite"))}else{this.btnEndless.getChildByName("itme").active=!0,this.btnEndless.getChildByName("text").active=!1,this.btnEndless.getChildByName("btnPlay").active=!0,this.btnEndless.getChildByName("icon").getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),this.btnEndless.getChildByName("First_Text_1_CN").getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite"));var l=M.TheStorageManager.getInstance().getInt(C.StorageKey.UnlimitedChallengeTimes,0);this.btnEndless.getChildByName("btnPlay").getChildByName("red").active=l>0}h.LevelManager.getInstance().finish_level<n?(1==a?(this.btnBoss.getChildByName("text").getComponent(y.default).setTextId(100051),this.btnBoss.getChildByName("text").getComponent(y.default).setReplaceValue(".","."+n)):2==a&&(this.btnBoss.getChildByName("text").getComponent(y.default).setTextId(100052),r=I.MissionLevelManager.getInstance().getLevelName(n),this.btnBoss.getChildByName("text").getComponent(y.default).setReplaceValue("~",r+"")),this.btnBoss.getChildByName("itme").active=!1,this.btnBoss.getChildByName("text").active=!0,this.btnBoss.getChildByName("btnPlay").active=!1,this.btnBoss.getChildByName("icon").getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),this.btnBoss.getChildByName("First_Text_1_CN").getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite"))):(this.btnBoss.getChildByName("itme").active=!0,this.btnBoss.getChildByName("text").active=!1,this.btnBoss.getChildByName("btnPlay").active=!0,this.btnBoss.getChildByName("icon").getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),this.btnBoss.getChildByName("First_Text_1_CN").getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),this.btnBoss.getChildByName("btnPlay").getChildByName("red").active=M.TheStorageManager.getInstance().getInt(C.StorageKey.BossChallengeTimes,0)>0),h.LevelManager.getInstance().finish_level<i?(1==o?(this.btnMaze.getChildByName("text").getComponent(y.default).setTextId(100051),this.btnMaze.getChildByName("text").getComponent(y.default).setReplaceValue(".","."+i)):2==o&&(this.btnMaze.getChildByName("text").getComponent(y.default).setTextId(100052),r=I.MissionLevelManager.getInstance().getLevelName(i),this.btnMaze.getChildByName("text").getComponent(y.default).setReplaceValue("~",r+"")),this.btnMaze.getChildByName("itme").active=!1,this.btnMaze.getChildByName("text").active=!0,this.btnMaze.getChildByName("btnPlay").active=!1,this.btnMaze.getChildByName("icon").getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),this.btnMaze.getChildByName("First_Text_1_CN").getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite"))):(this.btnMaze.getChildByName("itme").active=!0,this.btnMaze.getChildByName("text").active=!1,this.btnMaze.getChildByName("btnPlay").active=!0,this.btnMaze.getChildByName("icon").getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),this.btnMaze.getChildByName("First_Text_1_CN").getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite"))),s.default.getInstance().game_to_home==u.Go_Type.Activity_Endless?this.scheduleOnce(function(){this.clickBtnActivity(null,"1")},.1):s.default.getInstance().game_to_home==u.Go_Type.Activity_Boss?this.scheduleOnce(function(){this.clickBtnActivity(null,"2")},.1):s.default.getInstance().game_to_home==u.Go_Type.Activity_Maze?this.scheduleOnce(function(){f.UIManager.getInstance().showUiDialog(m.UIPath.VoidScene,m.UILayerLevel.One,{onCompleted:function(e){var t=P.default.voidsensid,a=k.RogueHexagonTypesManager.getInstance().getLayers(t),n=k.RogueHexagonTypesManager.getInstance().getRows(t),o=k.RogueHexagonTypesManager.getInstance().getPosition(t);e.getComponent(S.default).initUi(a,n,o),e.getComponent(S.default).init({onClose:function(){}}),e.getComponent(S.default).Rowsnumber=n,e.getComponent(S.default).Positionnumber=o,e.getComponent(S.default).Refresh()}})},.1):s.default.getInstance().game_to_home==u.Go_Type.Activity_Maze_lose&&this.scheduleOnce(function(){f.UIManager.getInstance().showUiDialog(m.UIPath.VndlessChallenges,m.UILayerLevel.One,{onCompleted:function(e){e.getComponent(v.default).init({onClose:function(){}}),e.getComponent(v.default).initUi(4)}})},.1)},t.prototype.adaptation=function(){var e=cc.find("Canvas/Top_Ui").getChildByName("top"),t=2*(e.y-e.height/2),a=this.node.getChildByName("scrollView");a.height=t,a.getChildByName("view").height=t},t.prototype.clickBtnActivity=function(e,t){var a=this;switch(s.default.getInstance().sound_manager.playSound(g.SoundIndex.click),parseInt(t)){case r.ActivityType.Endless:var n=c.FunctionDefinitionManager.getInstance().getUnlockConditionType(u.FuncType.WuJinTiaoZhan),o=c.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(u.FuncType.WuJinTiaoZhan);if(h.LevelManager.getInstance().finish_level<o){if(1==n)s.default.getInstance().showMessage(l.default.getInstance().getStrByTextId(100051)+":"+o);else if(2==n){var i=l.default.getInstance().getStrByTextId(100052),p=I.MissionLevelManager.getInstance().getLevelName(o),d=i.replace("~",""+p);s.default.getInstance().showMessage(d)}}else f.UIManager.getInstance().showUiDialog(m.UIPath.VndlessChallenges,m.UILayerLevel.One,{onCompleted:function(e){e.getComponent(v.default).init({onClose:function(){var e=M.TheStorageManager.getInstance().getInt(C.StorageKey.UnlimitedChallengeTimes,0);a.btnEndless.getChildByName("btnPlay").getChildByName("red").active=e>0}}),e.getComponent(v.default).initUi(2)}});break;case r.ActivityType.Boss:var _=c.FunctionDefinitionManager.getInstance().getUnlockConditionType(u.FuncType.GeRenBoss),y=c.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(u.FuncType.GeRenBoss);h.LevelManager.getInstance().finish_level<y?1==_?s.default.getInstance().showMessage(l.default.getInstance().getStrByTextId(100051)+":"+y):2==_&&(i=l.default.getInstance().getStrByTextId(100052),p=I.MissionLevelManager.getInstance().getLevelName(y),d=i.replace("~",""+p),s.default.getInstance().showMessage(d)):f.UIManager.getInstance().showUiDialog(m.UIPath.VndlessChallenges,m.UILayerLevel.One,{onCompleted:function(e){e.getComponent(v.default).init({onClose:function(){a.btnBoss.getChildByName("btnPlay").getChildByName("red").active=M.TheStorageManager.getInstance().getInt(C.StorageKey.BossChallengeTimes,0)>0}}),e.getComponent(v.default).initUi(3)}});break;case r.ActivityType.Tower:return void s.default.getInstance().showMessage(l.default.getInstance().getStrByTextId(100113),3);case r.ActivityType.Maze:var S=c.FunctionDefinitionManager.getInstance().getUnlockConditionType(u.FuncType.MiGong),P=c.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(u.FuncType.MiGong);h.LevelManager.getInstance().finish_level<P?1==S?s.default.getInstance().showMessage(l.default.getInstance().getStrByTextId(100051)+":"+P):2==S&&(i=l.default.getInstance().getStrByTextId(100052),p=I.MissionLevelManager.getInstance().getLevelName(P),d=i.replace("~",""+p),s.default.getInstance().showMessage(d)):f.UIManager.getInstance().showUiDialog(m.UIPath.VndlessChallenges,m.UILayerLevel.One,{onCompleted:function(e){e.getComponent(v.default).init({onClose:function(){}}),e.getComponent(v.default).initUi(4)}})}},i([B(cc.SpriteAtlas)],t.prototype,"activity_ui",void 0),i([B(cc.Node)],t.prototype,"btnMaze",void 0),i([B(cc.Node)],t.prototype,"btnBoss",void 0),i([B(cc.Node)],t.prototype,"btnEndless",void 0),i([T],t)}(cc.Component);a.default=w,cc._RF.pop()},{"../../Activity/ActivityManager":"ActivityManager","../../Constants":"Constants","../../GameManager":"GameManager","../../JsonData/FunctionDefinition":"FunctionDefinition","../../Level/LevelManager":"LevelManager","../../Level/MissionLevel":"MissionLevel","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../Storage/StorageConfig":"StorageConfig","../../Storage/StorageManager":"StorageManager","../../Turntable/Times":"Times","../../copy/endlesschallenges/endlesschallenges":"endlesschallenges","../../copy/voidcrack/RogueHexagonTypes":"RogueHexagonTypes","../../copy/voidcrack/VoidScene":"VoidScene","../../multiLanguage/FollowConstants":"FollowConstants","../../multiLanguage/FollowManager":"FollowManager","../../multiLanguage/LanguageManager":"LanguageManager","../../multiLanguage/TextLanguage":"TextLanguage","../UIConfig":"UIConfig","../UIManager":"UIManager"}],AdManager:[function(e,t,a){"use strict";cc._RF.push(t,"8d5b42SZ6dDTKKKSRvEtXRV","AdManager");var n=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("./ApkManager"),i=e("../Constants"),r=e("./WXManager"),s=cc._decorator,c=s.ccclass,l=(s.property,function(){function e(){this.adCallback=null}var t;return t=e,e.getInstance=function(){return null==this._instance&&(this._instance=new t,this._instance.init()),this._instance},e.prototype.init=function(){this.initAds()},e.prototype.initAds=function(){switch(i.CUR_Platform){case i.Release_Platform.APK:o.default.getInstance().init();break;case i.Release_Platform.CPK_WX:r.default.getInstance().init();break;case i.Release_Platform.WEB_TEST:}},e.prototype.showBanner=function(){switch(i.CUR_Platform){case i.Release_Platform.WEB_TEST:}},e.prototype.showInterstitial=function(e){switch(cc.log("showInterstitial"),i.CUR_Platform){case i.Release_Platform.APK:o.default.getInstance().showInterstitial(e);break;case i.Release_Platform.WEB_TEST:}},e.prototype.showVideo=function(e,t){var a=this;switch(this.adCallback=e,i.CUR_Platform){case i.Release_Platform.APK:o.default.getInstance().showVideo(function(e){a.adResult(e)},t);break;case i.Release_Platform.CPK_WX:r.default.getInstance().showVideo(e);break;case i.Release_Platform.WEB_TEST:this.adResult(!0)}},e.prototype.adResult=function(e){null!=this.adCallback&&(this.adCallback(e),this.adCallback=null)},e._instance=null,t=n([c],e)}());a.default=l,cc._RF.pop()},{"../Constants":"Constants","./ApkManager":"ApkManager","./WXManager":"WXManager"}],Ancher73:[function(e,t,a){"use strict";cc._RF.push(t,"dfd74QDZVxGP7m0FYYsa4Wl","Ancher73");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../MonsterBullet"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.collision_callback=null,t.is_collision=!1,t}return o(t,e),t.prototype.onLoad=function(){this.addCollisionWallListen(this.onCollisionWall)},t.prototype.setCollisionCallback=function(e){this.collision_callback=e,this.is_collision=!1},t.prototype.onCollisionWall=function(e){e&&0==this.is_collision&&(this.move_speed=0,this.collision_target_callback&&this.collision_target_callback())},i([c],t)}(r.default));a.default=l,cc._RF.pop()},{"../MonsterBullet":"MonsterBullet"}],ApkManager:[function(e,t,a){"use strict";cc._RF.push(t,"a7db7EWjlBJgb353YPTItlL","ApkManager");var n=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../multiLanguage/FollowManager"),i=e("../multiLanguage/FollowConstants"),r=e("../Constants"),s=e("./VipManager"),c=e("../GameData"),l=e("../GameManager"),g=e("../multiLanguage/LanguageManager"),u=e("../multiLanguage/LanguageConstants"),p=e("../Sound/AudioConstants"),d=e("../ABTest/ABTestManager"),h=e("../Level/LevelManager"),f=e("../UserData"),_=e("../thirdParty/ThirdParty"),m=e("../Payment/PayManager"),y=e("../Payment/DingYueManager"),I=e("../Task/TaskManager"),v=e("../Task/TaskEnum"),M=e("../Storage/StorageManager"),C=e("../Storage/StorageConfig"),S=e("../UI/UIManager"),P=e("../Task/TaskUi"),k=cc._decorator,b=k.ccclass,T=(k.property,function(){function e(){this.adCallback=null,this.interVideoCallback=null,this.perv_inst_time=0,this.dy=null,this.pay=null,this.uploadCallback=null,this.dy_info_callback=null,this.pay_info_callback=null,this.package_name="com.IdleHeroCastleDefense",this.app_ver="1.0.12",this.app_code=12,this.sys_ver=31,this.android_id="",this.aid="xxxxx",this.plmn=41401,this.did="",this.package_callback=null,this.ad_loaded_num=0,this.max_load_num=2}var t;return t=e,e.getInstance=function(){return null==this._instance&&(this._instance=new t,this._instance.init()),this._instance},e.prototype.init=function(){cc.APK=this,cc.game.on(cc.game.EVENT_HIDE,function(){console.log("\u6e38\u620f\u8fdb\u5165\u540e\u53f0,\u4e0a\u4f20\u603b\u65f6\u957f"),c.default.getInstance().saveExitTime()},this),cc.game.on(cc.game.EVENT_SHOW,function(){console.log("\u6e38\u620f\u8fdb\u5165\u524d\u53f0,\u4fdd\u5b58\u4e00\u4e2a\u65f6\u95f4"),c.default.getInstance().saveLoginTime(),c.default.getInstance().refreshServerTime(),l.default.getInstance().cur_game_scene==r.GameScene.home&&setTimeout(function(){cc.find("Canvas/task_ui").getComponent(P.default).refreshDailyTask()},500)},this),this.onJSInitFinish()},e.prototype.initAds=function(){},e.prototype.onJSInitFinish=function(){cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApkManager","onJSInitFinish","()V")},e.prototype.showBanner=function(){},e.prototype.closeBanner=function(){},e.prototype.showInterstitial=function(){if(1!=s.VipManager.getIsVip()){var e=(new Date).getTime(),t=!1;e-this.perv_inst_time>1e4&&(t=!0,this.perv_inst_time=e),0!=t&&cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApkManager","showInterstitial","()V")}},e.prototype.showVideo=function(e,t){return 1==y.DingYueManager.getInstance().getWeekInfo().is_buy&&M.TheStorageManager.getInstance().getNumber(C.StorageKey.WeekCardFreeAdNum)>0?(M.TheStorageManager.getInstance().setItem(C.StorageKey.WeekCardFreeAdNum,M.TheStorageManager.getInstance().getNumber(C.StorageKey.WeekCardFreeAdNum)-1),this.adCallback=e,void this.adResult(1)):1==r.IsDebug?(this.adCallback=e,void this.adResult(1)):void(1!=s.VipManager.subVipFreeNum()?(o.default.getInstance().followEvent(i.Follow_Type.\u70b9\u51fb\u89c6\u9891\u64ad\u653e\u5956\u52b1\u73a9\u5bb6\u6570),this.adCallback=e,cc.sys.isNative?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApkManager","showVideo","(I)V",t):r.IsDebug?this.adResult(1):this.adResult(0)):e(!0))},e.prototype.showInterVideo=function(e,t){this.interVideoResult=e,cc.sys.isNative?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApkManager","showInterVideo","(I)V",t):r.IsDebug?this.interVideoResult(1):this.interVideoResult(0)},e.prototype.showCallMe=function(){cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApkManager","showCallMe","()V")},e.prototype.followEvent=function(e){r.CUR_Platform==r.Release_Platform.APK&&cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApkManager","followEvent","(Ljava/lang/String;)V",e)},e.prototype.cheakDYInfo=function(){r.CUR_Platform==r.Release_Platform.APK&&(cc.sys.isNative?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApkManager","cheakDYInfo","()V"):r.IsDebug)},e.prototype.showTiaoKuan=function(){r.CUR_Platform==r.Release_Platform.APK&&cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApkManager","showTiaoKuan","()V")},e.prototype.showDingYue=function(e,t){if(this.dy=e,r.IsDebug)return this.dyResult(1),void m.PayManager.getInstance().savePayNum(t,1);cc.sys.isNative?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApkManager","showDingYue","(Ljava/lang/String;)V",t):this.dyResult(1)},e.prototype.getVipInfo=function(e){this.uploadCallback=e;var t=f.default.getInstance().getUserID();cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApkManager","getVipInfo","(Ljava/lang/String;)V",t)},e.prototype.showPay=function(e,t){this.pay=e,r.IsDebug?this.payResult(1):(S.UIManager.getInstance().showPayWaitingUi(),cc.sys.isNative?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApkManager","showPay","(Ljava/lang/String;)V",t):this.payResult(1))},e.prototype.uploadAndGetUid=function(e){this.uploadCallback=e;var t=h.LevelManager.getInstance().finish_level,a=c.default.getTotalTime(),n=f.default.getInstance().getUserName();cc.sys.isNative?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApkManager","uploadAndGetUid","(IILjava/lang/String;)V",t,a,n):this.uploadResult(JSON.stringify({uid:f.default.getInstance().getUserID(),vip:"0"}))},e.prototype.uploadOnlineTime=function(){var e=h.LevelManager.getInstance().finish_level,t=c.default.getTotalTime(),a=f.default.getInstance().getUserID();""!=a&&cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApkManager","uploadOnlineTime","(IILjava/lang/String;)V",e,t,a)},e.prototype.loginForFB=function(e){this.uploadCallback=e;var t=h.LevelManager.getInstance().finish_level,a=c.default.getTotalTime();cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApkManager","loginForFB","(II)V",t,a)},e.prototype.loginForGoogle=function(e){this.uploadCallback=e;var t=h.LevelManager.getInstance().finish_level,a=c.default.getTotalTime();cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApkManager","loginForGoogle","(II)V",t,a)},e.prototype.setUid=function(){if(r.CUR_Platform==r.Release_Platform.APK&&cc.sys.isNative){var e=f.default.getInstance().getUserID();jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApkManager","setUid","(Ljava/lang/String;)V",e)}},e.prototype.getAndroidLanguage=function(){cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApkManager","getAndroidLanguage","()V")},e.prototype.getABTestPar=function(){cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApkManager","getABTestPar","()V")},e.prototype.beVibrate=function(e){cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApkManager","beVibrate","(I)V",e)},e.prototype.getDingYueInfo=function(e){this.dy_info_callback=e,cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApkManager","getDingYueInfo","()V")},e.prototype.getPayInfos=function(e){this.pay_info_callback=e,r.IsDebug?this.setTestPayInfo():cc.sys.isNative?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApkManager","getPayInfos","()V"):this.setTestPayInfo()},e.prototype.jumpToGP=function(){cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApkManager","jumpToGP","()V")},e.prototype.getPackageInfo=function(e){this.package_callback=e,cc.sys.isNative&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApkManager","getPackageInfo","()V")},e.prototype.setTestPayInfo=function(){this.setPayInfos([{des:"get 60 crystals",price:"\uffe6844",currency:"KRW",pay_id:"b201",is_buy:!1},{des:"get 60 crystals",price:"\uffe684400",currency:"KRW",pay_id:"b401",is_buy:!1},{des:"get 60 crystals",price:"\uffe6844",currency:"KRW",pay_id:"b501",is_buy:!1},{des:"get 60 crystals",price:"\uffe692,724",currency:"KRW",pay_id:"c101",is_buy:!1},{des:"get 60 crystals",price:"\uffe6844",currency:"KRW",pay_id:"c102",is_buy:!1},{des:"get 60 crystals",price:"\uffe6844",currency:"KRW",pay_id:"c103",is_buy:!1},{des:"get 60 crystals",price:"\uffe6844",currency:"KRW",pay_id:"c104",is_buy:!1},{des:"get 60 crystals",price:"\uffe6844",currency:"KRW",pay_id:"c105",is_buy:!1},{des:"get 60 crystals",price:"\uffe6844",currency:"KRW",pay_id:"c106",is_buy:!1},{des:"get 60 crystals",price:"\uffe6844",currency:"KRW",pay_id:"c107",is_buy:!1},{des:"get 60 crystals",price:"\uffe6844",currency:"KRW",pay_id:"c108",is_buy:!1},{des:"get 60 crystals",price:"\uffe6844",currency:"KRW",pay_id:"c109",is_buy:!1},{des:"get 60 crystals",price:"\uffe6844",currency:"KRW",pay_id:"c110",is_buy:!1},{des:"get 60 crystals",price:"\uffe6844",currency:"KRW",pay_id:"c201",is_buy:!1},{des:"get 60 crystals",price:"\uffe6844",currency:"KRW",pay_id:"c202",is_buy:!1},{des:"get 60 crystals",price:"\uffe6844",currency:"KRW",pay_id:"c203",is_buy:!1},{des:"get 60 crystals",price:"\uffe6844",currency:"KRW",pay_id:"c204",is_buy:!1},{des:"get 60 crystals",price:"\uffe6844",currency:"KRW",pay_id:"c205",is_buy:!1},{des:"get 60 crystals",price:"\uffe6844",currency:"KRW",pay_id:"c206",is_buy:!1},{des:"get 60 crystals",price:"\uffe6666",currency:"KRW",pay_id:"c301",is_buy:!1},{des:"get 60 crystals",price:"$3",currency:"KRW",pay_id:"c501",is_buy:!1},{des:"get 60 crystals",price:"$3",currency:"KRW",pay_id:"c502",is_buy:!1},{des:"get 60 crystals",price:"$3",currency:"KRW",pay_id:"c503",is_buy:!1},{des:"get 60 crystals",price:"$3",currency:"KRW",pay_id:"c504",is_buy:!1},{des:"get 60 crystals",price:"$0.1",currency:"KRW",pay_id:"c505",is_buy:!1},{des:"get 60 crystals",price:"$3",currency:"KRW",pay_id:"c601",is_buy:!1},{des:"get 60 crystals",price:"$3",currency:"KRW",pay_id:"c401",is_buy:!1}])},e.prototype.adResult=function(e){var t=parseInt(e);null!=this.adCallback&&(0==t?this.adCallback(!1):(this.adCallback(!0),I.default.getInstance().emitTask(v.TaskItem.\u89c2\u770b\u4efb\u610f1\u6b21\u5e7f\u544a),I.default.getInstance().emitTask(v.TaskItem.\u89c2\u770b\u4efb\u610f3\u6b21\u5e7f\u544a),o.default.getInstance().followEvent(i.Follow_Type.\u83b7\u5f97\u89c6\u9891\u64ad\u653e\u5956\u52b1\u73a9\u5bb6\u6570),c.default.getInstance().addTotalVideoNum(1)),this.adCallback=null)},e.prototype.interVideoResult=function(e){var t=parseInt(e);null!=this.interVideoCallback&&(0==t?this.interVideoCallback(!1):this.interVideoCallback(!0),this.interVideoCallback=null)},e.prototype.addAdLoadedNum=function(e){"string"==typeof e&&(e=parseInt(e)),this.ad_loaded_num+=e},e.prototype.setDingYueInfo=function(e){for(var t=new Array,a=0;a<e.length;a++){var n=e[a],o=new _.PayInfo;o.price=n.price,o.des=n.des,o.currency=n.currency,o.is_buy=n.is_buy,o.pay_id=n.pay_id,t.push(o)}y.DingYueManager.getInstance().setCardInfo(t)},e.prototype.setPayInfos=function(e){for(var t=new Array,a=0;a<e.length;a++){var n=e[a],o=new _.PayInfo;o.price=n.price,o.des=n.des,o.currency=n.currency,o.is_buy=n.is_buy,o.pay_id=n.pay_id,t.push(o)}m.PayManager.getInstance().setPayInfos(t)},e.prototype.dyResult=function(e){var t=parseInt(e);null!=this.dy&&(0==t?this.dy.result(!1):(this.dy.result(!0),o.default.getInstance().followEvent(i.Follow_Type.\u8ba2\u9605\u6210\u529f\u73a9\u5bb6\u6570)),this.dy=null)},e.prototype.payResult=function(e){S.UIManager.getInstance().closePayWaitingUi();var t=parseInt(e);null!=this.pay&&(0==t?this.pay.result(!1):this.pay.result(!0),this.pay=null)},e.prototype.notifyPayState=function(e){var t=parseInt(e);m.PayManager.getInstance().getRewardById(t)},e.prototype.dyInfo=function(){},e.prototype.setVip=function(){},e.prototype.setVersion=function(e){console.log("setVersion"+e),f.default.getInstance().saveVersion(e)},e.prototype.uploadResult=function(e){this.uploadCallback(e),this.uploadCallback=null},e.prototype.setLanguage=function(e){cc.log("setLanguage\uff1a"+e),g.default.getInstance().setLanguage(e)},e.prototype.showGameExit=function(){var e=this;l.default.getInstance().cur_game_scene!=r.GameScene.load&&l.default.getInstance().showDialog(g.default.getInstance().getString(u.LanguageIndex.Do_you_really_want_to_quit_game),function(){l.default.getInstance().sound_manager.playSound(p.SoundIndex.click),l.default.getInstance().cur_game_scene==r.GameScene.game&&e.followEvent(i.Follow_Type.\u9000\u51fa\u6311\u6218\u5173\u5361+h.LevelManager.getInstance().start_level),c.default.getInstance().saveExitTime(),setTimeout(function(){cc.game.end()},100)},function(){l.default.getInstance().sound_manager.playSound(p.SoundIndex.click)},0)},e.prototype.setABTestPar=function(e){d.default.getInstance().setABTestPar(e)},e.prototype.setPackageInfo=function(e){var t=JSON.parse(e);this.package_name=t.package_name,this.app_ver=t.app_ver,this.app_code=t.app_code,this.plmn=t.plmn,this.aid=t.aid,this.did=t.did,console.log(this.package_name,this.app_ver,this.app_code,this.plmn,this.aid,this.did,t.network),f.default.getInstance().HttpPostGetUserId(this.did,t.network)},e._instance=null,t=n([b],e)}());a.default=T,cc._RF.pop()},{"../ABTest/ABTestManager":"ABTestManager","../Constants":"Constants","../GameData":"GameData","../GameManager":"GameManager","../Level/LevelManager":"LevelManager","../Payment/DingYueManager":"DingYueManager","../Payment/PayManager":"PayManager","../Sound/AudioConstants":"AudioConstants","../Storage/StorageConfig":"StorageConfig","../Storage/StorageManager":"StorageManager","../Task/TaskEnum":"TaskEnum","../Task/TaskManager":"TaskManager","../Task/TaskUi":"TaskUi","../UI/UIManager":"UIManager","../UserData":"UserData","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/LanguageConstants":"LanguageConstants","../multiLanguage/LanguageManager":"LanguageManager","../thirdParty/ThirdParty":"ThirdParty","./VipManager":"VipManager"}],ArmorWarrior:[function(e,t,a){"use strict";cc._RF.push(t,"fd58bXUbTNOtaSHSUDXuwXv","ArmorWarrior");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r,s=e("../../Constants"),c=e("../../Enemy/EnemyConfig"),l=e("../../Game/GameEffectsManager"),g=e("../../Game/GroundManager"),u=e("../../GameManager"),p=e("../../Hero/Game/BuffData"),d=e("../../Hero/Game/HeroConfig"),h=e("../../Monster/MonsterData"),f=e("../../Monster/MonsterManager"),_=e("../../Sound/AudioConstants"),m=e("../../Tools/MyTool"),y=e("../Boss"),I=e("./BossAtt2"),v=e("./BossShield2"),M=e("./ShieldAttack2");(function(e){e.Idle="Idle",e.attack1="Attack",e.run="Run",e.hurt1="Hurt",e.skill1_1="Skill1_1",e.skill1_2="Skill1_2",e.skill1_3="Skill1_3",e.skill2_1="Skill2_1",e.skill2_2="Skill2_2",e.skill2_3="Skill2_3",e.dead="Dead"})(r||(r={}));var C=cc._decorator,S=C.ccclass,P=C.property,k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab_shield=null,t.prefab_ground=null,t.boss_shield=null,t.skill_use_num=0,t.skill_waiting=!1,t.skill_cd=0,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.xuanyun,2),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss2_normal_att,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss2_normal_att_hit1,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss2_normal_skill,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss2_normal_skill_hit,1),this.addDeathCallback(this.onDeath),this.addXuanYunListen(this.onXuanYunResult),this.addBossInitedListen(this.onBossInited),this.addChangeBossHpListen(this.onChangeHp)},t.prototype.onBossInited=function(){this.startIdle(),this.node.y=222,this.skill_cd=this.skill_data.getSkillColdDown(1),this.skill_jishu=this.skill_cd-this.skill_data.getSkillInitColdDown(1)},t.prototype.onChangeHp=function(e){e<0&&this.boss_shield&&this.boss_shield.changeShieldValue(e)},t.prototype.startIdle=function(){e.prototype.setEnemyState.call(this,c.Enemy_State.standby),e.prototype.playSpinAnimaton.call(this,r.Idle,!0)},t.prototype.startAttack=function(){var t=this;this.att_jishu=0,e.prototype.setEnemyState.call(this,c.Enemy_State.att);var a=new h.KeyFrameData;a.name="Attack",a.callback=function(){t.att_jishu=0,u.default.getInstance().sound_manager.playSound(_.SoundIndex.YX_Boss2Attack),l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.boss2_normal_att,e.prototype.getAttPos.call(t)).getComponent(I.default).init(e.prototype.getAttData.call(t,d.DamageType.Normal,!0),l.GameEffectId.boss2_normal_att,1200,3*Math.PI/2,t.node.y,270)},e.prototype.playSpinAnimaton.call(this,r.attack1,!1,a,function(){1==t.skill_waiting?(e.prototype.setEnemyState.call(t,c.Enemy_State.skill),t.startSkill()):t.startIdle()})},t.prototype.startSkill=function(){var t=this;this.skill_jishu=0,e.prototype.getEnemyState.call(this)!=c.Enemy_State.att?e.prototype.isHaveDeBuff.call(this,d.BuffId.Hero_XuanYun)?this.skill_waiting=!0:(this.skill_waiting=!1,e.prototype.setEnemyState.call(this,c.Enemy_State.skill),this.skill_jishu=0,this.cur_toughness+=1,e.prototype.playSpinAnimaton.call(this,r.skill1_1,!1,null,function(){e.prototype.playSpinAnimaton.call(t,r.skill1_2,!0);var a=cc.instantiate(t.prefab_ground);g.default.getInstance().node.addChild(a),a.x=t.node.x,a.y=t.getCenterPos().y,t.skill_use_num++;var n=cc.instantiate(t.prefab_shield);t.boss_shield=n.getComponent(v.default),t.boss_shield.init(t.skill_use_num,d.ShieldType.Skill,8,e.prototype.getMaxHp.call(t)*t.skill_data.getSkillValue1(1),a,t.onShieldDestory.bind(t));var o=new p.BuffData;o.buff_id=d.BuffId.Boss2_MianYi_Attack,o.remain_time=8,l.GameEffectsManager.getInstance().node.addChild(n),n.setPosition(cc.v2(-8,t.node.y+64*t.setup_scale)),e.prototype.addBuff.call(t,o)})):this.skill_waiting=!0},t.prototype.onShieldDestory=function(t){if(this.boss_shield=null,this.skill_jishu=0,t)this.startShieldAttack();else{this.cur_toughness-=1;var a=new p.BuffData;a.buff_id=d.BuffId.Hero_XuanYun,a.game_effect_id=l.GameEffectId.xuanyun,a.remain_time=3,a.buff_type=d.BuffType.Vertigo,e.prototype.addDeBuff.call(this,a,null),e.prototype.subBuff.call(this,d.BuffId.Boss2_MianYi_Attack),e.prototype.changeHp.call(this,.25*-this.getMaxHp()),m.default.randomSceneShake(-16,16,.02,10)}},t.prototype.startShieldAttack=function(){var t=this,a=new h.KeyFrameData;a.callback=function(){t.cur_toughness-=1,e.prototype.subBuff.call(t,d.BuffId.Boss2_MianYi_Attack),u.default.getInstance().sound_manager.playSound(_.SoundIndex.YX_BossAttackGuodu),l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.boss2_normal_skill,t.node.getPosition()).getComponent(M.default).setBossPos(t.node.getPosition())},a.name="Skill",e.prototype.playSpinAnimaton.call(this,r.skill1_3,!1,a,function(){t.startIdle()})},t.prototype.onDeath=function(){var t=this;this.unscheduleAllCallbacks(),e.prototype.playDeadAnimaton.call(this,r.dead,function(){t.removeAllDeBuff(),t.removeAllBuff(),t.shadow&&cc.tween(t.shadow).to(.75,{opacity:0}).start(),cc.tween(t.node).to(.75,{opacity:0}).call(function(){t.removeAllDeBuff(),t.removeAllBuff(),f.default.getInstance().destroyMonster(t.node,t.monster_type)}).start()}),this.boss_shield&&this.boss_shield.destoryShield()},t.prototype.onXuanYunResult=function(t){t?this.startXuanYun():e.prototype.isHaveDeBuffType.call(this,d.BuffType.Vertigo)||e.prototype.getIsDie.call(this)||(1==this.skill_waiting?(e.prototype.setEnemyState.call(this,c.Enemy_State.skill),this.startSkill()):this.startIdle())},t.prototype.startXuanYun=function(){var t=this;this.skill_waiting=!1,e.prototype.playSpinAnimaton.call(this,r.hurt1,!1,null,function(){e.prototype.isHaveDeBuffType.call(t,d.BuffType.Vertigo)&&!e.prototype.getIsDie.call(t)&&(t.spine.paused=!0)})},t.prototype.update=function(t){u.default.getInstance().cur_game_state!=s.GameState.Game_Playing||this.getIsDie()||(e.prototype.update.call(this,t),this.checkSkill(t),this.getEnemyState()!=c.Enemy_State.skill&&(this.isHaveDeBuff(d.BuffId.Hero_XuanYun)||this.checkAtt(t)))},t.prototype.checkSkill=function(e){this.skill_jishu+=e,this.isHaveDeBuff(d.BuffId.Hero_XuanYun)||this.skill_jishu>=this.skill_cd&&(this.skill_jishu=this.skill_cd,this.startSkill())},t.prototype.checkAtt=function(e){this.att_jishu+=e,this.att_jishu>=this.att_jiange&&(this.att_jishu=this.att_jiange,this.startAttack())},i([P(cc.Prefab)],t.prototype,"prefab_shield",void 0),i([P(cc.Prefab)],t.prototype,"prefab_ground",void 0),i([S],t)}(y.default);a.default=k,cc._RF.pop()},{"../../Constants":"Constants","../../Enemy/EnemyConfig":"EnemyConfig","../../Game/GameEffectsManager":"GameEffectsManager","../../Game/GroundManager":"GroundManager","../../GameManager":"GameManager","../../Hero/Game/BuffData":"BuffData","../../Hero/Game/HeroConfig":"HeroConfig","../../Monster/MonsterData":"MonsterData","../../Monster/MonsterManager":"MonsterManager","../../Sound/AudioConstants":"AudioConstants","../../Tools/MyTool":"MyTool","../Boss":"Boss","./BossAtt2":"BossAtt2","./BossShield2":"BossShield2","./ShieldAttack2":"ShieldAttack2"}],Around:[function(e,t,a){"use strict";cc._RF.push(t,"dbf67UnWwFJ8r9+9LIMDhml","Around");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.start=function(){var e=this;this.schedule(function(){e.node.angle-=30},.1,cc.macro.REPEAT_FOREVER,0)},i([s],t)}(cc.Component));a.default=c,cc._RF.pop()},{}],AtrributeUi:[function(e,t,a){"use strict";cc._RF.push(t,"512a55RPZVH+7H97SHxZJxA","AtrributeUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Hero/Data/HeroManager"),s=e("../../Hero/Game/HeroConfig"),c=e("../../multiLanguage/LanguageManager"),l=e("../../Tools/MyTool"),g=e("../UIComponent"),u=cc._decorator,p=u.ccclass,d=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hero_type=s.Hero_Type.NULL,t.pet_info=null,t}return o(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t)},t.prototype.initHeroType=function(e){this.hero_type=e,this.refreshHeroUi()},t.prototype.initPreviewHeroType=function(e,t,a){this.hero_type=e,this.hero_stage=t,this.hero_level=a,this.refreshPreviewHeroUi()},t.prototype.initPetInfo=function(e){this.pet_info=e,this.refreshPetUi()},t.prototype.refreshHeroUi=function(){var e=r.HeroManager.getInstance().getHeroData(this.hero_type);this.node.getChildByName("title").getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(110023),this.node.getChildByName("Label0").getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(110030),this.node.getChildByName("Label1").getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(100089),this.node.getChildByName("Label2").getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(110015),this.node.getChildByName("Label3").getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(110016),this.node.getChildByName("Label4").getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(110017),this.node.getChildByName("Label5").getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(110018),this.node.getChildByName("Label6").getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(110019),this.node.getChildByName("Label7").getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(110021),this.node.getChildByName("Label8").getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(110020),this.node.getChildByName("Label9").getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(110022),this.node.getChildByName("LabelNum0").getComponent(cc.Label).string=""+l.default.numberFormat(e.atkSpeed,1),this.node.getChildByName("LabelNum1").getComponent(cc.Label).string=""+l.default.numberFormat(e.total_attack),this.node.getChildByName("LabelNum2").getComponent(cc.Label).string=""+l.default.numberFormat(e.total_defense),this.node.getChildByName("LabelNum3").getComponent(cc.Label).string=""+l.default.numberFormat(e.total_hp),this.node.getChildByName("LabelNum4").getComponent(cc.Label).string=""+l.default.numberFormat(e.Hit,1),this.node.getChildByName("LabelNum5").getComponent(cc.Label).string=""+l.default.numberFormat(e.Miss,1),this.node.getChildByName("LabelNum6").getComponent(cc.Label).string=""+l.default.numberFormat(e.Critical,1),this.node.getChildByName("LabelNum7").getComponent(cc.Label).string=""+l.default.numberFormat(e.AntiCritical,1),this.node.getChildByName("LabelNum8").getComponent(cc.Label).string=l.default.numberFormat(100*e.ExtraCritical,2)+"%",this.node.getChildByName("LabelNum9").getComponent(cc.Label).string=l.default.numberFormat(100*e.AntiExtraCritical,2)+"%"},t.prototype.refreshPreviewHeroUi=function(){var e=r.HeroManager.getInstance().getTargetHeroData(this.hero_type,this.hero_stage,this.hero_level);this.node.getChildByName("title").getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(110023),this.node.getChildByName("Label0").getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(110030),this.node.getChildByName("Label1").getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(100089),this.node.getChildByName("Label2").getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(110015),this.node.getChildByName("Label3").getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(110016),this.node.getChildByName("Label4").getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(110017),this.node.getChildByName("Label5").getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(110018),this.node.getChildByName("Label6").getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(110019),this.node.getChildByName("Label7").getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(110021),this.node.getChildByName("Label8").getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(110020),this.node.getChildByName("Label9").getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(110022),this.node.getChildByName("LabelNum0").getComponent(cc.Label).string=""+l.default.numberFormat(e.atkSpeed,1),this.node.getChildByName("LabelNum1").getComponent(cc.Label).string=""+l.default.numberFormat(e.total_attack),this.node.getChildByName("LabelNum2").getComponent(cc.Label).string=""+l.default.numberFormat(e.total_defense),this.node.getChildByName("LabelNum3").getComponent(cc.Label).string=""+l.default.numberFormat(e.total_hp),this.node.getChildByName("LabelNum4").getComponent(cc.Label).string=""+l.default.numberFormat(e.Hit,1),this.node.getChildByName("LabelNum5").getComponent(cc.Label).string=""+l.default.numberFormat(e.Miss,1),this.node.getChildByName("LabelNum6").getComponent(cc.Label).string=""+l.default.numberFormat(e.Critical,1),this.node.getChildByName("LabelNum7").getComponent(cc.Label).string=""+l.default.numberFormat(e.AntiCritical,1),this.node.getChildByName("LabelNum8").getComponent(cc.Label).string=l.default.numberFormat(100*e.ExtraCritical,2)+"%",this.node.getChildByName("LabelNum9").getComponent(cc.Label).string=l.default.numberFormat(100*e.AntiExtraCritical,2)+"%"},t.prototype.refreshPetUi=function(){},i([p],t)}(g.default));a.default=d,cc._RF.pop()},{"../../Hero/Data/HeroManager":"HeroManager","../../Hero/Game/HeroConfig":"HeroConfig","../../Tools/MyTool":"MyTool","../../multiLanguage/LanguageManager":"LanguageManager","../UIComponent":"UIComponent"}],AudioConstants:[function(e,t,a){"use strict";cc._RF.push(t,"6f2b54I3alHs6HtmFKHawgU","AudioConstants"),Object.defineProperty(a,"__esModule",{value:!0}),a.SoundIndex=a.MusicIndex=void 0,function(e){e.BGM_Fuben="BGM_Fuben",e.BGM_GuajiBgm="BGM_GuajiBgm",e.BGM_MainCity="BGM_MainCity",e.BGM_Pets="BGM_Pets",e.BGM_RogueBgm="BGM_RogueBgm",e.BGM_Hero="BGM_Hero",e.BGM_Battle="BGM_Battle",e.BGM_XuYuan="BGM_XuYuan",e.BGM_KaiEggjiemian="BGM_KaiEggjiemian",e.BGM_TJP="BGM_TJP",e.BGM_Shop="BGM_Shop",e.BGM_Home="BGM_Home"}(a.MusicIndex||(a.MusicIndex={})),function(e){e.click="click",e.equipe="equipe",e.huishou="huishou",e.levelUp="levelUp",e.lvUp="lvUp",e.openskill="openskill",e.playerLvUp="playerLvUp",e.putdown="putdown",e.putHero="putHero",e.start="start",e.boom="boom",e.YX_boom2="YX_boom2",e.boss="boss",e.cannon="cannon",e.cannon1="cannon1",e.cannon2="cannon2",e.combat="combat",e.compound="compound",e.daZao="daZao",e.dici2="dici2",e.dici3="dici3",e.dici4="dici4",e.die_feiting="die_feiting",e.die_fengheguai="die_fengheguai",e.die_guaishou="die_guaishou",e.die_hongpangxie="die_hongpangxie",e.die_jiangshi="die_jiangshi",e.die_laoshu="die_laoshu",e.die_munaiyi="die_munaiyi",e.die_mutou="die_mutou",e.die_nangua="die_nangua",e.die_shayu="die_shayu",e.die_she="die_she",e.die_shitou="die_shitou",e.die_shuiyuansu="die_shuiyuansu",e.die_wenzi="die_wenzi",e.die_xiezi="die_xiezi",e.YX_Shouji="YX_Shouji",e.die_zipangxie="die_zipangxie",e.firegun="firegun",e.fireSprite="fireSprite",e.hit_dici="hit_dici",e.hit_jiguangqiang="hit_jiguangqiang",e.YX_GongjianshouAttack="YX_GongjianshouAttack",e.hit_siqi="hit_siqi",e.hit_toumao="hit_toumao",e.huadong="huadong",e.YX_Lose="YX_Lose",e.rewardBox1="rewardBox1",e.rewardBox2="rewardBox2",e.shotgun="shotgun",e.skillmst="skillmst",e.YX_GongjianshouSkill="YX_GongjianshouSkill",e.special_fire="special_fire",e.special_wheel="special_wheel",e.unAtt="unAtt",e.wheel="wheel",e.spin="spin",e.YX_JinSheng="YX_JinSheng",e.YX_Level="YX_Level",e.YX_ButtonClear="YX_ButtonClear",e.YX_ChoseBuff="YX_ChoseBuff",e.YX_GetReward="YX_GetReward",e.YX_IceBoom="YX_IceBoom",e.YX_Win="YX_Win",e.YX_PaoShouSkill1="YX_PaoShouSkill1",e.YX_PaoShouSkill2="YX_PaoShouSkill2",e.YX_WallBroken="YX_WallBroken",e.YX_YingBi="YX_YingBi",e.YX_RuShui="YX_RuShui",e.YX_KaTanChu="YX_KaTanChu",e.YX_Fanka="YX_Fanka",e.YX_Xuli="YX_Xuli",e.YX_FashiAttack="YX_FashiAttack",e.YX_FashiSkiill2="YX_FashiSkiill2",e.YX_FashiSkill1="YX_FashiSkill1",e.YX_PaoshouAttack="YX_PaoshouAttack",e.YX_Fangsheng="YX_Fangsheng",e.YX_Hecheng="YX_Hecheng",e.YX_Kaizhan="YX_Kaizhan",e.YX_Dazao="YX_Dazao",e.YX_RenzheAttack="YX_RenzheAttack",e.YX_RenzheSkill1="YX_RenzheSkill1",e.YX_RenzheSkill2="YX_RenzheSkill2",e.YX_PetAttack="YX_PetAttack",e.YX_BossComing="YX_BossComing",e.YX_BossXuli="YX_BossXuli",e.YX_BossAttackGuodu="YX_BossAttackGuodu",e.YX_BossAttackMinzhong="YX_BossAttackMinzhong",e.YX_KaiDan1="YX_KaiDan1",e.YX_Kaidan2="YX_Kaidan2",e.YX_Boss1Attack="YX_Boss1Attack",e.YX_Boss2Attack="YX_Boss2Attack",e.YX_Boss2Skill="YX_Boss2Skill",e.YX_ChangmaoshouAttack="YX_ChangmaoshouAttack",e.YX_EnemyComing="YX_EnemyComing",e.YX_LeiGodAttack="YX_LeiGodAttack",e.YX_LeiGodSkill1="YX_LeiGodSkill1",e.YX_LeiGodSkill2="YX_LeiGodSkill2",e.YX_ShouWangSkill1="YX_ShouWangSkill1",e.YX_ShouWangSkill2="YX_ShouWangSkill2",e.YX_Advanced="YX_Advanced",e.YX_ChouKa1="YX_ChouKa1",e.YX_Chouka2="YX_Chouka2",e.YX_ANBSAttack="YX_ANBSAttack",e.YX_ANBSSkill="YX_ANBSSkill",e.YX_BNAttack="YX_BNAttack",e.YX_BNBeidong="YX_BNBeidong",e.YX_BNSkill="YX_BNSkill",e.YX_KZSAttack="YX_KZSAttack",e.YX_KZSSkill="YX_KZSSkill",e.YX_ZDAttack="YX_ZDAttack",e.YX_ZDSkill="YX_ZDSkill",e.YX_Boss3Attack="YX_Boss3Attack",e.YX_Boss3Skill1mingzhong="YX_Boss3Skill1mingzhong",e.YX_Boss3Skill1xuli="YX_Boss3Skill1xuli",e.YX_Boss4Attack="YX_Boss4Attack",e.YX_Boss4Skill="YX_Boss4Skill",e.YX_Boss5Attack="YX_Boss5Attack",e.YX_Boss5Beidong="YX_Boss5Beidong",e.YX_Boss5Skill="YX_Boss5Skill",e.YX_boss6Attack="YX_boss6Attack",e.YX_boss7Attack="YX_boss7Attack",e.YX_boss7Skill1="YX_boss7Skill1",e.YX_MMAttack="YX_MMAttack",e.YX_MMSkill="YX_MMSkill",e.YX_NWAttack="YX_NWAttack",e.YX_NWSkill="YX_NWSkill",e.YX_BOSS8Attack="YX_BOSS8Attack",e.YX_Boss8Attack2="YX_Boss8Attack2",e.YX_BOSS9Attack="YX_BOSS9Attack",e.YX_BOSS9Skill="YX_BOSS9Skill",e.YX_BOSS10Attack="YX_BOSS10Attack",e.YX_BOSS10Skill="YX_BOSS10Skill"}(a.SoundIndex||(a.SoundIndex={})),cc._RF.pop()},{}],AutoMove:[function(e,t,a){"use strict";cc._RF.push(t,"2b27eoMiTxGL4Qsxlu7W4TE","AutoMove");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.max_x=0,t}return o(t,e),t.prototype.onLoad=function(){this.max_x=384},t.prototype.update=function(e){this.node.x+=256*e},i([s],t)}(cc.Component));a.default=c,cc._RF.pop()},{}],AvatarUi:[function(e,t,a){"use strict";cc._RF.push(t,"3c85fWpNr9Pg7b+6mG0sFvs","AvatarUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../GameManager"),s=e("../../Hero/Game/HeroConfig"),c=e("../../Prop/PropManager"),l=e("../../Sound/AudioConstants"),g=e("../../UserData"),u=e("../UIComponent"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.head_portrait=null,t.head_item=null,t.select=null,t.select_avatar_index=0,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.select_avatar_index=g.default.getInstance().getUserAvatar(),this.head_portrait.getComponent(cc.Sprite).spriteFrame=c.PropManager.getInstance().getSpheadPortraitType(this.select_avatar_index),this.addAvatar()},t.prototype.addAvatar=function(){for(var e=this.node.getChildByName("avatarScroll").getComponent(cc.ScrollView).content,t=s.Hero_Type.ChangMaoShou;t<s.Hero_Type.Hero_Num;t++){var a=cc.instantiate(this.head_item);a.name="icon"+t,a.parent=e,a.getChildByName("headPortrait").getComponentInChildren(cc.Sprite).spriteFrame=c.PropManager.getInstance().getSpheadPortraitType(t);var n=a.addComponent(cc.Button),o=new cc.Component.EventHandler;o.target=this.node,o.component="AvatarUi",o.handler="clickBtnAvatar",o.customEventData=t+"",n.clickEvents.push(o),t==this.select_avatar_index&&(this.select.parent=a,this.select.setPosition(cc.v2(0,0)))}},t.prototype.clickBtnAvatar=function(e,t){r.default.getInstance().sound_manager.playSound(l.SoundIndex.click);var a=parseInt(t);this.select_avatar_index!=a&&(this.select_avatar_index=a,this.showSelectAvatar())},t.prototype.showSelectAvatar=function(){this.head_portrait.getComponent(cc.Sprite).spriteFrame=c.PropManager.getInstance().getSpheadPortraitType(this.select_avatar_index),this.select.parent=this.node.getComponentInChildren(cc.ScrollView).content.getChildByName("icon"+this.select_avatar_index),this.select.setPosition(cc.v2(0,0))},t.prototype.clickBtnOk=function(){r.default.getInstance().sound_manager.playSound(l.SoundIndex.click),g.default.getInstance().saveUserAvatar(this.select_avatar_index+""),e.prototype.onClose.call(this)},i([h(cc.Node)],t.prototype,"head_portrait",void 0),i([h(cc.Node)],t.prototype,"head_item",void 0),i([h(cc.Node)],t.prototype,"select",void 0),i([d],t)}(u.default);a.default=f,cc._RF.pop()},{"../../GameManager":"GameManager","../../Hero/Game/HeroConfig":"HeroConfig","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../UserData":"UserData","../UIComponent":"UIComponent"}],AwakenCultivation:[function(e,t,a){"use strict";cc._RF.push(t,"e27d3eDGdNJ+5h/OV8BmFgM","AwakenCultivation"),Object.defineProperty(a,"__esModule",{value:!0}),a.AwakenCultivationManager=a.JsonAwakenCultivation=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.AwenkenId=0,this.SpiritRarity=0,this.AwakenStage=0,this.CurrentStarVeinsNum=0,this.CurrentStarVeins=[],this.FetterSkillLevel=0};a.JsonAwakenCultivation=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("AwakenCultivation",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonAwakenCultivation\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.AwenkenId,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonAwakenCultivation=function(e){return this.data.get(e)},e.prototype.getSpiritRarity=function(e){return this.data.get(e).SpiritRarity},e.prototype.getAwakenStage=function(e){return this.data.get(e).AwakenStage},e.prototype.getCurrentStarVeinsNum=function(e){return this.data.get(e).CurrentStarVeinsNum},e.prototype.getCurrentStarVeins=function(e){return this.data.get(e).CurrentStarVeins},e.prototype.getFetterSkillLevel=function(e){return this.data.get(e).FetterSkillLevel},e.getMaxAwenkenId=function(){return 404},e.getId=function(e,t){return 100*e+t},e._instance=null,e}();a.AwakenCultivationManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],BagUi:[function(e,t,a){"use strict";cc._RF.push(t,"75e94JFcfhPJK2BE1uITyeW","BagUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},r=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))(function(o,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function s(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(r,s)}c((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var a,n,o,i,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,n=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(s){i=[6,s],n=0}finally{a=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(a,"__esModule",{value:!0});var c,l=e("../../Ads/ApkManager"),g=e("../../GameManager"),u=e("../../multiLanguage/FollowConstants"),p=e("../../multiLanguage/FollowManager"),d=e("../../Prop/Data/Item"),h=e("../../Prop/Prop"),f=e("../../Prop/PropConfig"),_=e("../../Prop/PropManager"),m=e("../../Sound/AudioConstants"),y=e("../UIComponent"),I=cc._decorator,v=I.ccclass;I.property,function(e){e[e.All=1]="All",e[e.Prop=2]="Prop",e[e.Equipment=3]="Equipment"}(c||(c={}));var M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.especial_list=new Array,t.treasure_chest_list=new Array,t.assets_list=new Array,t.play_money_list=new Array,t.consumables_list=new Array,t.equipment_list=null,t.prop_list=null,t.scoll_content=null,t.null_item=null,t}return o(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t),p.default.getInstance().followEvent(u.Follow_Type.\u6253\u5f00\u80cc\u5305\u6b21\u6570),this.initSelectButton(c.All,!0),this.initScroll(c.All)},t.prototype.initSelectButton=function(e,t){for(var a=this,n=function(n){var i=o.node.getChildByName("buttonBg"+n),r=o.node.getChildByName("selectedButtonBg"+n),s=o.node.getChildByName("btnLabel"+n),c=o.node.getChildByName("selectBtnLabel"+n);n==e?(i.active=!1,s.active=!1,r.active=!0,c.active=!0):(i.active=!0,s.active=!0,r.active=!1,c.active=!1),t&&i.on(cc.Node.EventType.TOUCH_END,function(){a.initSelectButton(n,!1),a.scoll_content.removeAllChildren(),a.initScroll(n)})},o=this,i=1;i<4;i++)n(i)},t.prototype.initScroll=function(e){var t,a=this;if(this.especial_list=new Array,this.treasure_chest_list=new Array,this.assets_list=new Array,this.play_money_list=new Array,this.consumables_list=new Array,this.prop_list=new Array,this.scoll_content=this.node.getChildByName("scroll").getComponent(cc.ScrollView).content,this.null_item=this.node.getChildByName("nullItem"),t=this.node.getChildByName("capacityNum"),this.equipment_list=new Array,e!=c.Prop){var n=_.PropManager.getInstance().getEquipmentList(1),o=_.PropManager.getInstance().getEquipmentList(2),i=_.PropManager.getInstance().getEquipmentList(3);this.equipment_list=this.equipment_list.concat(n,o,i)}if(e!=c.Equipment){for(var r=_.PropManager.getInstance().getSortPropList(),s=0;s<r.length;s++)switch(d.ItemManager.getInstance().getType(r[s].prop_id)){case 4:this.consumables_list.push(r[s]);break;case 5:this.assets_list.push(r[s]);break;case 6:this.play_money_list.push(r[s]);break;case 8:this.treasure_chest_list.push(r[s]);break;case 9:this.especial_list.push(r[s])}this.prop_list=this.prop_list.concat(this.especial_list,this.treasure_chest_list,this.assets_list,this.play_money_list,this.consumables_list),""==t.getComponent(cc.Label).string&&(t.getComponent(cc.Label).string=this.prop_list.length+this.equipment_list.length+"/200")}var l=0;this.unscheduleAllCallbacks(),this.scoll_content.removeAllChildren(),this.schedule(function(){if(l<a.prop_list.length+a.equipment_list.length){if(l<a.prop_list.length){var n=void 0;5==d.ItemManager.getInstance().getType(a.prop_list[l].prop_id)?(n=_.PropManager.getInstance().createPropItem(a.prop_list[l].prop_id,a.prop_list[l].prop_num,f.PropAction.Use)).getComponent(h.default).addUseListen(function(){t.getComponent(cc.Label).string="",a.initScroll(e)}):(n=_.PropManager.getInstance().createPropItem(a.prop_list[l].prop_id,a.prop_list[l].prop_num,f.PropAction.Look)).getComponent(h.default).addUseListen(function(){t.getComponent(cc.Label).string="",a.initScroll(e)}),n.setParent(a.scoll_content)}}else(n=cc.instantiate(a.null_item)).active=!0,n.setParent(a.scoll_content);l++},.01,200,0)},t.prototype.getItemGenerator=function(e){var t;return s(this,function(a){switch(a.label){case 0:t=0,a.label=1;case 1:return t<e?[4,this.initItem(t)]:[3,4];case 2:a.sent(),a.label=3;case 3:return t++,[3,1];case 4:return[2]}})},t.prototype.initItem=function(e){if(e<this.prop_list.length+this.equipment_list.length){if(e<this.prop_list.length){var t=void 0;(t=5==d.ItemManager.getInstance().getType(this.prop_list[e].prop_id)?_.PropManager.getInstance().createPropItem(this.prop_list[e].prop_id,this.prop_list[e].prop_num,f.PropAction.Use):_.PropManager.getInstance().createPropItem(this.prop_list[e].prop_id,this.prop_list[e].prop_num,f.PropAction.Look)).setParent(this.scoll_content)}}else(t=cc.instantiate(this.null_item)).active=!0,t.setParent(this.scoll_content)},t.prototype.framingLoad=function(e){return r(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,this.executePreFrame(this.getItemGenerator(e),1)];case 1:return t.sent(),[2]}})})},t.prototype.executePreFrame=function(e,t){var a=this;return new Promise(function(n){var o=e,i=function(){for(var e=(new Date).getTime(),r=o.next();;r=o.next()){if(null==r||r.done)return void n();if((new Date).getTime()-e>t)return void a.scheduleOnce(function(){i()})}};i()})},t.prototype.clickBtnClose=function(){g.default.getInstance().sound_manager.playSound(m.SoundIndex.click),this.destroySelf()},t.prototype.destroySelf=function(){e.prototype.onClose.call(this),l.default.getInstance().closeBanner()},i([v],t)}(y.default);a.default=M,cc._RF.pop()},{"../../Ads/ApkManager":"ApkManager","../../GameManager":"GameManager","../../Prop/Data/Item":"Item","../../Prop/Prop":"Prop","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../multiLanguage/FollowConstants":"FollowConstants","../../multiLanguage/FollowManager":"FollowManager","../UIComponent":"UIComponent"}],BaoXiangGuai:[function(e,t,a){"use strict";cc._RF.push(t,"24dd2K3eFhDBpIk4P7sFvtk","BaoXiangGuai");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("./EnemyConfig"),s=cc._decorator,c=s.ccclass,l=s.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon_atlas=null,t.spine=null,t.state=0,t.move_speed=300,t.move_direction=Math.PI/2,t.target_pos=cc.v2(0,0),t}return o(t,e),t.prototype.init=function(){},t.prototype.destroySelf=function(){return this.spine.animation=r.BaoXiang_Anima.siwang,this.state=0,this.createSkillIcon(),!1},t.prototype.createSkillIcon=function(){},t.prototype.getPinZiSp=function(e){return this.icon_atlas.getSpriteFrame("Game_Skill_Frame_"+(e-1))},t.prototype.update=function(e){if(1==this.state){var t=this.move_speed*e,a=this.target_pos.sub(this.node.getPosition());if(a.mag()<t)this.state=0,this.spine.animation=r.BaoXiang_Anima.gongji,this.spine.loop=!1,this.target_pos=cc.v2(512*Math.random()-256,500*Math.random()-180);else{var n=2*Math.PI,o=(Math.atan2(a.y,a.x)+n)%n,i=this.node.x+t*Math.cos(o),s=this.node.y+t*Math.sin(o);this.node.x=i,this.node.y=s,o>=Math.PI/2&&o<=3*Math.PI/2?this.node.scaleX=1:this.node.scaleX=-1}}},i([l(cc.SpriteAtlas)],t.prototype,"icon_atlas",void 0),i([c],t)}(cc.Component);a.default=g,cc._RF.pop()},{"./EnemyConfig":"EnemyConfig"}],BatDevil:[function(e,t,a){"use strict";cc._RF.push(t,"d5e0fZS++FGIJnv90MBO2Bh","BatDevil");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r,s=e("../Enemy/EnemyConfig"),c=e("../Game/Move"),l=e("../Game/GameEffectsManager"),g=e("../GameManager"),u=e("../Constants"),p=e("../Monster/MonsterManager"),d=e("../Sound/AudioConstants"),h=e("../Monster/MonsterData"),f=e("./Boss"),_=e("../Hero/Game/HeroConfig");(function(e){e.Idle="idle",e.attack1="attack1",e.run="run",e.hurt1="hurt1",e.skill1="skill1",e.dead="dead"})(r||(r={}));var m=cc._decorator,y=m.ccclass,I=(m.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss3_att_move,2),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss3_att_end,2),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss3_skill_move,1),this.addDeathCallback(this.onDeath),this.addXuanYunListen(this.onXuanYunResult),this.addBossInitedListen(this.onBossInited),this.addAttackListen(this.onAttack),this.addMoveListen(this.onMove)},t.prototype.onBossInited=function(){this.startIdle(),this.schedule(this.startSkill,10)},t.prototype.startIdle=function(){e.prototype.setEnemyState.call(this,s.Enemy_State.standby),e.prototype.playSpinAnimaton.call(this,r.Idle,!0),this.scheduleOnce(this.startMove,2)},t.prototype.onXuanYunResult=function(t){t?this.startXuanYun():e.prototype.isHaveDeBuffType.call(this,_.BuffType.Vertigo)||e.prototype.getIsDie.call(this)||this.startIdle()},t.prototype.startXuanYun=function(){var t=this;e.prototype.playSpinAnimaton.call(this,r.hurt1,!1,null,function(){e.prototype.isHaveDeBuffType.call(t,_.BuffType.Vertigo)&&!e.prototype.getIsDie.call(t)&&(t.spine.paused=!0)})},t.prototype.onAttack=function(){var t=this,a=new h.KeyFrameData;a.name="attack1_Start",a.callback=function(){t.startLaunch(cc.v2(t.node.x+t.att_pos.x*t.node.scaleX,t.node.y+t.att_pos.y*t.node.scaleY))},e.prototype.playSpinAnimaton.call(this,r.attack1,!1,a,function(){t.startIdle()})},t.prototype.onMove=function(){e.prototype.playSpinAnimaton.call(this,r.run,!0)},t.prototype.startSkill=function(){var t=this;if(g.default.getInstance().cur_game_state==u.GameState.Game_Playing&&!e.prototype.isHaveDeBuffType.call(this,_.BuffType.Vertigo)){this.unschedule(this.startMove),e.prototype.setEnemyState.call(this,s.Enemy_State.skill),g.default.getInstance().sound_manager.playSound(d.SoundIndex.YX_BossXuli);var a=new h.KeyFrameData;a.name="skill_Start",a.callback=function(){t.releaseSkill()},e.prototype.playSpinAnimaton.call(this,r.skill1,!1,a,function(){t.getEnemyPrevState()==s.Enemy_State.move?t.startMove(0,t.getNextPos()):t.startMove(0)})}},t.prototype.releaseSkill=function(){var t=this,a=cc.v2(cc.v2(this.node.x+this.att_pos.x*this.node.scaleX,this.node.y+this.att_pos.y*this.node.scaleY)),n=l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.boss3_skill_move,a).getComponent(c.default);n.init(640,0,l.GameEffectId.boss3_skill_move),n.setTargetPos(cc.v2(512*Math.random()-256,-1e3),function(){},function(){e.prototype.injureWall.call(t,t.cur_att,_.DamageType.Skill),g.default.getInstance().sound_manager.playSound(d.SoundIndex.YX_BossAttackMinzhong)})},t.prototype.startLaunch=function(t){var a=this;g.default.getInstance().sound_manager.playSound(d.SoundIndex.YX_BossAttackGuodu);var n=l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.boss3_att_move,t),o=n.getComponent(c.default);o.init(540,0,l.GameEffectId.boss3_att_move),o.setTargetPos(cc.v2(512*Math.random()-256,g.default.getInstance().enemy_att_y-20),function(){l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.boss3_att_end,n.getPosition()),l.GameEffectsManager.getInstance().destroyGameEffectById(l.GameEffectId.boss3_att_move,n),e.prototype.injureWall.call(a,a.cur_att,_.DamageType.Normal)})},t.prototype.onDeath=function(){var t=this;this.unscheduleAllCallbacks(),e.prototype.playDeadAnimaton.call(this,r.dead,function(){p.default.getInstance().destroyMonster(t.node,t.monster_type)}),g.default.getInstance().sound_manager.playSound(d.SoundIndex.rewardBox2)},t.prototype.update=function(t){g.default.getInstance().cur_game_state!=u.GameState.Game_Playing||this.getIsDie()||(e.prototype.update.call(this,t),this.getEnemyState()==s.Enemy_State.move&&this.checkMove(t))},t.prototype.checkMove=function(t){if(!e.prototype.isHaveDeBuffType.call(this,_.BuffType.Vertigo)){var a=this.cur_move_speed*t;if(this.move_target_pos){var n=this.move_target_pos.sub(this.node.getPosition());if(this.node.scaleX=n.x>0?this.setup_scale:-this.setup_scale,n.mag()<a)this.move_end_callback&&(this.move_end_callback(),this.move_end_callback=null);else{var o=2*Math.PI;this.move_direction=(Math.atan2(n.y,n.x)+o)%o,this.moving(t)}}}},t.prototype.moving=function(e){var t=this.node.x,a=this.node.y,n=this.cur_move_speed*e;t+=n*Math.cos(this.move_direction),a+=n*Math.sin(this.move_direction),this.node.x=t,this.node.y=a,this.node.x>320&&(this.node.x=320),this.node.x<-320&&(this.node.x=-320),this.node.y<this.wall_yy&&(this.node.y=this.wall_yy)},i([y],t)}(f.default));a.default=I,cc._RF.pop()},{"../Constants":"Constants","../Enemy/EnemyConfig":"EnemyConfig","../Game/GameEffectsManager":"GameEffectsManager","../Game/Move":"Move","../GameManager":"GameManager","../Hero/Game/HeroConfig":"HeroConfig","../Monster/MonsterData":"MonsterData","../Monster/MonsterManager":"MonsterManager","../Sound/AudioConstants":"AudioConstants","./Boss":"Boss"}],BattlePassData:[function(e,t,a){"use strict";cc._RF.push(t,"431bcmUdRBAUascMtnsEzyA","BattlePassData"),Object.defineProperty(a,"__esModule",{value:!0}),a.BattlePassDataManager=a.JsonBattlePassData=void 0;var n=e("../Loading/LoadManager"),o=function(){this.BattlePassLevel=0,this.RequiredExp=0,this.FreeRewardItem=0,this.FreeRewardNum=0,this.SeniorRewardGem=0,this.SeniorRewardItem=0,this.SeniorRewardNum=0};a.JsonBattlePassData=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("BattlePassData",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonBattlePassData\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.BattlePassLevel,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonBattlePassData=function(e){return this.data.get(e)},e.prototype.getRequiredExp=function(e){return this.data.get(e).RequiredExp},e.prototype.getFreeRewardItem=function(e){return this.data.get(e).FreeRewardItem},e.prototype.getFreeRewardNum=function(e){return this.data.get(e).FreeRewardNum},e.prototype.getSeniorRewardGem=function(e){return this.data.get(e).SeniorRewardGem},e.prototype.getSeniorRewardItem=function(e){return this.data.get(e).SeniorRewardItem},e.prototype.getSeniorRewardNum=function(e){return this.data.get(e).SeniorRewardNum},e.getMaxBattlePassLevel=function(){return 15},e._instance=null,e}();a.BattlePassDataManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],BattlePassHelpUi:[function(e,t,a){"use strict";cc._RF.push(t,"9b112ezpr1ILZfdmrmTsZmm","BattlePassHelpUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Ads/ApkManager"),s=e("../GameManager"),c=e("../multiLanguage/LanguageManager"),l=e("../multiLanguage/TextLanguage"),g=e("../Sound/AudioConstants"),u=e("../UI/UIComponent"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab_label=null,t.titleId=0,t.contentIds=[],t}return o(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t)},t.prototype.initData=function(e,t){this.titleId=e,this.contentIds=t,this.refreshUi()},t.prototype.refreshUi=function(){var e=this;this.node.getChildByName("title").getComponent(l.default).setTextId(this.titleId);var t=this.node.getChildByName("scrollView").getComponent(cc.ScrollView).content;this.contentIds.forEach(function(a){var n=cc.instantiate(e.prefab_label);n.getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(a),t.addChild(n)})},t.prototype.clickBtnClose=function(){s.default.getInstance().sound_manager.playSound(g.SoundIndex.click),this.destroySelf()},t.prototype.destroySelf=function(){e.prototype.onClose.call(this),r.default.getInstance().closeBanner()},i([h(cc.Prefab)],t.prototype,"prefab_label",void 0),i([d],t)}(u.default);a.default=f,cc._RF.pop()},{"../Ads/ApkManager":"ApkManager","../GameManager":"GameManager","../Sound/AudioConstants":"AudioConstants","../UI/UIComponent":"UIComponent","../multiLanguage/LanguageManager":"LanguageManager","../multiLanguage/TextLanguage":"TextLanguage"}],BattlePassItem:[function(e,t,a){"use strict";cc._RF.push(t,"a5b02ZA+BtI2LyFyuLg7prb","BattlePassItem");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Ads/ApkManager"),s=e("../GameManager"),c=e("../multiLanguage/FollowConstants"),l=e("../multiLanguage/FollowManager"),g=e("../multiLanguage/LanguageManager"),u=e("../Prop/PropManager"),p=e("../Prop/PropConfig"),d=e("../Sound/AudioConstants"),h=e("./BattlePassData"),f=e("./BattlePassManager"),_=e("../Payment/PayManager"),m=e("../multiLanguage/TextLanguage"),y=cc._decorator,I=y.ccclass,v=y.property,M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab_lock=null,t.prefab_claimed=null,t.id=0,t.pos_xx=[-205,90,205],t.cur_level=0,t.refresh_callback=null,t.buy_callback=null,t}return o(t,e),t.prototype.init=function(e,t,a,n){this.id=e,this.cur_level=t,this.refresh_callback=a,this.buy_callback=n,this.loadItem(),this.refreshData()},t.prototype.loadItem=function(){var e=h.BattlePassDataManager.getInstance().getJsonBattlePassData(this.id),t=new cc.Component.EventHandler;t.target=this.node,t.component="BattlePassItem",t.handler="clickBtnClaim";var a=u.PropManager.getInstance().createPropItem(e.FreeRewardItem,e.FreeRewardNum,p.PropAction.Null);a.getComponent(cc.Button).clickEvents.push(t),this.node.addChild(a),a.x=this.pos_xx[0],a.name="item0";var n=u.PropManager.getInstance().createPropItem(p.PropId.Gem,e.SeniorRewardGem,p.PropAction.Null);n.getComponent(cc.Button).clickEvents.push(t),this.node.addChild(n),n.x=this.pos_xx[1],n.name="item1";var o=u.PropManager.getInstance().createPropItem(e.SeniorRewardItem,e.SeniorRewardNum,p.PropAction.Null);o.getComponent(cc.Button).clickEvents.push(t),this.node.addChild(o),o.x=this.pos_xx[2],o.name="item2"},t.prototype.refreshData=function(){var e=f.BattlePassManager.getCurLevel(),t=f.BattlePassManager.is_buy,a=e<this.cur_level;a?(this.addLock(0),this.addLock(1),this.addLock(2)):(this.removeLock(0),t?(this.removeLock(1),this.removeLock(2)):(this.addLock(1),this.addLock(2)));var n=this.node.getChildByName("btnClaim").getComponent(cc.Button),o=this.node.getChildByName("claimText").getComponent(m.default);o.node.zIndex=1;var i=f.BattlePassManager.getClaimState(f.BattlePassClaimType.Free,this.id),r=f.BattlePassManager.getClaimState(f.BattlePassClaimType.Buy,this.id);o.setTextId(100011);var s=i>0&&r>0;n.interactable=!a&&!s,o.node.color=n.interactable?cc.color(124,82,13):cc.color(91,91,91),s&&(o.setTextId(100013),o.node.color=cc.color(242,225,172),n.node.active=!1),i>0&&this.addClaim(0),r>0&&(this.addClaim(1),this.addClaim(2))},t.prototype.addLock=function(e){if(!this.node.getChildByName("lock"+e)){var t=this.node.getChildByName("item"+e),a=cc.instantiate(this.prefab_lock);a.x=t.x+t.width/2*t.scaleX,a.y=t.y+t.height/2*t.scaleY,a.name="lock"+e,this.node.addChild(a)}},t.prototype.removeLock=function(e){var t=this.node.getChildByName("lock"+e);t&&t.removeFromParent()},t.prototype.addClaim=function(e){if(!this.node.getChildByName("claimed"+e)){var t=this.node.getChildByName("item"+e),a=cc.instantiate(this.prefab_claimed);a.x=t.x,a.y=t.y,a.name="claimed"+e,this.node.addChild(a)}},t.prototype.removeClaim=function(e){var t=this.node.getChildByName("claimed"+e);t&&t.removeFromParent()},t.prototype.toClaimFree=function(e){var t=f.BattlePassManager.getCurLevel()>=this.cur_level,a=h.BattlePassDataManager.getInstance().getJsonBattlePassData(this.id),n=f.BattlePassManager.getClaimState(f.BattlePassClaimType.Free,this.id),o=null;return t&&n<=0&&(o=u.PropManager.getInstance().createPropItem(a.FreeRewardItem,a.FreeRewardNum),f.BattlePassManager.saveClaimState(f.BattlePassClaimType.Free,this.id,1),e&&s.default.getInstance().showGetTip(o),f.BattlePassManager.saveClaimState(f.BattlePassClaimType.Free,this.id,1),this.refreshData()),o},t.prototype.toClaimAll=function(e){var t=f.BattlePassManager.getCurLevel(),a=f.BattlePassManager.is_buy,n=t>=this.cur_level,o=h.BattlePassDataManager.getInstance(),i=u.PropManager.getInstance(),r=o.getJsonBattlePassData(this.id),g=new Array,d=f.BattlePassManager.getClaimState(f.BattlePassClaimType.Free,this.id);if(n&&d<=0){i.changePropNum(r.FreeRewardItem,r.FreeRewardNum);var _=i.createPropItem(r.FreeRewardItem,r.FreeRewardNum,p.PropAction.Look);g.push(_),f.BattlePassManager.saveClaimState(f.BattlePassClaimType.Free,this.id,1),l.default.getInstance().followEvent(c.Follow_Type.\u6218\u4ee4\u514d\u8d39\u5956\u52b1\u9886\u53d6_x\u7ea7+h.BattlePassDataManager.getInstance().getBattlePassLevel(this.id))}var m=f.BattlePassManager.getClaimState(f.BattlePassClaimType.Buy,this.id);if(a&&n&&m<=0){var y=i.createPropItem(p.PropId.Gem,r.SeniorRewardGem),I=i.createPropItem(r.SeniorRewardItem,r.SeniorRewardNum,p.PropAction.Look);i.changePropNum(p.PropId.Gem,r.SeniorRewardGem),i.changePropNum(r.SeniorRewardItem,r.SeniorRewardNum),g.push(y),g.push(I),f.BattlePassManager.saveClaimState(f.BattlePassClaimType.Buy,this.id,1),l.default.getInstance().followEvent(c.Follow_Type.\u6218\u4ee4\u9ad8\u7ea7\u5956\u52b1\u9886\u53d6_x\u7ea7+h.BattlePassDataManager.getInstance().getBattlePassLevel(this.id))}return e&&g.length>0&&s.default.getInstance().showMultipleGetTip(g),this.refreshData(),g},t.prototype.clickBtnClaim=function(){var e=this;s.default.getInstance().sound_manager.playSound(d.SoundIndex.click),f.BattlePassManager.is_buy?(l.default.getInstance().followEvent(c.Follow_Type.\u6218\u4ee4\u9ad8\u7ea7\u5956\u52b1\u70b9\u51fb_x\u7ea7+h.BattlePassDataManager.getInstance().getBattlePassLevel(this.id)),this.toClaimAll(!0),this.refresh_callback&&this.refresh_callback(this.id)):f.BattlePassManager.getClaimState(f.BattlePassClaimType.Free,this.id)<=0?(l.default.getInstance().followEvent(c.Follow_Type.\u6218\u4ee4\u514d\u8d39\u5956\u52b1\u70b9\u51fb_x\u7ea7+h.BattlePassDataManager.getInstance().getBattlePassLevel(this.id)),this.toClaimFree(!0),this.refresh_callback&&this.refresh_callback(this.id)):(l.default.getInstance().followEvent(c.Follow_Type.\u6218\u4ee4\u7ee7\u7eed\u9886\u53d6_x\u7ea7+h.BattlePassDataManager.getInstance().getBattlePassLevel(this.id)),s.default.getInstance().showBuyDialog(g.default.getInstance().getStrByTextId(910002),function(){r.default.getInstance().showPay({result:function(t){t&&(_.PayManager.getInstance().addPayNum("b501"),f.BattlePassManager.refreshBuyState(),e.buy_callback&&e.buy_callback())}},"b501")},null,2,_.PayManager.getInstance().getPayInfo("b501").price,_.PayManager.getInstance().getPayInfo("b501").currency))},i([v(cc.Prefab)],t.prototype,"prefab_lock",void 0),i([v(cc.Prefab)],t.prototype,"prefab_claimed",void 0),i([I],t)}(cc.Component);a.default=M,cc._RF.pop()},{"../Ads/ApkManager":"ApkManager","../GameManager":"GameManager","../Payment/PayManager":"PayManager","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/LanguageManager":"LanguageManager","../multiLanguage/TextLanguage":"TextLanguage","./BattlePassData":"BattlePassData","./BattlePassManager":"BattlePassManager"}],BattlePassManager:[function(e,t,a){"use strict";cc._RF.push(t,"44476CLwhdNUIE6F3UMoVKw","BattlePassManager"),Object.defineProperty(a,"__esModule",{value:!0}),a.BattlePassManager=a.BattlePassClaimType=a.BattlePassTask=void 0;var n,o=e("../Payment/PayManager"),i=e("./BattlePassData");(function(e){e[e.Endless=0]="Endless",e[e.Boss=1]="Boss",e[e.UnlockMission=2]="UnlockMission",e[e.Tower3=3]="Tower3",e[e.Num=4]="Num"})(a.BattlePassTask||(a.BattlePassTask={})),function(e){e[e.Free=0]="Free",e[e.Buy=1]="Buy"}(n=a.BattlePassClaimType||(a.BattlePassClaimType={}));var r=function(){function e(){}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,console.log("BattlePassManager null"),this._instance.init()),this._instance},e.prototype.init=function(){i.BattlePassDataManager.getInstance()},e.getMaxLevel=function(){return 30},e.getUseBattlePassSeries=function(){return 1},e.getTodayTaskProgress=function(e){var t=cc.sys.localStorage.getItem("battle_pass_task_"+e);return""!=t&&null!=t?parseInt(t):0},e.getCurExp=function(){var e=cc.sys.localStorage.getItem("Task_Accumulated_Points_Battle");return""!=e&&null!=e?parseInt(e):0},e.getCurLevel=function(){var e=this.getCurExp(),t=i.BattlePassDataManager.getInstance().getData(),a=0;return t.forEach(function(t){e>=t.RequiredExp&&(a=t.BattlePassLevel)}),a},e.getClaimState=function(e,t){var a=cc.sys.localStorage.getItem("battle_pass_claim_state_"+e+"_"+t);return""!=a&&null!=a?parseInt(a):0},e.saveClaimState=function(e,t,a){cc.sys.localStorage.setItem("battle_pass_claim_state_"+e+"_"+t,a)},e.refreshBuyState=function(){this.is_buy=o.PayManager.getInstance().getPayNum("b501")>0},e.resetBattlePass=function(){o.PayManager.getInstance().savePayNum("b501",0);for(var e=1;e<=this.getMaxLevel();e++){var t=i.BattlePassDataManager.getId(this.getUseBattlePassSeries(),e);this.saveClaimState(n.Free,t,0),this.saveClaimState(n.Buy,t,0)}cc.sys.localStorage.setItem("Task_Accumulated_Points_Battle","")},e._instance=null,e.is_buy=!1,e}();a.BattlePassManager=r,cc._RF.pop()},{"../Payment/PayManager":"PayManager","./BattlePassData":"BattlePassData"}],BattlePassUi:[function(e,t,a){"use strict";cc._RF.push(t,"7bcfcdH7jRNkJEl9ZR1IhmR","BattlePassUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r,s=e("../Ads/ApkManager"),c=e("../BattlePass/BattlePassData"),l=e("../BattlePass/BattlePassItem"),g=e("../BattlePass/BattlePassManager"),u=e("../GameData"),p=e("../GameManager"),d=e("../multiLanguage/FollowConstants"),h=e("../multiLanguage/FollowManager"),f=e("../multiLanguage/LanguageConstants"),_=e("../multiLanguage/LanguageManager"),m=e("../multiLanguage/TextLanguage"),y=e("../Prop/PropConfig"),I=e("../Prop/PropManager"),v=e("../Sound/AudioConstants"),M=e("../Task/TaskUi"),C=e("../thirdParty/ThirdParty"),S=e("../Tools/EventManager"),P=e("../Tools/MyTool"),k=e("../UI/UIComponent"),b=e("../UI/UIConfig"),T=e("../UI/UIManager"),B=e("./PayManager");(function(e){e[e.item=0]="item",e[e.levelProgress=1]="levelProgress",e[e.levelIcon=2]="levelIcon",e[e.levelLabel=3]="levelLabel"})(r||(r={}));var w=cc._decorator,N=w.ccclass,L=w.property,D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab_item=null,t.prefab_level_progress=null,t.prefab_level_label=null,t.prefab_level_icon=null,t.help=null,t.mask=null,t.pos_xx=[-166,-12,94],t.item_yy=[],t.cur_load_index=0,t.a_load_num=10,t.delay_time=.1,t.max_load_num=0,t.cur_level_yy=0,t.topY=10,t.spacingY=10,t.bottomY=10,t.itemHeight=0,t.totalHeight=0,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.node.getChildByName("top"),g.BattlePassManager.refreshBuyState(),this.adaptation(),this.max_load_num=g.BattlePassManager.getMaxLevel()+1,this.loadItem(),this.loadLevelData(),this.schedule(this.loadItem,this.delay_time)},t.prototype.start=function(){B.PayManager.getInstance().addTodayShow(C.PayUiIndex.ZhanLing),S.EventManager.postRedEvent(S.RedEventString.RED_CHECK,S.RedEventType.Btn_Main_Shop_ZhanLing)},t.prototype.adaptation=function(){var e=this.node.getChildByName("top"),t=this.node.getChildByName("bottom"),a=cc.winSize;e.y=a.height/2-148,t.y=-a.height/2;var n=e.y-e.height-(t.y+t.height),o=t.y+t.height+n/2,i=this.node.getChildByName("scroll");i.y=o,i.height=n,i.getChildByName("view").height=n;var r=e.getChildByName("WarOrder_Btn_0");g.BattlePassManager.is_buy&&(r.getComponent(cc.Button).interactable=!1,r.getComponentInChildren(cc.Label).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),r.getComponentInChildren(m.default).setTextId(100012))},t.prototype.loadItem=function(){for(var e=this,t=this.node.getChildByName("scroll").getComponent(cc.ScrollView).content,a=!1,n=g.BattlePassManager.getUseBattlePassSeries(),o=g.BattlePassManager.getCurLevel(),i=0;i<this.a_load_num;i++){var s=i+this.a_load_num*this.cur_load_index,u=s,p=cc.instantiate(this.prefab_item);p.y=-(this.topY+p.height/2+s*(p.height+this.spacingY)),p.name=""+u,p.zIndex=r.item,t.addChild(p),this.itemHeight=p.height,this.item_yy.push(p.y);var d=c.BattlePassDataManager.getId(n,u);p.getComponent(l.default).init(d,u,function(){e.claimAfterRefresh()},function(){e.buyAfterRefresh()});var h=cc.instantiate(this.prefab_level_icon);h.y=p.y+3,h.x=-65,h.zIndex=r.levelIcon,t.addChild(h);var f=cc.instantiate(this.prefab_level_label);if(f.y=p.y+3,f.x=-65,f.zIndex=r.levelLabel,t.addChild(f),f.getComponent(cc.Label).string=""+c.BattlePassDataManager.getInstance().getJsonBattlePassData(d).RequiredExp,o==u&&(this.cur_level_yy=p.y,o<g.BattlePassManager.getMaxLevel())&&c.BattlePassDataManager.getId(n,u+1),o<u){var _=cc.instantiate(this.mask);f.addChild(_)}if(s>=this.max_load_num-1){a=!0;break}}if(a){this.unschedule(this.loadItem);var m=(this.spacingY+this.itemHeight)*this.max_load_num-this.spacingY;this.totalHeight=this.topY+this.bottomY+m,t.height=this.totalHeight,this.startScroll(),this.refreshLevelProgress(m-this.itemHeight),this.claimAfterRefresh()}this.cur_load_index++},t.prototype.startScroll=function(e){void 0===e&&(e=.5);var t=this.node.getChildByName("scroll").getComponent(cc.ScrollView).content,a=-this.cur_level_yy;a<t.parent.height/2&&(a=t.parent.height/2),a>this.totalHeight-t.parent.height/2&&(a=this.totalHeight-t.parent.height/2),cc.tween(t).to(e,{y:a}).start()},t.prototype.loadLevelData=function(){var e=148*this.max_load_num-10+20-138,t=g.BattlePassManager.getCurLevel(),a=this.node.getChildByName("top"),n=this.node.getChildByName("scroll").getComponent(cc.ScrollView).content,o=cc.instantiate(this.prefab_level_progress);o.height=e,o.getComponent(cc.ProgressBar).totalLength=e,o.getComponent(cc.ProgressBar).progress=t/g.BattlePassManager.getMaxLevel(),o.getComponent(cc.ProgressBar).progress+=0==t?0:1/g.BattlePassManager.getMaxLevel()*(g.BattlePassManager.getCurExp()/c.BattlePassDataManager.getInstance().getJsonDataByLevel(t).RequiredExp),o.y=this.item_yy[0],o.zIndex=r.levelProgress,n.addChild(o),a.getChildByName("remainTimeLabel").getComponent(m.default).setTextId(100047),a.getChildByName("remainTimeLabel").getComponent(m.default).setReplaceValue("~",String(g.BattlePassManager.getMaxLevel()-(new Date).getDate())),g.BattlePassManager.is_buy},t.prototype.refreshLevelProgress=function(e){var t=g.BattlePassManager.getCurLevel(),a=this.node.getChildByName("scroll").getComponent(cc.ScrollView).content.getChildByName("levelProgressBar");e&&(a.height=e,a.getComponent(cc.ProgressBar).totalLength=e,a.y=this.item_yy[0]),a.getComponent(cc.ProgressBar).progress=(t-1)/(g.BattlePassManager.getMaxLevel()-1),a.getComponent(cc.ProgressBar).progress+=0==t?0:1/g.BattlePassManager.getMaxLevel()*(g.BattlePassManager.getCurExp()/c.BattlePassDataManager.getInstance().getJsonDataByLevel(t).RequiredExp),this.node.getChildByName("top")},t.prototype.showRemainTime=function(){var e=new Date;if(P.default.getMonthDays(e.getFullYear(),e.getMonth()+1)-e.getDate()>0);else{e.getHours(),e.getMinutes(),e.getSeconds();u.default.getInstance().checkIsNewDay()}},t.prototype.claimAfterRefresh=function(){for(var e=this.node.getChildByName("top"),t=g.BattlePassManager.is_buy,a=g.BattlePassManager.getCurLevel(),n=g.BattlePassManager.getUseBattlePassSeries(),o=!1,i=0;i<=g.BattlePassManager.getMaxLevel()&&a>=i;i++){var r=c.BattlePassDataManager.getId(n,i),s=g.BattlePassManager.getClaimState(g.BattlePassClaimType.Free,r),l=g.BattlePassManager.getClaimState(g.BattlePassClaimType.Buy,r);if(s<=0){o=!0;break}if(t&&l<=0){o=!0;break}}if(g.BattlePassManager.is_buy){var u=e.getChildByName("WarOrder_Btn_0");u.getComponent(cc.Button).interactable=o;var p=o?cc.Material.getBuiltinMaterial("2d-sprite"):cc.Material.getBuiltinMaterial("2d-gray-sprite");u.getComponentInChildren(cc.Label).setMaterial(0,p),u.getComponentInChildren(m.default).setTextId(100012)}},t.prototype.buyAfterRefresh=function(){for(var e=this.node.getChildByName("scroll").getComponent(cc.ScrollView).content,t=0;t<=g.BattlePassManager.getMaxLevel();t++){var a=e.getChildByName(""+t);a&&a.getComponent(l.default).refreshData()}if(g.BattlePassManager.is_buy){var n=this.node.getChildByName("top").getChildByName("WarOrder_Btn_0");g.BattlePassManager.is_buy&&(n.getComponent(cc.Button).interactable=!1,n.getComponentInChildren(cc.Label).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),n.getComponentInChildren(m.default).setTextId(100012),this.claimAfterRefresh())}},t.prototype.refreshBtnUp=function(){var e=this.node.getChildByName("scroll").getComponent(cc.ScrollView).content,t=g.BattlePassManager.getCurLevel(),a=e.getChildByName("btnUp"),n=e.getChildByName(""+t);if(this.cur_level_yy=n.y,t<g.BattlePassManager.getMaxLevel()){var o=c.BattlePassDataManager.getId(g.BattlePassManager.getUseBattlePassSeries(),t+1);a.y=n.y-(n.height/2+5),a.getChildByName("gemLabel").getComponent(cc.Label).string=""+c.BattlePassDataManager.getInstance().getCostDimond(o)}else a.active=!1},t.prototype.clickBtnClose=function(){p.default.getInstance().sound_manager.playSound(v.SoundIndex.click),e.prototype.onClose.call(this)},t.prototype.clickBtnTip=function(){p.default.getInstance().sound_manager.playSound(v.SoundIndex.click);var e=cc.instantiate(this.help);this.node.addChild(e),h.default.getInstance().followEvent(d.Follow_Type.\u6218\u4ee4\u4efb\u52a1\u63d0\u793a)},t.prototype.clickBtnClaimAll=function(){p.default.getInstance().sound_manager.playSound(v.SoundIndex.click),h.default.getInstance().followEvent(d.Follow_Type.\u6218\u4ee4\u70b9\u51fb\u5168\u90e8\u9886\u53d6\u7684\u6b21\u6570);for(var e=this.node.getChildByName("scroll").getComponent(cc.ScrollView).content,t=new Array,a=0;a<=g.BattlePassManager.getMaxLevel();a++){var n=e.getChildByName(""+a);if(n)for(var o=n.getComponent(l.default).toClaimAll(!1),i=0;i<o.length;i++)t.push(o[i])}p.default.getInstance().showMultipleGetTip(t),this.claimAfterRefresh()},t.prototype.clickBtnBuy=function(){var e=this;p.default.getInstance().showBuyDialog(_.default.getInstance().getStrByTextId(910002),function(){s.default.getInstance().showPay({result:function(t){t&&(B.PayManager.getInstance().addPayNum("b501"),g.BattlePassManager.refreshBuyState(),h.default.getInstance().followEvent(d.Follow_Type.\u6218\u4ee4\u89e3\u9501\u7528\u6237\u6570),B.PayManager.getInstance().addPayNum("b501"),e.buyAfterRefresh())}},"b501")},null,2,B.PayManager.getInstance().getPayInfo("b501").price,B.PayManager.getInstance().getPayInfo("b501").currency)},t.prototype.clickRewardAllBtn=function(){1==g.BattlePassManager.is_buy?this.clickBtnClaimAll():this.clickBtnBuy()},t.prototype.clickBtnUp=function(){p.default.getInstance().sound_manager.playSound(v.SoundIndex.click);var e=g.BattlePassManager.getCurLevel(),t=c.BattlePassDataManager.getId(g.BattlePassManager.getUseBattlePassSeries(),e+1),a=c.BattlePassDataManager.getInstance().getCostDimond(t);I.PropManager.getInstance().changePropNum(y.PropId.Gem,-a)?(this.refreshBtnUp(),this.buyAfterRefresh(),this.claimAfterRefresh(),this.refreshLevelProgress(),this.startScroll(.2)):p.default.getInstance().showMessage(_.default.getInstance().getString(f.LanguageIndex.Insufficient_gems))},t.prototype.onClickGoBtn=function(){T.UIManager.getInstance().showUiDialog(b.UIPath.Task,b.UILayerLevel.One,{onCompleted:function(e){e.getComponent(M.default).init(null)}})},i([L(cc.Prefab)],t.prototype,"prefab_item",void 0),i([L(cc.Prefab)],t.prototype,"prefab_level_progress",void 0),i([L(cc.Prefab)],t.prototype,"prefab_level_label",void 0),i([L(cc.Prefab)],t.prototype,"prefab_level_icon",void 0),i([L(cc.Prefab)],t.prototype,"help",void 0),i([L(cc.Prefab)],t.prototype,"mask",void 0),i([N],t)}(k.default);a.default=D,cc._RF.pop()},{"../Ads/ApkManager":"ApkManager","../BattlePass/BattlePassData":"BattlePassData","../BattlePass/BattlePassItem":"BattlePassItem","../BattlePass/BattlePassManager":"BattlePassManager","../GameData":"GameData","../GameManager":"GameManager","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../Task/TaskUi":"TaskUi","../Tools/EventManager":"EventManager","../Tools/MyTool":"MyTool","../UI/UIComponent":"UIComponent","../UI/UIConfig":"UIConfig","../UI/UIManager":"UIManager","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/LanguageConstants":"LanguageConstants","../multiLanguage/LanguageManager":"LanguageManager","../multiLanguage/TextLanguage":"TextLanguage","../thirdParty/ThirdParty":"ThirdParty","./PayManager":"PayManager"}],BattlePop:[function(e,t,a){"use strict";cc._RF.push(t,"2d392/FYJFNXImqGUH8zR8g","BattlePop");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../GameManager"),c=e("../../Maze/MazeManager"),l=e("../../Monster/Data/MonsterConfigure"),g=e("../../multiLanguage/TextLanguage"),u=e("../../Prop/PropManager"),p=e("../../Sound/AudioConstants"),d=e("../../Turntable/Times"),h=e("../../UI/home/ToPlayMainUi"),f=e("../../UI/UIComponent"),_=e("../../UI/UIConfig"),m=e("../../UI/UIManager"),y=e("./RogueHexagonTypes"),I=e("./VoidScene"),v=cc._decorator,M=v.ccclass,C=v.property,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=0,t.mynode=null,t.index=0,t.myindex=0,t.item=[],t.heroitem=null,t.content=null,t.loy=null,t.MStat_Frame=[],t.icon_atlas=null,t.Maze_IconSprite=[],t.Maze_Icon=null,t.bttxt=null,t}return o(t,e),t.prototype.initUi=function(e,t,a,n){this.type=e,this.mynode=t,this.index=a,this.myindex=n;var o=y.RogueHexagonTypesManager.getInstance().getHexagonType(this.type);1==o&&(this.bttxt.getComponent(g.default).setTextId(830002),this.Maze_Icon.getComponent(cc.Sprite).spriteFrame=this.Maze_IconSprite[0]),3==o&&(this.bttxt.getComponent(g.default).setTextId(830003),this.Maze_Icon.getComponent(cc.Sprite).spriteFrame=this.Maze_IconSprite[1]),5==o&&(this.bttxt.getComponent(g.default).setTextId(830004),this.Maze_Icon.getComponent(cc.Sprite).spriteFrame=this.Maze_IconSprite[2]);var i=y.RogueHexagonTypesManager.getInstance().getRogueProp1_ID(this.type),r=y.RogueHexagonTypesManager.getInstance().getRogueProp1_Sum(this.type),s=u.PropManager.getInstance().createPropItem(i,r);s.scale=.9,s.parent=this.item[0];var p=y.RogueHexagonTypesManager.getInstance().getRogueProp2_ID(this.type),h=u.PropManager.getInstance().createPropItem(p,1);h.scale=.9,h.parent=this.item[1],d.default.voidsensid=this.type;for(var f=c.MazeManager.getInstance().getFightingInfo(e).getOnlyMonsterDataList(),_=[],m=[],I=[],v=0;v<f.length;v++)3==l.MonsterConfigureManager.getInstance().getStrengthType(f[v].id)&&_.push(f[v]),2==l.MonsterConfigureManager.getInstance().getStrengthType(f[v].id)&&m.push(f[v]),1==l.MonsterConfigureManager.getInstance().getStrengthType(f[v].id)&&I.push(f[v]);var M=[];M.splice.apply(M,[M.length,0].concat(_)),M.splice.apply(M,[M.length,0].concat(m)),M.splice.apply(M,[M.length,0].concat(I)),this.loy.getComponent(cc.Layout).resizeMode=cc.Layout.ResizeMode.CONTAINER;for(var C=l.MonsterConfigureManager.getInstance(),S=0;S<M.length;S++){var P=cc.instantiate(this.heroitem),k=C.getStrengthType(M[S].id)-1;P.getChildByName("frame_kuang").getComponent(cc.Sprite).spriteFrame=this.MStat_Frame[k],P.getChildByName("Item_mask").getChildByName("Item_icon").getComponent(cc.Sprite).spriteFrame=this.icon_atlas.getSpriteFrame("Avatar_Monster_"+M[S].id),P.active=!0,P.parent=this.content,this.content.width=106*(S+1)}this.scheduleOnce(function(){this.loy.width>488?(this.loy.getComponent(cc.Layout).resizeMode=cc.Layout.ResizeMode.NONE,this.loy.width=488,this.content.x=-244):this.content.x=-this.loy.width/2},.05)},t.prototype.clickBtnShow=function(){var e=this;this.clickBtnClose(),this.mynode.getComponent(I.default).onClose(),s.default.getInstance().cur_game_mode=r.GameMode.Maze,m.UIManager.getInstance().showUiDialog(_.UIPath.ToPlay,_.UILayerLevel.One,{onCompleted:function(t){t.getComponent(h.default).Mazeid=e.type,t.getComponent(h.default).init({onClose:function(){}})}})},t.prototype.clickBtnClose=function(){this.content.removeAllChildren(),this.content.width=0,this.item[0].children[0].destroy(),this.item[1].children[0].destroy(),s.default.getInstance().sound_manager.playSound(p.SoundIndex.click),this.onClose()},i([C(cc.Node)],t.prototype,"item",void 0),i([C(cc.Node)],t.prototype,"heroitem",void 0),i([C(cc.Node)],t.prototype,"content",void 0),i([C(cc.Node)],t.prototype,"loy",void 0),i([C(cc.SpriteFrame)],t.prototype,"MStat_Frame",void 0),i([C(cc.SpriteAtlas)],t.prototype,"icon_atlas",void 0),i([C(cc.SpriteFrame)],t.prototype,"Maze_IconSprite",void 0),i([C(cc.Node)],t.prototype,"Maze_Icon",void 0),i([C(cc.Node)],t.prototype,"bttxt",void 0),i([M],t)}(f.default);a.default=S,cc._RF.pop()},{"../../Constants":"Constants","../../GameManager":"GameManager","../../Maze/MazeManager":"MazeManager","../../Monster/Data/MonsterConfigure":"MonsterConfigure","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../Turntable/Times":"Times","../../UI/UIComponent":"UIComponent","../../UI/UIConfig":"UIConfig","../../UI/UIManager":"UIManager","../../UI/home/ToPlayMainUi":"ToPlayMainUi","../../multiLanguage/TextLanguage":"TextLanguage","./RogueHexagonTypes":"RogueHexagonTypes","./VoidScene":"VoidScene"}],BearConfig:[function(e,t,a){"use strict";cc._RF.push(t,"ba1c5O9EchExqpf9IMpppSY","BearConfig"),Object.defineProperty(a,"__esModule",{value:!0}),a.BearAttackDistance=a.BearAttackSpeed=a.BearMoveSpeed=a.BearState=a.BearAnimaName=void 0,function(e){e.Attack="Attack",e.Idle="Idle",e.Run="Run",e.Start="Start",e.Walk="Walk"}(a.BearAnimaName||(a.BearAnimaName={})),function(e){e[e.born=0]="born",e[e.idle=1]="idle",e[e.move=2]="move",e[e.attack=3]="attack",e[e.destory=4]="destory"}(a.BearState||(a.BearState={})),a.BearMoveSpeed=150,a.BearAttackSpeed=2,a.BearAttackDistance=40,cc._RF.pop()},{}],Bear:[function(e,t,a){"use strict";cc._RF.push(t,"b27233cRcFM+KfFZbKdHr6k","Bear");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Constants"),s=e("../../../GameManager"),c=e("../../../Monster/Monster"),l=e("../../../Monster/MonsterData"),g=e("../../../Monster/MonsterManager"),u=e("../../../Sound/AudioConstants"),p=e("../GongJi"),d=e("./BearConfig"),h=cc._decorator,f=h.ccclass,_=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spine=null,t.cur_state=d.BearState.born,t.cur_move_speed=80,t.move_target_pos=null,t.att_target=null,t.move_direction=3*Math.PI/2,t.gongji_jishu=0,t.gongji_jiange=1,t.base_jiange=0,t.gongji_juli=100,t.gongji_pos=cc.v2(0,0),t.find_monster_fanwei=1e3,t.setup_scale=1,t.cur_is_left=!1,t.wall_yy=0,t.remain_num=1,t.destory_callback=null,t.bear_id=0,t.aoe_fanwei=0,t}return o(t,e),t.prototype.onLoad=function(){var e=this.node.getChildByName("gongji");this.gongji_pos=e.getPosition(),e.removeFromParent()},t.prototype.init=function(e,t,a,n){void 0===n&&(n=0),this.spine||(this.spine=this.node.getComponent(sp.Skeleton)),this.initData(e),this.bear_id=a,this.gongji_jiange=this.base_jiange=1/d.BearAttackSpeed,this.cur_move_speed=d.BearMoveSpeed,this.gongji_juli=d.BearAttackDistance,this.find_monster_fanwei=e.hero_data.gongji_fanwei,this.aoe_fanwei=n,this.setBearState(d.BearState.born,!1,!1,null,this.checkIdle.bind(this)),this.wall_yy=s.default.getInstance().enemy_att_y,this.node.scale=this.setup_scale,this.remain_num=t,this.node.zIndex=Math.round(8e3-10*this.node.y)},t.prototype.addDestoryListen=function(e){this.destory_callback=e},t.prototype.setBearState=function(e,t,a,n,o){void 0===t&&(t=!0),void 0===a&&(a=!1),this.cur_state=e,this.cur_is_left=t,this.node.scaleX=this.cur_is_left?-this.setup_scale:this.setup_scale,this.playSpineAnimation(this.getAnimaName(),a,n,o)},t.prototype.getGongJiPos=function(){return cc.v2(this.node.x+this.gongji_pos.x*this.node.scaleX,this.node.y+this.gongji_pos.y*this.node.scaleY)},t.prototype.getAnimaName=function(){var e=d.BearAnimaName.Idle;switch(this.cur_state){case d.BearState.born:e=d.BearAnimaName.Start;break;case d.BearState.idle:e=d.BearAnimaName.Idle;break;case d.BearState.move:e=this.att_target&&this.att_target.getPosition().sub(this.getGongJiPos()).mag()>=this.cur_move_speed?d.BearAnimaName.Run:d.BearAnimaName.Walk;break;case d.BearState.attack:e=d.BearAnimaName.Attack}return e},t.prototype.playSpineAnimation=function(e,t,a,n){if(void 0===t&&(t=!1),!t||e!=this.spine.animation){var o=this.spine.setAnimation(0,e,t);a&&this.spine.setTrackEventListener(o,function(e,t){for(var n=0;n<a.length;n++)t.data.name==a[n].name&&a[n].callback()}),n&&this.spine.setTrackCompleteListener(o,function(){o.listener=null,n()})}},t.prototype.startAttack=function(){var e=this;this.gongji_jishu=0;var t=this.att_target.x<this.node.x,a=new l.KeyFrameData;a.name="Attack",a.callback=function(){if(e.gongji_jishu=0,e.att_target){s.default.getInstance().sound_manager.playSound(u.SoundIndex.YX_ShouWangSkill2);var t=e.att_target.getComponent(c.default);if(t&&t.beFlashInjured(e.gongji_data).getDamageNum()>0&&e.aoe_fanwei>0){var a=g.default.getInstance().getMonstersForCenterPos(-1,t.getCenterPos(),e.aoe_fanwei);if(a)for(var n=0;n<a.length;n++){var o=a[n].getComponent(c.default);o.uuid!=e.uuid&&o.beFlashInjured(e.gongji_data)}}}},this.setBearState(d.BearState.attack,t,!1,[a],function(){e.checkIdle()})},t.prototype.startMove=function(e){var t=this.node.x,a=this.node.y,n=this.cur_move_speed*e;t+=n*Math.cos(this.move_direction),a+=n*Math.sin(this.move_direction),this.node.x=t,this.node.y=a,this.node.x>360&&(this.node.x=360,this.move_direction=Math.PI-this.move_direction),this.node.x<-360&&(this.node.x=-360,this.move_direction=Math.PI-this.move_direction),this.node.y<this.wall_yy&&(this.node.y=this.wall_yy);var o=this.move_direction>Math.PI/2&&this.move_direction<3*Math.PI/2;this.setBearState(d.BearState.move,o,!0),this.node.zIndex=Math.round(8e3-10*this.node.y)},t.prototype.startDestory=function(){this.setBearState(d.BearState.destory),cc.tween(this.node).delay(.5).to(1,{opacity:0}).removeSelf().start(),this.destory_callback&&this.destory_callback()},t.prototype.update=function(e){s.default.getInstance().cur_game_state==r.GameState.Game_Playing&&this.cur_state!=d.BearState.born&&this.cur_state!=d.BearState.destory&&(this.remain_num-=e,this.remain_num>0?this.checkAttack(e):this.startDestory())},t.prototype.checkAttack=function(e){if(this.gongji_jishu+=e,this.cur_state!=d.BearState.attack){var t=g.default.getInstance().getMonstersForCenterPos(1,this.getGongJiPos(),this.find_monster_fanwei);t?(this.att_target=t[0],this.att_target.getPosition().sub(this.getGongJiPos()).mag()<this.gongji_juli?this.gongji_jishu>=this.gongji_jiange?(this.spine.timeScale=this.base_jiange/this.gongji_jiange,this.startAttack()):this.checkIdle():this.checkMove(e)):(this.att_target=null,this.checkIdle())}},t.prototype.checkIdle=function(){this.cur_state!=d.BearState.idle&&this.setBearState(d.BearState.idle,this.cur_is_left,!0)},t.prototype.checkMove=function(e){var t=this.cur_move_speed*e;if(this.move_target_pos)if((n=this.move_target_pos.sub(this.getGongJiPos())).mag()<t)this.move_target_pos=null,this.checkIdle();else{var a=2*Math.PI;this.move_direction=(Math.atan2(n.y,n.x)+a)%a,this.startMove(e)}else{a=2*Math.PI;var n=this.att_target.getPosition().sub(this.getGongJiPos());this.move_direction=(Math.atan2(n.y,n.x)+a)%a,this.startMove(e)}},i([_(sp.Skeleton)],t.prototype,"spine",void 0),i([f],t)}(p.default);a.default=m,cc._RF.pop()},{"../../../Constants":"Constants","../../../GameManager":"GameManager","../../../Monster/Monster":"Monster","../../../Monster/MonsterData":"MonsterData","../../../Monster/MonsterManager":"MonsterManager","../../../Sound/AudioConstants":"AudioConstants","../GongJi":"GongJi","./BearConfig":"BearConfig"}],BianFu:[function(e,t,a){"use strict";cc._RF.push(t,"322deiAvtdO6qjKmD5sTuC4","BianFu");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../Game/GameEffectsManager"),c=e("../../Game/GroundManager"),l=e("../../GameManager"),g=e("../../Hero/Game/HeroConfig"),u=e("../Monster"),p=e("../MonsterManager"),d=e("../MonsterNewNormal"),h=cc._decorator,f=h.ccclass,_=(h.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.light=null,t.halo_data=null,t.is_loaded=!1,t}return o(t,e),t.prototype.onLoad=function(){var t=this;e.prototype.onLoad.call(this),e.prototype.addMonsterNormalInited.call(this,this.onMonsterNormalInited),e.prototype.addMonsterNormalDeath.call(this,this.onMonsterNormalDeath),s.GameEffectsManager.getInstance().addEffectPoolById(s.GameEffectId.monster30_bianfu_skill,1,function(){t.light||(t.light=c.default.getInstance().createGameEffectById(s.GameEffectId.monster30_bianfu_skill,t.node.getPosition())),t.is_loaded=!0})},t.prototype.onMonsterNormalInited=function(){this.halo_data=new g.HaloData,this.halo_data.halo_id=g.HaloId.Monster30_BianFu_Skill_Halo,this.halo_data.halo_value=[.3],this.halo_data.halo_source_uuid=this.uuid,this.is_loaded&&(this.light||(this.light=c.default.getInstance().createGameEffectById(s.GameEffectId.monster30_bianfu_skill,this.node.getPosition())))},t.prototype.onMonsterNormalDeath=function(){this.light&&(s.GameEffectsManager.getInstance().destroyGameEffectById(s.GameEffectId.monster30_bianfu_skill,this.light),this.light=null);var e=p.default.getInstance().node.children,t=e.length;if(t<=0)return null;for(var a=0;a<t;a++){var n=e[a].getComponent(u.default);n&&n.getIsCanCheck()&&n.subHalo(g.HaloId.Monster30_BianFu_Skill_Halo,this.uuid)}},t.prototype.update=function(t){l.default.getInstance().cur_game_state!=r.GameState.Game_Playing||this.getIsDie()||(e.prototype.update.call(this,t),this.checkSkill(),this.light&&this.light.setPosition(this.node.getPosition()))},t.prototype.checkSkill=function(){var e=p.default.getInstance().node.children,t=e.length;if(t<=0)return null;for(var a=0;a<t;a++){var n=e[a].getComponent(u.default);n&&n.getIsCanCheck()&&(this.getCenterPos().sub(n.getCenterPos()).mag()<=200?n.addHalo(this.halo_data):n.subHalo(g.HaloId.Monster30_BianFu_Skill_Halo,this.uuid))}},i([f],t)}(d.default));a.default=_,cc._RF.pop()},{"../../Constants":"Constants","../../Game/GameEffectsManager":"GameEffectsManager","../../Game/GroundManager":"GroundManager","../../GameManager":"GameManager","../../Hero/Game/HeroConfig":"HeroConfig","../Monster":"Monster","../MonsterManager":"MonsterManager","../MonsterNewNormal":"MonsterNewNormal"}],BigMap:[function(e,t,a){"use strict";cc._RF.push(t,"d88f0uySDtGlKD+liSb2dDn","BigMap");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../GuaJi/MapManager"),s=e("../Level/LevelManager"),c=e("../Level/MissionLevel"),l=e("../multiLanguage/TextLanguage"),g=e("./ChapterPop"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Btn_Close=null,t.Flag=null,t.txt=null,t.Frame=null,t.spriteFrame=[],t.Chapter=null,t.Map_Sword=null,t.ChapterPop=null,t}return o(t,e),t.prototype.start=function(){var e=this;this.Btn_Close.on(cc.Node.EventType.TOUCH_END,this.onBtn_Close,this);for(var t=function(t){a.Flag.children[t].on(cc.Node.EventType.TOUCH_END,function(){e.onBtn_Chapter(t)},a),a.Frame.children[t].on(cc.Node.EventType.TOUCH_END,function(){e.onBtn_Chapter(t)},a)},a=this,n=0;n<this.Flag.children.length;n++)t(n)},t.prototype.onEnable=function(){this.ChapterPop.active=!1;var e=s.LevelManager.getInstance().finish_level+1;0==r.default.Currentlevel||(e=r.default.Currentlevel),e>=c.MissionLevelManager.getMaxLevel()&&(e=s.LevelManager.getInstance().finish_level);for(var t=c.MissionLevelManager.getInstance().getChapter(e),a=0;a<this.Flag.children.length;a++){var n;a+1>(n=s.LevelManager.getInstance().finish_level<c.MissionLevelManager.getMaxLevel()?c.MissionLevelManager.getInstance().getChapter(s.LevelManager.getInstance().finish_level+1):c.MissionLevelManager.getInstance().getChapter(s.LevelManager.getInstance().finish_level))&&(this.Flag.children[a].getComponent(cc.Sprite).spriteFrame=this.spriteFrame[1],this.Chapter.children[a].getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),this.txt.children[a].getComponent(l.default).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),this.Frame.children[a].getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite"))),a+1<=n&&(this.Flag.children[a].getComponent(cc.Sprite).spriteFrame=this.spriteFrame[0],this.Chapter.children[a].getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),this.txt.children[a].getComponent(l.default).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),this.Frame.children[a].getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),a+1==t&&this.Map_Sword.setPosition(this.Flag.children[a].getPosition().x,this.Flag.children[a].getPosition().y+60,0)),this.txt.children[a].getComponent(l.default).setReplaceValue("~",a+1+"")}},t.prototype.onBtn_Close=function(){r.default.getInstance().instantiatelevelnode(),this.node.active=!1},t.prototype.onBtn_Chapter=function(e){this.ChapterPop.getComponent(g.default).parent=this.node,this.ChapterPop.getComponent(g.default).level=Number(e),this.ChapterPop.active=!0},i([d(cc.Node)],t.prototype,"Btn_Close",void 0),i([d(cc.Node)],t.prototype,"Flag",void 0),i([d(cc.Node)],t.prototype,"txt",void 0),i([d(cc.Node)],t.prototype,"Frame",void 0),i([d(cc.SpriteFrame)],t.prototype,"spriteFrame",void 0),i([d(cc.Node)],t.prototype,"Chapter",void 0),i([d(cc.Node)],t.prototype,"Map_Sword",void 0),i([d(cc.Node)],t.prototype,"ChapterPop",void 0),i([p],t)}(cc.Component);a.default=h,cc._RF.pop()},{"../GuaJi/MapManager":"MapManager","../Level/LevelManager":"LevelManager","../Level/MissionLevel":"MissionLevel","../multiLanguage/TextLanguage":"TextLanguage","./ChapterPop":"ChapterPop"}],BigSlim:[function(e,t,a){"use strict";cc._RF.push(t,"41606bxtHVI36DbhB85j2Vo","BigSlim");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Game/GameEffectsManager"),s=e("../MonsterManager"),c=e("../MonsterNewNormal"),l=cc._decorator,g=l.ccclass,u=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addDeathCallback.call(this,this.onDeath),r.GameEffectsManager.getInstance().addEffectPoolById(r.GameEffectId.monster70_silaimu_qq,6),s.default.getInstance().addMonsterPool(10491,6),r.GameEffectsManager.getInstance().addEffectPoolById(r.GameEffectId.monster_zhaohuan,4)},t.prototype.onDeath=function(){var t=this,a=this.spine.setAnimation(0,"Side_Dead",!1);this.spine.setTrackEventListener(a,function(e,a){"Dead"==a.data.name&&t.deathFinish()}),this.spine.setTrackCompleteListener(a,function(){a.listener=null,t.removeAllDeBuff(),t.shadow.opacity=0,t.node.opacity=0,r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.monster_die,e.prototype.getCenterPos.call(t)).scale=.8,s.default.getInstance().destroyMonster(t.node,t.monster_type,!1)})},t.prototype.deathFinish=function(){var e=this;this.removeAllDeBuff();for(var t=this.getCenterPos(),a=Math.PI/5,n=function(n){var o=200*Math.cos(a*n)+t.x,i=200*Math.sin(a*n)+t.y,c=r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.monster70_silaimu_qq,t),l=cc.v2(o,i);cc.tween(c).then(cc.jumpTo(.5,l,i-t.y+50,1)).call(function(){s.default.getInstance().createSummonMonster(10491,e.monster_level,l),r.GameEffectsManager.getInstance().destroyGameEffectById(r.GameEffectId.monster70_silaimu_qq,c)}).start()},o=0;o<6;o++)n(o)},i([g],t)}(c.default));a.default=u,cc._RF.pop()},{"../../Game/GameEffectsManager":"GameEffectsManager","../MonsterManager":"MonsterManager","../MonsterNewNormal":"MonsterNewNormal"}],BigTree:[function(e,t,a){"use strict";cc._RF.push(t,"ed9f7RQ6rBLnYSzRyb0j7PG","BigTree");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r,s=e("../../Constants"),c=e("../../Enemy/EnemyConfig"),l=e("../../Game/GameEffectsManager"),g=e("../../GameManager"),u=e("../../Hero/Game/HeroConfig"),p=e("../../Monster/MonsterData"),d=e("../../Monster/MonsterManager"),h=e("../Boss"),f=e("./BossAtt1");(function(e){e.Idle="Idle",e.attack1="Attack1",e.run="Run",e.hurt1="Hurt",e.skill1_1="Skill1_1",e.skill1_2="Skill1_2",e.skill1_3="Skill1_3",e.dead="Dead"})(r||(r={}));var _=cc._decorator,m=_.ccclass,y=(_.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skill_waiting=!1,t.yindao_jishu=0,t.yindao_time=10,t.is_yindao=!1,t.launch_num=0,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss1_normal_att,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss1_normal_att_hit,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss1_normal_skill,4),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss1_normal_skill_hit,4),this.addDeathCallback(this.onDeath),this.addXuanYunListen(this.onXuanYunResult),this.addBossInitedListen(this.onBossInited)},t.prototype.onBossInited=function(){this.startIdle(),this.node.y=128,this.skill_cd=this.skill_data.getSkillColdDown(1)},t.prototype.startIdle=function(){e.prototype.setEnemyState.call(this,c.Enemy_State.standby),e.prototype.playSpinAnimaton.call(this,r.Idle,!0)},t.prototype.startAttack=function(){var t=this;this.att_jishu=0,e.prototype.setEnemyState.call(this,c.Enemy_State.att);var a=new p.KeyFrameData;a.name="Attack",a.callback=function(){t.att_jishu=0,l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.boss1_normal_att,e.prototype.getAttPos.call(t)).getComponent(f.default).init(e.prototype.getAttData.call(t,u.DamageType.Normal,!0),l.GameEffectId.boss1_normal_att,1200,3*Math.PI/2,t.node.y)},e.prototype.playSpinAnimaton.call(this,r.attack1,!1,a,function(){1==t.skill_waiting?(e.prototype.setEnemyState.call(t,c.Enemy_State.skill),t.startSkill()):t.startIdle()})},t.prototype.startSkill=function(){var t=this;this.skill_jishu=0,e.prototype.getEnemyState.call(this)!=c.Enemy_State.att?e.prototype.isHaveDeBuff.call(this,u.BuffId.Hero_XuanYun)?this.skill_waiting=!0:(this.skill_waiting=!1,e.prototype.setEnemyState.call(this,c.Enemy_State.skill),e.prototype.playSpinAnimaton.call(this,r.skill1_1,!1,null,function(){e.prototype.playSpinAnimaton.call(t,r.skill1_2,!0),t.is_yindao=!0,t.skill_jishu=0,t.yindao_time=10})):this.skill_waiting=!0},t.prototype.startLaunch=function(){for(var t=this,a=0,n=0;n<this.skill_data.getSkillValue1(1);n++)this.scheduleOnce(function(){if(!t.isHaveDeBuff(u.BuffId.Hero_XuanYun)){a++;var n=cc.v2(128*Math.random()-64,t.node.y+256),o=n.x<0?-(80+80*Math.random()):80+80*Math.random(),i=cc.v2(o+n.x,n.y+40*Math.random()+80),r=cc.v2(n.x+o/3,g.default.getInstance().enemy_att_y).sub(i),s=Math.atan2(r.y,r.x),c=l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.boss1_normal_skill,n),p=c.getComponent(f.default),d=e.prototype.getAttData.call(t,u.DamageType.Skill,!0,t.skill_data.getSkillValue2(1));d.is_big=!1,p.init(d,l.GameEffectId.boss1_normal_skill,2e3,s,t.node.y),p.is_can_move=!1,cc.tween(c).to((.75-.05*a)*g.default.getInstance().getGameRate(),{x:i.x,y:i.y},{easing:"quadOut"}).call(function(){p.startFly()}).start()}},.2*n);this.launch_num++},t.prototype.onDeath=function(){var t=this;this.unscheduleAllCallbacks(),e.prototype.playDeadAnimaton.call(this,r.dead,function(){t.removeAllDeBuff(),t.removeAllBuff(),t.shadow&&cc.tween(t.shadow).to(.75,{opacity:0}).start(),cc.tween(t.node).to(.75,{opacity:0}).call(function(){t.removeAllDeBuff(),t.removeAllBuff(),d.default.getInstance().destroyMonster(t.node,t.monster_type)}).start()})},t.prototype.onXuanYunResult=function(t){t?this.startXuanYun():e.prototype.isHaveDeBuffType.call(this,u.BuffType.Vertigo)||e.prototype.getIsDie.call(this)||(1==this.skill_waiting?(e.prototype.setEnemyState.call(this,c.Enemy_State.skill),this.startSkill()):this.startIdle())},t.prototype.startXuanYun=function(){var t=this;this.skill_waiting=!1,this.is_yindao=!1,this.yindao_jishu=0,e.prototype.playSpinAnimaton.call(this,r.hurt1,!1,null,function(){e.prototype.isHaveDeBuffType.call(t,u.BuffType.Vertigo)&&!e.prototype.getIsDie.call(t)&&(t.spine.paused=!0)})},t.prototype.endYinDao=function(){var t=this;this.is_yindao=!1,this.yindao_time=10,e.prototype.playSpinAnimaton.call(this,r.skill1_3,!1,null,function(){t.startIdle()})},t.prototype.update=function(t){g.default.getInstance().cur_game_state!=s.GameState.Game_Playing||this.getIsDie()||(e.prototype.update.call(this,t),this.checkSkill(t),this.isHaveDeBuff(u.BuffId.Hero_XuanYun)||this.getEnemyState()!=c.Enemy_State.skill&&this.checkAtt(t))},t.prototype.checkSkill=function(e){if(this.skill_jishu+=e,!this.isHaveDeBuff(u.BuffId.Hero_XuanYun)&&(0==this.is_yindao&&this.skill_jishu>=this.skill_cd&&(this.skill_jishu=this.att_jiange,this.startSkill()),1==this.is_yindao&&this.yindao_time>0)){if(this.yindao_time-=e,this.yindao_time<=0)return void this.endYinDao();this.yindao_jishu+=e,this.yindao_jishu>=1&&(this.yindao_jishu=0,this.startLaunch())}},t.prototype.checkAtt=function(e){this.att_jishu+=e,this.att_jishu>=this.att_jiange&&(this.att_jishu=this.att_jiange,this.startAttack())},i([m],t)}(h.default));a.default=y,cc._RF.pop()},{"../../Constants":"Constants","../../Enemy/EnemyConfig":"EnemyConfig","../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../../Hero/Game/HeroConfig":"HeroConfig","../../Monster/MonsterData":"MonsterData","../../Monster/MonsterManager":"MonsterManager","../Boss":"Boss","./BossAtt1":"BossAtt1"}],BingNvDan:[function(e,t,a){"use strict";cc._RF.push(t,"12fe2PdcShKpJmdEhK12xIc","BingNvDan");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Game/GameEffectsManager"),s=e("../../../GameManager"),c=e("../../../Monster/Monster"),l=e("../../../Monster/MonsterManager"),g=e("../../../Sound/AudioConstants"),u=e("../BuffData"),p=e("../Bullect"),d=e("../HeroConfig"),h=cc._decorator,f=h.ccclass,_=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bullect_type=0,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addCollisionMonsterListen.call(this,this.onCollisionMonster)},t.prototype.start=function(){this.tuowei_space=1},t.prototype.onCollisionMonster=function(e){switch(this.bullect_type){case 0:e&&(e.beFlashInjured(this.gongji_data).getDamageNum()>0&&r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.bing_nv_attack_hit,this.getHeadPos()),this.destroySelf());break;case 1:if(e){if(e.beFlashInjured(this.gongji_data).getDamageNum()>0){r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.bing_nv_beidong_skill_create,this.getHeadPos());var t=new u.BuffData;t.buff_id=d.BuffId.Hero_BingNv_Skill1_JianSu,t.buff_type=d.BuffType.Slowdown,t.buff_value=[.5],t.remain_time=3,e.addDeBuff(t,this.gongji_data),s.default.getInstance().sound_manager.playSound(g.SoundIndex.YX_BNAttack);var a=l.default.getInstance().getMonstersForCenterPos(-1,e.getCenterPos(),200);if(a)for(var n=this.gongji_data.hero_data.getSkillValue3(d.SkillType.Passive_1),o=0;o<a.length;o++){var i=a[o].getComponent(c.default);if(i.uuid!=e.uuid){var p=i.beFlashInjured(this.gongji_data);if(p.getDamageNum()>0&&(r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.bing_nv_beidong_skill_hit,i.getCenterPos()),!p.is_die)){var h=new u.BuffData;h.buff_id=d.BuffId.Hero_BingNv_Skill1_JianSu,h.buff_type=d.BuffType.Slowdown,h.buff_value=[n],h.remain_time=3,i.addDeBuff(h,this.gongji_data)}}}}this.destroySelf()}}},i([_()],t.prototype,"bullect_type",void 0),i([f],t)}(p.default);a.default=m,cc._RF.pop()},{"../../../Game/GameEffectsManager":"GameEffectsManager","../../../GameManager":"GameManager","../../../Monster/Monster":"Monster","../../../Monster/MonsterManager":"MonsterManager","../../../Sound/AudioConstants":"AudioConstants","../BuffData":"BuffData","../Bullect":"Bullect","../HeroConfig":"HeroConfig"}],BingNvWall:[function(e,t,a){"use strict";cc._RF.push(t,"19b10DTiuBHbLhxlh/3JxKB","BingNvWall");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Game/GameEffectsManager"),s=e("../../../GameManager"),c=e("../../../Monster/Monster"),l=e("../../../Monster/MonsterManager"),g=e("../../../Wall/Wall"),u=e("../../../Wall/WallConfig"),p=e("../../../Wall/WallManager"),d=e("../BuffData"),h=e("../HeroConfig"),f=cc._decorator,_=f.ccclass,m=(f.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gongji_data=null,t.is_destroy=!1,t.self_rect=null,t.wall_id=u.WallType.BingNvWall,t.remain_time=0,t}return o(t,e),t.prototype.init=function(t,a,n,o){void 0===o&&(o=u.WallType.BingNvWall),t.hero_data.Health=t.hero_data.total_hp*t.hero_data.getSkillValue2(h.SkillType.Active),this.gongji_data=t,this.node.setPosition(cc.v2(0,a.y)),this.node.zIndex=Math.round(8e3-10*this.node.y),this.is_destroy=!1,this.remain_time=n,this.wall_id=o,this.node.getComponent(cc.Collider).enabled=!1,this.checkJiTui(a)&&(this.node.getComponent(cc.Collider).enabled=!0,e.prototype.initWall.call(this,this.gongji_data.hero_data,u.WallType.BingNvWall),e.prototype.setWallDieListen.call(this,this.onWallDie.bind(this)),e.prototype.setDamageListen.call(this,this.onDamage.bind(this)),this.scheduleOnce(this.destroySelf,this.gongji_data.hero_data.getSkillValue1(h.SkillType.Active)))},t.prototype.checkJiTui=function(t){this.self_rect=cc.rect(-cc.winSize.width/2,t.y-60,cc.winSize.width,120),e.prototype.setWallRect.call(this,this.self_rect);var a=cc.rect(-cc.winSize.width/2,t.y-100,cc.winSize.width,200),n=l.default.getInstance().getMonstersForBingNvWallRect(a),o=0,i=this.gongji_data.hero_data.ExclusiveWeaponSkillValue_1;if(i&&i>0&&(o=i),n.boss_ts)return this.destroySelf(),o>0&&((f=cc.instantiate(this.gongji_data)).skill_damage_rate=o,n.boss_ts.beFlashInjured(f)),!1;for(var s=n.back_monsters,g=0;g<s.length;g++){var u=s[g].getComponent(c.default);cc.tween(u.node).to(.15,{y:t.y+60+70*Math.random()}).start();var f,_=new d.BuffData;_.buff_id=h.BuffId.Hero_XuanYun,_.buff_type=h.BuffType.Vertigo,_.buff_value=[0],_.remain_time=.35,_.game_effect_id=r.GameEffectId.xuanyun,u.addDeBuff(_,this.gongji_data),o>0&&((f=cc.instantiate(this.gongji_data)).skill_damage_rate=o,u.beFlashInjured(f))}return this.node.getComponent(sp.Skeleton).setAnimation(0,"BingNv_Skill_Start",!1),p.default.getInstance().addWall(this.wall_id,this),!0},t.prototype.onDamage=function(e){cc.instantiate(this.gongji_data).skill_damage_rate=this.gongji_data.hero_data.getSkillValue3(h.SkillType.Active),e.beFlashInjured(this.gongji_data)},t.prototype.destroySelf=function(){var e=this;if(!this.is_destroy){this.node.getComponent(cc.Collider).enabled=!1,this.is_destroy=!0;var t=this.node.getComponent(sp.Skeleton);t.setAnimation(0,"BingNv_Skill_End",!1),t.setCompleteListener(function(){t.setCompleteListener(null),r.GameEffectsManager.getInstance().destroyGameEffectById(r.GameEffectId.bing_nv_active_skill_wall,e.node)}),p.default.getInstance().removeWall(this.wall_id),this.unschedule(this.destroySelf)}},t.prototype.getRect=function(){return this.self_rect},t.prototype.onWallDie=function(){this.destroySelf()},t.prototype.onCollisionEnter=function(e){switch(s.default.getInstance(),e.node.group){case"boss_body":this.destroySelf()}},i([_],t)}(g.default));a.default=m,cc._RF.pop()},{"../../../Game/GameEffectsManager":"GameEffectsManager","../../../GameManager":"GameManager","../../../Monster/Monster":"Monster","../../../Monster/MonsterManager":"MonsterManager","../../../Wall/Wall":"Wall","../../../Wall/WallConfig":"WallConfig","../../../Wall/WallManager":"WallManager","../BuffData":"BuffData","../HeroConfig":"HeroConfig"}],BingNv:[function(e,t,a){"use strict";cc._RF.push(t,"817e4192KtAv7zDbojaBeSQ","BingNv");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Constants"),s=e("../../../Game/FightingManager"),c=e("../../../Game/GameEffectsManager"),l=e("../../../Game/SkillManager"),g=e("../../../GameManager"),u=e("../../../Monster/Monster"),p=e("../../../Monster/MonsterData"),d=e("../../../Monster/MonsterManager"),h=e("../../../Sound/AudioConstants"),f=e("../../Skill/FullScreenDamage"),_=e("../Hero"),m=e("../HeroConfig"),y=e("./BingNvDan"),I=e("./BingNvWall"),v=cc._decorator,M=v.ccclass,C=v.property,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab_beidong_2=null,t.full_screen_damage=null,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.bing_nv_attack,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.bing_nv_attack_hit,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.bing_nv_beidong_skill_create,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.bing_nv_beidong_skill,4),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.bing_nv_beidong_skill_hit,4),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.xuanyun,4),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.bing_nv_active_skill_wall,1),this.addSkillListen(this.useSkill),this.addAttackListen(this.normalAttack),this.addXuanYunListen(this.onXuanYunResult)},t.prototype.start=function(){e.prototype.start.call(this),this.is_need_check_distance=!0,e.prototype.setSkillTipSize.call(this,1680,200),this.hero_data.getIsUnlock(m.SkillType.Passive_2)&&this.createFullScreenDamage()},t.prototype.createFullScreenDamage=function(){var e=cc.instantiate(this.prefab_beidong_2);cc.find("Canvas/Hero_Shadow_Root").addChild(e),e.setPosition(this.node.getPosition()),this.full_screen_damage=e.getComponent(f.default),this.full_screen_damage.init(c.GameEffectId.bing_nv_beidong_skill_2,1,this.onSkillDamage2.bind(this))},t.prototype.onSkillDamage2=function(){for(var t=d.default.getInstance().node.children,a=t.length,n=0;n<a;n++){var o=t[n].getComponent(u.default);o&&o.isHaveDeBuffType(m.BuffType.Slowdown)&&o.beFlashInjured(e.prototype.getGongJiData.call(this,m.DamageType.Skill,!1,m.SkillType.Passive_2,this.hero_data.getSkillValue1(m.SkillType.Passive_2)))}},t.prototype.onXuanYunResult=function(e){e?this.unscheduleAllCallbacks():this.setHeroState(m.Hero_State.idle,m.GongJi_FangXiang.zhong)},t.prototype.createBingNvDan=function(e,t,a,n,o){s.default.getInstance().createGameEffectById(e,t).getComponent(y.default).init(e,a,n,o)},t.prototype.normalAttack=function(e){g.default.getInstance().cur_game_state==r.GameState.Game_Playing&&(this.is_can_gongji=!1,this.startAttack(e))},t.prototype.startAttack=function(t){var a=this,n=t.getComponent(u.default).getSheShouPos(),o=this.getFangXiangByPos(n),i=new p.KeyFrameData;i.name="Attack",i.callback=function(){g.default.getInstance().sound_manager.playSound(h.SoundIndex.YX_BNAttack);var t=a.hero_data.getSkillValue1(m.SkillType.Passive_1),o=c.GameEffectId.bing_nv_attack,i=null;t&&Math.random()<t?(o=c.GameEffectId.bing_nv_beidong_skill,i=e.prototype.getGongJiData.call(a,m.DamageType.Skill,!0,m.SkillType.Passive_1,a.hero_data.getSkillValue2(m.SkillType.Passive_1))):(o=c.GameEffectId.bing_nv_attack,i=e.prototype.getGongJiData.call(a,m.DamageType.Normal,!0,m.SkillType.Null));var r=a.getCreateBulletPos(),s=n.sub(r),l=Math.atan2(s.y,s.x);a.createBingNvDan(o,r,a.bullet_speed,l,i),a.is_double_attack?a.resetNormalAttack():a.gongji_jishu=0},e.prototype.setHeroState.call(this,m.Hero_State.attack,o,[i],function(){a.setHeroState(m.Hero_State.idle,a.cur_fangxiang)})},t.prototype.useSkill=function(e){var t=this;return l.default.getInstance().releaseSkill(function(){t.startSelfXuLi(e)},this.node),0},t.prototype.startSelfXuLi=function(e){var t=this,a=cc.find("Canvas/Hero_Root"),n=new p.KeyFrameData;n.name="FaShe",n.callback=function(){l.default.getInstance().setTimeStop(!1),t.node.parent=a,t.node.zIndex=2,t.startLaunch(e)},this.setHeroState(m.Hero_State.skill,m.GongJi_FangXiang.zhong,[n],function(){t.resetGongJiJiShu(),t.setHeroState(m.Hero_State.idle,m.GongJi_FangXiang.zhong)}),this.spine.timeScale=r.JiaSu},t.prototype.startLaunch=function(t){e.prototype.setAttSpineScale.call(this),c.GameEffectsManager.getInstance().createGameEffectForParent(c.GameEffectId.bing_nv_active_skill_wall,t,d.default.getInstance().node).getComponent(I.default).init(e.prototype.getGongJiData.call(this,m.DamageType.Skill,!1,m.SkillType.Active,this.hero_data.getSkillValue3(m.SkillType.Active)),t,this.hero_data.getSkillValue1(m.SkillType.Active)),l.default.getInstance().setIsSkillState(!1),g.default.getInstance().sound_manager.playSound(h.SoundIndex.YX_BNSkill)},i([C(cc.Prefab)],t.prototype,"prefab_beidong_2",void 0),i([M],t)}(_.default);a.default=S,cc._RF.pop()},{"../../../Constants":"Constants","../../../Game/FightingManager":"FightingManager","../../../Game/GameEffectsManager":"GameEffectsManager","../../../Game/SkillManager":"SkillManager","../../../GameManager":"GameManager","../../../Monster/Monster":"Monster","../../../Monster/MonsterData":"MonsterData","../../../Monster/MonsterManager":"MonsterManager","../../../Sound/AudioConstants":"AudioConstants","../../Skill/FullScreenDamage":"FullScreenDamage","../Hero":"Hero","../HeroConfig":"HeroConfig","./BingNvDan":"BingNvDan","./BingNvWall":"BingNvWall"}],Block75:[function(e,t,a){"use strict";cc._RF.push(t,"41d5bNOIR1O6ICeK/v7BH80","Block75");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../GameManager"),c=e("../../Hero/Game/GongJi"),l=e("../Monster"),g=cc._decorator,u=g.ccclass,p=g.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.monster_ts=null,t}return o(t,e),t.prototype.onCollisionEnter=function(e){if(s.default.getInstance().cur_game_state==r.GameState.Game_Playing)switch(e.node.group){case"gongji":var t=e.node.getComponent(c.default);t&&(this.monster_ts.jianshang_rate+=this.monster_ts.skill_data.getSkillValue1(1),this.monster_ts.beFlashInjured(t.gongji_data),this.monster_ts.jianshang_rate-=this.monster_ts.skill_data.getSkillValue1(1),t.node.removeFromParent())}},i([p(l.default)],t.prototype,"monster_ts",void 0),i([u],t)}(cc.CircleCollider);a.default=d,cc._RF.pop()},{"../../Constants":"Constants","../../GameManager":"GameManager","../../Hero/Game/GongJi":"GongJi","../Monster":"Monster"}],Boss10:[function(e,t,a){"use strict";cc._RF.push(t,"0a9d2iG1cFGk4YrW/uU5A8t","Boss10");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r,s=e("../../Constants"),c=e("../../Enemy/EnemyConfig"),l=e("../../Game/GameEffectsManager"),g=e("../../GameManager"),u=e("../../Hero/Data/HeroManager"),p=e("../../Hero/Game/BuffData"),d=e("../../Hero/Game/HeroConfig"),h=e("../../Monster/Monster"),f=e("../../Monster/MonsterBullet"),_=e("../../Monster/MonsterData"),m=e("../../Monster/MonsterManager"),y=e("../../Sound/AudioConstants"),I=e("../../Tutorials/TutorailsManager"),v=e("../Boss"),M=e("./BossSkill10");(function(e){e.Idle="Idle",e.attack1="Attack",e.run="Run",e.hurt1="Hurt",e.skill1_1="Skill2_1",e.skill1_2="Skill2_2",e.skill1_3="Skill2_3",e.skill2="Skill3",e.skill3="Skill4",e.skill4="Skill5",e.dead="Dead"})(r||(r={}));var C=cc._decorator,S=C.ccclass,P=(C.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.yindao_jishu=0,t.yindao_time=10,t.is_yindao=!1,t.launch_num=0,t.kuangbao_value=[],t.is_kuang_bao=!1,t.is_active_skill_3=!1,t.is_active_skill_4=!1,t.zhaohuan_id=[20781,20772,10611,10621,10512],t.zhaohuan_num=[3,2,8,3,3],t.att_num=0,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss10_attack,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss10_attack_hit,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss10_skill2_0,4),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss10_skill2_hit,4),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.monster_zhaohuan,4);for(var t=0;t<this.zhaohuan_id.length;t++)m.default.getInstance().addMonsterPool(this.zhaohuan_id[t],2);this.addDeathCallback(this.onDeath),this.addXuanYunListen(this.onXuanYunResult),this.addBossInitedListen(this.onBossInited),this.addChangeBossHpListen(this.onChangeHp)},t.prototype.onBossInited=function(){this.startIdle(),this.node.y=128,this.kuangbao_value=[this.skill_data.getSkillValue1(4),this.skill_data.getSkillValue2(4)]},t.prototype.onChangeHp=function(){this.cur_hp<=.7*this.max_hp&&0==this.is_active_skill_3&&(this.is_active_skill_3=!0,this.startSkill(3)),this.cur_hp<=.3*this.max_hp?0==this.is_active_skill_4&&this.skill_cold_down[3]<=0&&(this.is_active_skill_4=!0,this.startSkill(4)):1==this.is_active_skill_4&&(this.is_active_skill_4=!1,this.setKuangBao(!1))},t.prototype.setKuangBao=function(e){this.is_kuang_bao!=e&&(this.is_kuang_bao=e,this.is_active_skill_4=e,e?(this.monster_data.Attack+=this.base_attribute_data.Attack*this.kuangbao_value[0],this.changeAttackSpeed(this.kuangbao_value[1])):(this.monster_data.Attack-=this.base_attribute_data.Attack*this.kuangbao_value[0],this.changeAttackSpeed(-this.kuangbao_value[1])))},t.prototype.startIdle=function(){e.prototype.setEnemyState.call(this,c.Enemy_State.standby),e.prototype.playSpinAnimaton.call(this,r.Idle,!0)},t.prototype.startAttack=function(){var t=this;this.att_jishu=0,e.prototype.setEnemyState.call(this,c.Enemy_State.att);var a=new _.KeyFrameData;a.name="Attack",a.callback=function(){t.att_jishu=0,g.default.getInstance().sound_manager.playSound(y.SoundIndex.YX_BOSS10Attack),l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.boss10_attack,e.prototype.getAttPos.call(t)).getComponent(f.default).init(e.prototype.getAttData.call(t,d.DamageType.Normal,!0),l.GameEffectId.boss10_attack,l.GameEffectId.boss10_attack_hit,1800,3*Math.PI/2),t.att_num++,t.att_num>=8&&(t.att_num=0,t.skill_queue.push(2))},e.prototype.playSpinAnimaton.call(this,r.attack1,!1,a,function(){t.skill_queue.length>0?(e.prototype.setEnemyState.call(t,c.Enemy_State.standby),t.startSkill(t.skill_queue.shift())):t.startIdle()})},t.prototype.startSkill=function(e){switch(e){case 1:this.startSkill1();break;case 2:this.startSkill2();break;case 3:this.is_active_skill_3&&this.startSkill3();break;case 4:this.is_active_skill_4&&this.startSkill4()}},t.prototype.startSkill1=function(){var t=this;this.skill_cold_down[0]=this.skill_data.getSkillColdDown(1),e.prototype.getEnemyState.call(this)!=c.Enemy_State.att&&e.prototype.getEnemyState.call(this)!=c.Enemy_State.skill?e.prototype.isHaveDeBuff.call(this,d.BuffId.Hero_XuanYun)?this.skill_queue.indexOf(1)<0&&this.skill_queue.push(1):(0==I.default.getInstance().is_finish_game&&I.default.getInstance().isShowTutorials(203)&&(this.cur_toughness=1),this.skill_cold_down[0]=this.skill_data.getSkillColdDown(1),e.prototype.setEnemyState.call(this,c.Enemy_State.skill),e.prototype.playSpinAnimaton.call(this,r.skill1_1,!1,null,function(){e.prototype.playSpinAnimaton.call(t,r.skill1_2,!0,null),t.is_yindao=!0,t.yindao_time=10})):this.skill_queue.indexOf(1)<0&&this.skill_queue.push(1)},t.prototype.startLaunch=function(){var t=this;if(g.default.getInstance().cur_game_state==s.GameState.Game_Playing){this.skill_jishu=0;for(var a=0,n=this.skill_data.getSkillValue1(1),o=0;o<n;o++)this.scheduleOnce(function(){if(!t.isHaveDeBuff(d.BuffId.Hero_XuanYun)){g.default.getInstance().sound_manager.playSound(y.SoundIndex.YX_BOSS10Skill),a++;var n=cc.v2(128*Math.random()-64,t.node.y+256),o=n.x<0?-(80+80*Math.random()):80+80*Math.random(),i=cc.v2(o+n.x,n.y+40*Math.random()+80),r=3*Math.PI/2,s=u.HeroManager.getInstance().getRandHeroId(g.default.getInstance().cur_game_mode,d.Hero_Type.NULL,g.default.getInstance().cur_team_list);if(s!=d.Hero_Type.NULL){var c=g.default.getInstance().all_hero.get(s).node.getPosition().sub(i),p=2*Math.PI;r=(Math.atan2(c.y,c.x)+p)%p}var h=l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.boss10_skill2_0,n),f=h.getComponent(M.default);f.init(e.prototype.getAttData.call(t,d.DamageType.Skill,!0,t.skill_data.getSkillValue2(1)),l.GameEffectId.boss10_skill2_0,1500,r,t.node.y),f.is_can_move=!1,cc.tween(h).to((.25-.05*a)*g.default.getInstance().getGameRate(),{x:i.x,y:i.y},{easing:"quadOut"}).call(function(){f.startFly()}).start()}},.25*o);this.launch_num++,3==this.launch_num&&0==I.default.getInstance().is_finish_game&&I.default.getInstance().isShowTutorials(203)&&I.default.getInstance().showTutorials(203,function(){g.default.getInstance().setGameRate(1/s.JiaSu)},function(){I.default.getInstance().saveTutorials(203),t.cur_toughness=0,g.default.getInstance().setGameRate(1)},!1,null,this.node.getPosition())}},t.prototype.endYinDao=function(){var t=this;this.is_yindao=!1,this.yindao_time=10,e.prototype.playSpinAnimaton.call(this,r.skill1_3,!1,null,function(){t.att_jishu=0,t.skill_queue.length>0?(e.prototype.setEnemyState.call(t,c.Enemy_State.standby),t.startSkill(t.skill_queue.shift())):t.startIdle()})},t.prototype.startSkill2=function(){var t=this;if(this.skill_cold_down[1]=this.skill_data.getSkillColdDown(2),e.prototype.getEnemyState.call(this)!=c.Enemy_State.att&&e.prototype.getEnemyState.call(this)!=c.Enemy_State.skill)if(e.prototype.isHaveDeBuff.call(this,d.BuffId.Hero_XuanYun))this.skill_queue.indexOf(2)<0&&this.skill_queue.push(2);else{g.default.getInstance().sound_manager.playSound(y.SoundIndex.YX_Boss5Beidong),e.prototype.setEnemyState.call(this,c.Enemy_State.skill),this.skill_cold_down[1]=this.skill_data.getSkillColdDown(2);var a=new _.KeyFrameData;a.name="Skill3",a.callback=function(){t.att_jishu=0,t.startZhaoHuan()},e.prototype.playSpinAnimaton.call(this,r.skill2,!1,a,function(){t.skill_queue.length>0?(e.prototype.setEnemyState.call(t,c.Enemy_State.standby),t.startSkill(t.skill_queue.shift())):t.startIdle()})}else this.skill_queue.indexOf(2)<0&&this.skill_queue.push(2)},t.prototype.startZhaoHuan=function(){for(var e=0,t=0;t<this.zhaohuan_num.length;t++)e+=this.zhaohuan_num[t];for(var a=[],n=0;n<e;n++)a.push(n);var o=Math.PI/(e-1);for(t=0;t<this.zhaohuan_num.length;t++){var i=this.zhaohuan_num[t];for(n=0;n<i;n++){var r=Math.floor(Math.random()*a.length),s=a[r];a.splice(r,1);var c=256*Math.cos(o*s)+this.node.x,l=256*Math.sin(o*s)+this.node.y,g=this.zhaohuan_id[t];m.default.getInstance().createSummonMonster(g,this.monster_level,cc.v2(c,l))}}},t.prototype.startSkill3=function(){var t=this;if(this.skill_cold_down[2]=this.skill_data.getSkillColdDown(3),e.prototype.getEnemyState.call(this)!=c.Enemy_State.att&&e.prototype.getEnemyState.call(this)!=c.Enemy_State.skill)if(e.prototype.isHaveDeBuff.call(this,d.BuffId.Hero_XuanYun))this.skill_queue.indexOf(3)<0&&this.skill_queue.push(3);else{e.prototype.setEnemyState.call(this,c.Enemy_State.skill),this.skill_cold_down[2]=this.skill_data.getSkillColdDown(3);var a=new _.KeyFrameData;a.name="Skill4",a.callback=function(){t.att_jishu=0;var e=m.default.getInstance().getMonstersForMonsterPos(-1,t.node.getPosition(),300);if(e)for(var a=0;a<e.length;a++){var n=e[a].getComponent(h.default);if(n){var o=new p.BuffData;o.buff_value=[t.skill_data.getSkillValue1(1)],o.buff_id=d.BuffId.Boss10_Skill_3_guwu,o.buff_type=d.BuffType.MoveSpeedUp,o.remain_time=3,n.addBuff(o)}}},e.prototype.playSpinAnimaton.call(this,r.skill3,!1,a,function(){t.skill_queue.length>0?(e.prototype.setEnemyState.call(t,c.Enemy_State.standby),t.startSkill(t.skill_queue.shift())):t.startIdle()})}else this.skill_queue.indexOf(3)<0&&this.skill_queue.push(3)},t.prototype.startSkill4=function(){var t=this;if(0!=this.is_active_skill_4)if(this.skill_cold_down[3]=this.skill_data.getSkillColdDown(4),e.prototype.getEnemyState.call(this)!=c.Enemy_State.att&&e.prototype.getEnemyState.call(this)!=c.Enemy_State.skill)if(e.prototype.isHaveDeBuff.call(this,d.BuffId.Hero_XuanYun))this.skill_queue.indexOf(4)<0&&this.skill_queue.push(4);else{this.cur_toughness+=1,e.prototype.setEnemyState.call(this,c.Enemy_State.skill),this.skill_cold_down[3]=this.skill_data.getSkillColdDown(4);var a=new _.KeyFrameData;a.name="Skill5",a.callback=function(){t.att_jishu=0,t.cur_toughness-=1,t.att_jishu=0,t.setKuangBao(!0)},e.prototype.playSpinAnimaton.call(this,r.skill4,!1,a,function(){t.skill_queue.length>0?(e.prototype.setEnemyState.call(t,c.Enemy_State.standby),t.startSkill(t.skill_queue.shift())):t.startIdle()})}else this.skill_queue.indexOf(4)<0&&this.skill_queue.push(4)},t.prototype.onDeath=function(){var t=this;this.unscheduleAllCallbacks(),e.prototype.playDeadAnimaton.call(this,r.dead,function(){t.removeAllDeBuff(),t.removeAllBuff(),t.shadow&&cc.tween(t.shadow).to(.75,{opacity:0}).start(),cc.tween(t.node).to(.75,{opacity:0}).call(function(){t.removeAllDeBuff(),t.removeAllBuff(),m.default.getInstance().destroyMonster(t.node,t.monster_type)}).start()})},t.prototype.onXuanYunResult=function(t){t?this.startXuanYun():e.prototype.isHaveDeBuffType.call(this,d.BuffType.Vertigo)||e.prototype.getIsDie.call(this)||(this.skill_queue.length>0?(e.prototype.setEnemyState.call(this,c.Enemy_State.standby),this.startSkill(this.skill_queue.shift())):this.startIdle())},t.prototype.startXuanYun=function(){var t=this;this.is_yindao&&(this.is_yindao=!1,this.yindao_time=10),e.prototype.playSpinAnimaton.call(this,r.hurt1,!1,null,function(){e.prototype.isHaveDeBuffType.call(t,d.BuffType.Vertigo)&&!e.prototype.getIsDie.call(t)&&(t.spine.paused=!0)})},t.prototype.update=function(t){g.default.getInstance().cur_game_state!=s.GameState.Game_Playing||this.getIsDie()||(e.prototype.update.call(this,t),this.checkSkill(t),this.isHaveDeBuffType(d.BuffType.Vertigo)||(this.checkYinDao(t),this.getEnemyState()!=c.Enemy_State.skill&&this.checkAtt(t)))},t.prototype.checkSkill=function(e){for(var t=0;t<4;t++)if(1!=t&&(2!=t||0!=this.is_active_skill_3)&&this.skill_cold_down[t]>0){if(this.skill_cold_down[t]-=e,3==t)continue;this.skill_cold_down[t]<0&&(this.skill_cold_down[t]=0,this.startSkill(t+1))}},t.prototype.checkYinDao=function(e){if(1==this.is_yindao&&this.yindao_time>0){if(this.yindao_time-=e,this.yindao_time<=0)return void this.endYinDao();this.yindao_jishu+=e,this.yindao_jishu>=1&&(this.yindao_jishu=0,this.startLaunch())}},t.prototype.checkAtt=function(e){this.att_jishu+=e,this.att_jishu>=this.att_jiange&&(this.att_jishu=this.att_jiange,this.startAttack())},i([S],t)}(v.default));a.default=P,cc._RF.pop()},{"../../Constants":"Constants","../../Enemy/EnemyConfig":"EnemyConfig","../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../../Hero/Data/HeroManager":"HeroManager","../../Hero/Game/BuffData":"BuffData","../../Hero/Game/HeroConfig":"HeroConfig","../../Monster/Monster":"Monster","../../Monster/MonsterBullet":"MonsterBullet","../../Monster/MonsterData":"MonsterData","../../Monster/MonsterManager":"MonsterManager","../../Sound/AudioConstants":"AudioConstants","../../Tutorials/TutorailsManager":"TutorailsManager","../Boss":"Boss","./BossSkill10":"BossSkill10"}],Boss6:[function(e,t,a){"use strict";cc._RF.push(t,"97c48NXFCdCoIV8qQO2rjxZ","Boss6");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r,s=e("../../Constants"),c=e("../../Enemy/EnemyConfig"),l=e("../../Game/GameEffectsManager"),g=e("../../GameManager"),u=e("../../Hero/Data/HeroManager"),p=e("../../Hero/Game/HeroConfig"),d=e("../../Monster/MonsterBullet"),h=e("../../Monster/MonsterData"),f=e("../../Monster/MonsterManager"),_=e("../../Sound/AudioConstants"),m=e("../Boss"),y=e("./BossSkill6");(function(e){e.Idle="Idle",e.attack1="Attack1",e.run="Run",e.hurt1="Hurt",e.skill1_1="Skill1_1",e.skill1_2="Skill1_2",e.skill1_3="Skill1_3",e.skill2_1="Skill2_1",e.skill2_2="Skill2_2",e.skill2_3="Skill2_3",e.dead="Dead"})(r||(r={}));var I=cc._decorator,v=I.ccclass,M=(I.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skill_waiting=!1,t.yindao_jishu=0,t.yindao_time=10,t.is_yindao=!1,t.launch_num=0,t.cur_state=1,t.skill_jishu_2=0,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss6_attack,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss6_attack_hit,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss6_skill2,4),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss6_skill2_hit,4),this.addDeathCallback(this.onDeath),this.addXuanYunListen(this.onXuanYunResult),this.addBossInitedListen(this.onBossInited)},t.prototype.onBossInited=function(){this.startIdle(),this.node.y=128,this.skill_cd=this.skill_data.getSkillColdDown(2),this.cur_state=1,this.monster_data.Defense+=this.base_attribute_data.Defense*this.skill_data.getSkillValue1(1)},t.prototype.startIdle=function(){e.prototype.setEnemyState.call(this,c.Enemy_State.standby),e.prototype.playSpinAnimaton.call(this,r.Idle,!0)},t.prototype.startAttack=function(){var t=this;this.att_jishu=0,e.prototype.setEnemyState.call(this,c.Enemy_State.att);var a=new h.KeyFrameData;a.name="Attack",a.callback=function(){t.att_jishu=0,g.default.getInstance().sound_manager.playSound(_.SoundIndex.YX_boss6Attack),l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.boss6_attack,e.prototype.getAttPos.call(t)).getComponent(d.default).init(e.prototype.getAttData.call(t,p.DamageType.Normal,!0),l.GameEffectId.boss6_attack,l.GameEffectId.boss6_attack_hit,1500,3*Math.PI/2)},e.prototype.playSpinAnimaton.call(this,r.attack1,!1,a,function(){1==t.skill_waiting?(e.prototype.setEnemyState.call(t,c.Enemy_State.skill),t.startSkill()):t.startIdle()})},t.prototype.startSkill=function(){var t=this;this.skill_jishu=0,e.prototype.getEnemyState.call(this)!=c.Enemy_State.att?e.prototype.isHaveDeBuff.call(this,p.BuffId.Hero_XuanYun)?this.skill_waiting=!0:(this.skill_waiting=!1,e.prototype.setEnemyState.call(this,c.Enemy_State.skill),e.prototype.playSpinAnimaton.call(this,r.skill2_1,!1,null,function(){var a=new h.KeyFrameData;a.name="Skill2",a.callback=t.startLaunch.bind(t),e.prototype.playSpinAnimaton.call(t,r.skill2_2,!0,a),t.is_yindao=!0,t.skill_jishu=0,t.yindao_time=10})):this.skill_waiting=!0},t.prototype.startLaunch=function(){var t=this;if(g.default.getInstance().cur_game_state==s.GameState.Game_Playing){this.skill_jishu=0;for(var a=0,n=0;n<2;n++)this.scheduleOnce(function(){if(!t.isHaveDeBuff(p.BuffId.Hero_XuanYun)){g.default.getInstance().sound_manager.playSound(_.SoundIndex.YX_boss6Attack),a++;var n=cc.v2(128*Math.random()-64,t.node.y+256),o=n.x<0?-(80+80*Math.random()):80+80*Math.random(),i=cc.v2(o+n.x,n.y+40*Math.random()+80),r=3*Math.PI/2,s=u.HeroManager.getInstance().getRandHeroId(g.default.getInstance().cur_game_mode);if(s!=p.Hero_Type.NULL){var c=g.default.getInstance().all_hero.get(s).node.getPosition().sub(i),d=2*Math.PI;r=(Math.atan2(c.y,c.x)+d)%d}var h=l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.boss6_skill2,n),f=h.getComponent(y.default);f.init(e.prototype.getAttData.call(t,p.DamageType.Skill,!0,t.skill_data.getSkillValue1(2)),l.GameEffectId.boss6_skill2,1500,r,t.node.y),f.is_can_move=!1,f.setHeroType(s,t.skill_data.getSkillValue2(2)),cc.tween(h).to((.25-.05*a)*g.default.getInstance().getGameRate(),{x:i.x,y:i.y},{easing:"quadOut"}).call(function(){f.startFly()}).start()}},.25*n);this.launch_num++}},t.prototype.endYinDao=function(){var t=this;this.skill_jishu=0,this.is_yindao=!1,this.yindao_time=10,e.prototype.playSpinAnimaton.call(this,r.skill2_3,!1,null,function(){t.att_jishu=0,t.startIdle()})},t.prototype.onDeath=function(){var t=this;this.unscheduleAllCallbacks(),e.prototype.playDeadAnimaton.call(this,r.dead,function(){t.removeAllDeBuff(),t.removeAllBuff(),t.shadow&&cc.tween(t.shadow).to(.75,{opacity:0}).start(),cc.tween(t.node).to(.75,{opacity:0}).call(function(){t.removeAllDeBuff(),t.removeAllBuff(),f.default.getInstance().destroyMonster(t.node,t.monster_type)}).start()})},t.prototype.onXuanYunResult=function(e){e&&this.startXuanYun()},t.prototype.startXuanYun=function(){var t=this;this.is_yindao&&1==this.cur_state&&(this.skill_waiting=!1,this.is_yindao=!1,this.yindao_jishu=0,this.cur_toughness+=1,this.cur_state=2,this.skill_jishu_2=0,e.prototype.playSpinAnimaton.call(this,r.skill1_1,!1,null,function(){e.prototype.playSpinAnimaton.call(t,r.skill1_2,!0,null,null),t.monster_data.Defense-=t.base_attribute_data.Defense*t.skill_data.getSkillValue3(2),cc.log(t.monster_data.Defense)}))},t.prototype.unXuanYun=function(){var t=this;this.skill_jishu_2=0,e.prototype.getIsDie.call(this)||e.prototype.playSpinAnimaton.call(this,r.skill1_3,!1,null,function(){t.cur_toughness-=1,t.cur_state=1,t.monster_data.Defense+=t.base_attribute_data.Defense*t.skill_data.getSkillValue3(2),cc.log(t.monster_data.Defense),e.prototype.getIsDie.call(t)||t.startIdle()})},t.prototype.update=function(t){g.default.getInstance().cur_game_state!=s.GameState.Game_Playing||this.getIsDie()||(e.prototype.update.call(this,t),this.checkSkill(t),this.isHaveDeBuffType(p.BuffType.Vertigo)||this.getEnemyState()!=c.Enemy_State.skill&&this.checkAtt(t))},t.prototype.checkSkill=function(e){this.skill_jishu+=e,!this.isHaveDeBuffType(p.BuffType.Vertigo)&&(0==this.is_yindao&&this.skill_jishu>=this.skill_cd&&(this.skill_jishu=0,this.startSkill()),1==this.is_yindao&&this.yindao_time>0&&(this.yindao_time-=e,this.yindao_time<=0))?this.endYinDao():2==this.cur_state&&(this.skill_jishu_2+=e,this.skill_jishu_2>=5&&this.unXuanYun())},t.prototype.checkAtt=function(e){this.att_jishu+=e,this.att_jishu>=this.att_jiange&&(this.att_jishu=this.att_jiange,this.startAttack())},i([v],t)}(m.default));a.default=M,cc._RF.pop()},{"../../Constants":"Constants","../../Enemy/EnemyConfig":"EnemyConfig","../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../../Hero/Data/HeroManager":"HeroManager","../../Hero/Game/HeroConfig":"HeroConfig","../../Monster/MonsterBullet":"MonsterBullet","../../Monster/MonsterData":"MonsterData","../../Monster/MonsterManager":"MonsterManager","../../Sound/AudioConstants":"AudioConstants","../Boss":"Boss","./BossSkill6":"BossSkill6"}],Boss7:[function(e,t,a){"use strict";cc._RF.push(t,"4686dpcrThN85/CkhGFlLGm","Boss7");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r,s=e("../../Constants"),c=e("../../Enemy/EnemyConfig"),l=e("../../Game/GameEffectsManager"),g=e("../../GameManager"),u=e("../../Hero/Game/BuffData"),p=e("../../Hero/Game/HeroConfig"),d=e("../../Monster/Monster"),h=e("../../Monster/MonsterBullet"),f=e("../../Monster/MonsterData"),_=e("../../Monster/MonsterManager"),m=e("../../Sound/AudioConstants"),y=e("../../Wall/WallManager"),I=e("../Boss"),v=e("./BossSkill7");(function(e){e.Idle="Idle",e.attack="Attack1",e.run="Run",e.hurt1="Hurt",e.skill1="Skill1",e.skill2="Skill2",e.skill3="Skill3",e.dead="Dead"})(r||(r={}));var M=cc._decorator,C=M.ccclass,S=M.property,P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boss7_buff=null,t.injury_node=null,t.is_active_skill_3=!1,t.active_injury_num=0,t.zhaohuan_id=[20721,20731,10521,10531],t.zhaohuan_num=[3,2,8,3],t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss7_attack_bullect,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss7_attack_bullect_hit,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss7_skill_bullect,4),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss7_skill_bullect_hit,4),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.monster_zhaohuan,4),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.xuanyun,4);for(var t=0;t<this.zhaohuan_id.length;t++)_.default.getInstance().addMonsterPool(this.zhaohuan_id[t],2);this.addDeathCallback(this.onDeath),this.addXuanYunListen(this.onXuanYunResult),this.addBossInitedListen(this.onBossInited),this.addChangeBossHpListen(this.onChangeHp),this.addInjuryCallback(this.onActiveInjury)},t.prototype.onBossInited=function(){this.startIdle(),this.node.y=128,this.active_injury_num=0},t.prototype.onChangeHp=function(){this.cur_hp<=this.max_hp/3&&0==this.is_active_skill_3&&(this.is_active_skill_3=!0,this.startSkill(3))},t.prototype.onActiveInjury=function(){this.active_injury_num++,this.showInjuryNum(),this.active_injury_num>=this.skill_data.getSkillValue1(1)&&(this.active_injury_num=0,this.startSkill1())},t.prototype.showInjuryNum=function(){this.injury_node?this.injury_node.getChildByName("num").getComponent(cc.Label).string=this.active_injury_num.toString():(this.injury_node=cc.instantiate(this.boss7_buff),cc.find("Canvas/Ui_Root/top_ui/BossHpRoot").addChild(this.injury_node),this.injury_node.x=-220,this.injury_node.getChildByName("num").getComponent(cc.Label).string=this.active_injury_num.toString())},t.prototype.startIdle=function(){e.prototype.setEnemyState.call(this,c.Enemy_State.standby),e.prototype.playSpinAnimaton.call(this,r.Idle,!0)},t.prototype.startAttack=function(){var t=this;this.att_jishu=0,e.prototype.setEnemyState.call(this,c.Enemy_State.att);var a=new f.KeyFrameData;a.name="Attack",a.callback=function(){t.att_jishu=0,g.default.getInstance().sound_manager.playSound(m.SoundIndex.YX_boss7Attack),l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.boss7_attack_bullect,t.getAttPos()).getComponent(h.default).init(t.getAttData(p.DamageType.Normal,!0),l.GameEffectId.boss7_attack_bullect,l.GameEffectId.boss7_attack_bullect_hit,1600,3*Math.PI/2)},e.prototype.playSpinAnimaton.call(this,r.attack,!1,a,function(){t.skill_queue.length>0?(e.prototype.setEnemyState.call(t,c.Enemy_State.standby),t.startSkill(t.skill_queue.shift())):t.startIdle()})},t.prototype.startSkill=function(e){switch(e){case 1:this.startSkill1();break;case 2:this.startSkill2();break;case 3:this.is_active_skill_3&&this.startSkill3()}},t.prototype.startSkill1=function(){var t=this;if(this.skill_cold_down[0]=this.skill_data.getSkillColdDown(1),e.prototype.getEnemyState.call(this)!=c.Enemy_State.att&&e.prototype.getEnemyState.call(this)!=c.Enemy_State.skill)if(e.prototype.isHaveDeBuff.call(this,p.BuffId.Hero_XuanYun))this.skill_queue.indexOf(1)<0&&this.skill_queue.push(1);else{e.prototype.setEnemyState.call(this,c.Enemy_State.skill),this.skill_cold_down[0]=this.skill_data.getSkillColdDown(1);var a=new f.KeyFrameData;a.name="Skill",a.callback=function(){g.default.getInstance().sound_manager.playSound(m.SoundIndex.YX_boss7Skill1),t.att_jishu=0;for(var e=t.skill_data.getSkillValue2(1),a=y.default.getInstance().getMainWall().getWallRect().center,n=function(e){t.scheduleOnce(function(){var n=cc.v2(600*Math.random()-300,cc.winSize.height);l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.boss7_skill_bullect,n).getComponent(v.default).init(t.getAttData(p.DamageType.Skill,!1,t.skill_data.getSkillValue3(1)),200*Math.random()-100+a.y,1500,10*Math.random()+30,0==e)},.1*e)},o=0;o<e;o++)n(o)},e.prototype.playSpinAnimaton.call(this,r.skill1,!1,a,function(){t.skill_queue.length>0?(e.prototype.setEnemyState.call(t,c.Enemy_State.standby),t.startSkill(t.skill_queue.shift())):t.startIdle()})}else this.skill_queue.indexOf(1)<0&&this.skill_queue.push(1)},t.prototype.startSkill2=function(){var t=this;if(this.skill_cold_down[1]=this.skill_data.getSkillColdDown(2),e.prototype.getEnemyState.call(this)!=c.Enemy_State.att&&e.prototype.getEnemyState.call(this)!=c.Enemy_State.skill)if(e.prototype.isHaveDeBuff.call(this,p.BuffId.Hero_XuanYun))this.skill_queue.indexOf(2)<0&&this.skill_queue.push(2);else{g.default.getInstance().sound_manager.playSound(m.SoundIndex.YX_Boss5Beidong),e.prototype.setEnemyState.call(this,c.Enemy_State.skill),this.skill_cold_down[1]=this.skill_data.getSkillColdDown(2);var a=new f.KeyFrameData;a.name="Skill2",a.callback=function(){t.att_jishu=0,t.startZhaoHuan(),t.beHeal(.1*t.getMaxHp())},e.prototype.playSpinAnimaton.call(this,r.skill2,!1,a,function(){t.skill_queue.length>0?(e.prototype.setEnemyState.call(t,c.Enemy_State.standby),t.startSkill(t.skill_queue.shift())):t.startIdle()})}else this.skill_queue.indexOf(2)<0&&this.skill_queue.push(2)},t.prototype.startZhaoHuan=function(){for(var e=0,t=0;t<this.zhaohuan_num.length;t++)e+=this.zhaohuan_num[t];for(var a=[],n=0;n<e;n++)a.push(n);var o=Math.PI/(e-1);for(t=0;t<this.zhaohuan_num.length;t++){var i=this.zhaohuan_num[t];for(n=0;n<i;n++){var r=Math.floor(Math.random()*a.length),s=a[r];a.splice(r,1);var c=256*Math.cos(o*s)+this.node.x,l=256*Math.sin(o*s)+this.node.y,g=this.zhaohuan_id[t];_.default.getInstance().createSummonMonster(g,this.monster_level,cc.v2(c,l))}}},t.prototype.startSkill3=function(){var t=this;if(this.skill_cold_down[2]=this.skill_data.getSkillColdDown(3),e.prototype.getEnemyState.call(this)!=c.Enemy_State.att&&e.prototype.getEnemyState.call(this)!=c.Enemy_State.skill)if(e.prototype.isHaveDeBuff.call(this,p.BuffId.Hero_XuanYun))this.skill_queue.indexOf(3)<0&&this.skill_queue.push(3);else{g.default.getInstance().sound_manager.playSound(m.SoundIndex.YX_Boss5Beidong),e.prototype.setEnemyState.call(this,c.Enemy_State.skill),this.skill_cold_down[2]=this.skill_data.getSkillColdDown(3);var a=new f.KeyFrameData;a.name="Skill3",a.callback=function(){t.att_jishu=0;var e=_.default.getInstance().getMonstersForMonsterPos(-1,t.node.getPosition(),t.skill_data.getSkillValue1(3));if(e)for(var a=0;a<e.length;a++){var n=e[a].getComponent(d.default);if(n){var o=new u.BuffData;o.buff_value=[t.skill_data.getSkillValue2(3)],o.buff_id=p.BuffId.Boss5_Skill_1_guwu,o.buff_type=p.BuffType.MoveSpeedUp,o.remain_time=5,n.addBuff(o)}}},e.prototype.playSpinAnimaton.call(this,r.skill3,!1,a,function(){t.skill_queue.length>0?(e.prototype.setEnemyState.call(t,c.Enemy_State.standby),t.startSkill(t.skill_queue.shift())):t.startIdle()})}else this.skill_queue.indexOf(3)<0&&this.skill_queue.push(3)},t.prototype.onDeath=function(){var t=this;this.unscheduleAllCallbacks(),e.prototype.playDeadAnimaton.call(this,r.dead,function(){t.removeAllDeBuff(),t.removeAllBuff(),t.shadow&&cc.tween(t.shadow).to(.75,{opacity:0}).start(),cc.tween(t.node).to(.75,{opacity:0}).call(function(){t.removeAllDeBuff(),t.removeAllBuff(),_.default.getInstance().destroyMonster(t.node,t.monster_type)}).start()})},t.prototype.onXuanYunResult=function(t){t?this.startXuanYun():e.prototype.isHaveDeBuffType.call(this,p.BuffType.Vertigo)||e.prototype.getIsDie.call(this)||(this.skill_queue.length>0?(e.prototype.setEnemyState.call(this,c.Enemy_State.standby),this.startSkill(this.skill_queue.shift())):this.startIdle())},t.prototype.startXuanYun=function(){var t=this;e.prototype.playSpinAnimaton.call(this,r.hurt1,!1,null,function(){e.prototype.isHaveDeBuffType.call(t,p.BuffType.Vertigo)&&!e.prototype.getIsDie.call(t)&&(t.spine.paused=!0)})},t.prototype.update=function(t){g.default.getInstance().cur_game_state!=s.GameState.Game_Playing||this.getIsDie()||(e.prototype.update.call(this,t),this.checkSkill(t),this.getEnemyState()!=c.Enemy_State.skill&&(this.isHaveDeBuff(p.BuffId.Hero_XuanYun)||this.checkAtt(t)))},t.prototype.checkSkill=function(e){for(var t=0;t<3;t++)2==t&&0==this.is_active_skill_3||this.skill_cold_down[t]>0&&(this.skill_cold_down[t]-=e,this.skill_cold_down[t]<0&&(this.skill_cold_down[t]=0,this.startSkill(t+1)))},t.prototype.checkAtt=function(e){this.att_jishu+=e,this.att_jishu>=this.att_jiange&&(this.att_jishu=this.att_jiange,this.startAttack())},i([S(cc.Prefab)],t.prototype,"boss7_buff",void 0),i([C],t)}(I.default);a.default=P,cc._RF.pop()},{"../../Constants":"Constants","../../Enemy/EnemyConfig":"EnemyConfig","../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../../Hero/Game/BuffData":"BuffData","../../Hero/Game/HeroConfig":"HeroConfig","../../Monster/Monster":"Monster","../../Monster/MonsterBullet":"MonsterBullet","../../Monster/MonsterData":"MonsterData","../../Monster/MonsterManager":"MonsterManager","../../Sound/AudioConstants":"AudioConstants","../../Wall/WallManager":"WallManager","../Boss":"Boss","./BossSkill7":"BossSkill7"}],Boss8:[function(e,t,a){"use strict";cc._RF.push(t,"3835awXS39Baoe6Dg21v00/","Boss8");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r,s=e("../../Constants"),c=e("../../Enemy/EnemyConfig"),l=e("../../Game/GameEffectsManager"),g=e("../../Game/GroundManager"),u=e("../../GameManager"),p=e("../../Hero/Game/BuffData"),d=e("../../Hero/Game/HeroConfig"),h=e("../../Monster/MonsterBullet"),f=e("../../Monster/MonsterData"),_=e("../../Monster/MonsterManager"),m=e("../../Sound/AudioConstants"),y=e("../Boss"),I=e("./BossSkill8");(function(e){e.Idle="Idle",e.attack="Attack1",e.run="Run",e.hurt1="Hurt",e.skill1_1="Skill1_1",e.skill1_2="Skill1_2",e.skill1_3="Skill1_3",e.skill1_4="Skill1_4",e.skill1_5="Skill1_5",e.skill1_6="Skill1_6",e.skill2="Skill2",e.skill3="Skill3",e.dead="Dead"})(r||(r={}));var v=cc._decorator,M=v.ccclass,C=v.property,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.att_num=0,t.is_active_skill_3=!1,t.kuangbao_value=[],t.is_kuang_bao=!1,t.cur_zhaohuan_index=0,t.skill_pos=cc.v2(),t.wei_zuandi_pos=cc.v2(0,0),t.wei_chudi_pos=cc.v2(0,0),t.wei_node=null,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss8_attack_bullect,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss8_attack_bullect_hit,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss8_skill_bullect,4),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss8_skill_bullect_hit,4),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.xuanyun,2),this.addDeathCallback(this.onDeath),this.addXuanYunListen(this.onXuanYunResult),this.addBossInitedListen(this.onBossInited),this.addChangeBossHpListen(this.onChangeHp)},t.prototype.onBossInited=function(){this.startIdle(),this.node.y=128,this.kuangbao_value[0]=this.skill_data.getSkillValue1(3),this.skill_pos=this.node.getChildByName("skill").getPosition(),this.wei_node=new cc.Node("wei"),this.wei_node.addComponent(sp.Skeleton).skeletonData=this.spine.skeletonData,g.default.getInstance().node.addChild(this.wei_node),this.wei_node.setPosition(this.node.getPosition()),this.wei_node.active=!1,this.shadow.active=!1},t.prototype.onChangeHp=function(){this.cur_hp<=.3*this.max_hp?0==this.is_active_skill_3&&this.skill_cold_down[2]<=0&&(this.is_active_skill_3=!0,this.startSkill(3)):1==this.is_active_skill_3&&(this.is_active_skill_3=!1,this.setKuangBao(!1))},t.prototype.startIdle=function(){e.prototype.setEnemyState.call(this,c.Enemy_State.standby),e.prototype.playSpinAnimaton.call(this,r.Idle,!0)},t.prototype.startAttack=function(){var t=this;this.att_jishu=0,e.prototype.setEnemyState.call(this,c.Enemy_State.att);var a=new f.KeyFrameData;a.name="Attack",a.callback=function(){t.att_jishu=0,u.default.getInstance().sound_manager.playSound(m.SoundIndex.YX_BOSS8Attack),l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.boss8_attack_bullect,t.getAttPos()).getComponent(h.default).init(t.getAttData(d.DamageType.Normal,!0),l.GameEffectId.boss8_attack_bullect,l.GameEffectId.boss8_attack_bullect_hit,1600,3*Math.PI/2),t.att_num++,t.att_num>=5&&(t.att_num=0,t.skill_queue.push(2))},e.prototype.playSpinAnimaton.call(this,r.attack,!1,a,function(){t.skill_queue.length>0?(e.prototype.setEnemyState.call(t,c.Enemy_State.standby),t.startSkill(t.skill_queue.shift())):t.startIdle()})},t.prototype.startSkill=function(e){switch(e){case 1:this.startSkill1();break;case 2:this.startSkill2();break;case 3:this.is_active_skill_3&&this.startSkill3()}},t.prototype.startSkill1=function(){var t=this;this.skill_cold_down[0]=this.skill_data.getSkillColdDown(1),e.prototype.getEnemyState.call(this)!=c.Enemy_State.att&&e.prototype.getEnemyState.call(this)!=c.Enemy_State.skill?e.prototype.isHaveDeBuff.call(this,d.BuffId.Hero_XuanYun)?this.skill_queue.indexOf(1)<0&&this.skill_queue.push(1):(e.prototype.setEnemyState.call(this,c.Enemy_State.skill),this.skill_cold_down[0]=this.skill_data.getSkillColdDown(1),e.prototype.playSpinAnimaton.call(this,r.skill1_1,!1,null,function(){e.prototype.playSpinAnimaton.call(t,r.skill1_2,!0,null,null),t.unschedule(t.startZuanDi),t.scheduleOnce(t.startZuanDi,2)})):this.skill_queue.indexOf(1)<0&&this.skill_queue.push(1)},t.prototype.startZuanDi=function(){var t=this;if(!e.prototype.isHaveDeBuff.call(this,d.BuffId.Hero_XuanYun)&&0==this.getIsDie()){this.cur_toughness+=1,this.wei_node.active=!0;var a=this.wei_node.getComponent(sp.Skeleton),n=a.setAnimation(0,r.skill1_4,!1);a.setTrackCompleteListener(n,function(){n.listener=null,t.wei_node.active=!1}),e.prototype.playSpinAnimaton.call(this,r.skill1_3,!1,null,function(){t.node.getComponent(cc.Collider).enabled=!1;var e=new p.BuffData;e.remain_time=t.skill_data.getSkillValue2(1),e.buff_value=[t.skill_data.getSkillValue1(1)*t.getMaxHp()],e.buff_id=d.BuffId.Boss8_Skill_1_jiaxue,e.recovery_jiange_time=1,t.addBuff(e).addDestroyListen(t.onSkill1End.bind(t))})}},t.prototype.onSkill1End=function(){var t=this;this.wei_node.active=!0;var a=this.wei_node.getComponent(sp.Skeleton),n=a.setAnimation(0,r.skill1_6,!1);a.setTrackCompleteListener(n,function(){n.listener=null,t.wei_node.active=!1}),e.prototype.playSpinAnimaton.call(this,r.skill1_5,!1,null,function(){t.node.getComponent(cc.Collider).enabled=!0,t.cur_toughness-=1,t.skill_queue.length>0?(e.prototype.setEnemyState.call(t,c.Enemy_State.standby),t.startSkill(t.skill_queue.shift())):t.startIdle()})},t.prototype.getSkillPos=function(){return this.node.getPosition().add(cc.v2(this.skill_pos.x*this.node.scaleX,this.skill_pos.y*this.node.scaleY))},t.prototype.startSkill2=function(){var t=this;if(this.getAttPos(),this.skill_cold_down[1]=this.skill_data.getSkillColdDown(2),e.prototype.getEnemyState.call(this)!=c.Enemy_State.att)if(e.prototype.isHaveDeBuff.call(this,d.BuffId.Hero_XuanYun))this.skill_queue.indexOf(2)<0&&this.skill_queue.push(2);else{u.default.getInstance().sound_manager.playSound(m.SoundIndex.YX_Boss8Attack2),e.prototype.setEnemyState.call(this,c.Enemy_State.skill),this.skill_cold_down[1]=this.skill_data.getSkillColdDown(2);var a=new f.KeyFrameData;a.name="Skill2",a.callback=function(){t.att_jishu=0,l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.boss8_skill_bullect,t.getSkillPos()).getComponent(I.default).init(t.getAttData(d.DamageType.Skill,!0,t.skill_data.getSkillValue1(2)),l.GameEffectId.boss8_skill_bullect,l.GameEffectId.boss8_skill_bullect_hit,1500,3*Math.PI/2)},e.prototype.playSpinAnimaton.call(this,r.skill2,!1,a,function(){t.skill_queue.length>0?(e.prototype.setEnemyState.call(t,c.Enemy_State.standby),t.startSkill(t.skill_queue.shift())):t.startIdle()})}else this.skill_queue.indexOf(2)<0&&this.skill_queue.push(2)},t.prototype.startSkill3=function(){var t=this;if(0!=this.is_active_skill_3)if(this.skill_cold_down[2]=this.skill_data.getSkillColdDown(3),e.prototype.getEnemyState.call(this)!=c.Enemy_State.att&&e.prototype.getEnemyState.call(this)!=c.Enemy_State.skill)if(e.prototype.isHaveDeBuff.call(this,d.BuffId.Hero_XuanYun))this.skill_queue.indexOf(3)<0&&this.skill_queue.push(3);else{u.default.getInstance().sound_manager.playSound(m.SoundIndex.YX_Boss5Beidong),this.cur_toughness+=1,e.prototype.setEnemyState.call(this,c.Enemy_State.skill),this.skill_cold_down[2]=this.skill_data.getSkillColdDown(3);var a=new f.KeyFrameData;a.name="Skill3",a.callback=function(){t.att_jishu=0,t.cur_toughness-=1,t.att_jishu=0,t.setKuangBao(!0)},e.prototype.playSpinAnimaton.call(this,r.skill3,!1,a,function(){t.skill_queue.length>0?(e.prototype.setEnemyState.call(t,c.Enemy_State.standby),t.startSkill(t.skill_queue.shift())):t.startIdle()})}else this.skill_queue.indexOf(3)<0&&this.skill_queue.push(3)},t.prototype.setKuangBao=function(e){this.is_kuang_bao!=e&&(this.is_kuang_bao=e,this.is_active_skill_3=e,e?this.changeAttackSpeed(this.kuangbao_value[0]):this.changeAttackSpeed(-this.kuangbao_value[0]))},t.prototype.onDeath=function(){var t=this;this.unscheduleAllCallbacks(),e.prototype.playDeadAnimaton.call(this,r.dead,function(){t.removeAllDeBuff(),t.removeAllBuff(),t.shadow&&cc.tween(t.shadow).to(.75,{opacity:0}).start(),cc.tween(t.node).to(.75,{opacity:0}).call(function(){t.removeAllDeBuff(),t.removeAllBuff(),_.default.getInstance().destroyMonster(t.node,t.monster_type)}).start()})},t.prototype.onXuanYunResult=function(t){t?this.startXuanYun():e.prototype.isHaveDeBuffType.call(this,d.BuffType.Vertigo)||e.prototype.getIsDie.call(this)||(this.skill_queue.length>0?(e.prototype.setEnemyState.call(this,c.Enemy_State.standby),this.startSkill(this.skill_queue.shift())):this.startIdle())},t.prototype.startXuanYun=function(){var t=this;this.unschedule(this.startZuanDi),e.prototype.playSpinAnimaton.call(this,r.hurt1,!1,null,function(){e.prototype.isHaveDeBuffType.call(t,d.BuffType.Vertigo)&&!e.prototype.getIsDie.call(t)&&(t.spine.paused=!0)})},t.prototype.update=function(t){u.default.getInstance().cur_game_state!=s.GameState.Game_Playing||this.getIsDie()||(e.prototype.update.call(this,t),this.checkSkill(t),this.getEnemyState()!=c.Enemy_State.skill&&(this.isHaveDeBuff(d.BuffId.Hero_XuanYun)||this.checkAtt(t)))},t.prototype.checkSkill=function(e){for(var t=0;t<3;t++)if(this.skill_cold_down[t]>0){if(this.skill_cold_down[t]-=e,2==t)continue;this.skill_cold_down[t]<0&&(this.skill_cold_down[t]=0,this.startSkill(t+1))}},t.prototype.checkAtt=function(e){this.att_jishu+=e,this.att_jishu>=this.att_jiange&&(this.att_jishu=this.att_jiange,this.startAttack())},i([C(cc.Node)],t.prototype,"wei_node",void 0),i([M],t)}(y.default);a.default=S,cc._RF.pop()},{"../../Constants":"Constants","../../Enemy/EnemyConfig":"EnemyConfig","../../Game/GameEffectsManager":"GameEffectsManager","../../Game/GroundManager":"GroundManager","../../GameManager":"GameManager","../../Hero/Game/BuffData":"BuffData","../../Hero/Game/HeroConfig":"HeroConfig","../../Monster/MonsterBullet":"MonsterBullet","../../Monster/MonsterData":"MonsterData","../../Monster/MonsterManager":"MonsterManager","../../Sound/AudioConstants":"AudioConstants","../Boss":"Boss","./BossSkill8":"BossSkill8"}],Boss9:[function(e,t,a){"use strict";cc._RF.push(t,"9a22bJu3U5LOp2Ukg62v5cC","Boss9");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r,s=e("../../Constants"),c=e("../../Enemy/EnemyConfig"),l=e("../../Game/GameEffectsManager"),g=e("../../GameManager"),u=e("../../Hero/Game/BuffData"),p=e("../../Hero/Game/HeroConfig"),d=e("../../Monster/MonsterBullet"),h=e("../../Monster/MonsterData"),f=e("../../Monster/MonsterManager"),_=e("../../Sound/AudioConstants"),m=e("../../Wall/WallManager"),y=e("../Boss");(function(e){e.Idle="Idle",e.attack="Attack1",e.run="Run",e.hurt1="Hurt",e.skill2="Skill2",e.skill2_1="Skill2_1",e.skill2_2="Skill2_2",e.skill2_3="Skill2_3",e.dead="Dead"})(r||(r={}));var I=cc._decorator,v=I.ccclass,M=I.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mao_yan=[],t.is_active_skill_3=!1,t.skill_num=0,t.att_num=0,t.is_yindao=!0,t.fire_node=null,t.pen_huo_num=0,t.yindao_jishu=0,t.scale_speed=16,t.once_distance=0,t.yindao_time=1,t.kuangbao_value=[],t.skill_pos=cc.v2(),t.is_guozai=!1,t.bao_lie_jishu=0,t.wudi_hudu=null,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss9_attack_bullect,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss9_attack_bullect_hit,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss9_skill2_penhuo,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss9_skill3_hudun,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss9_skill3_baolie,4),this.addDeathCallback(this.onDeath),this.addXuanYunListen(this.onXuanYunResult),this.addBossInitedListen(this.onBossInited),this.addChangeBossHpListen(this.onChangeHp),this.setMaoYan(!1)},t.prototype.onBossInited=function(){this.startIdle(),this.node.y=128,this.skill_num=0,this.skill_pos=this.node.getChildByName("skill").getPosition();var e=this.getSkillPos().y-m.default.getInstance().getMainWall().getWallMaxYY();this.once_distance=e/4,this.is_active_skill_3=!1},t.prototype.onChangeHp=function(){this.cur_hp<=.1*this.max_hp&&0==this.is_active_skill_3&&(this.is_active_skill_3=!0,this.startSkill(3))},t.prototype.setMaoYan=function(e){for(var t=0;t<this.mao_yan.length;t++)this.mao_yan[t].active=e},t.prototype.startIdle=function(){e.prototype.setEnemyState.call(this,c.Enemy_State.standby),e.prototype.playSpinAnimaton.call(this,r.Idle,!0)},t.prototype.startAttack=function(){var t=this;this.att_jishu=0,e.prototype.setEnemyState.call(this,c.Enemy_State.att);var a=new h.KeyFrameData;a.name="Attack",a.callback=function(){t.att_jishu=0,g.default.getInstance().sound_manager.playSound(_.SoundIndex.YX_BOSS9Attack),l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.boss9_attack_bullect,t.getAttPos()).getComponent(d.default).init(t.getAttData(p.DamageType.Normal,!0),l.GameEffectId.boss9_attack_bullect,l.GameEffectId.boss9_attack_bullect_hit,1500,3*Math.PI/2),t.att_num++,t.att_num>=3&&(t.att_num=0,t.skill_queue.push(2))},e.prototype.playSpinAnimaton.call(this,r.attack,!1,a,function(){t.skill_queue.length>0?(e.prototype.setEnemyState.call(t,c.Enemy_State.standby),t.startSkill(t.skill_queue.shift())):t.startIdle()})},t.prototype.getSkillPos=function(){return this.node.getPosition().add(cc.v2(this.skill_pos.x*this.node.scaleX,this.skill_pos.y*this.node.scaleY))},t.prototype.startSkill=function(e){switch(e){case 1:this.startSkill1();break;case 2:this.startSkill2();break;case 3:this.is_active_skill_3&&this.startSkill3()}},t.prototype.startSkill1=function(){if(0==this.isHaveBuff(p.BuffId.Boss9_Skill_1_guozai)){var t=new u.BuffData;t.buff_id=p.BuffId.Boss9_Skill_1_guozai,t.remain_time=this.skill_data.getSkillValue4(1),t.buff_value=[this.skill_data.getSkillValue2(1),this.skill_data.getSkillValue3(1)],e.prototype.addBuff.call(this,t).addDestroyListen(this.onSkill1End.bind(this)),this.is_guozai=!0,this.setMaoYan(!0)}},t.prototype.onSkill1End=function(){this.is_guozai=!1,this.node.color=cc.Color.WHITE,this.setMaoYan(!1)},t.prototype.startSkill2=function(){var t=this;this.skill_cold_down[1]=this.skill_data.getSkillColdDown(2),e.prototype.getEnemyState.call(this)!=c.Enemy_State.att&&e.prototype.getEnemyState.call(this)!=c.Enemy_State.skill?e.prototype.isHaveDeBuff.call(this,p.BuffId.Hero_XuanYun)?this.skill_queue.indexOf(2)<0&&this.skill_queue.push(2):(g.default.getInstance().sound_manager.playSound(_.SoundIndex.YX_Boss4Skill),e.prototype.setEnemyState.call(this,c.Enemy_State.skill),this.skill_cold_down[1]=this.skill_data.getSkillColdDown(2),e.prototype.playSpinAnimaton.call(this,r.skill2_1,!1,null,function(){e.prototype.playSpinAnimaton.call(t,r.skill2_2,!0,null,null),t.is_yindao=!0,t.yindao_time=3;var a=t.getSkillPos();t.fire_node=l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.boss9_skill2_penhuo,a),t.fire_node.scale=0,t.fire_node.angle=180,t.pen_huo_num=0})):this.skill_queue.indexOf(2)<0&&this.skill_queue.push(2)},t.prototype.startSkill3=function(){this.skill_cold_down[2]=this.skill_data.getSkillColdDown(3),this.startIdle(),this.setEnemyState(c.Enemy_State.skill);var t=new u.BuffData;t.buff_id=p.BuffId.Boss9_Skill_3_widu,t.remain_time=this.skill_data.getSkillValue2(3),t.recovery_jiange_time=.2;var a=this.skill_data.getSkillValue1(3)*this.getMaxHp()/(t.remain_time/t.recovery_jiange_time);t.buff_value=[a],e.prototype.addBuff.call(this,t).addDestroyListen(this.onSkill3End.bind(this)),this.wudi_hudu=l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.boss9_skill3_hudun,this.node.getPosition())},t.prototype.onSkill3End=function(){l.GameEffectsManager.getInstance().destroyGameEffectById(l.GameEffectId.boss9_skill3_hudun,this.wudi_hudu),this.skill_queue.length>0?(e.prototype.setEnemyState.call(this,c.Enemy_State.standby),this.startSkill(this.skill_queue.shift())):this.startIdle()},t.prototype.addSkillNum=function(){this.skill_num++,this.skill_num>=this.skill_data.getSkillValue1(1)&&this.startSkill1()},t.prototype.fireDamage=function(t){if(g.default.getInstance().cur_game_state==s.GameState.Game_Playing){this.addSkillNum();var a=e.prototype.getAttData.call(this,p.DamageType.Skill,!1,this.skill_data.getSkillValue1(2));a.is_big=!1,a.zengshang_rate+=this.pen_huo_num*this.skill_data.getSkillValue2(2),t.beInjured(a).getDamageNum()>0&&this.pen_huo_num++}},t.prototype.destroyFire=function(t){var a=this;this.is_yindao=!1,this.fire_node&&cc.tween(this.fire_node).to(.2,{scale:0}).call(function(){l.GameEffectsManager.getInstance().destroyGameEffectById(l.GameEffectId.boss9_skill2_penhuo,a.fire_node)}).start(),t&&e.prototype.playSpinAnimaton.call(this,r.skill2_3,!1,null,function(){a.startIdle()})},t.prototype.onDeath=function(){var t=this;this.unscheduleAllCallbacks(),e.prototype.playDeadAnimaton.call(this,r.dead,function(){t.removeAllDeBuff(),t.removeAllBuff(),t.shadow&&cc.tween(t.shadow).to(.75,{opacity:0}).start(),cc.tween(t.node).to(.75,{opacity:0}).call(function(){t.removeAllDeBuff(),t.removeAllBuff(),f.default.getInstance().destroyMonster(t.node,t.monster_type)}).start()}),this.destroyFire(!1)},t.prototype.onXuanYunResult=function(t){t?this.startXuanYun():e.prototype.isHaveDeBuffType.call(this,p.BuffType.Vertigo)||e.prototype.getIsDie.call(this)||(this.skill_queue.length>0?(e.prototype.setEnemyState.call(this,c.Enemy_State.standby),this.startSkill(this.skill_queue.shift())):this.startIdle())},t.prototype.startXuanYun=function(){var t=this;this.destroyFire(!1),e.prototype.playSpinAnimaton.call(this,r.hurt1,!1,null,function(){e.prototype.isHaveDeBuffType.call(t,p.BuffType.Vertigo)&&!e.prototype.getIsDie.call(t)&&(t.spine.paused=!0)})},t.prototype.update=function(t){if(g.default.getInstance().cur_game_state==s.GameState.Game_Playing&&!this.getIsDie()&&(e.prototype.update.call(this,t),this.checkYinDao(t),this.getEnemyState()!=c.Enemy_State.skill&&(this.isHaveDeBuff(p.BuffId.Hero_XuanYun)||this.checkAtt(t)),this.is_guozai&&(this.node.color=cc.Color.RED,this.bao_lie_jishu+=t,this.bao_lie_jishu>=.2))){this.bao_lie_jishu=0;var a=this.getJuJiPos(),n=200*Math.random(),o=2*Math.random()*Math.PI,i=a.x+Math.cos(o)*n,r=a.y+Math.sin(o)*n;l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.boss9_skill3_baolie,cc.v2(i,r))}},t.prototype.checkYinDao=function(t){var a=this;if(this.is_yindao){if(this.fire_node){var n=m.default.getInstance().getAllWall(),o=null;if(n.forEach(function(e){a.node.y>=e.getWallMaxYY()&&(o=e)}),o){var i=(e.prototype.getAttPos.call(this).y-o.getWallMaxYY())/this.once_distance+1;this.fire_node.scale>=i?(this.fire_node.scale=i,this.yindao_jishu+=t,this.yindao_jishu>=.2&&(this.yindao_jishu=0,this.fireDamage(o))):this.fire_node.scale+=this.scale_speed*t}}this.yindao_time-=t,this.yindao_time<=0&&(this.yindao_time=0,this.destroyFire(!0))}},t.prototype.checkSkill=function(e){for(var t=0;t<2;t++)this.skill_cold_down[t]>0&&(this.skill_cold_down[t]-=e,this.skill_cold_down[t]<0&&(this.skill_cold_down[t]=0,this.startSkill(t+1)))},t.prototype.checkAtt=function(e){this.att_jishu+=e,this.att_jishu>=this.att_jiange&&(this.att_jishu=this.att_jiange,this.startAttack())},i([M([cc.Node])],t.prototype,"mao_yan",void 0),i([v],t)}(y.default);a.default=C,cc._RF.pop()},{"../../Constants":"Constants","../../Enemy/EnemyConfig":"EnemyConfig","../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../../Hero/Game/BuffData":"BuffData","../../Hero/Game/HeroConfig":"HeroConfig","../../Monster/MonsterBullet":"MonsterBullet","../../Monster/MonsterData":"MonsterData","../../Monster/MonsterManager":"MonsterManager","../../Sound/AudioConstants":"AudioConstants","../../Wall/WallManager":"WallManager","../Boss":"Boss"}],BossAtt1:[function(e,t,a){"use strict";cc._RF.push(t,"25579MIF0RGF7tRjN39W9Dh","BossAtt1");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Game/GameEffectsManager"),s=e("../../GameManager"),c=e("../../Sound/AudioConstants"),l=e("../BossBullet"),g=cc._decorator,u=g.ccclass,p=g.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bullet_type=0,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.addCollisionWallListen.call(this,this.onCollisionWall)},t.prototype.onCollisionWall=function(t){if(t)switch(this.bullet_type){case 0:var a=t.beInjured(this.monster_att_data);e.prototype.destroySelf.call(this),a.getDamageNum()>0&&(r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.boss1_normal_att_hit,this.node.getPosition()),s.default.getInstance().sound_manager.playSound(c.SoundIndex.YX_Boss1Attack));break;case 1:a=t.beInjured(this.monster_att_data),e.prototype.destroySelf.call(this),a.getDamageNum()>0&&(r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.boss1_normal_skill_hit,this.node.getPosition()),s.default.getInstance().sound_manager.playSound(c.SoundIndex.YX_Boss1Attack))}},i([p()],t.prototype,"bullet_type",void 0),i([u],t)}(l.default);a.default=d,cc._RF.pop()},{"../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../../Sound/AudioConstants":"AudioConstants","../BossBullet":"BossBullet"}],BossAtt2:[function(e,t,a){"use strict";cc._RF.push(t,"ccfd2L6JABJg5DyI2kHGIio","BossAtt2");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Game/GameEffectsManager"),s=e("../BossBullet"),c=cc._decorator,l=c.ccclass,g=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){e.prototype.addCollisionWallListen.call(this,this.onCollisionWall)},t.prototype.onCollisionWall=function(t){if(t){var a=t.beInjured(this.monster_att_data);e.prototype.destroySelf.call(this),a.getDamageNum()>0&&r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.boss2_normal_att_hit1,this.node.getPosition())}},i([l],t)}(s.default));a.default=g,cc._RF.pop()},{"../../Game/GameEffectsManager":"GameEffectsManager","../BossBullet":"BossBullet"}],BossAtt3:[function(e,t,a){"use strict";cc._RF.push(t,"a4f19H+3EdClb7jNibHyHIt","BossAtt3");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Game/GameEffectsManager"),s=e("../../GameManager"),c=e("../../Hero/Game/BuffData"),l=e("../../Hero/Game/HeroConfig"),g=e("../../Sound/AudioConstants"),u=e("../../Tools/MyTool"),p=e("../../Wall/WallConfig"),d=e("../BossBullet"),h=cc._decorator,f=h.ccclass,_=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bullect_type=0,t.remain_time=0,t.buff_value=0,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.addCollisionWallListen.call(this,this.onCollisionWall)},t.prototype.setBuffData=function(e,t){this.remain_time=e,this.buff_value=t},t.prototype.onCollisionWall=function(t){var a=this;switch(this.bullect_type){case 0:if(t){var n=t.beInjured(this.monster_att_data);e.prototype.destroySelf.call(this),n.getDamageNum()>0&&(r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.boss3_normal_attack_hit,this.node.getPosition()),s.default.getInstance().sound_manager.playSound(g.SoundIndex.YX_Boss3Skill1mingzhong))}break;case 1:t&&(n=t.beInjured(this.monster_att_data),e.prototype.destroySelf.call(this),n.getDamageNum()>0&&(r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.boss3_skill_1_hit,this.node.getPosition()),s.default.getInstance().sound_manager.playSound(g.SoundIndex.YX_Boss3Skill1mingzhong)),t.getWallType()==p.WallType.Main&&(u.default.randomSceneShakeBig(),s.default.getInstance().all_hero.forEach(function(e){var t=new c.BuffData;t.buff_id=l.BuffId.Boss3_JIAN_GongSu,t.remain_time=a.remain_time,t.buff_value=[a.buff_value],e.addDeBuff(t)})))}},i([_()],t.prototype,"bullect_type",void 0),i([f],t)}(d.default);a.default=m,cc._RF.pop()},{"../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../../Hero/Game/BuffData":"BuffData","../../Hero/Game/HeroConfig":"HeroConfig","../../Sound/AudioConstants":"AudioConstants","../../Tools/MyTool":"MyTool","../../Wall/WallConfig":"WallConfig","../BossBullet":"BossBullet"}],BossAtt6:[function(e,t,a){"use strict";cc._RF.push(t,"6c884BlZSBFyp1JjflOBJUx","BossAtt6");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Game/GameEffectsManager"),s=e("../BossBullet"),c=cc._decorator,l=c.ccclass,g=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bullet_type=0,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.addCollisionWallListen.call(this,this.onCollisionWall)},t.prototype.onCollisionWall=function(t){if(t)switch(this.bullet_type){case 0:case 1:var a=t.beInjured(this.monster_att_data);e.prototype.destroySelf.call(this),a.getDamageNum()>0&&r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.boss6_skill2_hit,this.node.getPosition())}},i([g()],t.prototype,"bullet_type",void 0),i([l],t)}(s.default);a.default=u,cc._RF.pop()},{"../../Game/GameEffectsManager":"GameEffectsManager","../BossBullet":"BossBullet"}],BossAtt7:[function(e,t,a){"use strict";cc._RF.push(t,"ce1b8CHkP1Hz7D+yzzSDgLT","BossAtt7");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Game/GameEffectsManager"),s=e("../../GameManager"),c=e("../../Sound/AudioConstants"),l=e("../BossBullet"),g=cc._decorator,u=g.ccclass,p=g.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bullet_type=0,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.addCollisionWallListen.call(this,this.onCollisionWall)},t.prototype.onCollisionWall=function(t){if(t)switch(this.bullet_type){case 0:case 1:var a=t.beInjured(this.monster_att_data);e.prototype.destroySelf.call(this),a.getDamageNum()>0&&(r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.boss7_attack_bullect_hit,this.node.getPosition()),s.default.getInstance().sound_manager.playSound(c.SoundIndex.YX_Boss1Attack))}},i([p()],t.prototype,"bullet_type",void 0),i([u],t)}(l.default);a.default=d,cc._RF.pop()},{"../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../../Sound/AudioConstants":"AudioConstants","../BossBullet":"BossBullet"}],BossBullet:[function(e,t,a){"use strict";cc._RF.push(t,"73af9vjmthLt7HucBhNcVuh","BossBullet");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Constants"),s=e("../Game/GameEffectsManager"),c=e("../GameManager"),l=e("../Wall/Wall"),g=cc._decorator,u=g.ccclass,p=g.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab_tuowei=null,t.acc_num=0,t.sp_fly=null,t.sp_create=null,t.tuowei_node=null,t.game_effect_id=0,t.move_speed=700,t.move_direction=Math.PI/2,t.offset_xx_angle=90,t.is_att=!0,t.monster_att_data=null,t.cur_acc_num=0,t.collision_target_callback=null,t.is_can_move=!0,t.boss_yy=0,t.collider=null,t}return o(t,e),t.prototype.init=function(e,t,a,n,o,i){void 0===i&&(i=90),this.monster_att_data=e,this.game_effect_id=t,this.move_speed=a,this.offset_xx_angle=i,this.is_att=!1,this.cur_acc_num=this.acc_num,this.boss_yy=o,this.setDirection(n),this.prefab_tuowei&&(this.tuowei_node=cc.instantiate(this.prefab_tuowei),this.tuowei_node.parent=this.node.parent,this.node.zIndex=1),this.sp_create&&(this.node.getComponent(cc.Sprite).spriteFrame=this.sp_create),this.collider=this.getComponent(cc.Collider)},t.prototype.startFly=function(){this.is_can_move=!0,this.node.getComponent(cc.Sprite).spriteFrame=this.sp_fly},t.prototype.update=function(e){if(c.default.getInstance().cur_game_state==r.GameState.Game_Playing)if(this.is_can_move){var t=this.node.getPosition();this.acc_num>0&&(this.cur_acc_num+=this.acc_num*e),this.move_speed+=this.cur_acc_num,this.move_speed>=1e4&&(this.move_speed=1e4);var a=this.move_speed*e*Math.cos(this.move_direction),n=this.move_speed*e*Math.sin(this.move_direction);if(this.node.x+=a,this.node.y+=n,this.collider.enabled=this.node.y<=this.boss_yy,this.node.y>cc.winSize.height&&this.destroySelf(),Math.abs(this.node.x)>cc.winSize.width&&this.destroySelf(),this.tuowei_node){this.tuowei_node.opacity=255,this.tuowei_node.active=!0;var o=c.default.getInstance().getGameRate();o<1&&(o=1);var i=(p=this.node.getPosition()).sub(t),s=2*i.mag()/o,l=Math.atan2(i.y,i.x),g=p.x+Math.cos(l)*s,u=p.y+Math.sin(l)*s;this.tuowei_node.setPosition(cc.v2(g,u))}}else if(this.tuowei_node){this.tuowei_node.opacity=0,this.tuowei_node.active=!1;var p=this.node.getPosition();this.tuowei_node.setPosition(p)}},t.prototype.destroySelf=function(){this.tuowei_node&&(cc.tween(this.tuowei_node).delay(this.tuowei_node.getComponent(cc.MotionStreak).fadeTime/5).removeSelf().start(),this.tuowei_node=null),s.GameEffectsManager.getInstance().destroyGameEffectById(this.game_effect_id,this.node)},t.prototype.setDirection=function(e){this.move_direction=e,this.node.angle=180*e/Math.PI-this.offset_xx_angle},t.prototype.addCollisionWallListen=function(e){this.collision_target_callback=e},t.prototype.onCollisionEnter=function(e){if(c.default.getInstance().cur_game_state!=r.GameState.Game_Lose&&1!=this.is_att)switch(e.node.group){case"wall":this.collision_target_callback&&(this.is_att=!0,this.collision_target_callback(e.node.getComponent(l.default)))}},i([p({type:cc.Prefab})],t.prototype,"prefab_tuowei",void 0),i([p()],t.prototype,"acc_num",void 0),i([p(cc.SpriteFrame)],t.prototype,"sp_fly",void 0),i([p(cc.SpriteFrame)],t.prototype,"sp_create",void 0),i([u],t)}(cc.Component);a.default=d,cc._RF.pop()},{"../Constants":"Constants","../Game/GameEffectsManager":"GameEffectsManager","../GameManager":"GameManager","../Wall/Wall":"Wall"}],BossChallenge:[function(e,t,a){"use strict";cc._RF.push(t,"b258azMabtG+KKJtdkMH8qk","BossChallenge"),Object.defineProperty(a,"__esModule",{value:!0}),a.BossChallengeManager=a.JsonBossChallenge=a.ChallengeMode=void 0;var n,o=e(".././NetWork/HttpManager"),i=e("../Constants"),r=e("../Level/MissionLevel"),s=e("../Loading/LoadManager"),c=e("../multiLanguage/LanguageManager"),l=e("../Storage/StorageConfig"),g=e("../Storage/StorageManager"),u=e("../UserData"),p=e("../UserInfo/UserInfo");(function(e){e[e.Noamal=1]="Noamal",e[e.Hard=2]="Hard",e[e.World=3]="World"})(n=a.ChallengeMode||(a.ChallengeMode={}));var d=function(){this.ChallengeID=0,this.RotationOrder=0,this.Stage=0,this.MonsterId=0,this.InjuryLimit=0,this.MonsterLevel=0,this.ChapterScene=0};a.JsonBossChallenge=d;var h=function(){function e(){this.data=null,this.is_load_completed=!1,this.cur_challenge_mode=n.Noamal,this.cur_score=0,this.boss_challenge_ts=null}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;s.LoadManager.loadJson("BossChallenge",s.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonBossChallenge\u6210\u529f"),e.data=new Map;for(var n=a.json,o=0;o<n.length;o++){var i=new d;i=n[o],e.data.set(i.ChallengeID,i)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonBossChallenge=function(e){return this.data.get(e)},e.prototype.getRotationOrder=function(e){return this.data.get(e).RotationOrder},e.prototype.getStage=function(e){return this.data.get(e).Stage},e.prototype.getMonsterId=function(e){return this.data.get(e).MonsterId},e.prototype.getInjuryLimit=function(e){return this.data.get(e).InjuryLimit},e.prototype.getMonsterLevel=function(e){return this.data.get(e).MonsterLevel},e.prototype.getChapterScene=function(e){return this.data.get(e).ChapterScene},e.getMaxChallengeID=function(){return 10047},e.getId=function(e,t){return 1e3*e+t},e.prototype.getFightingInfo=function(){var t=new i.FightingInfo;t.title_name=c.default.getInstance().getStrByTextId(820001);var a=new r.TableMonsterData,n=new Array,o=1e3*p.UserInfo.getInstance().RotationOrder+1,s="bg/bg"+(e.getInstance().getChapterScene(o)+1);t.wall_name=s+"_wall",t.bg_name=s,t.total_monster_num=1,t.wave_types=[0],t.wave_refresh_time=[0];var l=new Array;return a.id=e.getInstance().getMonsterId(o),a.num=1,a.level=e.getInstance().getMonsterLevel(o),n.push(a),t.total_monster_num+=1,l.push(n),t.monster_datas=l,t},e.prototype.addScore=function(e){return this.cur_score+=e,this.boss_challenge_ts.refreshData()},e.prototype.showProgress=function(){return this.boss_challenge_ts.refreshData()},e.prototype.getBossChallengeStage=function(e){return g.TheStorageManager.getInstance().getInt(l.StorageKey.BossChallengeStage+e,-1)},e.prototype.saveBossChallengeStage=function(e,t){t>this.getBossChallengeStage(e)&&g.TheStorageManager.getInstance().setItem(l.StorageKey.BossChallengeStage+e,t)},e.prototype.setDamageNumber=function(e){e>this.getMaxDamageNumber()&&this.saveDamageNumber(e)},e.prototype.saveDamageNumber=function(e){p.UserInfo.getInstance().damageNumber=e,o.HttpManager.post(o.AccessName.updateUserInfo,this.setCopyDamageNumberJsonString(e))},e.prototype.getMaxDamageNumber=function(){return p.UserInfo.getInstance().damageNumber},e.prototype.setCopyDamageNumberJsonString=function(e){var t=u.default.getInstance().getUserID(),a=e;return JSON.stringify({type:10,uid:t,value:a})},e._instance=null,e}();a.BossChallengeManager=h,cc._RF.pop()},{".././NetWork/HttpManager":"HttpManager","../Constants":"Constants","../Level/MissionLevel":"MissionLevel","../Loading/LoadManager":"LoadManager","../Storage/StorageConfig":"StorageConfig","../Storage/StorageManager":"StorageManager","../UserData":"UserData","../UserInfo/UserInfo":"UserInfo","../multiLanguage/LanguageManager":"LanguageManager"}],BossConfig:[function(e,t,a){"use strict";cc._RF.push(t,"12822/Cb7tBma+ntM78RNC6","BossConfig"),Object.defineProperty(a,"__esModule",{value:!0}),a.Boss_State_Name=a.Boss_State=a.Boss_Type=void 0,function(e){e[e.NULL=0]="NULL",e[e.BullDemon=1]="BullDemon",e[e.Boss_Num=2]="Boss_Num"}(a.Boss_Type||(a.Boss_Type={})),function(e){e[e.daiji=0]="daiji",e[e.gongji=1]="gongji",e[e.jineng=2]="jineng"}(a.Boss_State||(a.Boss_State={})),function(e){e.zmdj="zhengmian_daiji",e.cmdj="cemian_daiji",e.zmgj="zhengmian",e.cmgj="cemian"}(a.Boss_State_Name||(a.Boss_State_Name={})),cc._RF.pop()},{}],BossGameUi:[function(e,t,a){"use strict";cc._RF.push(t,"ce09aDb+P1AEqGkxpeW9Ito","BossGameUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("./BossReward"),s=e("./BossChallenge"),c=e("../UserInfo/UserInfo"),l=cc._decorator,g=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sp_icon=[],t.BossRush_Bar_1=null,t.bar=null,t.icon=null,t.levelLabel=null,t.scoreLabel=null,t.prev_stage=1,t}return o(t,e),t.prototype.onLoad=function(){this.BossRush_Bar_1=this.node.getChildByName("scoreProgressBar").getChildByName("BossRush_Bar_1"),this.bar=this.node.getChildByName("scoreProgressBar").getChildByName("bar"),this.icon=this.node.getChildByName("icon").getComponent(cc.Sprite),this.levelLabel=this.node.getChildByName("levelLabel").getComponent(cc.Label),this.scoreLabel=this.node.getChildByName("scoreLabel").getComponent(cc.Label),s.BossChallengeManager.getInstance().cur_score=0},t.prototype.refreshData=function(){var e=s.BossChallengeManager.getInstance().cur_score,t=r.BossRewardManager.getInstance().getRewardByScore(s.BossChallengeManager.getInstance().cur_challenge_mode,e),a=(e-t.curData.IntegralRequirement)/(t.nextData.IntegralRequirement-t.curData.IntegralRequirement)+.001;if(this.BossRush_Bar_1.getComponent(cc.Sprite).fillRange=a,this.bar.getComponent(cc.Sprite).fillRange=a,this.scoreLabel.string=e+"/"+t.nextData.IntegralRequirement,this.levelLabel.string=""+t.curData.RewardLevel,this.icon.spriteFrame=this.sp_icon[t.curData.BoxIcon-1],t.curData.RewardLevel>0){var n=1e3*c.UserInfo.getInstance().RotationOrder+(t.curData.RewardLevel+1);return s.BossChallengeManager.getInstance().getMonsterLevel(n)}return 2},i([u([cc.SpriteFrame])],t.prototype,"sp_icon",void 0),i([g],t)}(cc.Component);a.default=p,cc._RF.pop()},{"../UserInfo/UserInfo":"UserInfo","./BossChallenge":"BossChallenge","./BossReward":"BossReward"}],BossHpProgressBar:[function(e,t,a){"use strict";cc._RF.push(t,"1d683PiJjVH+5kAU5VxbW+O","BossHpProgressBar");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Monster/Data/MonsterConfigure"),s=e("../Monster/MonsterIconManager"),c=e("../multiLanguage/LanguageManager"),l=cc._decorator,g=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sp_hp=[],t.yellow=null,t.next_bar=null,t.speed=56,t.cur_speed=56,t.cur_hp_num=0,t.hp_num_label=null,t.max_hp=0,t.cur_hp=0,t.once_hp=0,t.acc_speed=640,t}return o(t,e),t.prototype.onLoad=function(){this.yellow=this.node.getChildByName("yellow"),this.hp_num_label=this.node.getChildByName("hpNum").getComponent(cc.Label),this.next_bar=this.node.getChildByName("nextBar").getComponent(cc.Sprite)},t.prototype.init=function(e,t,a){this.max_hp=e,this.once_hp=this.max_hp/30,this.yellow.width=0,this.setHp(this.max_hp),this.node.getChildByName("name").getComponent(cc.Label).string="Lv."+a+" "+c.default.getInstance().getStrByTextId(r.MonsterConfigureManager.getInstance().getNameTextId(t)),this.node.active=!0,this.node.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=s.MonsterIconManager.getInstance().getSpByMonsterId(t),this.cur_speed=this.speed},t.prototype.setHp=function(e){this.cur_hp=e;var t=Math.floor(this.cur_hp/this.once_hp);t<0&&(t=0),t!=this.cur_hp_num&&(this.yellow.width=this.totalLength),this.cur_hp_num=t;var a=this.cur_hp-this.once_hp*t;this.progress=a/this.once_hp,this.hp_num_label.string="x"+this.cur_hp_num,this.barSprite.spriteFrame=this.sp_hp[this.cur_hp_num%5],this.cur_hp_num>=1&&(this.next_bar.spriteFrame=this.sp_hp[(this.cur_hp_num-1)%5]),this.next_bar.node.active=this.cur_hp_num>=1},t.prototype.update=function(e){var t=this.progress*this.totalLength;this.yellow.width>t?(this.cur_hp<=0&&(this.cur_speed+=e*this.acc_speed),this.yellow.width-=this.cur_speed*e,this.yellow.width<t&&(this.yellow.width=t),this.yellow.width<=0&&(this.node.active=!1)):this.yellow.width<t&&this.yellow.width>0&&(t<=0&&(t=0,this.node.active=!1),this.yellow.width=t)},i([u([cc.SpriteFrame])],t.prototype,"sp_hp",void 0),i([u()],t.prototype,"speed",void 0),i([g],t)}(cc.ProgressBar);a.default=p,cc._RF.pop()},{"../Monster/Data/MonsterConfigure":"MonsterConfigure","../Monster/MonsterIconManager":"MonsterIconManager","../multiLanguage/LanguageManager":"LanguageManager"}],BossManager:[function(e,t,a){"use strict";cc._RF.push(t,"a256cgb4KlFcLqkZ/L1pKhb","BossManager");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Game/GameEffectsManager"),s=e("../GameManager"),c=e("../Monster/MonsterManager"),l=e("../Sound/AudioConstants"),g=cc._decorator,u=g.ccclass,p=(g.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var a;return o(t,e),a=t,t.getInstance=function(){if(null==this._instance){var e=new cc.Node;cc.director.getScene().getChildByName("Canvas").addChild(e),this._instance=e.addComponent(a)}return this._instance},t.prototype.onLoad=function(){a._instance||(a._instance=this)},t.prototype.onDestroy=function(){a._instance=null},t.prototype.addBoss=function(e,t,a){var n=this;this.showBossComing(e,function(){cc.log("\u64ad\u653e\u5b8c\u6210\uff0c\u751f\u6210boss"),n.showBoss(e,t,a)})},t.prototype.showBossComing=function(e,t){var a=r.GameEffectsManager.getInstance().createGameEffectForParent(r.GameEffectId.boss_coming,cc.v2(0,0),cc.find("Canvas/Ui_Root")),n=this.getBossSkin(e),o=a.getChildByName("bosscoming").getComponent(sp.Skeleton);o.setAnimation(0,"bosscoming",!1),o.setSkin(n),o.setCompleteListener(function(){t(),r.GameEffectsManager.getInstance().destroyGameEffectById(r.GameEffectId.boss_coming,a)}),s.default.getInstance().sound_manager.playSound(l.SoundIndex.YX_EnemyComing)},t.prototype.showBoss=function(e,t,a){c.default.getInstance().createMonsterById(e,s.default.getInstance().getFightCenter(),t,a,!0)},t.prototype.getBossSkin=function(e){var t=6;switch(e){case 30381:t=6;break;case 30391:t=7;break;case 30801:t=8;break;case 30811:t=9;break;case 30821:t=10;break;case 30831:t=11;break;case 30841:t=12;break;case 30851:t=13;break;case 30861:t=14;break;case 30871:t=15;break;default:t=6}return"Boss"+t},t._instance=null,a=i([u],t)}(cc.Component));a.default=p,cc._RF.pop()},{"../Game/GameEffectsManager":"GameEffectsManager","../GameManager":"GameManager","../Monster/MonsterManager":"MonsterManager","../Sound/AudioConstants":"AudioConstants"}],BossReward:[function(e,t,a){"use strict";cc._RF.push(t,"2f440wHCgFC/KNDlEH+0ANo","BossReward"),Object.defineProperty(a,"__esModule",{value:!0}),a.BossRewardManager=a.JsonBossReward=a.BossRewardData=void 0;var n=e("../Loading/LoadManager"),o=e("../UserInfo/UserInfo"),i=e("./BossChallenge"),r=function(){this.curData=null,this.nextData=null};a.BossRewardData=r;var s=function(){this.RewardLevel=0,this.IntegralRequirement=0,this.BoxIcon=0,this.RewardItem=0,this.RewardNum=0,this.RewardItem_2=0,this.RewardNum_2=0};a.JsonBossReward=s;var c=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("BossReward",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonBossReward\u6210\u529f"),e.data=new Map;for(var n=a.json,o=0;o<n.length;o++){var i=new s;i=n[o],e.data.set(i.RewardLevel,i)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonBossReward=function(e){return this.data.get(e)},e.prototype.getIntegralRequirement=function(e){return this.data.get(e).IntegralRequirement},e.prototype.getBoxIcon=function(e){return this.data.get(e).BoxIcon},e.prototype.getRewardItem=function(e){return this.data.get(e).RewardItem},e.prototype.getRewardNum=function(e){return this.data.get(e).RewardNum},e.prototype.getRewardItem_2=function(e){return this.data.get(e).RewardItem_2},e.prototype.getRewardNum_2=function(e){return this.data.get(e).RewardNum_2},e.getMaxRewardLevel=function(){return 47},e.prototype.getRewardLevel=function(t){for(var a=0,n=0;n<e.getMaxRewardLevel();n++){var r=1e3*o.UserInfo.getInstance().RotationOrder+n;i.BossChallengeManager.getInstance().getInjuryLimit(r)<=t&&(a=n)}return a},e.prototype.getRewardByScore=function(t,a){for(var n=new r,s=e.getMaxRewardLevel()-1;s>=0;s--){var c=s,l=this.getJsonBossReward(c),g=1e3*o.UserInfo.getInstance().RotationOrder+s;if(l.IntegralRequirement=i.BossChallengeManager.getInstance().getInjuryLimit(g),a>=l.IntegralRequirement){var u=s+1,p=this.getJsonBossReward(u),d=1e3*o.UserInfo.getInstance().RotationOrder+(s+1);p.IntegralRequirement=i.BossChallengeManager.getInstance().getInjuryLimit(d),n.curData=l,n.nextData=p;break}}return n},e.prototype.getBossReward=function(t,a){for(var n=new Array,o=(new s,e.getMaxRewardLevel()-1);o>=0;o--){var i=o,r=this.getJsonBossReward(i);if(a>=r.IntegralRequirement)break}return n},e.prototype.getBossChallenge=function(t,a){for(var n=new s,o=e.getMaxRewardLevel()-1;o>=0;o--){var i=o,r=this.getJsonBossReward(i);if(a>=r.IntegralRequirement){n=r;break}}return n.RewardLevel},e._instance=null,e}();a.BossRewardManager=c,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager","../UserInfo/UserInfo":"UserInfo","./BossChallenge":"BossChallenge"}],BossShield2:[function(e,t,a){"use strict";cc._RF.push(t,"1e8f4q9VXhGYZNN13f7u2z4","BossShield2");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../GameManager"),c=e("../../Hero/Game/HeroConfig"),l=cc._decorator,g=l.ccclass,u=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shield_id=0,t.remain_time=0,t.shield_value=0,t.shield_type=c.ShieldType.Normal,t.destroy_callback=null,t.progress_bar=null,t.max_value=0,t.max_time=0,t.injured_action=null,t.shield=null,t.ground=null,t.ground_progress=null,t}return o(t,e),t.prototype.init=function(e,t,a,n,o,i){this.progress_bar=this.node.getComponent(cc.ProgressBar),this.shield=this.node.getChildByName("shield"),this.shield_id=e,this.remain_time=this.max_time=a,this.shield_value=this.max_value=n,this.shield_type=t,this.destroy_callback=i,this.ground=o,this.ground_progress=o.getChildByName("progress"),this.ground_progress.scale=0,this.shield.scale=1},t.prototype.startHurt=function(){this.injured_action&&this.injured_action.stop(),this.shield.color=cc.Color.RED,this.injured_action=cc.tween(this.shield).to(.18,{color:cc.color(255,255,255)}).start()},t.prototype.changeShieldValue=function(e){var t=this.shield_value+e,a=1-t/this.max_value;return this.progress_bar.progress=a,t<0?(this.shield_value=0,this.progress_bar.progress=1,this.destroySelf()):this.shield_value=t,e<0&&this.startHurt(),t},t.prototype.getShieldValue=function(){return this.shield_value},t.prototype.getRemainTime=function(){return this.remain_time},t.prototype.getShieldType=function(){return this.shield_type},t.prototype.refreshShield=function(e,t){this.remain_time=e,this.shield_value=t},t.prototype.getIsCanWithstand=function(e){return this.shield_type==c.ShieldType.All||this.shield_type==e.valueOf()},t.prototype.destroySelf=function(){if(this.ground.removeFromParent(),this.node.removeFromParent(),this.destroy_callback){var e=this.remain_time<=0;this.destroy_callback(e)}},t.prototype.destoryShield=function(){this.ground.removeFromParent(),this.node.removeFromParent()},t.prototype.update=function(e){if(s.default.getInstance().cur_game_state==r.GameState.Game_Playing&&this.remain_time>0){this.remain_time-=e;var t=1-this.remain_time/this.max_time;this.ground_progress.scale=t,this.shield.scale=1+t,this.remain_time<0&&(this.remain_time=0,this.destroySelf())}},i([g],t)}(cc.Component));a.default=u,cc._RF.pop()},{"../../Constants":"Constants","../../GameManager":"GameManager","../../Hero/Game/HeroConfig":"HeroConfig"}],BossSkill10:[function(e,t,a){"use strict";cc._RF.push(t,"a0adf4R0RpP9pXNjjKy1jUL","BossSkill10");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../Game/GameEffectsManager"),c=e("../../GameManager"),l=e("../../Wall/Wall"),g=cc._decorator,u=g.ccclass,p=g.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.acc_num=0,t.game_effect_id=0,t.move_speed=700,t.move_direction=Math.PI/2,t.offset_xx_angle=90,t.is_att=!0,t.monster_att_data=null,t.cur_acc_num=0,t.collision_target_callback=null,t.is_can_move=!0,t.boss_yy=0,t.collider=null,t}return o(t,e),t.prototype.init=function(e,t,a,n,o,i){void 0===i&&(i=90),this.monster_att_data=e,this.game_effect_id=t,this.move_speed=a,this.offset_xx_angle=i,this.is_att=!1,this.cur_acc_num=this.acc_num,this.boss_yy=o,this.setDirection(n),this.node.getComponent(cc.Animation).play("e51010"),this.collider=this.getComponent(cc.Collider)},t.prototype.startFly=function(){this.is_can_move=!0,this.node.getComponent(cc.Animation).play("e51011")},t.prototype.update=function(e){if(c.default.getInstance().cur_game_state==r.GameState.Game_Playing){this.node.getPosition(),this.acc_num>0&&(this.cur_acc_num+=this.acc_num*e),this.move_speed+=this.cur_acc_num,this.move_speed>=1e4&&(this.move_speed=1e4);var t=this.move_speed*e*Math.cos(this.move_direction),a=this.move_speed*e*Math.sin(this.move_direction);this.node.x+=t,this.node.y+=a,this.collider.enabled=this.node.y<=this.boss_yy,this.node.y>cc.winSize.height&&this.destroySelf(),Math.abs(this.node.x)>cc.winSize.width&&this.destroySelf()}},t.prototype.destroySelf=function(){s.GameEffectsManager.getInstance().destroyGameEffectById(this.game_effect_id,this.node)},t.prototype.setDirection=function(e){this.move_direction=e,this.node.angle=180*e/Math.PI-this.offset_xx_angle},t.prototype.addCollisionWallListen=function(e){this.collision_target_callback=e},t.prototype.onCollisionEnter=function(e){if(c.default.getInstance().cur_game_state!=r.GameState.Game_Lose&&1!=this.is_att)switch(e.node.group){case"wall":var t=e.node.getComponent(l.default);if(t){this.monster_att_data.is_big=!1;var a=t.beInjured(this.monster_att_data);this.destroySelf(),a.getDamageNum()>0&&s.GameEffectsManager.getInstance().createGameEffectById(s.GameEffectId.boss10_skill2_hit,this.node.getPosition())}}},t.prototype.onCollisionWall=function(){},i([p()],t.prototype,"acc_num",void 0),i([u],t)}(cc.Component);a.default=d,cc._RF.pop()},{"../../Constants":"Constants","../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../../Wall/Wall":"Wall"}],BossSkill6:[function(e,t,a){"use strict";cc._RF.push(t,"6bb67ebjRFOr4hQb7odFstz","BossSkill6");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Game/GameEffectsManager"),s=e("../../GameManager"),c=e("../../Hero/Game/BuffData"),l=e("../../Hero/Game/HeroConfig"),g=e("../../Wall/WallConfig"),u=e("../BossBullet"),p=cc._decorator,d=p.ccclass,h=(p.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.att_hero=l.Hero_Type.NULL,t.gongsu_value=0,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.addCollisionWallListen.call(this,this.onCollisionWall)},t.prototype.setHeroType=function(e,t){this.att_hero=e,this.gongsu_value=t},t.prototype.onCollisionWall=function(t){if(t){this.monster_att_data.is_big=!1;var a=t.beInjured(this.monster_att_data);if(e.prototype.destroySelf.call(this),a.getDamageNum()>0&&(r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.boss6_skill2_hit,this.node.getPosition()),t.getWallType()==g.WallType.Main&&this.att_hero!=l.Hero_Type.NULL)){var n=new c.BuffData;n.buff_id=l.BuffId.Boss6_Skill_2_jiangongsu,n.remain_time=5,n.buff_value=[this.gongsu_value],n.max_floor=5,s.default.getInstance().all_hero.get(this.att_hero).addDeBuff(n)}}},i([d],t)}(u.default));a.default=h,cc._RF.pop()},{"../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../../Hero/Game/BuffData":"BuffData","../../Hero/Game/HeroConfig":"HeroConfig","../../Wall/WallConfig":"WallConfig","../BossBullet":"BossBullet"}],BossSkill7:[function(e,t,a){"use strict";cc._RF.push(t,"2c5d6UMXoNA4bR734BmiYdO","BossSkill7");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../Game/GameEffectsManager"),c=e("../../GameManager"),l=e("../../Hero/Game/BuffData"),g=e("../../Hero/Game/HeroConfig"),u=e("../../Wall/WallManager"),p=cc._decorator,d=p.ccclass,h=(p.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.monster_att_data=null,t.target_yy=0,t.move_speed=2e3,t.acc_speed=300,t.cur_acc_speed=0,t.is_destory=!1,t.is_xuanyun=!1,t.max_scale_yy=0,t.max_distance=0,t}return o(t,e),t.prototype.init=function(e,t,a,n,o){this.cur_acc_speed=0,this.move_speed=a,this.acc_speed=n,this.target_yy=t,this.monster_att_data=e,this.is_xuanyun=o,this.node.scale=1,this.max_scale_yy=u.default.getInstance().getMainWall().getWallRect().center.y,this.max_distance=Math.abs(u.default.getInstance().getMainWall().getWallRect().center.y-this.node.y),this.is_destory=!1},t.prototype.destroySelf=function(){this.is_destory=!0,this.createBomb(),s.GameEffectsManager.getInstance().destroyGameEffectById(s.GameEffectId.boss7_skill_bullect,this.node)},t.prototype.createBomb=function(){s.GameEffectsManager.getInstance().createGameEffectById(s.GameEffectId.boss7_skill_bullect_hit,cc.v2(this.node.x,this.target_yy)),this.is_xuanyun?(c.default.getInstance().all_hero.forEach(function(e){var t=new l.BuffData;t.buff_id=g.BuffId.Monster_XuanYun,t.game_effect_id=s.GameEffectId.xuanyun,t.remain_time=3,t.buff_type=g.BuffType.Vertigo,e.addDeBuff(t)}),this.monster_att_data.is_big=!0):this.monster_att_data.is_big=!1,u.default.getInstance().getMainWall().beInjured(this.monster_att_data)},t.prototype.update=function(e){if(c.default.getInstance().cur_game_state==r.GameState.Game_Playing&&0==this.is_destory){this.cur_acc_speed+=this.acc_speed*e;var t=this.move_speed*e+this.cur_acc_speed;this.node.y-=t,this.node.scale=1-Math.abs(this.max_scale_yy-this.node.y)/this.max_distance+1,this.node.y<=this.target_yy&&this.destroySelf()}},i([d],t)}(cc.Component));a.default=h,cc._RF.pop()},{"../../Constants":"Constants","../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../../Hero/Game/BuffData":"BuffData","../../Hero/Game/HeroConfig":"HeroConfig","../../Wall/WallManager":"WallManager"}],BossSkill8:[function(e,t,a){"use strict";cc._RF.push(t,"a1902irTyJAkbJEJCEjGqGV","BossSkill8");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Game/GameEffectsManager"),s=e("../../GameManager"),c=e("../../Hero/Game/BuffData"),l=e("../../Hero/Game/HeroConfig"),g=e("../../Monster/MonsterBullet"),u=e("../../Sound/AudioConstants"),p=e("../../Wall/WallConfig"),d=cc._decorator,h=d.ccclass,f=(d.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){this.addCollisionWallListen(this.onCollisionWall)},t.prototype.onCollisionWall=function(e){if(this.destroySelf(),e){r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.boss8_skill_bullect_hit,this.node.getPosition()),s.default.getInstance().sound_manager.playSound(u.SoundIndex.YX_Boss1Attack);var t=new c.BuffData;if(t.buff_id=l.BuffId.Boss8_Skill_2_shanghai,t.remain_time=this.monster_att_data.monster_ts.skill_data.getSkillValue3(2),t.buff_type=l.BuffType.Normal,t.damage_jiange_time=1,t.buff_value=[this.monster_att_data.monster_ts.skill_data.getSkillValue1(2)],e.addDeBuff(t,this.monster_att_data),e.getWallType()==p.WallType.Main){var a=this.monster_att_data.monster_ts.skill_data.getSkillValue2(2);s.default.getInstance().all_hero.forEach(function(e){var n=new c.BuffData;n.buff_id=l.BuffId.Monster_XuanYun,n.game_effect_id=r.GameEffectId.xuanyun,n.remain_time=1,n.buff_type=l.BuffType.Vertigo,e.addDeBuff(n);var o=new c.BuffData;o.buff_id=l.BuffId.Boss8_Skill_2_attack,o.buff_value=[a],o.remain_time=t.remain_time,o.buff_type=l.BuffType.Normal,e.addDeBuff(o)})}return!0}},i([h],t)}(g.default));a.default=f,cc._RF.pop()},{"../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../../Hero/Game/BuffData":"BuffData","../../Hero/Game/HeroConfig":"HeroConfig","../../Monster/MonsterBullet":"MonsterBullet","../../Sound/AudioConstants":"AudioConstants","../../Wall/WallConfig":"WallConfig"}],BossWeeklyReward:[function(e,t,a){"use strict";cc._RF.push(t,"42e07ffHBdH2ZUBIFtqfKbY","BossWeeklyReward"),Object.defineProperty(a,"__esModule",{value:!0}),a.BossWeeklyRewardManager=a.JsonBossWeeklyReward=void 0;var n=e("../../JsonData/LevelJsonData"),o=e("../../Loading/LoadManager"),i=function(){this.RewardGrade=0,this.RewarItem_1=0,this.RewardNum_1=0,this.RewarItem_2=0,this.RewardNum_2=0,this.RewarItem_3=0,this.RewardNum_3=0};a.JsonBossWeeklyReward=i;var r=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;o.LoadManager.loadJson("BossWeeklyReward",o.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonBossWeeklyReward\u6210\u529f"),e.data=new Map;for(var n=a.json,o=0;o<n.length;o++){var r=new i;r=n[o],e.data.set(r.RewardGrade,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonBossWeeklyReward=function(e){return this.data.get(e)},e.prototype.getRewarItem_1=function(e){return this.data.get(e).RewarItem_1},e.prototype.getRewardNum_1=function(e){return this.data.get(e).RewardNum_1},e.prototype.getRewarItem_2=function(e){return this.data.get(e).RewarItem_2},e.prototype.getRewardNum_2=function(e){return this.data.get(e).RewardNum_2},e.prototype.getRewarItem_3=function(e){return this.data.get(e).RewarItem_3},e.prototype.getRewardNum_3=function(e){return this.data.get(e).RewardNum_3},e.getMaxRewardGrade=function(){return 7},e.prototype.getFirstRewardArr=function(e){for(var t=this.getJsonBossWeeklyReward(e),a=new Array,o=1;o<=3;o++)if(t["RewarItem_"+o]>0&&t["RewardNum_"+o]>0){var i=new n.RewardData;i.reward_id=t["RewarItem_"+o],i.reward_num=t["RewardNum_"+o],a.push(i)}return a},e._instance=null,e}();a.BossWeeklyRewardManager=r,cc._RF.pop()},{"../../JsonData/LevelJsonData":"LevelJsonData","../../Loading/LoadManager":"LoadManager"}],Boss:[function(e,t,a){"use strict";cc._RF.push(t,"62bd8QrACBKzZel1xMJyvNr","Boss");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r,s=e("../Constants"),c=e("./BossHpProgressBar"),l=e("../Enemy/EnemyConfig"),g=e("../Game/GameEffectsManager"),u=e("../GameManager"),p=e("../Monster/Monster"),d=e("../Hero/Game/HeroConfig"),h=e("../Hero/Game/BuffData");(function(e){e[e.ZhongXin=0]="ZhongXin",e[e.Radian0=1]="Radian0",e[e.Radian60=2]="Radian60",e[e.Radian120=3]="Radian120",e[e.Radian180=4]="Radian180",e[e.Radian240=5]="Radian240",e[e.Radian300=6]="Radian300",e[e.Num=7]="Num"})(r||(r={}));var f=cc._decorator,_=f.ccclass,m=(f.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boss_hp_progress=null,t.change_boss_hp_callback=null,t.boss_init_callback=null,t.cur_pos_type=r.ZhongXin,t.next_pos_type=r.ZhongXin,t.moving_track=[],t.att_callback=null,t.move_callback=null,t.is_init_hp=!1,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.addChangeHpListen(this.onChangeBossHp),this.addInitListen(this.onInited)},t.prototype.onInited=function(){var t=this;if(u.default.getInstance().cur_game_mode!=s.GameMode.Boss_Challenge&&g.GameEffectsManager.getInstance().addEffectPoolById(g.GameEffectId.boss_hp,1,function(){var e=cc.find("Canvas/Ui_Root/top_ui/BossHpRoot");e.y=-108;var a=g.GameEffectsManager.getInstance().createGameEffectForParent(g.GameEffectId.boss_hp,cc.v2(0,0),e);t.boss_hp_progress=a.getComponent(c.default),t.boss_hp_progress.init(t.getMaxHp(),t.monster_id,t.monster_level)}),this.boss_hp_progress&&this.boss_hp_progress.init(this.getMaxHp(),this.monster_id,this.monster_level),this.boss_init_callback&&this.boss_init_callback(),this.node.opacity=0,this.setEnemyState(l.Enemy_State.born),cc.tween(this.node).to(1,{opacity:255}).call(function(){t.setEnemyState(l.Enemy_State.standby)}).start(),u.default.getInstance().cur_game_mode==s.GameMode.Boss_Challenge){var a=new h.BuffData;a.buff_id=d.BuffId.Boss_Mode_JianShang,a.buff_value=[-1.2],a.remain_time=30,e.prototype.addDeBuff.call(this,a,null)}},t.prototype.addBossInitedListen=function(e){this.boss_init_callback=e},t.prototype.addChangeBossHpListen=function(e){this.change_boss_hp_callback=e},t.prototype.addAttackListen=function(e){this.att_callback=e},t.prototype.addMoveListen=function(e){this.move_callback=e},t.prototype.onChangeBossHp=function(e){this.boss_hp_progress&&this.boss_hp_progress.setHp(this.getCurHp()),this.change_boss_hp_callback&&this.change_boss_hp_callback(e)},i([_],t)}(p.default));a.default=m,cc._RF.pop()},{"../Constants":"Constants","../Enemy/EnemyConfig":"EnemyConfig","../Game/GameEffectsManager":"GameEffectsManager","../GameManager":"GameManager","../Hero/Game/BuffData":"BuffData","../Hero/Game/HeroConfig":"HeroConfig","../Monster/Monster":"Monster","./BossHpProgressBar":"BossHpProgressBar"}],BtnHero:[function(e,t,a){"use strict";cc._RF.push(t,"53736roQM5OJI/Q0WS2gY74","BtnHero");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Hero/Data/HeroManager"),s=e("../Game/HeroConfig"),c=cc._decorator,l=c.ccclass,g=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hero_id=s.Hero_Type.NULL,t.icon=null,t.team_index=0,t}return o(t,e),t.prototype.init=function(e){this.hero_id=e,this.icon=this.node.getChildByName("iconMask"),this.icon.active=!0,this.icon.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=r.HeroManager.getInstance().getSpriteFrameByName("hero"+e);var t=this.node.getChildByName("levelLabel");t.active=!0,t.getComponent(cc.Label).string=""+r.HeroManager.getInstance().getHeroLevel(e)},t.prototype.showSelect=function(){this.node.getChildByName("select").active=!0},t.prototype.hideSelect=function(){this.node.getChildByName("select").active=!1},i([g()],t.prototype,"team_index",void 0),i([l],t)}(cc.Component);a.default=u,cc._RF.pop()},{"../../Hero/Data/HeroManager":"HeroManager","../Game/HeroConfig":"HeroConfig"}],BtnPet:[function(e,t,a){"use strict";cc._RF.push(t,"eda59QB5jpP3oMW7S/cnWhm","BtnPet");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pet_info=null,t.icon=null,t.team_index=0,t}return o(t,e),t.prototype.init=function(e){var t=this.node.getChildByName("content");t.active=!0,this.pet_info=e,this.icon=t.getChildByName("iconMask"),this.icon.active=!0,t.getChildByName("star");var a=t.getChildByName("levelLabel");a.active=!0,a.getComponent(cc.Label).string=""+this.pet_info.pet_level},t.prototype.showLock=function(){var e=this.node.getChildByName("content");this.icon=e.getChildByName("iconMask"),this.icon.active=!0,this.icon.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=null,e.getChildByName("star").getComponent(cc.Sprite).spriteFrame=null;var t=e.getChildByName("levelLabel");t.active=!0,t.getComponent(cc.Label).string=""},t.prototype.showBan=function(){this.node.getChildByName("ban").active=!0,this.node.getChildByName("content").active=!1},t.prototype.hideBan=function(){this.node.getChildByName("ban").active=!1,this.node.getChildByName("content").active=!0},t.prototype.showNull=function(){this.node.getChildByName("content").active=!1,this.node.getChildByName("ban").active=!1},i([c()],t.prototype,"team_index",void 0),i([s],t)}(cc.Component);a.default=l,cc._RF.pop()},{}],BtnTeam:[function(e,t,a){"use strict";cc._RF.push(t,"195308e9YtMKLbhJayrK4f9","BtnTeam");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../GameManager"),c=e("../../Hero/Data/HeroManager"),l=e("../../Hero/Game/HeroConfig"),g=e("../../Sound/AudioConstants"),u=e("../../Tools/EventManager"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.team_index=0,t.icon=null,t}return o(t,e),t.prototype.onLoad=function(){this.icon=this.node.getChildByName("mask").getChildByName("icon"),this.refreshData()},t.prototype.refreshData=function(){var e=this.icon.getComponent(cc.Sprite),t=this.node.getChildByName("plus"),a=c.HeroManager.getInstance().getTeamList(s.default.getInstance().cur_game_mode)[this.team_index];a>l.Hero_Type.NULL?(this.icon.active=!0,t.active=!1,e.spriteFrame=c.HeroManager.getInstance().getSpriteFrameByName("hero"+a)):(this.icon.active=!1,t.active=!0),s.default.getInstance().cur_game_mode==r.GameMode.Main&&u.EventManager.postRedEvent(u.RedEventString.RED_CHECK,u.RedEventType.Btn_Map_Team_0+this.team_index)},t.prototype.clickSelf=function(){s.default.getInstance().sound_manager.playSound(g.SoundIndex.click)},i([h()],t.prototype,"team_index",void 0),i([d],t)}(cc.Component);a.default=f,cc._RF.pop()},{"../../Constants":"Constants","../../GameManager":"GameManager","../../Hero/Data/HeroManager":"HeroManager","../../Hero/Game/HeroConfig":"HeroConfig","../../Sound/AudioConstants":"AudioConstants","../../Tools/EventManager":"EventManager"}],BtnTower:[function(e,t,a){"use strict";cc._RF.push(t,"3cc43djbbdL5LMdqt4yL4iv","BtnTower");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Monster/Data/MonsterConfigure"),s=e("../Monster/MonsterData"),c=e("../multiLanguage/TextLanguage"),l=e("../UI/UIConfig"),g=e("../UI/UIManager"),u=e("./TowerFightingUi"),p=e("./TowerLevel"),d=e("./TowerManager"),h=cc._decorator,f=h.ccclass,_=(h.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.level=null,t}return o(t,e),t.prototype.init=function(e){this.level=e,this.initData(),this.refreshData()},t.prototype.initData=function(){var e=p.TowerLevelManager.getInstance().getFightingInfo(this.level);if(this.node.getChildByName("levelLabel").getComponent(c.default).setTextId(100020),this.node.getChildByName("levelLabel").getComponent(c.default).setReplaceValue("~",this.level+""),this.node.getChildByName("bg").scaleX=this.level%2==0?-1:1,d.default.getTowerLevel()>this.level)this.node.getChildByName("bg").children.forEach(function(e){e.active=!1}),this.node.getChildByName("bg").getChildByName("monsterRoot").active=!1,this.node.getChildByName("reward").getComponentInChildren(cc.Sprite).spriteFrame=d.default.getInstance().getSpByName("Tower_Chesk_1"),this.node.getChildByName("reward").getComponentInChildren(cc.Button).enabled=!1,this.node.getChildByName("bg").getComponent(cc.Sprite).spriteFrame=d.default.getInstance().getSpByName("Tower_Bg_1_1");else{var t=e.getOnlyMonsterDataList();this.sortMonster(t);var a=r.MonsterConfigureManager.getInstance().getMonsterClass(t[0].id);this.loadPrefab(a+"",t[0].id),this.node.getChildByName("bg").getComponent(cc.Sprite).spriteFrame=d.default.getInstance().getSpByName("Tower_Bg_1")}},t.prototype.refreshData=function(){d.default.getTowerLevel()},t.prototype.setDoor=function(e){var t=this.node.getChildByName("door"),a=t.getComponent(cc.Sprite),n=t.getChildByName("fire"),o=this.node.getChildByName("Torch1").getComponent(cc.Animation),i=this.node.getChildByName("Torch2").getComponent(cc.Animation),r=this.node.getChildByName("shadow");e>this.level?(a.spriteFrame=d.default.getInstance().getSpByName("Tower_Door_0"),n.active=!1,o.enabled=!1,i.enabled=!1,r.active=!0):e==this.level?(a.spriteFrame=d.default.getInstance().getSpByName("Tower_Door_1"),n.active=!0,o.enabled=!0,i.enabled=!0,r.active=!1):(a.spriteFrame=d.default.getInstance().getSpByName("Tower_Door_2"),n.active=!1,o.enabled=!0,i.enabled=!0,r.active=!1)},t.prototype.showUnlonkProcess0=function(){var e=this.node.getChildByName("door"),t=e.getComponent(cc.Sprite),a=e.getChildByName("fire");t.spriteFrame=d.default.getInstance().getSpByName("Tower_Door_1"),a.active=!0;var n=this.node.getChildByName("Torch1").getComponent(cc.Animation),o=this.node.getChildByName("Torch2").getComponent(cc.Animation);n.enabled=!0,o.enabled=!0,this.node.getChildByName("shadow").active=!1},t.prototype.showUnlonkProcess1=function(){this.refreshData();var e=this.node.getChildByName("shadow");e.opacity=0,cc.tween(e).to(.5,{opacity:255}).start(),this.node.getChildByName("Torch1").getComponent(cc.Sprite).spriteFrame=d.default.getInstance().getSpByName("Torch"),this.node.getChildByName("Torch2").getComponent(cc.Sprite).spriteFrame=d.default.getInstance().getSpByName("Torch")},t.prototype.sortMonster=function(e){e.sort(function(e,t){var a=r.MonsterConfigureManager.getInstance().getStrengthType(e.id);return r.MonsterConfigureManager.getInstance().getStrengthType(t.id)-a})},t.prototype.loadPrefab=function(e,t){var a=this,n="monster/ui/Monster_"+e,o=null;cc.resources.load(n,cc.Prefab,function(e,n){e?cc.log(e):((o=cc.instantiate(n)).parent=a.node.getChildByName("bg").getChildByName("monsterRoot"),o.setPosition(cc.v2(0,0)),3!=r.MonsterConfigureManager.getInstance().getStrengthType(t)?(o.scale=1.5*r.MonsterConfigureManager.getInstance().getScale(t),o.getComponent(sp.Skeleton).setSkin(s.MonsterFaceName.SideL+r.MonsterConfigureManager.getInstance().getSkin(t)),o.getComponent(sp.Skeleton).setAnimation(0,s.MonsterFaceName.SideR+"_"+s.MonsterActionName.Idle,!0)):o.getComponent(sp.Skeleton).setAnimation(0,"idle",!0))})},t.prototype.onClickPreviewBtn=function(){var e=this;g.UIManager.getInstance().showUiDialog(l.UIPath.TowerFightting,l.UILayerLevel.One,{onCompleted:function(t){t.getComponent(u.default).init(null),t.getComponent(u.default).initData(e.level)}})},i([f],t)}(cc.Component));a.default=_,cc._RF.pop()},{"../Monster/Data/MonsterConfigure":"MonsterConfigure","../Monster/MonsterData":"MonsterData","../UI/UIConfig":"UIConfig","../UI/UIManager":"UIManager","../multiLanguage/TextLanguage":"TextLanguage","./TowerFightingUi":"TowerFightingUi","./TowerLevel":"TowerLevel","./TowerManager":"TowerManager"}],BuffData:[function(e,t,a){"use strict";cc._RF.push(t,"5ecfbGCjrxKoZWwMPuEbbHs","BuffData"),Object.defineProperty(a,"__esModule",{value:!0}),a.BuffData=void 0;var n=e("../../Game/GameEffectsManager"),o=e("./HeroConfig");a.BuffData=function(){this.game_effect_id=n.GameEffectId.Null,this.buff_id=o.BuffId.Null,this.remain_time=0,this.buff_value=[],this.buff_type=o.BuffType.Normal,this.damage_jiange_time=0,this.recovery_jiange_time=0,this.add_floor=1,this.cur_floor=1,this.max_floor=0,this.fade_time=0},cc._RF.pop()},{"../../Game/GameEffectsManager":"GameEffectsManager","./HeroConfig":"HeroConfig"}],BuffDisplay:[function(e,t,a){"use strict";cc._RF.push(t,"dc5ecsHGPBFFrwRMnWQkTa7","BuffDisplay");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Ads/ApkManager"),s=e("../../CoinPop"),c=e("../../Constants"),l=e("../../GameManager"),g=e("../../Hero/Data/HeroManager"),u=e("../../multiLanguage/FollowConstants"),p=e("../../multiLanguage/FollowManager"),d=e("../../multiLanguage/LanguageManager"),h=e("../../multiLanguage/TextLanguage"),f=e("../../Prop/PropConfig"),_=e("../../Prop/PropManager"),m=e("../../Sound/AudioConstants"),y=e("../../Tools/MyTool"),I=e("../../UI/UIComponent"),v=e("../../UI/UIConfig"),M=e("../../UI/UIManager"),C=e("../../Wall/WallManager"),S=e("./EndlessBuff"),P=e("./EndlessConfig"),k=cc._decorator,b=k.ccclass,T=k.property,B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bt=null,t.RichText=null,t.btnad=null,t.btnshow=null,t.Common_Window3_1=null,t.BossRush_Line1=null,t.BossRush_Line2=null,t.text=null,t.xiatext=null,t.Common_Btn_Close=null,t.Common_Window3_2=null,t.Endless=null,t.Endless_Frame=null,t.Endless_List=null,t.Endless_List_suo=null,t.Label=null,t.bg1=null,t.Tipspop=null,t.type=0,t.num=null,t.Buff=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],t.EndlessBuff=null,t.copy_ui=null,t.SkillDescription=null,t.EndlessBuff1=null,t.Endless_Light=null,t.RaffleNumber=3,t.surplustxt=null,t.mttexiao=null,t.texiao=null,t}var a;return o(t,e),a=t,t.prototype.initUi=function(e){this.RaffleNumber=3,this.SkillDescription.active=!1,this.SkillDescription.getChildByName("Common_TextBG").active=!1,this.Endless_Light.active=!1,this.EndlessBuff1.active=!1;var t=800024;if(this.type=e,this.clickBtnTipspop(),this.surplustxt.active=!1,0==e)t=800024,this.RichText.active=!1,this.btnad.active=!1,this.btnshow.active=!1,this.Common_Window3_1.height=600,this.Common_Window3_1.y=-8,this.Common_Btn_Close.y=279,this.Common_Window3_2.y=285,this.bt.y=285,this.BossRush_Line1.active=!1,this.BossRush_Line2.active=!1,this.text.active=!1,this.Label.active=!0,this.bg1.active=!1,this.Endless.active=!1,this.xiatext.active=!1;else if(1==e){t=800020,this.RichTextRefresh(),this.RichText.active=!0,this.btnad.active=!0,this.btnshow.active=!0,this.Common_Window3_1.height=970,this.Common_Window3_1.y=10,this.Common_Btn_Close.y=485,this.Common_Window3_2.y=491,this.bt.y=491,this.BossRush_Line1.active=!0,this.BossRush_Line2.active=!0,this.text.active=!0,this.Label.active=!1,this.bg1.active=!0,this.xiatext.active=!0;for(var a=0;a<this.Endless.children.length;a++)this.Endless.children[a].active=!0;this.Refresh(),this.Endless.active=!0,this.num.getComponent(cc.Label).string="200"}this.bt.getComponent(h.default).setTextId(t),this.RefreshBuff()},t.prototype.RichTextRefresh=function(){var e=d.default.getInstance().getStrByTextId(800022);e=e.replace("~",""+this.RaffleNumber),this.RichText.getComponent(cc.RichText).string=e},t.prototype.Unlock=function(){for(var e=g.HeroManager.getInstance().getTeamList(l.default.getInstance().cur_game_mode),t=0;t<e.length;t++)if(e[t]>0){if(this.Endless_Frame.children[t].childrenCount<2){var a=_.PropManager.getInstance().createPropItem(11e4+e[t],0);a.scale=.8,a.parent=this.Endless_Frame.children[t]}for(var n=0;n<this.Buff[t].length;n++)0==this.Buff[t][n]&&0==n&&(this.Endless_List_suo.children[t].children[n].active=!1),this.Buff[t][n]>0&&(this.Endless_List_suo.children[t].children[n].active=!1,n<this.Buff[t].length-1&&(this.Endless_List_suo.children[t].children[n+1].active=!1))}},t.prototype.clickBtnEndlessBuffDetails=function(e,t){var a=Number(t);if(a>1e3);else{this.SkillDescription.x=0,e.currentTarget.parent.x<0&&(this.SkillDescription.x=e.currentTarget.parent.x),e.currentTarget.parent.x>0&&(this.SkillDescription.x=e.currentTarget.parent.x),this.SkillDescription.y=e.currentTarget.parent.y+10,this.SkillDescription.active=!0;var n=S.EndlessBuffManager.getInstance().getParameter(a),o=S.EndlessBuffManager.getInstance().getType(a),i=801e3+o;if(this.SkillDescription.getChildByName("bt").getComponent(h.default).setTextId(i),1==o||2==o||4==o||5==o||6==o||7==o||8==o||9==o||10==o||11==o){var r=100*n;this.SkillDescription.getChildByName("bt").getComponent(h.default).setReplaceValue("~",y.default.numberFormat(r,2)+"%")}else this.SkillDescription.getChildByName("bt").getComponent(h.default).setReplaceValue("~",n+"");this.scheduleOnce(function(){this.SkillDescription.getChildByName("Common_TextBG").active=!0},1e-4)}},t.prototype.onHeroTouchStart=function(e){var t=e.getCurrentTarget(),a=this.node.convertToNodeSpaceAR(e.getLocation());this.EndlessBuff1.active=!0,this.EndlessBuff1.setPosition(a),this.EndlessBuff1.getComponent(cc.Sprite).spriteFrame=t.getComponent(cc.Sprite).spriteFrame,t.getComponent(cc.Sprite).enabled=!1},t.prototype.onHeroTouchMove=function(e){var t=e.getCurrentTarget(),a=this.node.convertToNodeSpaceAR(e.getLocation());this.EndlessBuff1.setPosition(a),this.HeroTouch(t,a,0)},t.prototype.onHeroTouchEnd=function(e){var t=e.getCurrentTarget();this.EndlessBuff1.active=!1,t.getComponent(cc.Sprite).enabled=!0},t.prototype.HeroTouch=function(e,t,a){for(var n=0;n<this.Endless_List.children.length;n++)for(var o=0;o<this.Endless_List.children[n].children.length;o++)if(0==this.Endless_List_suo.children[n].children[o].active){for(var i=Number(e.getComponent(cc.Button).clickEvents[0].customEventData)/1e4,r=S.EndlessBuffManager.getInstance().getRarity(i),s=S.EndlessBuffManager.getInstance().getType(i),c=0,h=0,f=-1,_=0;_<this.Buff[n].length;_++)this.Buff[n][_]>0&&S.EndlessBuffManager.getInstance().getType(this.Buff[n][_])==s&&(f=_,h=S.EndlessBuffManager.getInstance().getRarity(this.Buff[n][_]),c=1);var m=this.Endless_List.children[n].children[o].getContentSize(),y=this.Endless_List.children[n].children[o].getPosition();if(1==cc.rect(y.x-m.width/2,y.y-m.height/2,m.width,m.height).contains(t))if(f==o&&h<r&&(c=0),0==c){if(0==a)return this.Endless_Light.x=y.x,this.Endless_Light.y=y.y,void(this.Endless_Light.active=!0);if(1==a){this.EndlessBuff1.active=!1;var I=g.HeroManager.getInstance().getTeamList(l.default.getInstance().cur_game_mode);this.Buff[n][o]>0&&l.default.getInstance().getHero(I[n]).removeEndlessBuff(this.Buff[n][o]),this.Buff[n][o]=i;var v=new P.EndlessBuff,M=S.EndlessBuffManager.getInstance().getType(i),k=S.EndlessBuffManager.getInstance().getRarity(i),b=S.EndlessBuffManager.getInstance().getParameter(i);if(p.default.getInstance().followEvent(u.Follow_Type.\u65e0\u5c3d\u6311\u6218_\u4e0d\u540cID\u7684buff\u88c5\u5907\u6b21\u6570+i),8==M){this.Buff[n][o]=0;var T=b*C.default.getInstance().getMainWall().getMaxHp();C.default.getInstance().getMainWall().changeHpByEndless(T),l.default.getInstance().showMessage(d.default.getInstance().getStrByTextId(800026),2)}else v.type=M,v.id=i,v.rarity=k,v.value=b,l.default.getInstance().getHero(I[n]).addEndlessBuff(v);return e.parent.parent.active=!1,this.Endless_Light.active=!1,this.RefreshBuff(),void(0==this.Endless.children[0].active&&0==this.Endless.children[1].active&&0==this.Endless.children[2].active&&this.destroySelf())}}else 1==a&&l.default.getInstance().showMessage(d.default.getInstance().getStrByTextId(800033),1.5)}0==a&&(this.Endless_Light.active=!1)},t.prototype.onHeroTouchCancel=function(e){var t=e.getCurrentTarget(),a=this.node.convertToNodeSpaceAR(e.getLocation());this.EndlessBuff1.active=!1,this.EndlessBuff1.setPosition(a),t.getComponent(cc.Sprite).enabled=!0,this.HeroTouch(t,a,1)},t.prototype.RefreshBuff=function(){for(var e=0;e<this.Buff.length;e++)for(var t=0;t<this.Buff[t].length;t++)if(this.Buff[e][t]>0){var a=void 0;(a=0==this.Endless_List.children[e].children[t].childrenCount?cc.instantiate(this.EndlessBuff):this.Endless_List.children[e].children[t].children[0]).scale=.7,a.active=!0,a.getComponent(cc.Sprite).spriteFrame=this.copy_ui.getSpriteFrame("EndlessBuff_"+this.Buff[e][t]),a.getComponent(cc.Button).clickEvents[0].customEventData=""+this.Buff[e][t],a.parent=this.Endless_List.children[e].children[t]}this.Unlock()},t.prototype.Refresh=function(){var e=S.EndlessBuffManager.getInstance().getThreeWeight();if(p.default.getInstance().followEvent(u.Follow_Type.\u65e0\u5c3d\u6311\u6218_\u4e0d\u540cID\u7684buff\u7684\u83b7\u53d6\u6b21\u6570+e[0]),p.default.getInstance().followEvent(u.Follow_Type.\u65e0\u5c3d\u6311\u6218_\u4e0d\u540cID\u7684buff\u7684\u83b7\u53d6\u6b21\u6570+e[1]),p.default.getInstance().followEvent(u.Follow_Type.\u65e0\u5c3d\u6311\u6218_\u4e0d\u540cID\u7684buff\u7684\u83b7\u53d6\u6b21\u6570+e[2]),0==this.RaffleNumber){this.RaffleNumber=3;for(var t=S.EndlessBuffManager.getInstance().getWeightOrange(),n=0,o=[],i=0;i<this.Endless.children.length;i++)1==this.Endless.children[i].active&&((s=S.EndlessBuffManager.getInstance().getRarity(e[i]))>=4?(p.default.getInstance().followEvent(u.Follow_Type.\u65e0\u5c3d\u6311\u6218_\u5237\u65b0buff\u65f6\u89e6\u53d1\u4fdd\u5e95\u7684\u6b21\u6570),n=1):o.push(i));0==n&&(e[o[y.default.random(0,o.length-1)]]=t)}for(a.surplusnumber>-1&&(this.surplustxt.active=!0,this.surplustxt.getComponent(h.default).setTextId(800030),a.surplusnumber>0&&(this.Refreshsurplusnumber(a.surplusnumber),a.surplusnumber=0),this.surplustxt.getComponent(h.default).setReplaceValue("~",a.surplusnumber+"")),this.RichTextRefresh(),i=0;i<this.Endless.children.length;i++)if(1==this.Endless.children[i].active){var r=void 0;0==this.Endless.children[i].getChildByName("item").childrenCount?((r=cc.instantiate(this.EndlessBuff)).getComponent(cc.Button).enabled=!1,r.on(cc.Node.EventType.TOUCH_START,this.onHeroTouchStart,this),r.on(cc.Node.EventType.TOUCH_MOVE,this.onHeroTouchMove,this),r.on(cc.Node.EventType.TOUCH_END,this.onHeroTouchEnd,this),r.on(cc.Node.EventType.TOUCH_CANCEL,this.onHeroTouchCancel,this)):r=this.Endless.children[i].getChildByName("item").children[0];var s=S.EndlessBuffManager.getInstance().getRarity(e[i]),c=S.EndlessBuffManager.getInstance().getType(e[i]),l=S.EndlessBuffManager.getInstance().getParameter(e[i]);r.getComponent(cc.Sprite).spriteFrame=this.copy_ui.getSpriteFrame("EndlessBuff_"+e[i]),r.getComponent(cc.Button).clickEvents[0].customEventData=""+1e4*e[i],r.active=!0;var g=[new cc.Color(99,99,99),new cc.Color(113,100,59),new cc.Color(28,98,176),new cc.Color(150,30,168),new cc.Color(193,114,0),new cc.Color(188,36,31)],d=this.Endless.children[i].getChildByName("text");if(d.color=g[s],d.getComponent(h.default).setTextId(801e3+c),1==c||2==c||4==c||5==c||6==c||7==c||8==c||9==c||10==c||11==c){var f=100*l;d.getComponent(h.default).setReplaceValue("~",y.default.numberFormat(f,2)+"%")}else d.getComponent(h.default).setReplaceValue("~",l+"");r.parent=this.Endless.children[i].getChildByName("item")}},t.prototype.Refreshsurplusnumber=function(e){for(var t=e,a=[],n=0;n<t;n++){var o=S.EndlessBuffManager.getInstance().getThreeWeight();a.splice.apply(a,[a.length,0].concat(o))}for(var i=g.HeroManager.getInstance().getTeamList(l.default.getInstance().cur_game_mode),r=0,s=0;s<i.length;s++)if(i[s]>0)for(var c=0;c<this.Buff[0].length;c++)if(0==this.Buff[s][c]&&r<a.length){var h=0,f=a[r],_=S.EndlessBuffManager.getInstance().getType(f),m=S.EndlessBuffManager.getInstance().getRarity(f);if(8==_){if(!(++r<a.length))break;f=a[r],_=S.EndlessBuffManager.getInstance().getType(f)}var y=0,I=0;for(n=0;n<i.length;n++)if(i[n]>0){for(var v=0,M=0;M<this.Buff[n].length;M++)this.Buff[n][M]>0&&_==S.EndlessBuffManager.getInstance().getType(this.Buff[n][M])&&v++;I++,v>0&&y++}if(y==I){for(r++,n=0;n<i.length;n++)if(i[n]>0)for(M=0;M<this.Buff[n].length;M++)if(this.Buff[n][M]>0&&_==S.EndlessBuffManager.getInstance().getType(this.Buff[n][M])&&m>S.EndlessBuffManager.getInstance().getRarity(this.Buff[n][M])){l.default.getInstance().getHero(i[s]).removeEndlessBuff(this.Buff[s][c]),this.Buff[s][c]=a[r];var C=new P.EndlessBuff,k=S.EndlessBuffManager.getInstance().getParameter(f);p.default.getInstance().followEvent(u.Follow_Type.\u65e0\u5c3d\u6311\u6218_\u4e0d\u540cID\u7684buff\u88c5\u5907\u6b21\u6570+f),C.type=_,C.id=f,C.rarity=m,C.value=k,l.default.getInstance().getHero(i[s]).addEndlessBuff(C)}}else{for(var b=0;b<this.Buff[s].length;b++)this.Buff[s][b]>0&&_==S.EndlessBuffManager.getInstance().getType(this.Buff[s][b])&&(h=1);0==h&&(this.Buff[s][c]=a[r],C=new P.EndlessBuff,k=S.EndlessBuffManager.getInstance().getParameter(f),p.default.getInstance().followEvent(u.Follow_Type.\u65e0\u5c3d\u6311\u6218_\u4e0d\u540cID\u7684buff\u88c5\u5907\u6b21\u6570+f),C.type=_,C.id=f,C.rarity=m,C.value=k,l.default.getInstance().getHero(i[s]).addEndlessBuff(C),r++)}}if(r<a.length)for(s=0;s<i.length;s++)if(i[s]>0)for(c=0;c<this.Buff[0].length;c++)if(0==this.Buff[s][c]&&r<a.length){if(h=0,f=a[r],_=S.EndlessBuffManager.getInstance().getType(f),m=S.EndlessBuffManager.getInstance().getRarity(f),8==_){if(!(++r<a.length))break;f=a[r],_=S.EndlessBuffManager.getInstance().getType(f)}for(y=0,I=0,n=0;n<i.length;n++)if(i[n]>0){for(v=0,M=0;M<this.Buff[n].length;M++)this.Buff[n][M]>0&&_==S.EndlessBuffManager.getInstance().getType(this.Buff[n][M])&&v++;I++,v>0&&y++}if(y==I){for(r++,n=0;n<i.length;n++)if(i[n]>0)for(M=0;M<this.Buff[n].length;M++)this.Buff[n][M]>0&&_==S.EndlessBuffManager.getInstance().getType(this.Buff[n][M])&&m>S.EndlessBuffManager.getInstance().getRarity(this.Buff[n][M])&&(l.default.getInstance().getHero(i[s]).removeEndlessBuff(this.Buff[s][c]),this.Buff[s][c]=a[r],C=new P.EndlessBuff,k=S.EndlessBuffManager.getInstance().getParameter(f),p.default.getInstance().followEvent(u.Follow_Type.\u65e0\u5c3d\u6311\u6218_\u4e0d\u540cID\u7684buff\u88c5\u5907\u6b21\u6570+f),C.type=_,C.id=f,C.rarity=m,C.value=k,l.default.getInstance().getHero(i[s]).addEndlessBuff(C))}else{for(b=0;b<this.Buff[s].length;b++)this.Buff[s][b]>0&&_==S.EndlessBuffManager.getInstance().getType(this.Buff[s][b])&&(h=1);0==h&&(this.Buff[s][c]=a[r],C=new P.EndlessBuff,k=S.EndlessBuffManager.getInstance().getParameter(f),p.default.getInstance().followEvent(u.Follow_Type.\u65e0\u5c3d\u6311\u6218_\u4e0d\u540cID\u7684buff\u88c5\u5907\u6b21\u6570+f),C.type=_,C.id=f,C.rarity=m,C.value=k,l.default.getInstance().getHero(i[s]).addEndlessBuff(C),r++)}}for(s=0;s<this.Buff.length;s++)for(c=0;c<this.Buff[c].length;c++)if(this.Buff[s][c]>0){var T=cc.instantiate(this.texiao);T.x=this.Endless_List.children[s].children[c].x,T.y=this.Endless_List.children[s].children[c].y,T.active=!0,T.parent=this.mttexiao}this.scheduleOnce(function(){l.default.getInstance().showMessage(d.default.getInstance().getStrByTextId(800034),3),this.RefreshBuff()},.2)},t.prototype.clickBtnBuy=function(){_.PropManager.getInstance().getPropNum(f.PropId.Gem)>=200?(p.default.getInstance().followEvent(u.Follow_Type.\u65e0\u5c3d\u6311\u6218_\u4f7f\u7528\u94bb\u77f3\u5237\u65b0buff\u7684\u6b21\u6570),_.PropManager.getInstance().changePropNum(f.PropId.Gem,-200),this.RaffleNumber--,this.Refresh()):M.UIManager.getInstance().showUiDialog(v.UIPath.CoinPop,v.UILayerLevel.Three,{onCompleted:function(e){e.getComponent(s.default).initUi(f.PropId.Gem)}})},t.prototype.clickBtnBuyAd=function(){var e=this;r.default.getInstance().showVideo(function(t){t&&(e.RaffleNumber--,p.default.getInstance().followEvent(u.Follow_Type.\u65e0\u5c3d\u6311\u6218_\u4f7f\u7528\u5e7f\u544a\u5237\u65b0buff\u7684\u6b21\u6570),e.Refresh())},c.VIDEO_TYPE.Equip)},t.prototype.clickBtnClose=function(){1!=this.type?this.destroySelf():this.Tipspop.active=!0},t.prototype.clickBtnTipspop=function(){this.Tipspop.active=!1},t.prototype.destroySelf=function(){if(1==this.type){if(a.surplusnumber>0){a.surplusnumber--;for(var e=0;e<this.Endless.children.length;e++)this.Endless.children[e].active=!0;return this.clickBtnTipspop(),this.Refresh(),void this.RefreshBuff()}a.surplusnumber=-1,l.default.getInstance().startNextLevel()}this.clickBtnTipspop(),l.default.getInstance().sound_manager.playSound(m.SoundIndex.click),this.onClose(),l.default.getInstance().cur_game_state=c.GameState.Game_Playing},t.prototype.clickBtnCloseSkillDescription=function(){this.SkillDescription.getChildByName("Common_TextBG").active=!1,this.SkillDescription.active=!1},t.surplusnumber=-1,i([T(cc.Node)],t.prototype,"bt",void 0),i([T(cc.Node)],t.prototype,"RichText",void 0),i([T(cc.Node)],t.prototype,"btnad",void 0),i([T(cc.Node)],t.prototype,"btnshow",void 0),i([T(cc.Node)],t.prototype,"Common_Window3_1",void 0),i([T(cc.Node)],t.prototype,"BossRush_Line1",void 0),i([T(cc.Node)],t.prototype,"BossRush_Line2",void 0),i([T(cc.Node)],t.prototype,"text",void 0),i([T(cc.Node)],t.prototype,"xiatext",void 0),i([T(cc.Node)],t.prototype,"Common_Btn_Close",void 0),i([T(cc.Node)],t.prototype,"Common_Window3_2",void 0),i([T(cc.Node)],t.prototype,"Endless",void 0),i([T(cc.Node)],t.prototype,"Endless_Frame",void 0),i([T(cc.Node)],t.prototype,"Endless_List",void 0),i([T(cc.Node)],t.prototype,"Endless_List_suo",void 0),i([T(cc.Node)],t.prototype,"Label",void 0),i([T(cc.Node)],t.prototype,"bg1",void 0),i([T(cc.Node)],t.prototype,"Tipspop",void 0),i([T(cc.Node)],t.prototype,"num",void 0),i([T(cc.Node)],t.prototype,"EndlessBuff",void 0),i([T(cc.SpriteAtlas)],t.prototype,"copy_ui",void 0),i([T(cc.Node)],t.prototype,"SkillDescription",void 0),i([T(cc.Node)],t.prototype,"EndlessBuff1",void 0),i([T(cc.Node)],t.prototype,"Endless_Light",void 0),i([T(cc.Node)],t.prototype,"surplustxt",void 0),i([T(cc.Node)],t.prototype,"mttexiao",void 0),i([T(cc.Node)],t.prototype,"texiao",void 0),a=i([b],t)}(I.default);a.default=B,cc._RF.pop()},{"../../Ads/ApkManager":"ApkManager","../../CoinPop":"CoinPop","../../Constants":"Constants","../../GameManager":"GameManager","../../Hero/Data/HeroManager":"HeroManager","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../Tools/MyTool":"MyTool","../../UI/UIComponent":"UIComponent","../../UI/UIConfig":"UIConfig","../../UI/UIManager":"UIManager","../../Wall/WallManager":"WallManager","../../multiLanguage/FollowConstants":"FollowConstants","../../multiLanguage/FollowManager":"FollowManager","../../multiLanguage/LanguageManager":"LanguageManager","../../multiLanguage/TextLanguage":"TextLanguage","./EndlessBuff":"EndlessBuff","./EndlessConfig":"EndlessConfig"}],BuffStateManager:[function(e,t,a){"use strict";cc._RF.push(t,"b2406dy0pRJr75zJm2cmoXk","BuffStateManager");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("./MapNodePool"),s=e("../Hero/Game/BuffState"),c=e("../Hero/Game/HeroConfig"),l=cc._decorator,g=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ui_atlas=null,t}var a;return o(t,e),a=t,t.getInstance=function(){return this._instance},t.prototype.getSpByName=function(e){return this.ui_atlas.getSpriteFrame(e)},t.prototype.onLoad=function(){a._instance=this},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this),a._instance=null},t.prototype.createBuffRoot=function(e,t){var a=new cc.Node(""+t),n=a.addComponent(cc.Layout);n.type=cc.Layout.Type.HORIZONTAL,n.resizeMode=cc.Layout.ResizeMode.CONTAINER,a.setPosition(e),this.node.addChild(a)},t.prototype.createBuffState=function(e,t){var a=new cc.Node(""+e);return a.addComponent(cc.Sprite).spriteFrame=this.getSpByName("Buff_Icon_"+e),this.node.getChildByName(""+t).addChild(a),a.addComponent(s.default)},t.prototype.createDeBuffState=function(e,t){var a=new cc.Node(""+e);return a.addComponent(cc.Sprite).spriteFrame=this.getSpByName("Debuff_Icon_"+e),this.node.getChildByName(""+t).addChild(a),a.addComponent(s.default)},t.prototype.getBuffType=function(e){var t=[];switch(e){case c.BuffId.Hero_MeiMo_GongSu:case c.BuffId.Pet3_JiaSu:case c.BuffId.Hero_ZhenDe_Gongsu:case c.BuffId.Hero_KuangZhanShi_DaZhao:case c.BuffId.Hero_ChangMaoShow_GongSu:t.push(c.BuffStateType.AttackSpeed);break;case c.BuffId.Hero_ZhenDe_BaoJiMingZhongLv:t.push(c.BuffStateType.CritRate),t.push(c.BuffStateType.HitRate)}return t},t.prototype.getDeBuffType=function(e){var t=[];switch(e){case c.BuffId.Boss6_Skill_2_jiangongsu:case c.BuffId.Boss3_JIAN_GongSu:t.push(c.BuffStateType.AttackSpeed);break;case c.BuffId.Boss8_Skill_2_attack:t.push(c.BuffStateType.Attack)}return t},t._instance=null,i([u(cc.SpriteAtlas)],t.prototype,"ui_atlas",void 0),a=i([g],t)}(r.default);a.default=p,cc._RF.pop()},{"../Hero/Game/BuffState":"BuffState","../Hero/Game/HeroConfig":"HeroConfig","./MapNodePool":"MapNodePool"}],BuffState:[function(e,t,a){"use strict";cc._RF.push(t,"843127SnhhEuqDoa3UDafaU","BuffState");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../GameManager"),c=e("./HeroConfig"),l=cc._decorator,g=l.ccclass,u=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.remain_time=0,t.buff_type=c.BuffStateType.Attack,t.destroy_callback=null,t.opacity_num=5,t}return o(t,e),t.prototype.init=function(e,t,a){this.remain_time=t,this.buff_type=e,this.node.opacity=255,this.destroy_callback=a},t.prototype.getRemainTime=function(){return this.remain_time},t.prototype.getBuffType=function(){return this.buff_type},t.prototype.refreshTime=function(e){e>this.remain_time&&(this.remain_time=e,this.remain_time>=3&&(this.node.opacity=255))},t.prototype.destroySelf=function(){this.destroy_callback&&this.destroy_callback(this.buff_type),this.node.removeFromParent()},t.prototype.update=function(e){s.default.getInstance().cur_game_state==r.GameState.Game_Playing&&this.remain_time>0&&(this.remain_time-=e,this.remain_time<0&&(this.remain_time=0,this.destroySelf()),this.remain_time<=3?(this.node.opacity+=this.opacity_num,this.node.opacity<=128?this.opacity_num=5:this.node.opacity>=255&&(this.opacity_num=-5)):this.node.opacity=255)},i([g],t)}(cc.Component));a.default=u,cc._RF.pop()},{"../../Constants":"Constants","../../GameManager":"GameManager","./HeroConfig":"HeroConfig"}],BuffTimer:[function(e,t,a){"use strict";cc._RF.push(t,"c1b1dadWHhFuKxcQokZA9YK","BuffTimer");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../GameManager"),c=e("../../Game/GameEffectsManager"),l=cc._decorator,g=l.ccclass,u=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buff_data=null,t.destroy_callback=[],t.damage_listen=null,t.damage_jishu_time=0,t.gongji_data=null,t.recovery_listen=null,t.recovery_jishu_time=0,t.recovery_num=0,t.burst_num=0,t.burst_callback=null,t.add_floor_callback=null,t.texiao=null,t.texiao_id=c.GameEffectId.Null,t}return o(t,e),t.prototype.init=function(e){this.buff_data=e,this.buff_data.cur_floor=e.add_floor,e.fade_time>0&&(this.node.opacity=0,cc.tween(this.node).to(e.fade_time,{opacity:255}).start()),this.initListen()},t.prototype.initListen=function(){this.destroy_callback=new Array},t.prototype.addDestroyListen=function(e){this.destroy_callback.push(e)},t.prototype.addFloorListen=function(e){this.add_floor_callback=e},t.prototype.addBurstListen=function(e,t,a){this.burst_num=e,this.burst_callback=t,this.gongji_data=a},t.prototype.addDamageListen=function(e,t){this.damage_listen=e,this.gongji_data=t,this.damage_jishu_time=this.buff_data.damage_jiange_time},t.prototype.addRecoveryListen=function(e,t){this.recovery_listen=e,this.recovery_num=t,this.recovery_jishu_time=this.buff_data.recovery_jiange_time},t.prototype.getRemainTime=function(){return this.buff_data.remain_time},t.prototype.getBuffType=function(){return this.buff_data.buff_type},t.prototype.getBuffId=function(){return this.buff_data.buff_id},t.prototype.getBuffValue=function(){return this.buff_data.buff_value},t.prototype.getFirstBuffValue=function(){return this.buff_data.buff_value[0]},t.prototype.getGameEffectId=function(){return this.buff_data.game_effect_id},t.prototype.getFloorNum=function(){return this.buff_data.cur_floor},t.prototype.addTeXiao=function(e,t,a){this.texiao=c.GameEffectsManager.getInstance().createGameEffectForParent(e,t,a),this.texiao_id=e},t.prototype.refreshBuff=function(e){e.remain_time>this.buff_data.remain_time&&(this.buff_data.remain_time=e.remain_time),this.addFloor(e.add_floor)},t.prototype.addFloor=function(e){void 0===e&&(e=1);var t=this.buff_data.cur_floor+e;this.buff_data.max_floor>0&&t>this.buff_data.max_floor&&(t=this.buff_data.max_floor),this.buff_data.cur_floor=t,this.burst_num>0&&this.buff_data.cur_floor>=this.burst_num&&(this.buff_data.cur_floor=0,this.burst_callback&&this.burst_callback(this.buff_data,this.gongji_data)),this.add_floor_callback&&this.add_floor_callback(this.buff_data.cur_floor)},t.prototype.destroySelf=function(){if(c.GameEffectsManager.getInstance().destroyGameEffectById(this.buff_data.game_effect_id,this.node),this.destroy_callback.length>0)for(var e=0;e<this.destroy_callback.length;e++)this.destroy_callback[e](this.buff_data);this.texiao&&c.GameEffectsManager.getInstance().destroyGameEffectById(this.texiao_id,this.texiao)},t.prototype.doDamage=function(){this.damage_listen&&this.damage_listen.doDamage(this.gongji_data)},t.prototype.doRecovery=function(){this.recovery_listen&&this.recovery_listen.doRecovery(this.recovery_num)},t.prototype.update=function(e){s.default.getInstance().cur_game_state==r.GameState.Game_Playing&&this.buff_data.remain_time>0&&(this.buff_data.remain_time-=e,this.buff_data.remain_time<0&&(this.buff_data.remain_time=0,this.destroySelf()),this.buff_data.fade_time>0&&this.buff_data.remain_time<this.buff_data.fade_time&&(this.node.opacity-=2*e*this.buff_data.fade_time),this.damage_listen&&(this.damage_jishu_time+=e,this.damage_jishu_time>=this.buff_data.damage_jiange_time&&(this.damage_jishu_time=0,this.doDamage())),this.recovery_listen&&(this.recovery_jishu_time+=e,this.recovery_jishu_time>=this.buff_data.recovery_jiange_time&&(this.recovery_jishu_time=0,this.doRecovery())))},i([g],t)}(cc.Component));a.default=u,cc._RF.pop()},{"../../Constants":"Constants","../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager"}],BullDemon:[function(e,t,a){"use strict";cc._RF.push(t,"0fe15YU7MRIEJ2rCzkBEMEN","BullDemon");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r,s,c=e("../Enemy/EnemyConfig"),l=e("../Game/Move"),g=e("../Game/GameEffectsManager"),u=e("../GameManager"),p=e("../Level/MissionLevel"),d=e("../Tools/MyTool"),h=e("../Constants"),f=e("../Monster/MonsterManager"),_=e("../Sound/AudioConstants"),m=e("../Monster/MonsterData"),y=e("./Boss"),I=e("../Hero/Game/HeroConfig");(function(e){e.Idle="idle",e.attack1="attack1",e.attack2="attack2",e.run="run",e.hurt1="hurt1",e.hurt2="hurt2",e.skill5="skill5",e.dead="dead"})(r||(r={})),function(e){e[e.ZuoShang=0]="ZuoShang",e[e.YouShang=1]="YouShang",e[e.ZhongXin=2]="ZhongXin",e[e.ZuoXia=3]="ZuoXia",e[e.YouXia=4]="YouXia"}(s||(s={}));var v=cc._decorator,M=v.ccclass,C=(v.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skill_list=[],t.is_skill_finish=!0,t.finish_list=[],t.moving_track=[],t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),g.GameEffectsManager.getInstance().addEffectPoolById(g.GameEffectId.boss1_att_move,2),g.GameEffectsManager.getInstance().addEffectPoolById(g.GameEffectId.boss1_att_end,2),f.default.getInstance().addMonsterPool(10011,4),f.default.getInstance().addMonsterPool(20021,4),f.default.getInstance().addMonsterPool(10031,4),f.default.getInstance().addMonsterPool(20041,4),f.default.getInstance().addMonsterPool(10051,4),this.addChangeBossHpListen(this.onChangeHp),this.addDeathCallback(this.onDeath),this.addXuanYunListen(this.onXuanYunResult),this.addBossInitedListen(this.onBossInited),this.initMovingTrack()},t.prototype.initMovingTrack=function(){var e=222*Math.tan(Math.PI/6),t=u.default.getInstance().getFightCenter();this.moving_track=[cc.v2(-222+t.x,e+t.y),cc.v2(222+t.x,e+t.y),t,cc.v2(-222+t.x,-e+t.y),cc.v2(222+t.x,-e+t.y)]},t.prototype.onChangeHp=function(){var e=this.cur_hp/this.max_hp;e<.95&&this.startSkill(0),e<.65&&(this.startSkill(0),this.startSkill(1)),e<.35&&(this.startSkill(0),this.startSkill(1),this.startSkill(2))},t.prototype.onBossInited=function(){this.startIdle()},t.prototype.setTargetPos=function(e,t){this.move_target_pos=e,this.move_end_callback=t},t.prototype.startIdle=function(){e.prototype.setEnemyState.call(this,c.Enemy_State.standby),e.prototype.playSpinAnimaton.call(this,r.Idle,!0),this.scheduleOnce(this.startMove,2)},t.prototype.onXuanYunResult=function(t){t?this.startXuanYun():e.prototype.getIsDie.call(this)||this.startIdle()},t.prototype.startXuanYun=function(){var t=this;e.prototype.playSpinAnimaton.call(this,r.hurt1,!1,null,function(){e.prototype.isHaveDeBuffType.call(t,I.BuffType.Vertigo)&&!e.prototype.getIsDie.call(t)&&(t.spine.paused=!0)})},t.prototype.startMove=function(t,a){var n=this;e.prototype.setEnemyState.call(this,c.Enemy_State.move),e.prototype.playSpinAnimaton.call(this,r.run,!0),a=a||this.getRandomPos(),this.setTargetPos(a,function(){n.cur_pos_type=n.next_pos_type,n.node.x<-128&&(n.node.scaleX=n.setup_scale),n.node.x>128&&(n.node.scaleX=-n.setup_scale),n.startAttack()})},t.prototype.startAttack=function(){var t=this;this.unschedule(this.startMove),e.prototype.setEnemyState.call(this,c.Enemy_State.att);var a=new m.KeyFrameData;a.name="attack1_Start",a.callback=function(){t.startLaunch(cc.v2(t.node.x+t.att_pos.x*t.node.scaleX,t.node.y+t.att_pos.y*t.node.scaleY))},e.prototype.playSpinAnimaton.call(this,r.attack1,!1,a,function(){t.startIdle()})},t.prototype.startSkill=function(t){var a=this;if(!e.prototype.isHaveDeBuffType.call(this,I.BuffType.Vertigo)&&!this.finish_list.includes(t))if(0!=this.is_skill_finish){this.unschedule(this.startMove),this.is_skill_finish=!1,e.prototype.setEnemyState.call(this,c.Enemy_State.skill),this.finish_list.push(t);var n=new m.KeyFrameData;n.name="skill_Start",n.callback=function(){a.releaseSkill(t)},e.prototype.playSpinAnimaton.call(this,r.skill5,!1,n,function(){if(a.is_skill_finish=!0,a.skill_list.length>0){var e=a.skill_list.shift();a.startSkill(e)}else a.getEnemyPrevState()==c.Enemy_State.move?a.startMove(0,a.getNextPos()):a.startMove(0);a.jiasu()})}else this.skill_list.includes(t)||this.skill_list.push(t)},t.prototype.releaseSkill=function(e){for(var t=this.getZhaoHuanGuai(e),a=0,n=0;n<t.length;n++)for(var o=t[n],i=0;i<o.num;i++)a++;this.getZhaoHuanPos(a)},t.prototype.getZhaoHuanPos=function(e){var t=this.node.getPosition(),a=Math.PI/(e-1),n=Math.PI;t.x<-128?n=3*Math.PI/2:t.x>=-128&&t.x<=128?n=Math.PI:t.x>128&&(n=Math.PI/2);for(var o=new Array,i=0;i<e;i++){var r=i*a+n,s=t.y+128*Math.sin(r),c=t.x+128*Math.cos(r);o.push(cc.v2(c,s))}return d.default.randomArray(o)},t.prototype.getZhaoHuanGuai=function(e){var t=new Array;switch(e){case 0:(a=new p.TableMonsterData).id=10011,a.num=8,a.level=1,t.push(a);break;case 1:(a=new p.TableMonsterData).id=20021,a.num=6,a.level=2,(n=new p.TableMonsterData).id=20041,n.num=4,n.level=a.level,t.push(a),t.push(n);break;case 2:var a,n;(a=new p.TableMonsterData).id=10031,a.num=6,a.level=3,(n=new p.TableMonsterData).id=20041,n.num=2,n.level=a.level;var o=new p.TableMonsterData;o.id=10051,o.num=4,o.level=a.level,t.push(a),t.push(n),t.push(o)}return t},t.prototype.getNextPos=function(){return this.moving_track[this.next_pos_type]},t.prototype.getAllPos=function(){var e=222*Math.tan(Math.PI/6),t=u.default.getInstance().getFightCenter();return[cc.v2(-222+t.x,e+t.y),cc.v2(222+t.x,e+t.y),t,cc.v2(-222+t.x,-e+t.y),cc.v2(222+t.x,-e+t.y)]},t.prototype.startLaunch=function(e){var t=g.GameEffectsManager.getInstance().createGameEffectById(g.GameEffectId.boss1_att_move,e),a=t.getComponent(l.default);a.init(540,0,g.GameEffectId.boss1_att_move),a.setTargetPos(cc.v2(512*Math.random()-256,u.default.getInstance().enemy_att_y-20),function(){g.GameEffectsManager.getInstance().createGameEffectById(g.GameEffectId.boss1_att_end,t.getPosition()),g.GameEffectsManager.getInstance().destroyGameEffectById(g.GameEffectId.boss1_att_move,t)})},t.prototype.jiasu=function(){var e=this.node.getPosition(),t=f.default.getInstance().getMonstersForCenterPos(-1,e,160);if(t){for(var a=0;a<t.length;a++){var n=t[a];this.node.uuid!=n.uuid&&this.createJiaSu(t[a])}return!1}return!0},t.prototype.createJiaSu=function(){},t.prototype.onDeath=function(){var t=this;this.unscheduleAllCallbacks(),e.prototype.playDeadAnimaton.call(this,r.dead,function(){f.default.getInstance().destroyMonster(t.node,t.monster_type)}),u.default.getInstance().sound_manager.playSound(_.SoundIndex.rewardBox2)},t.prototype.update=function(t){u.default.getInstance().cur_game_state!=h.GameState.Game_Playing||this.getIsDie()||(e.prototype.update.call(this,t),this.getEnemyState()==c.Enemy_State.move&&this.checkMove(t))},t.prototype.checkMove=function(t){if(!e.prototype.isHaveDeBuffType.call(this,I.BuffType.Vertigo)){var a=this.cur_move_speed*t;if(this.move_target_pos){var n=this.move_target_pos.sub(this.node.getPosition());if(this.node.scaleX=n.x>0?this.setup_scale:-this.setup_scale,n.mag()<a)this.move_end_callback&&(this.move_end_callback(),this.move_end_callback=null);else{var o=2*Math.PI;this.move_direction=(Math.atan2(n.y,n.x)+o)%o,this.moving(t)}}}},t.prototype.moving=function(e){var t=this.node.x,a=this.node.y,n=this.cur_move_speed*e;t+=n*Math.cos(this.move_direction),a+=n*Math.sin(this.move_direction),this.node.x=t,this.node.y=a,this.node.x>320&&(this.node.x=320),this.node.x<-320&&(this.node.x=-320),this.node.y<this.wall_yy&&(this.node.y=this.wall_yy)},i([M],t)}(y.default));a.default=C,cc._RF.pop()},{"../Constants":"Constants","../Enemy/EnemyConfig":"EnemyConfig","../Game/GameEffectsManager":"GameEffectsManager","../Game/Move":"Move","../GameManager":"GameManager","../Hero/Game/HeroConfig":"HeroConfig","../Level/MissionLevel":"MissionLevel","../Monster/MonsterData":"MonsterData","../Monster/MonsterManager":"MonsterManager","../Sound/AudioConstants":"AudioConstants","../Tools/MyTool":"MyTool","./Boss":"Boss"}],Bullect:[function(e,t,a){"use strict";cc._RF.push(t,"38c967bTj5ICZByX6lVwHJ8","Bullect");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../Game/GameEffectsManager"),c=e("../../GameManager"),l=e("../../Monster/Monster"),g=e("./GongJi"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab_tuowei=null,t.tuowei_node=null,t.game_effect_id=0,t.max_move_speed=0,t.move_speed=700,t.move_direction=Math.PI/2,t.jiantou_dis=50,t.is_att=!1,t.offset_xx_angle=90,t.collision_monster_callback=null,t.max_move_distance=0,t.cur_move_distance=0,t.spin_speed=0,t.init_finish_callback=null,t.acceleration=0,t.tuowei_space=1,t.tuowei_time=.5,t.tuowei_guiyi=1,t}return o(t,e),t.prototype.onLoad=function(){this.jiantou_dis=this.node.height/2},t.prototype.init=function(t,a,n,o,i,r){void 0===i&&(i=90),void 0===r&&(r=0),e.prototype.initData.call(this,o),this.game_effect_id=t,this.max_move_speed=this.move_speed=a,this.setDirection(n),this.is_att=!1,this.offset_xx_angle=i,this.max_move_distance=r,this.cur_move_distance=0,this.init_finish_callback&&this.init_finish_callback(),this.prefab_tuowei&&(this.tuowei_node=cc.instantiate(this.prefab_tuowei),this.tuowei_node.parent=this.node.parent,this.node.zIndex=1,this.tuowei_time=this.tuowei_node.getComponent(cc.MotionStreak).fadeTime,this.tuowei_guiyi=1/this.tuowei_time)},t.prototype.addInitFinishedListen=function(e){this.init_finish_callback=e},t.prototype.addCollisionMonsterListen=function(e){this.collision_monster_callback=e},t.prototype.changeDir=function(e){this.move_direction=(e+2*Math.PI)%(2*Math.PI)},t.prototype.collisionToWall=function(e){"wall_left"!=e&&"wall_right"!=e||(this.max_move_distance>0&&this.collision_monster_callback(null),this.destroySelf()),"wall_top"==e&&(this.max_move_distance>0&&this.collision_monster_callback(null),this.destroySelf())},t.prototype.getNextPos=function(e){var t=c.default.getInstance().getGameRate();t<1&&(t=1);var a=this.tuowei_space*this.tuowei_guiyi*this.move_speed*e/t,n=this.node.x+Math.cos(this.move_direction)*a,o=this.node.y+Math.sin(this.move_direction)*a;return cc.v2(n,o)},t.prototype.getHeadPos=function(){var e=this.move_speed*cc.director.getDeltaTime(),t=this.node.x+Math.cos(this.move_direction)*e,a=this.node.y+Math.sin(this.move_direction)*e;return cc.v2(t,a)},t.prototype.getAPos=function(e){var t=this.move_speed*cc.director.getDeltaTime()-e,a=this.node.x+Math.cos(this.move_direction)*t,n=this.node.y+Math.sin(this.move_direction)*t;return cc.v2(a,n)},t.prototype.update=function(e){if(c.default.getInstance().cur_game_state==r.GameState.Game_Playing){this.move_speed+=this.acceleration*c.default.getInstance().getGameRate();var t=this.move_speed*e*Math.cos(this.move_direction),a=this.move_speed*e*Math.sin(this.move_direction);if(this.node.x+=t,this.node.y+=a,this.spin_speed>0?this.node.angle+=this.spin_speed*e:this.node.angle=180*this.move_direction/Math.PI-this.offset_xx_angle,this.max_move_distance>0&&this.cur_move_distance<this.max_move_distance){var n=cc.v2(t,a).mag();this.cur_move_distance+=n,this.cur_move_distance>=this.max_move_distance&&this.collision_monster_callback(null)}this.node.y>cc.winSize.height&&this.destroySelf(),Math.abs(this.node.x)>cc.winSize.width&&this.destroySelf(),this.tuowei_node&&this.tuowei_node.setPosition(this.getNextPos(e))}},t.prototype.destroySelf=function(){this.tuowei_node&&(cc.tween(this.tuowei_node).delay(this.tuowei_time).removeSelf().start(),this.tuowei_node=null),s.GameEffectsManager.getInstance().destroyGameEffectById(this.game_effect_id,this.node)},t.prototype.setDirection=function(e){this.move_direction=(e+2*Math.PI)%(2*Math.PI),this.node.angle=180*e/Math.PI-this.offset_xx_angle},t.prototype.onCollisionEnter=function(e){if(c.default.getInstance().cur_game_state!=r.GameState.Game_Lose&&1!=this.is_att)switch(e.node.group){case"enemy":if(this.collision_monster_callback){var t=e.node.getComponent(l.default);this.is_att=!0,t&&this.collision_monster_callback(t)}}},i([d({type:cc.Prefab})],t.prototype,"prefab_tuowei",void 0),i([p],t)}(g.default);a.default=h,cc._RF.pop()},{"../../Constants":"Constants","../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../../Monster/Monster":"Monster","./GongJi":"GongJi"}],BuyBattlePotion:[function(e,t,a){"use strict";cc._RF.push(t,"eb8d9fJkFFOmJdBhBTqFl8W","BuyBattlePotion");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Ads/ApkManager"),s=e("../../Constants"),c=e("../../GameManager"),l=e("../../multiLanguage/TextLanguage"),g=e("../../Prop/Data/Item"),u=e("../../Prop/PropConfig"),p=e("../../Prop/PropManager"),d=e("../../Sound/AudioConstants"),h=e("../../UI/UIComponent"),f=cc._decorator,_=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itme=null,t.text=null,t.type=u.PropId.Gem,t.num=1,t.Potion=0,t}return o(t,e),t.prototype.initUi=function(e){this.Potion=e,this.itme.childrenCount>0&&this.itme.children[0].destroy();var t=p.PropManager.getInstance().createPropItem(u.PropId.RedPotion,1);this.text.getComponent(l.default).setTextId(g.ItemManager.getInstance().getDiscripitionTextId(e)),t.parent=this.itme},t.prototype.clickBtnAd=function(){var e=this;r.default.getInstance().showVideo(function(t){t&&(p.PropManager.getInstance().changePropNum(e.type,-e.num),e.clickBtnClose())},s.VIDEO_TYPE.Equip)},t.prototype.clickBtnShow=function(){this.clickBtnClose()},t.prototype.clickBtnClose=function(){this.itme.childrenCount>0&&this.itme.children[0].destroy(),c.default.getInstance().sound_manager.playSound(d.SoundIndex.click),this.onClose()},i([m(cc.Node)],t.prototype,"itme",void 0),i([m(cc.Node)],t.prototype,"text",void 0),i([_],t)}(h.default);a.default=y,cc._RF.pop()},{"../../Ads/ApkManager":"ApkManager","../../Constants":"Constants","../../GameManager":"GameManager","../../Prop/Data/Item":"Item","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../UI/UIComponent":"UIComponent","../../multiLanguage/TextLanguage":"TextLanguage"}],Cartoon:[function(e,t,a){"use strict";cc._RF.push(t,"f63e77jNrpPYLJVosYuHEsB","Cartoon");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Constants"),s=e("../GameManager"),c=e("../GuaJi/MapManager"),l=e("../Level/LevelManager"),g=e("../Level/TutorialLevel"),u=e("../multiLanguage/FollowConstants"),p=e("../multiLanguage/FollowManager"),d=e("../Tutorials/TutorailsManager"),h=cc._decorator,f=h.ccclass,_=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Comic=[],t.ProgressBar=null,t.time=0,t.Loading_Comic=null,t.is_click=!1,t}return o(t,e),t.prototype.onEnable=function(){var e=0;this.schedule(function(){this.ProgressBar.getComponent(cc.ProgressBar).progress+=.01,this.ProgressBar.getChildByName("loadLabel").getComponent(cc.Label).string=(100*this.ProgressBar.getComponent(cc.ProgressBar).progress).toFixed(0)+"%",100==++e&&(this.ProgressBar.parent.active=!1,this.Loading_Comic.getComponent(sp.Skeleton).setAnimation(0,"animation",!1))},.025,99)},t.prototype.onFirstLevel=function(){1!=this.is_click&&(d.default.getInstance().saveTutorials(200),d.default.getInstance().saveTutorials(204),this.is_click=!0,p.default.getInstance().followEvent(u.Follow_Type.\u65b0\u624b\u5f15\u5bfc+200),l.LevelManager.getInstance().start_level=c.default.Currentlevel=1,s.default.getInstance().fighting_info=g.TutorialLevelManager.getInstance().getFightingInfo(l.LevelManager.getInstance().start_level),s.default.getInstance().cur_game_scene=r.GameScene.game,d.default.getInstance().is_finish_game=!0,cc.director.loadScene(r.GameScene.game))},i([_(cc.Node)],t.prototype,"Comic",void 0),i([_(cc.Node)],t.prototype,"ProgressBar",void 0),i([_(cc.Node)],t.prototype,"Loading_Comic",void 0),i([f],t)}(cc.Component);a.default=m,cc._RF.pop()},{"../Constants":"Constants","../GameManager":"GameManager","../GuaJi/MapManager":"MapManager","../Level/LevelManager":"LevelManager","../Level/TutorialLevel":"TutorialLevel","../Tutorials/TutorailsManager":"TutorailsManager","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager"}],ChainLightning:[function(e,t,a){"use strict";cc._RF.push(t,"d8d26GoHC1FhbUQqyCxKAGG","ChainLightning");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Constants"),s=e("../../../Game/GameEffectsManager"),c=e("../../../GameManager"),l=e("../../../Tools/MyTool"),g=cc._decorator,u=g.ccclass,p=(g.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.game_effect_id=s.GameEffectId.lei_shen_shandian,t._sp=null,t.cur_sp_index=0,t.first_monster=null,t.end_monster=null,t.refresh_jiange=.05,t.jishu=0,t.cur_move_len=0,t.jiasu_num=0,t.end_remain_time=0,t.max_remain_time=.2,t.end_callback=null,t.is_need_update=!0,t}return o(t,e),t.prototype.onLoad=function(){this.node.getComponent(cc.Animation).on(cc.Animation.EventType.FINISHED,this.destroySelf.bind(this))},t.prototype.init=function(e,t,a,n){this.end_callback=n,this.game_effect_id=e,this.first_monster=t,this.end_monster=a,this.jiasu_num=0,this.end_remain_time=this.max_remain_time,this.is_need_update=!0,this.node.getComponent(cc.Animation).play(),this.setShanDian()},t.prototype.onNext=function(){this.end_callback&&(this.end_callback(this.end_monster),this.end_callback=null)},t.prototype.destroySelf=function(){this.is_need_update=!1,s.GameEffectsManager.getInstance().destroyGameEffectById(this.game_effect_id,this.node)},t.prototype.lateUpdate=function(){c.default.getInstance().cur_game_state==r.GameState.Game_Playing&&0!=this.is_need_update&&this.setShanDian()},t.prototype.setShanDian=function(){this.first_monster&&this.node.setPosition(this.first_monster.getCenterPos());var e=this.end_monster.getCenterPos().sub(this.node.getPosition()),t=2*Math.PI,a=(Math.atan2(e.y,e.x)+t)%t,n=l.default.radianToAngle(a)-90;this.node.angle=n,this.node.height=e.mag()},i([u],t)}(cc.Component));a.default=p,cc._RF.pop()},{"../../../Constants":"Constants","../../../Game/GameEffectsManager":"GameEffectsManager","../../../GameManager":"GameManager","../../../Tools/MyTool":"MyTool"}],ChallengeRoundPop:[function(e,t,a){"use strict";cc._RF.push(t,"7d08f3qn3dD3Kx2Bmv0CKtl","ChallengeRoundPop");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Constants"),s=e("../GameManager"),c=e("../Level/FirstCompleteReward"),l=e("../Level/LevelManager"),g=e("../Level/MissionLevel"),u=e("../multiLanguage/LanguageManager"),p=e("../multiLanguage/TextLanguage"),d=e("../Prop/PropManager"),h=e("../Tutorials/TutorailsManager"),f=e("../UI/home/MainUi"),_=e("../UI/home/ToPlayMainUi"),m=e("../UI/UIConfig"),y=e("../UI/UIManager"),I=e("./MapManager"),v=cc._decorator,M=v.ccclass,C=v.property,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.level=0,t.prop=null,t.Common_Btn_0=null,t.Btn_Close=null,t.lqu=[],t.Mask=[],t.leveltxt=null,t.Main_Icon_Boss=null,t.bg=null,t}return o(t,e),t.prototype.start=function(){this.Btn_Close.on(cc.Node.EventType.TOUCH_END,this.onBtn_Close,this),this.bg.on(cc.Node.EventType.TOUCH_END,this.onBtn_Close,this),this.Common_Btn_0.on(cc.Node.EventType.TOUCH_END,this.clickBtnStart,this)},t.prototype.init=function(e){this.level=e,this.leveltxt.getComponent(cc.Label).string=""+g.MissionLevelManager.getInstance().getLevelName(e);for(var t=l.LevelManager.getInstance().finish_level+1,a=0;a<this.prop.children.length;a++)this.prop.children[a].destroy();this.node.active=!0;var n=0;if(e<t)for(var o=1;o<4;o++)l.LevelManager.getInstance().getALevelStar(e,o)&&n++;for(var i=0;i<this.Mask.length;i++)i<n?(this.Mask[i].active=!0,this.lqu[i].active=!0):(this.Mask[i].active=!1,this.lqu[i].active=!1);for(var r=1;r<=3;r++)for(var s=c.FirstCompleteRewardManager.getId(e,r),u=c.FirstCompleteRewardManager.getInstance().getFirstRewardArr(s),h=0;h<u.length;h++){var f=u[h],_=d.PropManager.getInstance().createPropItem(f.reward_id,f.reward_num);_.scale=.82,_.parent=this.prop,_.x=90*h-67,_.y=190-115*r+115}e>t?(this.Common_Btn_0.getChildByName("kszd").getComponent(p.default).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),this.Common_Btn_0.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite"))):(this.Common_Btn_0.getChildByName("kszd").getComponent(p.default).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),this.Common_Btn_0.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite"))),3==g.MissionLevelManager.getInstance().getLevelTypes(e)?this.Main_Icon_Boss.active=!0:this.Main_Icon_Boss.active=!1},t.prototype.clickBtnStart=function(){if("builtin-2d-gray-sprite (Instance)"!=this.Common_Btn_0.getComponent(cc.Sprite).getMaterial(0)._name){if(this.onBtn_Close(),!h.default.getInstance().is_finish_game)return l.LevelManager.getInstance().start_level=I.default.Currentlevel=l.LevelManager.getInstance().finish_level+1,void cc.find("Canvas/main_ui").getComponent(f.default).clickBtnStart();s.default.getInstance().cur_game_mode=r.GameMode.Main,I.default.Currentlevel=this.level,y.UIManager.getInstance().showUiDialog(m.UIPath.ToPlay,m.UILayerLevel.One,{onCompleted:function(e){e.getComponent(_.default).init({onClose:function(){s.default.getInstance().refreshZhanliShow()}})}})}else s.default.getInstance().showMessage(u.default.getInstance().getStrByTextId(100100))},t.prototype.onBtn_Close=function(){for(var e=0;e<this.prop.children.length;e++)this.prop.children[e].destroy();this.node.active=!1},i([C(cc.Node)],t.prototype,"prop",void 0),i([C(cc.Node)],t.prototype,"Common_Btn_0",void 0),i([C(cc.Node)],t.prototype,"Btn_Close",void 0),i([C(cc.Node)],t.prototype,"lqu",void 0),i([C(cc.Node)],t.prototype,"Mask",void 0),i([C(cc.Node)],t.prototype,"leveltxt",void 0),i([C(cc.Node)],t.prototype,"Main_Icon_Boss",void 0),i([C(cc.Node)],t.prototype,"bg",void 0),i([M],t)}(cc.Component);a.default=S,cc._RF.pop()},{"../Constants":"Constants","../GameManager":"GameManager","../Level/FirstCompleteReward":"FirstCompleteReward","../Level/LevelManager":"LevelManager","../Level/MissionLevel":"MissionLevel","../Prop/PropManager":"PropManager","../Tutorials/TutorailsManager":"TutorailsManager","../UI/UIConfig":"UIConfig","../UI/UIManager":"UIManager","../UI/home/MainUi":"MainUi","../UI/home/ToPlayMainUi":"ToPlayMainUi","../multiLanguage/LanguageManager":"LanguageManager","../multiLanguage/TextLanguage":"TextLanguage","./MapManager":"MapManager"}],ChangMaoShou:[function(e,t,a){"use strict";cc._RF.push(t,"c9a07pZUTFFOpBgICfpYFms","ChangMaoShou");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Constants"),s=e("../../../Game/FightingManager"),c=e("../../../Game/GameEffectsManager"),l=e("../../../Game/SkillManager"),g=e("../../../GameManager"),u=e("../../../Monster/Monster"),p=e("../../../Monster/MonsterData"),d=e("../../../Sound/AudioConstants"),h=e("../BuffData"),f=e("../Hero"),_=e("../HeroConfig"),m=e("./ChangMao"),y=cc._decorator,I=y.ccclass,v=(y.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cur_att_object=null,t.cur_att_floor=0,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.chang_mao_shou_attack,2),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.chang_mao_shou_skill_zhuazi,2),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.chang_mao_shou_skill_active_1,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.chang_mao_shou_skill_active_2,1),this.addSkillListen(this.useSkill),this.addAttackListen(this.normalAttack),this.addXuanYunListen(this.onXuanYunResult),this.addHitListen(this.onHitMonster)},t.prototype.start=function(){e.prototype.start.call(this),this.is_need_check_distance=!1},t.prototype.onXuanYunResult=function(e){e?this.unscheduleAllCallbacks():this.setHeroState(_.Hero_State.idle,_.GongJi_FangXiang.zhong)},t.prototype.starteIdle=function(){this.setHeroState(_.Hero_State.idle,this.cur_fangxiang)},t.prototype.onHitMonster=function(){},t.prototype.createMao=function(e,t,a,n,o){var i=s.default.getInstance().createGameEffectById(e,t);return i.getComponent(m.default).init(e,a,n,o),i},t.prototype.normalAttack=function(e){g.default.getInstance().cur_game_state==r.GameState.Game_Playing&&this.startAttack(e)},t.prototype.startAttack=function(t){var a=this;this.is_can_gongji=!1;var n=new p.KeyFrameData;n.name="Attack",n.callback=function(){var n=t.getComponent(u.default).getSheShouPos(),o=a.getCreateBulletPos(),i=n.sub(o),r=Math.atan2(i.y,i.x),s=e.prototype.getGongJiData.call(a,_.DamageType.Normal,!0,_.SkillType.Null);a.isHaveBuff(_.BuffId.Hero_ChangMaoShow_GongSu)&&a.hero_data.ExclusiveWeaponSkillValue_1&&a.hero_data.ExclusiveWeaponSkillValue_1>0&&(s.hero_data.all_increase_damage+=a.hero_data.ExclusiveWeaponSkillValue_1),a.createMao(c.GameEffectId.chang_mao_shou_attack,o,a.bullet_speed,r,s),g.default.getInstance().sound_manager.playSound(d.SoundIndex.YX_ChangmaoshouAttack),a.is_double_attack?a.resetNormalAttack():a.gongji_jishu=0},e.prototype.setHeroState.call(this,_.Hero_State.attack,_.GongJi_FangXiang.zhong,[n],function(){e.prototype.setHeroState.call(a,_.Hero_State.idle,_.GongJi_FangXiang.zhong)})},t.prototype.useSkill=function(e){var t=this;return l.default.getInstance().releaseSkill(function(){t.startSelfXuLi(e)},this.node),2},t.prototype.startSelfXuLi=function(e){var t=this,a=cc.find("Canvas/Hero_Root"),n=new p.KeyFrameData;n.name="FaShe",n.callback=function(){l.default.getInstance().setTimeStop(!1),t.node.parent=a,t.node.zIndex=2,t.startLaunch(e)},this.setHeroState(_.Hero_State.skill,_.GongJi_FangXiang.zhong,[n],function(){t.resetGongJiJiShu(),t.setHeroState(_.Hero_State.idle,_.GongJi_FangXiang.zhong)}),this.spine.timeScale=r.JiaSu},t.prototype.startLaunch=function(){e.prototype.setAttSpineScale.call(this),this.resetGongJiJiShu(),g.default.getInstance().sound_manager.playSound(d.SoundIndex.YX_ChangmaoshouAttack);var t=new h.BuffData;t.buff_id=_.BuffId.Hero_ChangMaoShow_GongSu,t.buff_type=_.BuffType.Gain,t.buff_value=[this.hero_data.getSkillValue1(_.SkillType.Active)],t.remain_time=6,t.game_effect_id=c.GameEffectId.chang_mao_shou_skill_active_1,t.fade_time=1,e.prototype.addBuff.call(this,t),l.default.getInstance().setIsSkillState(!1)},i([I],t)}(f.default));a.default=v,cc._RF.pop()},{"../../../Constants":"Constants","../../../Game/FightingManager":"FightingManager","../../../Game/GameEffectsManager":"GameEffectsManager","../../../Game/SkillManager":"SkillManager","../../../GameManager":"GameManager","../../../Monster/Monster":"Monster","../../../Monster/MonsterData":"MonsterData","../../../Sound/AudioConstants":"AudioConstants","../BuffData":"BuffData","../Hero":"Hero","../HeroConfig":"HeroConfig","./ChangMao":"ChangMao"}],ChangMao:[function(e,t,a){"use strict";cc._RF.push(t,"c1ff7vC+fRDjK+VyM1n42S+","ChangMao");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Game/GameEffectsManager"),s=e("../BuffData"),c=e("../Bullect"),l=e("../HeroConfig"),g=cc._decorator,u=g.ccclass,p=(g.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addCollisionMonsterListen.call(this,this.onCollisionMonster)},t.prototype.onCollisionMonster=function(t){if(t){var a=t.beFlashInjured(this.gongji_data);if(a.getDamageNum()>0&&0==a.is_die){var n=new s.BuffData;n.buff_id=l.BuffId.Hero_ChangMaoShow_Skill,n.remain_time=60,n.buff_type=l.BuffType.Normal,n.buff_value=[5],n.game_effect_id=r.GameEffectId.chang_mao_shou_skill_zhuazi,n.add_floor=1,t.addDeBuff(n,this.gongji_data);var o=t.getDeBuff(l.BuffId.Hero_ChangMaoShow_Skill),i=0;if(o){(i=o.getFloorNum())>10&&(i=10);var c=cc.instantiate(this.gongji_data);c.damage_type=l.DamageType.Skill;var g=c.hero_data.total_attack,u=c.hero_data.getSkillValue1(l.SkillType.Passive_1)*g+c.hero_data.getSkillValue2(l.SkillType.Passive_1)*i*g;u>0&&t.beRealDamage(c,u)}}e.prototype.destroySelf.call(this)}},i([u],t)}(c.default));a.default=p,cc._RF.pop()},{"../../../Game/GameEffectsManager":"GameEffectsManager","../BuffData":"BuffData","../Bullect":"Bullect","../HeroConfig":"HeroConfig"}],ChapterPack:[function(e,t,a){"use strict";cc._RF.push(t,"13e16ihZzhKvJTJc8v5hVZf","ChapterPack"),Object.defineProperty(a,"__esModule",{value:!0}),a.ChapterPackManager=a.JsonChapterPack=void 0;var n=e("../Loading/LoadManager"),o=function(){this.GiftID=0,this.Chapter=0,this.Giftname=0,this.GetCoinNum=0,this.GetGemNum=0,this.ItemId_1=0,this.ItemNum_1=0,this.ItemId_2=0,this.ItemNum_2=0,this.InitialPrice=0,this.ProductId=""};a.JsonChapterPack=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("ChapterPack",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonChapterPack\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.GiftID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonChapterPack=function(e){return this.data.get(e)},e.prototype.getChapter=function(e){return this.data.get(e).Chapter},e.prototype.getGiftname=function(e){return this.data.get(e).Giftname},e.prototype.getGetCoinNum=function(e){return this.data.get(e).GetCoinNum},e.prototype.getGetGemNum=function(e){return this.data.get(e).GetGemNum},e.prototype.getItemId_1=function(e){return this.data.get(e).ItemId_1},e.prototype.getItemNum_1=function(e){return this.data.get(e).ItemNum_1},e.prototype.getItemId_2=function(e){return this.data.get(e).ItemId_2},e.prototype.getItemNum_2=function(e){return this.data.get(e).ItemNum_2},e.prototype.getInitialPrice=function(e){return this.data.get(e).InitialPrice},e.prototype.getProductId=function(e){return this.data.get(e).ProductId},e.getMaxGiftID=function(){return 1001},e.prototype.getJsonData=function(){return this.data},e._instance=null,e}();a.ChapterPackManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],ChapterPop:[function(e,t,a){"use strict";cc._RF.push(t,"a7e88t90t9BTaLIQKcCOZtt","ChapterPop");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../GameManager"),s=e("../GuaJi/MapManager"),c=e("../Level/LevelManager"),l=e("../Level/MissionLevel"),g=e("../Level/OfflineRevenueShow"),u=e("../multiLanguage/LanguageManager"),p=e("../multiLanguage/TextLanguage"),d=e("../Prop/PropManager"),h=e("./BigMap"),f=cc._decorator,_=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.txtScrollView=null,t.level=0,t.bt=null,t.gushi=null,t.needNum=null,t.content=null,t.txt=null,t.btnReplace=null,t.parent=null,t.Map_Window_1=null,t.Map_Window=null,t}return o(t,e),t.prototype.start=function(){},t.prototype.onEnable=function(){this.txtScrollView.getComponent(cc.ScrollView).scrollToTop(0),this.txtScrollView.getComponent(cc.ScrollView).scrollToBottom(4),this.bt.getComponent(p.default).setReplaceValue("~",this.level+1+""),this.gushi.getComponent(p.default).setTextId(g.OfflineRevenueShowManager.getInstance().getChapterIntroduction(this.level+1)),this.needNum.getComponent(cc.Label).string="+"+g.OfflineRevenueShowManager.getInstance().getGetCoins(this.level+1)+"/h";var e=g.OfflineRevenueShowManager.getInstance().getUnlockProps(this.level+1);if(this.Map_Window_1.getComponent(cc.Sprite).spriteFrame=this.Map_Window.getSpriteFrame("Map_Window_"+(this.level+1)),0==e.length)this.txt.active=!0;else{this.txt.active=!1;for(var t=0;t<e.length;t++){var a=d.PropManager.getInstance().createPropItem(e[t],0);a.scale=.9,a.parent=this.content}}var n;n=c.LevelManager.getInstance().finish_level<l.MissionLevelManager.getMaxLevel()?l.MissionLevelManager.getInstance().getChapter(c.LevelManager.getInstance().finish_level+1):l.MissionLevelManager.getInstance().getChapter(c.LevelManager.getInstance().finish_level),this.level+1>n&&(this.btnReplace.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),this.btnReplace.getChildByName("label").getComponent(p.default).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),this.btnReplace.getChildByName("label").getComponent(p.default).setTextId(100106)),this.level+1<=n&&(this.btnReplace.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),this.btnReplace.getChildByName("label").getComponent(p.default).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),this.btnReplace.getChildByName("label").getComponent(p.default).setTextId(100034))},t.prototype.onBtn_Close=function(){for(var e=0;e<this.content.children.length;e++)this.content.children[e].destroy();this.node.active=!1},t.prototype.onBtn_Replace=function(){"builtin-2d-gray-sprite (Instance)"==this.btnReplace.getComponent(cc.Sprite).getMaterial(0)._name?r.default.getInstance().showMessage(u.default.getInstance().getStrByTextId(100108)):(s.default.Currentlevel=l.MissionLevelManager.getInstance().getChapterLevel(this.level+1)-1,this.onBtn_Close(),this.parent.getComponent(h.default).onBtn_Close())},i([m(cc.Node)],t.prototype,"txtScrollView",void 0),i([m(cc.Node)],t.prototype,"bt",void 0),i([m(cc.Node)],t.prototype,"gushi",void 0),i([m(cc.Node)],t.prototype,"needNum",void 0),i([m(cc.Node)],t.prototype,"content",void 0),i([m(cc.Node)],t.prototype,"txt",void 0),i([m(cc.Node)],t.prototype,"btnReplace",void 0),i([m(cc.Node)],t.prototype,"Map_Window_1",void 0),i([m(cc.SpriteAtlas)],t.prototype,"Map_Window",void 0),i([_],t)}(cc.Component);a.default=y,cc._RF.pop()},{"../GameManager":"GameManager","../GuaJi/MapManager":"MapManager","../Level/LevelManager":"LevelManager","../Level/MissionLevel":"MissionLevel","../Level/OfflineRevenueShow":"OfflineRevenueShow","../Prop/PropManager":"PropManager","../multiLanguage/LanguageManager":"LanguageManager","../multiLanguage/TextLanguage":"TextLanguage","./BigMap":"BigMap"}],Chariot:[function(e,t,a){"use strict";cc._RF.push(t,"e7259O/fVJGWptqgTLd9fR7","Chariot");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../GameManager"),s=e("../../Hero/Data/HeroManager"),c=e("../../Tools/MyTool"),l=cc._decorator,g=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btnClose=null,t.bg=null,t.txt=[],t}return o(t,e),t.prototype.start=function(){this.btnClose.on(cc.Node.EventType.TOUCH_END,function(){this.onCloseBtn()},this),this.bg.on(cc.Node.EventType.TOUCH_END,function(){this.onCloseBtn()},this)},t.prototype.onEnable=function(){for(var e=[0,0,0,0,0],t=s.HeroManager.getInstance().getTeamList(r.default.getInstance().cur_game_mode),a=0;a<t.length;a++)t[a]>0&&(e[0]+=s.HeroManager.getInstance().getHeroData(t[a]).total_hp,e[1]+=s.HeroManager.getInstance().getHeroData(t[a]).total_defense,e[2]+=s.HeroManager.getInstance().getHeroData(t[a]).Miss,e[3]+=s.HeroManager.getInstance().getHeroData(t[a]).AntiCritical,e[4]+=s.HeroManager.getInstance().getHeroData(t[a]).AntiExtraCritical);for(var n=0;n<e.length;n++)4==n?this.txt[n].getComponent(cc.Label).string=c.default.numberFormat(e[n]/5*100,2)+"%":(e[n]=Number(c.default.numberFormat(e[n]/5,0)),this.txt[n].getComponent(cc.Label).string=""+e[n])},t.prototype.onCloseBtn=function(){this.node.active=!1},i([u(cc.Node)],t.prototype,"btnClose",void 0),i([u(cc.Node)],t.prototype,"bg",void 0),i([u(cc.Node)],t.prototype,"txt",void 0),i([g],t)}(cc.Component);a.default=p,cc._RF.pop()},{"../../GameManager":"GameManager","../../Hero/Data/HeroManager":"HeroManager","../../Tools/MyTool":"MyTool"}],ChuShengDian:[function(e,t,a){"use strict";cc._RF.push(t,"7f9029/ZRNBJ5RMYaaf+NMv","ChuShengDian");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../GameManager"),s=e("../NodePoolManager"),c=cc._decorator,l=c.ccclass,g=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){this.init(8),r.default.getInstance().chu_sheng_dian=this},t.prototype.onDestroy=function(){r.default.getInstance().chu_sheng_dian=null},t.prototype.createChuShengDian=function(e,t){var a=this,n=this.createNodeByType(0,e);return n.getComponent(sp.Skeleton).animation="animation",n.scale=t,this.scheduleOnce(function(){a.destroyChuShengDian(n)},3),n},t.prototype.destroyChuShengDian=function(e){this.destroyNode(e,0)},i([l],t)}(s.default));a.default=g,cc._RF.pop()},{"../GameManager":"GameManager","../NodePoolManager":"NodePoolManager"}],CityUi:[function(e,t,a){"use strict";cc._RF.push(t,"51672WHO8lPFIVnTkrz3o7r","CityUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../multiLanguage/FollowConstants"),s=e("../multiLanguage/FollowManager"),c=cc._decorator,l=c.ccclass,g=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){this.node.on(cc.Node.EventType.POSITION_CHANGED,this.onPositionChange,this)},t.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.POSITION_CHANGED,this.onPositionChange,this)},t.prototype.onPositionChange=function(){0==this.node.x&&this.onEnable()},t.prototype.start=function(){},t.prototype.onEnable=function(){this.initUi(),s.default.getInstance().followEvent(r.Follow_Type.\u4e3b\u57ce\u6253\u5f00\u6b21\u6570)},t.prototype.initUi=function(){},i([l],t)}(cc.Component));a.default=g,cc._RF.pop()},{"../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager"}],Cloud:[function(e,t,a){"use strict";cc._RF.push(t,"61572ifMJVKuZ+13Vmtwj5o","Cloud");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed=1,t}return o(t,e),t.prototype.start=function(){var e=this;cc.tween(this.node).to(this.speed,{position:cc.v3(-525,this.node.y,0)}).call(function(){e.node.x=525}).union().repeatForever().start()},i([c(cc.Integer)],t.prototype,"speed",void 0),i([s],t)}(cc.Component);a.default=l,cc._RF.pop()},{}],CoinPop:[function(e,t,a){"use strict";cc._RF.push(t,"1d62b3gumlP9b0ZcwtkhXmM","CoinPop");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("./NetWork/HttpManager"),s=e("./AccumulatedRecharge/CumulativeRecharges"),c=e("./Ads/ApkManager"),l=e("./Constants"),g=e("./GameManager"),u=e("./multiLanguage/FollowConstants"),p=e("./multiLanguage/FollowManager"),d=e("./multiLanguage/LanguageManager"),h=e("./multiLanguage/TextLanguage"),f=e("./Payment/PayManager"),_=e("./Prop/PropConfig"),m=e("./Prop/PropManager"),y=e("./Sound/AudioConstants"),I=e("./Storage/StorageConfig"),v=e("./Storage/StorageManager"),M=e("./Store/DiamondsRecharge"),C=e("./UI/UIComponent"),S=e("./UI/UIConfig"),P=e("./UI/UIManager"),k=e("./UserData"),b=e("./UserInfo/UserInfo"),T=cc._decorator,B=T.ccclass,w=T.property,N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itme=null,t.gem_item=null,t.store_ui=null,t.type=_.PropId.Coin,t.num=2e4,t}return o(t,e),t.prototype.initUi=function(e){var t,a=this;if(p.default.getInstance().followEvent(u.Follow_Type.\u8d44\u6e90\u4e0d\u8db3\u5f39\u7a97\u5f39\u51fa\u6b21\u6570),this.type=e,this.itme.childrenCount>0&&this.itme.children[0].destroy(),this.type==_.PropId.Coin)t=m.PropManager.getInstance().createPropItem(_.PropId.Coin,2e4),this.num=2e4,t.parent=this.itme,this.node.getChildByName("coin").active=!0,this.node.getChildByName("gem").active=!1;else if(this.type==_.PropId.Gem){var n=M.DiamondsRechargeManager.getInstance().getJsonData(),o=this.node.getChildByName("gem").getChildByName("content");0==o.childrenCount?n.forEach(function(e){var t=cc.instantiate(a.gem_item);t.name="gem"+e.RechargeID,t.scale=.82,t.getChildByName("title").getComponent(h.default).setTextId(400002),t.getChildByName("title").getComponent(h.default).string=e.DiamondsNum+t.getChildByName("title").getComponent(h.default).string;var n=f.PayManager.getInstance().getPayInfo(e.ProductId);t.getChildByName("num").getComponent(cc.Label).string=n.price,t.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=a.store_ui.getSpriteFrame("Shop_Icon_Gem_"+(e.RechargeID-1)),""==v.TheStorageManager.getInstance().getString(I.StorageKey.StoreGemItem+e.RechargeID,"")?(t.getChildByName("bg").active=!0,t.getChildByName("tip").active=!0,t.getChildByName("tip").getComponent(h.default).setTextId(1410004),t.getChildByName("tip").getComponent(h.default).setReplaceValue("~",e.GetDiamondsNum+"")):(t.getChildByName("bg").active=!1,t.getChildByName("tip").active=!1);var i=t.addComponent(cc.Button);i.transition=cc.Button.Transition.SCALE,i.duration=.1,i.zoomScale=.9;var r=new cc.Component.EventHandler;r.target=a.node,r.component="CoinPop",r.handler="onGemBtnClick",r.customEventData=e.RechargeID+"",i.clickEvents.push(r),o.addChild(t)}):n.forEach(function(e){var t=o.getChildByName("gem"+e.RechargeID);t.getChildByName("title").getComponent(h.default).setTextId(400002),t.getChildByName("title").getComponent(h.default).string=e.DiamondsNum+t.getChildByName("title").getComponent(h.default).string;var n=f.PayManager.getInstance().getPayInfo(e.ProductId);t.getChildByName("num").getComponent(cc.Label).string=n.price,t.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=a.store_ui.getSpriteFrame("Shop_Icon_Gem_"+(e.RechargeID-1)),""==v.TheStorageManager.getInstance().getString(I.StorageKey.StoreGemItem+e.RechargeID,"")?(t.getChildByName("bg").active=!0,t.getChildByName("tip").active=!0,t.getChildByName("tip").getComponent(h.default).setTextId(1410004),t.getChildByName("tip").getComponent(h.default).setReplaceValue("~",e.GetDiamondsNum+"")):(t.getChildByName("bg").active=!1,t.getChildByName("tip").active=!1)}),this.node.getChildByName("coin").active=!1,this.node.getChildByName("gem").active=!0}},t.prototype.init=function(t){e.prototype.init.call(this,t)},t.prototype.clickBtnAd=function(){var e=this;if(v.TheStorageManager.getInstance().getNumber(I.StorageKey.CoinPopAd,0)>4)g.default.getInstance().showMessage(d.default.getInstance().getStrByTextId(100120),3);else{var t=l.VIDEO_TYPE.Coin;this.type==_.PropId.Gem&&(t=l.VIDEO_TYPE.Gem),c.default.getInstance().showVideo(function(t){if(t){p.default.getInstance().followEvent(u.Follow_Type.\u70b9\u51fb\u8d44\u6e90\u4e0d\u8db3\u65f6\u5e7f\u544a\u83b7\u5f97\u6309\u94ae\u6b21\u6570);var a=v.TheStorageManager.getInstance().getNumber(I.StorageKey.CoinPopAd,0);a++,v.TheStorageManager.getInstance().setItem(I.StorageKey.CoinPopAd,a),m.PropManager.getInstance().changePropNum(e.type,e.num),g.default.getInstance().showGetTip(m.PropManager.getInstance().createPropItem(e.type,e.num)),e.clickBtnClose()}},t)}},t.prototype.clickBtnShow=function(){cc.find("Canvas/store_ui/scroll").getComponent(cc.ScrollView).scrollToBottom(2),g.default.getInstance().game_to_home=l.Go_Type.City,p.default.getInstance().followEvent(u.Follow_Type.\u70b9\u51fb\u8d44\u6e90\u4e0d\u8db3\u65f6\u524d\u5f80\u7684\u6309\u94ae\u70b9\u51fb\u6b21\u6570),g.default.getInstance().jumoAndShowUi(),P.UIManager.getInstance().closeAllUiDialog(S.UILayerLevel.One),this.clickBtnClose()},t.prototype.clickBtnClose=function(){this.itme.childrenCount>0&&this.itme.children[0].destroy(),g.default.getInstance().sound_manager.playSound(y.SoundIndex.click),this.onClose()},t.prototype.onGemBtnClick=function(e,t){var a=this,n=this.node.getChildByName("gem").getChildByName("content").getChildByName("gem"+t),o=M.DiamondsRechargeManager.getInstance().getJsonDiamondsRecharge(Number(t));c.default.getInstance().showPay({result:function(e){if(e)if(p.default.getInstance().followEvent(u.Follow_Type.x\u94bb\u77f3\u70b9\u51fb\u8d2d\u4e70\u6b21\u6570+o.ProductId),""==v.TheStorageManager.getInstance().getString(I.StorageKey.StoreGemItem+o.RechargeID,"")){var t=m.PropManager.getInstance().createPropItem(_.PropId.Gem,o.DiamondsNum+o.GetDiamondsNum);m.PropManager.getInstance().changePropNum(_.PropId.Gem,o.DiamondsNum+o.GetDiamondsNum),b.UserInfo.getInstance().payGem+=o.DiamondsNum,r.HttpManager.post(r.AccessName.updateUserInfo,a.setCumulativeRechargeJsonString(o.DiamondsNum)).then(function(){b.UserInfo.getInstance().refreshData(),s.CumulativeRechargesManager.getInstance().refreshData()}),v.TheStorageManager.getInstance().setItem(I.StorageKey.StoreGemItem+o.RechargeID,"1"),n.getChildByName("bg").active=!1,n.getChildByName("tip").active=!1,g.default.getInstance().showGetTip(t)}else t=m.PropManager.getInstance().createPropItem(_.PropId.Gem,o.DiamondsNum),m.PropManager.getInstance().changePropNum(_.PropId.Gem,o.DiamondsNum),b.UserInfo.getInstance().payGem+=o.DiamondsNum,r.HttpManager.post(r.AccessName.updateUserInfo,a.setCumulativeRechargeJsonString(o.DiamondsNum)).then(function(){b.UserInfo.getInstance().refreshData(),s.CumulativeRechargesManager.getInstance().refreshData()}),g.default.getInstance().showGetTip(t)}},o.ProductId)},t.prototype.setCumulativeRechargeJsonString=function(e){var t=k.default.getInstance().getUserID(),a=e;return JSON.stringify({type:8,uid:t,value:a})},i([w(cc.Node)],t.prototype,"itme",void 0),i([w(cc.Prefab)],t.prototype,"gem_item",void 0),i([w(cc.SpriteAtlas)],t.prototype,"store_ui",void 0),i([B],t)}(C.default);a.default=N,cc._RF.pop()},{"./AccumulatedRecharge/CumulativeRecharges":"CumulativeRecharges","./Ads/ApkManager":"ApkManager","./Constants":"Constants","./GameManager":"GameManager","./NetWork/HttpManager":"HttpManager","./Payment/PayManager":"PayManager","./Prop/PropConfig":"PropConfig","./Prop/PropManager":"PropManager","./Sound/AudioConstants":"AudioConstants","./Storage/StorageConfig":"StorageConfig","./Storage/StorageManager":"StorageManager","./Store/DiamondsRecharge":"DiamondsRecharge","./UI/UIComponent":"UIComponent","./UI/UIConfig":"UIConfig","./UI/UIManager":"UIManager","./UserData":"UserData","./UserInfo/UserInfo":"UserInfo","./multiLanguage/FollowConstants":"FollowConstants","./multiLanguage/FollowManager":"FollowManager","./multiLanguage/LanguageManager":"LanguageManager","./multiLanguage/TextLanguage":"TextLanguage"}],CoinShopManagement:[function(e,t,a){"use strict";cc._RF.push(t,"a7c92oloZxBt6YC0NI5/tff","CoinShopManagement"),Object.defineProperty(a,"__esModule",{value:!0}),a.CoinShopManagementManager=a.JsonCoinShopManagement=void 0;var n=e("../Loading/LoadManager"),o=function(){this.Shop_ID=0,this.chapter=0,this.ShopNum=0,this.Shoplist=[]};a.JsonCoinShopManagement=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("CoinShopManagement",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonCoinShopManagement\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.Shop_ID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonCoinShopManagement=function(e){return this.data.get(e)},e.prototype.getchapter=function(e){return this.data.get(e).chapter},e.prototype.getShopNum=function(e){return this.data.get(e).ShopNum},e.prototype.getShoplist=function(e){return this.data.get(e).Shoplist},e.getMaxShop_ID=function(){return 10003},e._instance=null,e}();a.CoinShopManagementManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],CombatEffectiveness:[function(e,t,a){"use strict";cc._RF.push(t,"e0240mAUfVNcLonQpak54OZ","CombatEffectiveness"),Object.defineProperty(a,"__esModule",{value:!0}),a.CombatEffectivenessManager=a.JsonCombatEffectiveness=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.Attribute=0,this.ConversionFactor=0};a.JsonCombatEffectiveness=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("CombatEffectiveness",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonCombatEffectiveness\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.Attribute,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonCombatEffectiveness=function(e){return this.data.get(e)},e.prototype.getConversionFactor=function(e){return this.data.get(e).ConversionFactor},e.getMaxAttribute=function(){return 9},e._instance=null,e}();a.CombatEffectivenessManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],CombatNumEffect:[function(e,t,a){"use strict";cc._RF.push(t,"dd15a3Kdg9HOL27zbG0qD1L","CombatNumEffect");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("./multiLanguage/LanguageManager"),s=e("./Tools/MyTool"),c=cc._decorator,l=c.ccclass,g=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.startAnimation=function(e,t,a,n){var o=this,i=this.node.getChildByName("attribute");this.unscheduleAllCallbacks(),cc.Tween.stopAllByTarget(i),cc.Tween.stopAllByTarget(this.node),i.setPosition(0,-100,0),cc.tween(this.node).to(.2,{opacity:255}).to(.8,{opacity:255}).to(.3,{opacity:0}).start();var r=this.node.getChildByName("combat");r.children[1].getComponent(cc.Label).string=s.default.getCoinDanwei(e);var c="";c+=this.getColor(110014,n.total_attack,a.total_attack),c+=this.getColor(110015,n.total_defense,a.total_defense),c+=this.getColor(110016,n.total_hp,a.total_hp),c+=this.getColor(110017,n.Hit,a.Hit),c+=this.getColor(110018,n.Miss,a.Miss),c+=this.getColor(110019,n.Critical,a.Critical),c+=this.getColor(110021,n.AntiCritical,a.AntiCritical),100*n.ExtraCritical!=100*a.ExtraCritical&&(c+=this.getPercentColor(110020,n.ExtraCritical,a.ExtraCritical)),100*n.AntiExtraCritical!=100*a.AntiExtraCritical&&(c+=this.getPercentColor(110022,n.AntiExtraCritical,a.AntiExtraCritical)),c="<b><color=#69FF5E><outline color=#010900 width=2><size = 26>"+c+"</b></outline></color></size>",i.getComponent(cc.RichText).string=c,cc.tween(i).by(.2,{position:cc.v3(0,130,0)}).start();var l=0,g=Math.floor(t-e);r.children[2].getComponent(cc.Label).string="",g<0?(r.children[2].color=cc.color(255,78,78),r.children[2].getComponent(cc.LabelOutline).color=cc.color(57,0,0)):(r.children[2].color=cc.color(109,255,98),r.children[2].getComponent(cc.LabelOutline).color=cc.color(5,77,0));var u=0,p=Math.floor(g/17);this.schedule(function(){l+=p,Math.abs(g)-Math.abs(l)<Math.abs(p)&&(l=g),r.children[2].getComponent(cc.Label).string=l>0?"+"+s.default.mynum_con1(l+""):s.default.mynum_con1(l+""),17==++u&&o.scheduleOnce(function(){o.node.active=!1},.9)},.03,17,0)},t.prototype.getColor=function(e,t,a){var n="",o=Math.floor(t-a);return 0!=o&&(n=o>0?r.default.getInstance().getStrByTextId(e)+"+"+o+"\n":"<color = #ff4e4e> <outline color = #390000 width=2>"+r.default.getInstance().getStrByTextId(e)+o+"</outline></color>\n"),n},t.prototype.getPercentColor=function(e,t,a){var n="",o=Math.floor(Math.floor(100*t)-Math.floor(100*a));return 0!=o&&(n=o>0?r.default.getInstance().getStrByTextId(e)+"+"+o+"%\n":"<color = #ff4e4e> <outline color = #390000 width=2>"+r.default.getInstance().getStrByTextId(e)+o+"%</outline></color>\n"),n},i([l],t)}(cc.Component));a.default=g,cc._RF.pop()},{"./Tools/MyTool":"MyTool","./multiLanguage/LanguageManager":"LanguageManager"}],CommodityInformation:[function(e,t,a){"use strict";cc._RF.push(t,"5e8b2JXWAFNb5D9iMPfdpCu","CommodityInformation"),Object.defineProperty(a,"__esModule",{value:!0}),a.CommodityInformationManager=a.JsonCommodityInformation=void 0;var n=e("../Loading/LoadManager"),o=function(){this.CommodityID=0,this.GetItem=0,this.CostItemID=0,this.CostNum=0,this.GetNum=0,this.AdReward=0,this.AdPlayableTimes=0};a.JsonCommodityInformation=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("CommodityInformation",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonCommodityInformation\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.CommodityID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonCommodityInformation=function(e){return this.data.get(e)},e.prototype.getGetItem=function(e){return this.data.get(e).GetItem},e.prototype.getCostItemID=function(e){return this.data.get(e).CostItemID},e.prototype.getCostNum=function(e){return this.data.get(e).CostNum},e.prototype.getGetNum=function(e){return this.data.get(e).GetNum},e.prototype.getAdReward=function(e){return this.data.get(e).AdReward},e.prototype.getAdPlayableTimes=function(e){return this.data.get(e).AdPlayableTimes},e.getMaxCommodityID=function(){return 301201},e._instance=null,e}();a.CommodityInformationManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],CommodityManagement:[function(e,t,a){"use strict";cc._RF.push(t,"6acfa10juJEwKI+ECEfQIAj","CommodityManagement"),Object.defineProperty(a,"__esModule",{value:!0}),a.CommodityManagementManager=a.JsonCommodityManagement=void 0;var n=e("../Loading/LoadManager"),o=function(){this.CommodityID=0,this.CostItem=0,this.CostNum=0,this.GetItem=0,this.GetNum=0};a.JsonCommodityManagement=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("CommodityManagement",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonCommodityManagement\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.CommodityID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonCommodityManagement=function(e){return this.data.get(e)},e.prototype.getCostItem=function(e){return this.data.get(e).CostItem},e.prototype.getCostNum=function(e){return this.data.get(e).CostNum},e.prototype.getGetItem=function(e){return this.data.get(e).GetItem},e.prototype.getGetNum=function(e){return this.data.get(e).GetNum},e.getMaxCommodityID=function(){return 10210001},e._instance=null,e}();a.CommodityManagementManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],ConstantConfiguration:[function(e,t,a){"use strict";cc._RF.push(t,"195fbZQ7O9NmJTBxTkpK5ql","ConstantConfiguration"),Object.defineProperty(a,"__esModule",{value:!0}),a.ConstantConfigurationManager=a.JsonConstantConfiguration=void 0;var n=e("../Loading/LoadManager"),o=function(){this.ID=0,this.Value=""};a.JsonConstantConfiguration=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("ConstantConfiguration",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonConstantConfiguration\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.ID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonConstantConfiguration=function(e){return this.data.get(e)},e.prototype.getValue=function(e){return this.data.get(e).Value},e.getMaxID=function(){return 5},e._instance=null,e}();a.ConstantConfigurationManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],Constants:[function(e,t,a){"use strict";cc._RF.push(t,"ed7df3GZnxP15wGhoB3zFbj","Constants"),Object.defineProperty(a,"__esModule",{value:!0}),a.CurVersionCode=a.local_version=a.IsTestCode=a.IsGM=a.SkillSpeedRate=a.JiaSu=a.IsSaveEquipLog=a.IsTestServer=a.IsDebug=a.CUR_Platform=a.MAX_Military=a.MAX_ENERGY=a.Release_Platform=a.MAX_HERO_Quality=a.MAX_HERO_LEVEL=a.MAX_LEVEL=a.MAX_VIDEO=a.Ad_State=a.ValueUnit=a.ValueType=a.Reward_Type=a.Receive_Index=a.RED_TIP_=a.JianTou_Type=a.Btn_Index=a.Zheng_Xing_Type=a.Item_Type=a.FightingEffect_Type=a.FightingInfo=a.GameState=a.GameMode=a.GameScene=a.Text_Type=a.SelectSkill_Type=a.Attach_Fruit_Type=a.FuncType=a.Go_Type=a.INTER_VIDEO_TYPE=a.VIDEO_TYPE=void 0;var n=e("./Monster/Data/MonsterConfigure"),o=e("./Monster/MonsterData");(function(e){e[e.Gem=0]="Gem",e[e.Coin=1]="Coin",e[e.Equip=2]="Equip"})(a.VIDEO_TYPE||(a.VIDEO_TYPE={})),function(e){e[e.Zhuanpan=0]="Zhuanpan",e[e.Huodong=1]="Huodong",e[e.Baoxiang=2]="Baoxiang",e[e.Ziyuan=3]="Ziyuan"}(a.INTER_VIDEO_TYPE||(a.INTER_VIDEO_TYPE={})),function(e){e[e.PetList=0]="PetList",e[e.Role=1]="Role",e[e.Main=2]="Main",e[e.Main_Task=3]="Main_Task",e[e.Main_Milestone=4]="Main_Milestone",e[e.Main_EnemyInfo=5]="Main_EnemyInfo",e[e.Main_Spin=6]="Main_Spin",e[e.Main_Sign=7]="Main_Sign",e[e.Main_Rank=8]="Main_Rank",e[e.City=9]="City",e[e.Activity=10]="Activity",e[e.Activity_Endless=11]="Activity_Endless",e[e.Activity_Boss=12]="Activity_Boss",e[e.Activity_Maze=13]="Activity_Maze",e[e.Activity_Maze_lose=14]="Activity_Maze_lose",e[e.Go_Num=15]="Go_Num"}(a.Go_Type||(a.Go_Type={})),function(e){e[e.LiChengBei=1]="LiChengBei",e[e.GuaiWuTuJian=2]="GuaiWuTuJian",e[e.MeiRiRenWu=4]="MeiRiRenWu",e[e.QianDao=5]="QianDao",e[e.ZhuangBeiHeCheng=6]="ZhuangBeiHeCheng",e[e.ChengBaoYangCheng=7]="ChengBaoYangCheng",e[e.TianFu=8]="TianFu",e[e.PaiHangBang=9]="PaiHangBang",e[e.GeRenBoss=10]="GeRenBoss",e[e.ShiJieBoss=11]="ShiJieBoss",e[e.WuJinTiaoZhan=12]="WuJinTiaoZhan",e[e.PaTa=13]="PaTa",e[e.FanLi=14]="FanLi",e[e.LiBao=15]="LiBao",e[e.ZhanLing=16]="ZhanLing",e[e.ZhouLiBao=17]="ZhouLiBao",e[e.Shengtang=18]="Shengtang",e[e.XuYuanChi=19]="XuYuanChi",e[e.LongChao=20]="LongChao",e[e.ShangDian=21]="ShangDian",e[e.TieJiangPu=22]="TieJiangPu",e[e.ChongWuXiTong=23]="ChongWuXiTong",e[e.MiGong=24]="MiGong",e[e.NeiGou=25]="NeiGou",e[e.FirstCharge=26]="FirstCharge",e[e.ZhuanPan=3]="ZhuanPan",e[e.VIP=29]="VIP",e[e.AccumulatedRecharge=30]="AccumulatedRecharge",e[e.WeekCard=31]="WeekCard",e[e.PetParadise=32]="PetParadise",e[e.Num=33]="Num"}(a.FuncType||(a.FuncType={})),function(e){e[e.None=0]="None"}(a.Attach_Fruit_Type||(a.Attach_Fruit_Type={})),function(e){e[e.GongJi_CiShu1=0]="GongJi_CiShu1",e[e.GongJi_CiShu2=1]="GongJi_CiShu2",e[e.GongJi_Li1=2]="GongJi_Li1",e[e.GongJi_Li2=3]="GongJi_Li2",e[e.GongJi_SuDu1=4]="GongJi_SuDu1",e[e.GongJi_SuDu2=5]="GongJi_SuDu2",e[e.BaoJi_Lv1=6]="BaoJi_Lv1",e[e.BaoJi_Lv2=7]="BaoJi_Lv2",e[e.BaoJi_ShangHai1=8]="BaoJi_ShangHai1",e[e.BaoJi_ShangHai2=9]="BaoJi_ShangHai2",e[e.Skill_Num=10]="Skill_Num"}(a.SelectSkill_Type||(a.SelectSkill_Type={})),function(e){e[e.white=0]="white"}(a.Text_Type||(a.Text_Type={})),function(e){e.home="home",e.game="game",e.load="load"}(a.GameScene||(a.GameScene={})),function(e){e[e.Main=1]="Main",e[e.Endless=2]="Endless",e[e.Boss_Challenge=3]="Boss_Challenge",e[e.Boss_World=4]="Boss_World",e[e.Tower=5]="Tower",e[e.Maze=6]="Maze",e[e.Num=7]="Num"}(a.GameMode||(a.GameMode={})),function(e){e[e.Game_Ready=0]="Game_Ready",e[e.Game_Playing=1]="Game_Playing",e[e.Game_Pause=2]="Game_Pause",e[e.Game_Lose=3]="Game_Lose",e[e.Game_Win=4]="Game_Win"}(a.GameState||(a.GameState={}));var i,r=function(){function e(){this.monster_datas=[[]],this.title_name="",this.bg_name="",this.wall_name="",this.total_monster_num=0,this.wave_types=[],this.wave_refresh_time=[]}return e.prototype.getOnlyMonsterDataList=function(){for(var e=new Array,t=0;t<this.monster_datas.length;t++)for(var a=this.monster_datas[t],n=0;n<a.length;n++){for(var o=cc.instantiate(a[n]),i=-1,r=0;r<e.length;r++)if(e[r].id==o.id){i=r;break}-1!=i?o.level>e[i].level&&(e[i].level=o.level,e[i].score=o.score):e.push(o)}return e},e.prototype.getOnlyMonsterTypeMap=function(){for(var e=new Map,t=n.MonsterConfigureManager.getInstance(),a=0;a<this.monster_datas.length;a++)for(var o=this.monster_datas[a],i=0;i<o.length;i++){var r=cc.instantiate(o[i]),s=t.getJsonMonsterConfigure(r.id),c=s.MonsterClass,l=s.StrengthType;e.has(c)?e.get(c)<l&&e.set(c,l):e.set(c,l)}return e},e.prototype.getIsHaveBoss=function(){for(var e=n.MonsterConfigureManager.getInstance(),t=0;t<this.monster_datas.length;t++)for(var a=this.monster_datas[t],i=0;i<a.length;i++){var r=cc.instantiate(a[i]);if(e.getStrengthType(r.id)==o.StrengthType.Boss)return!0}return!1},e.prototype.getWaveTypes=function(){for(var e=new Array(this.monster_datas.length),t=0;t<this.monster_datas.length;t++)e[t]=0,-1==this.wave_types.indexOf(t+1)||(e[t]=1);return e},e}();a.FightingInfo=r,function(e){e[e.paodan_baozha=0]="paodan_baozha",e[e.zhongdu=1]="zhongdu",e[e.juji_baozha=2]="juji_baozha",e[e.penhuo=3]="penhuo",e[e.zhuoshao=4]="zhuoshao",e[e.penhuo_dazhao=5]="penhuo_dazhao",e[e.feibiao_att=6]="feibiao_att",e[e.enemy_add_hp=7]="enemy_add_hp",e[e.enemy_jiasu=8]="enemy_jiasu",e[e.enemy_zenge_huixue=9]="enemy_zenge_huixue",e[e.enemy_wudi=10]="enemy_wudi",e[e.sheshou_sheji=11]="sheshou_sheji",e[e.enemy_att=12]="enemy_att"}(a.FightingEffect_Type||(a.FightingEffect_Type={})),function(e){e[e.reset=0]="reset",e[e.jianguo=1]="jianguo",e[e.zhadan=2]="zhadan",e[e.item_num=3]="item_num"}(a.Item_Type||(a.Item_Type={})),function(e){e[e.ZX0=0]="ZX0",e[e.ZX1=1]="ZX1",e[e.ZX2=2]="ZX2",e[e.ZX3=3]="ZX3",e[e.ZX4=4]="ZX4",e[e.ZX5=5]="ZX5",e[e.num=6]="num"}(a.Zheng_Xing_Type||(a.Zheng_Xing_Type={})),function(e){e[e.Btn_City=0]="Btn_City",e[e.Btn_Role=1]="Btn_Role",e[e.Btn_Main=2]="Btn_Main",e[e.Btn_Pet=3]="Btn_Pet",e[e.Btn_FuBen=4]="Btn_FuBen"}(a.Btn_Index||(a.Btn_Index={})),function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(a.JianTou_Type||(a.JianTou_Type={})),a.RED_TIP_="red_tip_",function(e){e[e.Btn_Shop=0]="Btn_Shop",e[e.Btn_Role=1]="Btn_Role",e[e.Btn_Role_SheShou=2]="Btn_Role_SheShou",e[e.Btn_Role_PaoShou=3]="Btn_Role_PaoShou",e[e.Btn_Role_JuJiShou=4]="Btn_Role_JuJiShou",e[e.Btn_Role_PenHuoBing=5]="Btn_Role_PenHuoBing",e[e.Btn_Role_RenZhe=6]="Btn_Role_RenZhe",e[e.Btn_Role_WuNv=7]="Btn_Role_WuNv",e[e.Btn_Role_Upgrade=8]="Btn_Role_Upgrade",e[e.Btn_Role_Promotion=9]="Btn_Role_Promotion",e[e.Btn_Role_Merge=10]="Btn_Role_Merge",e[e.Btn_Main=11]="Btn_Main",e[e.Btn_Main_Milestone=12]="Btn_Main_Milestone",e[e.Btn_Main_EnemyInfo=13]="Btn_Main_EnemyInfo",e[e.Btn_Main_Spin=14]="Btn_Main_Spin",e[e.Btn_Main_Task=15]="Btn_Main_Task",e[e.Btn_Main_Task_Video_0=16]="Btn_Main_Task_Video_0",e[e.Btn_Main_Task_Video_1=17]="Btn_Main_Task_Video_1",e[e.Btn_Main_Task_Video_2=18]="Btn_Main_Task_Video_2",e[e.Btn_Main_Task_Video_3=19]="Btn_Main_Task_Video_3",e[e.Btn_Main_SignIn=20]="Btn_Main_SignIn",e[e.Btn_Main_Guaji=21]="Btn_Main_Guaji",e[e.Btn_Spin_Spin=22]="Btn_Spin_Spin",e[e.Btn_Pet=23]="Btn_Pet",e[e.Btn_FuBen=24]="Btn_FuBen",e[e.Btn_Role_Skill=25]="Btn_Role_Skill",e[e.Btn_Main_Rank=26]="Btn_Main_Rank"}(a.Receive_Index||(a.Receive_Index={})),function(e){e[e.coin=1]="coin",e[e.gem=2]="gem",e[e.energy=3]="energy"}(a.Reward_Type||(a.Reward_Type={})),function(e){e[e.None=0]="None",e[e.Percent=1]="Percent",e[e.Thousandths=2]="Thousandths",e[e.Second=3]="Second"}(a.ValueType||(a.ValueType={})),function(e){e.None="",e.Percent="%",e.Thousandths="%",e.Second="s"}(a.ValueUnit||(a.ValueUnit={})),function(e){e[e.OnError=0]="OnError",e[e.OnLoad=1]="OnLoad"}(a.Ad_State||(a.Ad_State={})),a.MAX_VIDEO=10,a.MAX_LEVEL=50,a.MAX_HERO_LEVEL=300,a.MAX_HERO_Quality=50,function(e){e[e.APK=0]="APK",e[e.CPK_CY=1]="CPK_CY",e[e.CPK_WX=2]="CPK_WX",e[e.CPK_JKW=3]="CPK_JKW",e[e.CPK_OPPO=4]="CPK_OPPO",e[e.CPK_QQ=5]="CPK_QQ",e[e.CPK_VIVO=6]="CPK_VIVO",e[e.WEB_TEST=7]="WEB_TEST"}(i=a.Release_Platform||(a.Release_Platform={})),a.MAX_ENERGY=20,a.MAX_Military=10,a.CUR_Platform=i.APK,a.IsDebug=!1,a.IsTestServer=!0,a.IsSaveEquipLog=!1,a.JiaSu=1e4,a.SkillSpeedRate=10,a.IsGM=!1,a.IsTestCode=!1,a.local_version="1-9-1",a.CurVersionCode=4,cc._RF.pop()},{"./Monster/Data/MonsterConfigure":"MonsterConfigure","./Monster/MonsterData":"MonsterData"}],ConsumptionTipUi:[function(e,t,a){"use strict";cc._RF.push(t,"6e502Nu3KpH66sQOZiGttrH","ConsumptionTipUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Ads/ApkManager"),s=e("../GameManager"),c=e("../Sound/AudioConstants"),l=e("./UIComponent"),g=e("../multiLanguage/LanguageManager"),u=e("../Prop/PropConfig"),p=e("../Prop/PropManager"),d=e("../Tools/MyTool"),h=e("../Prop/Data/Item"),f=cc._decorator,_=f.ccclass,m=(f.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sure_call_back=null,t.currency_type=u.PropId.Coin,t.currency_num=0,t}return o(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t)},t.prototype.initCallBack=function(e,t,a){this.sure_call_back=a,this.currency_type=e,this.currency_num=t,this.initUi()},t.prototype.initUi=function(){this.node.getChildByName("titleLabel").getComponent(cc.Label).string=g.default.getInstance().getStrByTextId(100003),this.node.getChildByName("contentLabel1").getComponent(cc.Label).string=g.default.getInstance().getStrByTextId(100022),this.node.getChildByName("contentLabel2").getComponent(cc.Label).string=g.default.getInstance().getStrByTextId(100004),this.node.getChildByName("cancelLabel").getComponent(cc.Label).string=g.default.getInstance().getStrByTextId(100002),this.node.getChildByName("sureLabel").getComponent(cc.Label).string=g.default.getInstance().getStrByTextId(100001),this.node.getChildByName("useIcon").getComponent(cc.Sprite).spriteFrame=p.PropManager.getInstance().getSpByPropId(this.currency_type),this.node.getChildByName("tipIcon").getComponent(cc.Sprite).spriteFrame=p.PropManager.getInstance().getSpByPropId(this.currency_type),this.node.getChildByName("useLabel").getComponent(cc.Label).string=d.default.getCoinDanwei(this.currency_num);var e=this.node.getChildByName("tipLabel");e.getComponent(cc.Label).string=d.default.getCoinDanwei(p.PropManager.getInstance().getPropNum(this.currency_type)),this.currency_num>p.PropManager.getInstance().getPropNum(this.currency_type)&&(e.color=cc.color(209,44,45))},t.prototype.clickBtnSure=function(){var e;this.currency_num>p.PropManager.getInstance().getPropNum(this.currency_type)?(e=g.default.getInstance().getStrByTextId(h.ItemManager.getInstance().getNameTextId(this.currency_type))+g.default.getInstance().getStrByTextId(100021),s.default.getInstance().showMessage(e)):(p.PropManager.getInstance().changePropNum(this.currency_type,-1*this.currency_num),s.default.getInstance().sound_manager.playSound(c.SoundIndex.click),this.sure_call_back(),this.destroySelf())},t.prototype.clickBtnClose=function(){s.default.getInstance().sound_manager.playSound(c.SoundIndex.click),this.destroySelf()},t.prototype.destroySelf=function(){e.prototype.onClose.call(this),r.default.getInstance().closeBanner()},i([_],t)}(l.default));a.default=m,cc._RF.pop()},{"../Ads/ApkManager":"ApkManager","../GameManager":"GameManager","../Prop/Data/Item":"Item","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../Tools/MyTool":"MyTool","../multiLanguage/LanguageManager":"LanguageManager","./UIComponent":"UIComponent"}],Content:[function(e,t,a){"use strict";cc._RF.push(t,"60a8eTNfmZNIrHd5mN5/blp","Content");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.view_rect=null,t}return o(t,e),t.prototype.start=function(){var e=this.node.parent;this.view_rect=e.getBoundingBox()},t.prototype.update=function(){for(var e=this.node.childrenCount,t=this.node.children,a=0;a<e;a++){var n=t[a],o=n.getBoundingBox();o.x=n.parent.x+o.x,o.y=n.parent.y+o.y,this.view_rect.containsRect(o)||this.view_rect.intersects(o)?n.opacity=255:n.opacity=0}},i([s],t)}(cc.Component));a.default=c,cc._RF.pop()},{}],Continuous:[function(e,t,a){"use strict";cc._RF.push(t,"0b2cdW0jIZEaajKLWn3ZBpR","Continuous");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Enemy/EnemyConfig"),s=e("../../Game/GameEffectsManager"),c=cc._decorator,l=c.ccclass,g=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.game_effect_id=s.GameEffectId.Null,t.jishu=0,t.other_value_1=0,t.other_value_2=0,t.buff_id=0,t.is_recycled=!1,t.buff_floor_num=0,t.gong_ji_data=null,t}return o(t,e),t.prototype.init=function(e,t,a){this.remain_time=e.remain_time,this.damage_num=e.damage_num,this.jiange_time=e.jiange_time,this.hero_type=e.hero_type,this.other_value_1=e.other_value_1,this.other_value_2=e.other_value_2,this.buff_id=e.buff_id,this.gong_ji_data=a,this.is_recycled=!1,this.addDamageListen(t),this.buff_floor_num=1},t.prototype.refreshData=function(e){this.remain_time=e.remain_time,this.damage_num=e.damage_num,this.jiange_time=e.jiange_time,this.buff_floor_num++},t.prototype.addDamageListen=function(e){this.damage_listen=e},t.prototype.doDamage=function(){this.damage_listen&&(this.damage_num,this.buff_id==r.Enemy_DeBuff_Type.LiuXue_RenZhe_Active_Skill&&this.buff_floor_num,this.damage_listen.doDamage(this.gong_ji_data))},t.prototype.destroySelf=function(){0==this.is_recycled&&(s.GameEffectsManager.getInstance().destroyGameEffectById(this.game_effect_id,this.node),this.is_recycled=!0),this.damage_listen=null},t.prototype.update=function(e){this.remain_time-=e,this.remain_time>0?(this.jishu+=e,this.jishu>=this.jiange_time&&(this.jishu=0,this.doDamage())):this.destroySelf(!0)},i([g({type:cc.Enum(s.GameEffectId)})],t.prototype,"game_effect_id",void 0),i([l],t)}(cc.Component);a.default=u,cc._RF.pop()},{"../../Enemy/EnemyConfig":"EnemyConfig","../../Game/GameEffectsManager":"GameEffectsManager"}],CourseText:[function(e,t,a){"use strict";cc._RF.push(t,"f4753UXstlAaK75Fp5m2q0L","CourseText"),Object.defineProperty(a,"__esModule",{value:!0}),a.CourseTextManager=a.JsonCourseText=void 0;var n=e("../Loading/LoadManager"),o=function(){this.xs_id=0,this.hero_text_id=0,this.guidance_text_id=0};a.JsonCourseText=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("CourseText",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonCourseText\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.xs_id,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonCourseText=function(e){return this.data.get(e)},e.prototype.gethero_text_id=function(e){return this.data.get(e).hero_text_id},e.prototype.getguidance_text_id=function(e){return this.data.get(e).guidance_text_id},e.getMaxxs_id=function(){return 226},e._instance=null,e}();a.CourseTextManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],CrystalRecharge:[function(e,t,a){"use strict";cc._RF.push(t,"e823fkrplZETb11PKGHr67l","CrystalRecharge"),Object.defineProperty(a,"__esModule",{value:!0}),a.CrystalRechargeManager=a.JsonCrystalRecharge=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.RechargeID=0,this.CrystalQuantity=0,this.DiamondsQuality=0,this.ProductId=""};a.JsonCrystalRecharge=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("CrystalRecharge",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonCrystalRecharge\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.RechargeID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonCrystalRecharge=function(e){return this.data.get(e)},e.prototype.getCrystalQuantity=function(e){return this.data.get(e).CrystalQuantity},e.prototype.getDiamondsQuality=function(e){return this.data.get(e).DiamondsQuality},e.prototype.getProductId=function(e){return this.data.get(e).ProductId},e.getMaxRechargeID=function(){return 606},e.prototype.getData=function(){return this.data},e._instance=null,e}();a.CrystalRechargeManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],CultivateUi:[function(e,t,a){"use strict";cc._RF.push(t,"7dd31Z+L2NAWIIUmx1HfBJ8","CultivateUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../GameManager"),c=e("../../JsonData/FunctionDefinition"),l=e("../../Sound/AudioConstants"),g=e("./FuncTypeBtn"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sp_btn=[],t.all_ui=[],t.cur_selected_index=1,t.is_hint_state=!1,t}return o(t,e),t.prototype.onLoad=function(){var e=cc.find("Canvas/Top_Ui/down");if(this.node.getChildByName("btnList").y=e.y+81,0==this.is_hint_state)if(c.FunctionDefinitionManager.getInstance().getIsUnlock(r.FuncType.ChengBaoYangCheng))this.cur_selected_index=1;else for(var t=r.FuncType.ZhuangBeiHeCheng;t<=r.FuncType.TianFu;t++)if(c.FunctionDefinitionManager.getInstance().getIsUnlock(t)){this.cur_selected_index=t;break}},t.prototype.onEnable=function(){this.setBtnShow(),this.is_hint_state=!1},t.prototype.setBtnShow=function(){for(var e=this.node.getChildByName("btnList"),t=0;t<3;t++){var a=e.children[t],n=a.getComponent(g.default).refresh();this.cur_selected_index==t&&n?(this.all_ui[t].active=!0,a.getComponent(cc.Button).interactable=!1):this.all_ui[t].active=!1}},t.prototype.clickBtnTable=function(e,t){s.default.getInstance().sound_manager.playSound(l.SoundIndex.click);var a=parseInt(t);a!=this.cur_selected_index&&(this.cur_selected_index=a,this.setBtnShow())},i([d([cc.SpriteFrame])],t.prototype,"sp_btn",void 0),i([d([cc.Node])],t.prototype,"all_ui",void 0),i([p],t)}(cc.Component);a.default=h,cc._RF.pop()},{"../../Constants":"Constants","../../GameManager":"GameManager","../../JsonData/FunctionDefinition":"FunctionDefinition","../../Sound/AudioConstants":"AudioConstants","./FuncTypeBtn":"FuncTypeBtn"}],CumulativeCard:[function(e,t,a){"use strict";cc._RF.push(t,"a9ccdSlB4BMOL/F/sWe4eQS","CumulativeCard"),Object.defineProperty(a,"__esModule",{value:!0}),a.CumulativeCardManager=a.JsonCumulativeCard=void 0;var n=e("../Loading/LoadManager"),o=function(){this.CumulativeRewardID=0,this.WishType=0,this.CumulativeCardDrawingTimes=0,this.ItemID=0,this.RewardNum=0};a.JsonCumulativeCard=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("CumulativeCard",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonCumulativeCard\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.CumulativeRewardID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonCumulativeCard=function(e){return this.data.get(e)},e.prototype.getWishType=function(e){return this.data.get(e).WishType},e.prototype.getCumulativeCardDrawingTimes=function(e){return this.data.get(e).CumulativeCardDrawingTimes},e.prototype.getItemID=function(e){return this.data.get(e).ItemID},e.prototype.getRewardNum=function(e){return this.data.get(e).RewardNum},e.getMaxCumulativeRewardID=function(){return 2050},e.prototype.getWishingRewardList=function(e){var t=new Array;return this.data.forEach(function(a){a.WishType==e&&t.push(a)}),t},e._instance=null,e}();a.CumulativeCardManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],CumulativeRecharges:[function(e,t,a){"use strict";cc._RF.push(t,"0af994C6VdP0bEWHrQB56Mi","CumulativeRecharges"),Object.defineProperty(a,"__esModule",{value:!0}),a.CumulativeRechargesManager=a.JsonCumulativeRecharges=void 0;var n=e(".././NetWork/HttpManager"),o=e("../Loading/LoadManager"),i=e("../Tools/EventManager"),r=e("../UserData"),s=e("../UserInfo/UserInfo"),c=function(){this.CumulativeRechargeID=0,this.DiamondRechargePrice=0,this.Item1_ID=0,this.Item1_Num=0,this.Item2_ID=0,this.Item2_Num=0,this.Item3_ID=0,this.Item3_Num=0};a.JsonCumulativeRecharges=c;var l=function(){function e(){this.data=null,this.is_load_completed=!1,this.rewardMap=new Map}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;o.LoadManager.loadJson("CumulativeRecharges",o.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonCumulativeRecharges\u6210\u529f"),e.data=new Map;for(var n=a.json,o=0;o<n.length;o++){var i=new c;i=n[o],e.data.set(i.CumulativeRechargeID,i)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonCumulativeRecharges=function(e){return this.data.get(e)},e.prototype.getDiamondRechargePrice=function(e){return this.data.get(e).DiamondRechargePrice},e.prototype.getItem1_ID=function(e){return this.data.get(e).Item1_ID},e.prototype.getItem1_Num=function(e){return this.data.get(e).Item1_Num},e.prototype.getItem2_ID=function(e){return this.data.get(e).Item2_ID},e.prototype.getItem2_Num=function(e){return this.data.get(e).Item2_Num},e.prototype.getItem3_ID=function(e){return this.data.get(e).Item3_ID},e.prototype.getItem3_Num=function(e){return this.data.get(e).Item3_Num},e.getMaxCumulativeRechargeID=function(){return 80001},e.prototype.refreshData=function(){var e=this;n.HttpManager.post(n.AccessName.queryGameTask,this.getCumulativeRechargeJsonString()).then(function(t){if(t){if(e.rewardMap=new Map,0==t.length)e.data.forEach(function(t){s.UserInfo.getInstance().payGem>=t.DiamondRechargePrice?e.rewardMap.set(t.CumulativeRechargeID,1):e.rewardMap.set(t.CumulativeRechargeID,0)});else{e.data.forEach(function(t){s.UserInfo.getInstance().payGem>=t.DiamondRechargePrice?e.rewardMap.set(t.CumulativeRechargeID,1):e.rewardMap.set(t.CumulativeRechargeID,0)});for(var a=0;a<t.length;a++)e.rewardMap.set(Number(t[a].playLevel),2)}i.EventManager.postRedEvent(i.RedEventString.RED_CHECK,i.RedEventType.Btn_Main_LeiChong)}})},e.prototype.modifyData=function(e){this.rewardMap.set(e.CumulativeRechargeID,2)},e.prototype.getCumulativeRechargeJsonString=function(){var e=r.default.getInstance().getUserID();return JSON.stringify({createTime:"",id:"",playLevel:"",rewardType:6,uid:e})},e._instance=null,e}();a.CumulativeRechargesManager=l,cc._RF.pop()},{".././NetWork/HttpManager":"HttpManager","../Loading/LoadManager":"LoadManager","../Tools/EventManager":"EventManager","../UserData":"UserData","../UserInfo/UserInfo":"UserInfo"}],CumulativeRecharge:[function(e,t,a){"use strict";cc._RF.push(t,"4fa24UGiqtFv6KwZJEiFAI+","CumulativeRecharge"),Object.defineProperty(a,"__esModule",{value:!0}),a.CumulativeRechargeManager=a.JsonCumulativeRecharge=void 0;var n=e("../../JsonData/LevelJsonData"),o=e("../../Loading/LoadManager"),i=e("../../Prop/PropConfig"),r=function(){this.CumulativeRechargeID=0,this.DisplayOrder=0,this.CumulativeRechargePrice=0,this.GetCoin=0,this.GetGem=0,this.Item1_ID=0,this.Item1_Num=0,this.Item2_ID=0,this.Item2_Num=0,this.Item3_ID=0,this.Item3_Num=0};a.JsonCumulativeRecharge=r;var s=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;o.LoadManager.loadJson("CumulativeRecharge",o.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonCumulativeRecharge\u6210\u529f"),e.data=new Map;for(var n=a.json,o=0;o<n.length;o++){var i=new r;i=n[o],e.data.set(i.CumulativeRechargeID,i)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonCumulativeRecharge=function(e){return this.data.get(e)},e.prototype.getDisplayOrder=function(e){return this.data.get(e).DisplayOrder},e.prototype.getCumulativeRechargePrice=function(e){return this.data.get(e).CumulativeRechargePrice},e.prototype.getGetCoin=function(e){return this.data.get(e).GetCoin},e.prototype.getGetGem=function(e){return this.data.get(e).GetGem},e.prototype.getItem1_ID=function(e){return this.data.get(e).Item1_ID},e.prototype.getItem1_Num=function(e){return this.data.get(e).Item1_Num},e.prototype.getItem2_ID=function(e){return this.data.get(e).Item2_ID},e.prototype.getItem2_Num=function(e){return this.data.get(e).Item2_Num},e.prototype.getItem3_ID=function(e){return this.data.get(e).Item3_ID},e.prototype.getItem3_Num=function(e){return this.data.get(e).Item3_Num},e.getMaxCumulativeRechargeID=function(){return 80001},e.prototype.getRewardData=function(e){var t=new Array,a=this.getJsonCumulativeRecharge(e);a.GetCoin>0&&((r=new n.RewardData).reward_id=i.PropId.Coin,r.reward_num=a.GetCoin,t.push(r)),a.GetGem>0&&((r=new n.RewardData).reward_id=i.PropId.Gem,r.reward_num=a.GetGem,t.push(r));for(var o=1;o<=3;o++){var r,s="Item"+o+"_ID";a[s]>0&&((r=new n.RewardData).reward_id=a[s],r.reward_num=a["Item"+o+"_Num"],t.push(r))}return t},e.prototype.getId=function(e){var t=0,a=!1;return this.data.forEach(function(n){!a&&e<n.CumulativeRechargePrice&&(t=n.CumulativeRechargeID,a=!0)}),t},e.prototype.getData=function(){return this.data},e._instance=null,e}();a.CumulativeRechargeManager=s,cc._RF.pop()},{"../../JsonData/LevelJsonData":"LevelJsonData","../../Loading/LoadManager":"LoadManager","../../Prop/PropConfig":"PropConfig"}],CustomsClearanceRebate:[function(e,t,a){"use strict";cc._RF.push(t,"21ab7XYIVRMwqc7a+8pE57S","CustomsClearanceRebate"),Object.defineProperty(a,"__esModule",{value:!0}),a.CustomsClearanceRebateManager=a.JsonCustomsClearanceRebate=void 0;var n=e("../Loading/LoadManager"),o=function(){this.RewardID=0,this.GetGem=0,this.CompleteChapter=0,this.ProductId=""};a.JsonCustomsClearanceRebate=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("CustomsClearanceRebate",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonCustomsClearanceRebate\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.RewardID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonCustomsClearanceRebate=function(e){return this.data.get(e)},e.prototype.getGetGem=function(e){return this.data.get(e).GetGem},e.prototype.getCompleteChapter=function(e){return this.data.get(e).CompleteChapter},e.prototype.getProductId=function(e){return this.data.get(e).ProductId},e.getMaxRewardID=function(){return 10},e._instance=null,e}();a.CustomsClearanceRebateManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],CyclePack:[function(e,t,a){"use strict";cc._RF.push(t,"c5507wF6UpJTLkSX0t3XWoz","CyclePack"),Object.defineProperty(a,"__esModule",{value:!0}),a.CyclePackManager=a.JsonCyclePack=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.GiftID=0,this.GiftText=0,this.GetCoinNum=0,this.GetGemNum=0,this.GetCrystal=0,this.ItemId_1=0,this.ItemNum_1=0,this.ItemId_2=0,this.ItemNum_2=0,this.ItemId_3=0,this.ItemNum_3=0,this.AdReward=0,this.AdPlayableTimes=0,this.ProductId=""};a.JsonCyclePack=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("CyclePack",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonCyclePack\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.GiftID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonCyclePack=function(e){return this.data.get(e)},e.prototype.getGiftText=function(e){return this.data.get(e).GiftText},e.prototype.getGetCoinNum=function(e){return this.data.get(e).GetCoinNum},e.prototype.getGetGemNum=function(e){return this.data.get(e).GetGemNum},e.prototype.getGetCrystal=function(e){return this.data.get(e).GetCrystal},e.prototype.getItemId_1=function(e){return this.data.get(e).ItemId_1},e.prototype.getItemNum_1=function(e){return this.data.get(e).ItemNum_1},e.prototype.getItemId_2=function(e){return this.data.get(e).ItemId_2},e.prototype.getItemNum_2=function(e){return this.data.get(e).ItemNum_2},e.prototype.getItemId_3=function(e){return this.data.get(e).ItemId_3},e.prototype.getItemNum_3=function(e){return this.data.get(e).ItemNum_3},e.prototype.getAdReward=function(e){return this.data.get(e).AdReward},e.prototype.getAdPlayableTimes=function(e){return this.data.get(e).AdPlayableTimes},e.prototype.getProductId=function(e){return this.data.get(e).ProductId},e.getMaxGiftID=function(){return 3006},e.prototype.getDataByType=function(e){var t=[];return this.data.forEach(function(a){a.GiftText==e&&t.push(a)}),t},e.prototype.resetDayData=function(){this.data.forEach(function(e){1==e.GiftText&&cc.sys.localStorage.setItem("pay_git_bag_item_"+e.GiftID,"")})},e.prototype.resetWeekData=function(){this.data.forEach(function(e){2==e.GiftText&&cc.sys.localStorage.setItem("pay_git_bag_item_"+e.GiftID,"")})},e.prototype.resetMonthData=function(){this.data.forEach(function(e){3==e.GiftText&&cc.sys.localStorage.setItem("pay_git_bag_item_"+e.GiftID,"")})},e.prototype.getData=function(){return this.data},e._instance=null,e}();a.CyclePackManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],DailyShop:[function(e,t,a){"use strict";cc._RF.push(t,"8617fgT1fpCoLRo3W7hqv3L","DailyShop"),Object.defineProperty(a,"__esModule",{value:!0}),a.DailyShopManager=a.JsonDailyShop=void 0;var n=e("../Loading/LoadManager"),o=e("./CommodityInformation"),i=function(){this.Shop_ID=0,this.chapter=0,this.ShopNum=0,this.Shoplist=[]};a.JsonDailyShop=i;var r=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("DailyShop",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonDailyShop\u6210\u529f"),e.data=new Map;for(var n=a.json,o=0;o<n.length;o++){var r=new i;r=n[o],e.data.set(r.Shop_ID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonDailyShop=function(e){return this.data.get(e)},e.prototype.getchapter=function(e){return this.data.get(e).chapter},e.prototype.getShopNum=function(e){return this.data.get(e).ShopNum},e.prototype.getShoplist=function(e){return this.data.get(e).Shoplist},e.getMaxShop_ID=function(){return 10003},e.prototype.getJsonDataByChapterAndInde=function(e,t){var a=null;return this.data.forEach(function(n){n.chapter==e&&n.ShopNum==t&&(a=n)}),a},e.prototype.check=function(){this.data.forEach(function(e){for(var t=0;t<e.Shoplist.length;t++){var a=e.Shoplist[t];o.CommodityInformationManager.getInstance().getJsonCommodityInformation(a)||cc.error("\u4e0d\u5b58\u5728\u5546\u5e97id\uff1a"+a)}})},e._instance=null,e}();a.DailyShopManager=r,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager","./CommodityInformation":"CommodityInformation"}],DamageRecord:[function(e,t,a){"use strict";cc._RF.push(t,"c4e65LkgFtKq6cITgjYDSDA","DamageRecord");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../Game/GameEffectsManager"),c=e("../../GameManager"),l=e("../Data/HeroManager"),g=cc._decorator,u=g.ccclass,p=(g.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.game_effect_id=s.GameEffectId.Null,t.value_label=null,t.total_value=0,t.remain_time=5,t.destroy_callback=null,t.skill_release_id=0,t}return o(t,e),t.prototype.init=function(e,t,a,n){this.game_effect_id=e,this.skill_release_id=t,this.destroy_callback=n;var o=Math.floor(t/1e4);this.node.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=l.HeroManager.getInstance().getSpriteFrameByNames("Hero_"+o+"_Skill_0"),this.value_label||(this.value_label=this.node.getChildByName("num").getComponent(cc.Label)),this.total_value=0,this.refreshValue(a)},t.prototype.refreshValue=function(e){this.remain_time=5,this.node.opacity=255,this.total_value+=Math.round(e),this.value_label.string=this.total_value.toString()},t.prototype.destroySelf=function(){s.GameEffectsManager.getInstance().destroyGameEffectById(this.game_effect_id,this.node),this.destroy_callback&&this.destroy_callback(this.skill_release_id)},t.prototype.update=function(e){c.default.getInstance().cur_game_state==r.GameState.Game_Playing&&this.remain_time>0&&(this.remain_time-=e,this.remain_time<=2&&(this.node.opacity-=2,this.remain_time<=0&&(this.remain_time=0,this.destroySelf())))},i([u],t)}(cc.Component));a.default=p,cc._RF.pop()},{"../../Constants":"Constants","../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../Data/HeroManager":"HeroManager"}],DamageStatsUi:[function(e,t,a){"use strict";cc._RF.push(t,"653f2i5bQNI4r2TRZn6kkM4","DamageStatsUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../GameManager"),s=e("../../Sound/AudioConstants"),c=e("../../UI/UIComponent"),l=cc._decorator,g=l.ccclass,u=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_START,function(){r.default.getInstance().sound_manager.playSound(s.SoundIndex.click),e.node.removeFromParent()},this)},t.prototype.start=function(){},t.prototype.clickBtnClose=function(){r.default.getInstance().sound_manager.playSound(s.SoundIndex.click),e.prototype.onClose.call(this)},i([g],t)}(c.default));a.default=u,cc._RF.pop()},{"../../GameManager":"GameManager","../../Sound/AudioConstants":"AudioConstants","../../UI/UIComponent":"UIComponent"}],Dart:[function(e,t,a){"use strict";cc._RF.push(t,"e7bf2T7lktPyr36r/pR0qji","Dart");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Bullect"),s=e("../HeroConfig"),c=cc._decorator,l=c.ccclass,g=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dark_type=s.FeiBiao_Type.skill1,t.collision_num=0,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addCollisionMonsterListen.call(this,this.onCollisionMonster),this.spin_speed=600,this.addInitFinishedListen(this.onInitFinished)},t.prototype.onInitFinished=function(){this.collision_num=0},t.prototype.onCollisionMonster=function(){},i([g({type:cc.Enum(s.FeiBiao_Type)})],t.prototype,"dark_type",void 0),i([l],t)}(r.default);a.default=u,cc._RF.pop()},{"../Bullect":"Bullect","../HeroConfig":"HeroConfig"}],DeLuYi:[function(e,t,a){"use strict";cc._RF.push(t,"58578ecLi9Mz6G5DIp/2PBn","DeLuYi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Constants"),s=e("../../../Game/FightingManager"),c=e("../../../Game/GameEffectsManager"),l=e("../../../Game/GroundManager"),g=e("../../../Game/SkillManager"),u=e("../../../GameManager"),p=e("../../../Monster/Monster"),d=e("../../../Monster/MonsterData"),h=e("../../../Monster/MonsterManager"),f=e("../../../Sound/AudioConstants"),_=e("../BuffData"),m=e("../Hero"),y=e("../HeroConfig"),I=e("./SuperManTeng"),v=e("./WuNvDan"),M=cc._decorator,C=M.ccclass,S=(M.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.deluyi_att,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.deluyi_att_hit,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.deluyi_att_baoji,4),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.deluyi_skill_manteng,4),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.deluyi_active_skill_hit,4),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.deluyi_active_skill,4),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.deluyi_skill_beidong_create,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.xuanyun,4),this.addSkillListen(this.useSkill),this.addAttackListen(this.normalAttack),this.addXuanYunListen(this.onXuanYunResult),this.addHitListen(this.onHitMonster)},t.prototype.start=function(){e.prototype.start.call(this),this.is_need_check_distance=!0,e.prototype.setSkillTipSize.call(this,1680,384),this.hero_data.ExclusiveWeaponSkillValue_1&&this.hero_data.ExclusiveWeaponSkillValue_1>0&&g.default.getInstance().setDeLuYiEx(this.hero_data.ExclusiveWeaponSkillValue_1)},t.prototype.onXuanYunResult=function(e){e?this.unscheduleAllCallbacks():this.setHeroState(y.Hero_State.idle,y.GongJi_FangXiang.zhong)},t.prototype.onHitMonster=function(t,a,n){if(t==y.DamageType.Normal){var o=n.getComponent(p.default),i=h.default.getInstance().getMonstersForCenterPos(-1,o.getCenterPos(),this.hero_data.getSkillValue1(y.SkillType.Passive_1));if(i)for(var r=e.prototype.getGongJiData.call(this,y.DamageType.Skill,!1,y.SkillType.Passive_1,this.hero_data.getSkillValue2(y.SkillType.Passive_1)),s=function(e){var t=i[e].getComponent(p.default),n=t.beFlashInjured(r);if(!n.is_die&&n.getDamageNum()>0){a?c.GameEffectsManager.getInstance().createGameEffectById(c.GameEffectId.deluyi_att_baoji,t.getCenterPos()):c.GameEffectsManager.getInstance().createGameEffectById(c.GameEffectId.deluyi_att_hit,t.getCenterPos());var o=l.hero_data.getSkillValue3(y.SkillType.Passive_1);if(t.getStrengthType()!=d.StrengthType.Boss&&Math.random()<o){var s=new _.BuffData;s.buff_id=y.BuffId.Hero_XuanYun,s.buff_type=y.BuffType.Vertigo,s.buff_value=[0],s.remain_time=.5,s.game_effect_id=c.GameEffectId.xuanyun,t.addDeBuff(s,r);var g=c.GameEffectsManager.getInstance().createGameEffectById(c.GameEffectId.deluyi_skill_manteng,l.node.getPosition());g.getComponent(cc.Animation).play(),cc.tween(g).delay(s.remain_time).call(function(){c.GameEffectsManager.getInstance().destroyGameEffectById(c.GameEffectId.deluyi_skill_manteng,g)}).start()}}},l=this,g=0;g<i.length;g++)s(g)}},t.prototype.createWuNvDan=function(e,t,a,n,o){s.default.getInstance().createGameEffectById(e,t).getComponent(v.default).init(e,a,n,o)},t.prototype.createSuperManTeng=function(e,t,a,n,o){var i=l.default.getInstance().createGameEffectById(e,t);return i.getComponent(I.default).init(e,a,n,o),i},t.prototype.normalAttack=function(e){u.default.getInstance().cur_game_state==r.GameState.Game_Playing&&(this.is_can_gongji=!1,this.startAttack(e))},t.prototype.startAttack=function(t){var a=this,n=t.getComponent(p.default).getSheShouPos(),o=this.getFangXiangByPos(n);u.default.getInstance().sound_manager.playSound(f.SoundIndex.YX_FashiAttack);var i=new d.KeyFrameData;i.name="Attack",i.callback=function(){var t=a.getCreateBulletPos(),o=n.sub(t),i=Math.atan2(o.y,o.x),r=e.prototype.getGongJiData.call(a,y.DamageType.Normal,!0,y.SkillType.Null);a.createWuNvDan(c.GameEffectId.deluyi_att,t,a.bullet_speed,i,r),a.is_double_attack?a.resetNormalAttack():a.gongji_jishu=0},e.prototype.setHeroState.call(this,y.Hero_State.attack,o,[i],function(){a.setHeroState(y.Hero_State.idle,a.cur_fangxiang)})},t.prototype.useSkill=function(e){var t=this;return g.default.getInstance().releaseSkill(function(){t.startSelfXuLi(e)},this.node),0},t.prototype.startSelfXuLi=function(e){var t=this,a=cc.find("Canvas/Hero_Root"),n=new d.KeyFrameData;n.name="FaShe",n.callback=function(){g.default.getInstance().setTimeStop(!1),t.node.parent=a,t.node.zIndex=2,t.startLaunch(e)},this.setHeroState(y.Hero_State.skill,y.GongJi_FangXiang.zhong,[n],function(){t.resetGongJiJiShu(),t.setHeroState(y.Hero_State.idle,y.GongJi_FangXiang.zhong)}),this.spine.timeScale=r.JiaSu},t.prototype.startLaunch=function(t){e.prototype.setAttSpineScale.call(this),u.default.getInstance().sound_manager.playSound(f.SoundIndex.YX_FashiSkill1);for(var a=t.y-192+96,n=e.prototype.getGongJiData.call(this,y.DamageType.Skill,!1,y.SkillType.Active,this.hero_data.getSkillValue1(y.SkillType.Active)),o=0;o<2;o++){var i=350,r=a+192*o;(s=this.createSuperManTeng(c.GameEffectId.deluyi_active_skill,cc.v2(i,r),this.bullet_speed/2,Math.PI,n).getComponent(cc.BoxCollider)).enabled=1==o,s.offset=cc.v2(-96,0)}for(o=0;o<2;o++){var s;i=-350,r=a+192*o,(s=this.createSuperManTeng(c.GameEffectId.deluyi_active_skill,cc.v2(i,r),this.bullet_speed/2,0,n).getComponent(cc.BoxCollider)).enabled=1==o,s.offset=cc.v2(96,0)}g.default.getInstance().setIsSkillState(!1)},i([C],t)}(m.default));a.default=S,cc._RF.pop()},{"../../../Constants":"Constants","../../../Game/FightingManager":"FightingManager","../../../Game/GameEffectsManager":"GameEffectsManager","../../../Game/GroundManager":"GroundManager","../../../Game/SkillManager":"SkillManager","../../../GameManager":"GameManager","../../../Monster/Monster":"Monster","../../../Monster/MonsterData":"MonsterData","../../../Monster/MonsterManager":"MonsterManager","../../../Sound/AudioConstants":"AudioConstants","../BuffData":"BuffData","../Hero":"Hero","../HeroConfig":"HeroConfig","./SuperManTeng":"SuperManTeng","./WuNvDan":"WuNvDan"}],Dialog:[function(e,t,a){"use strict";cc._RF.push(t,"92d32LcdttDU7T/2MhJ0gzn","Dialog");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../GameManager"),s=cc._decorator,c=s.ccclass,l=s.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btn_bottom=30,t.text_top=20,t.text_btn=20,t.filling_height=40,t.yes_callback=null,t.no_callback=null,t}return o(t,e),t.prototype.clickBtnYes=function(){r.default.getInstance().is_show_exit=!1,this.yes_callback&&this.yes_callback(),this.node.removeFromParent()},t.prototype.clickBtnNo=function(){r.default.getInstance().is_show_exit=!1,this.no_callback&&this.no_callback(),this.node.removeFromParent()},t.prototype.showDialog=function(e,t,a,n,o){var i=this;this.yes_callback=t,this.no_callback=a;var r=this.node.getChildByName("hintLabel").getComponent(cc.Label);r.string=e,this.node.opacity=0,r.enabled=!1,cc.tween(this.node).delay(.05).call(function(){r.enabled=!0;var e=i.node.getChildByName("btnYes"),t=i.node.getChildByName("btnNo"),a=e.height;i.node.height=r.node.height+a+i.btn_bottom+i.text_top+i.text_top+i.filling_height,r.node.y=i.node.height/2-i.text_top,e.y=-i.node.height/2+i.btn_bottom+a/2,i.node.getChildByName("line").y=e.y+70,t.y=e.y,1==n&&(e.getChildByName("layout").getChildByName("ads").active=!0),2==n&&(e.getChildByName("layout").getChildByName("yes").getComponent(cc.Label).string=String(o))}).to(.2,{opacity:255}).start()},i([l({tooltip:"\u6309\u94ae\u4e0e\u5e95\u90e8\u7684\u8ddd\u79bb"})],t.prototype,"btn_bottom",void 0),i([l({tooltip:"\u6587\u5b57\u4e0e\u9876\u90e8\u7684\u8ddd\u79bb"})],t.prototype,"text_top",void 0),i([l({tooltip:"\u6587\u5b57\u4e0e\u6309\u94ae\u7684\u8ddd\u79bb"})],t.prototype,"text_btn",void 0),i([l({tooltip:"\u6574\u4f53\u8865\u95f4\u9ad8\u5ea6"})],t.prototype,"filling_height",void 0),i([c],t)}(cc.Component);a.default=g,cc._RF.pop()},{"../GameManager":"GameManager"}],DiamondsRecharge:[function(e,t,a){"use strict";cc._RF.push(t,"79ffaJkq6pDpJJjWJ9dZh72","DiamondsRecharge"),Object.defineProperty(a,"__esModule",{value:!0}),a.DiamondsRechargeManager=a.JsonDiamondsRecharge=void 0;var n=e("../Loading/LoadManager"),o=function(){this.RechargeID=0,this.DiamondsNum=0,this.GetDiamondsNum=0,this.ProductId=""};a.JsonDiamondsRecharge=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("DiamondsRecharge",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonDiamondsRecharge\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.RechargeID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonDiamondsRecharge=function(e){return this.data.get(e)},e.prototype.getDiamondsNum=function(e){return this.data.get(e).DiamondsNum},e.prototype.getGetDiamondsNum=function(e){return this.data.get(e).GetDiamondsNum},e.prototype.getProductId=function(e){return this.data.get(e).ProductId},e.getMaxRechargeID=function(){return 6},e.prototype.getJsonData=function(){return this.data},e._instance=null,e}();a.DiamondsRechargeManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],DingYueManager:[function(e,t,a){"use strict";cc._RF.push(t,"173bbbxjjJEronUtwPqt8Y1","DingYueManager"),Object.defineProperty(a,"__esModule",{value:!0}),a.DingYueManager=void 0;var n=e("../Constants"),o=e("../Storage/StorageConfig"),i=e("../Storage/StorageManager"),r=e("./PayManager"),s=function(){function e(){this.week_info=null,this.month_info=null,this.quarter_info=null}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.initCardInfo()},e.prototype.initCardInfo=function(){},e.prototype.setCardInfo=function(e){for(var t=0;t<e.length;t++){var a=e[t];switch(a.pay_id){case"b101":this.month_info=a;break;case"b102":this.quarter_info=a;break;case"c502":this.week_info=a}}},e.prototype.getWeekInfo=function(){return n.IsDebug&&this.week_info&&(this.week_info.is_buy=r.PayManager.getInstance().getPayNum(this.week_info.pay_id)>0),this.week_info},e.prototype.getMonthCardInfo=function(){return n.IsDebug&&this.month_info&&(this.month_info.is_buy=r.PayManager.getInstance().getPayNum(this.month_info.pay_id)>0),this.month_info},e.prototype.getQuarterCardInfo=function(){return n.IsDebug&&(this.quarter_info.is_buy=r.PayManager.getInstance().getPayNum(this.quarter_info.pay_id)>0),this.quarter_info},e.prototype.getTodayIsGet=function(e){return i.TheStorageManager.getInstance().getInt(o.StorageKey.DingYueGetState+e,0)>0},e.prototype.saveTodayGet=function(e,t){var a=t?1:0;return i.TheStorageManager.getInstance().setItem(o.StorageKey.DingYueGetState+e,a)},e.prototype.resetTodayGetState=function(){i.TheStorageManager.getInstance().setItem(o.StorageKey.DingYueGetState+1001,0),i.TheStorageManager.getInstance().setItem(o.StorageKey.DingYueGetState+2001,0)},e._instance=null,e}();a.DingYueManager=s,cc._RF.pop()},{"../Constants":"Constants","../Storage/StorageConfig":"StorageConfig","../Storage/StorageManager":"StorageManager","./PayManager":"PayManager"}],DrawCardInformation:[function(e,t,a){"use strict";cc._RF.push(t,"f7149ONlu1HUoLbLKMNIkos","DrawCardInformation"),Object.defineProperty(a,"__esModule",{value:!0}),a.DrawCardInformationManager=a.JsonDrawCardInformation=void 0;var n=e("../Loading/LoadManager"),o=function(){this.CardPoolID=0,this.CardPoolType=0,this.OneDrawPropsID_1=0,this.OneDrawPropsSpend_1=0,this.TenDrawPropsSpend_1=0,this.OneDrawPropsID_2=0,this.OneDrawPropsSpend_2=0,this.TenDrawPropsSpend_2=0};a.JsonDrawCardInformation=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("DrawCardInformation",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonDrawCardInformation\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.CardPoolID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonDrawCardInformation=function(e){return this.data.get(e)},e.prototype.getCardPoolType=function(e){return this.data.get(e).CardPoolType},e.prototype.getOneDrawPropsID_1=function(e){return this.data.get(e).OneDrawPropsID_1},e.prototype.getOneDrawPropsSpend_1=function(e){return this.data.get(e).OneDrawPropsSpend_1},e.prototype.getTenDrawPropsSpend_1=function(e){return this.data.get(e).TenDrawPropsSpend_1},e.prototype.getOneDrawPropsID_2=function(e){return this.data.get(e).OneDrawPropsID_2},e.prototype.getOneDrawPropsSpend_2=function(e){return this.data.get(e).OneDrawPropsSpend_2},e.prototype.getTenDrawPropsSpend_2=function(e){return this.data.get(e).TenDrawPropsSpend_2},e.getMaxCardPoolID=function(){return 3001},e._instance=null,e}();a.DrawCardInformationManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],DrawCardProbability:[function(e,t,a){"use strict";cc._RF.push(t,"8799bPjsBVHgYlNglhy6Hfq","DrawCardProbability"),Object.defineProperty(a,"__esModule",{value:!0}),a.DrawCardProbabilityManager=a.JsonDrawCardProbability=void 0;var n=e("../Loading/LoadManager"),o=function(){this.ProbabilityID=0,this.PropbabilityText=0,this.PropbabilityNum=0};a.JsonDrawCardProbability=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("DrawCardProbability",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonDrawCardProbability\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.ProbabilityID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonDrawCardProbability=function(e){return this.data.get(e)},e.prototype.getPropbabilityText=function(e){return this.data.get(e).PropbabilityText},e.prototype.getPropbabilityNum=function(e){return this.data.get(e).PropbabilityNum},e.getMaxProbabilityID=function(){return 10},e.prototype.getData=function(){var e=[];return this.data.forEach(function(t){e.push(t)}),e},e._instance=null,e}();a.DrawCardProbabilityManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],EWStarUpCost:[function(e,t,a){"use strict";cc._RF.push(t,"f3d33EP0xtDfpHQxJ3xPsHM","EWStarUpCost"),Object.defineProperty(a,"__esModule",{value:!0}),a.EWStarUpCostManager=a.JsonEWStarUpCost=void 0;var n=e("../Loading/LoadManager"),o=function(){this.StarUp=0,this.ExclusiveWeaponQuality=0,this.Stage=0,this.CostNum=0};a.JsonEWStarUpCost=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("EWStarUpCost",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonEWStarUpCost\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.StarUp,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonEWStarUpCost=function(e){return this.data.get(e)},e.prototype.getExclusiveWeaponQuality=function(e){return this.data.get(e).ExclusiveWeaponQuality},e.prototype.getStage=function(e){return this.data.get(e).Stage},e.prototype.getCostNum=function(e){return this.data.get(e).CostNum},e.getMaxStarUp=function(){return 1},e._instance=null,e}();a.EWStarUpCostManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],EWUnlockCost:[function(e,t,a){"use strict";cc._RF.push(t,"cbe6aggftdD1LL72zvHIHS6","EWUnlockCost"),Object.defineProperty(a,"__esModule",{value:!0}),a.EWUnlockCostManager=a.JsonEWUnlockCost=void 0;var n=e("../Loading/LoadManager"),o=function(){this.ExclusiveWeaponQuality=0,this.CostFragment=0};a.JsonEWUnlockCost=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("EWUnlockCost",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonEWUnlockCost\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.ExclusiveWeaponQuality,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonEWUnlockCost=function(e){return this.data.get(e)},e.prototype.getCostFragment=function(e){return this.data.get(e).CostFragment},e.getMaxExclusiveWeaponQuality=function(){return 6},e._instance=null,e}();a.EWUnlockCostManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],EggCumulative:[function(e,t,a){"use strict";cc._RF.push(t,"87f16CjF0tAG4m3sX3MytRj","EggCumulative"),Object.defineProperty(a,"__esModule",{value:!0}),a.EggCumulativeManager=a.JsonEggCumulative=void 0;var n=e("../Loading/LoadManager"),o=function(){this.CumulativeEggsRewardID=0,this.EggsType=0,this.CumulativeEggsDrawingTimes=0,this.ItemID=0,this.RewardNum=0};a.JsonEggCumulative=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("EggCumulative",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonEggCumulative\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.CumulativeEggsRewardID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonEggCumulative=function(e){return this.data.get(e)},e.prototype.getEggsType=function(e){return this.data.get(e).EggsType},e.prototype.getCumulativeEggsDrawingTimes=function(e){return this.data.get(e).CumulativeEggsDrawingTimes},e.prototype.getItemID=function(e){return this.data.get(e).ItemID},e.prototype.getRewardNum=function(e){return this.data.get(e).RewardNum},e.getMaxCumulativeEggsRewardID=function(){return 200020},e.prototype.getTakeEggRewardList=function(e){var t=new Array;return this.data.forEach(function(a){a.EggsType==e&&t.push(a)}),t},e._instance=null,e}();a.EggCumulativeManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],EggInformation:[function(e,t,a){"use strict";cc._RF.push(t,"66e90Doc5ROXbkscccBbe/5","EggInformation"),Object.defineProperty(a,"__esModule",{value:!0}),a.EggInformationManager=a.JsonEggInformation=void 0;var n=e("../Loading/LoadManager"),o=function(){this.EggsID=0,this.EggsType=0,this.EggsReward=0,this.EggPropID_1=0,this.EggPropNum_1=0,this.TenEggProp_1=0,this.EggPropID_2=0,this.EggPropNum_2=0,this.TenEggProp_2=0};a.JsonEggInformation=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("EggInformation",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonEggInformation\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.EggsID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonEggInformation=function(e){return this.data.get(e)},e.prototype.getEggsType=function(e){return this.data.get(e).EggsType},e.prototype.getEggsReward=function(e){return this.data.get(e).EggsReward},e.prototype.getEggPropID_1=function(e){return this.data.get(e).EggPropID_1},e.prototype.getEggPropNum_1=function(e){return this.data.get(e).EggPropNum_1},e.prototype.getTenEggProp_1=function(e){return this.data.get(e).TenEggProp_1},e.prototype.getEggPropID_2=function(e){return this.data.get(e).EggPropID_2},e.prototype.getEggPropNum_2=function(e){return this.data.get(e).EggPropNum_2},e.prototype.getTenEggProp_2=function(e){return this.data.get(e).TenEggProp_2},e.getMaxEggsID=function(){return 20001},e._instance=null,e}();a.EggInformationManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],Elite1:[function(e,t,a){"use strict";cc._RF.push(t,"9a7b7ZL8YxC9rz/F2J5yb2r","Elite1");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../Enemy/EnemyConfig"),c=e("../../Game/GameEffectsManager"),l=e("../../GameManager"),g=e("../../Hero/Game/HeroConfig"),u=e("../../Tools/MyTool"),p=e("../../Wall/WallManager"),d=e("../MonsterNewNormal"),h=cc._decorator,f=h.ccclass,_=(h.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.chongci_juli=0,t.is_chongci=!1,t.is_xuli=!1,t.chong_ci_speed=1e3,t.jiasu=200,t.cur_jiasu=0,t.is_release_skill=!1,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),c.GameEffectsManager.getInstance().addEffectPoolById(c.GameEffectId.monster37_shitouren,1),e.prototype.addMonsterNormalInited.call(this,this.onMonsterNormalInited),this.addXuanYunListen(this.onXuanYunResult)},t.prototype.onMonsterNormalInited=function(){this.chongci_juli=this.skill_data.getCastingRange(1),this.is_chongci=!1,this.cur_jiasu=0,this.is_release_skill=!1},t.prototype.onXuanYunResult=function(t){t?this.startXuanYun():e.prototype.getIsDie.call(this)||(this.startIdle(),this.setEnemyState(s.Enemy_State.move))},t.prototype.startXuanYun=function(){this.unschedule(this.startChongCi),this.is_xuli=!1},t.prototype.startSkill=function(){this.setEnemyState(s.Enemy_State.skill),e.prototype.playSpinAnimaton.call(this,"Side_Skill1_1",!0,null,null),this.is_xuli=!0,this.scheduleOnce(this.startChongCi,3),this.is_release_skill=!0},t.prototype.startChongCi=function(){1==this.is_xuli&&(this.is_xuli=!1,this.is_chongci=!0,this.cur_toughness+=1,e.prototype.playSpinAnimaton.call(this,"Side_Skill1_2",!0,null,null))},t.prototype.endChongCi=function(t){var a=this;this.cur_toughness-=1,this.is_chongci=!1,e.prototype.playSpinAnimaton.call(this,"Side_Skill1_3",!1,null,function(){a.startIdle(),a.setEnemyState(s.Enemy_State.move)}),t.beInjured(this.getAttData(g.DamageType.Skill,!1,this.skill_data.getSkillValue1(1))).getDamageNum()>0&&c.GameEffectsManager.getInstance().createGameEffectById(c.GameEffectId.monster37_shitouren,cc.v2(this.node.x,t.getWallMaxYY())),cc.tween(this.node).by(.2,{y:this.base_data.AttackDistance}).start(),u.default.randomSceneShakeSmall()},t.prototype.update=function(t){l.default.getInstance().cur_game_state!=r.GameState.Game_Playing||this.getIsDie()||(e.prototype.update.call(this,t),this.checkSkill(t))},t.prototype.checkSkill=function(e){var t=this;if(this.getEnemyState()!=s.Enemy_State.skill){if(1==this.is_release_skill)return;var a=p.default.getInstance().getAllWall(),n=null;a.forEach(function(e){var a=Math.abs(t.node.y-e.getWallMaxYY());t.node.y>=e.getWallMaxYY()&&a<=t.chongci_juli&&a>t.base_data.AttackDistance&&(n=e)}),n&&this.startSkill()}else if(this.is_chongci){this.cur_jiasu+=e*this.jiasu,this.node.y-=e*(this.chong_ci_speed+this.cur_jiasu),a=p.default.getInstance().getAllWall();var o=null;if(a.forEach(function(e){t.node.y>=e.getWallMaxYY()&&Math.abs(t.node.y-e.getWallMaxYY())<=t.base_data.AttackDistance/2&&(o=e)}),o)this.endChongCi(o);else{var i=p.default.getInstance().getMainWall();this.node.y<=i.getWallMaxYY()&&this.endChongCi(i)}}},i([f],t)}(d.default));a.default=_,cc._RF.pop()},{"../../Constants":"Constants","../../Enemy/EnemyConfig":"EnemyConfig","../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../../Hero/Game/HeroConfig":"HeroConfig","../../Tools/MyTool":"MyTool","../../Wall/WallManager":"WallManager","../MonsterNewNormal":"MonsterNewNormal"}],Elite72:[function(e,t,a){"use strict";cc._RF.push(t,"9d312Tvw/JOzbTCihFR9DEX","Elite72");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../MonsterNewNormal"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addMonsterNormalInited.call(this,this.onMonsterNormalInited)},t.prototype.onMonsterNormalInited=function(){this.cur_hp=this.max_hp=2*this.monster_data.Health},i([c],t)}(r.default));a.default=l,cc._RF.pop()},{"../MonsterNewNormal":"MonsterNewNormal"}],Elite73:[function(e,t,a){"use strict";cc._RF.push(t,"71c83bAsytP2I+g15u5Xnr4","Elite73");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../Enemy/EnemyConfig"),c=e("../../Game/GameEffectsManager"),l=e("../../GameManager"),g=e("../../Hero/Game/HeroConfig"),u=e("../../Tools/MyTool"),p=e("../../Wall/WallManager"),d=e("../MonsterData"),h=e("../MonsterNewNormal"),f=cc._decorator,_=f.ccclass,m=(f.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.is_skill_state=!1,t.gou=null,t.is_gou_ok=!1,t.lian_jiange=65,t.lian_height=74,t.lian_jiaoji=-9,t.lian_root=null,t.dis_yy=-1e3,t.gou_speed=4e3,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addMonsterNormalInited.call(this,this.onMonsterNormalInited),e.prototype.addMonsterNormalXuanYun.call(this,this.onMonsterNormalXuanYun),e.prototype.addMonsterNormalDeath.call(this,this.onMonsterNormalDeath),c.GameEffectsManager.getInstance().addEffectPoolById(c.GameEffectId.monster73_skill_lian,8),c.GameEffectsManager.getInstance().addEffectPoolById(c.GameEffectId.monster73_skill_lian_root),c.GameEffectsManager.getInstance().addEffectPoolById(c.GameEffectId.monster73_skill_mao)},t.prototype.onMonsterNormalInited=function(){this.dis_yy=-1e3},t.prototype.onMonsterNormalXuanYun=function(){},t.prototype.onMonsterNormalDeath=function(){this.is_skill_state=!1,this.destroyLian()},t.prototype.startSkill=function(){var t=this,a=p.default.getInstance().getAllWall(),n=null,o=0;if(a.forEach(function(e){if(o=Math.abs(t.node.y-e.getWallMaxYY()),t.node.y>=e.getWallMaxYY()&&o>80&&o<500){var a=e.getWallMaxYY()+80;a>t.dis_yy&&(n=e,t.dis_yy=a)}}),n){this.setEnemyState(s.Enemy_State.skill),this.skill_cold_down[0]=this.skill_data.getSkillColdDown(1);var i=this.getAttPos(),r=new d.KeyFrameData;r.name="Skill",r.callback=function(){t.is_skill_state=!0,t.skill_cold_down[0]=t.skill_data.getSkillColdDown(1),t.lian_root=c.GameEffectsManager.getInstance().createGameEffectById(c.GameEffectId.monster73_skill_lian_root,i),t.gou=c.GameEffectsManager.getInstance().createGameEffectById(c.GameEffectId.monster73_skill_mao,i),t.node.scaleX>0?t.gou.angle=200:t.gou.angle=130;for(var e=Math.ceil(o/t.lian_jiange)+4,a=0;a<e;a++)c.GameEffectsManager.getInstance().createGameEffectForParent(c.GameEffectId.monster73_skill_lian,cc.v2(0,65*a),t.lian_root);t.lian_root.height=0,t.lian_root.angle=180},e.prototype.playSpinAnimaton.call(this,"Side_Skill_1",!1,r,function(){e.prototype.playSpinAnimaton.call(t,"Side_Skill_2",!0)})}},t.prototype.endSkill=function(){var t=this;this.is_skill_state=!1,this.destroyLian(),e.prototype.playSpinAnimaton.call(this,"Side_Skill_3",!1,null,function(){0==t.getIsDie()&&(t.startIdle(),t.setEnemyState(s.Enemy_State.move))})},t.prototype.destroyLian=function(){if(this.gou&&(c.GameEffectsManager.getInstance().destroyGameEffectById(c.GameEffectId.monster73_skill_mao,this.gou),this.gou=null),this.lian_root){for(var e=this.lian_root.childrenCount-1;e>=0;e--)c.GameEffectsManager.getInstance().destroyGameEffectById(c.GameEffectId.monster73_skill_lian,this.lian_root.children[e]);c.GameEffectsManager.getInstance().destroyGameEffectById(c.GameEffectId.monster73_skill_lian_root,this.lian_root),this.lian_root=null}},t.prototype.onGouColliderWall=function(){this.is_gou_ok=!0},t.prototype.update=function(t){var a=this;if(e.prototype.update.call(this,t),this.checkSkill(t),this.is_skill_state&&l.default.getInstance().cur_game_state==r.GameState.Game_Playing&&this.gou){if(this.isHaveDeBuff(g.BuffId.Hero_MeiMo_Active_MeiHuo))return void this.onMonsterNormalXuanYun(!0);var n=e.prototype.getAttPos.call(this);if(this.gou.y<=this.dis_yy){this.gou.y=this.dis_yy;var o=this.gou.getPosition().sub(this.getAttPos()),i=Math.atan2(o.y,o.x);this.node.y=this.node.y+Math.sin(i)*t*this.gou_speed/3,this.node.x=this.node.x+Math.cos(i)*t*this.gou_speed/3,n=e.prototype.getAttPos.call(this);var s=p.default.getInstance().getAllWall(),c=null;if(s.forEach(function(e){a.node.y>=e.getWallMaxYY()&&(c=e)}),o=this.gou.getPosition().sub(n),this.lian_root.height=o.mag(),i=Math.atan2(o.y,o.x),this.lian_root.angle=u.default.radianToAngle(i)-90,this.lian_root.setPosition(n),n.y<=c.getWallMaxYY()+80)return void this.endSkill()}else this.gou.y-=t*this.gou_speed,o=this.gou.getPosition().sub(n),this.lian_root.height=o.mag(),i=Math.atan2(o.y,o.x),this.lian_root.angle=u.default.radianToAngle(i)-90,this.lian_root.setPosition(n),(s=p.default.getInstance().getAllWall()).forEach(function(e){if(a.gou.y>=e.getWallMaxYY()){var t=e.getWallMaxYY()+80;t>a.dis_yy&&(a.dis_yy=t)}});if(n.y<=this.dis_yy)return void this.endSkill()}},t.prototype.checkSkill=function(e){for(var t=0;t<1;t++)this.skill_cold_down[t]>0?(this.skill_cold_down[t]-=e,this.skill_cold_down[t]<0&&(this.skill_cold_down[t]=0,this.startSkill())):this.startSkill()},i([_],t)}(h.default));a.default=m,cc._RF.pop()},{"../../Constants":"Constants","../../Enemy/EnemyConfig":"EnemyConfig","../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../../Hero/Game/HeroConfig":"HeroConfig","../../Tools/MyTool":"MyTool","../../Wall/WallManager":"WallManager","../MonsterData":"MonsterData","../MonsterNewNormal":"MonsterNewNormal"}],Elite76:[function(e,t,a){"use strict";cc._RF.push(t,"01022Oy4Q9H4pC7Semzd3fZ","Elite76");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../Game/GameEffectsManager"),c=e("../../Game/GroundManager"),l=e("../../GameManager"),g=e("../../Hero/Game/HeroConfig"),u=e("../Monster"),p=e("../MonsterManager"),d=e("../MonsterNewNormal"),h=cc._decorator,f=h.ccclass,_=(h.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.light=null,t.halo_data=null,t.is_loaded=!1,t.halo_radius=200,t}return o(t,e),t.prototype.onLoad=function(){var t=this;e.prototype.onLoad.call(this),e.prototype.addMonsterNormalInited.call(this,this.onMonsterNormalInited),e.prototype.addMonsterNormalDeath.call(this,this.onMonsterNormalDeath),s.GameEffectsManager.getInstance().addEffectPoolById(s.GameEffectId.monster76_attack_guanghuan,1,function(){t.light||(t.light=c.default.getInstance().createGameEffectById(s.GameEffectId.monster76_attack_guanghuan,t.node.getPosition())),t.is_loaded=!0})},t.prototype.onMonsterNormalInited=function(){this.halo_radius=this.skill_data.getSkillValue1(1),this.halo_data=new g.HaloData,this.halo_data.halo_id=g.HaloId.Monster76_JianDuZhe_Skill_Halo,this.halo_data.halo_value=[this.skill_data.getSkillValue2(1)],this.halo_data.halo_source_uuid=this.uuid,this.is_loaded&&(this.light||(this.light=c.default.getInstance().createGameEffectById(s.GameEffectId.monster76_attack_guanghuan,this.node.getPosition())))},t.prototype.onMonsterNormalDeath=function(){this.light&&(s.GameEffectsManager.getInstance().destroyGameEffectById(s.GameEffectId.monster76_attack_guanghuan,this.light),this.light=null);var e=p.default.getInstance().node.children,t=e.length;if(t<=0)return null;for(var a=0;a<t;a++){var n=e[a].getComponent(u.default);n&&n.getIsCanCheck()&&n.subHalo(g.HaloId.Monster76_JianDuZhe_Skill_Halo,this.uuid)}},t.prototype.update=function(t){l.default.getInstance().cur_game_state!=r.GameState.Game_Playing||this.getIsDie()||(e.prototype.update.call(this,t),this.checkSkill(),this.light&&this.light.setPosition(this.node.getPosition()))},t.prototype.checkSkill=function(){var e=p.default.getInstance().node.children,t=e.length;if(t<=0)return null;for(var a=0;a<t;a++){var n=e[a].getComponent(u.default);n&&n.getIsCanCheck()&&(this.getCenterPos().sub(n.getCenterPos()).mag()<=200?n.addHalo(this.halo_data):n.subHalo(g.HaloId.Monster76_JianDuZhe_Skill_Halo,this.uuid))}},i([f],t)}(d.default));a.default=_,cc._RF.pop()},{"../../Constants":"Constants","../../Game/GameEffectsManager":"GameEffectsManager","../../Game/GroundManager":"GroundManager","../../GameManager":"GameManager","../../Hero/Game/HeroConfig":"HeroConfig","../Monster":"Monster","../MonsterManager":"MonsterManager","../MonsterNewNormal":"MonsterNewNormal"}],Elite77:[function(e,t,a){"use strict";cc._RF.push(t,"62ca7ZMCtJMpZccRAOd4ywe","Elite77");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../MonsterNewNormal"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addMonsterNormalInited.call(this,this.onMonsterNormalInited)},t.prototype.onMonsterNormalInited=function(){switch(this.monster_id){case 20771:this.cur_hp=this.max_hp=2*this.monster_data.Health;break;case 20772:this.cur_hp=this.max_hp=2.5*this.monster_data.Health}},i([c],t)}(r.default));a.default=l,cc._RF.pop()},{"../MonsterNewNormal":"MonsterNewNormal"}],Elite78:[function(e,t,a){"use strict";cc._RF.push(t,"76505mnVClF6qDQw4vGib5b","Elite78");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r,s=e("../../Constants"),c=e("../../Enemy/EnemyConfig"),l=e("../../Game/GameEffectsManager"),g=e("../../GameManager"),u=e("../../Hero/Game/HeroConfig"),p=e("../../Wall/WallManager"),d=e("../MonsterNewNormal"),h=e("./EliteAtt78");(function(e){e.Idle="Side_Walk",e.attack1="Side_Attack",e.run="Run",e.hurt1="Hurt",e.skill1_1="Side_Skill1_1",e.skill1_2="Side_Skill1_2",e.skill1_3="Side_Skill1_3",e.dead="Dead"})(r||(r={}));var f=cc._decorator,_=f.ccclass,m=(f.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skill_waiting=!1,t.yindao_jishu=0,t.yindao_time=10,t.is_yindao=!1,t.launch_num=0,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.monster78_attack_bullect,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.monster78_skill_bullect,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.monster78_skill_bullect_hit,4),this.addMonsterNormalDeath(this.onMonsterNormalDeath),this.addXuanYunListen(this.onXuanYunResult),this.addMonsterNormalInited(this.onMonsterIsInited)},t.prototype.onMonsterIsInited=function(){this.skill_cd=this.skill_data.getSkillColdDown(1)},t.prototype.startSkill=function(){var t=this;this.skill_jishu=0,e.prototype.isHaveDeBuff.call(this,u.BuffId.Hero_XuanYun)||(this.skill_waiting=!1,e.prototype.setEnemyState.call(this,c.Enemy_State.skill),e.prototype.playSpinAnimaton.call(this,r.skill1_1,!1,null,function(){e.prototype.playSpinAnimaton.call(t,r.skill1_2,!0),t.is_yindao=!0,t.skill_jishu=0,t.yindao_time=10}))},t.prototype.startLaunch=function(){for(var t=this,a=0,n=0;n<this.skill_data.getSkillValue1(1);n++)this.scheduleOnce(function(){if(!t.isHaveDeBuff(u.BuffId.Hero_XuanYun)){a++;var n=64*Math.random()-32,o=cc.v2(t.node.x+n,t.node.y+128),i=n<0?-(80+80*Math.random()):80+80*Math.random(),r=cc.v2(i+o.x,o.y+40*Math.random()+80),s=cc.v2(o.x+i/3,g.default.getInstance().enemy_att_y).sub(r),c=Math.atan2(s.y,s.x),p=l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.monster78_skill_bullect,o),d=p.getComponent(h.default);d.init(e.prototype.getAttData.call(t,u.DamageType.Skill,!0,t.skill_data.getSkillValue2(1)),l.GameEffectId.monster78_skill_bullect,2e3,c,t.node.y),d.is_can_move=!1,cc.tween(p).to((.75-.05*a)*g.default.getInstance().getGameRate(),{x:r.x,y:r.y},{easing:"quadOut"}).call(function(){d.startFly()}).start()}},.2*n);this.launch_num++},t.prototype.onMonsterNormalDeath=function(){this.unscheduleAllCallbacks(),this.is_yindao=!1},t.prototype.onXuanYunResult=function(t){t?this.startXuanYun():(this.att_jishu=0,this.startIdle(),e.prototype.setEnemyState.call(this,c.Enemy_State.move),this.att_wall&&this.setMoveDir(Math.random()>.5?Math.PI:0))},t.prototype.startXuanYun=function(){this.skill_waiting=!1,this.is_yindao=!1,this.yindao_jishu=0,this.att_jishu=0},t.prototype.update=function(t){g.default.getInstance().cur_game_state!=s.GameState.Game_Playing||this.getIsDie()||(e.prototype.update.call(this,t),this.checkSkill(t))},t.prototype.checkSkill=function(t){var a=this;if(this.skill_jishu+=t,!this.isHaveDeBuff(u.BuffId.Hero_XuanYun)){if(0==this.is_yindao&&this.skill_jishu>=this.skill_cd){var n=p.default.getInstance().getAllWall(),o=null;n.forEach(function(e){a.node.y>=e.getWallMaxYY()&&Math.abs(a.node.y-e.getWallMaxYY())<=a.base_data.AttackDistance&&(o=e)}),o&&(this.skill_jishu=this.att_jiange,this.startSkill())}if(1==this.is_yindao&&this.yindao_time>0){if(this.isHaveDeBuff(u.BuffId.Hero_MeiMo_Active_MeiHuo))return void this.onXuanYunResult(!0);if(this.yindao_time-=t,this.yindao_time<=0)return this.is_yindao=!1,this.yindao_time=10,this.startIdle(),e.prototype.setEnemyState.call(this,c.Enemy_State.move),void(this.att_wall&&this.setMoveDir(Math.random()>.5?Math.PI:0));this.yindao_jishu+=t,this.yindao_jishu>=1&&(this.yindao_jishu=0,this.startLaunch())}}},i([_],t)}(d.default));a.default=m,cc._RF.pop()},{"../../Constants":"Constants","../../Enemy/EnemyConfig":"EnemyConfig","../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../../Hero/Game/HeroConfig":"HeroConfig","../../Wall/WallManager":"WallManager","../MonsterNewNormal":"MonsterNewNormal","./EliteAtt78":"EliteAtt78"}],EliteAtt65:[function(e,t,a){"use strict";cc._RF.push(t,"74967U2XbRJTYpd1DRvIddm","EliteAtt65");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Boss/BossBullet"),s=e("../../Game/GameEffectsManager"),c=e("../../GameManager"),l=e("../../Hero/Game/BuffData"),g=e("../../Hero/Game/HeroConfig"),u=e("../../Wall/WallConfig"),p=e("../MonsterData"),d=cc._decorator,h=d.ccclass,f=(d.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.att_hero=g.Hero_Type.NULL,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.addCollisionWallListen.call(this,this.onCollisionWall)},t.prototype.setAttHero=function(e){this.att_hero=e},t.prototype.onCollisionWall=function(t){if(t){var a=t.beInjured(this.monster_att_data);if(e.prototype.destroySelf.call(this),a.getDamageNum()>0)if(a.feedback_type==p.FeedBackType.BaoJi){if(s.GameEffectsManager.getInstance().createGameEffectById(s.GameEffectId.monster65_shuangjuren_att_hit_crit,this.node.getPosition()),t.getWallType()==u.WallType.Main&&this.att_hero!=g.Hero_Type.NULL){var n=new l.BuffData;n.buff_id=g.BuffId.Monster_XuanYun,n.game_effect_id=s.GameEffectId.xuanyun,n.remain_time=1,n.buff_type=g.BuffType.Vertigo,c.default.getInstance().all_hero.get(this.att_hero).addDeBuff(n)}}else s.GameEffectsManager.getInstance().createGameEffectById(s.GameEffectId.monster65_shuangjuren_att_hit,this.node.getPosition())}},i([h],t)}(r.default));a.default=f,cc._RF.pop()},{"../../Boss/BossBullet":"BossBullet","../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../../Hero/Game/BuffData":"BuffData","../../Hero/Game/HeroConfig":"HeroConfig","../../Wall/WallConfig":"WallConfig","../MonsterData":"MonsterData"}],EliteAtt67:[function(e,t,a){"use strict";cc._RF.push(t,"7152fK29rZA7bUnOZTANWk/","EliteAtt67");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Boss/BossBullet"),s=e("../../Game/GameEffectsManager"),c=e("../../Hero/Game/HeroConfig"),l=cc._decorator,g=l.ccclass,u=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.att_hero=c.Hero_Type.NULL,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.addCollisionWallListen.call(this,this.onCollisionWall)},t.prototype.onCollisionWall=function(t){if(t){var a=t.beInjured(this.monster_att_data);e.prototype.destroySelf.call(this),a.getDamageNum()>0&&s.GameEffectsManager.getInstance().createGameEffectById(s.GameEffectId.monster67_shuijingyoulong_att_hit,this.node.getPosition())}},i([g],t)}(r.default));a.default=u,cc._RF.pop()},{"../../Boss/BossBullet":"BossBullet","../../Game/GameEffectsManager":"GameEffectsManager","../../Hero/Game/HeroConfig":"HeroConfig"}],EliteAtt69:[function(e,t,a){"use strict";cc._RF.push(t,"8567dgOHfRGVr610GsZ3jIO","EliteAtt69");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Boss/BossBullet"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){e.prototype.addCollisionWallListen.call(this,this.onCollisionWall)},t.prototype.onCollisionWall=function(t){t&&(t.beInjured(this.monster_att_data),e.prototype.destroySelf.call(this))},i([c],t)}(r.default));a.default=l,cc._RF.pop()},{"../../Boss/BossBullet":"BossBullet"}],EliteAtt78:[function(e,t,a){"use strict";cc._RF.push(t,"79c83vlvx9DJoavTG74W8vs","EliteAtt78");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Boss/BossBullet"),s=e("../../Game/GameEffectsManager"),c=cc._decorator,l=c.ccclass,g=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){e.prototype.addCollisionWallListen.call(this,this.onCollisionWall)},t.prototype.onCollisionWall=function(t){if(t){this.monster_att_data.is_big=!1;var a=t.beInjured(this.monster_att_data);e.prototype.destroySelf.call(this),a.getDamageNum()>0&&s.GameEffectsManager.getInstance().createGameEffectById(s.GameEffectId.monster78_skill_bullect_hit,this.node.getPosition())}},i([l],t)}(r.default));a.default=g,cc._RF.pop()},{"../../Boss/BossBullet":"BossBullet","../../Game/GameEffectsManager":"GameEffectsManager"}],EllipseMove:[function(e,t,a){"use strict";cc._RF.push(t,"f459e6b5nFODZ3WbqCxZy/f","EllipseMove");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.revolve_num=1,t.weapons=[],t.ellipse_A=64,t.ellipse_B=32,t.ellipse_Oxy=cc.v2(0,0),t.revolve_speed=360,t.cur_angle=0,t.tilt_angle=0,t.weapon_streak=null,t}return o(t,e),t.prototype.init=function(e,t,a){this.cur_angle=e,this.tilt_angle=t,this.ellipse_Oxy=a,this.update(0)},t.prototype.refreshAngle=function(e){this.cur_angle=e},t.prototype.update=function(e){var t=0,a=0;if(0==this.tilt_angle){this.cur_angle=(this.cur_angle+this.revolve_speed*e)%360;var n=Math.PI*this.cur_angle/180;t=this.ellipse_Oxy.x+this.ellipse_A*Math.cos(n),a=this.ellipse_Oxy.y+this.ellipse_B*Math.sin(n)}else{this.tilt_angle>0?this.cur_angle=(this.cur_angle+this.revolve_speed*e)%360:this.cur_angle=(this.cur_angle-this.revolve_speed*e)%360,n=Math.PI*this.cur_angle/180;var o=Math.cos(n),i=Math.sin(n),r=this.tilt_angle,s=Math.cos(r),c=Math.sin(r);t=this.ellipse_Oxy.x+this.ellipse_A*o*s-this.ellipse_B*i*c,a=this.ellipse_Oxy.y+this.ellipse_B*o*c+this.ellipse_B*i*s}this.node.x=t,this.node.y=a,this.node.zIndex=this.node.y>this.ellipse_Oxy.y?0:3},i([c()],t.prototype,"ellipse_A",void 0),i([c()],t.prototype,"ellipse_B",void 0),i([c()],t.prototype,"ellipse_Oxy",void 0),i([c()],t.prototype,"cur_angle",void 0),i([s],t)}(cc.Component);a.default=l,cc._RF.pop()},{}],EndlessBuff:[function(e,t,a){"use strict";cc._RF.push(t,"74b9bKj2SRBxp6eEhLmSznD","EndlessBuff"),Object.defineProperty(a,"__esModule",{value:!0}),a.EndlessBuffManager=a.JsonEndlessBuff=void 0;var n=e("../../Loading/LoadManager"),o=e("../../Tools/MyTool"),i=function(){this.EndlessBuff=0,this.Rarity=0,this.Type=0,this.Parameter=0,this.Weight=0};a.JsonEndlessBuff=i;var r=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("EndlessBuff",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonEndlessBuff\u6210\u529f"),e.data=new Map;for(var n=a.json,o=0;o<n.length;o++){var r=new i;r=n[o],e.data.set(r.EndlessBuff,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonEndlessBuff=function(e){return this.data.get(e)},e.prototype.getRarity=function(e){return this.data.get(e).Rarity},e.prototype.getType=function(e){return this.data.get(e).Type},e.prototype.getParameter=function(e){return this.data.get(e).Parameter},e.prototype.getWeight=function(e){return this.data.get(e).Weight},e.getMaxEndlessBuff=function(){return 511},e.prototype.getThreeWeight=function(){var e=[],t=[];this.data.forEach(function(a){e.push(a.Weight),t.push(a.EndlessBuff)});for(var a=o.default.getWeightIndexs(e,3),n=[],i=0;i<a.length;i++)n.push(t[a[i]]);return n},e.prototype.getWeightOrange=function(){var e=[],t=[];this.data.forEach(function(a){a.Rarity>=4&&(e.push(a.Weight),t.push(a.EndlessBuff))});var a=o.default.getWeightIndexs(e,1);return t[a[0]]},e._instance=null,e}();a.EndlessBuffManager=r,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager","../../Tools/MyTool":"MyTool"}],EndlessConfig:[function(e,t,a){"use strict";var n;cc._RF.push(t,"88641TjMRtOLaJRc+eaOLzI","EndlessConfig"),Object.defineProperty(a,"__esModule",{value:!0}),a.EndlessBuff=a.EndlessBuffType=void 0,function(e){e[e.Null=0]="Null",e[e.Attack=1]="Attack",e[e.AttackSpeed=2]="AttackSpeed",e[e.CritRate=3]="CritRate",e[e.CritDamage=4]="CritDamage",e[e.Defense=5]="Defense",e[e.HealthMax=6]="HealthMax",e[e.HealthSec=7]="HealthSec",e[e.HealthTeamAdd=8]="HealthTeamAdd",e[e.DoubleAttack=9]="DoubleAttack",e[e.ActiveSkillCd=10]="ActiveSkillCd",e[e.AddDamage=11]="AddDamage"}(n=a.EndlessBuffType||(a.EndlessBuffType={}));a.EndlessBuff=function(){this.type=n.Null,this.id=0,this.rarity=0,this.value=0},cc._RF.pop()},{}],EndlessLevels:[function(e,t,a){"use strict";cc._RF.push(t,"29608xUcEtIPZXaFB9g6Ws8","EndlessLevels"),Object.defineProperty(a,"__esModule",{value:!0}),a.EndlessLevelsManager=a.JsonEndlessLevels=void 0;var n=e(".././NetWork/HttpManager"),o=e("../Constants"),i=e("../Level/MissionLevel"),r=e("../Loading/LoadManager"),s=e("../Monster/Data/MonsterConfigure"),c=e("../Monster/Data/MonsterGrowthAttributes"),l=e("../multiLanguage/LanguageManager"),g=e("../Tools/MyTool"),u=e("../UserData"),p=e("../UserInfo/UserInfo"),d=function(){this.Round=0,this.LevelLimit_Upper=0,this.LevelLimit_Lower=0,this.MonsterNum=[],this.HpCoefficient=[],this.MonsterTideWave=[],this.TimeInterval=[],this.NormalMonster=[],this.EliteMonster=[],this.ProbabilityOfElite=[]};a.JsonEndlessLevels=d;var h=function(){function e(){this.data=null,this.is_load_completed=!1,this.endless_score=0}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;r.LoadManager.loadJson("EndlessLevels",r.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonEndlessLevels\u6210\u529f"),e.data=new Map;for(var n=a.json,o=0;o<n.length;o++){var i=new d;i=n[o],e.data.set(i.Round,i)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonEndlessLevels=function(e){return this.data.get(e)},e.prototype.getLevelLimit_Upper=function(e){return this.data.get(e).LevelLimit_Upper},e.prototype.getLevelLimit_Lower=function(e){return this.data.get(e).LevelLimit_Lower},e.prototype.getMonsterNum=function(e){return this.data.get(e).MonsterNum},e.prototype.getHpCoefficient=function(e){return this.data.get(e).HpCoefficient},e.prototype.getMonsterTideWave=function(e){return this.data.get(e).MonsterTideWave},e.prototype.getTimeInterval=function(e){return this.data.get(e).TimeInterval},e.prototype.getNormalMonster=function(e){return this.data.get(e).NormalMonster},e.prototype.getEliteMonster=function(e){return this.data.get(e).EliteMonster},e.prototype.getProbabilityOfElite=function(e){return this.data.get(e).ProbabilityOfElite},e.getMaxRound=function(){return 85},e.prototype.getFightingInfo=function(e){var t=new o.FightingInfo;t.title_name=l.default.getInstance().getStrByTextId(800001),t.bg_name="bg/bg_Endless",t.wall_name="bg/bg5_wall";var a=new Array,n=this.getJsonEndlessLevels(e);t.wave_types=n.MonsterTideWave,t.wave_refresh_time=n.TimeInterval;for(var r=0;r<n.MonsterNum.length;r++){var s=new Array,u=n.MonsterNum[r],p=(n.TimeInterval[r]-2)/u;p<0&&(p=0);for(var d=0;d<u;d++){for(var h=g.default.randomRangeInt(n.LevelLimit_Lower,n.LevelLimit_Upper,!0),f=new Array,_=0;_<n.NormalMonster.length;_++){var m=n.NormalMonster[_],y=c.MonsterGrowthAttributesManager.getId(m,h);c.MonsterGrowthAttributesManager.getInstance().getJsonMonsterGrowthAttributes(y)&&f.push(m)}var I=new Array;for(_=0;_<n.EliteMonster.length;_++){var v=n.EliteMonster[_];y=c.MonsterGrowthAttributesManager.getId(v,h),c.MonsterGrowthAttributesManager.getInstance().getJsonMonsterGrowthAttributes(y)&&I.push(v)}f.length<=0&&I.length<=0&&cc.error("\u4e0d\u5b58\u5728\u7b49\u7ea7\uff1a"+h);var M=!1;I.length>0&&(M=Math.random()<n.ProbabilityOfElite[r]);var C;C=M?I[g.default.randomRangeInt(0,I.length)]:f[g.default.randomRangeInt(0,f.length)];var S=new i.TableMonsterData;S.id=C,S.num=1,S.level=h,S.refresh_time=Math.random()*p,s.push(S),t.total_monster_num+=S.num}a.push(s)}return t.monster_datas=a,t},e.prototype.getRound=function(t){var a=1,n=0;return this.data.forEach(function(e){(n+=e.MonsterNum.length)<=t&&(a=e.Round,a+=1)}),a>e.getMaxRound()&&(a=e.getMaxRound()),a},e.prototype.getWave=function(e){var t=0,a=0;return this.data.forEach(function(n,o){e>o&&(a+=n.MonsterNum.length,t=a)}),t},e.prototype.setWave=function(e){e>this.getMaxWave()&&this.saveWave(e)},e.prototype.saveWave=function(e){p.UserInfo.getInstance().waveNumber=e,n.HttpManager.post(n.AccessName.updateUserInfo,this.setCopyWaveJsonString(e))},e.prototype.getMaxWave=function(){return p.UserInfo.getInstance().waveNumber},e.prototype.check=function(){this.data.forEach(function(e){for(var t=0;t<e.MonsterNum.length;t++)for(var a=e.LevelLimit_Lower;a<=e.LevelLimit_Upper;a++){for(var n=new Array,o=0;o<e.NormalMonster.length;o++){var i=e.NormalMonster[o];s.MonsterConfigureManager.getInstance().getJsonMonsterConfigure(i)||console.error("\u4e0d\u5b58\u5728\u602a\u7269id:"+i);var r=c.MonsterGrowthAttributesManager.getId(i,a);c.MonsterGrowthAttributesManager.getInstance().getJsonMonsterGrowthAttributes(r)&&n.push(i)}var l=new Array;for(o=0;o<e.EliteMonster.length;o++){var g=e.EliteMonster[o];s.MonsterConfigureManager.getInstance().getJsonMonsterConfigure(g)||console.error("\u4e0d\u5b58\u5728\u7cbe\u82f1\u602a\u7269id:"+g),r=c.MonsterGrowthAttributesManager.getId(g,a),c.MonsterGrowthAttributesManager.getInstance().getJsonMonsterGrowthAttributes(r)&&l.push(g)}n.length<=0&&l.length<=0&&console.error("\u4e0d\u5b58\u5728\u7b49\u7ea7\uff1a"+a)}})},e.prototype.setCopyWaveJsonString=function(e){var t=u.default.getInstance().getUserID(),a=e;return JSON.stringify({type:9,uid:t,value:a})},e._instance=null,e}();a.EndlessLevelsManager=h,cc._RF.pop()},{".././NetWork/HttpManager":"HttpManager","../Constants":"Constants","../Level/MissionLevel":"MissionLevel","../Loading/LoadManager":"LoadManager","../Monster/Data/MonsterConfigure":"MonsterConfigure","../Monster/Data/MonsterGrowthAttributes":"MonsterGrowthAttributes","../Tools/MyTool":"MyTool","../UserData":"UserData","../UserInfo/UserInfo":"UserInfo","../multiLanguage/LanguageManager":"LanguageManager"}],EndlessReward:[function(e,t,a){"use strict";cc._RF.push(t,"42a8cps+clCJ6olDKG3c59a","EndlessReward"),Object.defineProperty(a,"__esModule",{value:!0}),a.EndlessRewardManager=a.JsonEndlessReward=a.EndlessRewardData=void 0;var n=e("../Loading/LoadManager"),o=function(){this.curData=null,this.nextData=null};a.EndlessRewardData=o;var i=function(){this.RewardLevel=0,this.RewardItem=0,this.RewardNum=0};a.JsonEndlessReward=i;var r=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("EndlessReward",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonEndlessReward\u6210\u529f"),e.data=new Map;for(var n=a.json,o=0;o<n.length;o++){var r=new i;r=n[o],e.data.set(r.RewardLevel,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonEndlessReward=function(e){return this.data.get(e)},e.prototype.getRewardItem=function(e){return this.data.get(e).RewardItem},e.prototype.getRewardNum=function(e){return this.data.get(e).RewardNum},e.getMaxRewardLevel=function(){return 680},e.prototype.getRewardByScore=function(){return new o},e.prototype.getEndlessReward=function(){return new Array},e._instance=null,e}();a.EndlessRewardManager=r,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],EndlessgGameUi:[function(e,t,a){"use strict";cc._RF.push(t,"24fcfU86BpA64enFuGRxoF1","EndlessgGameUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("./EndlessLevels"),s=e("./EndlessReward"),c=cc._decorator,l=c.ccclass,g=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sp_icon=[],t.scoreProgressBar=null,t.icon=null,t.levelLabel=null,t.scoreLabel=null,t}return o(t,e),t.prototype.onLoad=function(){this.scoreProgressBar=this.node.getChildByName("scoreProgressBar").getComponent(cc.ProgressBar),this.icon=this.node.getChildByName("icon").getComponent(cc.Sprite),this.levelLabel=this.node.getChildByName("levelLabel").getComponent(cc.Label),this.scoreLabel=this.node.getChildByName("scoreLabel").getComponent(cc.Label),r.EndlessLevelsManager.getInstance().endless_score=0},t.prototype.refreshData=function(){var e=r.EndlessLevelsManager.getInstance().endless_score,t=s.EndlessRewardManager.getInstance().getRewardByScore(e),a=e-t.curData.IntegralRequirement,n=t.nextData.IntegralRequirement-t.curData.IntegralRequirement;this.scoreProgressBar.progress=a/n+.001,this.scoreLabel.string=e+"/"+t.nextData.IntegralRequirement,this.levelLabel.string=""+t.curData.RewardLevel,this.icon.spriteFrame=this.sp_icon[t.curData.BoxIcon-1]},i([g([cc.SpriteFrame])],t.prototype,"sp_icon",void 0),i([l],t)}(cc.Component);a.default=u,cc._RF.pop()},{"./EndlessLevels":"EndlessLevels","./EndlessReward":"EndlessReward"}],EnemyConfig:[function(e,t,a){"use strict";cc._RF.push(t,"c6c047m22NKo6EMnfPpMPmk","EnemyConfig"),Object.defineProperty(a,"__esModule",{value:!0}),a.WALL_Y=a.Enemy_Back_Distance=a.DiMian_Type=a.BaoXiang_Anima=a.Enemy_DeBuff_Type=a.Enemy_Buff_Type=a.Enemy_State=a.Enemy_Injured_Type=a.Enemy_Type=void 0,function(e){e[e.baoxiang=0]="baoxiang",e[e.mengshe=1]="mengshe",e[e.jushiguai=2]="jushiguai",e[e.shuyao=3]="shuyao",e[e.fushubing=4]="fushubing",e[e.juxiejing=5]="juxiejing",e[e.zhizhu=6]="zhizhu",e[e.feiwen=7]="feiwen",e[e.munaiyi=8]="munaiyi",e[e.juxiejiang=9]="juxiejiang",e[e.xunjieshu=10]="xunjieshu",e[e.tiaotiao=11]="tiaotiao",e[e.nangua=12]="nangua",e[e.shuiyuansu=13]="shuiyuansu",e[e.zenge=14]="zenge",e[e.feiting=15]="feiting",e[e.wuweizhe=16]="wuweizhe",e[e.luxingsha=17]="luxingsha",e[e.niumo=18]="niumo",e[e.enemy_num=19]="enemy_num"}(a.Enemy_Type||(a.Enemy_Type={})),function(e){e[e.Normal_Attack=0]="Normal_Attack",e[e.ZhongDu=1]="ZhongDu",e[e.HuiXin=2]="HuiXin",e[e.BaoTou=3]="BaoTou",e[e.ZhuoShao=4]="ZhuoShao",e[e.LiuXue=5]="LiuXue",e[e.ZhiLiao=6]="ZhiLiao",e[e.ZengE_HuiXue=7]="ZengE_HuiXue",e[e.MuNaiYi_JiaXue=8]="MuNaiYi_JiaXue",e[e.BaoJi=9]="BaoJi",e[e.WuDi=10]="WuDi",e[e.GeDang=11]="GeDang",e[e.ShanBi=12]="ShanBi",e[e.XuanYun=13]="XuanYun",e[e.Skill=14]="Skill",e[e.Wall=15]="Wall",e[e.ChaoJiBaoTou=16]="ChaoJiBaoTou",e[e.MianYiKongZhi=17]="MianYiKongZhi",e[e.BingNvZhenShang=18]="BingNvZhenShang",e[e.ANuBiSiZhenShang=19]="ANuBiSiZhenShang"}(a.Enemy_Injured_Type||(a.Enemy_Injured_Type={})),function(e){e[e.standby=0]="standby",e[e.move=1]="move",e[e.att=2]="att",e[e.skill=3]="skill",e[e.die=4]="die",e[e.born=5]="born",e[e.ship=6]="ship"}(a.Enemy_State||(a.Enemy_State={})),function(e){e[e.shanbi=1]="shanbi",e[e.wudi=2]="wudi",e[e.hudun=3]="hudun",e[e.jiasu=4]="jiasu"}(a.Enemy_Buff_Type||(a.Enemy_Buff_Type={})),function(e){e[e.ZhongDu=0]="ZhongDu",e[e.ZhuoShao=1]="ZhuoShao",e[e.ZhongShang=2]="ZhongShang",e[e.XuanYun=3]="XuanYun",e[e.JianSu_Pet_8=4]="JianSu_Pet_8",e[e.JianSu_Pet_12=5]="JianSu_Pet_12",e[e.JianSu_Pet_16=6]="JianSu_Pet_16",e[e.JianSu_Pet_13=7]="JianSu_Pet_13",e[e.LiuXue_Pet_15=8]="LiuXue_Pet_15",e[e.ZhongDu_Pet_16=9]="ZhongDu_Pet_16",e[e.JianSu_Pet_20=10]="JianSu_Pet_20",e[e.ZengShang_Pet_21=11]="ZengShang_Pet_21",e[e.JianSu_SheShou_Skill1=12]="JianSu_SheShou_Skill1",e[e.LiuXue_RenZhe_Active_Skill=13]="LiuXue_RenZhe_Active_Skill",e[e.JianSu_RenZhe_EX_Skill=14]="JianSu_RenZhe_EX_Skill",e[e.LiuXue_WuNv_Ex_Skill=15]="LiuXue_WuNv_Ex_Skill"}(a.Enemy_DeBuff_Type||(a.Enemy_DeBuff_Type={})),function(e){e.beiji="beiji",e.bianxing="bianxing",e.close="close",e.daiji="daiji",e.gongji="gongji",e.pao="pao",e.siwang="siwang"}(a.BaoXiang_Anima||(a.BaoXiang_Anima={})),function(e){e[e.paodan_tip=0]="paodan_tip"}(a.DiMian_Type||(a.DiMian_Type={})),a.Enemy_Back_Distance=400,a.WALL_Y=-268,cc._RF.pop()},{}],EnemyHpManager:[function(e,t,a){"use strict";cc._RF.push(t,"eb8efKjoT5HrK2hQIUuXH/K","EnemyHpManager");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../GameManager"),s=e("../NodePoolManager"),c=cc._decorator,l=c.ccclass,g=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){e.prototype.init.call(this,8),r.default.getInstance().enemy_hp_manager=this},t.prototype.createEnemyHp=function(t){return e.prototype.createNodeByType.call(this,0,t)},t.prototype.destroyBossHp=function(e){e.removeFromParent()},t.prototype.destroyEnemyHp=function(t){null!=t?(t.scale=1,t.opacity=255,e.prototype.destroyNode.call(this,t,0)):cc.log(t)},t.prototype.onDestroy=function(){r.default.getInstance().enemy_hp_manager=null},i([l],t)}(s.default));a.default=g,cc._RF.pop()},{"../GameManager":"GameManager","../NodePoolManager":"NodePoolManager"}],EnemyIconManager:[function(e,t,a){"use strict";cc._RF.push(t,"1efc4FkC9dDerf4pTb85GkQ","EnemyIconManager");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon_atlas=null,t}var a;return o(t,e),a=t,t.getInstance=function(){return this._instance},t.prototype.onLoad=function(){a._instance=this},t.prototype.onDestroy=function(){a._instance=null},t.prototype.getSpByName=function(e){return this.icon_atlas.getSpriteFrame(e)},t._instance=null,i([c(cc.SpriteAtlas)],t.prototype,"icon_atlas",void 0),a=i([s],t)}(cc.Component);a.default=l,cc._RF.pop()},{}],EnemyIcon:[function(e,t,a){"use strict";cc._RF.push(t,"ab4ca+N5u9KM65C14sAPX8s","EnemyIcon");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Hero/Game/HeroConfig"),s=e("../../Monster/Data/MonsterAttribute"),c=e("../../Monster/Data/MonsterDataManager"),l=e("../EnemyConfig"),g=e("./EnemyIconManager"),u=cc._decorator,p=u.ccclass,d=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enemy_type=l.Enemy_Type.shuyao,t.is_boss=!1,t}return o(t,e),t.prototype.init=function(e,t){this.enemy_type=e,this.is_boss=t,this.refreshData()},t.prototype.refreshData=function(){var e="TX_GuaiWu_0"+(this.enemy_type-1);this.enemy_type>10&&(e="TX_GuaiWu_"+(this.enemy_type-1)),this.node.getComponent(cc.Sprite).spriteFrame=g.default.getInstance().getSpByName(e),this.node.getChildByName("boss").active=this.is_boss;for(var t=c.MonsterDataManager.getInstance().getMonsterIdByType(this.enemy_type),a=s.MonsterAttributeManager.getInstance().getArea(t),n=this.node.getChildByName("danweiRoot"),o=0;o<n.childrenCount;o++){var i=n.children[o];if(o<a.length){i.active=!0;var l="TY_icon_Lu";switch(a[o]){case r.AttRangeType.LuDi:l="JS_iconSX_06";break;case r.AttRangeType.TianKong:l="JS_iconSX_07";break;case r.AttRangeType.DunDi:l="JS_iconSX_05"}i.getComponent(cc.Sprite).spriteFrame=g.default.getInstance().getSpByName(l)}else i.active=!1}},i([p],t)}(cc.Component));a.default=d,cc._RF.pop()},{"../../Hero/Game/HeroConfig":"HeroConfig","../../Monster/Data/MonsterAttribute":"MonsterAttribute","../../Monster/Data/MonsterDataManager":"MonsterDataManager","../EnemyConfig":"EnemyConfig","./EnemyIconManager":"EnemyIconManager"}],EquipConfig:[function(e,t,a){"use strict";cc._RF.push(t,"1a77cJSAx5Mw7LFuJUoRYHl","EquipConfig"),Object.defineProperty(a,"__esModule",{value:!0}),a.EquipInfo=a.CostData=a.EquipType=void 0,function(e){e[e.WuQi=1]="WuQi",e[e.HuJia=2]="HuJia",e[e.ShiPin=3]="ShiPin",e[e.Foot=4]="Foot",e[e.Num=5]="Num"}(a.EquipType||(a.EquipType={}));a.CostData=function(){this.cost_id=0,this.cost_num=0};a.EquipInfo=function(){this.equip_id=0,this.equip_num=1},cc._RF.pop()},{}],EquipDataItem:[function(e,t,a){"use strict";cc._RF.push(t,"94b10WPD4NGrbPgHOKYvknW","EquipDataItem");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../GameManager"),s=e("../../Hero/Data/HeroManager"),c=e("../../Hero/Game/HeroConfig"),l=e("../../multiLanguage/LanguageManager"),g=e("../../Prop/Data/Item"),u=e("../../Prop/PropConfig"),p=e("../../Prop/PropManager"),d=e("../../Sound/AudioConstants"),h=e("../../UI/UIManager"),f=e("../Data/EquipmentAttribute"),_=e("../EquipmentManager"),m=cc._decorator,y=m.ccclass,I=m.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ui_equip_info=null,t.self_equip_info=null,t.ui_hero_type=c.Hero_Type.NULL,t.self_hero_type=c.Hero_Type.NULL,t.click_callback=null,t.Common_Btn=[],t}return o(t,e),t.prototype.init=function(e,t,a,n,o){void 0===o&&(o=c.Hero_Type.NULL),this.self_equip_info=e,this.ui_equip_info=t,this.ui_hero_type=a,this.self_hero_type=o,this.click_callback=n,this.initData(),this.refreshData()},t.prototype.initData=function(){var e=l.default.getInstance(),t=p.PropManager.getInstance(),a=_.EquipmentManager.getInstance().getEquipNodeByInfo(this.self_equip_info,u.PropAction.Null,this.self_hero_type);a.scale=.8,this.node.getChildByName("equipRoot").addChild(a);var n=g.ItemManager.getInstance().getJsonItem(this.self_equip_info.equip_id),o=this.node.getChildByName("propName");o.getComponent(cc.Label).string="["+t.getPropQualityName(n.Quality)+"]"+e.getStrByTextId(n.NameTextId),o.color=t.getPropQualityTextColor(n.Quality);var i=[new cc.Color(39,35,28),new cc.Color(29,63,27),new cc.Color(25,55,88),new cc.Color(66,37,96),new cc.Color(62,32,0),new cc.Color(79,16,15)];o.getComponent(cc.LabelOutline).color=i[n.Quality],this.node.getChildByName("zhanliNum").getComponent(cc.Label).string=_.EquipmentManager.getInstance().getEquipZhanLi(this.self_equip_info.equip_id)+""},t.prototype.refreshData=function(){var e=this.self_hero_type,t=e!=c.Hero_Type.NULL;e!=c.Hero_Type.NULL&&(this.node.getChildByName("heroIcon").getComponent(cc.Sprite).spriteFrame=p.PropManager.getInstance().getHeroIconb(e)),this.node.getChildByName("exBg").active=t,this.node.getChildByName("heroIcon").active=t,this.node.getChildByName("Equipped_Icon").active=t,this.node.getChildByName("btnExchange").active=t,this.node.getChildByName("btnEquip").active=!t},t.prototype.onClickBtnExchange=function(){r.default.getInstance().sound_manager.playSound(d.SoundIndex.click);var e=s.HeroManager.getInstance().getHeroZhanli(this.ui_hero_type),t=s.HeroManager.getInstance().getDeepHeroData(this.ui_hero_type);s.HeroManager.getInstance().addWearEquipment(this.ui_hero_type,this.self_equip_info.equip_id),s.HeroManager.getInstance().addWearEquipment(this.self_hero_type,this.ui_equip_info.equip_id,f.EquipmentAttributeManager.getInstance().getEquipmentPosition(this.self_equip_info.equip_id));var a=s.HeroManager.getInstance().getHeroZhanli(this.ui_hero_type),n=s.HeroManager.getInstance().getDeepHeroData(this.ui_hero_type);e!=a&&h.UIManager.getInstance().showCombatChangeEffect(e,a,t,n),this.click_callback&&this.click_callback(this.self_equip_info.equip_id)},t.prototype.onClickBtnEquip=function(){r.default.getInstance().sound_manager.playSound(d.SoundIndex.click);var e=s.HeroManager.getInstance().getHeroZhanli(this.ui_hero_type),t=s.HeroManager.getInstance().getDeepHeroData(this.ui_hero_type);s.HeroManager.getInstance().addWearEquipment(this.ui_hero_type,this.self_equip_info.equip_id);var a=s.HeroManager.getInstance().getHeroZhanli(this.ui_hero_type),n=s.HeroManager.getInstance().getDeepHeroData(this.ui_hero_type);e!=a&&h.UIManager.getInstance().showCombatChangeEffect(e,a,t,n),this.click_callback&&this.click_callback(this.self_equip_info.equip_id)},i([I(cc.SpriteFrame)],t.prototype,"Common_Btn",void 0),i([y],t)}(cc.Component);a.default=v,cc._RF.pop()},{"../../GameManager":"GameManager","../../Hero/Data/HeroManager":"HeroManager","../../Hero/Game/HeroConfig":"HeroConfig","../../Prop/Data/Item":"Item","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../UI/UIManager":"UIManager","../../multiLanguage/LanguageManager":"LanguageManager","../Data/EquipmentAttribute":"EquipmentAttribute","../EquipmentManager":"EquipmentManager"}],EquipExchangeUi:[function(e,t,a){"use strict";cc._RF.push(t,"9454fEity1OL4V3xZ48T62O","EquipExchangeUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../GameManager"),s=e("../../Hero/Data/HeroManager"),c=e("../../Hero/Game/HeroConfig"),l=e("../../multiLanguage/LanguageManager"),g=e("../../multiLanguage/TextLanguage"),u=e("../../Prop/Data/Item"),p=e("../../Prop/PropConfig"),d=e("../../Prop/PropManager"),h=e("../../Sound/AudioConstants"),f=e("../../UI/UIComponent"),_=e("../EquipConfig"),m=e("../EquipmentManager"),y=e("./EquipDataItem"),I=cc._decorator,v=I.ccclass,M=I.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.equip_data=null,t.equip_id=null,t.cur_hero_type=c.Hero_Type.NULL,t.equip_type=_.EquipType.ShiPin,t.ExchangeLevel=null,t}return o(t,e),t.prototype.initData=function(e,t,a){this.equip_id=e,this.cur_hero_type=t,this.equip_type=a,this.initUi()},t.prototype.initUi=function(){for(var e=0;e<this.node.getChildByName("scrollView").getComponent(cc.ScrollView).content.children.length;e++)this.node.getChildByName("scrollView").getComponent(cc.ScrollView).content.children[e].destroy();this.ExchangeLevel.active=!1;var t=this.node.getChildByName("curRoot"),a=this.node.getChildByName("noWear");if(this.equip_id){t.active=!0,a.active=!1,this.node.getChildByName("bg").color.a=200,this.node.getChildByName("titleLabel").getComponent(g.default).setTextId(180005);var n=m.EquipmentManager.getInstance().getEquipNodeById(this.equip_id,p.PropAction.Null,this.cur_hero_type);t.getChildByName("propRoot").children.length>0&&t.getChildByName("propRoot").children[0].destroy(),t.getChildByName("propRoot").addChild(n);var o=u.ItemManager.getInstance().getJsonItem(this.equip_id),i=t.getChildByName("propName");i.getComponent(cc.Label).string="["+d.PropManager.getInstance().getPropQualityName(o.Quality)+"]"+l.default.getInstance().getStrByTextId(o.NameTextId),i.color=d.PropManager.getInstance().getPropQualityTextColor(o.Quality);var r=[new cc.Color(39,35,28),new cc.Color(29,63,27),new cc.Color(25,55,88),new cc.Color(66,37,96),new cc.Color(62,32,0),new cc.Color(79,16,15)];i.getComponent(cc.LabelOutline).color=r[o.Quality],t.getChildByName("zhanliNum").getComponent(cc.Label).string=m.EquipmentManager.getInstance().getEquipZhanLi(this.equip_id)+""}else t.active=!1,a.active=!0,this.node.getChildByName("bg").color.a=128,this.node.getChildByName("titleLabel").getComponent(g.default).setTextId(180006);this.loadEquipList()},t.prototype.loadEquipList=function(){var t=this,a=this.equip_type,n=d.PropManager.getInstance().getEquipmentList(a),o=this.node.getChildByName("scrollView").getComponent(cc.ScrollView).content,i=new _.EquipInfo;i.equip_id=this.equip_id,i.equip_num=1;for(var r=new Array,l=0;l<n.length;l++){var g=n[l],u=s.HeroManager.getInstance().getWearEquipmentHeroList(g),p=g.equip_num-u.length;p>0&&((f=new _.EquipInfo).equip_id=g.equip_id,f.equip_num=p,r.push({equipInfo:f,heroType:c.Hero_Type.NULL}));for(var h=0;h<u.length;h++){var f,m=u[h];m!=this.cur_hero_type&&((f=new _.EquipInfo).equip_id=g.equip_id,f.equip_num=1,r.push({equipInfo:f,heroType:m}))}}var I=function(a){var n=r[a];v.scheduleOnce(function(){var a=cc.instantiate(t.equip_data);o.addChild(a),a.getComponent(y.default).init(n.equipInfo,i,t.cur_hero_type,function(a){e.prototype.onRefresh.call(t,a),t.clickBtnClose()},n.heroType)},.02*a)},v=this;for(l=0;l<r.length;l++)I(l)},t.prototype.clickBtnClose=function(){for(var t=0;t<this.node.getChildByName("scrollView").getComponent(cc.ScrollView).content.children.length;t++)this.node.getChildByName("scrollView").getComponent(cc.ScrollView).content.children[t].destroy();r.default.getInstance().sound_manager.playSound(h.SoundIndex.click),e.prototype.onClose.call(this)},i([M(cc.Prefab)],t.prototype,"equip_data",void 0),i([M(cc.Node)],t.prototype,"ExchangeLevel",void 0),i([v],t)}(f.default);a.default=C,cc._RF.pop()},{"../../GameManager":"GameManager","../../Hero/Data/HeroManager":"HeroManager","../../Hero/Game/HeroConfig":"HeroConfig","../../Prop/Data/Item":"Item","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../UI/UIComponent":"UIComponent","../../multiLanguage/LanguageManager":"LanguageManager","../../multiLanguage/TextLanguage":"TextLanguage","../EquipConfig":"EquipConfig","../EquipmentManager":"EquipmentManager","./EquipDataItem":"EquipDataItem"}],EquipInfoUi:[function(e,t,a){"use strict";cc._RF.push(t,"37b1dO9Wq9CTaU9cVP7hni7","EquipInfoUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../Equipment/Data/EquipmentAttribute"),c=e("../../Equipment/EquipmentManager"),l=e("../../GameManager"),g=e("../../Hero/Data/HeroManager"),u=e("../../Hero/Game/HeroConfig"),p=e("../../multiLanguage/LanguageManager"),d=e("../../multiLanguage/TextLanguage"),h=e("../../Prop/Data/Item"),f=e("../../Prop/PropConfig"),_=e("../../Prop/PropManager"),m=e("../../Sound/AudioConstants"),y=e("../../Tutorials/TutorailsManager"),I=e("../../UI/UIComponent"),v=e("../../UI/UIConfig"),M=e("../../UI/UIManager"),C=e("../Data/EquipmentMerge"),S=e("./EquipItem"),P=e("./MergeUi"),k=cc._decorator,b=k.ccclass,T=k.property,B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.equip_id=null,t.prop_action=f.PropAction.Buy,t.buy_callback=null,t.use_callback=null,t.prop_data=null,t.hero_type=u.Hero_Type.NULL,t.useRoot=null,t.attText=null,t.defenseText=null,t.hpText=null,t.btnMerge=null,t.tip=null,t.bbg=[],t.bbbg=[],t}return o(t,e),t.prototype.addBuyListen=function(e){this.buy_callback=e},t.prototype.addUseListen=function(e){this.use_callback=e},t.prototype.start=function(){if(0==y.default.getInstance().isShowTutorials(225)&&y.default.getInstance().isShowTutorials(227)){var e=this.node.getChildByName("useRoot").getChildByName("btnmoveup"),t=e.parent.convertToWorldSpaceAR(e.getPosition()),a=cc.find("Canvas/Ui_Root").convertToNodeSpaceAR(t);y.default.getInstance().showTutorials(227,null,function(){y.default.getInstance().saveTutorials(226),y.default.getInstance().saveTutorials(227)},!0,null,a)}},t.prototype.initData=function(e,t,a,n,o,i){this.hero_type=e,this.prop_data=n,this.buy_callback=o,this.use_callback=i,this.prop_action=a,this.useRoot.active=this.prop_action==f.PropAction.Use,this.prop_action==f.PropAction.Use?(this.node.getChildByName("bbg").y=-19,this.node.getChildByName("btnClose").y=260,this.node.getChildByName("btnClose").x=282,this.node.getChildByName("bbg").height=570,this.node.getChildByName("bbg").width=580,this.node.getChildByName("bbg").getComponent(cc.Sprite).spriteFrame=this.bbg[0],this.node.getChildByName("bbbg").getComponent(cc.Sprite).spriteFrame=this.bbbg[0]):(this.node.getChildByName("bbg").y=58,this.node.getChildByName("bbg").height=600,this.node.getChildByName("bbg").width=600,this.node.getChildByName("btnClose").y=320,this.node.getChildByName("btnClose").x=271,this.node.getChildByName("bbg").getComponent(cc.Sprite).spriteFrame=this.bbg[1],this.node.getChildByName("bbbg").getComponent(cc.Sprite).spriteFrame=this.bbbg[1]),this.refreshInfo(t)},t.prototype.refreshInfo=function(e){this.tip.active=!1,this.equip_id=e;var t=p.default.getInstance(),a=_.PropManager.getInstance();s.EquipmentAttributeManager.getInstance(),this.node.getChildByName("propRoot").children.length>0&&this.node.getChildByName("propRoot").children[0].destroy();var n=c.EquipmentManager.getInstance().getEquipNodeById(this.equip_id,f.PropAction.Null,this.hero_type);this.node.getChildByName("propRoot").addChild(n);var o=h.ItemManager.getInstance().getJsonItem(this.equip_id),i=this.node.getChildByName("propName");i.getComponent(cc.Label).string="["+a.getPropQualityName(o.Quality)+"]"+t.getStrByTextId(o.NameTextId),i.color=a.getPropQualityTextColor(o.Quality);var r=[new cc.Color(39,35,28),new cc.Color(29,63,27),new cc.Color(25,55,88),new cc.Color(66,37,96),new cc.Color(62,32,0),new cc.Color(79,16,15)];i.getComponent(cc.LabelOutline).color=r[o.Quality];var l=s.EquipmentAttributeManager.getInstance().getEquipmentPosition(this.equip_id);this.node.getChildByName("propType").getComponent(d.default).setTextId(18e4+l);var g=s.EquipmentAttributeManager.getInstance().getStage(this.equip_id),u=this.btnMerge.getChildByName("red"),m=!1;g>=31?(this.btnMerge.active=!1,m=!1):(this.btnMerge.active=!0,s.EquipmentAttributeManager.getInstance().getIsMaxStage(e)||(m=c.EquipmentManager.getInstance().checkAEquipMerge(C.EquipmentMergeManager.getInstance().getTargetEquipment_id(e),[]))),u.active=m,this.PropertyUpdate()},t.prototype.PropertyUpdate=function(){this.node.getChildByName("zhanliNum").getComponent(cc.Label).string=""+c.EquipmentManager.getInstance().getEquipZhanLi(this.equip_id);var e=c.EquipmentManager.getInstance().getAttributes(this.equip_id),t=e[0];this.attText.active=!0,this.defenseText.active=!0,this.hpText.active=!0,t<=0&&(this.attText.active=!1),this.attText.getChildByName("number").getComponent(cc.Label).string=""+t;var a=e[1];a<=0&&(this.defenseText.active=!1),this.defenseText.getChildByName("number").getComponent(cc.Label).string=""+a;var n=e[2];n<=0&&(this.hpText.active=!1),this.hpText.getChildByName("number").getComponent(cc.Label).string=""+n,this.node.getChildByName("propRoot").children[0].getComponent(S.default).refreshData()},t.prototype.clickBtnClose=function(){l.default.getInstance().sound_manager.playSound(m.SoundIndex.click),this.prop_action==f.PropAction.Use&&this.use_callback&&this.use_callback(),e.prototype.onClose.call(this)},t.prototype.clickBtnReplace=function(){var t=this;l.default.getInstance().sound_manager.playSound(m.SoundIndex.click);var a=s.EquipmentAttributeManager.getInstance().getEquipmentPosition(this.equip_id);M.UIManager.getInstance().showEquipExchangeUi({onRefresh:function(a){t.refreshInfo(a),e.prototype.onRefresh.call(t,a)}},this.equip_id,this.hero_type,a)},t.prototype.clickBtnUnload=function(){l.default.getInstance().sound_manager.playSound(m.SoundIndex.click);var t=g.HeroManager.getInstance().getHeroZhanli(this.hero_type),a=g.HeroManager.getInstance().getDeepHeroData(this.hero_type);g.HeroManager.getInstance().unloadWearEquipment(this.hero_type,s.EquipmentAttributeManager.getInstance().getEquipmentPosition(this.equip_id));var n=g.HeroManager.getInstance().getHeroZhanli(this.hero_type),o=g.HeroManager.getInstance().getDeepHeroData(this.hero_type);t!=n&&M.UIManager.getInstance().showCombatChangeEffect(t,n,a,o),this.use_callback&&this.use_callback(),e.prototype.onClose.call(this)},t.prototype.clickBtnMerge=function(){var e=this;l.default.getInstance().sound_manager.playSound(m.SoundIndex.click);var t=s.EquipmentAttributeManager.getInstance().getEquipmentPosition(this.equip_id);M.UIManager.getInstance().showUiDialog(v.UIPath.EquipSynthetic,v.UILayerLevel.Three,{onCompleted:function(a){a.getComponent(P.default).initData(e.equip_id,e.hero_type,t,e.node)}})},t.prototype.onBtntip=function(){this.tip.active=!1,l.default.getInstance().game_to_home=r.Go_Type.City,l.default.getInstance().jumoAndShowUi(),M.UIManager.getInstance().closeAllUiDialog(v.UILayerLevel.One)},t.prototype.onBtntipClose=function(){this.tip.active=!1},i([T(cc.Node)],t.prototype,"useRoot",void 0),i([T(cc.Node)],t.prototype,"attText",void 0),i([T(cc.Node)],t.prototype,"defenseText",void 0),i([T(cc.Node)],t.prototype,"hpText",void 0),i([T(cc.Node)],t.prototype,"btnMerge",void 0),i([T(cc.Node)],t.prototype,"tip",void 0),i([T(cc.SpriteFrame)],t.prototype,"bbg",void 0),i([T(cc.SpriteFrame)],t.prototype,"bbbg",void 0),i([b],t)}(I.default);a.default=B,cc._RF.pop()},{"../../Constants":"Constants","../../Equipment/Data/EquipmentAttribute":"EquipmentAttribute","../../Equipment/EquipmentManager":"EquipmentManager","../../GameManager":"GameManager","../../Hero/Data/HeroManager":"HeroManager","../../Hero/Game/HeroConfig":"HeroConfig","../../Prop/Data/Item":"Item","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../Tutorials/TutorailsManager":"TutorailsManager","../../UI/UIComponent":"UIComponent","../../UI/UIConfig":"UIConfig","../../UI/UIManager":"UIManager","../../multiLanguage/LanguageManager":"LanguageManager","../../multiLanguage/TextLanguage":"TextLanguage","../Data/EquipmentMerge":"EquipmentMerge","./EquipItem":"EquipItem","./MergeUi":"MergeUi"}],EquipItem:[function(e,t,a){"use strict";cc._RF.push(t,"14b9bsKPLtGi7ZNHSSVk0/c","EquipItem");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../GameManager"),s=e("../../Hero/Game/HeroConfig"),c=e("../../Prop/Data/Item"),l=e("../../Prop/PropConfig"),g=e("../../Prop/PropManager"),u=e("../../Sound/AudioConstants"),p=e("../../Tools/MyTool"),d=e("../../UI/UIManager"),h=e("../Data/EquipmentAttribute"),f=e("../EquipConfig"),_=cc._decorator,m=_.ccclass,y=(_.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hero_type=s.Hero_Type.NULL,t.equip_info=null,t.prop_action=l.PropAction.Look,t.prop_price=0,t.prop_cost=l.PropId.Coin,t.buy_callback=null,t.use_callback=null,t}return o(t,e),t.prototype.addBuyListen=function(e){this.buy_callback=e},t.prototype.addUseListen=function(e){this.use_callback=e},t.prototype.init=function(e,t,a){if(void 0===a&&(a=l.PropAction.Look),"number"==typeof t){var n=new f.EquipInfo;n.equip_id=t,n.equip_num=1,this.equip_info=n}else this.equip_info=t;this.hero_type=e,this.prop_action=a,this.refreshData()},t.prototype.initSaleItem=function(e,t,a){void 0===a&&(a=0),this.prop_price=t,this.prop_cost=e,0==a?(this.node.getChildByName("discountBg").active=!1,this.node.getChildByName("discountNum").active=!1,this.node.getChildByName("discount").active=!1):this.node.getChildByName("discountNum").getComponent(cc.Label).string=a+"%",this.node.getChildByName("priceIcon").getComponent(cc.Sprite).spriteFrame=g.PropManager.getInstance().getSpByPropId(e),this.node.getChildByName("price").getComponent(cc.Label).string=p.default.getCoinDanwei(t)},t.prototype.soldOut=function(){this.node.getComponent(cc.Button).interactable=!1,this.node.getChildByName("icon").getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),this.node.getChildByName("bg").getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),this.node.getChildByName("discountBg").active=!1,this.node.getChildByName("discountNum").active=!1,this.node.getChildByName("discount").active=!1,this.node.getChildByName("priceIcon").active=!1,this.node.getChildByName("priceTitleBg").active=!1,this.node.getChildByName("price").active=!1,this.node.getChildByName("shop_Bg_SoldOut").active=!0,this.node.getChildByName("saleOut").active=!0},t.prototype.refreshData=function(){h.EquipmentAttributeManager.getInstance();var e=g.PropManager.getInstance();this.node.getChildByName("bg").getComponent(cc.Sprite).spriteFrame=e.getSpFrameByPropType(this.equip_info.equip_id),this.node.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=e.getSpByPropId(this.equip_info.equip_id),this.node.getComponent(cc.Button).enabled=this.prop_action!=l.PropAction.Null;var t=this.node.getChildByName("star").getChildByName("star").getComponent(cc.Sprite),a=c.ItemManager.getInstance().getStar(this.equip_info.equip_id);a>0?(t.node.active=!0,t.spriteFrame=g.PropManager.getInstance().getSpByName("Common_Star_"+a)):t.node.active=!1;var n=this.node.getChildByName("num");this.equip_info.equip_num<=1?n.active=!1:n.active=!0,n.getComponent(cc.Label).string=""+this.equip_info.equip_num},t.prototype.onClick=function(){r.default.getInstance().sound_manager.playSound(u.SoundIndex.click),d.UIManager.getInstance().showEquipInfoUi(this.hero_type,this.equip_info.equip_id,this.prop_action,{prop_id:this.equip_info.equip_id,prop_num:this.equip_info.equip_num,prop_price:this.prop_price,prop_cost_id:this.prop_cost},this.buy_callback,this.use_callback)},i([m],t)}(cc.Component));a.default=y,cc._RF.pop()},{"../../GameManager":"GameManager","../../Hero/Game/HeroConfig":"HeroConfig","../../Prop/Data/Item":"Item","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../Tools/MyTool":"MyTool","../../UI/UIManager":"UIManager","../Data/EquipmentAttribute":"EquipmentAttribute","../EquipConfig":"EquipConfig"}],EquipmentAttribute:[function(e,t,a){"use strict";cc._RF.push(t,"56799XpdVRDX4Wdh8KYuSqp","EquipmentAttribute"),Object.defineProperty(a,"__esModule",{value:!0}),a.EquipmentAttributeManager=a.JsonEquipmentAttribute=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.Equipment_ID=0,this.EquipmentPosition=0,this.Stage=0,this.Quality=0,this.BaseHealth=0,this.BaseAttack=0,this.BaseDefense=0};a.JsonEquipmentAttribute=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("EquipmentAttribute",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonEquipmentAttribute\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.Equipment_ID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonEquipmentAttribute=function(e){return this.data.get(e)},e.prototype.getEquipmentPosition=function(e){return this.data.get(e).EquipmentPosition},e.prototype.getStage=function(e){return this.data.get(e).Stage},e.prototype.getQuality=function(e){return this.data.get(e).Quality},e.prototype.getBaseHealth=function(e){return this.data.get(e).BaseHealth},e.prototype.getBaseAttack=function(e){return this.data.get(e).BaseAttack},e.prototype.getBaseDefense=function(e){return this.data.get(e).BaseDefense},e.getMaxEquipment_ID=function(){return 30431},e.getID=function(e,t){return 100*e+t+3e4},e.getEquipTypeById=function(e){return Math.floor(e/1e3)},e.getMaxQuality=function(){return 6},e.prototype.getMaxStage=function(){return 31},e.prototype.getIsMaxStage=function(e){return this.getStage(e)>=this.getMaxStage()},e._instance=null,e}();a.EquipmentAttributeManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],EquipmentLevelUpCost:[function(e,t,a){"use strict";cc._RF.push(t,"44122a6HsFOL6FdvEr7y/eu","EquipmentLevelUpCost"),Object.defineProperty(a,"__esModule",{value:!0}),a.EquipmentLevelUpCostManager=a.JsonEquipmentLevelUpCost=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.EquipmentLevel=0,this.CoinCost=0,this.LevelLimit=0};a.JsonEquipmentLevelUpCost=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("EquipmentLevelUpCost",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonEquipmentLevelUpCost\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.EquipmentLevel,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonEquipmentLevelUpCost=function(e){return this.data.get(e)},e.prototype.getCoinCost=function(e){return this.data.get(e).CoinCost},e.prototype.getLevelLimit=function(e){return this.data.get(e).LevelLimit},e.getMaxEquipmentLevel=function(){return 100},e.prototype.getCoinCostAll=function(e){for(var t=0,a=1;a<e;a++)t+=this.getCoinCost(a);return t},e._instance=null,e}();a.EquipmentLevelUpCostManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],EquipmentManager:[function(e,t,a){"use strict";cc._RF.push(t,"b5ac5ZbNhlDDZLom5oJhnz4","EquipmentManager"),Object.defineProperty(a,"__esModule",{value:!0}),a.EquipmentManager=void 0;var n=e("./Data/EquipmentAttribute"),o=e("../Tools/EventManager"),i=e("../Storage/StorageConfig"),r=e("../Storage/StorageManager"),s=e("./Data/EquipmentMerge"),c=e("./Ui/EquipItem"),l=e("../multiLanguage/LanguageManager"),g=e("../Prop/PropConfig"),u=e("./EquipConfig"),p=e("../Prop/PropManager"),d=e("../Hero/Game/HeroConfig"),h=e("./Data/EquipmentLevelUpCost"),f=e("../Tools/MyTool"),_=e("../Hero/Data/CombatEffectiveness"),m=e("../Hero/Data/HeroManager"),y=function(){function e(){this.item_equip=null,this.item_sale_equip=null,this.sprite_atlas=null}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,console.log("EquipmentManager null"),this._instance.init()),this._instance},e.prototype.init=function(){n.EquipmentAttributeManager.getInstance(),s.EquipmentMergeManager.getInstance(),h.EquipmentLevelUpCostManager.getInstance(),_.CombatEffectivenessManager.getInstance(),this.loadPrefab(),this.loadSalePrefab(),this.loadSp()},e.prototype.loadPrefab=function(){var e=this;cc.resources.load("equipment/equipItem",cc.Prefab,function(t,a){t?console.log(t):(console.log("\u52a0\u8f7dprefab_equip\u6210\u529f"),a.addRef(),e.item_equip=a)})},e.prototype.loadSalePrefab=function(){var e=this;cc.resources.load("equipment/saleEquipment",cc.Prefab,function(t,a){t?console.log(t):(console.log("\u52a0\u8f7dprefab_saleEquipment\u6210\u529f"),a.addRef(),e.item_sale_equip=a)})},e.prototype.loadSp=function(){var e=this;this.sprite_atlas||cc.resources.load("equipment/equipment",cc.SpriteAtlas,function(t,a){t?console.log(t):(a.addRef(),e.sprite_atlas=a)})},e.prototype.getSpriteFrameByName=function(e){return this.sprite_atlas.getSpriteFrame(e)},e.prototype.getEquipNodeByInfo=function(e,t,a){void 0===t&&(t=g.PropAction.Look),void 0===a&&(a=d.Hero_Type.NULL);var n=cc.instantiate(this.item_equip);return n.getComponent(c.default).init(a,e,t),n},e.prototype.getEquipNodeById=function(e,t,a){void 0===t&&(t=g.PropAction.Look),void 0===a&&(a=d.Hero_Type.NULL);var n=cc.instantiate(this.item_equip),o=new u.EquipInfo;return o.equip_id=e,o.equip_num=1,n.getComponent(c.default).init(a,o,t),n},e.prototype.getSaleEquipNodeById=function(e,t,a){void 0===t&&(t=g.PropAction.Look),void 0===a&&(a=d.Hero_Type.NULL);var n=cc.instantiate(this.item_sale_equip),o=new u.EquipInfo;return o.equip_id=e,o.equip_num=1,n.getComponent(c.default).init(a,o,t),n},e.prototype.screeningEquipmentList=function(e){for(var t=e.length,a=m.HeroManager.getInstance(),n=0;n<t;n++){var o=e[n],i=a.getWearEquipmentHeroList(o);o.equip_num-=i.length}},e.prototype.checkAEquipMerge=function(e,t){var a=n.EquipmentAttributeManager.getInstance().getEquipmentPosition(e),o=p.PropManager.getInstance().getEquipmentList(a);this.screeningEquipmentList(o);var i=s.EquipmentMergeManager.getInstance().getCostId(e);if(0==i)return!1;var r=s.EquipmentMergeManager.getInstance().getCostNumber(i);return this.findEquipMerge(o,i,r-1,t)},e.prototype.findEquipMerge=function(e,t,a,n){for(var o,i=e.length,r=0,c=0;c<i;c++){var l=e[c];if(l.equip_id==t&&(r=l.equip_num)>=a)break}if(r>=a)return(o=new u.CostData).cost_id=t,o.cost_num=a,n.push(o),!0;r>0&&((o=new u.CostData).cost_id=t,o.cost_num=r,n.push(o));var g=s.EquipmentMergeManager.getInstance().getCostId(t);if(0==g)return!1;var p=s.EquipmentMergeManager.getInstance().getCostNumber(t);return this.findEquipMerge(e,g,(a-r)*p,n)},e.prototype.checkQuickWear=function(e,t){for(var a=!1,i=u.EquipType.WuQi;i<u.EquipType.Num;i++){var r=m.HeroManager.getInstance().getWearEquipment(e,i),s=n.EquipmentAttributeManager.getInstance(),c=p.PropManager.getInstance().getEquipmentList(i);if(0!=r)for(var l=s.getStage(r),g=c.length,d=0;d<g;d++){var h=c[d];if(s.getStage(h.equip_id)>l&&m.HeroManager.getInstance().getEquipmentRemainNum(h)>0){if(t){m.HeroManager.getInstance().addWearEquipment(e,h.equip_id),a=!0;break}return!0}}else if((g=c.length)>0)for(d=0;d<g;d++)if(h=c[d],m.HeroManager.getInstance().getEquipmentRemainNum(h)>0){if(t){m.HeroManager.getInstance().addWearEquipment(e,h.equip_id),a=!0;break}return!0}}return t&&a&&o.EventManager.postAssetsEvent(o.AssetsEventType.EQUIP_WEAR_UNLOAD),a},e.prototype.checkWear=function(e,t){var a=!1,o=m.HeroManager.getInstance().getWearEquipment(e,t),i=n.EquipmentAttributeManager.getInstance();if(0!=o)for(var r,s=i.getStage(o),c=(r=p.PropManager.getInstance().getEquipmentList(t)).length,l=0;l<c;l++){var g=r[l];if(i.getStage(g.equip_id)>s&&m.HeroManager.getInstance().getEquipmentRemainNum(g)>0){a=!0;break}}else if((c=(r=p.PropManager.getInstance().getEquipmentList(t)).length)>0)for(l=0;l<c;l++)if(g=r[l],m.HeroManager.getInstance().getEquipmentRemainNum(g)>0){a=!0;break}return a},e.prototype.checkQuickUnload=function(e,t){for(var a=!1,n=u.EquipType.WuQi;n<u.EquipType.Num;n++)if(m.HeroManager.getInstance().getWearEquipment(e,n)){if(t){m.HeroManager.getInstance().unloadWearEquipment(e,n),a=!0;continue}return!0}return t&&a&&o.EventManager.postAssetsEvent(o.AssetsEventType.EQUIP_WEAR_UNLOAD),a},e.prototype.getEquipSequenceId=function(){for(var e=this.getEquipNum(),t=(new Date).getTime(),a=1,n=e;Math.floor(n/10)>=1;)a++,n/=10;var o=t.toString().substring(a);return parseInt(o+e)},e.prototype.getEquipNum=function(){return r.TheStorageManager.getInstance().getInt(i.StorageKey.EquipNum,1)},e.prototype.addEquipNum=function(){r.TheStorageManager.getInstance().setItem(i.StorageKey.EquipNum,this.getEquipNum()+1)},e.prototype.saveMergeNum=function(e){cc.sys.localStorage.setItem("merge_num",e)},e.prototype.getEquipName=function(e){var t=4001;switch(e){case 1:t=4001;break;case 2:t=4002;break;case 3:t=4003}return l.default.getInstance().getStrByTextId(t)},e.prototype.getEquipZhanLi=function(e){var t=this.getAttributesadditional(e),a=t[2]*_.CombatEffectivenessManager.getInstance().getConversionFactor(1)+t[0]*_.CombatEffectivenessManager.getInstance().getConversionFactor(2)+t[1]*_.CombatEffectivenessManager.getInstance().getConversionFactor(3);return Number(f.default.numberFormat(a,0))},e.prototype.getAttributesadditional=function(e){return this.getAttributes(e)},e.prototype.getAtt=function(e){var t=n.EquipmentAttributeManager.getInstance().getJsonEquipmentAttribute(e).BaseAttack;return Number(f.default.numberFormat(t,0))},e.prototype.getDefense=function(e){var t=n.EquipmentAttributeManager.getInstance().getJsonEquipmentAttribute(e).BaseDefense;return Number(f.default.numberFormat(t,0))},e.prototype.getHealth=function(e){var t=n.EquipmentAttributeManager.getInstance().getJsonEquipmentAttribute(e).BaseHealth;return Number(f.default.numberFormat(t,0))},e.prototype.getAttributes=function(e){var t=n.EquipmentAttributeManager.getInstance().getJsonEquipmentAttribute(e),a=t.BaseAttack,o=t.BaseDefense,i=t.BaseHealth;return[Number(f.default.numberFormat(a,0)),Number(f.default.numberFormat(o,0)),Number(f.default.numberFormat(i,0))]},e._instance=null,e}();a.EquipmentManager=y,cc._RF.pop()},{"../Hero/Data/CombatEffectiveness":"CombatEffectiveness","../Hero/Data/HeroManager":"HeroManager","../Hero/Game/HeroConfig":"HeroConfig","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","../Storage/StorageConfig":"StorageConfig","../Storage/StorageManager":"StorageManager","../Tools/EventManager":"EventManager","../Tools/MyTool":"MyTool","../multiLanguage/LanguageManager":"LanguageManager","./Data/EquipmentAttribute":"EquipmentAttribute","./Data/EquipmentLevelUpCost":"EquipmentLevelUpCost","./Data/EquipmentMerge":"EquipmentMerge","./EquipConfig":"EquipConfig","./Ui/EquipItem":"EquipItem"}],EquipmentMerge:[function(e,t,a){"use strict";cc._RF.push(t,"da4358WOUxEJ5S6ZLXT88Os","EquipmentMerge"),Object.defineProperty(a,"__esModule",{value:!0}),a.EquipmentMergeManager=a.JsonEquipmentMerge=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.CostEquipment_id=0,this.CostNumber=0,this.TargetEquipment_id=0,this.CostCoin=0};a.JsonEquipmentMerge=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("EquipmentMerge",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonEquipmentMerge\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.CostEquipment_id,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonEquipmentMerge=function(e){return this.data.get(e)},e.prototype.getCostNumber=function(e){return this.data.get(e).CostNumber},e.prototype.getTargetEquipment_id=function(e){return this.data.get(e).TargetEquipment_id},e.prototype.getCostCoin=function(e){return this.data.get(e).CostCoin},e.getMaxCostEquipment_id=function(){return 3035},e.prototype.getData=function(){return this.data},e.prototype.getCostId=function(e){var t=0;return this.data.forEach(function(a,n){a.TargetEquipment_id==e&&(t=n)}),t},e._instance=null,e}();a.EquipmentMergeManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],EventManager:[function(e,t,a){"use strict";cc._RF.push(t,"0334fMiOI1OJqD25ePerPE1","EventManager");var n,o,i,r=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.EventManager=a.AssetsEventType=a.RedEventString=a.RedEventType=void 0,function(e){e[e.Btn_Shop=10001]="Btn_Shop",e[e.Btn_Shop_Hero10=10100]="Btn_Shop_Hero10",e[e.Btn_Shop_Gem=10200]="Btn_Shop_Gem",e[e.Btn_Shop_Pet=10300]="Btn_Shop_Pet",e[e.Btn_Shop_Coin=10400]="Btn_Shop_Coin",e[e.Btn_Role=20001]="Btn_Role",e[e.Btn_Role_List_1=20100]="Btn_Role_List_1",e[e.Btn_Role_List_2=20200]="Btn_Role_List_2",e[e.Btn_Role_List_3=20300]="Btn_Role_List_3",e[e.Btn_Role_List_4=20400]="Btn_Role_List_4",e[e.Btn_Role_List_5=20500]="Btn_Role_List_5",e[e.Btn_Role_List_6=20600]="Btn_Role_List_6",e[e.Btn_Role_List_7=20700]="Btn_Role_List_7",e[e.Btn_Role_List_8=20800]="Btn_Role_List_8",e[e.Btn_Role_List_9=20900]="Btn_Role_List_9",e[e.Btn_Role_List_10=21e3]="Btn_Role_List_10",e[e.Btn_Role_List_11=21100]="Btn_Role_List_11",e[e.Btn_Role_List_12=21200]="Btn_Role_List_12",e[e.Btn_Role_Info_UpgradeSelf=20002]="Btn_Role_Info_UpgradeSelf",e[e.Btn_Role_Info_UpgradeAll=20003]="Btn_Role_Info_UpgradeAll",e[e.Btn_Role_Info_SkillSelf=20004]="Btn_Role_Info_SkillSelf",e[e.Btn_Role_Info_SkillAll=20005]="Btn_Role_Info_SkillAll",e[e.Btn_Role_Equip_WearSelf=20007]="Btn_Role_Equip_WearSelf",e[e.Btn_Role_Equip_WearAll=20008]="Btn_Role_Equip_WearAll",e[e.Btn_Role_Equip_1=20011]="Btn_Role_Equip_1",e[e.Btn_Role_Equip_2=20012]="Btn_Role_Equip_2",e[e.Btn_Role_Equip_3=20013]="Btn_Role_Equip_3",e[e.Btn_Role_Equip_4=20014]="Btn_Role_Equip_4",e[e.Btn_Role_Equip_EX=20020]="Btn_Role_Equip_EX",e[e.Btn_Main=30001]="Btn_Main",e[e.Btn_Main_Spin=30100]="Btn_Main_Spin",e[e.Btn_Main_Spin_Spin=30102]="Btn_Main_Spin_Spin",e[e.Btn_Main_Task=30200]="Btn_Main_Task",e[e.Btn_Main_Task_Daily=30201]="Btn_Main_Task_Daily",e[e.Btn_Main_Task_Week=30202]="Btn_Main_Task_Week",e[e.Btn_Main_Task_Main=30203]="Btn_Main_Task_Main",e[e.Btn_Main_SignIn=30300]="Btn_Main_SignIn",e[e.Btn_Main_SignIn_BtnGet=30301]="Btn_Main_SignIn_BtnGet",e[e.Btn_Main_Guaji=30400]="Btn_Main_Guaji",e[e.Btn_Main_Guaji_Btn_Fast=30410]="Btn_Main_Guaji_Btn_Fast",e[e.Btn_Main_Guaji_Btn_GuaJi=30420]="Btn_Main_Guaji_Btn_GuaJi",e[e.Btn_Main_Guaji_Btn_Fast_Ad=30411]="Btn_Main_Guaji_Btn_Fast_Ad",e[e.Btn_Main_Rank=30500]="Btn_Main_Rank",e[e.Btn_Main_Vip=30600]="Btn_Main_Vip",e[e.Btn_Main_WeekCard=30700]="Btn_Main_WeekCard",e[e.Btn_Main_Bag=30800]="Btn_Main_Bag",e[e.Btn_Main_ShouChong=30900]="Btn_Main_ShouChong",e[e.Btn_Main_LeiChong=31e3]="Btn_Main_LeiChong",e[e.Btn_Task=40001]="Btn_Task",e[e.Btn_Task_Daily=40100]="Btn_Task_Daily",e[e.Btn_Task_Achievenment=40200]="Btn_Task_Achievenment",e[e.Btn_Activity=5e4]="Btn_Activity",e[e.Btn_Activity_Endless=50101]="Btn_Activity_Endless",e[e.Btn_Activity_Boss=50201]="Btn_Activity_Boss",e[e.Btn_Activity_Tower=50301]="Btn_Activity_Tower",e[e.Btn_Activity_Maze=50401]="Btn_Activity_Maze",e[e.Btn_Map_Team_0=50402]="Btn_Map_Team_0",e[e.Btn_Map_Team_1=50403]="Btn_Map_Team_1",e[e.Btn_Map_Team_2=50404]="Btn_Map_Team_2",e[e.Btn_Map_Team_3=50405]="Btn_Map_Team_3",e[e.Btn_Map_Team_4=50406]="Btn_Map_Team_4"}(n=a.RedEventType||(a.RedEventType={})),function(e){e.RED_TIP="red_tip_",e.RED_CHECK="red_check_"}(o=a.RedEventString||(a.RedEventString={})),function(e){e.COIN="coin",e.GEM="gem",e.HERO_EXP="hero_exp",e.HERO_STONE="hero_stone",e.Animal_Food="animal_food",e.EQUIP="equip",e.TASK="task",e.ZHAN_LI="zhan_li",e.TALENT_POINT="tanle_point",e.EQUIP_WEAR_UNLOAD="equip_wear_unload",e.TICKET="ticket",e.TEAM_PET="team_pet"}(i=a.AssetsEventType||(a.AssetsEventType={}));var s=cc._decorator,c=s.ccclass,l=(s.property,function(){function e(){}return e.addRedEvent=function(e,t,a,n){cc.director.on(e+t,a,n)},e.removeRedEvent=function(e,t,a,n){cc.director.off(e+t,a,n)},e.postRedEvent=function(e,t,a,n){cc.director.emit(e+t,a,n)},e.postAssetsEvent=function(e){switch(e){case i.COIN:this.postRedEvent(o.RED_CHECK,n.Btn_Role);break;case i.GEM:break;case i.TEAM_PET:case i.HERO_EXP:case i.HERO_STONE:case i.EQUIP_WEAR_UNLOAD:case i.EQUIP:this.postRedEvent(o.RED_CHECK,n.Btn_Role);break;case i.TASK:case i.ZHAN_LI:this.postRedEvent(o.RED_CHECK,n.Btn_Main);break;case i.Animal_Food:break;case i.TICKET:this.postRedEvent(o.RED_CHECK,n.Btn_Activity)}},r([c],e)}());a.EventManager=l,cc._RF.pop()},{}],ExchangeLevel:[function(e,t,a){"use strict";cc._RF.push(t,"ea6dblWo/FBk7cFITmSPxh9","ExchangeLevel");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Prop/PropConfig"),s=e("../EquipmentManager"),c=e("./EquipDataItem"),l=cc._decorator,g=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.level1=null,t.level2=null,t.equipment1=null,t.equipment2=null,t.other=null,t.self=null,t.nodes=null,t}return o(t,e),t.prototype.onEnable=function(){if(this.other){var e=s.EquipmentManager.getInstance().getEquipNodeById(this.self,r.PropAction.Null);this.equipment1.addChild(e);var t=s.EquipmentManager.getInstance().getEquipNodeById(this.other,r.PropAction.Null);this.equipment2.addChild(t)}},t.prototype.clickyes=function(){this.nodes.getComponent(c.default).onClickBtnEquips(),this.clickBtnClose()},t.prototype.clickBtnClose=function(){this.nodes.getComponent(c.default).onClickBtnEquips(),this.equipment1.children[0].destroy(),this.equipment2.children[0].destroy(),this.node.active=!1},i([u(cc.Node)],t.prototype,"level1",void 0),i([u(cc.Node)],t.prototype,"level2",void 0),i([u(cc.Node)],t.prototype,"equipment1",void 0),i([u(cc.Node)],t.prototype,"equipment2",void 0),i([g],t)}(cc.Component);a.default=p,cc._RF.pop()},{"../../Prop/PropConfig":"PropConfig","../EquipmentManager":"EquipmentManager","./EquipDataItem":"EquipDataItem"}],ExclusiveEnhancement:[function(e,t,a){"use strict";cc._RF.push(t,"a54c6RDoQJPzIdotKiOWNkL","ExclusiveEnhancement"),Object.defineProperty(a,"__esModule",{value:!0}),a.ExclusiveEnhancementManager=a.JsonExclusiveEnhancement=void 0;var n=e("../Loading/LoadManager"),o=function(){this.ExclusiveWeapon=0,this.HeroID=0,this.SumStage=0,this.Star=0,this.CurrentStage=0,this.Attack=0,this.Health=0,this.Defense=0,this.Stage=0};a.JsonExclusiveEnhancement=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("ExclusiveEnhancement",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonExclusiveEnhancement\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.ExclusiveWeapon,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonExclusiveEnhancement=function(e){return this.data.get(e)},e.prototype.getHeroID=function(e){return this.data.get(e).HeroID},e.prototype.getSumStage=function(e){return this.data.get(e).SumStage},e.prototype.getStar=function(e){return this.data.get(e).Star},e.prototype.getCurrentStage=function(e){return this.data.get(e).CurrentStage},e.prototype.getAttack=function(e){return this.data.get(e).Attack},e.prototype.getHealth=function(e){return this.data.get(e).Health},e.prototype.getDefense=function(e){return this.data.get(e).Defense},e.prototype.getStage=function(e){return this.data.get(e).Stage},e.getMaxExclusiveWeapon=function(){return 4016},e.prototype.getJsonDataByHeroTypeAndStage=function(e,t){var a;return this.data.forEach(function(n){n.HeroID==e&&n.SumStage==t&&(a=n)}),a},e.prototype.getId=function(e,t){return 1e3*e+t},e._instance=null,e}();a.ExclusiveEnhancementManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],ExclusiveEquipItem:[function(e,t,a){"use strict";cc._RF.push(t,"d96d6s+Z3FKcrTw+dEjoWb3","ExclusiveEquipItem");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Hero/Data/HeroManager"),s=e("../../JsonData/ExclusiveEnhancement"),c=e("../../Prop/PropManager"),l=cc._decorator,g=l.ccclass,u=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(e){var t=c.PropManager.getInstance(),a=s.ExclusiveEnhancementManager.getInstance().getJsonByHeroTypeAndWeaponLevel(e,r.HeroManager.getInstance().getExclusiveEquipLevel(e));this.node.getChildByName("bg").getComponent(cc.Sprite).spriteFrame=t.getSpByName("Item_frame_"+a.Quality),this.node.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=t.getSpByName("Exclusive_Weapon_"+e+"_1"),this.node.getChildByName("levelNum").getComponent(cc.Label).string="+"+r.HeroManager.getInstance().getExclusiveEquipLevel(e)},i([g],t)}(cc.Component));a.default=u,cc._RF.pop()},{"../../Hero/Data/HeroManager":"HeroManager","../../JsonData/ExclusiveEnhancement":"ExclusiveEnhancement","../../Prop/PropManager":"PropManager"}],ExclusiveInfoUi:[function(e,t,a){"use strict";cc._RF.push(t,"413e4l/p1pAIoZ8NJU0CELl","ExclusiveInfoUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Ads/ApkManager"),s=e("../GameManager"),c=e("../Hero/Data/HeroBaseInfo"),l=e("../Hero/Data/HeroManager"),g=e("../Hero/Game/HeroConfig"),u=e("../JsonData/EWUnlockCost"),p=e("../JsonData/ExclusiveEnhancement"),d=e("../JsonData/ExclusiveWeaponMessage"),h=e("../JsonData/ExclusiveWeaponSkill"),f=e("../multiLanguage/LanguageManager"),_=e("../multiLanguage/TextLanguage"),m=e("../Pet/Ui/PetItem"),y=e("../Prop/Data/Item"),I=e("../Prop/PropConfig"),v=e("../Prop/PropManager"),M=e("../Sound/AudioConstants"),C=e("../Task/TaskEnum"),S=e("../Task/TaskManager"),P=e("../Tools/MyTool"),k=e("../UI/GetAssetsUi"),b=e("../UI/UIComponent"),T=e("../UI/UIConfig"),B=e("../UI/UIManager"),w=cc._decorator,N=w.ccclass,L=(w.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hero_type=g.Hero_Type.NULL,t.replace=["~a","~b","~c","~d"],t.replaces=["~z","~y","~x","~w"],t}return o(t,e),t.prototype.initData=function(e){this.hero_type=e,this.refreshUi()},t.prototype.refreshUi=function(){var e,t,a,n=l.HeroManager.getInstance().getHeroInfo(this.hero_type),o=c.HeroBaseInfoManager.getInstance().getJsonHeroBaseInfo(this.hero_type),i=d.ExclusiveWeaponMessageManager.getInstance().getJsonExclusiveWeaponMessage(this.hero_type),r=this.node.getChildByName("back"),s=r.getChildByName("curRoot"),g=r.getChildByName("content"),M=r.getChildByName("cost").children[0],C=r.getChildByName("btns"),S=r.getChildByName("progress");if(0==n.exclusive_equip_stage){e=p.ExclusiveEnhancementManager.getInstance().getJsonDataByHeroTypeAndStage(this.hero_type,i.MaxStage),t=l.HeroManager.getInstance().getExclusiveWeaponData(this.hero_type,i.MaxStage),a=h.ExclusiveWeaponSkillManager.getInstance().getJsonDataByHeroTypeAndStage(this.hero_type,e.Star+1),s.getChildByName("zhanliNum").getComponent(cc.Label).string=P.default.getCoinDanwei(l.HeroManager.getInstance().getExclusiveWeaponCombbat(this.hero_type,i.MaxStage)),C.children[0].active=!0,C.children[1].active=!1,S.active=!1,M.children[0].getComponent(cc.Sprite).spriteFrame=v.PropManager.getInstance().getSpByName("Item_"+o.ExclusiveWeaponFragment);var k=u.EWUnlockCostManager.getInstance().getCostFragment(n.hero_quality),b=v.PropManager.getInstance().getPropNum(o.ExclusiveWeaponFragment);M.children[1].getComponent(cc.Label).string=P.default.getCoinDanwei(b),M.children[2].getComponent(cc.Label).string="/"+P.default.getCoinDanwei(k),M.children[1].color=b<k?cc.color(254,76,76):cc.color(222,199,166)}else e=p.ExclusiveEnhancementManager.getInstance().getJsonDataByHeroTypeAndStage(this.hero_type,n.exclusive_equip_stage),t=l.HeroManager.getInstance().getExclusiveWeaponData(this.hero_type,n.exclusive_equip_stage),a=h.ExclusiveWeaponSkillManager.getInstance().getJsonDataByHeroTypeAndStage(this.hero_type,e.Star+1),s.getChildByName("zhanliNum").getComponent(cc.Label).string=P.default.getCoinDanwei(l.HeroManager.getInstance().getExclusiveWeaponCombbat(this.hero_type,n.exclusive_equip_stage)),C.children[0].active=!1,C.children[1].active=!0,S.active=!0,n.exclusive_equip_stage!=i.MaxStage&&(M.children[0].getComponent(cc.Sprite).spriteFrame=v.PropManager.getInstance().getSpByName("Item_"+o.ExclusiveWeaponFragment),k=u.EWUnlockCostManager.getInstance().getCostFragment(n.hero_quality),b=v.PropManager.getInstance().getPropNum(o.ExclusiveWeaponFragment),M.children[1].getComponent(cc.Label).string=P.default.getCoinDanwei(b),M.children[2].getComponent(cc.Label).string="/"+P.default.getCoinDanwei(k),M.children[1].color=b<k?cc.color(254,76,76):cc.color(222,199,166));var T=y.ItemManager.getInstance().getJsonItem(o.FirstExclusiveWeaponID+e.Star);n.exclusive_equip_stage==i.MaxStage?(C.active=!1,M.active=!1,S.active=!1):(C.active=!0,M.active=!0),s.getChildByName("propRoot").children[0].getComponent(m.default).init(this.hero_type,T.ItemID,I.PropAction.Null);var B=s.getChildByName("propName");B.getComponent(cc.Label).string="["+v.PropManager.getInstance().getPropQualityName(T.Quality)+"]"+f.default.getInstance().getStrByTextId(T.NameTextId),B.color=v.PropManager.getInstance().getPropQualityTextColor(T.Quality),g.getChildByName("AKT").children[2].getComponent(cc.Label).string="+"+P.default.numberFormat(100*e.Attack,2)+"%("+P.default.numberFormat(t.total_attack,2)+")",g.getChildByName("HP").children[2].getComponent(cc.Label).string="+"+P.default.numberFormat(100*e.Health,2)+"%("+P.default.numberFormat(t.total_hp,2)+")",g.getChildByName("Defence").children[2].getComponent(cc.Label).string="+"+P.default.numberFormat(100*e.Defense,2)+"%("+P.default.numberFormat(t.total_defense,2)+")";var w=g.getChildByName("skillIcon");w.children[0].getComponent(cc.Sprite).spriteFrame=l.HeroManager.getInstance().getSpriteFrameByNames("Item_"+o.FirstExclusiveWeaponID+"_Skill"),w.children[1].children[0].getComponent(_.default).setTextId(i.ExclusiveWeaponSkillID),w.children[1].children[1].getComponent(cc.Label).string="(Lv."+(e.Star+1)+")";var N=f.default.getInstance().getStrByTextId(i.ExclusiveWeaponSkillDescription);N=(N=(N=(N=(N=(N=(N=(N=N.replace(this.replace[0],P.default.numberFormat(a.ExclusiveWeaponSkillValue_1,2)+"")).replace(this.replace[1],P.default.numberFormat(a.ExclusiveWeaponSkillValue_1,2)+"")).replace(this.replace[2],P.default.numberFormat(a.ExclusiveWeaponSkillValue_1,2)+"")).replace(this.replace[3],P.default.numberFormat(a.ExclusiveWeaponSkillValue_1,2)+"")).replace(this.replaces[0],P.default.numberFormat(100*a.ExclusiveWeaponSkillValue_1)+"")).replace(this.replaces[1],P.default.numberFormat(100*a.ExclusiveWeaponSkillValue_1,2)+"")).replace(this.replaces[2],P.default.numberFormat(100*a.ExclusiveWeaponSkillValue_1,2)+"")).replace(this.replaces[3],P.default.numberFormat(100*a.ExclusiveWeaponSkillValue_1,2)+""),g.getChildByName("skillDescription").getComponent(cc.RichText).string=N;for(var L=0;L<5;L++)e.CurrentStage>L?S.getChildByName("circle"+L).active=!0:S.getChildByName("circle"+L).active=!1,L<4&&(e.CurrentStage>L+1?S.getChildByName("bar"+L).active=!0:S.getChildByName("bar"+L).active=!1);var D=0;switch(o.Quality){case 1:D=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeyC);break;case 2:D=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeyB);break;case 3:D=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeyA);break;case 4:D=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeyS);break;case 5:D=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeySS);break;case 6:D=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeySSS)}D<1?(C.getChildByName("btnReplace").getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),C.getChildByName("btnReplace").getComponentInChildren(cc.Label).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite"))):(C.getChildByName("btnReplace").getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),C.getChildByName("btnReplace").getComponentInChildren(cc.Label).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite"))),C.getChildByName("redUp").active=l.HeroManager.getInstance().checkExUp(this.hero_type)},t.prototype.onBtnUnlockClick=function(){s.default.getInstance().sound_manager.playSound(M.SoundIndex.click);var e=c.HeroBaseInfoManager.getInstance().getJsonHeroBaseInfo(this.hero_type),t=u.EWUnlockCostManager.getInstance().getCostFragment(e.Quality);v.PropManager.getInstance().changePropNum(e.ExclusiveWeaponFragment,-t)?(l.HeroManager.getInstance().setExclusiveEquipLevel(this.hero_type,1),this.refreshUi()):B.UIManager.getInstance().showUiDialog(T.UIPath.GetAssetsTip,T.UILayerLevel.Three,{onCompleted:function(e){e.getComponent(k.default).initData(k.GetAssetsType.PetAndEquip)}})},t.prototype.onMasterKeyBtnClick=function(){s.default.getInstance().sound_manager.playSound(M.SoundIndex.click);var e=0,t=0;switch(c.HeroBaseInfoManager.getInstance().getQuality(this.hero_type)){case 1:e=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeyC),t=1200017;break;case 2:e=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeyB),t=1200018;break;case 3:e=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeyA),t=1200019;break;case 4:e=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeyS),t=1200020;break;case 5:e=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeySS),t=1200021;break;case 6:e=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeySSS),t=1200022}e<1?s.default.getInstance().showMessage(f.default.getInstance().getStrByTextId(t)):this.showExchangeUi()},t.prototype.showExchangeUi=function(){var e=c.HeroBaseInfoManager.getInstance().getJsonHeroBaseInfo(this.hero_type),t=this.node.getChildByName("exchange"),a=0,n=0;switch(e.Quality){case 1:a=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeyC),n=I.PropId.ExclusiveWeaponMasterKeyC;break;case 2:a=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeyB),n=I.PropId.ExclusiveWeaponMasterKeyB;break;case 3:a=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeyA),n=I.PropId.ExclusiveWeaponMasterKeyA;break;case 4:a=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeyS),n=I.PropId.ExclusiveWeaponMasterKeyS;break;case 5:a=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeySS),n=I.PropId.ExclusiveWeaponMasterKeySS;break;case 6:a=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeySSS),n=I.PropId.ExclusiveWeaponMasterKeySSS}var o=v.PropManager.getInstance().createPropItem(n,0),i=v.PropManager.getInstance().createPropItem(e.ExclusiveWeaponFragment,0);t.active=!0,t.getChildByName("slider").getComponent(cc.Slider).progress=0,t.getChildByName("slider").getComponent(cc.ProgressBar).progress=0,t.getChildByName("num").getComponent(cc.Label).string=(t.getChildByName("slider").getComponent(cc.Slider).progress*a).toFixed()+"/"+a,t.getChildByName("Item_1").addChild(o),t.getChildByName("Item_2").addChild(i)},t.prototype.sliderMoveResponce=function(e){var t=this.node.getChildByName("exchange"),a=0;switch(c.HeroBaseInfoManager.getInstance().getQuality(this.hero_type)){case 1:a=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeyC);break;case 2:a=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeyB);break;case 3:a=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeyA);break;case 4:a=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeyS);break;case 5:a=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeySS);break;case 6:a=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeySSS)}t.getChildByName("slider").getComponent(cc.ProgressBar).progress=e.progress,t.getChildByName("num").getComponent(cc.Label).string=(e.progress*a).toFixed()+"/"+a},t.prototype.onExChangeBtnClick=function(){s.default.getInstance().sound_manager.playSound(M.SoundIndex.click),this.node.getChildByName("exchange").active=!1;var e=this.node.getChildByName("exchange"),t=0,a=0;switch(c.HeroBaseInfoManager.getInstance().getQuality(this.hero_type)){case 1:t=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeyC),a=I.PropId.ExclusiveWeaponMasterKeyC;break;case 2:t=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeyB),a=I.PropId.ExclusiveWeaponMasterKeyB;break;case 3:t=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeyA),a=I.PropId.ExclusiveWeaponMasterKeyA;break;case 4:t=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeyS),a=I.PropId.ExclusiveWeaponMasterKeyS;break;case 5:t=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeySS),a=I.PropId.ExclusiveWeaponMasterKeySS;break;case 6:t=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeySSS),a=I.PropId.ExclusiveWeaponMasterKeySSS}var n=Number((e.getChildByName("slider").getComponent(cc.ProgressBar).progress*t).toFixed());if(0!=n){v.PropManager.getInstance().changePropNum(a,-n),v.PropManager.getInstance().changePropNum(c.HeroBaseInfoManager.getInstance().getExclusiveWeaponFragment(this.hero_type),n);var o=v.PropManager.getInstance().createPropItem(c.HeroBaseInfoManager.getInstance().getExclusiveWeaponFragment(this.hero_type),n);s.default.getInstance().showGetTip(o),this.refreshUi()}},t.prototype.onChangeExchangeBtnClick=function(e,t){s.default.getInstance().sound_manager.playSound(M.SoundIndex.click),t=Number(t);var a=this.node.getChildByName("exchange"),n=0;switch(c.HeroBaseInfoManager.getInstance().getQuality(this.hero_type)){case 1:n=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeyC);break;case 2:n=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeyB);break;case 3:n=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeyA);break;case 4:n=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeyS);break;case 5:n=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeySS);break;case 6:n=v.PropManager.getInstance().getPropNum(I.PropId.ExclusiveWeaponMasterKeySSS)}var o=a.getChildByName("slider").getComponent(cc.Slider);o.progress=(o.progress*n+1*t)/n,o.progress>1&&(o.progress=1),o.progress<0&&(o.progress=0),a.getChildByName("slider").getComponent(cc.ProgressBar).progress=o.progress,a.getChildByName("num").getComponent(cc.Label).string=(o.progress*n).toFixed()+"/"+n},t.prototype.onCloseExchange=function(){s.default.getInstance().sound_manager.playSound(M.SoundIndex.click),this.node.getChildByName("exchange").active=!1},t.prototype.onBtnUpgradeClick=function(){s.default.getInstance().sound_manager.playSound(M.SoundIndex.click);var e=c.HeroBaseInfoManager.getInstance().getJsonHeroBaseInfo(this.hero_type),t=u.EWUnlockCostManager.getInstance().getCostFragment(e.Quality);if(v.PropManager.getInstance().changePropNum(e.ExclusiveWeaponFragment,-t)){l.HeroManager.getInstance().addExclusiveEquipLevel(this.hero_type),S.default.getInstance().emitTask(C.TaskItem.\u5347\u7ea71\u6b21\u4e13\u6b66);var a=p.ExclusiveEnhancementManager.getInstance().getJsonDataByHeroTypeAndStage(this.hero_type,l.HeroManager.getInstance().getExclusiveEquipLevel(this.hero_type));0==a.CurrentStage&&this.showUpTip(a.SumStage),this.refreshUi()}else B.UIManager.getInstance().showUiDialog(T.UIPath.GetAssetsTip,T.UILayerLevel.Three,{onCompleted:function(e){e.getComponent(k.default).initData(k.GetAssetsType.PetAndEquip)}})},t.prototype.clickBtnClose=function(){s.default.getInstance().sound_manager.playSound(M.SoundIndex.click),this.destroySelf()},t.prototype.showUpTip=function(e){var t=this.node.getChildByName("upStarTip"),a=p.ExclusiveEnhancementManager.getInstance().getJsonDataByHeroTypeAndStage(this.hero_type,e-1),n=p.ExclusiveEnhancementManager.getInstance().getJsonDataByHeroTypeAndStage(this.hero_type,e),o=l.HeroManager.getInstance().getExclusiveWeaponData(this.hero_type,e-1),i=l.HeroManager.getInstance().getExclusiveWeaponData(this.hero_type,e),r=c.HeroBaseInfoManager.getInstance().getJsonHeroBaseInfo(this.hero_type);t.active=!0,0==a.Star?t.getChildByName("oldStar").getComponent(cc.Sprite).spriteFrame=null:t.getChildByName("oldStar").getComponent(cc.Sprite).spriteFrame=l.HeroManager.getInstance().getSpriteFrameByNames("Hero_Star_"+a.Star),t.getChildByName("oldSkillIcon").getComponent(cc.Sprite).spriteFrame=l.HeroManager.getInstance().getSpriteFrameByNames("Item_"+r.FirstExclusiveWeaponID+"_Skill"),t.getChildByName("oldSkillLevel").getComponent(cc.Label).string="Lv."+(a.Star+1),t.getChildByName("oldHpNum").getComponent(cc.Label).string="+"+P.default.numberFormat(100*a.Attack,2)+"%("+P.default.numberFormat(o.total_attack,2)+")",t.getChildByName("oldAtkNum").getComponent(cc.Label).string="+"+P.default.numberFormat(100*a.Health,2)+"%("+P.default.numberFormat(o.total_hp,2)+")",t.getChildByName("oldDefanceNum").getComponent(cc.Label).string="+"+P.default.numberFormat(100*a.Defense,2)+"%("+P.default.numberFormat(o.total_defense,2)+")",t.getChildByName("star").getComponent(cc.Sprite).spriteFrame=l.HeroManager.getInstance().getSpriteFrameByNames("Hero_Star_"+n.Star),t.getChildByName("skillIcon").getComponent(cc.Sprite).spriteFrame=l.HeroManager.getInstance().getSpriteFrameByNames("Item_"+r.FirstExclusiveWeaponID+"_Skill"),t.getChildByName("skillLevel").getComponent(cc.Label).string="Lv."+(n.Star+1),t.getChildByName("hpNum").getComponent(cc.Label).string="+"+P.default.numberFormat(100*n.Attack,2)+"%("+P.default.numberFormat(i.total_attack,2)+")",t.getChildByName("atkNum").getComponent(cc.Label).string="+"+P.default.numberFormat(100*n.Health,2)+"%("+P.default.numberFormat(i.total_hp,2)+")",t.getChildByName("defanceNum").getComponent(cc.Label).string="+"+P.default.numberFormat(100*n.Defense,2)+"%("+P.default.numberFormat(i.total_defense,2)+")"},t.prototype.closeUpTip=function(){this.node.getChildByName("upStarTip").active=!1},t.prototype.destroySelf=function(){e.prototype.onClose.call(this),r.default.getInstance().closeBanner()},i([N],t)}(b.default));a.default=L,cc._RF.pop()},{"../Ads/ApkManager":"ApkManager","../GameManager":"GameManager","../Hero/Data/HeroBaseInfo":"HeroBaseInfo","../Hero/Data/HeroManager":"HeroManager","../Hero/Game/HeroConfig":"HeroConfig","../JsonData/EWUnlockCost":"EWUnlockCost","../JsonData/ExclusiveEnhancement":"ExclusiveEnhancement","../JsonData/ExclusiveWeaponMessage":"ExclusiveWeaponMessage","../JsonData/ExclusiveWeaponSkill":"ExclusiveWeaponSkill","../Pet/Ui/PetItem":"PetItem","../Prop/Data/Item":"Item","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../Task/TaskEnum":"TaskEnum","../Task/TaskManager":"TaskManager","../Tools/MyTool":"MyTool","../UI/GetAssetsUi":"GetAssetsUi","../UI/UIComponent":"UIComponent","../UI/UIConfig":"UIConfig","../UI/UIManager":"UIManager","../multiLanguage/LanguageManager":"LanguageManager","../multiLanguage/TextLanguage":"TextLanguage"}],ExclusiveWeaponMessage:[function(e,t,a){"use strict";cc._RF.push(t,"a3f06E44xtE953cGxsRjlFJ","ExclusiveWeaponMessage"),Object.defineProperty(a,"__esModule",{value:!0}),a.ExclusiveWeaponMessageManager=a.JsonExclusiveWeaponMessage=void 0;var n=e("../Loading/LoadManager"),o=function(){this.HeroID=0,this.ExclusiveWeaponNameID=0,this.ExclusiveWeaponSkillID=0,this.ExclusiveWeaponSkillDescription=0,this.MaxStage=0};a.JsonExclusiveWeaponMessage=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("ExclusiveWeaponMessage",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonExclusiveWeaponMessage\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.HeroID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonExclusiveWeaponMessage=function(e){return this.data.get(e)},e.prototype.getExclusiveWeaponNameID=function(e){return this.data.get(e).ExclusiveWeaponNameID},e.prototype.getExclusiveWeaponSkillID=function(e){return this.data.get(e).ExclusiveWeaponSkillID},e.prototype.getExclusiveWeaponSkillDescription=function(e){return this.data.get(e).ExclusiveWeaponSkillDescription},e.prototype.getMaxStage=function(e){return this.data.get(e).MaxStage},e.getMaxHeroID=function(){return 12},e._instance=null,e}();a.ExclusiveWeaponMessageManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],ExclusiveWeaponSkill:[function(e,t,a){"use strict";cc._RF.push(t,"22672rep+1LQZ44Id3DYt3/","ExclusiveWeaponSkill"),Object.defineProperty(a,"__esModule",{value:!0}),a.ExclusiveWeaponSkillManager=a.JsonExclusiveWeaponSkill=void 0;var n=e("../Loading/LoadManager"),o=function(){this.ExclusiveWeaponSkillID=0,this.SkillLevel=0,this.HeroID=0,this.ExclusiveWeaponSkillValue_1=0,this.ExclusiveWeaponSkillValue_2=0,this.ExclusiveWeaponSkillValue_3=0,this.ExclusiveWeaponSkillValue_4=0};a.JsonExclusiveWeaponSkill=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("ExclusiveWeaponSkill",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonExclusiveWeaponSkill\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.ExclusiveWeaponSkillID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonExclusiveWeaponSkill=function(e){return this.data.get(e)},e.prototype.getSkillLevel=function(e){return this.data.get(e).SkillLevel},e.prototype.getHeroID=function(e){return this.data.get(e).HeroID},e.prototype.getExclusiveWeaponSkillValue_1=function(e){return this.data.get(e).ExclusiveWeaponSkillValue_1},e.prototype.getExclusiveWeaponSkillValue_2=function(e){return this.data.get(e).ExclusiveWeaponSkillValue_2},e.prototype.getExclusiveWeaponSkillValue_3=function(e){return this.data.get(e).ExclusiveWeaponSkillValue_3},e.prototype.getExclusiveWeaponSkillValue_4=function(e){return this.data.get(e).ExclusiveWeaponSkillValue_4},e.getMaxExclusiveWeaponSkillID=function(){return 120006},e.prototype.getJsonDataByHeroTypeAndStage=function(e,t){var a;return this.data.forEach(function(n){n.HeroID==e&&n.SkillLevel==t&&(a=n)}),a},e.prototype.getId=function(e,t){return 1e4*e+t},e._instance=null,e}();a.ExclusiveWeaponSkillManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],ExclusiveWeaponsStrengtheningUi:[function(e,t,a){"use strict";cc._RF.push(t,"7a898eqhFpLkp8t++2z9rQF","ExclusiveWeaponsStrengtheningUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Ads/ApkManager"),s=e("../../GameManager"),c=e("../Data/HeroManager"),l=e("../Game/HeroConfig"),g=e("../../JsonData/ExclusiveEnhancement"),u=e("../../JsonData/ExclusiveWeaponMessage"),p=e("../../multiLanguage/LanguageManager"),d=e("../../multiLanguage/TextLanguage"),h=e("../../Prop/Data/Item"),f=e("../../Prop/PropManager"),_=e("../../Sound/AudioConstants"),m=e("../../Tools/MyTool"),y=e("../../UI/UIComponent"),I=cc._decorator,v=I.ccclass,M=I.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hero_type=l.Hero_Type.NULL,t.is_activation=!1,t.exclusive_weapons_strengthening_ui=null,t}return o(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t);var a=cc.find("Canvas");this.node.getChildByName("top").getComponent(cc.Widget).target=a,this.node.getChildByName("bottom").getComponent(cc.Widget).target=a},t.prototype.initData=function(e,t){void 0===t&&(t=!1),this.hero_type=e,this.is_activation=t,this.refreshUi()},t.prototype.refreshUi=function(){this.is_activation?this.refreshActivationUi():this.refreshStrengtheningUi()},t.prototype.refreshActivationUi=function(){var e=this.node.getChildByName("top"),t=this.node.getChildByName("bottom"),a=c.HeroManager.getInstance().checkExclusive(this.hero_type),n=u.ExclusiveWeaponMessageManager.getInstance().getJsonExclusiveWeaponMessage(this.hero_type);e.getChildByName("name").getComponent(d.default).setTextId(n.ExclusiveWeaponNameID),this.node.getChildByName("Exclusive_Weapon_1").getComponent(cc.Sprite).spriteFrame=this.exclusive_weapons_strengthening_ui.getSpriteFrame("Exclusive_Weapon_"+this.hero_type),t.getChildByName("Exclusive_Stone_Bg_1").getComponent(cc.Sprite).spriteFrame=this.exclusive_weapons_strengthening_ui.getSpriteFrame("Exclusive_Stone_Bg_"+h.ItemManager.getInstance().getQuality(a.cost_prop_id)),t.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame=f.PropManager.getInstance().getSpByName("Item_"+a.cost_prop_id),t.getChildByName("itemNum").getComponent(cc.Label).string=a.cur_prop_num+"/"+a.cost_prop_num,a.is_can_up||(t.getChildByName("itemNum").color=cc.Color.RED),t.getChildByName("strengthening").active=!1;var o=t.getChildByName("unlock");o.active=!0,o.getChildByName("sikllIcon").getComponent(cc.Sprite).spriteFrame=this.exclusive_weapons_strengthening_ui.getSpriteFrame("Exclusive_Skill_"+this.hero_type),o.getChildByName("skillName").getComponent(d.default).setTextId(n.ExclusiveWeaponSkillID),o.getChildByName("skillDes").getComponent(d.default).setTextId(n.ExclusiveWeaponSkillDescription);var i=o.getChildByName("scroll").getComponent(cc.ScrollView).content,r=i.getChildByName("levelDes1"),s=i.getChildByName("levelDes2"),l=i.getChildByName("levelDes3");r.getComponent(cc.Label).string=p.default.getInstance().getStrByTextId(n.ExclusiveWeaponStrengthenID_1),s.getComponent(cc.Label).string=p.default.getInstance().getStrByTextId(n.ExclusiveWeaponStrengthenID_2),l.getComponent(cc.Label).string=p.default.getInstance().getStrByTextId(n.ExclusiveWeaponStrengthenID_3)},t.prototype.refreshStrengtheningUi=function(){var e=this.node.getChildByName("top"),t=this.node.getChildByName("bottom"),a=c.HeroManager.getInstance().getHeroInfo(this.hero_type);t.getChildByName("unlock").active=!1;var n=t.getChildByName("strengthening"),o=n.getChildByName("notOver"),i=n.getChildByName("over");if(a.exclusive_equip_stage>=30){c.HeroManager.getInstance().setExclusiveEquipLevel(this.hero_type,30),n.getComponentInChildren(cc.Button).interactable=!1,n.getComponentInChildren(cc.Button).node.getComponentInChildren(d.default).setTextId(120010),n.getChildByName("over").active=!0,o.active=!1;var r=g.ExclusiveEnhancementManager.getInstance().getJsonByHeroTypeAndWeaponLevel(this.hero_type,a.exclusive_equip_stage);switch(i.getChildByName("cur1").getComponent(cc.Label).string="+"+a.exclusive_equip_stage,i.getChildByName("cur2").getComponent(cc.Label).string="+"+m.default.numberFormat(100*r.Health,2)+"%",i.getChildByName("cur3").getComponent(cc.Label).string="+"+m.default.numberFormat(100*r.Attack,2)+"%",i.getChildByName("cur4").getComponent(cc.Label).string="+"+m.default.numberFormat(100*r.Defense,2)+"%",r.AuxiliaryAttributeReading){case 1:n.getChildByName("label5").getComponent(d.default).setTextId(110019),i.getChildByName("cur5").getComponent(cc.Label).string="+"+r.Critical;break;case 2:n.getChildByName("label5").getComponent(d.default).setTextId(110017),i.getChildByName("cur5").getComponent(cc.Label).string="+"+r.Hit;break;case 3:n.getChildByName("label5").getComponent(d.default).setTextId(110018),i.getChildByName("cur5").getComponent(cc.Label).string="+"+m.default.numberFormat(100*r.Miss,2)+"%";break;case 4:n.getChildByName("label5").getComponent(d.default).setTextId(110020),i.getChildByName("cur5").getComponent(cc.Label).string="+"+m.default.numberFormat(100*r.ExtraCritical,2)+"%";break;case 5:n.getChildByName("label5").getComponent(d.default).setTextId(110021),i.getChildByName("cur5").getComponent(cc.Label).string="+"+m.default.numberFormat(100*r.AntiCritical,2);break;case 6:n.getChildByName("label5").getComponent(d.default).setTextId(110022),i.getChildByName("cur5").getComponent(cc.Label).string="+"+m.default.numberFormat(100*r.AntiExtraCritical,2)+"%"}return t.getChildByName("Exclusive_Stone_Bg_1").active=!1,t.getChildByName("costIcon").active=!1,t.getChildByName("Exclusive_Stone_Bg_0").active=!1,t.getChildByName("itemNum").active=!1,void(this.node.getChildByName("Exclusive_Weapon_1").getComponent(cc.Sprite).spriteFrame=this.exclusive_weapons_strengthening_ui.getSpriteFrame("Exclusive_Weapon_"+this.hero_type))}var s=g.ExclusiveEnhancementManager.getInstance().getJsonByHeroTypeAndWeaponLevel(this.hero_type,a.exclusive_equip_stage),l=g.ExclusiveEnhancementManager.getInstance().getJsonByHeroTypeAndWeaponLevel(this.hero_type,a.exclusive_equip_stage+1),p=u.ExclusiveWeaponMessageManager.getInstance().getJsonExclusiveWeaponMessage(this.hero_type);switch(e.getChildByName("name").getComponent(d.default).setTextId(p.ExclusiveWeaponNameID),this.node.getChildByName("Exclusive_Weapon_1").getComponent(cc.Sprite).spriteFrame=this.exclusive_weapons_strengthening_ui.getSpriteFrame("Exclusive_Weapon_"+this.hero_type),t.getChildByName("Exclusive_Stone_Bg_1").getComponent(cc.Sprite).spriteFrame=this.exclusive_weapons_strengthening_ui.getSpriteFrame("Exclusive_Stone_Bg_"+h.ItemManager.getInstance().getQuality(s.SpendPropID)),t.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame=f.PropManager.getInstance().getSpByName("Item_"+s.SpendPropID),t.getChildByName("itemNum").getComponent(cc.Label).string=f.PropManager.getInstance().getPropNum(s.SpendPropID)+"/"+s.SpendPropNum,n.active=!0,i.active=!1,o.active=!0,o.getChildByName("cur1").getComponent(cc.Label).string="+"+a.exclusive_equip_stage,o.getChildByName("cur2").getComponent(cc.Label).string="+"+m.default.numberFormat(100*s.Health,2)+"%",o.getChildByName("cur3").getComponent(cc.Label).string="+"+m.default.numberFormat(100*s.Attack,2)+"%",o.getChildByName("cur4").getComponent(cc.Label).string="+"+m.default.numberFormat(100*s.Defense,2)+"%",o.getChildByName("next1").getComponent(cc.Label).string="+"+(a.exclusive_equip_stage+1),o.getChildByName("next2").getComponent(cc.Label).string="+"+m.default.numberFormat(100*l.Health,2)+"%",o.getChildByName("next3").getComponent(cc.Label).string="+"+m.default.numberFormat(100*l.Attack,2)+"%",o.getChildByName("next4").getComponent(cc.Label).string="+"+m.default.numberFormat(100*l.Defense,2)+"%",s.AuxiliaryAttributeReading){case 1:n.getChildByName("label5").getComponent(d.default).setTextId(110019),o.getChildByName("cur5").getComponent(cc.Label).string="+"+s.Critical,o.getChildByName("next5").getComponent(cc.Label).string="+"+l.Critical;break;case 2:n.getChildByName("label5").getComponent(d.default).setTextId(110017),o.getChildByName("cur5").getComponent(cc.Label).string="+"+s.Hit,o.getChildByName("next5").getComponent(cc.Label).string="+"+l.Hit;break;case 3:n.getChildByName("label5").getComponent(d.default).setTextId(110018),o.getChildByName("cur5").getComponent(cc.Label).string="+"+m.default.numberFormat(100*s.Miss,2)+"%",o.getChildByName("next5").getComponent(cc.Label).string="+"+m.default.numberFormat(100*l.Miss,2);break;case 4:n.getChildByName("label5").getComponent(d.default).setTextId(110020),o.getChildByName("cur5").getComponent(cc.Label).string="+"+m.default.numberFormat(100*s.ExtraCritical,2)+"%",o.getChildByName("next5").getComponent(cc.Label).string="+"+m.default.numberFormat(100*l.ExtraCritical,2);break;case 5:n.getChildByName("label5").getComponent(d.default).setTextId(110021),o.getChildByName("cur5").getComponent(cc.Label).string="+"+m.default.numberFormat(100*s.AntiCritical,2),o.getChildByName("next5").getComponent(cc.Label).string="+"+m.default.numberFormat(100*l.AntiCritical,2);break;case 6:n.getChildByName("label5").getComponent(d.default).setTextId(110022),o.getChildByName("cur5").getComponent(cc.Label).string="+"+m.default.numberFormat(100*s.AntiExtraCritical,2)+"%",o.getChildByName("next5").getComponent(cc.Label).string="+"+m.default.numberFormat(100*l.AntiExtraCritical,2)}a.exclusive_equip_stage<10?(n.getChildByName("desLabel1").getComponent(d.default).setReplaceValue("~","10"),n.getChildByName("desLabel2").getComponent(d.default).setTextId(p.ExclusiveWeaponStrengthenID_1)):a.exclusive_equip_stage<20?(n.getChildByName("desLabel1").getComponent(d.default).setReplaceValue("~","20"),n.getChildByName("desLabel2").getComponent(d.default).setTextId(p.ExclusiveWeaponStrengthenID_2)):a.exclusive_equip_stage<30?(n.getChildByName("desLabel1").getComponent(d.default).setReplaceValue("~","30"),n.getChildByName("desLabel2").getComponent(d.default).setTextId(p.ExclusiveWeaponStrengthenID_3)):n.getChildByName("desLabel2").getComponent(d.default).setTextId(p.ExclusiveWeaponStrengthenID_3)},t.prototype.onClickActivationBtn=function(){s.default.getInstance().sound_manager.playSound(_.SoundIndex.click),c.HeroManager.getInstance().addExclusiveEquipLevel(this.hero_type),this.is_activation=!1,this.refreshUi()},t.prototype.onClickStrengtheningBtn=function(){s.default.getInstance().sound_manager.playSound(_.SoundIndex.click);var e=c.HeroManager.getInstance().checkExclusive(this.hero_type);e.is_can_up&&(f.PropManager.getInstance().changePropNum(e.cost_prop_id,-e.cost_prop_num),c.HeroManager.getInstance().addExclusiveEquipLevel(this.hero_type),this.refreshUi())},t.prototype.onClickBtnClose=function(){s.default.getInstance().sound_manager.playSound(_.SoundIndex.click),this.destroySelf()},t.prototype.destroySelf=function(){e.prototype.onClose.call(this),r.default.getInstance().closeBanner()},i([M(cc.SpriteAtlas)],t.prototype,"exclusive_weapons_strengthening_ui",void 0),i([v],t)}(y.default);a.default=C,cc._RF.pop()},{"../../Ads/ApkManager":"ApkManager","../../GameManager":"GameManager","../../JsonData/ExclusiveEnhancement":"ExclusiveEnhancement","../../JsonData/ExclusiveWeaponMessage":"ExclusiveWeaponMessage","../../Prop/Data/Item":"Item","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../Tools/MyTool":"MyTool","../../UI/UIComponent":"UIComponent","../../multiLanguage/LanguageManager":"LanguageManager","../../multiLanguage/TextLanguage":"TextLanguage","../Data/HeroManager":"HeroManager","../Game/HeroConfig":"HeroConfig"}],ExclusiveWeaponsUi:[function(e,t,a){"use strict";cc._RF.push(t,"353d6bkDidJz5zE1/iObsEM","ExclusiveWeaponsUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Ads/ApkManager"),s=e("../../Equipment/Ui/ExclusiveEquipItem"),c=e("../../GameManager"),l=e("../../Hero/Data/HeroManager"),g=e("../../Hero/Game/HeroConfig"),u=e("../../JsonData/ExclusiveEnhancement"),p=e("../../JsonData/ExclusiveWeaponMessage"),d=e("../../multiLanguage/LanguageManager"),h=e("../../multiLanguage/TextLanguage"),f=e("../../Sound/AudioConstants"),_=e("../../Tools/MyTool"),m=e("../../UI/UIComponent"),y=e("../../UI/UIConfig"),I=e("../../UI/UIManager"),v=e("./ExclusiveWeaponsStrengtheningUi"),M=cc._decorator,C=M.ccclass,S=M.property,P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hero_type=g.Hero_Type.NULL,t.exclusive_weapon_ui=null,t}return o(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t)},t.prototype.initData=function(e){this.hero_type=e,this.refreshUi()},t.prototype.refreshUi=function(){var e=l.HeroManager.getInstance().getHeroInfo(this.hero_type),t=u.ExclusiveEnhancementManager.getInstance().getJsonByHeroTypeAndWeaponLevel(this.hero_type,e.exclusive_equip_stage),a=p.ExclusiveWeaponMessageManager.getInstance().getJsonExclusiveWeaponMessage(this.hero_type);this.node.getChildByName("equipName").getComponent(h.default).setTextId(a.ExclusiveWeaponNameID),this.node.getChildByName("heroDes").getComponent(h.default).setTextId(a.HeroExclusive),this.node.getChildByName("ATK").getComponent(cc.Label).string=""+_.default.numberFormat(t.Attack*l.HeroManager.getInstance().getHeroZhanli(this.hero_type),2),this.node.getChildByName("Hp").getComponent(cc.Label).string=_.default.numberFormat(100*t.Health,2)+"%",this.node.getChildByName("defence").getComponent(cc.Label).string=_.default.numberFormat(100*t.Defense,2)+"%",this.node.getChildByName("atk").getComponent(cc.Label).string=_.default.numberFormat(100*t.Attack,2)+"%",this.node.getChildByName("crit").getComponent(cc.Label).string=""+_.default.numberFormat(t.Hit,2),this.node.getChildByName("exclusiveEquipItem").getComponent(s.default).init(this.hero_type),this.node.getChildByName("skillName").getComponent(cc.Label).string=d.default.getInstance().getStrByTextId(a.ExclusiveWeaponSkillID),this.node.getChildByName("skillIcon").getComponent(cc.Sprite).spriteFrame=this.exclusive_weapon_ui.getSpriteFrame("Exclusive_Skill_"+this.hero_type),this.node.getChildByName("skillDes").getComponent(cc.Label).string=d.default.getInstance().getStrByTextId(a.ExclusiveWeaponSkillDescription);var n=this.node.getChildByName("scroll").getComponent(cc.ScrollView).content,o=n.getChildByName("levelDes1"),i=n.getChildByName("levelDes2"),r=n.getChildByName("levelDes3");o.getComponent(cc.Label).string=d.default.getInstance().getStrByTextId(a.ExclusiveWeaponStrengthenID_1),i.getComponent(cc.Label).string=d.default.getInstance().getStrByTextId(a.ExclusiveWeaponStrengthenID_2),r.getComponent(cc.Label).string=d.default.getInstance().getStrByTextId(a.ExclusiveWeaponStrengthenID_3),e.exclusive_equip_stage>=10&&(o.getComponentInChildren(cc.Sprite).spriteFrame=this.exclusive_weapon_ui.getSpriteFrame("Exclusive_Info_1"),o.color=cc.color(137,233,237),o.addComponent(cc.LabelOutline).color=cc.color(32,36,55),o.getComponent(cc.LabelOutline).width=2),e.exclusive_equip_stage>=20&&(i.getComponentInChildren(cc.Sprite).spriteFrame=this.exclusive_weapon_ui.getSpriteFrame("Exclusive_Info_1"),i.color=cc.color(137,233,237),i.addComponent(cc.LabelOutline).color=cc.color(32,36,55),i.getComponent(cc.LabelOutline).width=2),e.exclusive_equip_stage>=30&&(r.getComponentInChildren(cc.Sprite).spriteFrame=this.exclusive_weapon_ui.getSpriteFrame("Exclusive_Info_1"),r.color=cc.color(137,233,237),r.addComponent(cc.LabelOutline).color=cc.color(32,36,55),r.getComponent(cc.LabelOutline).width=2)},t.prototype.onClickBtnStrengthening=function(){var e=this;c.default.getInstance().sound_manager.playSound(f.SoundIndex.click),I.UIManager.getInstance().showUiDialog(y.UIPath.ExclusiveStrengthening,y.UILayerLevel.Two,{onCompleted:function(t){t.getComponent(v.default).init({onClose:function(){e.refreshUi()}}),t.getComponent(v.default).initData(e.hero_type,!1)}})},t.prototype.onClickBtnClose=function(){c.default.getInstance().sound_manager.playSound(f.SoundIndex.click),this.destroySelf()},t.prototype.destroySelf=function(){e.prototype.onClose.call(this),r.default.getInstance().closeBanner()},i([S(cc.SpriteAtlas)],t.prototype,"exclusive_weapon_ui",void 0),i([C],t)}(m.default);a.default=P,cc._RF.pop()},{"../../Ads/ApkManager":"ApkManager","../../Equipment/Ui/ExclusiveEquipItem":"ExclusiveEquipItem","../../GameManager":"GameManager","../../Hero/Data/HeroManager":"HeroManager","../../Hero/Game/HeroConfig":"HeroConfig","../../JsonData/ExclusiveEnhancement":"ExclusiveEnhancement","../../JsonData/ExclusiveWeaponMessage":"ExclusiveWeaponMessage","../../Sound/AudioConstants":"AudioConstants","../../Tools/MyTool":"MyTool","../../UI/UIComponent":"UIComponent","../../UI/UIConfig":"UIConfig","../../UI/UIManager":"UIManager","../../multiLanguage/LanguageManager":"LanguageManager","../../multiLanguage/TextLanguage":"TextLanguage","./ExclusiveWeaponsStrengtheningUi":"ExclusiveWeaponsStrengtheningUi"}],FastGuaJiUi:[function(e,t,a){"use strict";cc._RF.push(t,"ff318LVRw5NLrK5HatJmAre","FastGuaJiUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Ads/ApkManager"),s=e("../../CoinPop"),c=e("../../Constants"),l=e("../../GameManager"),g=e("../../JsonData/OfflineRevenue"),u=e("../../multiLanguage/FollowConstants"),p=e("../../multiLanguage/FollowManager"),d=e("../../multiLanguage/LanguageManager"),h=e("../../Prop/PropConfig"),f=e("../../Prop/PropManager"),_=e("../../Sound/AudioConstants"),m=e("../../Storage/StorageConfig"),y=e("../../Storage/StorageManager"),I=e("../../Task/TaskEnum"),v=e("../../Task/TaskManager"),M=e("../../Tools/EventManager"),C=e("../../UI/UIComponent"),S=e("../../UI/UIConfig"),P=e("../../UI/UIManager"),k=cc._decorator,b=k.ccclass,T=(k.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.time_label=null,t}return o(t,e),t.prototype.init=function(t){var a=this;e.prototype.init.call(this,t),this.time_label=this.node.getChildByName("time").getComponent(cc.Label),this.node.getChildByName("Reward_Bg_1").getComponentInChildren(cc.RichText).string=d.default.getInstance().getStrByTextId(100119),this.schedule(this.showRemainTime,1),this.showRemainTime(),1==y.TheStorageManager.getInstance().getNumber(m.StorageKey.CanAdFastOffline,0)?this.node.getChildByName("btnRoot").getChildByName("ad").active=!1:this.node.getChildByName("btnRoot").getChildByName("ad").active=!0;var n=this.node.getChildByName("bg");n.off(cc.Node.EventType.TOUCH_START),n.on(cc.Node.EventType.TOUCH_START,function(){a.clickBtnClose()},this),r.default.getInstance().showBanner()},t.prototype.showRemainingNum=function(){},t.prototype.showRemainTime=function(){var e,t=Date.now()/1e3,a=y.TheStorageManager.getInstance().getNumber(m.StorageKey.TomorowZeroTimeStamp,0)-t;a<0&&(a=(new Date((new Date).toLocaleDateString()).getTime()+864e4)/1e3-t);var n=Math.floor(a/3600);e=n<10?"0"+n+":":n+":";var o=Math.floor(a%3600/60);e+=o<10?"0"+o+":":o+":";var i=Math.floor(a%3600%60);e+=i<10?"0"+i:i,this.time_label.string=e},t.prototype.clickBtnAd=function(){var e=this;r.default.getInstance().showVideo(function(t){if(t){p.default.getInstance().followEvent(u.Follow_Type.\u5feb\u901f\u6302\u673a\u5e7f\u544a\u6309\u94ae\u70b9\u51fb),l.default.getInstance().refreshGemShow(),v.default.getInstance().emitTask(I.TaskItem.\u9886\u53d6\u6302\u673a\u5956\u52b12\u6b21),v.default.getInstance().emitTask(I.TaskItem.\u9886\u53d6\u5feb\u901f\u6302\u673a1\u6b21),e.showRemainingNum();var a=g.OfflineRevenueManager.getInstance().getRewards(300),n=new Map;a.forEach(function(e){if(n.has(e.reward_id)){var t=n.get(e.reward_id);t+=e.reward_num,n.set(e.reward_id,t)}else n.set(e.reward_id,e.reward_num)});var o=new Array;n.forEach(function(e,t){var a=f.PropManager.getInstance().createPropItem(t,e);f.PropManager.getInstance().changePropNum(t,e),o.push(a)}),l.default.getInstance().showMultipleGetTip(o),y.TheStorageManager.getInstance().setItem(m.StorageKey.CanAdFastOffline,1),e.node.getChildByName("btnRoot").getChildByName("ad").active=!1,M.EventManager.postRedEvent(M.RedEventString.RED_TIP,M.RedEventType.Btn_Main_Guaji_Btn_Fast,!1)}},c.VIDEO_TYPE.Coin)},t.prototype.clickBtnFast=function(){if(l.default.getInstance().sound_manager.playSound(_.SoundIndex.click),0==y.TheStorageManager.getInstance().getNumber(m.StorageKey.CanFastOffline,0))if(f.PropManager.getInstance().changePropNum(h.PropId.Gem,-200)){y.TheStorageManager.getInstance().setItem(m.StorageKey.CanFastOffline,1),v.default.getInstance().emitTask(I.TaskItem.\u9886\u53d6\u5feb\u901f\u6302\u673a1\u6b21),v.default.getInstance().emitTask(I.TaskItem.\u9886\u53d6\u6302\u673a\u5956\u52b12\u6b21),this.showRemainingNum();var e=g.OfflineRevenueManager.getInstance().getRewards(300),t=new Map;e.forEach(function(e){if(t.has(e.reward_id)){var a=t.get(e.reward_id);a+=e.reward_num,t.set(e.reward_id,a)}else t.set(e.reward_id,e.reward_num)});var a=new Array;t.forEach(function(e,t){var n=f.PropManager.getInstance().createPropItem(t,e);f.PropManager.getInstance().changePropNum(t,e),a.push(n)}),l.default.getInstance().showMultipleGetTip(a)}else P.UIManager.getInstance().showUiDialog(S.UIPath.CoinPop,S.UILayerLevel.Two,{onCompleted:function(e){e.getComponent(s.default).initUi(h.PropId.Gem)}});else l.default.getInstance().showMessage(d.default.getInstance().getStrByTextId(100120))},t.prototype.clickBtnVip=function(){var e=this;l.default.getInstance().sound_manager.playSound(_.SoundIndex.click),P.UIManager.getInstance().showPayUi({onClose:function(){e.showRemainTime()}},0)},t.prototype.clickBtnClose=function(){l.default.getInstance().sound_manager.playSound(_.SoundIndex.click),this.unschedule(this.showRemainTime),e.prototype.onClose.call(this),r.default.getInstance().closeBanner()},i([b],t)}(C.default));a.default=T,cc._RF.pop()},{"../../Ads/ApkManager":"ApkManager","../../CoinPop":"CoinPop","../../Constants":"Constants","../../GameManager":"GameManager","../../JsonData/OfflineRevenue":"OfflineRevenue","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../Storage/StorageConfig":"StorageConfig","../../Storage/StorageManager":"StorageManager","../../Task/TaskEnum":"TaskEnum","../../Task/TaskManager":"TaskManager","../../Tools/EventManager":"EventManager","../../UI/UIComponent":"UIComponent","../../UI/UIConfig":"UIConfig","../../UI/UIManager":"UIManager","../../multiLanguage/FollowConstants":"FollowConstants","../../multiLanguage/FollowManager":"FollowManager","../../multiLanguage/LanguageManager":"LanguageManager"}],FeiBiao:[function(e,t,a){"use strict";cc._RF.push(t,"e1e63fyT+xHGIQOqtzXrdwX","FeiBiao");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Constants"),s=e("../../../Game/GameEffectsManager"),c=e("../../../GameManager"),l=e("../../../Monster/Monster"),g=e("../../../Monster/MonsterManager"),u=e("../../../Sound/AudioConstants"),p=e("../GongJi"),d=e("../HeroConfig"),h=cc._decorator,f=h.ccclass,_=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tuowei=null,t.game_effect_id=0,t.move_speed=1200,t.move_direction=Math.PI/2,t.xuanzhuan_speed=600,t.cur_tanshe_num=6,t.max_tanshe_num=0,t.tanshe_yes=[],t.target=null,t.cur_tanshe_rate=1,t.shanghai=1,t.tuo_wei=null,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.init=function(t,a,n,o,i){if(e.prototype.initData.call(this,a),this.game_effect_id=t,this.move_speed=n,this.cur_tanshe_rate=1,this.max_tanshe_num=this.cur_tanshe_num=i+1,this.node.color=cc.Color.WHITE,this.node.opacity=255,this.tanshe_yes.splice(0),"number"==typeof o)this.changeDir(o);else{this.target=o,this.tanshe_yes.push(o.uuid);var r=this.target.getPosition().sub(this.node.getPosition()),s=2*Math.PI;this.move_direction=(Math.atan2(r.y,r.x)+s)%s}this.tuo_wei=cc.instantiate(this.tuowei),this.tuo_wei.parent=this.node.parent,this.node.zIndex=1},t.prototype.tanshe=function(){var e=this.target.getComponent(l.default);if(e){var t=c.default.getInstance().game_hero_data.get(d.Hero_Type.PaoShou);c.default.getInstance().sound_manager.playSound(u.SoundIndex.YX_RenzheAttack);var a=e.beFlashInjured(this.gongji_data);!a.is_die&&a.getDamageNum(),this.cur_tanshe_rate=1+t.getSkillValue2(d.SkillType.Passive_1),this.target=this.getMonster(),this.target?this.tanshe_yes.push(this.target.uuid):this.tanshe_yes.length>2?this.tanshe_yes.splice(0,this.tanshe_yes.length-1):this.cur_tanshe_num=0,this.cur_tanshe_num--}},t.prototype.getMonster=function(){var e=g.default.getInstance();if(e.node.childrenCount<=0)return null;for(var t=this.node.getPosition(),a=[],n=0,o=e.node.children;n<o.length;n++){var i=o[n],r=cc.v2(i.x,i.y+i.height/2);if(1==i.getComponent(l.default).getIsCanCheck()){var s=t.sub(r).mag();0==this.getIsTanShe(i.uuid)&&s<=500&&a.push(i)}}return a.length<=0?null:1==a.length?a[0]:(a.sort(function(e,a){return cc.v2(e.x,e.y+e.height/2).sub(t).mag()-cc.v2(a.x,a.y+a.height/2).sub(t).mag()}),a[0])},t.prototype.getMonsterForMiss=function(){var e=g.default.getInstance();if(e.node.childrenCount<=0)return null;for(var t=this.node.getPosition(),a=[],n=0,o=e.node.children;n<o.length;n++){var i=o[n],r=cc.v2(i.x,i.y+i.height/2);if(1==i.getComponent(l.default).getIsCanCheck()){var s=t.sub(r).mag();0==this.getIsTanShe(i.uuid)&&s<=500&&a.push(i)}}return a.length<=0?null:1==a.length?a[0]:(a.sort(function(e,a){return cc.v2(e.x,e.y+e.height/2).sub(t).mag()-cc.v2(a.x,a.y+a.height/2).sub(t).mag()}),a[0])},t.prototype.getIsTanShe=function(e){return this.tanshe_yes.includes(e)},t.prototype.setNewTarget=function(e){this.cur_tanshe_num>0&&null==this.target&&0==this.getIsTanShe(e.uuid)&&(this.target=e)},t.prototype.changeDir=function(e){this.move_direction=(e+2*Math.PI)%(2*Math.PI)},t.prototype.collisionToWall=function(){},t.prototype.update=function(e){c.default.getInstance().cur_game_state==r.GameState.Game_Playing&&(this.update_move(e),this.tuo_wei&&this.tuo_wei.setPosition(this.node.position))},t.prototype.update_move=function(e){this.node.angle+=e*this.xuanzhuan_speed,this.node.angle>=360&&(this.node.angle=this.node.angle%360);var t=this.move_speed*e;if(this.cur_tanshe_num>0){var a=this.node.x,n=this.node.y;if(this.target&&1==this.target.getComponent(l.default).getIsCanCheck()){var o=this.target.getComponent(l.default).getSheShouPos().sub(this.node.getPosition());if(o.mag()<t)this.tanshe();else{var i=2*Math.PI;this.move_direction=(Math.atan2(o.y,o.x)+i)%i,a+=t*Math.cos(this.move_direction),n+=t*Math.sin(this.move_direction)}}else this.target=this.getMonsterForMiss(),null==this.target&&(a+=t*Math.cos(this.move_direction),n+=t*Math.sin(this.move_direction));this.node.x=a,this.node.y=n,(Math.abs(this.node.y)>=1280||Math.abs(this.node.x)>=640)&&this.destroySelf()}else this.backToHero(t)},t.prototype.backToHero=function(e){this.tuo_wei&&(cc.tween(this.tuo_wei).delay(this.tuo_wei.getComponent(cc.MotionStreak).fadeTime).removeSelf().start(),this.tuo_wei=null),this.node.color=cc.Color.GRAY,this.node.opacity=168;var t=c.default.getInstance().all_hero.get(d.Hero_Type.PaoShou).node.getPosition().sub(this.node.getPosition());if(t.mag()<e)this.destroySelf();else{var a=2*Math.PI;this.move_direction=(Math.atan2(t.y,t.x)+a)%a,this.node.x+=e*Math.cos(this.move_direction),this.node.y+=e*Math.sin(this.move_direction)}},t.prototype.destroySelf=function(){this.target=null,s.GameEffectsManager.getInstance().destroyGameEffectById(this.game_effect_id,this.node)},i([_({type:cc.Prefab})],t.prototype,"tuowei",void 0),i([f],t)}(p.default);a.default=m,cc._RF.pop()},{"../../../Constants":"Constants","../../../Game/GameEffectsManager":"GameEffectsManager","../../../GameManager":"GameManager","../../../Monster/Monster":"Monster","../../../Monster/MonsterManager":"MonsterManager","../../../Sound/AudioConstants":"AudioConstants","../GongJi":"GongJi","../HeroConfig":"HeroConfig"}],FightingManager:[function(e,t,a){"use strict";cc._RF.push(t,"ed9ebjDJ7FN1px5YACYBAGv","FightingManager");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("./GameEffectsManager"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var a;return o(t,e),a=t,t.getInstance=function(){return this._instance},t.prototype.onLoad=function(){a._instance=this},t.prototype.onDestroy=function(){a._instance=null},t.prototype.createGameEffectById=function(e,t){return r.GameEffectsManager.getInstance().createGameEffectForParent(e,t,this.node)},t.prototype.addChild=function(e,t){this.node.addChild(e),e.setPosition(t)},t._instance=null,a=i([c],t)}(cc.Component));a.default=l,cc._RF.pop()},{"./GameEffectsManager":"GameEffectsManager"}],FireBullect:[function(e,t,a){"use strict";cc._RF.push(t,"55644Hy2jxEn7rgaxmWRkla","FireBullect");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Game/GameEffectsManager"),s=e("../../Game/GroundManager"),c=e("../../Hero/Game/Bullect"),l=e("../PetConfig"),g=e("./FireRing"),u=cc._decorator,p=u.ccclass,d=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pet_data=null,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addCollisionMonsterListen.call(this,this.onCollisionMonster)},t.prototype.initPetData=function(e){this.pet_data=e},t.prototype.onCollisionMonster=function(e){e&&(r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.pet2_attack_hit,this.getHeadPos()),s.default.getInstance().createGameEffectById(r.GameEffectId.pet2_skill,e.node.getPosition()).getComponent(g.default).init(r.GameEffectId.pet2_skill,this.gongji_data,this.pet_data.getSkillValue3(l.PetSkillType.Active),this.pet_data.getSkillValue1(l.PetSkillType.Active),1),this.destroySelf())},i([p],t)}(c.default));a.default=d,cc._RF.pop()},{"../../Game/GameEffectsManager":"GameEffectsManager","../../Game/GroundManager":"GroundManager","../../Hero/Game/Bullect":"Bullect","../PetConfig":"PetConfig","./FireRing":"FireRing"}],FirePet:[function(e,t,a){"use strict";cc._RF.push(t,"eb33cKpBXZNwZryE9HCrDZV","FirePet");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../Game/GameEffectsManager"),c=e("../../GameManager"),l=e("../../Monster/Monster"),g=e("../PetConfig"),u=e("./FireBullect"),p=e("./Pet"),d=cc._decorator,h=d.ccclass,f=(d.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.addAttackListen(this.onAttack)},t.prototype.onAttack=function(t){var a=this.node.getPosition(),n=t.getComponent(l.default).getCenterPos().sub(a),o=Math.atan2(n.y,n.x),i=s.GameEffectsManager.getInstance().createGameEffectById(s.GameEffectId.pet2_attack,a).getComponent(u.default);i.init(s.GameEffectId.pet2_attack,1e3,o,e.prototype.getGongJiData.call(this,!0,this.pet_data.getSkillValue2(g.PetSkillType.Active))),i.initPetData(this.pet_data)},t.prototype.update=function(e){c.default.getInstance().cur_game_state==r.GameState.Game_Playing&&this.checkSkill(e)},t.prototype.checkSkill=function(e){this.cd_time-=e,this.cd_time<0&&(this.cd_time=0)},i([h],t)}(p.default));a.default=f,cc._RF.pop()},{"../../Constants":"Constants","../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../../Monster/Monster":"Monster","../PetConfig":"PetConfig","./FireBullect":"FireBullect","./Pet":"Pet"}],FireRing:[function(e,t,a){"use strict";cc._RF.push(t,"0c991/CGo5KlJpn6YK4GcQw","FireRing");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Game/GameEffectsManager"),s=e("../../Hero/Game/GongJi"),c=e("../../Monster/Monster"),l=e("../../Monster/MonsterManager"),g=cc._decorator,u=g.ccclass,p=(g.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.remain_time=0,t.damage_jiange=0,t.damage_jishu=0,t.radius=0,t.game_effect_id=0,t.is_destroy=!1,t}return o(t,e),t.prototype.init=function(e,t,a,n,o){this.initData(t),this.game_effect_id=e,this.remain_time=a,this.radius=n,this.damage_jiange=o,this.is_destroy=!1,this.damage_jishu=0,this.checkDamage(),this.node.scale=n/100},t.prototype.destroySelf=function(){this.is_destroy||(this.is_destroy=!0,r.GameEffectsManager.getInstance().destroyGameEffectById(this.game_effect_id,this.node))},t.prototype.checkDamage=function(){var e=l.default.getInstance().getMonstersForCenterPos(-1,this.node.getPosition(),this.radius);if(e)for(var t=0;t<e.length;t++)e[t].getComponent(c.default).beFlashInjured(this.gongji_data)},t.prototype.update=function(e){this.remain_time>0?(this.remain_time-=e,this.damage_jishu+=e,this.damage_jishu>=this.damage_jiange&&(this.damage_jishu=0,this.checkDamage())):this.destroySelf()},i([u],t)}(s.default));a.default=p,cc._RF.pop()},{"../../Game/GameEffectsManager":"GameEffectsManager","../../Hero/Game/GongJi":"GongJi","../../Monster/Monster":"Monster","../../Monster/MonsterManager":"MonsterManager"}],FirstCompleteReward:[function(e,t,a){"use strict";cc._RF.push(t,"43063hlJRVNjJXSW3O1vGLT","FirstCompleteReward"),Object.defineProperty(a,"__esModule",{value:!0}),a.FirstCompleteRewardManager=a.JsonFirstCompleteReward=void 0;var n=e("../JsonData/LevelJsonData"),o=e("../Loading/LoadManager"),i=e("../Prop/Data/Item"),r=function(){this.PassReward=0,this.Level_ID=0,this.Star_ID=0,this.RewardItem_1=0,this.RewardNum_1=0,this.RewardItem_2=0,this.RewardNum_2=0,this.RewardItem_3=0,this.RewardNum_3=0,this.RewardItem_4=0,this.RewardNum_4=0};a.JsonFirstCompleteReward=r;var s=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;o.LoadManager.loadJson("FirstCompleteReward",o.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonFirstCompleteReward\u6210\u529f"),e.data=new Map;for(var n=a.json,o=0;o<n.length;o++){var i=new r;i=n[o],e.data.set(i.PassReward,i)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonFirstCompleteReward=function(e){return this.data.get(e)},e.prototype.getLevel_ID=function(e){return this.data.get(e).Level_ID},e.prototype.getStar_ID=function(e){return this.data.get(e).Star_ID},e.prototype.getRewardItem_1=function(e){return this.data.get(e).RewardItem_1},e.prototype.getRewardNum_1=function(e){return this.data.get(e).RewardNum_1},e.prototype.getRewardItem_2=function(e){return this.data.get(e).RewardItem_2},e.prototype.getRewardNum_2=function(e){return this.data.get(e).RewardNum_2},e.prototype.getRewardItem_3=function(e){return this.data.get(e).RewardItem_3},e.prototype.getRewardNum_3=function(e){return this.data.get(e).RewardNum_3},e.prototype.getRewardItem_4=function(e){return this.data.get(e).RewardItem_4},e.prototype.getRewardNum_4=function(e){return this.data.get(e).RewardNum_4},e.getMaxPassReward=function(){return 153},e.getId=function(e,t){return 10*e+t},e.prototype.getFirstRewardArr=function(e){for(var t=this.getJsonFirstCompleteReward(e),a=new Array,o=1;o<=4;o++)if(t["RewardItem_"+o]>0&&t["RewardNum_"+o]>0){var i=new n.RewardData;i.reward_id=t["RewardItem_"+o],i.reward_num=t["RewardNum_"+o],a.push(i)}return a},e.prototype.check=function(){this.data.forEach(function(e,t){for(var a=1;a<=4;a++){var n=e["RewardItem_"+a];0!=n&&(i.ItemManager.getInstance().getJsonItem(n)||console.error("\u9996\u901a\u5956\u52b1ID"+t+",\u4e0d\u5b58\u5728\u5956\u52b1id:RewardItem_"+a+"="+n))}})},e._instance=null,e}();a.FirstCompleteRewardManager=s,cc._RF.pop()},{"../JsonData/LevelJsonData":"LevelJsonData","../Loading/LoadManager":"LoadManager","../Prop/Data/Item":"Item"}],FishBully:[function(e,t,a){"use strict";cc._RF.push(t,"04f24/UuvRFAYwgJ/N6NwQV","FishBully");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../Enemy/EnemyConfig"),c=e("../../GameManager"),l=e("../../Hero/Game/BuffData"),g=e("../../Hero/Game/HeroConfig"),u=e("../MonsterData"),p=e("../MonsterNewNormal"),d=cc._decorator,h=d.ccclass,f=(d.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.light=null,t.load_num=0,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addMonsterNormalInited.call(this,this.onMonsterNormalInited)},t.prototype.onMonsterNormalInited=function(){},t.prototype.startSkill=function(){var t=this;e.prototype.setEnemyState.call(this,s.Enemy_State.skill);var a=new u.KeyFrameData;a.name="Skill",a.callback=function(){var a=new l.BuffData;a.buff_value=[t.skill_data.getSkillValue1(1)],a.buff_id=g.BuffId.Elite71_FishBully_JiaYiSu,a.buff_type=g.BuffType.MoveSpeedUp,a.remain_time=t.skill_data.getSkillValue3(1),e.prototype.addBuff.call(t,a);var n=new l.BuffData;n.buff_value=[t.skill_data.getSkillValue2(1)],n.buff_id=g.BuffId.Elite71_FishBully_JiaGongSu,n.buff_type=g.BuffType.AttSpeedUp,n.remain_time=t.skill_data.getSkillValue3(1),e.prototype.addBuff.call(t,n),t.skill_cold_down[0]=t.skill_data.getSkillColdDown(1)},this.skill_cold_down[0]=this.skill_data.getSkillColdDown(1),e.prototype.playSpinAnimaton.call(this,"Side_Skill",!1,a,function(){t.startIdle(),t.setEnemyState(s.Enemy_State.move)})},t.prototype.update=function(t){c.default.getInstance().cur_game_state!=r.GameState.Game_Playing||this.getIsDie()||(e.prototype.update.call(this,t),this.checkSkill(t))},t.prototype.checkSkill=function(e){for(var t=0;t<this.skill_cold_down.length;t++){var a=!1;this.skill_cold_down[t]>0?(this.skill_cold_down[t]-=e,this.skill_cold_down[t]<=0&&(a=!0)):a=!0,a&&this.startSkill()}},i([h],t)}(p.default));a.default=f,cc._RF.pop()},{"../../Constants":"Constants","../../Enemy/EnemyConfig":"EnemyConfig","../../GameManager":"GameManager","../../Hero/Game/BuffData":"BuffData","../../Hero/Game/HeroConfig":"HeroConfig","../MonsterData":"MonsterData","../MonsterNewNormal":"MonsterNewNormal"}],FixedPos:[function(e,t,a){"use strict";cc._RF.push(t,"f5a773Z9VdHQ5Uzlat8YurG","FixedPos");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.target_node=null,t.fixed_pos=cc.v2(0,0),t.content=null,t}return o(t,e),t.prototype.init=function(e,t,a){this.target_node=e,this.fixed_pos=t,this.content=a},t.prototype.update=function(){this.target_node&&(this.content?this.node.setPosition(this.target_node.getPosition().add(this.fixed_pos).add(cc.v2(this.content.x,this.content.y))):this.node.setPosition(this.target_node.getPosition().add(this.fixed_pos)))},i([c(cc.Node)],t.prototype,"target_node",void 0),i([c()],t.prototype,"fixed_pos",void 0),i([c(cc.Node)],t.prototype,"content",void 0),i([s],t)}(cc.Component);a.default=l,cc._RF.pop()},{}],FollowConstants:[function(e,t,a){"use strict";cc._RF.push(t,"46d42MXiCtErIbmSFgdTswR","FollowConstants"),Object.defineProperty(a,"__esModule",{value:!0}),a.Follow_Type=void 0,function(e){e["Load\u9875\u5c55\u793a\u603b\u6b21\u6570"]="Load_page_show",e["\u9996\u9875\u4e3b\u754c\u9762\u5c55\u793a\u603b\u6b21\u6570"]="Home_page_show",e["\u5b8c\u6210\u7b2cN\u7ae0\u73a9\u5bb6\u6570"]="Level_unlock_",e["\u5f00\u59cb\u7b2cN\u7ae0\u73a9\u5bb6\u6570"]="Level_start_",e["\u70b9\u51fb\u89c6\u9891\u64ad\u653e\u5956\u52b1\u73a9\u5bb6\u6570"]="Reward_Play_1",e["\u83b7\u5f97\u89c6\u9891\u64ad\u653e\u5956\u52b1\u73a9\u5bb6\u6570"]="Reward_Get_1",e["\u70b9\u51fb\u5f00\u59cb\u6311\u6218\u7528\u6237\u6570"]="Home_Start_Click",e["\u6302\u673a\u5956\u52b1\u70b9\u51fb\u7528\u6237\u6570"]="jiangli_guaji_Click",e["\u4e03\u65e5\u7b7e\u5230\u6309\u94ae\u70b9\u51fb\u7528\u6237\u6570"]="day_qiandao_Click_7",e["\u6bcf\u65e5\u7b7e\u5230\u6309\u94ae\u7528\u6237\u70b9\u51fb\u6570"]="meiri_qiandao_Click",e["\u6bcf\u65e5\u4efb\u52a1\u6309\u94ae\u7528\u6237\u70b9\u51fb\u6570"]="dailyday_renwu_Click",e["\u6392\u884c\u699c\u70b9\u51fb\u7528\u6237\u6570"]="paihangbang_click",e["\u82f1\u96c4\u9875\u9762\u5c55\u793a\u7528\u6237\u6570"]="yinxiong_page_Show",e["\u6302\u673a\u5956\u52b1\u666e\u901a\u9886\u53d6\u7528\u6237\u6570"]="Putong_Guaji_Get",e["\u6302\u673a\u5956\u52b15\u500d\u9886\u53d6\u7528\u6237\u6570"]="Guaji_Get_5X",e["VIP\u6309\u94ae\u70b9\u51fb\u6570"]="vip_click",e["\u626b\u8361\u6309\u94ae\u70b9\u51fb\u6570"]="saodang_click",e["\u5468\u5361\u70b9\u51fb\u73a9\u5bb6\u6570"]="DingYue_Week_",e["\u6708\u5361\u70b9\u51fb\u73a9\u5bb6\u6570"]="DingYue_Month_",e["\u5e74\u5361\u70b9\u51fb\u73a9\u5bb6\u6570"]="DingYue_Year_",e["\u8ba2\u9605\u6210\u529f\u73a9\u5bb6\u6570"]="DingYue_Get_",e["\u5f00\u59cb\u6311\u6218\u5173\u5361"]="Start_X",e["\u5b8c\u6210\u6311\u6218\u5173\u5361"]="Finish_X",e["\u5931\u8d25\u6311\u6218\u5173\u5361"]="Fail_X",e["\u9000\u51fa\u6311\u6218\u5173\u5361"]="Out_X",e["\u5347\u7ea7\u6309\u94ae\u70b9\u51fb\u6570"]="Level_Up_Click",e["\u664b\u5347\u6309\u94ae\u70b9\u51fb\u6570"]="Jin_Sheng_Click",e["\u65b0\u624b\u5f15\u5bfc"]="Tutorials_X",e["\u70b9\u51fb\u4e3b\u57ce\u88c5\u5907\u6309\u94ae"]="Arms_Click",e["\u5408\u6210\u88c5\u59071\u6b21"]="Arms_hecheng",e["\u5408\u6210\u88c5\u59075\u6b21"]="Arms_hecheng_5",e["\u5408\u6210\u88c5\u590710\u6b21"]="Arms_hecheng_10",e["\u6218\u6597\u4e2d\u4f7f\u7528\u4e00\u6b21\u94bb\u77f3\u6062\u590dMP"]="Battle_zuanshihuifu",e["\u9996\u6b21\u8fdb\u5165\u526f\u672c\u9875\u9762"]="Duplicate_firstOpen",e["\u9996\u6b21\u5f00\u59cbboss\u6311\u6218"]="BossChallenge_first",e["\u9996\u6b21\u5f00\u59cb\u65e0\u5c3d\u6311\u6218"]="EndlessChallenge_first",e["\u6392\u884c\u699c\u5956\u52b1\u9886\u53d6\u6b21\u6570"]="Paihangbang_Get",e["\u722c\u5854\u5df2\u901a\u5173\u5c42\u6570"]="TowerFloor_finish_",e["\u722c\u5854\u6bcf\u5c42\u6311\u6218\u6b21\u6570"]="TowerFloor_start_",e["\u6218\u4ee4\u89e3\u9501\u7528\u6237\u6570"]="BattlePass_Unlock",e["\u6218\u4ee4\u70b9\u51fb\u6b21\u6570"]="Home_BattlePass_Click",e["\u6218\u4ee4\u8d2d\u4e70\u70b9\u51fb\u6570"]="BattlePass_Purchase_Click",e["\u6218\u4ee4\u514d\u8d39\u5956\u52b1\u70b9\u51fb_x\u7ea7"]="BattlePass_FreeReward_Click_x",e["\u6218\u4ee4\u9ad8\u7ea7\u5956\u52b1\u70b9\u51fb_x\u7ea7"]="BattlePass_SeniorReward_Click_x",e["\u6218\u4ee4\u7ee7\u7eed\u9886\u53d6_x\u7ea7"]="BattlePass_Continue_Click_x",e["\u6218\u4ee4\u70b9\u51fb\u5168\u90e8\u9886\u53d6\u7684\u6b21\u6570"]="BattlePass_GetAll_Click",e["\u6218\u4ee4\u4efb\u52a1\u63d0\u793a"]="BattlePass_TaskTips_Click",e["\u5b8c\u6210\u62bd\u5361\u5f15\u5bfc"]="",e["\u5b8c\u6210\u9996\u6b21\u5931\u8d25\u6559\u7a0b"]="",e["\u6253\u5f00\u80cc\u5305\u6b21\u6570"]="Home_Bag_Click",e["\u5bf9\u5e94\u9053\u5177ID\u7684\u83b7\u5f97\u6b21\u6570"]="Item_Get_x",e["\u5bf9\u5e94\u9053\u5177ID\u7684\u4f7f\u7528\u6b21\u6570"]="Item_Cost_x",e["\u4e3b\u57ce\u529f\u80fd\u89e3\u9501"]="Castle_Unlock",e["\u4e3b\u57ce\u6253\u5f00\u6b21\u6570"]="Castle_Click",e["\u91d1\u5e01\u5546\u5e97\u6253\u5f00\u6b21\u6570"]="Castle_Shop_Click",e["\u9f99\u5de2\u6253\u5f00\u6b21\u6570"]="Castle_DragonNest_Click",e["\u94c1\u5320\u94fa\u6253\u5f00\u6b21\u6570"]="Castle_BlacSimithShop_Click",e["\u8bb8\u613f\u6c60\u6253\u5f00\u6b21\u6570"]="Castle_TreviFountain_Click",e["\u5723\u5802\u6253\u5f00\u6b21\u6570"]="Castle_SpiritAdvanced_Click",e["\u91d1\u5e01\u5546\u5e97\u4e2d\u6210\u529f\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570"]="Shop_Purchase",e["\u91d1\u5e01\u5546\u5e97\u4e2d\u8d2d\u4e70\u5931\u8d25\u7684\u6b21\u6570"]="Shop_PurchaseFail",e["\u91d1\u5e01\u5546\u5e97\u4e2d\u9884\u89c8\u5546\u54c1\u7684\u6b21\u6570"]="Shop_Preview",e["\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u6d88\u8017\u7684\u91d1\u5e01\u6570\u91cf"]="Shop_Gem_Cost",e["\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u6d88\u8017\u7684\u94bb\u77f3\u6570\u91cf"]="Shop_Coin_Cost",e["\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u4f7f\u7528\u91d1\u5e01\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570"]="Shop_CostGem_Times",e["\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u4f7f\u7528\u94bb\u77f3\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570"]="Shop_CostCoin_Times",e["\u8bb0\u5f55\u5355\u6b21\u666e\u901a\u5f00\u86cb\u7684\u6b21\u6570"]="NormalHatch_once",e["\u8bb0\u5f55\u5341\u8fde\u666e\u901a\u5f00\u86cb\u7684\u6b21\u6570"]="NormalHatch_TenTimes",e["\u8bb0\u5f55\u666e\u901a\u5f00\u86cb\u6d88\u8017\u7684\u666e\u901a\u5ba0\u7269\u86cb\u6570\u91cf"]="NormalHatch_CostEgg",e["\u8bb0\u5f55\u666e\u901a\u5f00\u86cb\u6d88\u8017\u7684\u9f99\u6676\u6570\u91cf"]="NormalHatch_CostCrystal",e["\u8bb0\u5f55\u5355\u6b21\u9ad8\u7ea7\u5f00\u86cb\u7684\u6b21\u6570"]="SeniorHatch_once",e["\u8bb0\u5f55\u5341\u8fde\u9ad8\u7ea7\u5f00\u86cb\u7684\u6b21\u6570"]="SeniorHatch_CostEgg",e["\u8bb0\u5f55\u9ad8\u7ea7\u5f00\u86cb\u6d88\u8017\u7684\u9ad8\u7ea7\u5ba0\u7269\u86cb\u6570\u91cf"]="SeniorHatch_CostCrystal",e["\u8bb0\u5f55\u9ad8\u7ea7\u5f00\u86cb\u6d88\u8017\u7684\u9f99\u6676\u6570\u91cf"]="SeniorHatch_TenTimes",e["\u8bb0\u5f55\u5355\u6b21\u666e\u901a\u8bb8\u613f\u7684\u6b21\u6570"]="NormalWish_once",e["\u8bb0\u5f55\u5341\u8fde\u666e\u901a\u8bb8\u613f\u7684\u6b21\u6570"]="NormalWish_TenTimes",e["\u8bb0\u5f55\u666e\u901a\u8bb8\u613f\u6d88\u8017\u7684\u8bb8\u613f\u5e01"]="NormalWish_CostWishCoin",e["\u8bb0\u5f55\u666e\u901a\u8bb8\u613f\u6d88\u8017\u7684\u94bb\u77f3"]="NormalWish_CostGem",e["\u8bb0\u5f55\u5355\u6b21\u9ad8\u7ea7\u8bb8\u613f\u7684\u6b21\u6570"]="SeniorWish_once",e["\u8bb0\u5f55\u5341\u8fde\u9ad8\u7ea7\u8bb8\u613f\u7684\u6b21\u6570"]="SeniorWish_CostWishCoin",e["\u8bb0\u5f55\u9ad8\u7ea7\u8bb8\u613f\u6d88\u8017\u7684\u8bb8\u613f\u5e01"]="SeniorWish_CostGem",e["\u8bb0\u5f55\u9ad8\u7ea7\u8bb8\u613f\u6d88\u8017\u7684\u94bb\u77f3"]="SeniorWish_TenTimes",e["\u8bb0\u5f55\u5ba0\u7269\u8fdb\u9636\u6210\u529f"]="SpiritAdvanced_Succeed",e["\u8bb0\u5f55\u8fdb\u9636\u6d88\u8017\u7684\u53f2\u8bd7\u7a00\u6709\u5ea6\u5ba0\u7269"]="SpiritAdvanced_CostRarity_2",e["\u8bb0\u5f55\u8fdb\u9636\u6d88\u8017\u7684\u795e\u8bdd\u7a00\u6709\u5ea6\u5ba0\u7269"]="SpiritAdvanced_CostRarity_3",e["\u8bb0\u5f55\u8fdb\u9636\u6d88\u8017\u7684SP\u7a00\u6709\u5ea6\u5ba0\u7269"]="SpiritAdvanced_CostRarity_4",e["\u8bb0\u5f55\u4e0d\u540c\u54c1\u8d28\u7684\u6210\u529f\u8fdb\u9636\u6b21\u6570\u5b8c\u6210\u65f6\u54c1\u8d28"]="SpiritAdvanced_AdvancedQuality_x",e["\u4e00\u952e\u7a7f\u6234\u70b9\u51fb\u6b21\u6570"]="Hero_OneClickWearing_Click",e["\u4e00\u952e\u5378\u4e0b\u70b9\u51fb\u6b21\u6570"]="Hero_OneclickRemoval_Click",e["\u88c5\u5907\u680f\u70b9\u51fb\u6b21\u6570"]="Hero_Arms_Click",e["\u82f1\u96c4\u754c\u9762\u5ba0\u7269\u680f\u70b9\u51fb\u6b21\u6570"]="Hero_Sprite_Click",e["\u4e0d\u540c\u82f1\u96c4\u7684\u5347\u7ea7\u6b21\u6570"]="Hero_HeroLevelUp_x",e["\u67e5\u770b\u82f1\u96c4\u5c5e\u6027\u8be6\u60c5"]="Hero_CheckDetail",e["\u5ba0\u7269\u754c\u9762\u70b9\u51fb\u6b21\u6570"]="Home_Sprite_Click",e["\u5347\u7ea7\u5ba0\u7269\u603b\u6b21\u6570"]="Sprite_LevelUp",e["\u4e0d\u540c\u5ba0\u7269\u7684\u5347\u7ea7\u6b21\u6570"]="Sprite_LevelUp_x",e["\u5ba0\u7269\u8fd8\u539f\u603b\u6b21\u6570"]="Sprite_Restore",e["\u4e0d\u540c\u5ba0\u7269\u7684\u8fd8\u539f\u6b21\u6570"]="Sprite_Restore_x",e["\u4ece\u5ba0\u7269\u754c\u9762\u70b9\u51fb\u83b7\u53d6\u7684\u6b21\u6570"]="Sprite_Get",e["rogue\u73a9\u6cd5\u5f00\u59cb\u6b21\u6570"]="Rogue_start",e["rogue\u73a9\u6cd5\u6700\u7ec8\u5b8c\u6210\u7684\u683c\u5b50\u6570"]="Rogue_FinishPlaid_x",e["rogue\u73a9\u6cd5\u6cbb\u7597\u836f\u6c34\u4e8b\u4ef6"]="Rogue_Heal",e["rogue\u73a9\u6cd5\u83b7\u5f97\u5ba0\u7269\u4e8b\u4ef6"]="Rogue_GetSprite",e["rogue\u73a9\u6cd5\u6218\u6597\u4e8b\u4ef6"]="Rogue_Battle",e["rogue\u73a9\u6cd5\u5546\u5e97\u4e8b\u4ef6"]="Rogue_Shop",e["rouge\u73a9\u6cd5\u67e5\u770b\u5de5\u5177\u5305"]="Rogue_Toolkit_Check",e["rogue\u73a9\u6cd5\u4f7f\u7528\u5de5\u5177\u5305"]="Rogue_Toolkit_Cost",e["rogue\u73a9\u6cd5\u67e5\u770b\u6218\u5229\u54c1"]="Rogue_Booty_Check",e["rogue\u73a9\u6cd5\u6210\u529f\u901a\u8fc7\u666e\u901a\u5173\u5361\u7684\u6b21\u6570"]="Rogue_Normal_Succeed",e["rogue\u73a9\u6cd5\u6210\u529f\u901a\u8fc7\u7cbe\u82f1\u5173\u5361\u7684\u6b21\u6570"]="Rogue_Elite_Succeed",e["rogue\u73a9\u6cd5\u6210\u529f\u901a\u8fc7BOSS\u5173\u5361\u7684\u6b21\u6570"]="Rogue_Boss_Succeed",e["rogue\u73a9\u6cd5\u666e\u901a\u5173\u5361\u6311\u6218\u5931\u8d25\u7684\u6b21\u6570"]="Rogue_Normal_Defeat",e["rogue\u73a9\u6cd5\u7cbe\u82f1\u5173\u5361\u6311\u6218\u5931\u8d25\u7684\u6b21\u6570"]="Rogue_Elite_Defeat",e["rogue\u73a9\u6cd5BOSS\u5173\u5361\u6311\u6218\u5931\u8d25\u7684\u6b21\u6570"]="Rogue_Boss_Defeat",e["rogue\u73a9\u6cd5\u67e5\u770b\u5f53\u524d\u751f\u547d\u503c"]="Rogue_CheckHp",e["\u4e3b\u9875\u70b9\u51fb\u4efb\u52a1\u70b9\u51fb\u6b21\u6570"]="Home_Task_Click",e["\u4e3b\u9875\u9996\u5145\u793c\u5305\u70b9\u51fb\u6b21\u6570"]="Home_FirstCharge_Click",e["\u4e3b\u9875\u5145\u503c\u5546\u57ce\u70b9\u51fb\u6b21\u6570"]="Home_Mall_Click",e["\u4efb\u52a1_\u5468\u5e38\u9875\u7b7e\u70b9\u51fb\u6b21\u6570"]="Task_Weekly_Click",e["\u4efb\u52a1_\u4e3b\u7ebf\u9875\u7b7e\u70b9\u51fb\u6b21\u6570"]="Task_Main_Click",e["\u65e5\u5e38\u4efb\u52a1\u5b8c\u6210\u6570\u91cf"]="Task_Daily_finish",e["\u5468\u5e38\u4efb\u52a1\u5b8c\u6210\u6570\u91cf"]="Task_Weekly_finish",e["\u4e3b\u7ebf\u4efb\u52a1\u5b8c\u6210\u6570\u91cf"]="Task_Monthly_finish",e["\u65e5\u5e38\u4efb\u52a1\u6bcf\u4e00\u6863\u5956\u52b1\u7684\u9886\u53d6\u6b21\u6570"]="Task_GetDailyReward_x",e["\u5468\u5e38\u4efb\u52a1\u6bcf\u4e00\u6863\u5956\u52b1\u7684\u9886\u53d6\u6b21\u6570"]="Task_GetWeeklyReward_x",e["\u5546\u57ce_\u5c0a\u4eab\u5361\u9875\u7b7e\u70b9\u51fb\u6b21\u6570"]="Mall_PrivilegeCard_Click",e["\u5546\u57ce_\u9f99\u6676\u5145\u503c\u9875\u7b7e\u70b9\u51fb\u6b21\u6570"]="Mall_Crystal_Click",e["\u5546\u57ce_\u70ed\u5356\u793c\u5305\u7b7e\u70b9\u51fb\u6b21\u6570"]="Mall_HotSale_Click",e["\u5546\u57ce_\u901a\u5173\u8fd4\u5229\u7b7e\u70b9\u51fb\u6b21\u6570"]="Mall_CampaignInvestment_Click",e["\u5546\u57ce_\u7d2f\u8ba1\u5145\u503c\u9875\u7b7e\u70b9\u51fb\u6b21\u6570"]="Mall_CumulativeRecharge_Click",e["\u5546\u57ce_\u6218\u4ee4\u9875\u7b7e\u70b9\u51fb\u6b21\u6570"]="Mall_BattlePass_Click",e["\u6708\u5361\u70b9\u51fb\u8d2d\u4e70\u6b21\u6570"]="Mall_MonthVIP_Click",e["\u5b63\u5361\u70b9\u51fb\u8d2d\u4e70\u6b21\u6570"]="Mall_SeasonVIP_Click",e["x\u9f99\u6676\u70b9\u51fb\u8d2d\u4e70\u6b21\u6570"]="Mall_CrystalClick_x",e["\u6bcf\u65e5\u793c\u5305\u9875\u7b7e\u5c55\u793a\u6b21\u6570"]="Mall_DailyPackPage_Show",e["\u6bcf\u5468\u793c\u5305\u9875\u7b7e\u5c55\u793a\u6b21\u6570"]="Mall_WeeklyPackPage_Show",e["\u6bcf\u6708\u793c\u5305\u9875\u7b7e\u5c55\u793a\u6b21\u6570"]="Mall_MonthlyPackPage_Show",e["\u6bcf\u65e5\u793c\u5305x\u6863\u70b9\u51fb\u8d2d\u4e70\u6b21\u6570"]="Mall_DailyPackClick_x",e["\u6bcf\u5468\u793c\u5305x\u6863\u70b9\u51fb\u8d2d\u4e70\u6b21\u6570"]="Mall_WeeklyPackClick_x",e["\u6bcf\u6708\u793c\u5305x\u6863\u70b9\u51fb\u8d2d\u4e70\u6b21\u6570"]="Mall_MonthlyPackClick_x",e["\u6bcf\u4e00\u6863\u7d2f\u5145\u5956\u52b1\u9886\u53d6\u4eba\u6570"]="Mall_CumulativeRecharge_Get_x",e["\u79bb\u7ebf\u5956\u52b1\u70b9\u51fb\u6b21\u6570"]="Home_OfflineEarning_Click",e["\u83b7\u53d6\u79bb\u7ebf\u5956\u52b1\u6b21\u6570"]="OfflineEarning_Get",e["\u5feb\u901f\u6302\u673a\u4f7f\u7528\u6b21\u6570"]="OfflineEarning_Quick_Times",e["\u5feb\u901f\u6302\u673a\u6d88\u8017\u7684\u94bb\u77f3\u6570\u91cf"]="OfflineEarning_Quick_GemCost",e["\u4e3b\u9875\u5feb\u901f\u6302\u673a\u6309\u94ae\u70b9\u51fb\u6b21\u6570"]="Home_QuickOfflineEarning_Click",e["\u65b0\u624b\u5f15\u5bfc\u52a0\u8f7d\u9875\u52a8\u753b\u70b9\u51fb\u7ee7\u7eed"]="Tutorials_1",e["\u65b0\u624b\u5f15\u5bfc\u517d\u738b\u52a0\u5165\u961f\u4f0d\u70b9\u51fb\u7ee7\u7eed"]="Tutorials_2",e["\u65b0\u624b\u5f15\u5bfc\u517d\u738b\u6280\u80fd\u5f15\u5bfc\u73a9\u5bb6\u70b9\u51fb"]="Tutorials_3",e["\u65b0\u624b\u5f15\u5bfc\u70b9\u51fb\u5f15\u5bfc\u4e0b\u4e00\u5173"]="Tutorials_4",e["\u65b0\u624b\u5f15\u5bfc\u5f15\u5bfc\u70ae\u624b\u51fa\u73b0"]="Tutorials_5",e["\u65b0\u624b\u5f15\u5bfc\u62d6\u52a8\u70ae\u624b\u6280\u80fd"]="Tutorials_6",e["\u65b0\u624b\u5f15\u5bfc\u6311\u621813"]="Tutorials_7",e["\u65b0\u624b\u5f15\u5bfc\u62db\u52df\u5f00\u542f"]="Tutorials_8",e["\u65b0\u624b\u5f15\u5bfc\u524d\u5f80\u5546\u57ce"]="Tutorials_9",e["\u65b0\u624b\u5f15\u5bfc\u70b9\u51fb\u62db\u52df"]="Tutorials_10",e["\u65b0\u624b\u5f15\u5bfc\u70b9\u51fb\u6218\u6597"]="Tutorials_11",e["\u65b0\u624b\u5f15\u5bfc\u70b9\u51fb\u6311\u6218"]="Tutorials_12",e["\u65b0\u624b\u5f15\u5bfc\u901a\u517314\u4e4b\u540e"]="Tutorials_13",e["\u65b0\u624b\u5f15\u5bfc\u70b9\u51fb\u5fb7\u9c81\u4f0a\u6253\u65adboss\u6280\u80fd"]="Tutorials_14",e["\u65b0\u624b\u5f15\u5bfc\u5f13\u7bad\u624b\u51fa\u73b0"]="Tutorials_15",e["\u65b0\u624b\u5f15\u5bfc\u5f13\u7bad\u624b\u5bf9\u8bdd\u68461"]="Tutorials_16",e["\u65b0\u624b\u5f15\u5bfc\u5f13\u7bad\u624b\u5bf9\u8bdd\u68462"]="Tutorials_17",e["\u65b0\u624b\u5f15\u5bfc\u517d\u738b\u5f15\u5bfc\u56de\u5230\u4e3b\u754c\u9762"]="Tutorials_18",e["\u65b0\u624b\u5f15\u5bfc\u70b9\u51fb\u82f1\u96c4\u754c\u9762"]="Tutorials_19",e["\u65b0\u624b\u5f15\u5bfc\u70b9\u51fb\u5347\u7ea7\u6b21\u6570"]="Tutorials_20",e["\u5546\u57ce\u5546\u57ce\u9875\u70b9\u51fb\u6b21\u6570"]="Mall_Click",e["\u5546\u5e97\u6d4f\u89c8\u6b21\u6570"]="Mall_Browse_Slide",e["\u5546\u57ce\u7ae0\u8282\u793c\u5305x\u7ae0\u70b9\u51fb\u8d2d\u4e70\u6b21\u6570"]="Mall_ChapterGift_Click",e["\u8bb0\u5f55\u5355\u6b21\u62db\u52df\u7684\u6b21\u6570"]="Recruit_once",e["\u8bb0\u5f55\u5341\u6b21\u62db\u52df\u7684\u6b21\u6570"]="Recruit_Tentimes",e["\u8bb0\u5f55\u62db\u52df\u6d88\u8017\u62db\u52df\u5377\u6570\u91cf"]="Recruit_CostRoll",e["\u8bb0\u5f55\u62db\u52df\u5377\u6d88\u8017\u94bb\u77f3\u6570\u91cf"]="Recruit_CostDiamond",e["\u8bb0\u5f55\u70b9\u51fb\u62db\u52df\u6982\u7387\u5f39\u7a97\u7684\u6b21\u6570"]="Recruit_ClickProbability",e["\u8bb0\u5f55\u5f00\u542f1\u6b21\u88c5\u5907\u7684\u6b21\u6570"]="TurnOnBox_once",e["\u8bb0\u5f55\u5f00\u542f10\u6b21\u88c5\u5907\u7684\u6b21\u6570"]="TurnOnBox_Tentimes",e["\u8bb0\u5f55\u6d88\u8017\u7684\u94a5\u5319\u6570\u91cf"]="TurnOnBox_CostKey",e["\u8bb0\u5f55\u6d88\u8017\u5b9d\u77f3\u6570\u91cf"]="TurnOnBox_CostDiamond",e["\u6bcf\u65e5\u5546\u5e97\u4e2d\u6210\u529f\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570"]="DailyShop_Purchase",e["\u6bcf\u65e5\u5546\u5e97\u4e2d\u8d2d\u4e70\u5931\u8d25\u7684\u6b21\u6570"]="DailyShop_PurchaseFail",e["\u6bcf\u65e5\u5546\u5e97\u4e2d\u9884\u89c8\u5546\u54c1\u7684\u6b21\u6570"]="DailyShop_Preview",e["\u5728\u6bcf\u65e5\u5546\u5e97\u4e2d\u6d88\u8017\u7684\u91d1\u5e01\u6570\u91cf"]="DailyShop_Gem_Cost",e["\u5728\u6bcf\u65e5\u5546\u5e97\u4e2d\u6d88\u8017\u7684\u94bb\u77f3\u6570\u91cf"]="DailyShop_Coin_Cost",e["\u5728\u6bcf\u65e5\u5546\u5e97\u4e2d\u4f7f\u7528\u91d1\u5e01\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570"]="DailyShop_CostGem_Times",e["\u5728\u6bcf\u65e5\u5546\u5e97\u4e2d\u4f7f\u7528\u94bb\u77f3\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570"]="DailyShop_CostCoin_Times",e["\u5728\u6bcf\u65e5\u5546\u5e97\u4e2d\u4f7f\u7528\u5e7f\u544a\u8d2d\u4e70\u94bb\u77f3\u7684\u6b21\u6570"]="DailyShop_CostAdvertising_Times",e["x\u94bb\u77f3\u70b9\u51fb\u8d2d\u4e70\u6b21\u6570"]="Mall_DiamondClick_x",e["x\u91d1\u5e01\u70b9\u51fb\u8d2d\u4e70\u6b21\u6570"]="Mall_CoinClick_x",e["\u4e24\u5c0f\u65f6\u6302\u673a\u91d1\u5e01\u5e7f\u544a\u70b9\u51fb\u6b21\u6570"]="Mall_CoinClickAdvertising",e["\u8131\u88c5\u70b9\u51fb\u6b21\u6570"]="Hero_ClickRemoval_Click",e["\u4e0d\u540c\u82f1\u96c4\u7684\u5347\u661f\u6b21\u6570"]="Hero_HeroLevelUpStar_x",e["\u4e07\u80fd\u788e\u7247\u8f6c\u5316\u4e0d\u540c\u82f1\u96c4\u6b21\u6570"]="Hero_HeroUniversalFragment_x",e["\u4e0d\u540c\u82f1\u96c4\u8fd8\u539f\u7684\u6b21\u6570"]="Hero_HeroReduction_x",e["\u6311\u6218\u6309\u94ae\u7684\u70b9\u51fb\u6b21\u6570"]="Challage_Click",e["\u5927\u5730\u56fe\u6309\u94ae\u70b9\u51fb\u6b21\u6570"]="WorldMap_Click",e["\u79bb\u7ebf\u6536\u76ca\u6309\u94ae\u70b9\u51fb\u6b21\u6570"]="OfflineRevenue_Click",e["\u65b0\u624b\u7b7e\u5230\u70b9\u51fb\u6b21\u6570"]="7day_SignIn_Click",e["\u6bcf\u65e5\u7b7e\u5230\u70b9\u51fb\u6b21\u6570"]="Daily_SignIn_Click",e["\u9996\u5145\u70b9\u51fb\u6b21\u6570"]="FirstCharge_Click",e["\u9996\u6b21\u8fdb\u5165\u4e3b\u9875"]="HomeFirst_Open",e["\u9996\u6b21\u767b\u5f55"]="LogFirst_Open",e["\u8f6c\u76d8\u7684\u6253\u5f00\u6b21\u6570"]="Turmtables_Open",e["\u9996\u6b21\u52a0\u8f7d\u9875"]="LoadFirst_Open",e["\u4e0d\u540c\u82f1\u96c4\u70b9\u51fb\u4e00\u952e\u7a7f\u6234\u7684\u6b21\u6570"]="Hero_OnClickWearingClick_x",e["\u5feb\u901f\u6302\u673a\u6309\u94ae\u70b9\u51fb\u6b21\u6570"]="HangUpQuickly_Click",e["\u5feb\u901f\u6302\u673a\u5e7f\u544a\u6309\u94ae\u70b9\u51fb"]="HangUpQuicklyAd_Click",e["\u8d44\u6e90\u4e0d\u8db3\u5f39\u7a97\u5f39\u51fa\u6b21\u6570"]="CoinResources_Open",e["\u70b9\u51fb\u8d44\u6e90\u4e0d\u8db3\u65f6\u5e7f\u544a\u83b7\u5f97\u6309\u94ae\u6b21\u6570"]="CoinResourcesAd_Click",e["\u70b9\u51fb\u8d44\u6e90\u4e0d\u8db3\u65f6\u524d\u5f80\u7684\u6309\u94ae\u70b9\u51fb\u6b21\u6570"]="CoinResourcesGem_Click",e["\u65b0\u624b\u7b7e\u5230x\u5929\u7684\u70b9\u51fb\u6b21\u6570"]="SevenDaySignIn_Click_x",e["\u9996\u5145\u70b9\u51fb\u8d2d\u4e70\u6309\u94ae"]="FirstChargeBuy_Click",e["\u9996\u5145\u8d2d\u4e70\u6210\u529f\u6309\u94ae"]="FirstChargeSuccess_Click",e["\u6218\u6597\u5931\u8d25\u5c55\u793a\u6b21\u6570_x\u5173"]="Battle_LoseShow_x",e["\u6218\u6597\u6210\u529f1\u661f\u5c55\u793a\u6b21\u6570_x\u5173"]="Battle_OneStarShow_x",e["\u6218\u6597\u6210\u529f2\u661f\u5c55\u793a\u6b21\u6570_x\u5173"]="Battle_TwoStarShow_x",e["\u6218\u6597\u6210\u529f3\u661f\u5c55\u793a\u6b21\u6570_x\u5173"]="Battle_ThreeStarShow_x",e["\u70b9\u51fb\u89e3\u95015\u500d\u5956\u52b1\u6309\u94ae\u7684\u70b9\u51fb\u6b21\u6570"]="FiveReward_Click",e["\u70b9\u51fb\u89e3\u95015\u500d\u5956\u52b1\u7684\u8d2d\u4e70\u6210\u529f\u6b21\u6570"]="FiveRewardBuySuccess_Click",e["\u7d2f\u8ba1\u5145\u503c\u6bcf\u4e00\u6863\u7684\u9886\u53d6\u6b21\u6570x"]="CumulativeRecharge_x",e["\u6218\u4ee4\u8d2d\u4e70\u9ad8\u7ea7\u6218\u4ee4\u6210\u529f\u4eba\u6570"]="BattlePassAdvancedUnLock_Click",e["\u6218\u4ee4\u6309\u94ae\u70b9\u51fb\u6b21\u6570"]="BattlePass_Click",e["\u89e3\u9501\u9ad8\u7ea7\u6218\u4ee4\u7684\u6309\u94ae\u70b9\u51fb\u6b21\u6570"]="BattlePassAdvanced_Click",e["\u6218\u4ee4\u89e3\u9501\u7b49\u7ea7_x\u7ea7"]="BattlePass_Level_x",e["\u6218\u4ee4\u514d\u8d39\u5956\u52b1\u9886\u53d6_x\u7ea7"]="BattlePass_FreeReward_Get_x",e["\u6218\u4ee4\u9ad8\u7ea7\u5956\u52b1\u9886\u53d6_x\u7ea7"]="BattlePass_SeniorReward_Get_x",e["\u8f6c\u76d8\u514d\u8d39\u62bd\u5956\u70b9\u51fb\u6b21\u6570"]="TurntableFree_Click",e["\u8f6c\u76d8\u5e7f\u544a\u62bd\u5956\u70b9\u51fb\u6b21\u6570"]="TurntableAd_Click",e["\u4e3b\u9875\u6392\u884c\u699c\u6309\u94ae\u70b9\u51fb\u6b21\u6570"]="Home_Rank_Click",e["\u65e0\u5c3d\u6311\u6218_\u6392\u884c\u699c\u70b9\u51fb\u6b21\u6570"]="Endless_Rank_Click",e["BOSS\u6311\u6218_\u6392\u884c\u699c\u70b9\u51fb\u6b21\u6570"]="BossChallenge_Rank_Click",e["\u4e3b\u7ebf\u4efb\u52a1\u5b8c\u6210\u4eba\u6570\u6570\u91cf_x"]="ThreadTask_Click_x",e["\u4efb\u52a1_\u65e5\u5e38\u9875\u7b7e\u70b9\u51fb\u6b21\u6570"]="Task_Daily_Click",e["\u4efb\u52a1_\u6210\u5c31\u9875\u7b7e\u70b9\u51fb\u6b21\u6570"]="Task_Achievement_Click",e["\u6bcf\u65e5\u4efb\u52a1\u5b8c\u6210\u6570\u91cf"]="Task_Daily_finish",e["\u6210\u5c31\u4efb\u52a1\u5b8c\u6210\u6570\u91cf"]="Task_Achievement_finish",e["\u65e5\u6d3b\u8dc3\u6bcf\u4e00\u6863\u5956\u52b1\u7684\u9886\u53d6\u6b21\u6570"]="Task_GetDailyReward_x",e["\u5468\u6d3b\u8dc3\u6bcf\u4e00\u6863\u5956\u52b1\u7684\u9886\u53d6\u6b21\u6570"]="Task_GetWeeklyReward_x",e["\u7279\u6743\u5361\u6309\u94ae\u70b9\u51fb\u6b21\u6570"]="Privilege_Click",e["\u5468\u5361\u7279\u6743\u5361\u9875\u9762\u5c55\u793a\u6b21\u6570"]="WeeklyCard_Show",e["\u65e0\u5c3d\u6311\u6218\u9875\u9762\u5c55\u793a\u6b21\u6570"]="Endless_PageShow",e["\u5f00\u59cb\u65e0\u5c3d\u6311\u6218\u6b21\u6570"]="Endless_num",e["\u5b8c\u6210\u65e0\u5c3d\u6311\u6218\u6b21\u6570"]="Endless_finish",e["\u65e0\u5c3d\u6311\u6218\u6311\u6218\u6b21\u6570\u8d2d\u4e70\u6570"]="Endless_ChallengeTimes_buy",e["\u65e0\u5c3d\u6311\u6218_\u6311\u6218\u6b21\u6570\u8d2d\u4e70\u6570_\u6bcf\u65e5\u7b2cx\u6b21\u8d2d\u4e70"]="Endless_ChallengeTimes_buy_x",e["\u526f\u672c\u9875\u9762\u5c55\u793a\u6b21\u6570"]="Duplicate_PageShow",e["BOSS\u6311\u6218\u9875\u9762\u5c55\u793a\u6b21\u6570"]="BossChallenge_PageShow",e["\u5f00\u59cbBOSS\u6311\u6218\u6b21\u6570"]="BossChallenge_num",e["\u5b8c\u6210BOSS\u6311\u6218\u6b21\u6570"]="BossChallenge_finish",e["BOSS\u6311\u6218\u6311\u6218\u6b21\u6570\u8d2d\u4e70\u6570"]="BossChallenge_ChallengeTimes_buy",e["BOSS\u6311\u6218_\u6311\u6218\u6b21\u6570\u8d2d\u4e70\u6570_\u6bcf\u65e5\u7b2cx\u6b21\u8d2d\u4e70"]="BossChallenge_ChallengeTimes_buy_x",e["\u4e0d\u540cID\u88c5\u5907\u7684\u5408\u6210\u6b21\u6570"]="Hero_ArmsMerge_x",e["\u82f1\u96c4\u5347\u7ea7\u7f3a\u5c11\u91d1\u5e01\u7684\u6b21\u6570"]="Hero_LevelUpLackCoin_times",e["\u82f1\u96c4\u5347\u7ea7\u7f3a\u5c11\u94bb\u77f3\u7684\u6b21\u6570"]="Hero_LevelUpLackGem_times",e["\u82f1\u96c4_\u6b66\u5668\u680f\u70b9\u51fb\u6b21\u6570"]="Hero_Weapon_Click",e["\u82f1\u96c4_\u9879\u94fe\u680f\u70b9\u51fb\u6b21\u6570"]="Hero_Necklace_Click",e["\u82f1\u96c4_\u62a4\u7532\u680f\u70b9\u51fb\u6b21\u6570"]="Hero_Armor_Click",e["\u82f1\u96c4_\u978b\u5b50\u680f\u70b9\u51fb\u6b21\u6570"]="Hero_Shoe_Click",e["\u82f1\u96c4_\u7075\u5ba0\u680f\u70b9\u51fb\u6b21\u6570"]="Hero_Spirit_Click",e["\u4e0d\u540c\u82f1\u96c4\u901a\u8fc7\u4e07\u80fd\u788e\u7247\u8f6c\u6362\u83b7\u5f97\u7684\u788e\u7247\u603b\u6570"]="Hero_HeroUniversalFragmentNum_x",e["\u82f1\u96c4\u5347\u661f\u7f3a\u5c11\u788e\u7247\u7684\u6b21\u6570"]="Hero_StarUpLackFragment_Times",e["\u4e0d\u540c\u82f1\u96c4\u5347\u661f\u662f\u7f3a\u5c11\u788e\u7247\u7684\u6b21\u6570"]="Hero_StarUpLackFragmentTimes_x",e["\u6682\u505c\u9875\u5c55\u793a\u6b21\u6570"]="Battle_StopPage_Show",e["\u6682\u505c\u9875\u9762_\u8fd4\u56de\u4e3b\u9875\u6309\u94ae\u70b9\u51fb\u6b21\u6570"]="Battle_StopPageBackHome_Click",e["\u65e0\u5c3d\u6311\u6218_\u6682\u505c\u9875\u9762_\u8fd4\u56de\u4e3b\u9875\u6309\u94ae\u70b9\u51fb\u6b21\u6570"]="Endless_StopPageBackHome_Click",e["BOSS\u6311\u6218_\u6682\u505c\u9875\u9762_\u8fd4\u56de\u4e3b\u9875\u6309\u94ae\u70b9\u51fb\u6b21\u6570"]="BossChallenge_StopPageBackHome_Click",e["\u4e8c\u500d\u901f\u70b9\u51fb\u6b21\u6570"]="Battle_2x",e["\u4e8c\u500d\u901f\u5f00\u542f\u6210\u529f\u6b21\u6570"]="Battle_2xOn_Times",e["\u4e8c\u500d\u901f\u5173\u95ed\u6210\u529f\u6b21\u6570"]="Battle_2xOff_Times",e["\u81ea\u52a8\u6218\u6597\u70b9\u51fb\u6b21\u6570"]="Battle_Auto_Click",e["\u81ea\u52a8\u6218\u6597\u5f00\u542f\u6210\u529f\u6b21\u6570"]="Battle_AutoOn_Times",e["\u81ea\u52a8\u6218\u6597\u5173\u95ed\u6210\u529f\u6b21\u6570"]="Battle_AutoOff_Times",e["\u5931\u8d25\u9875_\u5f3a\u5316\u517b\u6210\u8df3\u8f6c\u6309\u94ae\u70b9\u51fb\u6b21\u6570"]="LosePage_Cultivate_Click",e["\u5931\u8d25\u9875_\u83b7\u53d6\u8d44\u6e90\u8df3\u8f6c\u6309\u94ae\u70b9\u51fb\u6b21\u6570"]="LosePage_GetResources_Click",e["\u5931\u8d25\u9875_\u524d\u5f80\u5546\u57ce\u8df3\u8f6c\u6309\u94ae\u70b9\u51fb\u6b21\u6570"]="LosePage_ToMall_Click",e["\u5931\u8d25\u9875_\u91cd\u65b0\u6311\u6218\u6309\u94ae\u70b9\u51fb\u6b21\u6570"]="LosePage_ReStart_Click",e["\u5931\u8d25\u9875_\u4e3b\u9875\u6309\u94ae\u70b9\u51fb\u6b21\u6570"]="LosePage_Home_Click",e["\u65e0\u5c3d\u6311\u6218_\u4e0d\u540cID\u7684buff\u88c5\u5907\u6b21\u6570"]="Endless_BuffChioceTimes_x",e["\u65e0\u5c3d\u6311\u6218_\u4f7f\u7528\u94bb\u77f3\u5237\u65b0buff\u7684\u6b21\u6570"]="Endless_BuffGemReFresh_x",e["\u65e0\u5c3d\u6311\u6218_\u4f7f\u7528\u5e7f\u544a\u5237\u65b0buff\u7684\u6b21\u6570"]="Endless_BuffAdReFresh_x",e["\u65e0\u5c3d\u6311\u6218_\u4e0d\u540cID\u7684buff\u7684\u83b7\u53d6\u6b21\u6570"]="Endless_GetBuffTimes_x",e["\u65e0\u5c3d\u6311\u6218_\u5b8c\u6210\u65f6\u5230\u8fbe\u7684\u6ce2\u6b21"]="Endless__FinishWave_x",e["\u65e0\u5c3d\u6311\u6218_\u5237\u65b0buff\u65f6\u89e6\u53d1\u4fdd\u5e95\u7684\u6b21\u6570"]="Endless__MinimumGuarantee_Times",e["BOSS\u6311\u6218_\u5b8c\u6210\u65f6\u62ff\u5230\u7684\u5956\u52b1\u7ea7\u522b"]="BossChallenge_GetReward_x",e["\u865a\u7a7a\u88c2\u7f1d\u6311\u6218\u6b21\u6570\u8d2d\u4e70\u6570"]="VoidFissure_ChallengeTimes_buy",e["\u865a\u7a7a\u88c2\u7f1d_\u6311\u6218\u6b21\u6570\u8d2d\u4e70\u6570_\u6bcf\u65e5\u7b2cx\u6b21\u8d2d\u4e70"]="VoidFissure_ChallengeTimes_buy_x"}(a.Follow_Type||(a.Follow_Type={})),cc._RF.pop()},{}],FollowManager:[function(e,t,a){"use strict";cc._RF.push(t,"dd6d1OCx/NHf6pAmMBaXJ55","FollowManager");var n=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../Ads/ApkManager"),i=cc._decorator,r=i.ccclass,s=(i.property,function(){function e(){}var t;return t=e,e.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance},e.prototype.followEvent=function(e){console.log(e),o.default.getInstance().followEvent(e)},e.prototype.addTotal=function(e,t){var a=this.getTotal(e)+t;cc.sys.localStorage.setItem("total_"+e,a),this.followEvent(e+a)},e.prototype.getTotal=function(e){var t=cc.sys.localStorage.getItem("total_"+e);return""===t||null===t?0:parseInt(t)},e.prototype.addFirstDo=function(e){var t=this.getFirstDo(e)+1;cc.sys.localStorage.setItem("do_"+e,t)},e.prototype.getFirstDo=function(e){var t=cc.sys.localStorage.getItem("do_"+e);return""===t||null===t?0:parseInt(t)},e._instance=null,t=n([r],e)}());a.default=s,cc._RF.pop()},{"../Ads/ApkManager":"ApkManager"}],FuHuo:[function(e,t,a){"use strict";cc._RF.push(t,"50576Jgt8hCYYEa+ydO6zkp","FuHuo");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Ads/AdManager"),s=e("../Ads/VipManager"),c=e("../Constants"),l=e("../GameManager"),g=e("../multiLanguage/LanguageConstants"),u=e("../multiLanguage/LanguageManager"),p=e("../Sound/AudioConstants"),d=cc._decorator,h=d.ccclass,f=(d.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.remain_time=10,t}return o(t,e),t.prototype.onLoad=function(){this.remain_time=11,this.showRemain(),this.schedule(this.showRemain,1),1==s.VipManager.getIsVip()&&(this.node.getChildByName("ads").active=!1)},t.prototype.showRemain=function(){this.remain_time--,this.node.getChildByName("btnFuHuo").getChildByName("remainLabel").getComponent(cc.Label).string=this.remain_time+"s",this.remain_time<=0&&this.showGameLose()},t.prototype.showGameLose=function(){l.default.getInstance().showGameLose(),this.destroySelf()},t.prototype.clickBtnFangQi=function(){l.default.getInstance().sound_manager.playSound(p.SoundIndex.click),this.showGameLose()},t.prototype.clickBtnFuhuo=function(){var e=this;if(l.default.getInstance().sound_manager.playSound(p.SoundIndex.click),1==s.VipManager.getIsVip())return l.default.getInstance().onFuhuo(),void this.destroySelf();this.unschedule(this.showRemain),r.default.getInstance().showVideo(function(t){t?(l.default.getInstance().onFuhuo(),e.destroySelf()):(e.schedule(e.showRemain,1),l.default.getInstance().showMessage(u.default.getInstance().getString(g.LanguageIndex.The_ad_failed_to_play_and_the_reward_cannot_be_obtained)))},c.VIDEO_TYPE.Coin)},t.prototype.destroySelf=function(){cc.director.resume(),this.node.removeFromParent()},i([h],t)}(cc.Component));a.default=f,cc._RF.pop()},{"../Ads/AdManager":"AdManager","../Ads/VipManager":"VipManager","../Constants":"Constants","../GameManager":"GameManager","../Sound/AudioConstants":"AudioConstants","../multiLanguage/LanguageConstants":"LanguageConstants","../multiLanguage/LanguageManager":"LanguageManager"}],FuTou:[function(e,t,a){"use strict";cc._RF.push(t,"57dceyW/9VIiLUm7S4uFYZ5","FuTou");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Game/GameEffectsManager"),s=e("../Bullect"),c=e("../HeroConfig"),l=cc._decorator,g=l.ccclass,u=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.kuangre_num=0,t.is_penetrate=!1,t.futou_type=0,t.real_damage_num=0,t.penetration_num=0,t.old_skill_rate=0,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addCollisionMonsterListen.call(this,this.onCollisionMonster),e.prototype.addInitFinishedListen.call(this,this.onInitFinished)},t.prototype.onInitFinished=function(){this.node.angle=0,this.node.stopAllActions(),cc.tween(this.node).by(1,{angle:-1440}).repeatForever().start(),this.penetration_num=0,this.old_skill_rate=this.gongji_data.skill_damage_rate},t.prototype.initFuTou=function(e,t,a){this.kuangre_num=e,this.is_penetrate=t,this.futou_type=a,this.real_damage_num=this.gongji_data.hero_data.total_attack*this.gongji_data.hero_data.getSkillValue1(c.SkillType.Passive_1)*this.kuangre_num},t.prototype.onCollisionMonster=function(e){if(e)switch(this.futou_type){case 0:(t=e.beFlashInjured(this.gongji_data)).getDamageNum()>0&&(0==t.is_die&&this.kuangre_num>0&&e.beRealDamage(this.gongji_data,this.real_damage_num),r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.kuangzhanshi_attack_hit,this.getHeadPos())),this.is_att=!0,this.destroySelf();break;case 1:var t;this.is_att=!1,0==this.penetration_num?this.gongji_data.skill_damage_rate=1:this.gongji_data.skill_damage_rate=this.old_skill_rate,this.is_att=!1,this.penetration_num++,(t=e.beFlashInjured(this.gongji_data)).getDamageNum()>0&&(0==t.is_die&&this.kuangre_num>0&&0==this.penetration_num&&e.beRealDamage(this.gongji_data,this.real_damage_num),r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.kuangzhanshi_attack_chuantou,this.getHeadPos()))}},i([g],t)}(s.default));a.default=u,cc._RF.pop()},{"../../../Game/GameEffectsManager":"GameEffectsManager","../Bullect":"Bullect","../HeroConfig":"HeroConfig"}],FullScreenDamage:[function(e,t,a){"use strict";cc._RF.push(t,"df3edphGL5JErmEGwRpdp1l","FullScreenDamage");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../Game/GameEffectsManager"),c=e("../../GameManager"),l=cc._decorator,g=l.ccclass,u=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.damage_jiange=0,t.damage_jishu=0,t.game_effect_id=0,t.damage_callback=null,t.animation=null,t}return o(t,e),t.prototype.init=function(e,t,a){this.game_effect_id=e,this.damage_jiange=t,this.damage_jishu=0,this.damage_callback=a,this.node.opacity=255,this.animation=this.node.getComponent(cc.Animation),this.checkDamage()},t.prototype.destroySelf=function(){s.GameEffectsManager.getInstance().destroyGameEffectById(this.game_effect_id,this.node)},t.prototype.checkDamage=function(){var e=this;this.node.opacity=255,this.animation.play(),this.animation.on(cc.Animation.EventType.FINISHED,function(){e.animation.off(cc.Animation.EventType.FINISHED),e.node.opacity=0}),this.damage_callback&&this.damage_callback()},t.prototype.update=function(e){c.default.getInstance().cur_game_state==r.GameState.Game_Playing&&(this.damage_jishu+=e,this.damage_jishu>=this.damage_jiange&&(this.damage_jishu=0,this.checkDamage()))},i([g],t)}(cc.Component));a.default=u,cc._RF.pop()},{"../../Constants":"Constants","../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager"}],FuncTypeBtn:[function(e,t,a){"use strict";cc._RF.push(t,"8d555kkcShLFr92236cSATR","FuncTypeBtn");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../AccumulatedRecharge/AccumulatedRechargeUi"),s=e("../../Constants"),c=e("../../Equipment/Ui/MergeUi"),l=e("../../GameManager"),g=e("../../JsonData/FunctionDefinition"),u=e("../../Level/MissionLevel"),p=e("../../multiLanguage/FollowConstants"),d=e("../../multiLanguage/FollowManager"),h=e("../../multiLanguage/LanguageConstants"),f=e("../../multiLanguage/LanguageManager"),_=e("../../Payment/PayFirstChargeUi"),m=e("../../Payment/PayManager"),y=e("../../RankingList/RankingList"),I=e("../../Sound/AudioConstants"),v=e("../../Storage/StorageConfig"),M=e("../../Storage/StorageManager"),C=e("../../TakeEgg/TakeEggUi"),S=e("../../Turntable/Turmtable"),P=e("../../VipSystem/VipSystem"),k=e("../../WeekCard/WeekCardUi"),b=e("../../Wish/WishingUi"),T=e("../UIConfig"),B=e("../UIManager"),w=e("./BagUi"),N=e("./GoldMallUi"),L=e("./MainUi"),D=e("./SignUi"),E=e("./SignUiDaily"),R=cc._decorator,G=R.ccclass,x=R.property,A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.func_type=s.FuncType.LiChengBei,t.name_text=null,t.cur_language_type=h.LanguageType.en,t}return o(t,e),t.prototype.onLoad=function(){this.cur_language_type=f.default.getInstance().getCurLanguageType(),this.refresh()},t.prototype.refresh=function(){var e=g.FunctionDefinitionManager.getInstance().getIsUnlock(this.func_type);if(this.func_type>=s.FuncType.Shengtang&&this.func_type<=s.FuncType.TieJiangPu){var t=cc.Material.getBuiltinMaterial("2d-sprite"),a=cc.Material.getBuiltinMaterial("2d-gray-sprite");this.node.getComponent(cc.Sprite).setMaterial(0,e?t:a),this.node.getChildByName("bg").getComponent(cc.Sprite).setMaterial(0,e?t:a),this.node.getChildByName("lock").active=!e}else{if(this.func_type==s.FuncType.FirstCharge)return 1!=M.TheStorageManager.getInstance().getNumber(v.StorageKey.FirstPayGetState,0)&&e;t=cc.Material.getBuiltinMaterial("2d-sprite"),a=cc.Material.getBuiltinMaterial("2d-gray-sprite"),this.node.getComponent(cc.Sprite).setMaterial(0,e?t:a)}return this.showName(),!0},t.prototype.showName=function(){var e=this.node.getChildByName("name");e&&(e.getComponent(cc.Label).string=f.default.getInstance().getStrByTextId(g.FunctionDefinitionManager.getInstance().getTextID(this.func_type))),this.name_text&&(this.name_text.getComponent(cc.Label).string=f.default.getInstance().getStrByTextId(g.FunctionDefinitionManager.getInstance().getTextID(this.func_type)))},t.prototype.onClick=function(){if(l.default.getInstance().sound_manager.playSound(I.SoundIndex.click),g.FunctionDefinitionManager.getInstance().getIsUnlock(this.func_type))this.showUi();else{var e=g.FunctionDefinitionManager.getInstance().getUnlockConditionType(this.func_type),t=g.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(this.func_type);if(1==e)l.default.getInstance().showMessage(f.default.getInstance().getStrByTextId(100051)+":"+t);else if(2==e){var a=f.default.getInstance().getStrByTextId(100052),n=u.MissionLevelManager.getInstance().getLevelName(t),o=a.replace("~",""+n);l.default.getInstance().showMessage(o)}}},t.prototype.showUi=function(){var e=B.UIManager.getInstance();switch(this.func_type){case s.FuncType.LiChengBei:return void e.showUiDialog(T.UIPath.Bag,T.UILayerLevel.One,{onCompleted:function(e){e.getComponent(w.default).init(null)}});case s.FuncType.MeiRiRenWu:e.showUiDialog(T.UIPath.Task,T.UILayerLevel.One,{onCompleted:function(){}}),d.default.getInstance().followEvent(p.Follow_Type.\u4e3b\u9875\u70b9\u51fb\u4efb\u52a1\u70b9\u51fb\u6b21\u6570);break;case s.FuncType.QianDao:0==M.TheStorageManager.getInstance().getNumber(v.StorageKey.NewPlayerSavenDaySignInOver,0)?B.UIManager.getInstance().showUiDialog(T.UIPath.SignIn,T.UILayerLevel.One,{onCompleted:function(e){e.getComponent(D.default).init(null)}}):B.UIManager.getInstance().showUiDialog(T.UIPath.SignInDaily,T.UILayerLevel.One,{onCompleted:function(e){e.getComponent(E.default).init(null)}}),d.default.getInstance().followEvent(p.Follow_Type.\u4e03\u65e5\u7b7e\u5230\u6309\u94ae\u70b9\u51fb\u7528\u6237\u6570);break;case s.FuncType.FanLi:case s.FuncType.LiBao:break;case s.FuncType.ZhanLing:d.default.getInstance().followEvent(p.Follow_Type.\u6218\u4ee4\u70b9\u51fb\u6b21\u6570);break;case s.FuncType.Shengtang:break;case s.FuncType.XuYuanChi:e.showUiDialog(T.UIPath.Wishing,T.UILayerLevel.One,{onCompleted:function(e){e.getComponent(b.default).init({onClose:function(){}})}});break;case s.FuncType.LongChao:e.showUiDialog(T.UIPath.TakeEgg,T.UILayerLevel.One,{onCompleted:function(e){e.getComponent(C.default).init({onClose:function(){}})}});break;case s.FuncType.ShangDian:e.showUiDialog(T.UIPath.Mall,T.UILayerLevel.One,{onCompleted:function(e){e.getComponent(N.default).init({onClose:function(){}})}});break;case s.FuncType.TieJiangPu:B.UIManager.getInstance().showUiDialog(T.UIPath.EquipSynthetic,T.UILayerLevel.One,{onCompleted:function(e){e.getComponent(c.default).init({onClose:function(){}})}});break;case s.FuncType.NeiGou:d.default.getInstance().followEvent(p.Follow_Type.\u4e3b\u9875\u5145\u503c\u5546\u57ce\u70b9\u51fb\u6b21\u6570),e.showPayUi(null,1);break;case s.FuncType.FirstCharge:d.default.getInstance().followEvent(p.Follow_Type.\u4e3b\u9875\u9996\u5145\u793c\u5305\u70b9\u51fb\u6b21\u6570),B.UIManager.getInstance().showUiDialog(T.UIPath.FirstCharge,T.UILayerLevel.One,{onCompleted:function(e){e.getComponent(_.default).init({onClose:function(){cc.find("Canvas/main_ui").getComponent(L.default).refreshLeft()}})}});break;case s.FuncType.ZhuanPan:d.default.getInstance().followEvent(p.Follow_Type.\u8f6c\u76d8\u7684\u6253\u5f00\u6b21\u6570),e.showUiDialog(T.UIPath.Turntable,T.UILayerLevel.One,{onCompleted:function(e){e.getComponent(S.default).initUi()}});break;case s.FuncType.VIP:d.default.getInstance().followEvent(p.Follow_Type.\u6218\u4ee4\u70b9\u51fb\u6b21\u6570),d.default.getInstance().followEvent(p.Follow_Type.\u6218\u4ee4\u6309\u94ae\u70b9\u51fb\u6b21\u6570),e.showUiDialog(T.UIPath.VipSystem,T.UILayerLevel.One,{onCompleted:function(e){e.getComponent(P.default).initUi()}});break;case s.FuncType.PaiHangBang:d.default.getInstance().followEvent(p.Follow_Type.\u6392\u884c\u699c\u70b9\u51fb\u7528\u6237\u6570),d.default.getInstance().followEvent(p.Follow_Type.\u4e3b\u9875\u6392\u884c\u699c\u6309\u94ae\u70b9\u51fb\u6b21\u6570),e.showUiDialog(T.UIPath.RankingList,T.UILayerLevel.One,{onCompleted:function(e){e.getComponent(y.default).initUi(1)}});break;case s.FuncType.AccumulatedRecharge:e.showUiDialog(T.UIPath.AccumulatedRecharge,T.UILayerLevel.One,{onCompleted:function(e){e.getComponent(r.default).init(null)}});break;case s.FuncType.WeekCard:d.default.getInstance().followEvent(p.Follow_Type.\u7279\u6743\u5361\u6309\u94ae\u70b9\u51fb\u6b21\u6570),e.showUiDialog(T.UIPath.WeekCard,T.UILayerLevel.One,{onCompleted:function(e){e.getComponent(k.default).refreshUi()}})}m.PayManager.getInstance().addFuncTodayShow(this.func_type)},t.prototype.update=function(){this.cur_language_type!=f.default.getInstance().getCurLanguageType()&&(this.showName(),this.cur_language_type=f.default.getInstance().getCurLanguageType())},i([x({type:cc.Enum(s.FuncType)})],t.prototype,"func_type",void 0),i([x(cc.Node)],t.prototype,"name_text",void 0),i([G],t)}(cc.Component);a.default=A,cc._RF.pop()},{"../../AccumulatedRecharge/AccumulatedRechargeUi":"AccumulatedRechargeUi","../../Constants":"Constants","../../Equipment/Ui/MergeUi":"MergeUi","../../GameManager":"GameManager","../../JsonData/FunctionDefinition":"FunctionDefinition","../../Level/MissionLevel":"MissionLevel","../../Payment/PayFirstChargeUi":"PayFirstChargeUi","../../Payment/PayManager":"PayManager","../../RankingList/RankingList":"RankingList","../../Sound/AudioConstants":"AudioConstants","../../Storage/StorageConfig":"StorageConfig","../../Storage/StorageManager":"StorageManager","../../TakeEgg/TakeEggUi":"TakeEggUi","../../Turntable/Turmtable":"Turmtable","../../VipSystem/VipSystem":"VipSystem","../../WeekCard/WeekCardUi":"WeekCardUi","../../Wish/WishingUi":"WishingUi","../../multiLanguage/FollowConstants":"FollowConstants","../../multiLanguage/FollowManager":"FollowManager","../../multiLanguage/LanguageConstants":"LanguageConstants","../../multiLanguage/LanguageManager":"LanguageManager","../UIConfig":"UIConfig","../UIManager":"UIManager","./BagUi":"BagUi","./GoldMallUi":"GoldMallUi","./MainUi":"MainUi","./SignUi":"SignUi","./SignUiDaily":"SignUiDaily"}],FunctionDefinition:[function(e,t,a){"use strict";cc._RF.push(t,"c7d661NZg9Gp4YMBCDE8jy5","FunctionDefinition"),Object.defineProperty(a,"__esModule",{value:!0}),a.FunctionDefinitionManager=a.JsonFunctionDefinition=void 0;var n=e("../Activity/ActivityManager"),o=e("../Constants"),i=e("../Level/LevelManager"),r=e("../Loading/LoadManager"),s=e("../UserData"),c=function(){this.FunctionID=0,this.TextID=0,this.UnlockConditionType=0,this.UnlockCondictionParameter=0};a.JsonFunctionDefinition=c;var l=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;r.LoadManager.loadJson("FunctionDefinition",r.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonFunctionDefinition\u6210\u529f"),e.data=new Map;for(var n=a.json,o=0;o<n.length;o++){var i=new c;i=n[o],e.data.set(i.FunctionID,i)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonFunctionDefinition=function(e){return this.data.get(e)},e.prototype.getTextID=function(e){return this.data.get(e).TextID},e.prototype.getUnlockConditionType=function(e){return this.data.get(e).UnlockConditionType},e.prototype.getUnlockCondictionParameter=function(e){return this.data.get(e).UnlockCondictionParameter},e.getMaxFunctionID=function(){return 10},e.getFuncList=function(){var e=new Array,t=cc.sys.localStorage.getItem("func_list");if(null!=t&&""!=t)for(var a=t.split(","),n=0;n<a.length;n++){var o=parseInt(a[n]);e.push(o)}return e},e.saveFuncList=function(e){cc.sys.localStorage.setItem("func_list",e.toString())},e.getFuncHint=function(e){var t=cc.sys.localStorage.getItem("func_hint_"+e);return""===t||null===t?0:parseInt(t)},e.saveFuncHint=function(e,t){cc.sys.localStorage.setItem("func_hint_"+e,t)},e.prototype.getIsUnlock=function(e){var t=!1,a=i.LevelManager.getInstance().finish_level,n=s.default.getInstance().getUserLevel(),o=this.getJsonFunctionDefinition(e),r=o.UnlockConditionType,c=o.UnlockCondictionParameter;return 1==r?n>=c&&(t=!0):2==r&&a>=c&&(t=!0),t},e.getIconIndex=function(e){var t=e;return e!=o.FuncType.WuJinTiaoZhan&&e!=o.FuncType.GeRenBoss&&e!=o.FuncType.PaTa||(t=10),t},e.prototype.getIsUnlockIndex=function(e){var t=!1;switch(e){case o.Btn_Index.Btn_City:t=!0;break;case o.Btn_Index.Btn_Pet:t=this.getIsUnlock(o.FuncType.ChongWuXiTong);break;case o.Btn_Index.Btn_FuBen:for(var a=n.ActivityType.Endless;a<=n.ActivityType.num;a++){var i=n.ActivityManager.getInstance().getFuncType(a);if(this.getIsUnlock(i)){t=!0;break}}break;default:t=!0}return t},e._instance=null,e}();a.FunctionDefinitionManager=l,cc._RF.pop()},{"../Activity/ActivityManager":"ActivityManager","../Constants":"Constants","../Level/LevelManager":"LevelManager","../Loading/LoadManager":"LoadManager","../UserData":"UserData"}],GameData:[function(e,t,a){"use strict";cc._RF.push(t,"725dbyHYdlMEK17RKNGdWGZ","GameData");var n=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("./NetWork/HttpManager"),i=e("./Constants"),r=e("./GameManager"),s=e("./Tools/LogInfo"),c=e("./Level/LevelManager"),l=e("./Activity/ActivityManager"),g=e("./UserData"),u=e("./Tools/EventManager"),p=e("./Storage/StorageConfig"),d=e("./Payment/DingYueManager"),h=e("./Tower/TowerManager"),f=e("./Payment/Data/CyclePack"),_=e("./Payment/PayManager"),m=e("./Storage/StorageManager"),y=e("./Prop/PropManager"),I=e("./Prop/PropConfig"),v=e("./JsonData/FunctionDefinition"),M=e("./Store/PurchaseCoins"),C=e("./Store/CommodityInformation"),S=cc._decorator,P=S.ccclass,k=(S.property,function(){function e(){}var t;return t=e,e.prototype.init=function(){},e.getInstance=function(){return null==this._instance&&(this._instance=new t,this._instance.init()),this._instance},e.prototype.getMaxEnergy=function(){var e=c.LevelManager.getInstance().finish_level+i.MAX_ENERGY;return e>30&&(e=30),e},e.prototype.onExit=function(){var e=new Date;cc.sys.localStorage.setItem("exit_time",e.getTime())},e.prototype.randomLetter=function(e){for(var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",a="",n=0;n<e;n++)a+=t[Math.floor(Math.random()*t.length)];return a},e.prototype.saveExitTime=function(){if(r.default.getInstance().cur_game_scene!=i.GameScene.load){var e=new Date;cc.sys.localStorage.setItem("exit_time",e.getTime());var a=this.getLoginTime(),n=Math.floor((e.getTime()-a)/1e3),o=t.getTotalTime();this.saveTotalTime(o+n),s.LogManager.saveLogList(),i.IsTestServer&&y.PropManager.getInstance().saveAllPropNum()}},e.prototype.saveLoginTime=function(){var e=new Date;cc.sys.localStorage.setItem("login_time",e.getTime())},e.prototype.getLoginTime=function(){var e=cc.sys.localStorage.getItem("login_time");return""!==e&&null!==e||(e=(new Date).getTime()),parseInt(e)},e.prototype.saveTotalTime=function(e){cc.sys.localStorage.setItem("total_online_time",e),this.saveLoginTime()},e.getTotalTime=function(){var e=cc.sys.localStorage.getItem("total_online_time");return""!==e&&null!==e||(e=0),parseInt(e)},e.prototype.getIsSignToday=function(){return 0==m.TheStorageManager.getInstance().getNumber(p.StorageKey.CanSignIn,0)},e.prototype.saveIsSignToday=function(e){1==e?cc.sys.localStorage.setItem("TodaySignNum",1):cc.sys.localStorage.setItem("TodaySignNum",0)},e.prototype.getSignDays=function(){var e=cc.sys.localStorage.getItem("SignDays");return""!=e&&null!=e?parseInt(e):0},e.prototype.checkIsNewMonth=function(){var e=!1,t=(new Date).getMonth(),a=cc.sys.localStorage.getItem("LoginMonth");return(a=""!=a&&null!=a?parseInt(a):-1)>0?a!=t&&(e=!0):e=!0,e&&this.saveNewMonth(!0),e},e.prototype.saveNewMonth=function(){},e.prototype.getYearWeek=function(e,t,a){var n=new Date(e,parseInt(t)-1,a),o=new Date(e,0,1),i=Math.round((n.valueOf()-o.valueOf())/864e5);return Math.ceil((i+(o.getDay()+1-1))/7)},e.prototype.checkIsNewWeek=function(){var e=!1,t=new Date,a=this.getYearWeek(t.getFullYear(),t.getMonth(),t.getDate()),n=cc.sys.localStorage.getItem("LoginWeek");return(n=""!=n&&null!=n?parseInt(n):-1)>0?n!=a&&(e=!0):e=!0,e&&this.saveNewWeek(!0),e},e.prototype.saveNewWeek=function(e){var t=new Date,a=this.getYearWeek(t.getFullYear(),t.getMonth(),t.getDate());cc.sys.localStorage.setItem("LoginWeek",a),1==e&&f.CyclePackManager.getInstance().resetWeekData()},e.prototype.checkIsNewDay=function(){var e=!1,t=(new Date).getDate(),a=cc.sys.localStorage.getItem("LoginDay");return(a=""!=a&&null!=a?parseInt(a):0)>0?a!=t&&(e=!0):e=!0,this.saveNewDay(e),e},e.prototype.saveNewDay=function(e){var t=(new Date).getDate();cc.sys.localStorage.setItem("LoginDay",t),1==e&&(this.checkIsNewMonth(),this.saveIsSignToday(!1),_.PayManager.getInstance().resetAllTodayShow(),d.DingYueManager.getInstance().resetTodayGetState(),h.default.resetTodayPassNum(),f.CyclePackManager.getInstance().resetDayData(),u.EventManager.postRedEvent(u.RedEventString.RED_CHECK,u.RedEventType.Btn_Main_SignIn),l.ActivityManager.getInstance().resetTicket())},e.prototype.getTotalVideoNum=function(){var e=cc.sys.localStorage.getItem("total_video_num");return""!=e&&null!=e?parseInt(e):0},e.prototype.addTotalVideoNum=function(e){var t=this.getTotalVideoNum()+e;cc.sys.localStorage.setItem("total_video_num",t),this.HttpAddPayPrice()},e.prototype.HttpAddPayPrice=function(){o.HttpManager.post(o.AccessName.updateUserInfo,this.getPayJsonString(),!1)},e.prototype.getPayJsonString=function(){var e=g.default.getInstance().getUserID();return JSON.stringify({type:7,uid:e,value:1})},e.prototype.refreshServerTime=function(){var e=this;o.HttpManager.gameTimePost(o.AccessName.getServerTime,this.getUidJsonString()).then(function(t){if(t.serverTime){if(m.TheStorageManager.getInstance().getNumber(p.StorageKey.TomorowZeroTimeStamp,0)<=t.serverTime){var a=86400,n=60*-(new Date).getTimezoneOffset(),o=t.serverTime%a,i=(r=t.serverTime-o-n)+a;e.refreshDailyData(),m.TheStorageManager.getInstance().setItem(p.StorageKey.TomorowZeroTimeStamp,i)}if(m.TheStorageManager.getInstance().getNumber(p.StorageKey.NextWeekZeroTimeStamp,0)<=t.serverTime){a=86400,n=60*-(new Date).getTimezoneOffset(),o=t.serverTime%a;var r=t.serverTime-o-n,s=new Date(1e3*r).getDay();0==s&&(s=7);var c=r-(s-1)*a+7*a;e.refreshWeekData(),m.TheStorageManager.getInstance().setItem(p.StorageKey.NextWeekZeroTimeStamp,c)}if(m.TheStorageManager.getInstance().getNumber(p.StorageKey.NextMonthZeroTimeStamp,0)<=t.serverTime){a=86400,n=60*-(new Date).getTimezoneOffset(),o=t.serverTime%a,r=t.serverTime-o-n;var l=new Date(1e3*r),g=r+(new Date(l.getFullYear(),l.getMonth()+1,0).getDate()-l.getDate()+1)*a;e.refreshMonthData(),m.TheStorageManager.getInstance().setItem(p.StorageKey.NextMonthZeroTimeStamp,g)}}else cc.error("\u6570\u636e\u83b7\u53d6\u5931\u8d25")}).catch(function(e){cc.error(e)})},e.prototype.refreshDailyData=function(){m.TheStorageManager.getInstance().setItem(p.StorageKey.StoreDailyShopId,"");for(var e=0;e<6;e++)m.TheStorageManager.getInstance().setItem(p.StorageKey.StoreDailyShopNum+e,""),m.TheStorageManager.getInstance().setItem(p.StorageKey.StoreDailyShopDiscount+e,"");for(e=0;e<3;e++)m.TheStorageManager.getInstance().setItem(p.StorageKey.StoreCoinItem+e,0);for(m.TheStorageManager.getInstance().setItem(p.StorageKey.CanFastOffline,""),m.TheStorageManager.getInstance().setItem(p.StorageKey.CanAdFastOffline,""),m.TheStorageManager.getInstance().setItem(p.StorageKey.CoinPopAd,""),m.TheStorageManager.getInstance().setItem(p.StorageKey.TurmtableAd,""),m.TheStorageManager.getInstance().setItem(p.StorageKey.TurmtableFree,""),m.TheStorageManager.getInstance().setItem(p.StorageKey.TurmtableFreeYes,1),m.TheStorageManager.getInstance().setItem(p.StorageKey.TurmtableFreeTime,900),m.TheStorageManager.getInstance().setItem(p.StorageKey.TaskDailyActivityNum,""),m.TheStorageManager.getInstance().setItem(p.StorageKey.VipDailyCollectionStatus,0),m.TheStorageManager.getInstance().setItem(p.StorageKey.BossChallengeTimes,3),m.TheStorageManager.getInstance().setItem(p.StorageKey.UnlimitedChallengeTimes,3),m.TheStorageManager.getInstance().setItem(p.StorageKey.VoidCrackChallengeTimes,3),m.TheStorageManager.getInstance().setItem(p.StorageKey.BuyBossChallengeTimes,3),m.TheStorageManager.getInstance().setItem(p.StorageKey.BuyUnlimitedChallengeTimes,3),m.TheStorageManager.getInstance().setItem(p.StorageKey.BuyVoidCrackChallengeTimes,3),e=20;e<101;e+=20)m.TheStorageManager.getInstance().setItem(p.StorageKey.TaskDailyActivityState+e,"");m.TheStorageManager.getInstance().setItem(p.StorageKey.TaskId+0,0),m.TheStorageManager.getInstance().setItem(p.StorageKey.WeekCardIsReceiveToday,0),m.TheStorageManager.getInstance().setItem(p.StorageKey.WeekCardFreeAdNum,10),m.TheStorageManager.getInstance().setItem(p.StorageKey.TodayIsFirstLogIn,0)},e.prototype.refreshWeekData=function(){m.TheStorageManager.getInstance().setItem(p.StorageKey.TaskWeekActivityNum,"");for(var e=100;e<501;e+=100)m.TheStorageManager.getInstance().setItem(p.StorageKey.TaskWeeklyActivityState+e,"")},e.prototype.refreshMonthData=function(){m.TheStorageManager.getInstance().setItem(p.StorageKey.DailySignInNum,"");for(var e=1;e<32;e++)m.TheStorageManager.getInstance().setItem(p.StorageKey.DailySignInDay+e,""),m.TheStorageManager.getInstance().setItem(p.StorageKey.DailySignInCumulativeDay+e,"")},e.prototype.saveSignUnlockHint=function(){cc.sys.localStorage.setItem("SignUnlockHint",1)},e.prototype.getGemFreeRedTip=function(){var e=C.CommodityInformationManager.getInstance().getJsonCommodityInformation(100101);return m.TheStorageManager.getInstance().getNumber(p.StorageKey.StoreDailyShopNum+0,0)<e.AdPlayableTimes},e.prototype.getCoinFreeRedTip=function(){var e=M.PurchaseCoinsManager.getInstance().getJsonDataByChapter(c.LevelManager.getInstance().getFinishChapter()),t=!1;return e.forEach(function(e,a){1==e.AdReward&&0==t&&Number(m.TheStorageManager.getInstance().getInt(p.StorageKey.StoreCoinItem+a,0))<e.AdPlayableTimes&&(t=!0)}),t},e.prototype.getHeroRecruitingRedTip=function(){return y.PropManager.getInstance().getPropNum(I.PropId.OrdinaryWishingCoin)>=10},e.prototype.getPetRecruitingRedTip=function(){var e=Date.now();return 1==v.FunctionDefinitionManager.getInstance().getIsUnlock(i.FuncType.PetParadise)&&m.TheStorageManager.getInstance().getNumber(p.StorageKey.StoreMysteryPetFreeTime,0)+864e5-e<=0},e.prototype.getEquipFreeRedTip=function(){var e=Date.now();return m.TheStorageManager.getInstance().getNumber(p.StorageKey.StoreMysteryEquipFreeTime,0)+864e5-e<=0},e.prototype.getUidJsonString=function(){var e=g.default.getInstance().getUserID();return JSON.stringify({uid:e})},e._instance=null,t=n([P],e)}());a.default=k,cc._RF.pop()},{"./Activity/ActivityManager":"ActivityManager","./Constants":"Constants","./GameManager":"GameManager","./JsonData/FunctionDefinition":"FunctionDefinition","./Level/LevelManager":"LevelManager","./NetWork/HttpManager":"HttpManager","./Payment/Data/CyclePack":"CyclePack","./Payment/DingYueManager":"DingYueManager","./Payment/PayManager":"PayManager","./Prop/PropConfig":"PropConfig","./Prop/PropManager":"PropManager","./Storage/StorageConfig":"StorageConfig","./Storage/StorageManager":"StorageManager","./Store/CommodityInformation":"CommodityInformation","./Store/PurchaseCoins":"PurchaseCoins","./Tools/EventManager":"EventManager","./Tools/LogInfo":"LogInfo","./Tower/TowerManager":"TowerManager","./UserData":"UserData"}],GameEffectsManager:[function(e,t,a){"use strict";cc._RF.push(t,"035eeNo7btJ9auxf4W54Aq8","GameEffectsManager");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.GameEffectsManager=a.GameEffectId=void 0;var r,s=e("./MapNodePool");(function(e){e[e.Null=0]="Null",e[e.monster_normal_att=1]="monster_normal_att",e[e.xuanyun=2]="xuanyun",e[e.skill_tip_circle=11]="skill_tip_circle",e[e.skill_tip_rect=12]="skill_tip_rect",e[e.skill_tip_dir=13]="skill_tip_dir",e[e.skill_damage_record=20]="skill_damage_record",e[e.hero_skill_common=99]="hero_skill_common",e[e.sheshou_jianshi_att=101]="sheshou_jianshi_att",e[e.sheshou_jianshi_skill=102]="sheshou_jianshi_skill",e[e.sheshou_attack_ctrl_hit=103]="sheshou_attack_ctrl_hit",e[e.sheshou_jianshi_att_hit=111]="sheshou_jianshi_att_hit",e[e.sheshou_jianshi_super_skill_1=121]="sheshou_jianshi_super_skill_1",e[e.sheshou_jianshi_super_skill_2=122]="sheshou_jianshi_super_skill_2",e[e.sheshou_jianshi_super_skill_3=123]="sheshou_jianshi_super_skill_3",e[e.paoshou_paodan_att=201]="paoshou_paodan_att",e[e.paoshou_paodan_skill=202]="paoshou_paodan_skill",e[e.paoshou_skill_hit=203]="paoshou_skill_hit",e[e.paoshou_paodan_skill_ex=204]="paoshou_paodan_skill_ex",e[e.paoshou_paodan_hit=211]="paoshou_paodan_hit",e[e.paoshou_skill_2=221]="paoshou_skill_2",e[e.paoshou_active_skill_1=231]="paoshou_active_skill_1",e[e.paoshou_active_skill_2=232]="paoshou_active_skill_2",e[e.paoshou_active_skill_toudan=233]="paoshou_active_skill_toudan",e[e.paoshou_dazhao_xinhaodan=241]="paoshou_dazhao_xinhaodan",e[e.paoshou_dazhao_weiyan=242]="paoshou_dazhao_weiyan",e[e.paoshou_dazhao_xinhaodan_miaozhun=243]="paoshou_dazhao_xinhaodan_miaozhun",e[e.paoshou_dazhao_weiyan_end=244]="paoshou_dazhao_weiyan_end",e[e.nvwu_attack_bullect=301]="nvwu_attack_bullect",e[e.nvwu_attack_bullect_hit=302]="nvwu_attack_bullect_hit",e[e.nvwu_active_skill=311]="nvwu_active_skill",e[e.deluyi_att=401]="deluyi_att",e[e.deluyi_att_hit=402]="deluyi_att_hit",e[e.deluyi_att_baoji=403]="deluyi_att_baoji",e[e.deluyi_skill_manteng=404]="deluyi_skill_manteng",e[e.deluyi_skill_beidong_create=405]="deluyi_skill_beidong_create",e[e.deluyi_active_skill=411]="deluyi_active_skill",e[e.deluyi_active_skill_hit=412]="deluyi_active_skill_hit",e[e.kuangzhanshi_attack=501]="kuangzhanshi_attack",e[e.kuangzhanshi_attack_hit=502]="kuangzhanshi_attack_hit",e[e.kuangzhanshi_attack_chuantou=503]="kuangzhanshi_attack_chuantou",e[e.kuangzhanshi_attack_max=504]="kuangzhanshi_attack_max",e[e.zhen_de_attack=601]="zhen_de_attack",e[e.zhen_de_attack_hit=602]="zhen_de_attack_hit",e[e.zhen_de_beidong_skill=611]="zhen_de_beidong_skill",e[e.zhen_de_beidong_skill_wall=612]="zhen_de_beidong_skill_wall",e[e.zhen_de_active_skill_1=621]="zhen_de_active_skill_1",e[e.zhen_de_active_skill_2=622]="zhen_de_active_skill_2",e[e.zhen_de_active_skill_3=623]="zhen_de_active_skill_3",e[e.shou_wang_jianshi_attack=701]="shou_wang_jianshi_attack",e[e.shou_wang_jianshi_skill1=702]="shou_wang_jianshi_skill1",e[e.shou_wang_jianshi_skill1_hit=703]="shou_wang_jianshi_skill1_hit",e[e.chang_mao_shou_attack=801]="chang_mao_shou_attack",e[e.chang_mao_shou_attack_hit=802]="chang_mao_shou_attack_hit",e[e.chang_mao_shou_skill_zhuazi=803]="chang_mao_shou_skill_zhuazi",e[e.chang_mao_shou_skill_active_1=811]="chang_mao_shou_skill_active_1",e[e.chang_mao_shou_skill_active_2=812]="chang_mao_shou_skill_active_2",e[e.bing_nv_attack=901]="bing_nv_attack",e[e.bing_nv_attack_hit=902]="bing_nv_attack_hit",e[e.bing_nv_beidong_skill_create=910]="bing_nv_beidong_skill_create",e[e.bing_nv_beidong_skill=911]="bing_nv_beidong_skill",e[e.bing_nv_beidong_skill_hit=912]="bing_nv_beidong_skill_hit",e[e.bing_nv_beidong_skill_2=913]="bing_nv_beidong_skill_2",e[e.bing_nv_active_skill_wall=922]="bing_nv_active_skill_wall",e[e.a_nu_bi_si_attack=1001]="a_nu_bi_si_attack",e[e.a_nu_bi_si_attack_hit=1002]="a_nu_bi_si_attack_hit",e[e.a_nu_bi_si_beidong_skill_1=1011]="a_nu_bi_si_beidong_skill_1",e[e.a_nu_bi_si_beidong_skill_2=1012]="a_nu_bi_si_beidong_skill_2",e[e.a_nu_bi_si_active_skill_1=1021]="a_nu_bi_si_active_skill_1",e[e.a_nu_bi_si_active_skill_wind=1022]="a_nu_bi_si_active_skill_wind",e[e.a_nu_bi_si_active_skill_line=1023]="a_nu_bi_si_active_skill_line",e[e.a_nu_bi_si_active_skill_ring=1024]="a_nu_bi_si_active_skill_ring",e[e.mei_mo_attack=1101]="mei_mo_attack",e[e.mei_mo_attack_hit=1102]="mei_mo_attack_hit",e[e.mei_mo_beidong_skill1_baozha=1111]="mei_mo_beidong_skill1_baozha",e[e.mei_mo_beidong_skill1_gongsu=1112]="mei_mo_beidong_skill1_gongsu",e[e.mei_mo_beidong_skill2_hit=1113]="mei_mo_beidong_skill2_hit",e[e.mei_mo_zhudong_skill_hero=1121]="mei_mo_zhudong_skill_hero",e[e.mei_mo_zhudong_skill_gound=1122]="mei_mo_zhudong_skill_gound",e[e.mei_mo_zhudong_skill_baozha=1123]="mei_mo_zhudong_skill_baozha",e[e.mei_mo_zhudong_skill_monster=1124]="mei_mo_zhudong_skill_monster",e[e.lei_shen_shandian=1201]="lei_shen_shandian",e[e.lei_shen_shandian_hit=1202]="lei_shen_shandian_hit",e[e.lei_shen_skill_ground=1211]="lei_shen_skill_ground",e[e.lei_shen_skill_sky=1212]="lei_shen_skill_sky",e[e.wall_shield=10001]="wall_shield",e[e.boss1_att_move=20101]="boss1_att_move",e[e.boss1_att_end=20102]="boss1_att_end",e[e.boss2_att_end=20201]="boss2_att_end",e[e.boss2_skill_move=20202]="boss2_skill_move",e[e.boss2_skill_end=20203]="boss2_skill_end",e[e.boss3_att_move=20301]="boss3_att_move",e[e.boss3_att_end=20302]="boss3_att_end",e[e.boss3_skill_move=20303]="boss3_skill_move",e[e.boss_hp=2e4]="boss_hp",e[e.boss_coming=20001]="boss_coming",e[e.monster_far_att=20002]="monster_far_att",e[e.monster_far_att_hit=20003]="monster_far_att_hit",e[e.monster_die=20004]="monster_die",e[e.monster_zhaohuan=20005]="monster_zhaohuan",e[e.monster_zhongdu=21001]="monster_zhongdu",e[e.monster_zhiliao_halo=21002]="monster_zhiliao_halo",e[e.monster_zhiliao_halo_hit=21003]="monster_zhiliao_halo_hit",e[e.monster19_youling_skill=21901]="monster19_youling_skill",e[e.monster19_youling_skill_hit=21902]="monster19_youling_skill_hit",e[e.monster30_bianfu_skill=23001]="monster30_bianfu_skill",e[e.monster65_shuangjuren_att=26501]="monster65_shuangjuren_att",e[e.monster65_shuangjuren_att_hit=26502]="monster65_shuangjuren_att_hit",e[e.monster65_shuangjuren_att_hit_crit=26503]="monster65_shuangjuren_att_hit_crit",e[e.monster67_shuijingyoulong_att=26701]="monster67_shuijingyoulong_att",e[e.monster67_shuijingyoulong_att_hit=26702]="monster67_shuijingyoulong_att_hit",e[e.monster68_niujiangjun_skill=26811]="monster68_niujiangjun_skill",e[e.monster69_niusaman_att=26901]="monster69_niusaman_att",e[e.monster70_silaimu_qq=27001]="monster70_silaimu_qq",e[e.monster44_shuijingshouwei_att=24401]="monster44_shuijingshouwei_att",e[e.monster47_att=24701]="monster47_att",e[e.monster53_att=25301]="monster53_att",e[e.monster72_att=27201]="monster72_att",e[e.monster73_skill_lian_root=27310]="monster73_skill_lian_root",e[e.monster73_skill_mao=27311]="monster73_skill_mao",e[e.monster73_skill_lian=27312]="monster73_skill_lian",e[e.monster57_attack_wind=25701]="monster57_attack_wind",e[e.monster58_attack_bullect=25801]="monster58_attack_bullect",e[e.monster76_attack_bullect=27601]="monster76_attack_bullect",e[e.monster76_attack_guanghuan=27611]="monster76_attack_guanghuan",e[e.monster62_attack_bullect=26201]="monster62_attack_bullect",e[e.monster78_attack_bullect=27801]="monster78_attack_bullect",e[e.monster78_skill_bullect=27811]="monster78_skill_bullect",e[e.monster78_skill_bullect_hit=27812]="monster78_skill_bullect_hit",e[e.monster37_shitouren=23701]="monster37_shitouren",e[e.boss1_normal_att=50101]="boss1_normal_att",e[e.boss1_normal_att_hit=50102]="boss1_normal_att_hit",e[e.boss1_normal_skill=50111]="boss1_normal_skill",e[e.boss1_normal_skill_hit=50112]="boss1_normal_skill_hit",e[e.boss2_normal_att=50201]="boss2_normal_att",e[e.boss2_normal_att_hit1=50202]="boss2_normal_att_hit1",e[e.boss2_normal_att_hit2=50203]="boss2_normal_att_hit2",e[e.boss2_normal_skill=50211]="boss2_normal_skill",e[e.boss2_normal_skill_hit=50212]="boss2_normal_skill_hit",e[e.boss3_normal_attack=50301]="boss3_normal_attack",e[e.boss3_normal_attack_hit=50302]="boss3_normal_attack_hit",e[e.boss3_skill_1=50311]="boss3_skill_1",e[e.boss3_skill_1_hit=50312]="boss3_skill_1_hit",e[e.boss3_skill_2_dunpai=50321]="boss3_skill_2_dunpai",e[e.boss3_skill_2=50322]="boss3_skill_2",e[e.boss3_skill_2_hit=50323]="boss3_skill_2_hit",e[e.boss3_skill_2_xueyin=50324]="boss3_skill_2_xueyin",e[e.boss4_normal_attack_hit=50401]="boss4_normal_attack_hit",e[e.boss4_normal_skill_penhuo=50411]="boss4_normal_skill_penhuo",e[e.boss5_normal_attack_hit=50501]="boss5_normal_attack_hit",e[e.boss5_skill_baozha=50511]="boss5_skill_baozha",e[e.boss5_skill_release=50512]="boss5_skill_release",e[e.boss6_attack=50601]="boss6_attack",e[e.boss6_attack_hit=50602]="boss6_attack_hit",e[e.boss6_skill2=50611]="boss6_skill2",e[e.boss6_skill2_hit=50612]="boss6_skill2_hit",e[e.boss7_attack_bullect=50701]="boss7_attack_bullect",e[e.boss7_attack_bullect_hit=50702]="boss7_attack_bullect_hit",e[e.boss7_skill_bullect=50711]="boss7_skill_bullect",e[e.boss7_skill_bullect_hit=50712]="boss7_skill_bullect_hit",e[e.boss8_attack_bullect=50801]="boss8_attack_bullect",e[e.boss8_attack_bullect_hit=50802]="boss8_attack_bullect_hit",e[e.boss8_skill_bullect=50811]="boss8_skill_bullect",e[e.boss8_skill_bullect_hit=50812]="boss8_skill_bullect_hit",e[e.boss9_attack_bullect=50901]="boss9_attack_bullect",e[e.boss9_attack_bullect_hit=50902]="boss9_attack_bullect_hit",e[e.boss9_skill2_penhuo=50911]="boss9_skill2_penhuo",e[e.boss9_skill3_hudun=50921]="boss9_skill3_hudun",e[e.boss9_skill3_maoyan=50931]="boss9_skill3_maoyan",e[e.boss9_skill3_baolie=50932]="boss9_skill3_baolie",e[e.boss10_attack=51001]="boss10_attack",e[e.boss10_attack_hit=51002]="boss10_attack_hit",e[e.boss10_skill2_0=51011]="boss10_skill2_0",e[e.boss10_skill2_hit=51012]="boss10_skill2_hit",e[e.pet_attackt_line_1=30001]="pet_attackt_line_1",e[e.pet_attackt_curve_1=30002]="pet_attackt_curve_1",e[e.pet_attackt_tuowei_2=30004]="pet_attackt_tuowei_2",e[e.pet_attackt_hit_1=30005]="pet_attackt_hit_1",e[e.pet_attackt_hit_2=30006]="pet_attackt_hit_2",e[e.pet_attack_line_hit=30007]="pet_attack_line_hit",e[e.pet_attackt_curve_3=30008]="pet_attackt_curve_3",e[e.pet_attackt_tuowei_3=30009]="pet_attackt_tuowei_3",e[e.pet_attackt_hit_3=30010]="pet_attackt_hit_3",e[e.pet_attackt_hit_4=30011]="pet_attackt_hit_4",e[e.pet1_attack=30101]="pet1_attack",e[e.pet1_attack_hit=30102]="pet1_attack_hit",e[e.pet2_attack=30201]="pet2_attack",e[e.pet2_attack_hit=30202]="pet2_attack_hit",e[e.pet2_skill=30211]="pet2_skill",e[e.pet3_skill_back=30311]="pet3_skill_back",e[e.pet3_skill_front=30312]="pet3_skill_front",e[e.pet4_skill=30401]="pet4_skill",e[e.front_normal_attack_text_1=40001]="front_normal_attack_text_1",e[e.front_normal_attack_text_2=40002]="front_normal_attack_text_2",e[e.front_normal_attack_text_3=40003]="front_normal_attack_text_3",e[e.front_normal_attack_text_4=40004]="front_normal_attack_text_4",e[e.front_normal_attack_text_5=40005]="front_normal_attack_text_5",e[e.front_restore_text=40006]="front_restore_text",e[e.front_crit_text=40007]="front_crit_text",e[e.ui_monster_warning=41001]="ui_monster_warning",e[e.shadow=5e5]="shadow",e[e.drop_coin=500001]="drop_coin",e[e.drop_gem=500002]="drop_gem",e[e.drop_gem_shadow=500003]="drop_gem_shadow",e[e.drop_coin_shadow=500004]="drop_coin_shadow"})(r=a.GameEffectId||(a.GameEffectId={}));var c=cc._decorator,l=c.ccclass,g=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var a;return o(t,e),a=t,t.getInstance=function(){return this._instance},t.prototype.onLoad=function(){a._instance=this,e.prototype.onLoad.call(this),this.addEffectPoolById(r.shadow,32)},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this),a._instance=null},t.prototype.addEffectPoolByPath=function(t,a,n){void 0===n&&(n=4),e.prototype.addNodePool.call(this,t,a,n)},t.prototype.addEffectPoolById=function(t,a,n){void 0===a&&(a=4);var o="effects/game/"+t;return e.prototype.addNodePool.call(this,t,o,a,n)},t.prototype.createGameEffectById=function(t,a,n){var o=e.prototype.getNodeById.call(this,t);return null==o&&cc.error(t),this.node.addChild(o),o.setPosition(a),this.dealAnimation(t,o,n),o},t.prototype.createGameEffectForParent=function(t,a,n,o,i){void 0===i&&(i=!1);var r=e.prototype.getNodeById.call(this,t);return r.name=t.toString(),n.addChild(r),r.setPosition(a),r.setSiblingIndex(t),this.dealAnimation(t,r,o),r},t.prototype.destroyGameEffectById=function(t,a){e.prototype.destroyNode.call(this,t,a)},t.prototype.removeAllEffect=function(){this.node.removeAllChildren()},t.prototype.dealAnimation=function(e,t,a){var n=this;switch(e){case r.monster_normal_att:case r.sheshou_jianshi_att_hit:case r.sheshou_attack_ctrl_hit:case r.paoshou_paodan_hit:case r.paoshou_skill_hit:case r.deluyi_att_hit:case r.deluyi_att_baoji:case r.boss3_att_end:case r.boss2_att_end:case r.boss2_skill_end:case r.boss1_att_end:case r.monster_far_att_hit:case r.shou_wang_jianshi_skill1_hit:case r.boss1_normal_att_hit:case r.boss1_normal_skill_hit:case r.lei_shen_skill_ground:case r.lei_shen_skill_sky:case r.boss2_normal_att_hit1:case r.boss2_normal_skill_hit:case r.boss2_normal_skill:case r.monster19_youling_skill_hit:case r.monster_die:case r.boss3_normal_attack_hit:case r.boss3_skill_1_hit:case r.boss3_skill_2_hit:case r.monster_zhiliao_halo_hit:case r.monster65_shuangjuren_att_hit:case r.monster65_shuangjuren_att_hit_crit:case r.zhen_de_attack_hit:case r.zhen_de_beidong_skill:case r.zhen_de_active_skill_2:case r.bing_nv_attack_hit:case r.bing_nv_beidong_skill_hit:case r.boss4_normal_attack_hit:case r.monster67_shuijingyoulong_att_hit:case r.monster68_niujiangjun_skill:case r.a_nu_bi_si_attack_hit:case r.a_nu_bi_si_beidong_skill_1:case r.kuangzhanshi_attack_hit:case r.kuangzhanshi_attack_chuantou:case r.boss5_normal_attack_hit:case r.boss5_skill_baozha:case r.boss5_skill_release:case r.pet1_attack_hit:case r.pet2_attack_hit:case r.a_nu_bi_si_active_skill_ring:case r.mei_mo_attack_hit:case r.mei_mo_beidong_skill1_baozha:case r.mei_mo_zhudong_skill_baozha:case r.mei_mo_beidong_skill2_hit:case r.mei_mo_zhudong_skill_gound:case r.boss6_attack_hit:case r.boss6_skill2_hit:case r.boss7_attack_bullect_hit:case r.boss7_skill_bullect_hit:case r.boss8_attack_bullect_hit:case r.boss8_skill_bullect_hit:case r.nvwu_attack_bullect_hit:case r.nvwu_active_skill:case r.boss9_skill3_baolie:case r.boss9_attack_bullect_hit:case r.boss10_attack_hit:case r.boss10_skill2_hit:case r.monster78_skill_bullect_hit:case r.lei_shen_shandian_hit:case r.bing_nv_beidong_skill_create:case r.deluyi_skill_beidong_create:case r.monster37_shitouren:var o=t.getComponent(cc.Animation);o.play(),o.on(cc.Animation.EventType.FINISHED,function(){o.off(cc.Animation.EventType.FINISHED),n.destroyGameEffectById(e,t),a&&a()})}},t._instance=null,a=i([l],t)}(s.default));a.GameEffectsManager=g,cc._RF.pop()},{"./MapNodePool":"MapNodePool"}],GameLose:[function(e,t,a){"use strict";cc._RF.push(t,"d83f8GPkehBFYiLLhSmEJK8","GameLose");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../GameManager"),c=e("../../JsonData/LevelJsonData"),l=e("../../Level/LevelManager"),g=e("../../Level/MissionLevel"),u=e("../../multiLanguage/FollowConstants"),p=e("../../multiLanguage/FollowManager"),d=e("../../multiLanguage/LanguageManager"),h=e("../../Sound/AudioConstants"),f=e("../../Tower/TowerManager"),_=e("../../Tutorials/TutorailsManager"),m=e("../../UI/UIManager"),y=e("../../UI/UIComponent"),I=e("../../Prop/PropManager"),v=e("../../Prop/PropConfig"),M=e("../../Monster/MonsterManager"),C=e("../../Maze/MazeManager"),S=e("../../JsonData/FunctionDefinition"),P=e("../../Wall/WallManager"),k=e("../../Payment/PayFirstChargeUi"),b=e("../../UI/UIConfig"),T=e("../../Payment/PayManager"),B=e("../../copy/voidcrack/RogueHexagonTypes"),w=cc._decorator,N=w.ccclass,L=(w.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onEnable=function(){this.initUi(),s.default.getInstance().sound_manager.playSound(h.SoundIndex.YX_Lose)},t.prototype.initUi=function(){var e=this.node.getChildByName("label_level"),t=this.node.getChildByName("btnReplay");switch(s.default.getInstance().cur_game_mode){case r.GameMode.Main:t.active=!0,e.getComponent(cc.Label).string=s.default.getInstance().fighting_info.title_name,p.default.getInstance().followEvent(u.Follow_Type.\u6218\u6597\u5931\u8d25\u5c55\u793a\u6b21\u6570_x\u5173+s.default.getInstance().fighting_info.title_name),p.default.getInstance().followEvent(u.Follow_Type.\u5931\u8d25\u6311\u6218\u5173\u5361+l.LevelManager.getInstance().start_level),this.showReward();break;case r.GameMode.Tower:t.active=!1,e.getComponent(cc.Label).string=e.getComponent(cc.Label).string=s.default.getInstance().fighting_info.title_name;break;case r.GameMode.Endless:t.active=!1,e.getComponent(cc.Label).string=""+d.default.getInstance().getStrByTextId(800001);break;case r.GameMode.Boss_Challenge:t.active=!1,e.getComponent(cc.Label).string=""+d.default.getInstance().getStrByTextId(820001);break;case r.GameMode.Maze:e.getComponent(cc.Label).string=s.default.getInstance().fighting_info.title_name,t.active=!1;var a=P.default.getInstance().getMainWall();switch(C.MazeManager.getInstance().setMazeSubHp((a.getMaxHp()-a.getCurHp())/a.getMaxHp()),B.RogueHexagonTypesManager.getInstance().getHexagonType(C.MazeManager.getInstance().getFightingId())){case 1:p.default.getInstance().followEvent(u.Follow_Type.rogue\u73a9\u6cd5\u666e\u901a\u5173\u5361\u6311\u6218\u5931\u8d25\u7684\u6b21\u6570);break;case 2:p.default.getInstance().followEvent(u.Follow_Type.rogue\u73a9\u6cd5\u7cbe\u82f1\u5173\u5361\u6311\u6218\u5931\u8d25\u7684\u6b21\u6570);break;case 6:p.default.getInstance().followEvent(u.Follow_Type.rogue\u73a9\u6cd5BOSS\u5173\u5361\u6311\u6218\u5931\u8d25\u7684\u6b21\u6570)}}},t.prototype.showReward=function(){switch(s.default.getInstance().cur_game_mode){case r.GameMode.Main:this.showMainReward();break;case r.GameMode.Tower:this.showTowerReward()}},t.prototype.showMainReward=function(){var e=l.LevelManager.getInstance().start_level,t=M.default.getInstance().killed_monster_num/M.default.getInstance().total_monster_num,a=Math.round(g.MissionLevelManager.getInstance().getPassReward_Coin(e)*t),n=new c.RewardData;n.reward_id=v.PropId.Coin,n.reward_num=a,I.PropManager.getInstance().changePropNum(n.reward_id,n.reward_num),this.checkTutorails()},t.prototype.showTowerReward=function(){},t.prototype.checkTutorails=function(){s.default.getInstance().cur_game_mode==r.GameMode.Main&&(_.default.getInstance().isShowTutorials(301)?(I.PropManager.getInstance().changePropNum(v.PropId.Coin,100),_.default.getInstance().showTutorials(301,function(){_.default.getInstance().saveTutorials(301)},function(){_.default.getInstance().is_tutorails_state=!1})):_.default.getInstance().isShowTutorials(311)?(I.PropManager.getInstance().changePropNum(100003,30),_.default.getInstance().showTutorials(311,function(){_.default.getInstance().saveTutorials(311)},function(){_.default.getInstance().is_tutorails_state=!1})):0==_.default.getInstance().isShowTutorials(301)&&0==_.default.getInstance().isShowTutorials(311)&&_.default.getInstance().isShowTutorials(331)&&_.default.getInstance().showTutorials(331,function(){_.default.getInstance().saveTutorials(331)},function(){T.PayManager.getInstance().getPayNum("c301")<=0&&m.UIManager.getInstance().showUiDialog(b.UIPath.FirstCharge,b.UILayerLevel.One,{onCompleted:function(e){e.getComponent(k.default).init({onClose:function(){}})}})}))},t.prototype.clickBtnHome=function(){switch(p.default.getInstance().followEvent(u.Follow_Type.\u5931\u8d25\u9875_\u4e3b\u9875\u6309\u94ae\u70b9\u51fb\u6b21\u6570),s.default.getInstance().sound_manager.playSound(h.SoundIndex.click),s.default.getInstance().cur_game_mode){case r.GameMode.Main:s.default.getInstance().game_to_home=r.Go_Type.Main,s.default.getInstance().backToHome();break;case r.GameMode.Maze:s.default.getInstance().game_to_home=r.Go_Type.Activity_Maze_lose,s.default.getInstance().backToHome()}},t.prototype.clickBtnGo=function(e,t){s.default.getInstance().sound_manager.playSound(h.SoundIndex.click);var a=parseInt(t);if(a!=r.Go_Type.PetList||0!=S.FunctionDefinitionManager.getInstance().getIsUnlockIndex(r.Btn_Index.Btn_Pet)){if(a==r.Go_Type.Activity&&(n=S.FunctionDefinitionManager.getInstance().getUnlockConditionType(r.FuncType.GeRenBoss),o=S.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(r.FuncType.GeRenBoss),l.LevelManager.getInstance().finish_level<o))return void(1==n?s.default.getInstance().showMessage(d.default.getInstance().getStrByTextId(100051)+":"+o):2==n&&(i=d.default.getInstance().getStrByTextId(100052),c=g.MissionLevelManager.getInstance().getLevelName(o),f=i.replace("~",""+c),s.default.getInstance().showMessage(f)));1==a&&p.default.getInstance().followEvent(u.Follow_Type.\u5931\u8d25\u9875_\u5f3a\u5316\u517b\u6210\u8df3\u8f6c\u6309\u94ae\u70b9\u51fb\u6b21\u6570),10==a&&p.default.getInstance().followEvent(u.Follow_Type.\u5931\u8d25\u9875_\u83b7\u53d6\u8d44\u6e90\u8df3\u8f6c\u6309\u94ae\u70b9\u51fb\u6b21\u6570),9==a&&p.default.getInstance().followEvent(u.Follow_Type.\u5931\u8d25\u9875_\u524d\u5f80\u5546\u57ce\u8df3\u8f6c\u6309\u94ae\u70b9\u51fb\u6b21\u6570),s.default.getInstance().game_to_home=a,s.default.getInstance().backToHome()}else{var n=S.FunctionDefinitionManager.getInstance().getUnlockConditionType(r.FuncType.ChongWuXiTong),o=S.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(r.FuncType.ChongWuXiTong);if(1==n)s.default.getInstance().showMessage(d.default.getInstance().getStrByTextId(100051)+":"+o);else if(2==n){var i=d.default.getInstance().getStrByTextId(100052),c=g.MissionLevelManager.getInstance().getLevelName(o),f=i.replace("~",""+c);s.default.getInstance().showMessage(f)}}},t.prototype.clickBtnReplay=function(){p.default.getInstance().followEvent(u.Follow_Type.\u5931\u8d25\u9875_\u91cd\u65b0\u6311\u6218\u6309\u94ae\u70b9\u51fb\u6b21\u6570),s.default.getInstance().sound_manager.playSound(h.SoundIndex.click),cc.director.loadScene(r.GameScene.game)},t.prototype.clickBtnRole=function(){s.default.getInstance().sound_manager.playSound(h.SoundIndex.click),s.default.getInstance().backToHome()},t.prototype.clickBtnOk=function(){s.default.getInstance().sound_manager.playSound(h.SoundIndex.click),s.default.getInstance().game_to_home=r.Go_Type.Activity,s.default.getInstance().cur_game_mode==r.GameMode.Tower&&(f.default.is_show_tower=!0),s.default.getInstance().backToHome()},t.prototype.clickBtnStats=function(){s.default.getInstance().sound_manager.playSound(h.SoundIndex.click),m.UIManager.getInstance().showDamageStatsUi()},i([N],t)}(y.default));a.default=L,cc._RF.pop()},{"../../Constants":"Constants","../../GameManager":"GameManager","../../JsonData/FunctionDefinition":"FunctionDefinition","../../JsonData/LevelJsonData":"LevelJsonData","../../Level/LevelManager":"LevelManager","../../Level/MissionLevel":"MissionLevel","../../Maze/MazeManager":"MazeManager","../../Monster/MonsterManager":"MonsterManager","../../Payment/PayFirstChargeUi":"PayFirstChargeUi","../../Payment/PayManager":"PayManager","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../Tower/TowerManager":"TowerManager","../../Tutorials/TutorailsManager":"TutorailsManager","../../UI/UIComponent":"UIComponent","../../UI/UIConfig":"UIConfig","../../UI/UIManager":"UIManager","../../Wall/WallManager":"WallManager","../../copy/voidcrack/RogueHexagonTypes":"RogueHexagonTypes","../../multiLanguage/FollowConstants":"FollowConstants","../../multiLanguage/FollowManager":"FollowManager","../../multiLanguage/LanguageManager":"LanguageManager"}],GameManager:[function(e,t,a){"use strict";cc._RF.push(t,"91f98a7VVdOw4dP/bHemejR","GameManager");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("./Constants"),s=e("./Home"),c=e("./Hint"),l=e("./UI/GetTip"),g=e("./UI/Dialog"),u=e("./multiLanguage/FollowManager"),p=e("./multiLanguage/FollowConstants"),d=e("./LocalVideo"),h=e("./Hero/Data/HeroData"),f=e("./UI/UnlockSkill"),_=e("./ZhenXingData"),m=e("./Tutorials/TutorailsManager"),y=e("./Hero/Data/HeroManager"),I=e("./Level/LevelManager"),v=e("./Level/MissionLevel"),M=e("./Activity/EndlessLevels"),C=e("./Boss/BossManager"),S=e("./Activity/BossChallenge"),P=e("./Tower/TowerLevel"),k=e("./Tower/TowerManager"),b=e("./Monster/Data/MonsterConfigure"),T=e("./Monster/MonsterData"),B=e("./Monster/MonsterManager"),w=e("./UI/UIManager"),N=e("./Pet/Game/Pet"),L=e("./Maze/MazeManager"),D=e("./Game/GameEffectsManager"),E=e("./Storage/StorageManager"),R=e("./Storage/StorageConfig"),G=e("./Hero/Game/Hero"),x=e("./Hero/Game/HeroConfig"),A=e("./GuaJi/Ui/GuaJiGift"),O=e("./UI/UIConfig"),H=e("./Game/Ui/GameWin"),F=e("./Level/TutorialLevel"),j=e("./Sound/AudioConstants"),U=e("./Wall/WallManager"),J=e("./Wall/WallConfig"),W=e("./copy/endlesschallenges/BuffDisplay"),V=e("./Hero/Data/HeroBaseInfo"),q=e("./Equipment/Data/EquipmentAttribute"),z=e("./JsonData/ExclusiveWeaponMessage"),K=e("./Tutorials/RewardSSUi"),Y=cc._decorator.ccclass,X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab_hint=null,t.prefab_get_tip=null,t.role_show_hero=x.Hero_Type.ChangMaoShou,t.game=null,t.enemy_hp_manager=null,t.hp_text_manager=null,t.chu_sheng_dian=null,t.sound_manager=null,t.music_manager=null,t.all_hero=null,t.hero_skill_dps=null,t.hero_attack_dps=null,t.pet_active_dps=null,t.pet_connect_dps=null,t.cur_game_state=r.GameState.Game_Ready,t.cur_game_mode=r.GameMode.Main,t.cur_game_scene=r.GameScene.home,t.cur_load_progress=0,t.ingame_skills=[],t.cur_wave=0,t.fighting_info=null,t.reward_data=[],t.is_loaded=!1,t.game_to_home=r.Go_Type.Main,t.fuhuo_num=1,t.is_show_text=!0,t.max_skill_slot=2,t.game_hero_data=null,t.cur_total_num=0,t.cur_create_num=0,t.enemy_offset_y=0,t.enemy_att_y=-300,t.enemy_create_y=1080,t.load_jishu=0,t.load_callback=null,t.jishu_time=0,t.pass_level_num=0,t.game_rate=1,t.btn_setup_rate=1,t.fighting_setup_rate=1,t.max_damage=0,t.min_damage=9999,t.auto_fighting=!1,t.cur_team_list=[],t.is_show_exit=!1,t.aniType=4,t.charPosX=0,t}var a;return o(t,e),a=t,t.getInstance=function(){return this._instance},t.prototype.onLoad=function(){console.log("gameLoaderon"),cc.game.addPersistRootNode(this.node),a._instance=this},t.prototype.init=function(e){switch(this.unscheduleAllCallbacks(),this.cur_game_scene=e,this.is_loaded=!1,this.aniType=4,this.cur_game_scene){case r.GameScene.home:this.cur_load_progress=0,this.is_loaded=!0,this.exitPlayGame();break;case r.GameScene.game:this.game_to_home=r.Go_Type.Main,this.cur_game_state=r.GameState.Game_Ready,this.all_hero=new Map,this.hero_attack_dps=null,this.hero_skill_dps=null,this.cur_total_num=this.cur_create_num=0,this.cur_wave=0,this.ingame_skills=new Array,this.reward_data=new Array,this.fuhuo_num=1,this.auto_fighting=E.TheStorageManager.getInstance().getInt(R.StorageKey.AutoFighting)>0,this.loadLevel(),this.loadGameHeroData();break;default:this.cur_load_progress=0}this.loadTip()},t.prototype.setBtnSetupRate=function(e,t){void 0===t&&(t=!0),this.btn_setup_rate=e,this.setGameRate(1),t&&(2==e?u.default.getInstance().followEvent(p.Follow_Type.\u4e8c\u500d\u901f\u5f00\u542f\u6210\u529f\u6b21\u6570):u.default.getInstance().followEvent(p.Follow_Type.\u4e8c\u500d\u901f\u5173\u95ed\u6210\u529f\u6b21\u6570))},t.prototype.setAutoFighting=function(e,t){void 0===t&&(t=!0),this.auto_fighting=e,t&&(e?u.default.getInstance().followEvent(p.Follow_Type.\u81ea\u52a8\u6218\u6597\u5f00\u542f\u6210\u529f\u6b21\u6570):u.default.getInstance().followEvent(p.Follow_Type.\u81ea\u52a8\u6218\u6597\u5173\u95ed\u6210\u529f\u6b21\u6570))},t.prototype.getBtnSetupRate=function(){return this.btn_setup_rate},t.prototype.setFightingRate=function(e){this.fighting_setup_rate=e,this.setGameRate(1)},t.prototype.setGameRate=function(e){this.game_rate=e*this.btn_setup_rate*this.fighting_setup_rate,cc.kSpeed(this.game_rate)},t.prototype.getGameRate=function(){return this.game_rate},t.prototype.resetRate=function(){this.game_rate=1,cc.kSpeed(this.game_rate)},t.prototype.setMaxDamage=function(e){e>this.max_damage&&(this.max_damage=e)},t.prototype.getMaxDamage=function(){return this.max_damage},t.prototype.setMinDamage=function(e){e<this.min_damage&&(this.min_damage=e)},t.prototype.getMinDamage=function(){return this.min_damage},t.prototype.getDamageTextScale=function(e){var t=1;return(t=e/this.getMaxDamage()*1.4)<1&&(t=1),t>1.4&&(t=1.4),t},t.prototype.getDamageTextEffect=function(e){D.GameEffectId.front_normal_attack_text_1;var t=e/this.getMaxDamage();return t<.2?D.GameEffectId.front_normal_attack_text_1:t<.4?D.GameEffectId.front_normal_attack_text_2:t<.6?D.GameEffectId.front_normal_attack_text_3:t<.8?D.GameEffectId.front_normal_attack_text_4:D.GameEffectId.front_normal_attack_text_5},t.prototype.getHero=function(e){return this.all_hero.get(e)},t.prototype.loadGameHeroData=function(){var e=!1;this.cur_game_mode==r.GameMode.Main?(this.hero_skill_dps=new Array,this.hero_attack_dps=new Array):this.hero_attack_dps||(this.hero_skill_dps=new Array,this.hero_attack_dps=new Array,e=!0),this.pet_active_dps=new Map,this.pet_connect_dps=new Map,this.game_hero_data=new Map,this.cur_team_list=y.HeroManager.getInstance().getTeamList(this.cur_game_mode);for(var t=L.MazeManager.getInstance().refreshFightingData(),a=new x.AttributeData,n=0;n<x.Hero_Type.Hero_Num;n++){this.cur_game_mode==r.GameMode.Main?(this.hero_skill_dps.push(0),this.hero_attack_dps.push(0)):e&&(this.hero_skill_dps.push(0),this.hero_attack_dps.push(0));var o=new h.HeroData,i=y.HeroManager.getInstance().getHeroData(n);i&&(o=cc.instantiate(i),this.cur_team_list.includes(n)&&(this.cur_game_mode==r.GameMode.Maze&&(o.total_attack+=t.AttackPer*o.fixed_attck,o.total_defense+=t.DefensePer*o.fix_defense,o.Critical+=t.CriticalValue,o.Hit+=t.HitValue),a.Health+=.2*o.total_hp,a.Defense+=.2*o.total_defense,a.Miss+=.2*o.Miss,a.AntiCritical+=.2*o.AntiCritical,a.AntiExtraCritical+=.2*o.AntiExtraCritical,a.Attack+=.2*o.total_attack,a.Hit+=.2*o.Hit,this.pet_active_dps.set(o.pet_info,0),this.pet_connect_dps.set(o.pet_info,0),this.setMaxDamage(o.total_attack*o.ExtraCritical),this.setMinDamage(o.total_attack),this.game_hero_data.set(n,o)))}U.default.getInstance().getMainWall().startNextLevel(),U.default.getInstance().getMainWall().initWall(a,J.WallType.Main)},t.prototype.loadTutorailsHeroData=function(){var e=!1;this.cur_game_mode==r.GameMode.Main?(this.hero_skill_dps=new Array,this.hero_attack_dps=new Array):this.hero_attack_dps||(this.hero_skill_dps=new Array,this.hero_attack_dps=new Array,e=!0);for(var t=0;t<x.Hero_Type.Hero_Num;t++)this.cur_game_mode==r.GameMode.Main?(this.hero_skill_dps.push(0),this.hero_attack_dps.push(0)):e&&(this.hero_skill_dps.push(0),this.hero_attack_dps.push(0));this.pet_active_dps=new Map,this.pet_connect_dps=new Map,this.game_hero_data=new Map,this.cur_team_list=[x.Hero_Type.ShouWang,x.Hero_Type.ANuBiSi,x.Hero_Type.ZhenDe,x.Hero_Type.MeiMo,x.Hero_Type.LeiShen];var a=new x.AttributeData;for(t=0;t<this.cur_team_list.length;t++){var n=this.addTutotialsHeroFull(this.cur_team_list[t],t,null);a.Health+=.2*n.total_hp,a.Defense+=.2*n.total_defense,a.Miss+=.2*n.Miss,a.AntiCritical+=.2*n.AntiCritical,a.AntiExtraCritical+=.2*n.AntiExtraCritical,a.Attack+=.2*n.total_attack,a.Hit+=.2*n.Hit,this.pet_active_dps.set(n.pet_info,0),this.pet_connect_dps.set(n.pet_info,0),this.setMaxDamage(n.total_attack*n.ExtraCritical),this.setMinDamage(n.total_attack)}U.default.getInstance().getMainWall().startNextLevel(),U.default.getInstance().getMainWall().initWall(a,J.WallType.Main)},t.prototype.refreshMainWallData=function(){var e=new x.AttributeData;this.all_hero.forEach(function(t){var a=cc.instantiate(t.hero_data);e.Health+=.2*a.total_hp,e.Defense+=.2*a.total_defense,e.Miss+=.2*a.Miss,e.AntiCritical+=.2*a.AntiCritical,e.AntiExtraCritical+=.2*a.AntiExtraCritical,e.Attack+=.2*a.total_attack,e.Hit+=.2*a.Hit}),U.default.getInstance().getMainWall().refreshWallData(e)},t.prototype.loadTip=function(){var e=this;this.prefab_hint||cc.resources.load("hint",cc.Prefab,function(t,a){t?console.log(t):e.prefab_hint=a}),this.prefab_get_tip||cc.resources.load("get_tip",cc.Prefab,function(t,a){t?console.log(t):e.prefab_get_tip=a})},t.prototype.showMessage=function(e,t){if(null==this.prefab_hint)cc.resources.load("hint",cc.Prefab,function(a,n){if(a)console.log(a);else{var o=cc.instantiate(n);o.parent=cc.find("Canvas/Ui_Root"),o.getComponent(c.default).showHintMessage(e,t)}});else{var a=cc.instantiate(this.prefab_hint);a.parent=cc.find("Canvas/Ui_Root"),a.getComponent(c.default).showHintMessage(e,t)}},t.prototype.showGetTip=function(e,t){if(null==this.prefab_hint)cc.resources.load("get_tip",cc.Prefab,function(a,n){if(a)console.log(a);else{var o=cc.instantiate(n);o.parent=cc.find("Canvas/Ui_Root"),o.getComponent(l.default).addShowGetPorp(e,t)}});else{var a=cc.instantiate(this.prefab_get_tip);a.parent=cc.find("Canvas/Ui_Root"),a.getComponent(l.default).addShowGetPorp(e,t)}},t.prototype.showMultipleGetTip=function(e,t){if(null==this.prefab_hint)cc.resources.load("get_tip",cc.Prefab,function(a,n){if(a)console.log(a);else{var o=cc.instantiate(n);o.parent=cc.find("Canvas/Ui_Root"),o.getComponent(l.default).addMultiplePorp(e,t)}});else{var a=cc.instantiate(this.prefab_get_tip);a.parent=cc.find("Canvas/Ui_Root"),a.getComponent(l.default).addMultiplePorp(e,t)}},t.prototype.showDialog=function(e,t,a,n,o){1!=this.is_show_exit&&(this.is_show_exit=!0,cc.resources.load("dialog",cc.Prefab,function(i,r){if(i)console.log(i);else{var s=cc.instantiate(r);s.parent=cc.find("Canvas/Ui_Root"),s.getComponent(g.default).showDialog(e,t,a,n,o),o&&(s.y=o)}}))},t.prototype.showBuyDialog=function(e,t,a,n,o,i){cc.resources.load("dialog",cc.Prefab,function(r,s){if(r)console.log(r);else{var c=cc.instantiate(s);c.parent=cc.find("Canvas/Ui_Root"),c.getComponent(g.default).showDialog(e,t,a,n,o,i)}})},t.prototype.showLocalVideo=function(e,t){cc.resources.load("video_dialog",cc.Prefab,function(a,n){if(a)console.log(a);else{var o=cc.instantiate(n);o.parent=cc.find("Canvas/Ui_Root"),o.getComponent(d.default).init(e,t)}})},t.prototype.startNextLevel=function(){switch(this.unscheduleAllCallbacks(),this.cur_wave=0,this.cur_total_num=0,B.default.getInstance().destroyAllDrop(),B.default.getInstance().destroyAllMonster(),a.getInstance().cur_game_mode){case r.GameMode.Main:m.default.getInstance().is_finish_game?this.fighting_info=v.MissionLevelManager.getInstance().getFightingInfo(I.LevelManager.getInstance().start_level):this.fighting_info=F.TutorialLevelManager.getInstance().getFightingInfo(I.LevelManager.getInstance().start_level),D.GameEffectsManager.getInstance().removeAllEffect(),this.all_hero.forEach(function(e){e.resetState()}),this.loadGameHeroData();break;case r.GameMode.Maze:this.fighting_info=L.MazeManager.getInstance().getFightingInfo();break;case r.GameMode.Tower:this.fighting_info=P.TowerLevelManager.getInstance().getFightingInfo(k.default.getTowerLevel());break;case r.GameMode.Endless:var e=E.TheStorageManager.getInstance().getNumber(R.StorageKey.UnlimitedChallengeDamage,0),t=M.EndlessLevelsManager.getInstance().getRound(e);this.fighting_info=M.EndlessLevelsManager.getInstance().getFightingInfo(t)}B.default.getInstance().loadData(),this.game.startNextLevel(),this.cur_game_state=r.GameState.Game_Playing,this.setGameRate(1),this.scheduleOnce(this.loadLevel,.5),this.music_manager.resume()},t.prototype.getZhengXingData=function(){for(var e=this.fighting_info[this.cur_wave],t=new _.ZhenXingData,a=new Array,n=b.MonsterConfigureManager.getInstance(),o=0;o<e.monster_num.length;o++)for(var i=e.monster_id[o],r=n.getJsonMonsterConfigure(i),s=e.monster_num[o],c=0;c<s;c++)a.push(r);return a.sort(function(e,t){return t.StrengthType-e.StrengthType}),this.getZhenXingDataByEnemyData(a,t,0,0),t},t.prototype.getZhenXingDataByEnemyData=function(e,t,a,n){r.Zheng_Xing_Type.ZX0,Math.floor(Math.random()*r.Zheng_Xing_Type.num);for(var o=new _.ZhenXingData,i=e.length,s=!1,c=0,l=!1,g=0,u=0;u<i;u++)if(e[u].StrengthType==T.StrengthType.Boss){l=!0;break}for(u=0;u<i;u++){if(!(u<o.other_pos.length+g)){s=!0;break}if(e[u].StrengthType==T.StrengthType.Boss){var p=o.boss_pos,d=cc.v2(p.x,p.y+n);if(0==t.boss_pos.y)t.boss_pos=d,g++;else if(t.buff_pos.length<4){var h=o.buff_pos[a];d=cc.v2(h.x,h.y+n),t.buff_pos.push(d),g++,a++}else{var f=o.other_pos[c];d=cc.v2(f.x,f.y+n),t.other_pos.push(d),c++}}else e[u].StrengthType==T.StrengthType.Elite&&t.buff_pos.length<4?(g++,0==l?(p=o.boss_pos,d=cc.v2(p.x,p.y+n),t.buff_pos.push(d),l=!0):(p=o.buff_pos[a],d=cc.v2(p.x,p.y+n),t.buff_pos.push(d),a++)):(p=o.other_pos[c],d=cc.v2(p.x,p.y+n),t.other_pos.push(d),c++)}1==s&&(n=o.other_pos[o.other_pos.length-1].y+60-505,this.getZhenXingDataByEnemyData(e.slice(o.other_pos.length),t,a,n))},t.prototype.loadLevel=function(){var e=this;if(B.default.getInstance()&&B.default.getInstance().is_load_ok&&G.default.cur_loaded_num>=G.default.max_load_num&&N.default.cur_loaded_num>=N.default.max_load_num&&this.fighting_info&&this.cur_game_state==r.GameState.Game_Playing){if(a.getInstance().cur_game_mode==r.GameMode.Endless){var t=cc.find("Canvas/Ui_Root/top_ui"),n=E.TheStorageManager.getInstance().getNumber(R.StorageKey.UnlimitedChallengeDamage,0)+1;E.TheStorageManager.getInstance().setItem(R.StorageKey.UnlimitedChallengeDamage,n),t.getChildByName("curLabel").getComponent(cc.Label).string=""+n}var o=this.fighting_info.monster_datas[this.cur_wave],i=b.MonsterConfigureManager.getInstance(),s=(cc.winSize.width-600)/2-cc.winSize.width/2;this.enemy_create_y=cc.winSize.height/2;for(var c=0,l=function(t){var a=o[t],n=a.id,l=i.getStrengthType(n),u=a.num,p=a.level,d=i.getMonsterSpacing(n),h=Math.floor(600/d),f=600%h;d+=Math.floor(f/h);for(var _=[],m=0;m<h;m++)_.push(m);var y=0,I=0;c+=a.refresh_time;for(var v=function(){g.cur_total_num++;var t=g.enemy_create_y+d*I+Math.random()*d*.7,o=Math.floor(Math.random()*_.length),u=cc.v2(s+d/2+d*_[o]+10*Math.random()-5,t);if(_.splice(o,1),l!=T.StrengthType.Boss){if(g.scheduleOnce(function(){B.default.getInstance().createMonsterById(n,u,p,a.hp_rate),e.cur_create_num++,e.game.showJianTouPos(e.cur_create_num/e.cur_total_num)},c+Math.random()*(60/i.getSpeed(n))),++y>h){I++,y=0;for(var f=0;f<h;f++)_.push(f)}}else g.cur_game_mode==r.GameMode.Tower?g.scheduleOnce(function(){C.default.getInstance().addBoss(n,p,a.hp_rate)},3):C.default.getInstance().addBoss(n,p,a.hp_rate)},M=0;M<u;M++)v()},g=this,u=0;u<o.length;u++)l(u);1==this.fighting_info.getWaveTypes()[this.cur_wave]&&this.showMonsterWarning(),this.checkTutotials(),this.game.showLevelProgress();var p=!0;if(this.cur_wave>=this.fighting_info.monster_datas.length-1&&(p=!1),this.cur_game_mode==r.GameMode.Boss_Challenge&&(p=!1),p){var d=this.fighting_info.wave_refresh_time[this.cur_wave+1];this.scheduleOnce(function(){e.loadNextWave()},d)}}else this.scheduleOnce(function(){e.fighting_info||e.reloadLevelDatas(),e.loadLevel()},.2)},t.prototype.loadNextWave=function(){this.cur_wave<this.fighting_info.monster_datas.length-1&&(this.cur_wave++,this.loadLevel())},t.prototype.reloadLevelDatas=function(){switch(this.fighting_info=new r.FightingInfo,this.cur_game_mode){case r.GameMode.Main:this.fighting_info=v.MissionLevelManager.getInstance().getFightingInfo(I.LevelManager.getInstance().start_level);break;case r.GameMode.Endless:var e=E.TheStorageManager.getInstance().getNumber(R.StorageKey.UnlimitedChallengeDamage,0),t=M.EndlessLevelsManager.getInstance().getRound(e);this.fighting_info=M.EndlessLevelsManager.getInstance().getFightingInfo(t);break;case r.GameMode.Boss_Challenge:this.fighting_info=S.BossChallengeManager.getInstance().getFightingInfo(S.BossChallengeManager.getInstance().cur_challenge_mode);break;case r.GameMode.Tower:this.fighting_info=P.TowerLevelManager.getInstance().getFightingInfo(k.default.getTowerLevel())}},t.prototype.addCheckTutotialsHero=function(e,t){var a=new x.HeroInfo;a.hero_type=e,a.hero_level=100,a.hero_stage=5;var n=y.HeroManager.getInstance().getTryPlayHeroData(a);this.game_hero_data.set(e,n),this.game.loadHero(e,4,t)},t.prototype.addTutotialsHeroFull=function(e,t,a){var n=new x.HeroInfo;n.hero_type=e,n.hero_level=V.HeroBaseInfoManager.getInstance().getMaxLevel(e),n.hero_stage=1,n.exclusive_equip_stage=z.ExclusiveWeaponMessageManager.getInstance().getMaxStage(e);var o=q.EquipmentAttributeManager.getInstance().getMaxStage();switch(n.wear1=q.EquipmentAttributeManager.getID(1,o),n.wear2=q.EquipmentAttributeManager.getID(2,o),n.wear3=q.EquipmentAttributeManager.getID(3,o),n.wear4=q.EquipmentAttributeManager.getID(4,o),e){case 2:n.pet_id=70413;break;case 6:case 10:n.pet_id=70213;break;case 11:n.pet_id=70113;break;case 12:n.pet_id=70313}var i=y.HeroManager.getInstance().getTryPlayHeroData(n);return this.game_hero_data.set(e,i),this.game.loadHero(e,t,a),i},t.prototype.checkTutotials=function(){var e=this;m.default.getInstance().is_finish_game||this.cur_game_mode==r.GameMode.Main&&5==this.cur_wave&&1==I.LevelManager.getInstance().start_level&&m.default.getInstance().isShowTutorials(202)&&m.default.getInstance().showTutorials(202,function(){e.setGameRate(1/r.JiaSu)},function(){e.setGameRate(1)})},t.prototype.onEnemyDie=function(e,t){if(t)switch(this.cur_game_mode){case r.GameMode.Main:case r.GameMode.Endless:B.default.getInstance().killed_monster_num>=this.cur_total_num&&this.loadNextWave()}},t.prototype.getFightCenter=function(){return cc.v2(0,(700+this.enemy_offset_y-this.enemy_att_y)/2+this.enemy_att_y)},t.prototype.setSkillCancel=function(){},t.prototype.exitPlayGame=function(){this.load_callback=null,this.load_jishu=0,this.unscheduleAllCallbacks(),this.all_hero=null},t.prototype.backToHome=function(e){var t=this;this.role_show_hero=e||x.Hero_Type.ChangMaoShou;var a=w.UIManager.getInstance().getLoadingNode();a.active=!0;var n=a.getChildByName("ProgressBar").getComponent(cc.ProgressBar),o=n.node.getChildByName("loadLabel").getComponent(cc.Label);cc.director.preloadScene(r.GameScene.home,function(e,a){var i=e/a/2;n.progress=i,o.string=(100*n.progress).toFixed(0)+"%",t.cur_load_progress=i},function(){cc.director.loadScene(r.GameScene.home)})},t.prototype.showDangerText=function(){var e=cc.find("Canvas/Fighting_Ui/dangerText");null==e?cc.resources.load("ui/game/dangerText",cc.Prefab,function(t,a){t?console.log(t):null==(e=cc.find("Canvas/Fighting_Ui/dangerText"))&&(cc.instantiate(a).parent=cc.find("Canvas/Fighting_Ui"))}):e.active=!0},t.prototype.showGamePause=function(){this.cur_game_state!=r.GameState.Game_Pause&&(this.cur_game_state=r.GameState.Game_Pause,cc.director.pause(),w.UIManager.getInstance().showGamePauseUi())},t.prototype.showBtnBuff=function(e){this.cur_game_state!=r.GameState.Game_Pause&&(this.cur_game_state=r.GameState.Game_Pause,w.UIManager.getInstance().showUiDialog(O.UIPath.BuffDisplay,O.UILayerLevel.Two,{onCompleted:function(t){t.getComponent(W.default).init({onClose:function(){}}),t.getComponent(W.default).initUi(e)}}))},t.prototype.showGameWin=function(){if(this.cur_game_state!=r.GameState.Game_Win&&this.cur_game_state!=r.GameState.Game_Lose){switch(this.music_manager.pause(),this.cur_game_state=r.GameState.Game_Win,this.resetRate(),this.game.setBtnRateShow(),E.TheStorageManager.getInstance().setItem(R.StorageKey.try_rate_fight_remain,Math.floor(this.game.try_rate_ramain)),E.TheStorageManager.getInstance().setItem(R.StorageKey.try_auto_fight_remain,Math.floor(this.game.try_auto_ramain)),this.cur_game_mode){case r.GameMode.Main:var e=I.LevelManager.getInstance().start_level;m.default.getInstance().is_finish_game?(u.default.getInstance().followEvent(p.Follow_Type.\u5b8c\u6210\u7b2cN\u7ae0\u73a9\u5bb6\u6570+v.MissionLevelManager.getInstance().getChapter(e)),u.default.getInstance().followEvent(p.Follow_Type.\u5b8c\u6210\u6311\u6218\u5173\u5361+e),I.LevelManager.getInstance().finish_level=e,this.game.showCoin(),this.scheduleOnce(function(){w.UIManager.getInstance().showUiDialog(O.UIPath.GameWin,O.UILayerLevel.One,{onCompleted:function(e){e.getComponent(H.default).initUi()}})},1)):1==I.LevelManager.getInstance().start_level&&m.default.getInstance().isShowTutorials(204)&&(m.default.getInstance().saveTutorials(200),m.default.getInstance().saveTutorials(202),m.default.getInstance().saveTutorials(203),m.default.getInstance().saveFinishFromGame(),w.UIManager.getInstance().showUiDialog(O.UIPath.RewardSSUI,O.UILayerLevel.One,{onCompleted:function(e){e.getComponent(K.default).initData(0)}}));break;case r.GameMode.Tower:k.default.addTowerLevel(1);break;case r.GameMode.Endless:a.getInstance().showBtnBuff(1);break;case r.GameMode.Maze:this.game.showCoin(),this.scheduleOnce(function(){w.UIManager.getInstance().showUiDialog(O.UIPath.GameWin,O.UILayerLevel.One,{onCompleted:function(e){e.getComponent(H.default).initUi()}})},1)}var t=this.all_hero.get(x.Hero_Type.ShouWang);t&&t.onGameWin()}},t.prototype.showSelectSkill=function(e){var t=this;void 0===e&&(e=1),this.cur_game_state=r.GameState.Game_Pause,this.scheduleOnce(function(){cc.resources.load("ui/game/select_skill",cc.Prefab,function(e,a){if(e)console.log(e);else{for(var n=cc.find("Canvas/Drop_Root"),o=0;o<n.childrenCount;o++)cc.tween(n.children[o]).by(.5,{y:-1400}).removeSelf().start();cc.instantiate(a).parent=cc.find("Canvas/Ui_Root"),t.cur_game_state=r.GameState.Game_Pause}})},e)},t.prototype.showUnlockSkill=function(e,t){this.cur_game_state=r.GameState.Game_Pause,cc.resources.load("ui/game/unlock_ui",cc.Prefab,function(a,n){if(a)console.log(a);else{var o=cc.instantiate(n);o.parent=cc.find("Canvas/Ui_Root"),o.getComponent(f.default).init(e,t)}})},t.prototype.onFuhuo=function(){this.cur_game_state=r.GameState.Game_Playing;var e=cc.find("Canvas/Fighting_Ui/dangerText");e&&(e.active=!1)},t.prototype.showFuhuo=function(){var e=this;this.cur_game_state=r.GameState.Game_Pause,this.resetRate(),this.game.setBtnRateShow(),cc.resources.load("ui/game/fuhuo_ui",cc.Prefab,function(t,a){t?console.log(t):(cc.instantiate(a).parent=cc.find("Canvas/Ui_Root"),e.fuhuo_num--)})},t.prototype.showGameLose=function(){if(this.cur_game_state!=r.GameState.Game_Lose&&this.cur_game_state!=r.GameState.Game_Win)switch(this.cur_game_state=r.GameState.Game_Lose,this.resetRate(),this.game.setBtnRateShow(),E.TheStorageManager.getInstance().setItem(R.StorageKey.try_rate_fight_remain,Math.floor(this.game.try_rate_ramain)),E.TheStorageManager.getInstance().setItem(R.StorageKey.try_auto_fight_remain,Math.floor(this.game.try_auto_ramain)),this.cur_game_mode){case r.GameMode.Tower:break;case r.GameMode.Main:case r.GameMode.Maze:this.game.showCoin(),this.scheduleOnce(function(){w.UIManager.getInstance().showGameLoseUi()},1);break;case r.GameMode.Endless:case r.GameMode.Boss_Challenge:w.UIManager.getInstance().showUiDialog(O.UIPath.GameWin,O.UILayerLevel.One,{onCompleted:function(e){e.getComponent(H.default).initUi()}})}},t.prototype.onWallDie=function(){this.showGameLose()},t.prototype.showMonsterWarning=function(){this.sound_manager.playSound(j.SoundIndex.YX_EnemyComing);var e=D.GameEffectsManager.getInstance().createGameEffectForParent(D.GameEffectId.ui_monster_warning,cc.v2(0,0),w.UIManager.getInstance().node);e.opacity=0,e.stopAllActions(),cc.tween(e).to(.25,{opacity:255}).to(.5,{opacity:100}).to(.5,{opacity:255}).to(.5,{opacity:100}).to(.5,{opacity:255}).to(.25,{opacity:0}).call(function(){D.GameEffectsManager.getInstance().destroyGameEffectById(D.GameEffectId.ui_monster_warning,e)}).start()},t.prototype.showBossWarning=function(){cc.resources.load("ui/game/boss_warning",cc.Prefab,function(e,t){if(e)console.log(e);else if(a.getInstance().cur_game_scene!=r.GameScene.home){var n=cc.instantiate(t);n.parent=cc.find("Canvas/Ui_Root");var o=n.getChildByName("auto");o.x=-320,cc.tween(o).to(.3,{x:320}).to(2,{x:1080}).start();var i=n.getChildByName("warningLabel");i.x=640,cc.tween(i).to(.3,{x:0}).to(.25,{scale:1.1}).to(.25,{scale:1}).to(.25,{scale:1.1}).to(.25,{scale:1}).to(.25,{scale:1.1}).to(.25,{scale:1}).to(.15,{x:-640}).start();var s=n.getChildByName("bossLabel");s.x=-640,cc.tween(s).to(.3,{x:0}).to(.25,{scale:1.1}).to(.25,{scale:1}).to(.25,{scale:1.1}).to(.25,{scale:1}).to(.25,{scale:1.1}).to(.25,{scale:1}).to(.15,{x:640}).start();var c=n.getChildByName("effects");c.opacity=0,cc.tween(c).delay(.5).call(function(){c.opacity=255,c.getComponent(cc.Animation).play()}).delay(1.5).removeSelf().start(),cc.tween(n).delay(2).removeSelf().start()}})},t.prototype.saveSound=function(){this.music_manager.saveMusicVolume(),this.music_manager.saveMusicMute(),this.sound_manager.saveSoundVolume(),this.sound_manager.saveSoundMute()},t.prototype.showSpeedUpUi=function(){var e=this;this.cur_game_scene==r.GameScene.game&&cc.resources.load("ui/game/speed_ui",cc.Prefab,function(t,a){t?console.log(t):(e.cur_game_state=r.GameState.Game_Pause,cc.director.pause(),cc.instantiate(a).parent=cc.find("Canvas/Ui_Root"))})},t.prototype.refreshCoinShow=function(){if(this.cur_game_scene==r.GameScene.home){var e=cc.find("Canvas").getComponent(s.default);if(e)return e.refreshCoinShow()}},t.prototype.refreshGemShow=function(){if(this.cur_game_scene==r.GameScene.home){var e=cc.find("Canvas").getComponent(s.default);if(e)return e.refreshGemShow()}},t.prototype.refreshLongJingShow=function(){if(this.cur_game_scene==r.GameScene.home){var e=cc.find("Canvas").getComponent(s.default);if(e)return e.refreshLongJing()}},t.prototype.refreshUserExpShow=function(){if(this.cur_game_scene==r.GameScene.home){var e=cc.find("Canvas").getComponent(s.default);if(e)return e.refreshUserExp()}},t.prototype.jumoToUi=function(e){this.cur_game_scene==r.GameScene.home&&cc.find("Canvas").getComponent(s.default).jumoToUi(e)},t.prototype.jumoAndShowUi=function(){if(this.cur_game_scene==r.GameScene.home){var e=cc.find("Canvas").getComponent(s.default);e.cheakUnlock(),e.showUi()}},t.prototype.refreshZhanliShow=function(){if(this.cur_game_scene==r.GameScene.home){var e=cc.find("Canvas").getComponent(s.default);if(e)return e.refreshZhanLiShow()}},t.prototype.refreshTopShow=function(){if(this.cur_game_scene==r.GameScene.home){var e=cc.find("Canvas").getComponent(s.default);e&&e.refreshTop()}},t.prototype.refreshGuaJiGift=function(){this.cur_game_scene==r.GameScene.home&&cc.find("Canvas/main_ui/btnOfflineGift").getComponent(A.default).cheak()},t.prototype.addPetActiveDps=function(e,t){var a=this.getPetActiveDps(e)+t;this.setPetActiveDps(e,a)},t.prototype.getPetActiveDps=function(e){return this.pet_active_dps.get(e)},t.prototype.setPetActiveDps=function(e,t){this.pet_active_dps.set(e,t)},t.prototype.addPetConnectDps=function(e,t){var a=this.getPetConnectDps(e)+t;this.setPetConnectDps(e,a)},t.prototype.getPetConnectDps=function(e){return this.pet_connect_dps.get(e)},t.prototype.setPetConnectDps=function(e,t){this.pet_connect_dps.set(e,t)},t._instance=null,a=i([Y],t)}(cc.Component);a.default=X,cc._RF.pop()},{"./Activity/BossChallenge":"BossChallenge","./Activity/EndlessLevels":"EndlessLevels","./Boss/BossManager":"BossManager","./Constants":"Constants","./Equipment/Data/EquipmentAttribute":"EquipmentAttribute","./Game/GameEffectsManager":"GameEffectsManager","./Game/Ui/GameWin":"GameWin","./GuaJi/Ui/GuaJiGift":"GuaJiGift","./Hero/Data/HeroBaseInfo":"HeroBaseInfo","./Hero/Data/HeroData":"HeroData","./Hero/Data/HeroManager":"HeroManager","./Hero/Game/Hero":"Hero","./Hero/Game/HeroConfig":"HeroConfig","./Hint":"Hint","./Home":"Home","./JsonData/ExclusiveWeaponMessage":"ExclusiveWeaponMessage","./Level/LevelManager":"LevelManager","./Level/MissionLevel":"MissionLevel","./Level/TutorialLevel":"TutorialLevel","./LocalVideo":"LocalVideo","./Maze/MazeManager":"MazeManager","./Monster/Data/MonsterConfigure":"MonsterConfigure","./Monster/MonsterData":"MonsterData","./Monster/MonsterManager":"MonsterManager","./Pet/Game/Pet":"Pet","./Sound/AudioConstants":"AudioConstants","./Storage/StorageConfig":"StorageConfig","./Storage/StorageManager":"StorageManager","./Tower/TowerLevel":"TowerLevel","./Tower/TowerManager":"TowerManager","./Tutorials/RewardSSUi":"RewardSSUi","./Tutorials/TutorailsManager":"TutorailsManager","./UI/Dialog":"Dialog","./UI/GetTip":"GetTip","./UI/UIConfig":"UIConfig","./UI/UIManager":"UIManager","./UI/UnlockSkill":"UnlockSkill","./Wall/WallConfig":"WallConfig","./Wall/WallManager":"WallManager","./ZhenXingData":"ZhenXingData","./copy/endlesschallenges/BuffDisplay":"BuffDisplay","./multiLanguage/FollowConstants":"FollowConstants","./multiLanguage/FollowManager":"FollowManager"}],GamePause:[function(e,t,a){"use strict";cc._RF.push(t,"36f0cfU/5REX6OUoaewVIQc","GamePause");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../GameManager"),c=e("../../Level/LevelManager"),l=e("../../multiLanguage/FollowConstants"),g=e("../../multiLanguage/FollowManager"),u=e("../../multiLanguage/TextLanguage"),p=e("../../Sound/AudioConstants"),d=e("../../UI/UIComponent"),h=cc._decorator,f=h.ccclass,_=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.show_sp=[],t.sound_sp=[],t.muisc_sp=[],t.music_slider=null,t.sound_slider=null,t.music_progress=null,t.sound_progress=null,t.Background=null,t.qian=null,t.music_sprite=null,t.sound_sprite=null,t.Tipspop=null,t}return o(t,e),t.prototype.onEnable=function(){this.Tipspop.active=!1,g.default.getInstance().followEvent(l.Follow_Type.\u6682\u505c\u9875\u5c55\u793a\u6b21\u6570),this.showShow(),this.setMusic(),this.setSound()},t.prototype.clickBtnContinue=function(){this.destroySelf(),s.default.getInstance().sound_manager.playSound(p.SoundIndex.click),s.default.getInstance().cur_game_state=r.GameState.Game_Playing},t.prototype.clickBtnExit=function(){s.default.getInstance().sound_manager.playSound(p.SoundIndex.click),s.default.getInstance().cur_game_mode==r.GameMode.Main?(g.default.getInstance().followEvent(l.Follow_Type.\u6682\u505c\u9875\u9762_\u8fd4\u56de\u4e3b\u9875\u6309\u94ae\u70b9\u51fb\u6b21\u6570),this.destroySelf(),s.default.getInstance().backToHome()):s.default.getInstance().cur_game_mode==r.GameMode.Maze?(g.default.getInstance().followEvent(l.Follow_Type.\u6682\u505c\u9875\u9762_\u8fd4\u56de\u4e3b\u9875\u6309\u94ae\u70b9\u51fb\u6b21\u6570),cc.director.resume(),this.destroySelf(),s.default.getInstance().game_to_home=r.Go_Type.Activity,s.default.getInstance().backToHome()):(cc.director.resume(),s.default.getInstance().game_to_home=r.Go_Type.Activity,this.destroySelf(),s.default.getInstance().cur_game_mode==r.GameMode.Endless&&g.default.getInstance().followEvent(l.Follow_Type.\u65e0\u5c3d\u6311\u6218_\u6682\u505c\u9875\u9762_\u8fd4\u56de\u4e3b\u9875\u6309\u94ae\u70b9\u51fb\u6b21\u6570),s.default.getInstance().cur_game_mode==r.GameMode.Boss_Challenge&&g.default.getInstance().followEvent(l.Follow_Type.BOSS\u6311\u6218_\u6682\u505c\u9875\u9762_\u8fd4\u56de\u4e3b\u9875\u6309\u94ae\u70b9\u51fb\u6b21\u6570),this.scheduleOnce(function(){s.default.getInstance().showGameLose()},.1))},t.prototype.clickBtnTisi=function(){s.default.getInstance().cur_game_mode==r.GameMode.Main||s.default.getInstance().cur_game_mode==r.GameMode.Maze?this.Tipspop.getChildByName("texts").getComponent(u.default).setTextId(100111):this.Tipspop.getChildByName("texts").getComponent(u.default).setTextId(820019),this.Tipspop.active=!0},t.prototype.clickBtnquxiao=function(){this.Tipspop.active=!1},t.prototype.destroySelf=function(){g.default.getInstance().followEvent(l.Follow_Type.\u9000\u51fa\u6311\u6218\u5173\u5361+c.LevelManager.getInstance().start_level),cc.director.resume(),e.prototype.onClose.call(this)},t.prototype.showShow=function(){var e=s.default.getInstance().is_show_text;this.qian.x=e?190:126,this.qian.getComponent(cc.Sprite).spriteFrame=this.show_sp[e?1:0]},t.prototype.clickBtnShow=function(){s.default.getInstance().sound_manager.playSound(p.SoundIndex.click),s.default.getInstance().is_show_text=!s.default.getInstance().is_show_text,this.showShow()},t.prototype.clickBtnSound=function(){s.default.getInstance().sound_manager.playSound(p.SoundIndex.click),s.default.getInstance().sound_manager.volume>0&&(s.default.getInstance().sound_manager.mute=!s.default.getInstance().sound_manager.mute,this.setSound())},t.prototype.clickBtnMusic=function(){s.default.getInstance().sound_manager.playSound(p.SoundIndex.click),s.default.getInstance().music_manager.volume>0&&(s.default.getInstance().music_manager.mute=!s.default.getInstance().music_manager.mute,this.setMusic())},t.prototype.touchSoundSlider=function(e){s.default.getInstance().sound_manager.volume=e.progress,e.progress>0?s.default.getInstance().sound_manager.mute=!1:s.default.getInstance().sound_manager.mute=!0,this.setSound()},t.prototype.touchSoundSliderEnd=function(){s.default.getInstance().sound_manager.playSound(p.SoundIndex.click),s.default.getInstance().saveSound()},t.prototype.touchMusicSlider=function(e){s.default.getInstance().music_manager.volume=e.progress,e.progress>0?s.default.getInstance().music_manager.mute=!1:s.default.getInstance().music_manager.mute=!0,this.setMusic()},t.prototype.touchMusicSliderEnd=function(){s.default.getInstance().sound_manager.playSound(p.SoundIndex.click),s.default.getInstance().saveSound()},t.prototype.setSound=function(){var e=s.default.getInstance().sound_manager;this.sound_slider.progress=e.volume,this.sound_progress.width=e.volume*this.Background.width,e.mute?this.sound_sprite.spriteFrame=this.sound_sp[0]:this.sound_sprite.spriteFrame=this.sound_sp[1]},t.prototype.setMusic=function(){var e=s.default.getInstance().music_manager;this.music_slider.getComponent(cc.Slider).progress=e.volume,this.music_progress.width=e.volume*this.Background.width,e.mute?this.music_sprite.spriteFrame=this.muisc_sp[0]:this.music_sprite.spriteFrame=this.muisc_sp[1]},i([_([cc.SpriteFrame])],t.prototype,"show_sp",void 0),i([_([cc.SpriteFrame])],t.prototype,"sound_sp",void 0),i([_([cc.SpriteFrame])],t.prototype,"muisc_sp",void 0),i([_(cc.Slider)],t.prototype,"music_slider",void 0),i([_(cc.Slider)],t.prototype,"sound_slider",void 0),i([_(cc.Node)],t.prototype,"music_progress",void 0),i([_(cc.Node)],t.prototype,"sound_progress",void 0),i([_(cc.Node)],t.prototype,"Background",void 0),i([_(cc.Node)],t.prototype,"qian",void 0),i([_(cc.Sprite)],t.prototype,"music_sprite",void 0),i([_(cc.Sprite)],t.prototype,"sound_sprite",void 0),i([_(cc.Node)],t.prototype,"Tipspop",void 0),i([f],t)}(d.default);a.default=m,cc._RF.pop()},{"../../Constants":"Constants","../../GameManager":"GameManager","../../Level/LevelManager":"LevelManager","../../Sound/AudioConstants":"AudioConstants","../../UI/UIComponent":"UIComponent","../../multiLanguage/FollowConstants":"FollowConstants","../../multiLanguage/FollowManager":"FollowManager","../../multiLanguage/TextLanguage":"TextLanguage"}],GameWin:[function(e,t,a){"use strict";cc._RF.push(t,"45e47f/rQtKjI6gwyq353eo","GameWin");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../.././NetWork/HttpManager"),s=e("../../Activity/BossChallenge"),c=e("../../Activity/BossReward"),l=e("../../Activity/EndlessLevels"),g=e("../../Activity/EndlessReward"),u=e("../../Ads/AdManager"),p=e("../../Constants"),d=e("../../copy/voidcrack/RogueHexagonTypes"),h=e("../../GameManager"),f=e("../../GuaJi/MapManager"),_=e("../../Hero/Data/HeroManager"),m=e("../../Hero/Game/HeroConfig"),y=e("../../JsonData/Jackpot"),I=e("../../JsonData/PlayerLevelUp"),v=e("../../Level/FirstCompleteReward"),M=e("../../Level/LevelManager"),C=e("../../Level/MissionLevel"),S=e("../../Level/TutorialLevel"),P=e("../../Maze/MazeManager"),k=e("../../multiLanguage/FollowConstants"),b=e("../../multiLanguage/FollowManager"),T=e("../../multiLanguage/LanguageConstants"),B=e("../../multiLanguage/LanguageManager"),w=e("../../multiLanguage/TextLanguage"),N=e("../../Prop/PropConfig"),L=e("../../Prop/PropManager"),D=e("../../Sound/AudioConstants"),E=e("../../Storage/StorageConfig"),R=e("../../Storage/StorageManager"),G=e("../../Task/TaskEnum"),x=e("../../Task/TaskManager"),A=e("../../Tower/TowerLevel"),O=e("../../Tower/TowerManager"),H=e("../../Tower/TowerReward"),F=e("../../Turntable/Times"),j=e("../../Tutorials/RewardSSUi"),U=e("../../Tutorials/TutorailsManager"),J=e("../../UI/UIComponent"),W=e("../../UI/UIConfig"),V=e("../../UI/UIManager"),q=e("../../UserData"),z=e("../../Wall/WallManager"),K=cc._decorator,Y=K.ccclass,X=K.property,Z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hero_stats=null,t.ScrollView=null,t.task=[],t.Star=[],t.Staranmtion=[],t.SmallStar=[],t.SmallStar2=[],t.SmallStar3=[],t.End_Bg_hei=[],t.txt=[],t.go=null,t.End_Star=[],t.label_level=null,t.jiangli=null,t.winText=null,t.First_Text_1_CN=null,t.Highesttxt=null,t.text=null,t.texts=[100126,100128,100129],t.RankingSelf=null,t}return o(t,e),t.prototype.initUi=function(){h.default.getInstance().sound_manager.playSound(D.SoundIndex.YX_Win),this.showUserLevel(),this.showReward()},t.prototype.showTeamLevel=function(e){this.node.getChildByName("userLevel").getComponent(cc.Label).string="Lv."+e},t.prototype.showUserLevel=function(){var e=this.node.getChildByName("userLevel"),t=q.default.getInstance().getUserLevel();e.getComponent(cc.Label).string="Lv."+t;var a=q.default.getInstance().getUserExp(),n=I.PlayerLevelUpManager.getInstance().getPlayerExpCost(t);this.node.getChildByName("userExp").getComponent(cc.ProgressBar).progress=a/n},t.prototype.showUserExpAnimation=function(e){var t=this,a=q.default.getInstance().getUserLevel(),n=q.default.getInstance().getUserExp(),o=I.PlayerLevelUpManager.getInstance().getPlayerExpCost(a),i=this.node.getChildByName("userExp").getComponent(cc.ProgressBar);i.progress=n/o;var r=0,s=!1;this.showTeamLevel(a),this.schedule(function(){var c=(n+=e/30)/o;c<1?i.progress=c:(a++,i.progress=c%1,n-=o,o=I.PlayerLevelUpManager.getInstance().getPlayerExpCost(a),t.showTeamLevel(a)),r++,!s&&r>30&&(s=!0,q.default.getInstance().changeUserExp(e))},.015,30),this.showUserLevel()},t.prototype.cancelRemainTime=function(){var e=this.node.getChildByName("btnHome");e.getChildByName("Label").getComponent(cc.Label).string=B.default.getInstance().getString(T.LanguageIndex.HOME),e.getChildByName("ads").active=!1,e.getChildByName("time").active=!1},t.prototype.showReward=function(){switch(h.default.getInstance().cur_game_mode){case p.GameMode.Main:this.showMainReward();break;case p.GameMode.Endless:this.showEndlessReward();break;case p.GameMode.Boss_Challenge:this.showBossChallengeReward();break;case p.GameMode.Tower:this.showTowerReward();break;case p.GameMode.Maze:this.showMazeReward()}},t.prototype.showMainReward=function(){for(var e=this,t=0;t<this.jiangli.children.length;t++)this.jiangli.children[t].destroy();var a=f.default.Currentlevel;a>x.default.getInstance().getTaskNowProgress(G.TaskItem.\u7d2f\u8ba1\u901a\u8fc7X\u5173)&&x.default.getInstance().emitTask(G.TaskItem.\u7d2f\u8ba1\u901a\u8fc7X\u5173),a>x.default.getInstance().getTaskNowProgress(G.TaskItem.\u901a\u5173X)&&x.default.getInstance().emitTask(G.TaskItem.\u901a\u5173X),M.LevelManager.getInstance().getFinishChapter()>x.default.getInstance().getTaskNowProgress(G.TaskItem.\u901a\u5173X)&&x.default.getInstance().emitTask(G.TaskItem.\u901a\u8fc7\u7b2cX\u7ae0);var n=h.default.getInstance(),o=[!1,!1,!1];this.label_level.getComponent(cc.Label).string=""+C.MissionLevelManager.getInstance().getLevelName(a);var i=z.default.getInstance().getMainWall();o[0]=!0,o[1]=!!o[1]||i.getCurHpPer()>=.5,o[2]=!!o[2]||i.getCurHpPer()>=.9;var r=0,s=0;b.default.getInstance().followEvent(k.Follow_Type.\u6218\u6597\u6210\u529f1\u661f\u5c55\u793a\u6b21\u6570_x\u5173+a),o[1]&&b.default.getInstance().followEvent(k.Follow_Type.\u6218\u6597\u6210\u529f2\u661f\u5c55\u793a\u6b21\u6570_x\u5173+a),o[2]&&b.default.getInstance().followEvent(k.Follow_Type.\u6218\u6597\u6210\u529f3\u661f\u5c55\u793a\u6b21\u6570_x\u5173+a);for(var c=1;c<4;c++)M.LevelManager.getInstance().getALevelStar(a,c)&&r++;for(var l=0;l<o.length;l++)this.Star[l].scale=0,o[l]?(s++,this.task[l].color=cc.color(85,234,85),this.Star[l].active=!0,this.task[l].getComponent(w.default).setTextId([140008+l,140014],"")):(this.task[l].color=cc.color(171,163,153),this.Star[l].active=!1,this.task[l].getComponent(w.default).setTextId([140008+l,140015],""));s>r&&M.LevelManager.getInstance().saveAllLevelStars(a,o);for(var g=s-r,u=[],p=1;p<=3;p++)for(var d=v.FirstCompleteRewardManager.getId(a,p),_=v.FirstCompleteRewardManager.getInstance().getFirstRewardArr(d),m=(o[p-1],0);m<_.length;m++){var y=_[m],I=L.PropManager.getInstance().createPropItem(y.reward_id,y.reward_num);if(I.x=100*m-57,I.y=-131-120*p+120,I.scale=0,g>0){if(p<=r&&(this.End_Bg_hei[p-1].active=!0,this.txt[p-1].active=!0,I.scale=.83),p>r)if(p>s)this.End_Bg_hei[p-1].active=!1,this.txt[p-1].active=!1,I.scale=.83;else{I.scale=0,this.End_Bg_hei[p-1].active=!1,this.txt[p-1].active=!1;var S=cc.instantiate(this.go);S.setPosition(0,0),S.active=!0,S.parent=I,u.push(I),L.PropManager.getInstance().changePropNum(y.reward_id,y.reward_num)}}else I.scale=.83,p<=r&&(this.End_Bg_hei[p-1].active=!0,this.txt[p-1].active=!0),p>r&&(this.End_Bg_hei[p-1].active=!1,this.txt[p-1].active=!1);this.jiangli.addChild(I)}this.ScrollView.getComponent(cc.ScrollView).scrollToBottom(2);for(var P=0;P<=n.cur_wave;P++)M.LevelManager.getInstance().setNotFirstPassLevel(a,P);h.default.getInstance().pass_level_num++;var T=this.node.getChildByName("Up"),B=this.node.getChildByName("Ins"),N=this.node.getChildByName("In"),D=this.node.getChildByName("Down");T.setScale(0,0),T.y=100,B.y=-300,B.opacity=0,N.opacity=0,D.opacity=0,D.getChildByName("bg").active=!0,D.getChildByName("btnHome").active=!0,T.getChildByName("Win").getComponent(sp.Skeleton).setAnimation(0,"Win_Start",!1),cc.tween(T).to(.24,{scaleX:1.2,scaleY:1.2}).call(function(){cc.tween(B).to(.24,{opacity:255}).start()}).to(.24,{scaleX:.9,scaleY:.9}).to(.26,{scaleX:1,scaleY:1}).call(function(){T.getChildByName("Win").getComponent(sp.Skeleton).setAnimation(0,"Win_Loop",!0);for(var t=function(t){1==e.Star[t].active&&e.scheduleOnce(function(){this.Staranmtion[t].getComponent(cc.Animation).play(),this.Star[t].getComponent(cc.Animation).play()},.47*t)},a=0;a<e.Star.length;a++)t(a)}).delay(1.5).call(function(){cc.tween(T).to(.16,{y:400}).start(),cc.tween(B).to(.16,{y:0}).start()}).delay(.16).call(function(){cc.tween(N).to(.33,{opacity:255}).start()}).delay(.33).call(function(){if(0==u.length)cc.tween(D).to(.33,{opacity:255}).call(function(){e.checkTutorails(),D.getChildByName("bg").active=!1}).start();else for(var t=function(t){u[t].scale=0,cc.tween(u[t]).delay(.17*t).to(.17,{scale:.83}).call(function(){if(t==u.length-1)for(var a=function(t){cc.tween(u[t]).to(.22,{scale:1.13}).delay(.1).to(.22,{scale:.83}).call(function(){t==u.length-1&&cc.tween(D).to(.33,{opacity:255}).call(function(){e.checkTutorails(),D.getChildByName("bg").active=!1}).start()}).start()},n=0;n<u.length;n++)a(n)}).start()},a=0;a<u.length;a++)t(a)}).start()},t.prototype.checkTutorails=function(){this.node.getChildByName("Down").getChildByName("btnHome").active=!0,U.default.getInstance().is_finish||h.default.getInstance().cur_game_mode!=p.GameMode.Main||5==M.LevelManager.getInstance().start_level&&U.default.getInstance().isShowTutorials(205)&&V.UIManager.getInstance().showUiDialog(W.UIPath.RewardSSUI,W.UILayerLevel.Two,{onCompleted:function(e){e.getComponent(j.default).initData(1)}})},t.prototype.showEndlessReward=function(){var e=this;h.default.getInstance(),b.default.getInstance().followEvent(k.Follow_Type.\u5b8c\u6210\u65e0\u5c3d\u6311\u6218\u6b21\u6570);for(var t=0;t<this.End_Star.length;t++)this.End_Star[t].active=!1;this.label_level.active=!1,this.winText.getComponent(w.default).setTextId(800027),this.Highesttxt.active=!0,this.Highesttxt.getComponent(w.default).setTextId(800028);var a=R.TheStorageManager.getInstance().getNumber(E.StorageKey.UnlimitedChallengeDamage,0);if(this.Highesttxt.getComponent(w.default).setReplaceValue("~",R.TheStorageManager.getInstance().getNumber(E.StorageKey.UnlimitedChallengeDamage,0)+""),a>l.EndlessLevelsManager.getInstance().getMaxWave()){this.First_Text_1_CN.active=!0;var n=R.TheStorageManager.getInstance().getNumber(E.StorageKey.TotalUnlimitedChallengeTimes,0);n++,R.TheStorageManager.getInstance().setItem(E.StorageKey.TotalUnlimitedChallengeTimes,n),l.EndlessLevelsManager.getInstance().setWave(a)}b.default.getInstance().followEvent(k.Follow_Type.\u65e0\u5c3d\u6311\u6218_\u5b8c\u6210\u65f6\u5230\u8fbe\u7684\u6ce2\u6b21+a),this.text.getComponent(w.default).setTextId(100001);var o=this.node.getChildByName("Up"),i=this.node.getChildByName("endless"),s=this.node.getChildByName("Down");o.setScale(0,0),o.y=100,i.opacity=0,s.opacity=0,s.y=72,s.getChildByName("btnHome").active=!0,s.getChildByName("bg").active=!0,o.getChildByName("Win").getComponent(sp.Skeleton).setAnimation(0,"Win_Start",!1);var c,u=-1;c=l.EndlessLevelsManager.getInstance().getMaxWave();var p=this.RankingSelf.getChildByName("CombatPower"),d=this.RankingSelf.getChildByName("SerialNo"),f=this.RankingSelf.getChildByName("name"),_=this.RankingSelf.getChildByName("headPortrait").getChildByName("btnAvatar");p.getComponent(w.default).setTextId(this.texts[1]),p.getComponent(w.default).setReplaceValue("~",c+""),r.HttpManager.post(r.AccessName.leaderboardByUser,this.getLeaderboardByUserJsonString(2),!1).then(function(t){for(var a=t.length,n=0;n<a;n++)t[n].uid==q.default.getInstance().getUserID()&&(u=n+1);-1==u?e.RankingSelf.getChildByName("Notlisted").active=!0:(d.active=!0,d.getComponent(cc.Label).string=""+u,e.RankingSelf.getChildByName("Notlisted").active=!1)});var m=q.default.getInstance().getUserName(),y=q.default.getInstance().getUserAvatar();f.getComponent(cc.Label).string=""+m,_.getComponent(cc.Sprite).spriteFrame=L.PropManager.getInstance().getSpheadPortraitType(y),i.getChildByName("item").x=0,i.getChildByName("item1").x=0;var I=L.PropManager.getInstance().createPropItem(g.EndlessRewardManager.getInstance().getRewardItem(a),g.EndlessRewardManager.getInstance().getRewardNum(a));I.scale=0,L.PropManager.getInstance().changePropNum(g.EndlessRewardManager.getInstance().getRewardItem(a),g.EndlessRewardManager.getInstance().getRewardNum(a)),I.parent=i.getChildByName("item"),l.EndlessLevelsManager.getInstance().getMaxWave()>x.default.getInstance().getTaskNowProgress(G.TaskItem.\u65e0\u5c3d\u6311\u6218\u5206\u6570\u5230\u8fbeX\u6ce2\u6b21)&&x.default.getInstance().emitTask(G.TaskItem.\u65e0\u5c3d\u6311\u6218\u5206\u6570\u5230\u8fbeX\u6ce2\u6b21),cc.tween(o).to(.24,{scaleX:1.2,scaleY:1.2}).to(.24,{scaleX:.9,scaleY:.9}).to(.26,{scaleX:1,scaleY:1}).call(function(){o.getChildByName("Win").getComponent(sp.Skeleton).setAnimation(0,"Win_Loop",!0)}).delay(1.5).call(function(){cc.tween(o).to(.16,{y:327}).start()}).delay(.16).call(function(){cc.tween(i).to(.33,{opacity:255}).start()}).delay(.33).call(function(){I.scale=0,cc.tween(I).to(.17,{scale:.83}).call(function(){cc.tween(s).to(.33,{opacity:255}).call(function(){e.checkTutorails(),s.getChildByName("bg").active=!1}).start()}).start()}).start()},t.prototype.showBossChallengeReward=function(){var e=this;h.default.getInstance(),b.default.getInstance().followEvent(k.Follow_Type.\u5b8c\u6210BOSS\u6311\u6218\u6b21\u6570);for(var t=0;t<this.End_Star.length;t++)this.End_Star[t].active=!1;this.label_level.active=!1,this.winText.getComponent(w.default).setTextId(800027),this.Highesttxt.active=!0,this.Highesttxt.getComponent(w.default).setTextId(820018);var a=s.BossChallengeManager.getInstance().cur_score;this.Highesttxt.getComponent(w.default).setReplaceValue("~",a+""),R.TheStorageManager.getInstance().setItem(E.StorageKey.BossChallengeDamage,a);var n=a+s.BossChallengeManager.getInstance().getMaxDamageNumber(),o=R.TheStorageManager.getInstance().getNumber(E.StorageKey.TotalBossChallengeTimes,0);o++,R.TheStorageManager.getInstance().setItem(E.StorageKey.TotalBossChallengeTimes,o),s.BossChallengeManager.getInstance().setDamageNumber(n),this.text.getComponent(w.default).setTextId(100001);var i=this.node.getChildByName("Up"),l=this.node.getChildByName("endless"),g=this.node.getChildByName("Down");i.setScale(0,0),i.y=100,g.getChildByName("btnHome").active=!0,l.opacity=0,g.opacity=0,g.y=72,g.getChildByName("bg").active=!0,i.getChildByName("Win").getComponent(sp.Skeleton).setAnimation(0,"Win_Start",!1);var u,p=-1;u=s.BossChallengeManager.getInstance().getMaxDamageNumber();var d=this.RankingSelf.getChildByName("CombatPower"),f=this.RankingSelf.getChildByName("SerialNo"),_=this.RankingSelf.getChildByName("name"),m=this.RankingSelf.getChildByName("headPortrait").getChildByName("btnAvatar");d.getComponent(w.default).setTextId(this.texts[2]),d.getComponent(w.default).setReplaceValue("~",u+""),r.HttpManager.post(r.AccessName.leaderboardByUser,this.getLeaderboardByUserJsonString(3),!1).then(function(t){for(var a=t.length,n=0;n<a;n++)t[n].uid==q.default.getInstance().getUserID()&&(p=n+1);-1==p?e.RankingSelf.getChildByName("Notlisted").active=!0:(f.active=!0,f.getComponent(cc.Label).string=""+p,e.RankingSelf.getChildByName("Notlisted").active=!1)});var y=q.default.getInstance().getUserName(),I=q.default.getInstance().getUserAvatar();_.getComponent(cc.Label).string=""+y,m.getComponent(cc.Sprite).spriteFrame=L.PropManager.getInstance().getSpheadPortraitType(I);var v=c.BossRewardManager.getInstance().getRewardByScore(s.BossChallengeManager.getInstance().cur_challenge_mode,a);l.getChildByName("item").x=-80,l.getChildByName("item1").x=80;var M=L.PropManager.getInstance().createPropItem(c.BossRewardManager.getInstance().getRewardItem(v.curData.RewardLevel),c.BossRewardManager.getInstance().getRewardNum(v.curData.RewardLevel));M.scale=0,L.PropManager.getInstance().changePropNum(c.BossRewardManager.getInstance().getRewardItem(v.curData.RewardLevel),c.BossRewardManager.getInstance().getRewardNum(v.curData.RewardLevel)),b.default.getInstance().followEvent(k.Follow_Type.BOSS\u6311\u6218_\u5b8c\u6210\u65f6\u62ff\u5230\u7684\u5956\u52b1\u7ea7\u522b+v.curData.RewardLevel),M.parent=l.getChildByName("item");var C=L.PropManager.getInstance().createPropItem(c.BossRewardManager.getInstance().getRewardItem_2(v.curData.RewardLevel),c.BossRewardManager.getInstance().getRewardNum_2(v.curData.RewardLevel));C.scale=0,L.PropManager.getInstance().changePropNum(c.BossRewardManager.getInstance().getRewardItem_2(v.curData.RewardLevel),c.BossRewardManager.getInstance().getRewardNum_2(v.curData.RewardLevel)),C.parent=l.getChildByName("item1"),s.BossChallengeManager.getInstance().getMaxDamageNumber()>x.default.getInstance().getTaskNowProgress(G.TaskItem.boss\u72e9\u730e\u5206\u6570\u5230\u8fbeX\u4f24\u5bb3)&&x.default.getInstance().emitTask(G.TaskItem.boss\u72e9\u730e\u5206\u6570\u5230\u8fbeX\u4f24\u5bb3),cc.tween(i).to(.24,{scaleX:1.2,scaleY:1.2}).to(.24,{scaleX:.9,scaleY:.9}).to(.26,{scaleX:1,scaleY:1}).call(function(){i.getChildByName("Win").getComponent(sp.Skeleton).setAnimation(0,"Win_Loop",!0)}).delay(1.5).call(function(){cc.tween(i).to(.16,{y:327}).start()}).delay(.16).call(function(){cc.tween(l).to(.33,{opacity:255}).start()}).delay(.33).call(function(){M.scale=0,C.scale=0,cc.tween(M).to(.17,{scale:.83}).call(function(){cc.tween(C).to(.17,{scale:.83}).call(function(){cc.tween(M).to(.17,{scale:1}).to(.17,{scale:.83}).start(),cc.tween(C).to(.17,{scale:1}).to(.17,{scale:.83}).call(function(){cc.tween(g).to(.33,{opacity:255}).call(function(){e.checkTutorails(),g.getChildByName("bg").active=!1}).start()}).start()}).start()}).start()}).start()},t.prototype.showTowerReward=function(){for(var e=this.node.getChildByName("propsScrollView").getComponent(cc.ScrollView).content,t=H.TowerRewardManager.getInstance().getRewardDatas(O.default.getTowerLevel()-1),a=function(a){var o=t[a];L.PropManager.getInstance().changePropNum(o.reward_id,o.reward_num),n.scheduleOnce(function(){e.addChild(L.PropManager.getInstance().createPropItem(o.reward_id,o.reward_num))},.1*a),o.reward_id==N.PropId.UserExp&&o.reward_num>0&&n.showUserExpAnimation(o.reward_num)},n=this,o=0;o<t.length;o++)a(o);O.default.is_show_tower=!0},t.prototype.showMazeReward=function(){h.default.getInstance();var e=F.default.voidsensid,t=d.RogueHexagonTypesManager.getInstance().getHexagonType(e),a=d.RogueHexagonTypesManager.getInstance().getLayers(e);if(5==t){var n=R.TheStorageManager.getInstance().getNumber(E.StorageKey.VoidCrackChallengeDamage,0);a>n&&(n=a,R.TheStorageManager.getInstance().setItem(E.StorageKey.VoidCrackChallengeDamage,n),n>x.default.getInstance().getTaskNowProgress(G.TaskItem.\u865a\u7a7a\u63a2\u9669\u901a\u8fc7\u7b2cX\u7ae0)&&x.default.getInstance().emitTask(G.TaskItem.\u865a\u7a7a\u63a2\u9669\u901a\u8fc7\u7b2cX\u7ae0))}for(var o=0;o<this.End_Star.length;o++)this.End_Star[o].active=!1;var i=d.RogueHexagonTypesManager.getInstance().getHexagonType(F.default.voidsensid);1==i&&(this.label_level.getComponent(cc.Label).string=B.default.getInstance().getStrByTextId(830002)),3==i&&(this.label_level.getComponent(cc.Label).string=B.default.getInstance().getStrByTextId(830003)),5==i&&(this.label_level.getComponent(cc.Label).string=B.default.getInstance().getStrByTextId(830004)),this.label_level.active=!0,this.winText.getComponent(w.default).setTextId(800027),this.text.getComponent(w.default).setTextId(100001);var r=this.node.getChildByName("Up"),s=this.node.getChildByName("voidsens"),c=this.node.getChildByName("Down");r.setScale(0,0),r.y=100,s.opacity=0,c.opacity=0,c.y=167,c.getChildByName("btnHome").active=!1,c.getChildByName("bg").active=!0,r.getChildByName("Win").getComponent(sp.Skeleton).setAnimation(0,"Win_Start",!1);var l=d.RogueHexagonTypesManager.getInstance().getRogueProp1_ID(F.default.voidsensid),g=d.RogueHexagonTypesManager.getInstance().getRogueProp1_Sum(F.default.voidsensid),u=d.RogueHexagonTypesManager.getInstance().getRogueProp2_ID(F.default.voidsensid),p=d.RogueHexagonTypesManager.getInstance().getRogueProp2_Sum(F.default.voidsensid),f=y.JackpotManager.getInstance().getRewardDataById(u),_=L.PropManager.getInstance().createPropItem(l,g);_.scale=0,L.PropManager.getInstance().changePropNum(l,g),_.parent=s.getChildByName("item1");var m=L.PropManager.getInstance().createPropItem(f.reward_id,p);m.scale=0,L.PropManager.getInstance().changePropNum(f.reward_id,p),m.parent=s.getChildByName("item2"),cc.tween(r).to(.24,{scaleX:1.2,scaleY:1.2}).to(.24,{scaleX:.9,scaleY:.9}).to(.26,{scaleX:1,scaleY:1}).call(function(){r.getChildByName("Win").getComponent(sp.Skeleton).setAnimation(0,"Win_Loop",!0)}).delay(1.5).call(function(){cc.tween(r).to(.16,{y:327}).start()}).delay(.16).call(function(){cc.tween(s).to(.33,{opacity:255}).start()}).delay(.33).call(function(){_.scale=0,m.scale=0,cc.tween(_).to(.17,{scale:.83}).call(function(){cc.tween(m).to(.17,{scale:.83}).call(function(){cc.tween(m).to(.17,{scale:1}).to(.17,{scale:.83}).start(),cc.tween(_).to(.17,{scale:1}).to(.17,{scale:.83}).call(function(){cc.tween(c).to(.33,{opacity:255}).call(function(){c.getChildByName("bg").active=!1}).start()}).start()}).start()}).start()}).start()},t.prototype.showUnlockHero=function(){for(var e=m.Hero_Type.PaoShou;e<m.Hero_Type.Hero_Num;e++)if(_.HeroManager.getInstance().getHeroLevel(e)>0&&1==_.HeroManager.getHeroIsNeedTip(e)){V.UIManager.getInstance().showGetHeroUi(e);break}},t.prototype.cheakUserLevel=function(){},t.prototype.getNameByType=function(e){var t="",a=B.default.getInstance();switch(e){case p.Go_Type.Main:t=a.getString(T.LanguageIndex.fighting);break;case p.Go_Type.Main_EnemyInfo:t=a.getString(T.LanguageIndex.MonsterManual);break;case p.Go_Type.Main_Milestone:t=a.getString(T.LanguageIndex.Milestone);break;case p.Go_Type.Main_Sign:t=a.getString(T.LanguageIndex.Sign_in);break;case p.Go_Type.Main_Spin:t=a.getString(T.LanguageIndex.Lucky_Spin);break;case p.Go_Type.Main_Task:t=a.getString(T.LanguageIndex.Daily_task);break;case p.Go_Type.Role:t=a.getString(T.LanguageIndex.hero);break;case p.Go_Type.PetList:t=a.getString(T.LanguageIndex.shop)}return t},t.prototype.clickBtnHome=function(){switch(f.default.Currentlevel+1<C.MissionLevelManager.getMaxLevel()&&(f.default.Currentlevel=f.default.Currentlevel+1),h.default.getInstance().sound_manager.playSound(D.SoundIndex.click),h.default.getInstance().cur_game_mode){case p.GameMode.Main:h.default.getInstance().game_to_home=p.Go_Type.Main;break;case p.GameMode.Tower:case p.GameMode.Endless:case p.GameMode.Boss_Challenge:h.default.getInstance().game_to_home=p.Go_Type.Activity;break;case p.GameMode.Maze:P.MazeManager.getInstance().resetHeroBind()}h.default.getInstance().backToHome()},t.prototype.clickBtnVideo=function(){h.default.getInstance().sound_manager.playSound(D.SoundIndex.click),this.node.getChildByName("btnVideo").active=!1,u.default.getInstance().showVideo(function(e){if(1==e){var t=C.MissionLevelManager.getInstance().getPassReward_Coin(M.LevelManager.getInstance().start_level);L.PropManager.getInstance().changePropNum(N.PropId.Coin,3*t),h.default.getInstance().showGetTip(L.PropManager.getInstance().createPropItem(N.PropId.Coin,3*t))}else h.default.getInstance().showMessage(B.default.getInstance().getString(T.LanguageIndex.The_ad_failed_to_play_and_the_reward_cannot_be_obtained))},p.VIDEO_TYPE.Coin)},t.prototype.clickBtnNext=function(){var t=h.default.getInstance();switch(t.sound_manager.playSound(D.SoundIndex.click),h.default.getInstance().cur_game_mode){case p.GameMode.Main:f.default.Currentlevel=f.default.Currentlevel+1;var a=f.default.Currentlevel;a>C.MissionLevelManager.getMaxLevel()?(f.default.Currentlevel=C.MissionLevelManager.getMaxLevel(),h.default.getInstance().showMessage(B.default.getInstance().getStrByTextId(100121),3)):(a<=M.LevelManager.getInstance().finish_level+1&&(U.default.getInstance().is_finish_game?(M.LevelManager.getInstance().start_level=a,t.fighting_info=C.MissionLevelManager.getInstance().getFightingInfo(M.LevelManager.getInstance().start_level)):(M.LevelManager.getInstance().start_level=a,t.fighting_info=S.TutorialLevelManager.getInstance().getFightingInfo(M.LevelManager.getInstance().start_level))),h.default.getInstance().startNextLevel(),e.prototype.onClose.call(this));break;case p.GameMode.Tower:O.default.getTowerLevel()<A.TowerLevelManager.getMaxFloor()&&(h.default.getInstance().startNextLevel(),e.prototype.onClose.call(this));break;case p.GameMode.Endless:h.default.getInstance().game_to_home=p.Go_Type.Activity_Endless,h.default.getInstance().backToHome();break;case p.GameMode.Boss_Challenge:h.default.getInstance().game_to_home=p.Go_Type.Activity_Boss,h.default.getInstance().backToHome();break;case p.GameMode.Maze:var n=F.default.voidsensid,o=d.RogueHexagonTypesManager.getInstance().getHexagonType(n);h.default.getInstance().game_to_home=5==o?p.Go_Type.Activity_Maze_lose:p.Go_Type.Activity_Maze,h.default.getInstance().backToHome()}},t.prototype.clickBtnOk=function(){switch(h.default.getInstance().sound_manager.playSound(D.SoundIndex.click),h.default.getInstance().game_to_home=p.Go_Type.Activity,h.default.getInstance().cur_game_mode){case p.GameMode.Maze:V.UIManager.getInstance().showMazeUi(),e.prototype.onClose.call(this);break;case p.GameMode.Tower:h.default.getInstance().startNextLevel(),e.prototype.onClose.call(this);break;default:h.default.getInstance().backToHome()}},t.prototype.clickBtnStats=function(){h.default.getInstance().sound_manager.playSound(D.SoundIndex.click),V.UIManager.getInstance().showDamageStatsUi()},t.prototype.getLeaderboardByUserJsonString=function(e){return q.default.getInstance().getUserID(),JSON.stringify({limit:100,type:e})},i([X(cc.Prefab)],t.prototype,"hero_stats",void 0),i([X(cc.Node)],t.prototype,"ScrollView",void 0),i([X(cc.Node)],t.prototype,"task",void 0),i([X(cc.Node)],t.prototype,"Star",void 0),i([X(cc.Node)],t.prototype,"Staranmtion",void 0),i([X(cc.Node)],t.prototype,"SmallStar",void 0),i([X(cc.Node)],t.prototype,"SmallStar2",void 0),i([X(cc.Node)],t.prototype,"SmallStar3",void 0),i([X(cc.Node)],t.prototype,"End_Bg_hei",void 0),i([X(cc.Node)],t.prototype,"txt",void 0),i([X(cc.Node)],t.prototype,"go",void 0),i([X(cc.Node)],t.prototype,"End_Star",void 0),i([X(cc.Node)],t.prototype,"label_level",void 0),i([X(cc.Node)],t.prototype,"jiangli",void 0),i([X(cc.Node)],t.prototype,"winText",void 0),i([X(cc.Node)],t.prototype,"First_Text_1_CN",void 0),i([X(cc.Node)],t.prototype,"Highesttxt",void 0),i([X(cc.Node)],t.prototype,"text",void 0),i([X(cc.Node)],t.prototype,"RankingSelf",void 0),i([Y],t)}(J.default);a.default=Z,cc._RF.pop()},{"../.././NetWork/HttpManager":"HttpManager","../../Activity/BossChallenge":"BossChallenge","../../Activity/BossReward":"BossReward","../../Activity/EndlessLevels":"EndlessLevels","../../Activity/EndlessReward":"EndlessReward","../../Ads/AdManager":"AdManager","../../Constants":"Constants","../../GameManager":"GameManager","../../GuaJi/MapManager":"MapManager","../../Hero/Data/HeroManager":"HeroManager","../../Hero/Game/HeroConfig":"HeroConfig","../../JsonData/Jackpot":"Jackpot","../../JsonData/PlayerLevelUp":"PlayerLevelUp","../../Level/FirstCompleteReward":"FirstCompleteReward","../../Level/LevelManager":"LevelManager","../../Level/MissionLevel":"MissionLevel","../../Level/TutorialLevel":"TutorialLevel","../../Maze/MazeManager":"MazeManager","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../Storage/StorageConfig":"StorageConfig","../../Storage/StorageManager":"StorageManager","../../Task/TaskEnum":"TaskEnum","../../Task/TaskManager":"TaskManager","../../Tower/TowerLevel":"TowerLevel","../../Tower/TowerManager":"TowerManager","../../Tower/TowerReward":"TowerReward","../../Turntable/Times":"Times","../../Tutorials/RewardSSUi":"RewardSSUi","../../Tutorials/TutorailsManager":"TutorailsManager","../../UI/UIComponent":"UIComponent","../../UI/UIConfig":"UIConfig","../../UI/UIManager":"UIManager","../../UserData":"UserData","../../Wall/WallManager":"WallManager","../../copy/voidcrack/RogueHexagonTypes":"RogueHexagonTypes","../../multiLanguage/FollowConstants":"FollowConstants","../../multiLanguage/FollowManager":"FollowManager","../../multiLanguage/LanguageConstants":"LanguageConstants","../../multiLanguage/LanguageManager":"LanguageManager","../../multiLanguage/TextLanguage":"TextLanguage"}],Game:[function(e,t,a){"use strict";cc._RF.push(t,"37373GfXV9Ibq0DJHXKFoBS","Game");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Activity/BossChallenge"),s=e("../Activity/BossGameUi"),c=e("../Activity/EndlessLevels"),l=e("../Constants"),g=e("../copy/endlesschallenges/BuffDisplay"),u=e("../GameData"),p=e("../GameManager"),d=e("../Hero/Data/HeroManager"),h=e("../Hero/Game/Hero"),f=e("../Level/LevelManager"),_=e("../Level/MissionLevel"),m=e("../multiLanguage/FollowConstants"),y=e("../multiLanguage/FollowManager"),I=e("../multiLanguage/LanguageManager"),v=e("../multiLanguage/TextLanguage"),M=e("../Payment/DingYueManager"),C=e("../Pet/Game/Pet"),S=e("../Prop/PropConfig"),P=e("../Prop/PropManager"),k=e("../Sound/AudioConstants"),b=e("../Storage/StorageConfig"),T=e("../Storage/StorageManager"),B=e("../Task/TaskEnum"),w=e("../Task/TaskManager"),N=e("../Tools/MyTool"),L=e("../Tower/TowerManager"),D=e("../Tutorials/TutorailsManager"),E=e("../UI/UIConfig"),R=e("../UI/UIManager"),G=e("../Wall/WallManager"),x=e("../WeekCard/WeekCardUi"),A=e("./BuffStateManager"),O=e("./GameEffectsManager"),H=e("./Ui/BuyBattlePotion"),F=cc._decorator,j=F.ccclass,U=F.property,J=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sp_rate=[],t.sp_auto=[],t.sp_wave=[],t.prefab_normal_wave=null,t.prefab_boss_wave=null,t.prefab_jiange=null,t.cur_wave_node=null,t.cur_wave_sp=null,t.wave_pos_x=[],t.left_xx=0,t.dist_xx=0,t.one_width=0,t.is_unlock_rate=!0,t.try_rate_ramain=600,t.is_try_rate=!1,t.is_unlock_auto=!0,t.try_auto_ramain=600,t.is_try_auto=!1,t.try_auto_label=null,t.try_rate_label=null,t.start_time=0,t.time_jishu=0,t.time_label=null,t.bg0=null,t.bg1=null,t.dps_label=null,t.level_progress=null,t.level_label=null,t.coin_label=null,t.total_coin=0,t.endless_ts=null,t.cur_bg_name="bg2",t.bgSpeed=50,t.battlepotion=[],t.battlepotionPropId=[S.PropId.RedPotion,S.PropId.GreenPotion,S.PropId.BluePotion],t.battlepotionstate=[1,1,1],t.indexLoad=[2,1,3,0,4],t.indexData=[3,1,0,2,4],t}return o(t,e),t.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0,u.default.getInstance(),p.default.getInstance().init(l.GameScene.game),p.default.getInstance().game=this,this.adaptation(),this.setBgImg(),D.default.getInstance().is_finish_game?this.loadHeros():p.default.getInstance().loadTutorailsHeroData(),M.DingYueManager.getInstance().getWeekInfo()&&(this.is_unlock_auto=M.DingYueManager.getInstance().getWeekInfo().is_buy),M.DingYueManager.getInstance().getWeekInfo()&&(this.is_unlock_rate=M.DingYueManager.getInstance().getWeekInfo().is_buy),this.is_unlock_rate||p.default.getInstance().setBtnSetupRate(1,!1),this.is_unlock_auto||p.default.getInstance().setAutoFighting(!1,!1),this.try_auto_ramain=T.TheStorageManager.getInstance().getInt(b.StorageKey.try_auto_fight_remain,600),this.try_rate_ramain=T.TheStorageManager.getInstance().getInt(b.StorageKey.try_rate_fight_remain,600),this.setTryAutoLabel(),this.setTryRateLabel(),p.default.getInstance().setGameRate(1)},t.prototype.onDestroy=function(){},t.prototype.start=function(){this.showLoading(),p.default.getInstance().music_manager.playMusic(k.MusicIndex.BGM_Battle),O.GameEffectsManager.getInstance().addEffectPoolById(O.GameEffectId.Null,4),O.GameEffectsManager.getInstance().addEffectPoolById(O.GameEffectId.ui_monster_warning,1),this.setBtnAuto(),this.setBtnRateShow(),this.initLevelShow(),0==D.default.getInstance().is_finish_game&&(R.UIManager.getInstance().preloadUiByPath(E.UIPath.RewardSSUI),R.UIManager.getInstance().preloadUiByPath(E.UIPath.StoreHeroShowUi))},t.prototype.testCamera=function(){var e=new cc.RenderTexture;e.initWithSize(300,240),cc.find("Canvas/TestCamera").getComponent(cc.Camera).targetTexture=e,cc.find("Canvas/Test/showRoot/showSprite").getComponent(cc.Sprite).spriteFrame.setTexture(e)},t.prototype.adaptation=function(){var e=cc.find("Canvas/Ui_Root/top_ui"),t=cc.winSize;e.y=t.height/2,this.time_label=e.getChildByName("timeLabel").getComponent(cc.Label),this.level_progress=e.getChildByName("levelProgressBar").getComponent(cc.ProgressBar),this.level_progress.progress=0,this.level_label=e.getChildByName("levelLabel").getComponent(cc.Label),this.coin_label=e.getChildByName("iconBg").getChildByName("coinLabel").getComponent(cc.Label),this.dps_label=e.getChildByName("dpsLabel").getComponent(cc.Label);var a=this.node.getChildByName("wall_bg");a.y=-cc.winSize.height/2+a.height/2;var n=cc.find("Canvas/Ui_Root/hp_root");n.y=-t.height/2+n.height-27,this.bg0=this.node.getChildByName("bg0"),this.bg1=this.node.getChildByName("bg1"),this.bg0.y=cc.winSize.height/2-this.bg0.height/2,this.bg1.y=this.bg0.y+this.bg0.height},t.prototype.showLoading=function(){var e=this,t=R.UIManager.getInstance().getLoadingNode();t.active=!0;var a=t.getChildByName("ProgressBar").getComponent(cc.ProgressBar),n=a.node.getChildByName("loadLabel").getComponent(cc.Label);a.progress=p.default.getInstance().cur_load_progress;var o=function(){a.progress+=.005,n.string=(100*a.progress).toFixed(0)+"%",a.progress>=1&&(a.progress=1,e.unschedule(o),o=null,e.checkStartGame())};this.schedule(o,.02)},t.prototype.checkStartGame=function(){var e=this;if(h.default.cur_loaded_num>=h.default.max_load_num){if(R.UIManager.getInstance().getLoadingNode().active=!1,this.startGame(),p.default.getInstance().cur_game_mode==l.GameMode.Endless){y.default.getInstance().followEvent(m.Follow_Type.\u5f00\u59cb\u65e0\u5c3d\u6311\u6218\u6b21\u6570),w.default.getInstance().emitTask(B.TaskItem.\u6311\u6218X\u6b21\u65e0\u5c3d\u6311\u6218),w.default.getInstance().emitTask(B.TaskItem.\u6311\u62181\u6b21\u65e0\u5c3d\u6311\u6218),w.default.getInstance().emitTask(B.TaskItem.\u6311\u62183\u6b21\u65e0\u5c3d\u6311\u6218);var t=void 0;t=T.TheStorageManager.getInstance().getNumber(b.StorageKey.UnlimitedChallengeTimes,3),t--,T.TheStorageManager.getInstance().setItem(b.StorageKey.UnlimitedChallengeTimes,t);var a=T.TheStorageManager.getInstance().getNumber(b.StorageKey.UnlimitedChallengeDamage,0),n=c.EndlessLevelsManager.getInstance().getRound(a);n-1>0?(g.default.surplusnumber=n-2,p.default.getInstance().showBtnBuff(1)):g.default.surplusnumber=-1}}else this.scheduleOnce(function(){e.checkStartGame()},.2)},t.prototype.loadHeros=function(){h.default.max_load_num=0,h.default.cur_loaded_num=0,C.default.max_load_num=0,C.default.cur_loaded_num=0;for(var e=d.HeroManager.getInstance().getTeamList(p.default.getInstance().cur_game_mode),t=0;t<e.length;t++){var a=e[this.indexLoad[t]];a>0&&this.loadHero(a,this.indexLoad[t])}},t.prototype.loadHero=function(e,t,a){var n=this;h.default.max_load_num++;var o=t,i=t;0==t&&(o=1),4==t&&(o=3,i=0),3==t&&(i=1);var r=45*o-90,s=60*i-120;cc.resources.load("heros/hero"+e,cc.Prefab,function(o,i){if(o)console.log(o);else{var c=cc.instantiate(i);c.parent=cc.find("Canvas/Hero_Root"),c.x=r;var l=cc.find("Canvas/Ui_Root/hp_root");c.y=l.y+s+150+300,c.getComponent(h.default).targetX=c.x,c.getComponent(h.default).posX=c.x,c.getComponent(h.default).posIndex=t,c.setSiblingIndex(n.indexData[t]),A.default.getInstance().createBuffRoot(cc.v2(r,c.y+150),e),a&&a()}})},t.prototype.showKaiZhan=function(){var e=cc.find("Canvas/Ui_Root/KaiZhan");e.active=!0;var t=e.getChildByName("KaiZhan").getComponent(sp.Skeleton),a=t.setAnimation(0,"KaiZhan",!1);t.setTrackEventListener(a,function(e,t){"Attack"==t.data.name&&p.default.getInstance().sound_manager.playSound(k.SoundIndex.YX_Kaizhan)}),t.setCompleteListener(function(){t.setCompleteListener(null),e.active=!1})},t.prototype.StatusBattlePotion=function(){for(var e=0;e<this.battlepotion.length;e++){var t=P.PropManager.getInstance().getPropNum(this.battlepotionPropId[e]);this.battlepotion[e].getChildByName("Redtxt").getComponent(cc.Label).string="x"+t,this.battlepotion[e].getChildByName("Battle_Lock").active=!1,0==t?this.battlepotion[e].getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")):this.battlepotion[e].getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),0==this.battlepotionstate[e]?(this.battlepotion[e].getChildByName("Battle_Lock").active=!0,this.battlepotion[e].getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite"))):(this.battlepotion[e].getChildByName("Battle_Lock").active=!1,this.battlepotion[e].getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")))}},t.prototype.startGame=function(){var e=this;this.StatusBattlePotion();var t=p.default.getInstance();t.cur_game_state=l.GameState.Game_Playing,this.showCoin(),this.showKaiZhan(),this.setBtnRateShow(),this.setBtnAuto();var a=cc.find("Canvas/Ui_Root/top_ui");switch(t.cur_game_mode){case l.GameMode.Main:a.getChildByName("curLabel").getComponent(cc.Label).string=p.default.getInstance().fighting_info.title_name,this.total_coin=_.MissionLevelManager.getInstance().getPassReward_Coin(f.LevelManager.getInstance().start_level),y.default.getInstance().followEvent(m.Follow_Type.\u5f00\u59cb\u7b2cN\u7ae0\u73a9\u5bb6\u6570+_.MissionLevelManager.getInstance().getChapter(f.LevelManager.getInstance().start_level)),y.default.getInstance().followEvent(m.Follow_Type.\u5f00\u59cb\u6311\u6218\u5173\u5361+f.LevelManager.getInstance().start_level),w.default.getInstance().emitTask(B.TaskItem.\u6311\u62181\u6b21\u5173\u5361),w.default.getInstance().emitTask(B.TaskItem.\u6311\u62183\u6b21\u5173\u5361),a.getChildByName("levelLabeltxt").getComponent(v.default).setTextId(140017),a.getChildByName("Boss").active=!1,this.scheduleOnce(function(){e.checkTutorails()},.5),a.getChildByName("Endless_Btn_Buff").active=!1;break;case l.GameMode.Endless:O.GameEffectsManager.getInstance().addEffectPoolById(O.GameEffectId.monster_zhiliao_halo_hit,2),a.getChildByName("levelLabeltxt").getComponent(v.default).setTextId(800018),a.getChildByName("Endless_Btn_Buff").active=!0,a.getChildByName("Boss").active=!1;var n=T.TheStorageManager.getInstance().getNumber(b.StorageKey.UnlimitedChallengeDamage,0);a.getChildByName("curLabel").getComponent(cc.Label).string=""+n,y.default.getInstance().followEvent(m.Follow_Type.\u5f00\u59cbBOSS\u6311\u6218\u6b21\u6570);break;case l.GameMode.Boss_Challenge:w.default.getInstance().emitTask(B.TaskItem.\u6311\u6218X\u6b21boss\u72e9\u730e),w.default.getInstance().emitTask(B.TaskItem.\u6311\u62181\u6b21BOSS\u72e9\u730e),w.default.getInstance().emitTask(B.TaskItem.\u6311\u62183\u6b21BOSS\u72e9\u730e);var o=void 0;o=T.TheStorageManager.getInstance().getNumber(b.StorageKey.BossChallengeTimes,3),o--,T.TheStorageManager.getInstance().setItem(b.StorageKey.BossChallengeTimes,o),this.level_label.string="0/1",a.getChildByName("Boss").active=!0,a.getChildByName("Endless_Btn_Buff").active=!1,cc.resources.load("ui/game/boss_game_ui",cc.Prefab,function(e,t){if(e)console.log(e);else{var n=cc.instantiate(t);a.getChildByName("BossHpRoot").addChild(n),r.BossChallengeManager.getInstance().boss_challenge_ts=n.getComponent(s.default),r.BossChallengeManager.getInstance().boss_challenge_ts.refreshData()}}),this.time_label.node.color=cc.Color.WHITE,cc.find("Canvas/Ui_Root/top_ui/Boss/timeLabel").color=cc.Color.WHITE,this.showRemainTime();break;case l.GameMode.Tower:w.default.getInstance().emitTask(B.TaskItem.\u6311\u62181\u6b21\u722c\u5854),w.default.getInstance().emitTask(B.TaskItem.\u6311\u62183\u6b21\u722c\u5854),L.default.is_show_tower=!1,a.getChildByName("curLabel").getComponent(cc.Label).string=p.default.getInstance().fighting_info.title_name;break;case l.GameMode.Maze:w.default.getInstance().emitTask(B.TaskItem.\u6311\u62181\u6b21\u51b0\u6cb3\u63a2\u9669),L.default.is_show_tower=!1,a.getChildByName("curLabel").getComponent(cc.Label).string=p.default.getInstance().fighting_info.title_name,a.getChildByName("levelLabeltxt").getComponent(v.default).setTextId(140017),a.getChildByName("Boss").active=!1,a.getChildByName("Endless_Btn_Buff").active=!1}P.PropManager.getInstance().saveAllPropNum(!0)},t.prototype.clickBtnBuff=function(){p.default.getInstance().showBtnBuff(0),l.IsDebug&&(p.default.getInstance().all_hero.forEach(function(e,t){console.log(t+",\u4e3b\u52a8\u6280\u80fd\u51b7\u5374\u65f6\u95f4:"+e.skill_total_time+",\u653b\u901f:"+1/e.hero_data.gongji_jiange+"\u589e\u4f24\uff1a"+e.hero_data.all_increase_damage,e.hero_data)}),console.log(G.default.getInstance().getMainWall().getAttributeData()))},t.prototype.setBgImg=function(){var e=this,t=this.node.getChildByName("wall_bg"),a=t.getChildByName("wall_down");p.default.getInstance().enemy_att_y=t.y+a.y+a.height/2,this.bg0.y=cc.winSize.height/2-this.bg0.height/2,this.bg1.y=this.bg0.y+this.bg0.height;var n=p.default.getInstance().fighting_info,o=n.bg_name;this.cur_bg_name=o,cc.resources.load(o,cc.SpriteFrame,function(t,a){t?console.log(t):(e.bg0.getComponent(cc.Sprite).spriteFrame=a,e.bg1.getComponent(cc.Sprite).spriteFrame=a)}),cc.resources.load(n.wall_name,cc.SpriteFrame,function(a,n){a?console.log(a):(t.getChildByName("bg2_wall").getComponent(cc.Sprite).spriteFrame=n,e.bg2_wall=t.getChildByName("bg2_wall"))})},t.prototype.showBaoxiang=function(){},t.prototype.startNextLevel=function(){this.initLevelShow(),this.showDps(),this.showLevelProgress(),p.default.getInstance().cur_game_mode==l.GameMode.Main&&(this.start_time=0),this.showTime(),this.startGame(),this.showCoin(),this.cur_bg_name!=p.default.getInstance().fighting_info.bg_name&&this.setBgImg()},t.prototype.setProgress=function(){var e=cc.find("Canvas/Ui_Root/bg_loading");e.active=!0,e.getChildByName("ProgressBar").getComponent(cc.ProgressBar).progress=0},t.prototype.clickBtnDouble=function(){var e=this;if(y.default.getInstance().followEvent(m.Follow_Type.\u4e8c\u500d\u901f\u70b9\u51fb\u6b21\u6570),p.default.getInstance().sound_manager.playSound(k.SoundIndex.click),0==this.is_unlock_rate&&this.try_rate_ramain<=0)return p.default.getInstance().showMessage(I.default.getInstance().getStrByTextId(1400108)),p.default.getInstance().cur_game_state=l.GameState.Game_Pause,void R.UIManager.getInstance().showUiDialog(E.UIPath.WeekCard,E.UILayerLevel.One,{onCompleted:function(t){t.getComponent(x.default).refreshUi(),t.getComponent(x.default).init({onClose:function(){p.default.getInstance().cur_game_state=l.GameState.Game_Playing,e.is_unlock_auto=M.DingYueManager.getInstance().getWeekInfo().is_buy,e.is_unlock_rate=M.DingYueManager.getInstance().getWeekInfo().is_buy,e.is_unlock_rate&&(p.default.getInstance().setBtnSetupRate(2),e.setTryAutoLabel(),e.setTryRateLabel(),e.setBtnRateShow())}})}});1==p.default.getInstance().getBtnSetupRate()?(p.default.getInstance().setBtnSetupRate(2),0==this.is_unlock_rate&&this.try_rate_ramain>0&&(this.is_try_rate=!0)):(p.default.getInstance().setBtnSetupRate(1),0==this.is_unlock_rate&&(this.is_try_rate=!1)),this.setBtnRateShow()},t.prototype.clickBtnAuto=function(){var e=this;if(p.default.getInstance().sound_manager.playSound(k.SoundIndex.click),y.default.getInstance().followEvent(m.Follow_Type.\u81ea\u52a8\u6218\u6597\u70b9\u51fb\u6b21\u6570),0==this.is_unlock_auto&&this.try_auto_ramain<=0)return p.default.getInstance().showMessage(I.default.getInstance().getStrByTextId(1400107)),p.default.getInstance().cur_game_state=l.GameState.Game_Pause,void R.UIManager.getInstance().showUiDialog(E.UIPath.WeekCard,E.UILayerLevel.One,{onCompleted:function(t){t.getComponent(x.default).refreshUi(),t.getComponent(x.default).init({onClose:function(){p.default.getInstance().cur_game_state=l.GameState.Game_Playing,e.is_unlock_auto=M.DingYueManager.getInstance().getWeekInfo().is_buy,e.is_unlock_rate=M.DingYueManager.getInstance().getWeekInfo().is_buy,e.is_unlock_auto&&(p.default.getInstance().setAutoFighting(!0),e.setTryAutoLabel(),e.setTryRateLabel(),e.setBtnAuto())}})}});0==this.is_unlock_auto&&this.try_auto_ramain>0&&(this.is_try_auto=!p.default.getInstance().auto_fighting,0==this.is_try_auto&&(this.try_auto_ramain=Math.floor(this.try_auto_ramain),T.TheStorageManager.getInstance().setItem(b.StorageKey.try_auto_fight_remain,this.try_auto_ramain))),p.default.getInstance().setAutoFighting(!p.default.getInstance().auto_fighting),this.setBtnAuto()},t.prototype.clickBtnPause=function(){p.default.getInstance().sound_manager.playSound(k.SoundIndex.click),this.try_auto_ramain=Math.floor(this.try_auto_ramain),T.TheStorageManager.getInstance().setItem(b.StorageKey.try_auto_fight_remain,this.try_auto_ramain),this.try_rate_ramain=Math.floor(this.try_rate_ramain),T.TheStorageManager.getInstance().setItem(b.StorageKey.try_rate_fight_remain,this.try_rate_ramain),p.default.getInstance().showGamePause()},t.prototype.clickBtnTest1=function(){},t.prototype.clickBtnTest2=function(){p.default.getInstance().showBossWarning()},t.prototype.clickBtnReplay=function(){},t.prototype.clickBtnBattlepotion=function(e,t){var a=t,n=P.PropManager.getInstance().getPropNum(this.battlepotionPropId[a]);0==this.battlepotionstate[a]?p.default.getInstance().showMessage(I.default.getInstance().getStrByTextId(100130),3):0==n?R.UIManager.getInstance().showUiDialog(E.UIPath.BuyBattlePotion,E.UILayerLevel.One,{onCompleted:function(e){e.getComponent(H.default).init({onClose:function(){}}),e.getComponent(H.default).initUi(t)}}):(0==a&&this.clickBtnRed(),1==a&&this.clickBtnGreen(),2==a&&this.clickBtnBlue())},t.prototype.clickBtnRed=function(){},t.prototype.clickBtnGreen=function(){},t.prototype.clickBtnBlue=function(){},t.prototype.setTryAutoLabel=function(){this.try_auto_label.node.active=this.try_auto_ramain>0&&f.LevelManager.getInstance().finish_level>=5&&0==this.is_unlock_auto,this.try_auto_label.string=N.default.getTimeStr(Math.floor(this.try_auto_ramain))},t.prototype.setTryRateLabel=function(){this.try_rate_label.node.active=this.try_rate_ramain>0&&f.LevelManager.getInstance().finish_level>=5&&0==this.is_unlock_rate,this.try_rate_label.string=N.default.getTimeStr(Math.floor(this.try_rate_ramain))},t.prototype.setBtnRateShow=function(){var e=cc.find("Canvas/Ui_Root/btnRate");if(1==this.is_unlock_rate||this.try_rate_ramain>0){var t=p.default.getInstance().getBtnSetupRate();e.getComponent(cc.Sprite).spriteFrame=this.sp_rate[t-1]}else e.getComponent(cc.Sprite).spriteFrame=this.sp_rate[0];this.try_rate_ramain=Math.floor(this.try_rate_ramain),T.TheStorageManager.getInstance().setItem(b.StorageKey.try_rate_fight_remain,this.try_rate_ramain),e.active=f.LevelManager.getInstance().finish_level>=5},t.prototype.setBtnAuto=function(){var e=cc.find("Canvas/Ui_Root/btnAuto"),t=p.default.getInstance().auto_fighting?1:0;e.getComponent(cc.Sprite).spriteFrame=this.sp_auto[t],this.is_unlock_auto&&T.TheStorageManager.getInstance().setItem(b.StorageKey.AutoFighting,t),e.active=f.LevelManager.getInstance().finish_level>=5},t.prototype.showTime=function(){var e=Math.floor(this.start_time/3600),t="0"+e;e>=10&&(t=""+e);var a=Math.floor((this.start_time-3600*e)/60),n="0"+a;a>=10&&(n=""+a);var o=this.start_time%60,i="0"+o;o>=10&&(i=""+o),this.time_label.string=t+":"+n+":"+i,p.default.getInstance().cur_game_mode==l.GameMode.Boss_Challenge&&(cc.find("Canvas/Ui_Root/top_ui/Boss/timeLabel").getComponent(cc.Label).string=t+":"+n+":"+i)},t.prototype.showRemainTime=function(){var e=90-this.start_time,t=Math.floor(e/3600),a="0"+t;t>=10&&(a=""+t);var n=Math.floor((e-3600*t)/60),o="0"+n;n>=10&&(o=""+n);var i=e%60,r="0"+i;i>=10&&(r=""+i),this.time_label.string=a+":"+o+":"+r,p.default.getInstance().cur_game_mode==l.GameMode.Boss_Challenge&&(cc.find("Canvas/Ui_Root/top_ui/Boss/timeLabel").getComponent(cc.Label).string=a+":"+o+":"+r),e<=0&&p.default.getInstance().showGameLose()},t.prototype.initLevelShow=function(){var e=cc.find("Canvas/Ui_Root/top_ui/waveBg");this.cur_wave_node=e.parent.getChildByName("cur_wave"),this.cur_wave_node.y=e.y-20,this.cur_wave_node.x=-315,this.dist_xx=-315,this.wave_pos_x=new Array;var t=p.default.getInstance().fighting_info.getWaveTypes(),a=t.length;e.removeAllChildren();var n=4*(a-1),o=(e.width-10-n)/a;this.left_xx=-e.width/2+5;var i=o+4;this.one_width=i;for(var r=0;r<a;r++){var s=t[r],c=null;switch(s){case 0:c=cc.instantiate(this.prefab_normal_wave);break;case 1:c=cc.instantiate(this.prefab_boss_wave)}e.addChild(c),c.name=r.toString(),c.width=o,c.x=this.left_xx+r*i,c.y=0,c.getComponent(cc.Sprite).spriteFrame=this.sp_wave[0],c.active=s>0;var l=c.x+c.width+2;if(r!=a-1){var g=cc.instantiate(this.prefab_jiange);g.x=l,g.y=0,e.addChild(g)}this.wave_pos_x.push(l)}this.showLevelProgress()},t.prototype.showLevelProgress=function(){var e=p.default.getInstance();switch(e.cur_game_mode){case l.GameMode.Maze:case l.GameMode.Tower:case l.GameMode.Endless:case l.GameMode.Main:this.cur_wave_sp&&(this.cur_wave_sp.width=this.one_width);var t=cc.find("Canvas/Ui_Root/top_ui/waveBg");this.cur_wave_sp=t.getChildByName(e.cur_wave.toString());var a=p.default.getInstance().fighting_info.getWaveTypes();this.cur_wave_sp.getComponent(cc.Sprite).spriteFrame=this.sp_wave[a[e.cur_wave]+1],this.cur_wave_sp.active=!0,this.cur_wave_sp.width=0;var n=p.default.getInstance().cur_wave,o=this.wave_pos_x[n];this.dist_xx=o;break;case l.GameMode.Endless:this.endless_ts&&this.endless_ts.refreshData()}},t.prototype.showJianTouPos=function(){},t.prototype.showCoin=function(){},t.prototype.showDps=function(){for(var e=0,t=p.default.getInstance(),a=t.hero_skill_dps.length,n=0;n<a;n++)e+=t.hero_skill_dps[n]+t.hero_attack_dps[n];var o=Math.round(e/this.start_time);this.dps_label.string=N.default.getCoinDanwei(o),p.default.getInstance().cur_game_mode==l.GameMode.Boss_Challenge&&(cc.find("Canvas/Ui_Root/top_ui/Boss/dpsLabel").getComponent(cc.Label).string=""+N.default.getCoinDanwei(o))},t.prototype.update=function(e){if(p.default.getInstance().cur_game_state==l.GameState.Game_Playing){if(this.time_jishu+=e,this.time_jishu>=1){switch(this.time_jishu=0,this.start_time+=1,p.default.getInstance().cur_game_mode){case l.GameMode.Tower:case l.GameMode.Endless:case l.GameMode.Maze:case l.GameMode.Main:this.showTime();break;case l.GameMode.Boss_Challenge:this.showRemainTime()}this.showDps()}this.cur_wave_node.x<this.dist_xx&&(this.cur_wave_node.x+=30*e,this.cur_wave_sp.width=this.one_width-(this.dist_xx-this.cur_wave_node.x),this.cur_wave_node.x>this.dist_xx&&(this.cur_wave_node.x=this.dist_xx,this.cur_wave_sp.width=this.one_width));var t=e;1!=p.default.getInstance().getGameRate()&&(t=e/2),t>1&&(t=1),this.is_try_auto&&this.try_auto_ramain>0&&(this.try_auto_ramain-=t,this.try_auto_ramain<=0&&(this.is_try_auto=!1,this.try_auto_ramain=0,p.default.getInstance().setAutoFighting(!1,!1),this.setBtnAuto()),this.setTryAutoLabel()),this.is_try_rate&&this.try_rate_ramain>0&&(this.try_rate_ramain-=t,this.try_rate_ramain<=0&&(this.is_try_rate=!1,this.try_rate_ramain=0,p.default.getInstance().setBtnSetupRate(1,!1),this.setBtnRateShow()),this.setTryRateLabel()),this.bg0&&this.bg1&&(this.bg1.y-=e*this.bgSpeed,this.bg0.y-=e*this.bgSpeed,this.bg0.y<=cc.winSize.height/2-this.bg0.height/2-cc.winSize.height&&(this.bg0.y=this.bg1.y+this.bg0.height),this.bg1.y<=cc.winSize.height/2-this.bg0.height/2-cc.winSize.height&&(this.bg1.y=this.bg0.y+this.bg0.height))}},t.prototype.checkTutorails=function(){this.scheduleOnce(function(){D.default.getInstance().is_finish_game&&1==f.LevelManager.getInstance().start_level&&D.default.getInstance().isShowTutorials(211)&&(D.default.getInstance().is_tutorails_state=!0,p.default.getInstance().setGameRate(1/l.JiaSu),D.default.getInstance().showTutorials(211,null,function(){D.default.getInstance().showTutorials(212,null,function(){D.default.getInstance().showTutorials(213,function(){D.default.getInstance().saveTutorials(211),D.default.getInstance().saveTutorials(212),D.default.getInstance().saveTutorials(213)},function(){p.default.getInstance().setGameRate(1)})})}))},1*p.default.getInstance().getGameRate())},i([U([cc.SpriteFrame])],t.prototype,"sp_rate",void 0),i([U([cc.SpriteFrame])],t.prototype,"sp_auto",void 0),i([U([cc.SpriteFrame])],t.prototype,"sp_wave",void 0),i([U(cc.Prefab)],t.prototype,"prefab_normal_wave",void 0),i([U(cc.Prefab)],t.prototype,"prefab_boss_wave",void 0),i([U(cc.Prefab)],t.prototype,"prefab_jiange",void 0),i([U(cc.Label)],t.prototype,"try_auto_label",void 0),i([U(cc.Label)],t.prototype,"try_rate_label",void 0),i([U(cc.Node)],t.prototype,"battlepotion",void 0),i([j],t)}(cc.Component);a.default=J,cc._RF.pop()},{"../Activity/BossChallenge":"BossChallenge","../Activity/BossGameUi":"BossGameUi","../Activity/EndlessLevels":"EndlessLevels","../Constants":"Constants","../GameData":"GameData","../GameManager":"GameManager","../Hero/Data/HeroManager":"HeroManager","../Hero/Game/Hero":"Hero","../Level/LevelManager":"LevelManager","../Level/MissionLevel":"MissionLevel","../Payment/DingYueManager":"DingYueManager","../Pet/Game/Pet":"Pet","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../Storage/StorageConfig":"StorageConfig","../Storage/StorageManager":"StorageManager","../Task/TaskEnum":"TaskEnum","../Task/TaskManager":"TaskManager","../Tools/MyTool":"MyTool","../Tower/TowerManager":"TowerManager","../Tutorials/TutorailsManager":"TutorailsManager","../UI/UIConfig":"UIConfig","../UI/UIManager":"UIManager","../Wall/WallManager":"WallManager","../WeekCard/WeekCardUi":"WeekCardUi","../copy/endlesschallenges/BuffDisplay":"BuffDisplay","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/LanguageManager":"LanguageManager","../multiLanguage/TextLanguage":"TextLanguage","./BuffStateManager":"BuffStateManager","./GameEffectsManager":"GameEffectsManager","./Ui/BuyBattlePotion":"BuyBattlePotion"}],GetAssetsUi:[function(e,t,a){"use strict";cc._RF.push(t,"0c6760cO8RGEL6xFnGc4/LM","GetAssetsUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.GetAssetsType=void 0;var r,s=e("../Constants"),c=e("../GameManager"),l=e("../Sound/AudioConstants"),g=e("./UIComponent"),u=e("./UIConfig"),p=e("./UIManager"),d=cc._decorator,h=d.ccclass;d.property,function(e){e[e.Hero=1]="Hero",e[e.PetAndEquip=2]="PetAndEquip"}(r=a.GetAssetsType||(a.GetAssetsType={}));var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=r.Hero,t}return o(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t)},t.prototype.initData=function(e){this.type=e},t.prototype.onClickGoBtn=function(){c.default.getInstance().sound_manager.playSound(l.SoundIndex.click),c.default.getInstance().game_to_home=s.Go_Type.City,c.default.getInstance().jumoAndShowUi(),p.UIManager.getInstance().closeAllUiDialog(u.UILayerLevel.One),this.type==r.Hero?cc.find("Canvas/store_ui/scroll").getComponent(cc.ScrollView).scrollToTop(2):this.type==r.PetAndEquip&&cc.find("Canvas/store_ui/scroll").getComponent(cc.ScrollView).scrollToPercentVertical(.2,2),this.onClose()},i([h],t)}(g.default);a.default=f,cc._RF.pop()},{"../Constants":"Constants","../GameManager":"GameManager","../Sound/AudioConstants":"AudioConstants","./UIComponent":"UIComponent","./UIConfig":"UIConfig","./UIManager":"UIManager"}],GetHeroUi:[function(e,t,a){"use strict";cc._RF.push(t,"978b8i2axBKpIR8jCWCYA7k","GetHeroUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../GameManager"),c=e("../../Hero/Data/HeroManager"),l=e("../../Hero/Game/HeroConfig"),g=e("../../Sound/AudioConstants"),u=e("../../Tutorials/TutorailsManager"),p=e("../../UI/UIComponent"),d=cc._decorator,h=d.ccclass,f=(d.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hero_type=l.Hero_Type.ChangMaoShou,t}return o(t,e),t.prototype.initUi=function(e){var t=this;this.node.getChildByName("mask").getChildByName("icon").getComponent(cc.Sprite).spriteFrame=c.HeroManager.getInstance().getHeroSpriteFrame(e),c.HeroManager.setHeroIsNeedTip(e),this.hero_type=e,this.node.zIndex=3,u.default.getInstance().is_finish_game||u.default.getInstance().isShowTutorials(203)&&u.default.getInstance().showTutorials(203,function(){u.default.getInstance().saveTutorials(203)},function(){t.clickBtnJump()});var a=c.HeroManager.getInstance().getTeamList(r.GameMode.Main).indexOf(e);a>=0&&(c.HeroManager.getInstance().loadHeroData(e),s.default.getInstance().loadGameHeroData(),s.default.getInstance().game.loadHero(e,a))},t.prototype.clickBtnClose=function(){s.default.getInstance().sound_manager.playSound(g.SoundIndex.click),e.prototype.onClose.call(this)},t.prototype.clickBtnJump=function(){switch(s.default.getInstance().sound_manager.playSound(g.SoundIndex.click),e.prototype.onClose.call(this),s.default.getInstance().cur_game_scene){case r.GameScene.game:s.default.getInstance().game_to_home=r.Go_Type.Role,s.default.getInstance().role_show_hero=this.hero_type,s.default.getInstance().backToHome(this.hero_type);break;case r.GameScene.home:s.default.getInstance().role_show_hero=this.hero_type,s.default.getInstance().jumoToUi(r.Btn_Index.Btn_Role)}},i([h],t)}(p.default));a.default=f,cc._RF.pop()},{"../../Constants":"Constants","../../GameManager":"GameManager","../../Hero/Data/HeroManager":"HeroManager","../../Hero/Game/HeroConfig":"HeroConfig","../../Sound/AudioConstants":"AudioConstants","../../Tutorials/TutorailsManager":"TutorailsManager","../../UI/UIComponent":"UIComponent"}],GetTip:[function(e,t,a){"use strict";cc._RF.push(t,"b97adYT9e5Fxb0L6T4kO7xj","GetTip");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Constants"),s=e("../GameManager"),c=e("../Prop/Prop"),l=e("../Prop/PropManager"),g=e("../Prop/PropConfig"),u=e("../Tools/MyTool"),p=e("../Sound/AudioConstants"),d=cc._decorator,h=d.ccclass,f=(d.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.close_callback=null,t.is_can_touch=!1,t.node_list=[],t}return o(t,e),t.prototype.onLoad=function(){this.node.getChildByName("bg0").on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.close_callback=null,this.node_list=new Array},t.prototype.onDestroy=function(){var e=this.node.getChildByName("bg0");e&&e.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this)},t.prototype.onTouchStart=function(){this.is_can_touch&&(this.startFly(),this.close_callback&&this.close_callback(),this.node.removeFromParent())},t.prototype.addShowGetPorp=function(e,t){var a=this;this.close_callback=t;var n=this.node.getChildByName("propsScrollView").getComponent(cc.ScrollView).content;if(n.getComponent(cc.Layout).enabled=!1,n.parent.parent.getComponent(cc.ScrollView).enabled=!1,null==e.parent)e.parent=this.node,e.scale=0,e.setPosition(cc.v2(0,-50)),cc.tween(e).to(.2,{scale:1}).start();else{var o=cc.instantiate(e);o.scale=0,o.parent=this.node,o.setPosition(cc.v2(0,-50)),cc.tween(o).to(.2,{scale:1}).start()}this.node_list.push(e),this.scheduleOnce(function(){a.is_can_touch=!0},.2)},t.prototype.addMultiplePorp=function(e,t){var a=this;this.close_callback=t;var n=this.node.getChildByName("propsScrollView").getComponent(cc.ScrollView).content,o=e.length,i=.2*o;e.length<=5&&(n.getComponent(cc.Layout).enabled=!1,n.parent.parent.getComponent(cc.ScrollView).enabled=!1);for(var r=function(t){s.scheduleOnce(function(){var a=e[t];if(cc.log(t),null==a.parent)a.parent=n,e.length<=5&&(e.length%2==0?a.x=.5*(a.width+n.getComponent(cc.Layout).spacingX)+(a.width+n.getComponent(cc.Layout).spacingX)*t-e.length/2*(a.width+n.getComponent(cc.Layout).spacingX):a.x=(a.width+n.getComponent(cc.Layout).spacingX)*t-(e.length/2-.5)*(a.width+n.getComponent(cc.Layout).spacingX)),a.scale=0,cc.tween(a).to(.2,{scale:1}).start();else{e.length<=5&&(e.length%2==0?a.x=.5*(a.width+n.getComponent(cc.Layout).spacingX)+(a.width+n.getComponent(cc.Layout).spacingX)*t-e.length/2*(a.width+n.getComponent(cc.Layout).spacingX):a.x=(a.width+n.getComponent(cc.Layout).spacingX)*t-e.length/2*(a.width+n.getComponent(cc.Layout).spacingX));var o=cc.instantiate(a);o.scale=0,o.parent=n,o.setPosition(cc.v2(0,0)),cc.tween(o).to(.2,{scale:1}).start()}},.2*t)},s=this,c=0;c<o;c++)r(c);this.node_list=e,this.scheduleOnce(function(){a.is_can_touch=!0},i)},t.prototype.showGetPropTip=function(){},t.prototype.startFly=function(){if(s.default.getInstance().cur_game_scene==r.GameScene.home){s.default.getInstance().sound_manager.playSound(p.SoundIndex.YX_GetReward);for(var e=cc.find("Canvas/Ui_Root"),t=cc.v2(0,0),a=!1,n=0;n<this.node_list.length;n++){var o=this.node_list[n],i=o.parent.convertToWorldSpaceAR(o.getPosition()),d=e.convertToNodeSpaceAR(i),h=o.getComponent(c.default);if(!h)return;switch(h.prop_id){case g.PropId.Coin:i=(I=cc.find("Canvas/Top_Ui/top/iconCoin")).parent.convertToWorldSpaceAR(I.getPosition()),t=e.convertToNodeSpaceAR(i);for(var f=0;f<20;f++){var _=300*Math.random()-200+d.x,m=300*Math.random()-200+d.y,y=cc.v2(_,m);(M=new cc.Node).addComponent(cc.Sprite).spriteFrame=l.PropManager.getInstance().getSpByPropId(g.PropId.Coin),M.setPosition(y),e.addChild(M),cc.tween(M).then(u.default.getBezierAct(y,t)).call(function(){a||(s.default.getInstance().refreshCoinShow(),s.default.getInstance().refreshGemShow(),a=!0)}).removeSelf().start()}break;case g.PropId.Gem:var I;i=(I=cc.find("Canvas/Top_Ui/top/iconGem")).parent.convertToWorldSpaceAR(I.getPosition()),t=e.convertToNodeSpaceAR(i);for(var v=0;v<20;v++){var M;_=300*Math.random()-200+d.x,m=300*Math.random()-200+d.y,y=cc.v2(_,m),(M=new cc.Node).addComponent(cc.Sprite).spriteFrame=l.PropManager.getInstance().getSpByPropId(g.PropId.Gem),M.setPosition(y),e.addChild(M),cc.tween(M).then(u.default.getBezierAct(y,t)).call(function(){a||(s.default.getInstance().refreshGemShow(),s.default.getInstance().refreshCoinShow(),a=!0)}).removeSelf().start()}}}}},i([h],t)}(cc.Component));a.default=f,cc._RF.pop()},{"../Constants":"Constants","../GameManager":"GameManager","../Prop/Prop":"Prop","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../Tools/MyTool":"MyTool"}],GoldMallUi:[function(e,t,a){"use strict";cc._RF.push(t,"6db1e5/fstHlIs+L3JSSPIG","GoldMallUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Ads/ApkManager"),s=e("../../Equipment/Ui/EquipItem"),c=e("../../GameData"),l=e("../../GameManager"),g=e("../../JsonData/CoinShopManagement"),u=e("../../JsonData/CommodityManagement"),p=e("../../Level/LevelManager"),d=e("../../multiLanguage/FollowConstants"),h=e("../../multiLanguage/FollowManager"),f=e("../../Prop/Data/Item"),_=e("../../Prop/Prop"),m=e("../../Prop/PropConfig"),y=e("../../Prop/PropManager"),I=e("../../Sound/AudioConstants"),v=e("../../Tools/MyTool"),M=e("../UIComponent"),C=e("../UIManager"),S=cc._decorator,P=S.ccclass,k=(S.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t);var a=cc.find("Canvas");this.node.getChildByName("top").getComponent(cc.Widget).target=a,this.node.getChildByName("bottom").getComponent(cc.Widget).target=a,this.node.getChildByName("scroll").getComponent(cc.Widget).target=a,this.refreshUi(),this.refreshScroll(c.default.getInstance().checkIsNewDay()),h.default.getInstance().followEvent(d.Follow_Type.\u91d1\u5e01\u5546\u5e97\u6253\u5f00\u6b21\u6570)},t.prototype.refreshUi=function(){var e=this.node.getChildByName("top");this.node.getChildByName("bottom"),e.getChildByName("coinNum").getComponent(cc.Label).string=v.default.getCoinDanwei(y.PropManager.getInstance().getPropNum(m.PropId.Coin),1),e.getChildByName("diamondNum").getComponent(cc.Label).string=v.default.getCoinDanwei(y.PropManager.getInstance().getPropNum(m.PropId.Gem),1);var t,a,n,o,i,r,s=e.getChildByName("timeLabel"),c=new Date;t=23-c.getHours(),a=59-c.getMinutes(),n=59-c.getSeconds(),o=o<10?"0"+t:t,i=a<10?"0"+a:a,r=n<10?"0"+n:n,s.getComponent(cc.Label).string=o+":"+i+":"+r,this.schedule(function(){c=new Date,t=23-c.getHours(),a=59-c.getMinutes(),n=59-c.getSeconds(),o=o<10?"0"+t:t,i=a<10?"0"+a:a,r=n<10?"0"+n:n,s.getComponent(cc.Label).string=o+":"+i+":"+r},1,cc.macro.REPEAT_FOREVER,0)},t.prototype.refreshScroll=function(e){var t,a=this,n=this.node.getChildByName("scroll").getComponent(cc.ScrollView).content;if(n.removeAllChildren(),e){var o=p.LevelManager.getInstance().getFinishChapter(),i=this.getRandomInt(1,4);t=g.CoinShopManagementManager.getInstance().getJsonCoinShopManagement(this.getItemId(o,i)),cc.sys.localStorage.setItem("GoldMallUi_id",this.getItemId(o,i))}else o=p.LevelManager.getInstance().getFinishChapter(),i=this.getRandomInt(1,4),null!=cc.sys.localStorage.getItem("GoldMallUi_id")?t=g.CoinShopManagementManager.getInstance().getJsonCoinShopManagement(Number(cc.sys.localStorage.getItem("GoldMallUi_id"))):(t=g.CoinShopManagementManager.getInstance().getJsonCoinShopManagement(this.getItemId(o,i)),cc.sys.localStorage.setItem("GoldMallUi_id",this.getItemId(o,i)));for(var r=t.Shoplist,c=this.node.getChildByName("Shop_Shelf"),l=null,I=function(t){0!=t&&t%4!=0||((l=cc.instantiate(c)).active=!0,n.addChild(l));var o=u.CommodityManagementManager.getInstance().getJsonCommodityManagement(r[t]),i=y.PropManager.getInstance().createSalePropItem(o.GetItem,o.GetNum,m.PropAction.Buy),g=f.ItemManager.getInstance().getType(o.GetItem);if(t<4){var p=void 0;e?(p=10*v.getRandomInt(1,5),cc.sys.localStorage.setItem("GoldMallUi_discont"+t,p),cc.sys.localStorage.setItem("GoldMallUi_Item"+t,""),3==g?(i.getComponent(s.default).initSaleItem(o.CostItem,.01*o.CostNum*p,p),i.getComponent(s.default).addBuyListen(function(){i.getComponent(s.default).soldOut(),h.default.getInstance().followEvent(d.Follow_Type.\u91d1\u5e01\u5546\u5e97\u4e2d\u6210\u529f\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570),o.CostItem==m.PropId.Coin?(h.default.getInstance().addTotal(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u6d88\u8017\u7684\u91d1\u5e01\u6570\u91cf,o.CostNum),h.default.getInstance().followEvent(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u4f7f\u7528\u91d1\u5e01\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570)):o.CostItem==m.PropId.Gem&&(h.default.getInstance().addTotal(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u6d88\u8017\u7684\u94bb\u77f3\u6570\u91cf,o.CostNum),h.default.getInstance().followEvent(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u4f7f\u7528\u94bb\u77f3\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570)),cc.sys.localStorage.setItem("GoldMallUi_Item"+t,1),a.refreshUi()})):(i.getComponent(_.default).initSaleItem(o.CostItem,.01*o.CostNum*p,p),i.getComponent(_.default).addBuyListen(function(){i.getComponent(_.default).soldOut(),h.default.getInstance().followEvent(d.Follow_Type.\u91d1\u5e01\u5546\u5e97\u4e2d\u6210\u529f\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570),o.CostItem==m.PropId.Coin?(h.default.getInstance().addTotal(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u6d88\u8017\u7684\u91d1\u5e01\u6570\u91cf,o.CostNum),h.default.getInstance().followEvent(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u4f7f\u7528\u91d1\u5e01\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570)):o.CostItem==m.PropId.Gem&&(h.default.getInstance().addTotal(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u6d88\u8017\u7684\u94bb\u77f3\u6570\u91cf,o.CostNum),h.default.getInstance().followEvent(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u4f7f\u7528\u94bb\u77f3\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570)),cc.sys.localStorage.setItem("GoldMallUi_Item"+t,1),a.refreshUi()}))):(null!=cc.sys.localStorage.getItem("GoldMallUi_discont"+t)?p=Number(cc.sys.localStorage.getItem("GoldMallUi_discont"+t)):(p=10*v.getRandomInt(1,5),cc.sys.localStorage.setItem("GoldMallUi_discont"+t,p)),null==cc.sys.localStorage.getItem("GoldMallUi_Item"+t)&&cc.sys.localStorage.setItem("GoldMallUi_Item"+t,""),""!=cc.sys.localStorage.getItem("GoldMallUi_Item"+t)?3==g?i.getComponent(s.default).soldOut():i.getComponent(_.default).soldOut():3==g?(i.getComponent(s.default).initSaleItem(o.CostItem,.01*o.CostNum*p,p),i.getComponent(s.default).addBuyListen(function(){i.getComponent(s.default).soldOut(),h.default.getInstance().followEvent(d.Follow_Type.\u91d1\u5e01\u5546\u5e97\u4e2d\u6210\u529f\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570),o.CostItem==m.PropId.Coin?(h.default.getInstance().addTotal(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u6d88\u8017\u7684\u91d1\u5e01\u6570\u91cf,o.CostNum),h.default.getInstance().followEvent(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u4f7f\u7528\u91d1\u5e01\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570)):o.CostItem==m.PropId.Gem&&(h.default.getInstance().addTotal(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u6d88\u8017\u7684\u94bb\u77f3\u6570\u91cf,o.CostNum),h.default.getInstance().followEvent(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u4f7f\u7528\u94bb\u77f3\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570)),cc.sys.localStorage.setItem("GoldMallUi_Item"+t,1),a.refreshUi()})):(i.getComponent(_.default).initSaleItem(o.CostItem,.01*o.CostNum*p,p),i.getComponent(_.default).addBuyListen(function(){i.getComponent(_.default).soldOut(),h.default.getInstance().followEvent(d.Follow_Type.\u91d1\u5e01\u5546\u5e97\u4e2d\u6210\u529f\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570),o.CostItem==m.PropId.Coin?(h.default.getInstance().addTotal(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u6d88\u8017\u7684\u91d1\u5e01\u6570\u91cf,o.CostNum),h.default.getInstance().followEvent(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u4f7f\u7528\u91d1\u5e01\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570)):o.CostItem==m.PropId.Gem&&(h.default.getInstance().addTotal(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u6d88\u8017\u7684\u94bb\u77f3\u6570\u91cf,o.CostNum),h.default.getInstance().followEvent(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u4f7f\u7528\u94bb\u77f3\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570)),cc.sys.localStorage.setItem("GoldMallUi_Item"+t,1),a.refreshUi()})))}else e?(cc.sys.localStorage.setItem("GoldMallUi_Item"+t,""),3==g?(i.getComponent(s.default).initSaleItem(o.CostItem,o.CostNum),i.getComponent(s.default).addBuyListen(function(){i.getComponent(s.default).soldOut(),h.default.getInstance().followEvent(d.Follow_Type.\u91d1\u5e01\u5546\u5e97\u4e2d\u6210\u529f\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570),o.CostItem==m.PropId.Coin?(h.default.getInstance().addTotal(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u6d88\u8017\u7684\u91d1\u5e01\u6570\u91cf,o.CostNum),h.default.getInstance().followEvent(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u4f7f\u7528\u91d1\u5e01\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570)):o.CostItem==m.PropId.Gem&&(h.default.getInstance().addTotal(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u6d88\u8017\u7684\u94bb\u77f3\u6570\u91cf,o.CostNum),h.default.getInstance().followEvent(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u4f7f\u7528\u94bb\u77f3\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570)),cc.sys.localStorage.setItem("GoldMallUi_Item"+t,1),a.refreshUi()})):(i.getComponent(_.default).initSaleItem(o.CostItem,o.CostNum),i.getComponent(_.default).addBuyListen(function(){i.getComponent(_.default).soldOut(),h.default.getInstance().followEvent(d.Follow_Type.\u91d1\u5e01\u5546\u5e97\u4e2d\u6210\u529f\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570),o.CostItem==m.PropId.Coin?(h.default.getInstance().addTotal(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u6d88\u8017\u7684\u91d1\u5e01\u6570\u91cf,o.CostNum),h.default.getInstance().followEvent(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u4f7f\u7528\u91d1\u5e01\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570)):o.CostItem==m.PropId.Gem&&(h.default.getInstance().addTotal(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u6d88\u8017\u7684\u94bb\u77f3\u6570\u91cf,o.CostNum),h.default.getInstance().followEvent(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u4f7f\u7528\u94bb\u77f3\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570)),cc.sys.localStorage.setItem("GoldMallUi_Item"+t,1),a.refreshUi()}))):(null==cc.sys.localStorage.getItem("GoldMallUi_Item"+t)&&cc.sys.localStorage.setItem("GoldMallUi_Item"+t,""),""!=cc.sys.localStorage.getItem("GoldMallUi_Item"+t)?3==g?i.getComponent(s.default).soldOut():i.getComponent(_.default).soldOut():3==g?(i.getComponent(s.default).initSaleItem(o.CostItem,o.CostNum),i.getComponent(s.default).addBuyListen(function(){i.getComponent(s.default).soldOut(),h.default.getInstance().followEvent(d.Follow_Type.\u91d1\u5e01\u5546\u5e97\u4e2d\u6210\u529f\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570),o.CostItem==m.PropId.Coin?(h.default.getInstance().addTotal(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u6d88\u8017\u7684\u91d1\u5e01\u6570\u91cf,o.CostNum),h.default.getInstance().followEvent(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u4f7f\u7528\u91d1\u5e01\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570)):o.CostItem==m.PropId.Gem&&(h.default.getInstance().addTotal(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u6d88\u8017\u7684\u94bb\u77f3\u6570\u91cf,o.CostNum),h.default.getInstance().followEvent(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u4f7f\u7528\u94bb\u77f3\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570)),cc.sys.localStorage.setItem("GoldMallUi_Item"+t,1),a.refreshUi()})):(i.getComponent(_.default).initSaleItem(o.CostItem,o.CostNum),i.getComponent(_.default).addBuyListen(function(){i.getComponent(_.default).soldOut(),h.default.getInstance().followEvent(d.Follow_Type.\u91d1\u5e01\u5546\u5e97\u4e2d\u6210\u529f\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570),o.CostItem==m.PropId.Coin?(h.default.getInstance().addTotal(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u6d88\u8017\u7684\u91d1\u5e01\u6570\u91cf,o.CostNum),h.default.getInstance().followEvent(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u4f7f\u7528\u91d1\u5e01\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570)):o.CostItem==m.PropId.Gem&&(h.default.getInstance().addTotal(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u6d88\u8017\u7684\u94bb\u77f3\u6570\u91cf,o.CostNum),h.default.getInstance().followEvent(d.Follow_Type.\u5728\u91d1\u5e01\u5546\u5e97\u4e2d\u4f7f\u7528\u94bb\u77f3\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570)),cc.sys.localStorage.setItem("GoldMallUi_Item"+t,1),a.refreshUi()})));e||1==cc.sys.localStorage.getItem("GoldMallUiItem"+t)&&(3==g?i.getComponent(s.default).soldOut():i.getComponent(_.default).soldOut()),l.addChild(i),i.y=55},v=this,M=0;M<r.length;M++)I(M)},t.prototype.clickBtnRefresh=function(){var e=this;C.UIManager.getInstance().showConsumptionTipUi(null,m.PropId.Gem,100,function(){e.refreshUi(),e.refreshScroll(!0)})},t.prototype.getItemId=function(e,t){return 1e3*e+t},t.prototype.getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},t.prototype.clickBtnClose=function(){l.default.getInstance().sound_manager.playSound(I.SoundIndex.click),this.destroySelf()},t.prototype.destroySelf=function(){e.prototype.onClose.call(this),r.default.getInstance().closeBanner()},i([P],t)}(M.default));a.default=k,cc._RF.pop()},{"../../Ads/ApkManager":"ApkManager","../../Equipment/Ui/EquipItem":"EquipItem","../../GameData":"GameData","../../GameManager":"GameManager","../../JsonData/CoinShopManagement":"CoinShopManagement","../../JsonData/CommodityManagement":"CommodityManagement","../../Level/LevelManager":"LevelManager","../../Prop/Data/Item":"Item","../../Prop/Prop":"Prop","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../Tools/MyTool":"MyTool","../../multiLanguage/FollowConstants":"FollowConstants","../../multiLanguage/FollowManager":"FollowManager","../UIComponent":"UIComponent","../UIManager":"UIManager"}],GongJi:[function(e,t,a){"use strict";cc._RF.push(t,"12889tgW/hBS6anoNV02VD6","GongJi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gongji_data=null,t}return o(t,e),t.prototype.initData=function(e){this.gongji_data=e},i([s],t)}(cc.Component));a.default=c,cc._RF.pop()},{}],GroundManager:[function(e,t,a){"use strict";cc._RF.push(t,"f098ckyQIZCW6q93ica7GMM","GroundManager");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r,s=e("./GameEffectsManager"),c=e("./MapNodePool");(function(e){e[e.shadow=1]="shadow",e[e.drop=2]="drop"})(r||(r={}));var l=cc._decorator,g=l.ccclass,u=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var a;return o(t,e),a=t,t.getInstance=function(){return this._instance},t.prototype.onLoad=function(){a._instance=this},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this),a._instance=null},t.prototype.createGameEffectById=function(e,t,a){void 0===a&&(a=0);var n=s.GameEffectsManager.getInstance().createGameEffectForParent(e,t,this.node);return a&&(n.zIndex=a),n},t.prototype.createShadow=function(e){var t=s.GameEffectsManager.getInstance().createGameEffectForParent(s.GameEffectId.shadow,e,this.node);return t.setPosition(e),t.zIndex=r.shadow,t},t.prototype.createShadowByParent=function(e){var t=s.GameEffectsManager.getInstance().createGameEffectForParent(s.GameEffectId.shadow,cc.v2(0,0),e);return t.zIndex=r.shadow,t},t._instance=null,a=i([g],t)}(c.default));a.default=u,cc._RF.pop()},{"./GameEffectsManager":"GameEffectsManager","./MapNodePool":"MapNodePool"}],GuaJiBg:[function(e,t,a){"use strict";cc._RF.push(t,"4ec2dcS20FPcrtECdPSKmhR","GuaJiBg");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed_x=40,t}return o(t,e),t.prototype.start=function(){},t.prototype.update=function(e){var t=-this.speed_x*e;this.node.x+=t,this.node.x<=-1500&&(this.node.x+=3e3)},i([c()],t.prototype,"speed_x",void 0),i([s],t)}(cc.Component);a.default=l,cc._RF.pop()},{}],GuaJiGift:[function(e,t,a){"use strict";cc._RF.push(t,"3e306aF0pJHvKz3kS+PaXHk","GuaJiGift");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../JsonData/OfflineRevenue"),s=e("../../multiLanguage/FollowConstants"),c=e("../../multiLanguage/FollowManager"),l=e("../../Tools/EventManager"),g=e("../../UI/UIConfig"),u=e("../../UI/UIManager"),p=e("./OfflineUi"),d=cc._decorator,h=d.ccclass,f=(d.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.reward_num=0,t.skeleton=null,t.icon_index=0,t.is_press=!1,t}return o(t,e),t.prototype.onLoad=function(){this.skeleton=this.node.getComponent(sp.Skeleton)},t.prototype.onEnable=function(){this.cheak(),this.unschedule(this.cheak),this.schedule(this.cheak,10)},t.prototype.cheak=function(){var e=r.OfflineRevenueManager.getGuaJiMin();e>480&&(e=480),e<0&&(e=0);var t;t=e<30?0:e<60?1:e<90?2:e<120?3:e<150?4:5,this.icon_index=t,this.is_press},t.prototype.onClick=function(){var e=this;c.default.getInstance().followEvent(s.Follow_Type.\u79bb\u7ebf\u5956\u52b1\u70b9\u51fb\u6b21\u6570),u.UIManager.getInstance().showUiDialog(g.UIPath.Guaji,g.UILayerLevel.One,{onCompleted:function(t){t.getComponent(p.default).init({onRefresh:function(){e.cheak(),l.EventManager.postRedEvent(l.RedEventString.RED_CHECK,l.RedEventType.Btn_Main_Guaji)}})}}),this.is_press=!1,this.cheak()},i([h],t)}(cc.Component));a.default=f,cc._RF.pop()},{"../../JsonData/OfflineRevenue":"OfflineRevenue","../../Tools/EventManager":"EventManager","../../UI/UIConfig":"UIConfig","../../UI/UIManager":"UIManager","../../multiLanguage/FollowConstants":"FollowConstants","../../multiLanguage/FollowManager":"FollowManager","./OfflineUi":"OfflineUi"}],GuaJiJianShi:[function(e,t,a){"use strict";cc._RF.push(t,"ed634qeWEVD6KtbEPdaJAzx","GuaJiJianShi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("./GuaJiManager"),s=e("./GuaJiMonster"),c=cc._decorator,l=c.ccclass,g=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.jianshi_type=1,t.move_speed=1600,t.move_direction=Math.PI/2,t.jiantou_dis=16,t.is_att=!1,t.offset_xx_angle=90,t.collision_monster_callback=null,t.max_move_distance=0,t.cur_move_distance=0,t.spin_speed=0,t.init_finish_callback=null,t.acceleration=0,t.tuowei=null,t}return o(t,e),t.prototype.onLoad=function(){this.jiantou_dis=this.node.height/4},t.prototype.init=function(e,t,a){void 0===a&&(a=!1),this.setDirection(e),this.is_att=!1,this.jianshi_type=t,a&&(this.tuowei=r.default.getInstance().createTuoWei(this.node.getPosition()))},t.prototype.getJianTouPos=function(){var e=this.node.x+Math.cos(this.move_direction)*this.jiantou_dis,t=this.node.y+Math.sin(this.move_direction)*this.jiantou_dis;return cc.v2(e,t)},t.prototype.update=function(e){this.move_speed+=this.acceleration;var t=this.node.getPosition(),a=this.move_speed*e*Math.cos(this.move_direction),n=this.move_speed*e*Math.sin(this.move_direction);if(this.node.x+=a,this.node.y+=n,this.node.y>cc.winSize.height&&this.destroySelf(),Math.abs(this.node.x)>cc.winSize.width&&this.destroySelf(),this.tuowei){var o=this.node.getPosition(),i=o.sub(t),r=4*i.mag(),s=Math.atan2(i.y,i.x),c=o.x+Math.cos(s)*r,l=o.y+Math.sin(s)*r;this.tuowei.setPosition(cc.v2(c,l))}},t.prototype.destroySelf=function(){if(this.tuowei){var e=this.tuowei.getComponent(cc.MotionStreak).fadeTime;cc.tween(this.tuowei).delay(e/10).removeSelf().start(),this.tuowei=null}this.node.removeFromParent()},t.prototype.setDirection=function(e){this.move_direction=e,this.node.angle=180*e/Math.PI-this.offset_xx_angle},t.prototype.onCollisionEnter=function(e){switch(e.node.group){case"enemy":switch(this.jianshi_type){case 1:0==this.is_att&&((t=e.node.getComponent(s.default)).getIsDie()||(this.is_att=!0,t.changeHp(),r.default.getInstance().createHit(this.getJianTouPos()),this.destroySelf()));break;case 2:var t;0==this.is_att&&((t=e.node.getComponent(s.default)).getIsDie()||(this.is_att=!0,t.changeHp(),r.default.getInstance().createPetHit(this.getJianTouPos()),this.destroySelf()))}}},i([l],t)}(cc.Component));a.default=g,cc._RF.pop()},{"./GuaJiManager":"GuaJiManager","./GuaJiMonster":"GuaJiMonster"}],GuaJiManager:[function(e,t,a){"use strict";cc._RF.push(t,"eefebGDUNdBSbgUE73SCsyg","GuaJiManager");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("./GuaJiJianShi"),s=e("./GuaJiMonster"),c=e("./GuaJiRes"),l=cc._decorator,g=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefabs_guaji_monster=[],t.prefab_jianshi=null,t.prefab_shadow=null,t.prefab_hit=null,t.prefab_pet_hit=null,t.prefab_tuowei=null,t.prefab_bullect=null,t.prefab_res=null,t.jianshi_root=null,t.guawi_root=null,t.shadow_root=null,t.hit_root=null,t.tuowei_root=null,t.res_root=null,t.bg_speed_x=40,t.box_pos=cc.v2(0,0),t}var a;return o(t,e),a=t,t.getInstance=function(){if(null==this._instance){var e=new cc.Node;cc.director.getScene().getChildByName("Canvas").addChild(e),this._instance=e.addComponent(a)}return this._instance},t.prototype.onLoad=function(){a._instance=this,this.jianshi_root=this.node.getChildByName("jianshi_root"),this.guawi_root=this.node.getChildByName("guawi_root"),this.shadow_root=this.node.getChildByName("shadow_root"),this.hit_root=this.node.getChildByName("hit_root"),this.tuowei_root=this.node.getChildByName("tuowei_root"),this.res_root=this.node.getChildByName("res_root"),cc.director.getCollisionManager().enabled=!0,this.box_pos=cc.find("Canvas/main_ui/Main_Icon_Idle").getPosition()},t.prototype.start=function(){this.schedule(this.startMonster,3),this.startMonster()},t.prototype.startMonster=function(){var e=this.node.getChildByName("hero").getPosition();this.createGuaJiMonster(cc.v2(480+200*Math.random()-100,e.y-100+80*Math.random()-80)),this.createGuaJiMonster(cc.v2(580+200*Math.random(),e.y-100+80*Math.random()-80))},t.prototype.onDestroy=function(){a._instance=null},t.prototype.createGuaJiMonster=function(e){var t=Math.floor(Math.random()*this.prefabs_guaji_monster.length),a=cc.instantiate(this.prefabs_guaji_monster[t]);return this.guawi_root.addChild(a),a.setPosition(e),a.getComponent(s.default).init(),a.zIndex=-e.y,a},t.prototype.createShadow=function(e){var t=cc.instantiate(this.prefab_shadow);return this.shadow_root.addChild(t),t.setPosition(e),t},t.prototype.createJianShi=function(e,t){var a=cc.instantiate(this.prefab_jianshi);return this.jianshi_root.addChild(a),a.setPosition(e),a.getComponent(r.default).init(t,1),a},t.prototype.createPetBullect=function(e,t){var a=cc.instantiate(this.prefab_bullect);return this.jianshi_root.addChild(a),a.setPosition(e),a.getComponent(r.default).init(t,2,!0),a},t.prototype.createHit=function(e){var t=cc.instantiate(this.prefab_hit);this.hit_root.addChild(t),t.setPosition(e);var a=t.getComponent(cc.Animation);return a.play(),a.on(cc.Animation.EventType.FINISHED,function(){t.removeFromParent()}),t},t.prototype.createPetHit=function(e){var t=cc.instantiate(this.prefab_pet_hit);this.hit_root.addChild(t),t.setPosition(e);var a=t.getComponent(cc.Animation);return a.play(),a.on(cc.Animation.EventType.FINISHED,function(){t.removeFromParent()}),t},t.prototype.createTuoWei=function(e){var t=cc.instantiate(this.prefab_tuowei);return this.tuowei_root.addChild(t),t.setPosition(e),t},t.prototype.createRes=function(e,t){var a=cc.instantiate(this.prefab_res);return this.res_root.addChild(a),a.setPosition(t),a.getComponent(c.default).init(e),a},t.prototype.getMonstersForNearest=function(e,t,a){if(0==e)return null;var n=this.guawi_root.childrenCount;if(n<=0)return null;for(var o=[],i=0;i<n;i++){var r=this.guawi_root.children[i];r.getComponent(s.default).getIsCanCheak()&&t.sub(r.getPosition()).mag()<=a&&o.push(r)}return o.length<=0?null:e>=o.length?o:(o.sort(function(e,t){return e.x-t.x}),o.splice(e),o)},t.prototype.getCollisionMonster=function(e,t,a){if(0==e)return null;var n=this.guawi_root.childrenCount;if(n<=0)return null;for(var o=[],i=0;i<n;i++){var r=this.guawi_root.children[i];r.getComponent(s.default).getIsCanCheak()&&t.sub(r.getPosition()).mag()<=a&&o.push(r)}return o.length<=0?null:e<0?o:e>=o.length?o:(o.sort(function(e,a){return e.getPosition().sub(t).mag()-a.getPosition().sub(t).mag()}),o.splice(e),o)},t._instance=null,i([u([cc.Prefab])],t.prototype,"prefabs_guaji_monster",void 0),i([u(cc.Prefab)],t.prototype,"prefab_jianshi",void 0),i([u(cc.Prefab)],t.prototype,"prefab_shadow",void 0),i([u(cc.Prefab)],t.prototype,"prefab_hit",void 0),i([u(cc.Prefab)],t.prototype,"prefab_pet_hit",void 0),i([u(cc.Prefab)],t.prototype,"prefab_tuowei",void 0),i([u(cc.Prefab)],t.prototype,"prefab_bullect",void 0),i([u(cc.Prefab)],t.prototype,"prefab_res",void 0),a=i([g],t)}(cc.Component);a.default=p,cc._RF.pop()},{"./GuaJiJianShi":"GuaJiJianShi","./GuaJiMonster":"GuaJiMonster","./GuaJiRes":"GuaJiRes"}],GuaJiMonster:[function(e,t,a){"use strict";cc._RF.push(t,"f772b4CfC5OcakYvkyezXUJ","GuaJiMonster");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Enemy/EnemyConfig"),s=e("../Prop/PropConfig"),c=e("./GuaJiManager"),l=cc._decorator,g=l.ccclass,u=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spine=null,t.cur_move_speed=80,t.move_direction=Math.PI,t.cur_hp=1,t.max_hp=1,t.shadow=null,t.shadow_pos=null,t.shadow_size=null,t.att_jiange=1,t.att_jishu=0,t.monster_state=r.Enemy_State.standby,t.injured_action=null,t.juji_pos=cc.v2(0,0),t}return o(t,e),t.prototype.onLoad=function(){this.spine=this.node.getComponent(sp.Skeleton);var e=this.node.getChildByName("juji");this.juji_pos=cc.v2(e.x*this.node.scaleX,e.y*this.node.scaleY);var t=this.node.getChildByName("shadow");this.shadow_pos=t.getPosition(),this.shadow_pos.y-=50,this.shadow=c.default.getInstance().createShadow(cc.v2(1280,0)),this.shadow.setContentSize(t.width*this.node.scaleX,t.height*this.node.scaleY),this.update(.016)},t.prototype.init=function(){this.startWall()},t.prototype.getIsDie=function(){return this.monster_state==r.Enemy_State.die},t.prototype.getEnemyState=function(){return this.monster_state},t.prototype.getIsCanCheak=function(){var e=!0;return this.getIsDie()&&(e=!1),e},t.prototype.getMaxHp=function(){return this.max_hp},t.prototype.getCurHp=function(){return this.cur_hp},t.prototype.getIsFullHp=function(){return this.cur_hp>=this.max_hp},t.prototype.getJuJiPos=function(){return this.node.getPosition().add(this.juji_pos)},t.prototype.getShadowPos=function(){return this.node.getPosition().add(cc.v2(this.shadow_pos.x*this.node.scaleX,this.shadow_pos.y*this.node.scaleY))},t.prototype.setEnemyState=function(e){e!=this.monster_state&&(this.monster_state=e)},t.prototype.startWall=function(){this.monster_state=r.Enemy_State.move,this.playSpinAnimaton("Side_Walk",!0),this.spine.timeScale=1.1,this.cur_move_speed=160},t.prototype.startDeath=function(){var e=this;this.spine.timeScale=1,this.cur_move_speed=c.default.getInstance().bg_speed_x,this.monster_state=r.Enemy_State.die,this.node.getComponent(cc.Collider).enabled=!1,this.spine.paused=!1,this.node.stopAllActions(),cc.tween(this.node).to(.18,{color:cc.color(255,255,255)}).start(),this.playDeadAnimaton("Side_Death",function(){cc.tween(e.shadow).to(.5,{opacity:0}).removeSelf().start(),cc.tween(e.node).to(.5,{opacity:0}).removeSelf().start()}),c.default.getInstance().createRes(s.PropId.Coin,this.shadow.getPosition()),c.default.getInstance().createRes(s.PropId.Coin,this.shadow.getPosition()),c.default.getInstance().createRes(s.PropId.HeroExp,this.shadow.getPosition())},t.prototype.startHurt=function(){this.injured_action&&this.injured_action.stop(),this.node.color=cc.Color.RED,this.injured_action=cc.tween(this.node).to(.18,{color:cc.color(255,255,255)}).start()},t.prototype.playSpinAnimaton=function(e,t,a,n){if(void 0===t&&(t=!1),this.getEnemyState()!=r.Enemy_State.die){var o=this.spine.setAnimation(0,e,t);a&&this.spine.setTrackEventListener(o,function(e,t){t.data.name==a.name&&a.callback()}),n&&this.spine.setTrackCompleteListener(o,function(){o.listener=null,n()})}},t.prototype.playDeadAnimaton=function(e,t){var a=this.spine.setAnimation(0,e,!1);this.spine.setTrackCompleteListener(a,function(){a.listener=null,t()})},t.prototype.changeHp=function(){if(this.getIsDie())return!0;var e=!1;return this.cur_hp-=1,this.startHurt(),this.cur_hp<=0&&(this.startDeath(),e=!0),this.cur_hp>this.max_hp&&(this.cur_hp=this.max_hp),e},t.prototype.update=function(e){this.moving(e)},t.prototype.moving=function(e){var t=this.node.x,a=this.node.y,n=this.cur_move_speed*e;t+=n*Math.cos(this.move_direction),a+=n*Math.sin(this.move_direction),this.node.x=t,this.node.y=a,this.node.x<-64&&(this.node.x=-64),this.shadow.setPosition(this.getShadowPos())},i([g],t)}(cc.Component));a.default=u,cc._RF.pop()},{"../Enemy/EnemyConfig":"EnemyConfig","../Prop/PropConfig":"PropConfig","./GuaJiManager":"GuaJiManager"}],GuaJiPet:[function(e,t,a){"use strict";cc._RF.push(t,"093c7sD39FOTrC5TD9epz2M","GuaJiPet");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Hero/Game/HeroConfig"),s=e("../Monster/MonsterData"),c=e("./GuaJiManager"),l=e("./GuaJiMonster"),g=cc._decorator,u=g.ccclass,p=(g.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spine=null,t.hero_state=r.Hero_State.idle,t.gongji_jishu=1,t.gongji_jiange=.25,t.bullet_pos=cc.v2(),t.is_can_gongji=!0,t}return o(t,e),t.prototype.onLoad=function(){this.bullet_pos=this.node.getPosition().add(this.node.getChildByName("bullect").getPosition().mul(this.node.scaleY)),this.spine=this.node.getComponent(sp.Skeleton),this.startIdle()},t.prototype.playSpineAnimaton=function(e,t,a,n){void 0===t&&(t=!1);var o=this.spine.setAnimation(0,e,t);a&&this.spine.setTrackEventListener(o,function(e,t){t.data.name==a.name&&a.callback()}),n&&this.spine.setTrackCompleteListener(o,function(){o.listener=null,n()})},t.prototype.update=function(e){this.checkAttack(e)},t.prototype.checkAttack=function(e){if(1==this.is_can_gongji&&(this.gongji_jishu+=e,this.gongji_jishu>=this.gongji_jiange)){var t=c.default.getInstance().getMonstersForNearest(1,this.node.getPosition(),640);t&&this.startAtt(t[0].getComponent(l.default).getJuJiPos())}},t.prototype.startIdle=function(){this.playSpineAnimaton("Side_Idle",!0)},t.prototype.startAtt=function(e){var t=this;this.gongji_jishu=0,this.is_can_gongji=!1;var a=new s.KeyFrameData;a.name="OnDamaging",a.callback=function(){var a=e.sub(t.bullet_pos),n=Math.atan2(a.y,a.x);c.default.getInstance().createPetBullect(t.bullet_pos,n),t.is_can_gongji=!0},this.playSpineAnimaton("Side_Attack",!1,a,function(){t.startIdle()})},i([u],t)}(cc.Component));a.default=p,cc._RF.pop()},{"../Hero/Game/HeroConfig":"HeroConfig","../Monster/MonsterData":"MonsterData","./GuaJiManager":"GuaJiManager","./GuaJiMonster":"GuaJiMonster"}],GuaJiRes:[function(e,t,a){"use strict";cc._RF.push(t,"90b7f0AwzZJ6rWu6MHmDOip","GuaJiRes");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("./GuaJiManager"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.is_follow_bg=!1,t}return o(t,e),t.prototype.init=function(){var e=this,t=20*Math.random()+30;t*=Math.random()<.5?1:-1;var a=20*Math.random()+30;cc.tween(this.node).then(cc.jumpBy(.5,t,0,a,1)).call(function(){e.is_follow_bg=!0}).delay(1).call(function(){e.is_follow_bg=!1}).to(.3*Math.random()+.3,{x:r.default.getInstance().box_pos.x,y:r.default.getInstance().box_pos.y,opacity:168}).removeSelf().start()},t.prototype.update=function(e){if(this.is_follow_bg){var t=-r.default.getInstance().bg_speed_x*e;this.node.x+=t}},i([c],t)}(cc.Component));a.default=l,cc._RF.pop()},{"./GuaJiManager":"GuaJiManager"}],GuaJiSheShou:[function(e,t,a){"use strict";cc._RF.push(t,"2c2a2+OAsFFJI/thLz8q/Vm","GuaJiSheShou");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Hero/Game/HeroConfig"),s=e("../Monster/MonsterData"),c=e("./GuaJiManager"),l=e("./GuaJiMonster"),g=cc._decorator,u=g.ccclass,p=(g.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spine=null,t.hero_state=r.Hero_State.idle,t.gongji_jishu=1,t.gongji_jiange=.2,t.bullet_pos=cc.v2(),t.is_can_gongji=!0,t}return o(t,e),t.prototype.onLoad=function(){this.bullet_pos=this.node.getPosition().add(this.node.getChildByName("bullect").getPosition().mul(this.node.scaleY)),this.spine=this.node.getComponent(sp.Skeleton),this.startIdle()},t.prototype.getBullectPos=function(){return this.node.getPosition().add(this.node.getChildByName("bullect").getPosition().mul(this.node.scaleY))},t.prototype.playSpineAnimaton=function(e,t,a,n){void 0===t&&(t=!1);var o=this.spine.setAnimation(0,e,t);a&&this.spine.setTrackEventListener(o,function(e,t){t.data.name==a.name&&a.callback()}),n&&this.spine.setTrackCompleteListener(o,function(){o.listener=null,n()})},t.prototype.update=function(e){this.checkAttack(e)},t.prototype.checkAttack=function(e){if(1==this.is_can_gongji&&(this.gongji_jishu+=e,this.gongji_jishu>=this.gongji_jiange)){var t=c.default.getInstance().getMonstersForNearest(1,this.node.getPosition(),640);t&&this.startAtt(t[0])}},t.prototype.startIdle=function(){this.playSpineAnimaton("Idle",!0)},t.prototype.startAtt=function(e){var t=this;this.gongji_jishu=0,this.is_can_gongji=!1;var a=new s.KeyFrameData;a.name="Attack",a.callback=function(){t.bullet_pos=t.getBullectPos();var a=c.default.getInstance().getMonstersForNearest(1,t.node.getPosition(),640);if(a){var n=a[0].getComponent(l.default).getJuJiPos().sub(t.bullet_pos),o=Math.atan2(n.y,n.x);c.default.getInstance().createJianShi(t.bullet_pos,o)}else n=e.getComponent(l.default).getJuJiPos().sub(t.bullet_pos),o=Math.atan2(n.y,n.x),c.default.getInstance().createJianShi(t.bullet_pos,o);t.is_can_gongji=!0},this.playSpineAnimaton("Attack",!1,a,function(){t.startIdle()})},i([u],t)}(cc.Component));a.default=p,cc._RF.pop()},{"../Hero/Game/HeroConfig":"HeroConfig","../Monster/MonsterData":"MonsterData","./GuaJiManager":"GuaJiManager","./GuaJiMonster":"GuaJiMonster"}],Gully:[function(e,t,a){"use strict";cc._RF.push(t,"f6985tdhlNPLof43ERTUN/f","Gully");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../Game/GameEffectsManager"),c=e("../../GameManager"),l=e("../../Hero/Game/GongJi"),g=e("../../Monster/Monster"),u=cc._decorator,p=u.ccclass,d=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.is_end=!1,t.game_effect_id=0,t.move_speed=700,t.move_direction=Math.PI/2,t.end_height=1200,t.destory_countdown=2,t.max_time=2,t.box_collision=null,t}return o(t,e),t.prototype.onLoad=function(){this.box_collision=this.node.getComponent(cc.BoxCollider)},t.prototype.init=function(t,a,n){var o=this;e.prototype.initData.call(this,n),this.game_effect_id=t,this.move_direction=a,this.node.angle=180*a/Math.PI-90,this.destory_countdown=this.max_time,this.node.height=0,this.is_end=!1,this.node.opacity=255;var i=this.node.getComponent(cc.Animation);i.play("e30191"),this.box_collision.enabled=!0,i.on(cc.Animation.EventType.FINISHED,function(){o.box_collision.enabled=!1,i.off(cc.Animation.EventType.FINISHED),i.play("e30191_2"),o.scheduleOnce(function(){cc.tween(o.node).to(.4,{opacity:64}).start(),i.play("e30191_3"),i.on(cc.Animation.EventType.FINISHED,function(){i.off(cc.Animation.EventType.FINISHED),o.destroySelf()})},1)})},t.prototype.onCollisionEnter=function(e){if(c.default.getInstance().cur_game_state!=r.GameState.Game_Lose)switch(e.node.group){case"enemy":var t=e.node.getComponent(g.default);t.is_can_gully&&t.beFlashInjured(this.gongji_data).getDamageNum()>0&&(t.is_can_gully=!1)}},t.prototype.destroySelf=function(){s.GameEffectsManager.getInstance().destroyGameEffectById(this.game_effect_id,this.node)},i([p],t)}(l.default));a.default=d,cc._RF.pop()},{"../../Constants":"Constants","../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../../Hero/Game/GongJi":"GongJi","../../Monster/Monster":"Monster"}],HealingPotion:[function(e,t,a){"use strict";cc._RF.push(t,"d0c69hRQCNAFLI194Xm9QF1","HealingPotion");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../copy/voidcrack/RogueHexagonTypes"),s=e("../GameManager"),c=e("../multiLanguage/FollowConstants"),l=e("../multiLanguage/FollowManager"),g=e("../multiLanguage/LanguageManager"),u=e("../Sound/AudioConstants"),p=e("../UI/UIComponent"),d=e("./Data/RogueText"),h=e("./MazeManager"),f=e("./MazeUi"),_=cc._decorator,m=_.ccclass,y=(_.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.box_id=5,t.is_can_go=!1,t}return o(t,e),t.prototype.initData=function(e,t){this.box_id=e,this.is_can_go=t,this.initUi()},t.prototype.initUi=function(){var e=r.RogueHexagonTypesManager.getInstance().getHexagonType(this.box_id),t=d.RogueTextManager.getInstance().getJsonRogueText(e);this.node.getChildByName("titleLabel").getComponent(cc.Label).string=g.default.getInstance().getStrByTextId(t.Roguetitle_ID),this.node.getChildByName("contentLabel").getComponent(cc.Label).string=g.default.getInstance().getStrByTextId(t.RogueText_ID),this.node.getChildByName("btnNo").active=this.is_can_go,this.node.getChildByName("btnYes").active=this.is_can_go},t.prototype.clickBtnYes=function(){s.default.getInstance().sound_manager.playSound(u.SoundIndex.click),h.MazeManager.getInstance().setPassingId(this.box_id),h.MazeManager.getInstance().setFightingId(this.box_id),h.MazeManager.getInstance().addMazePassedId(this.box_id);var t=h.MazeManager.getInstance().getMazeHp(),a=h.MazeManager.getInstance().getMazeMaxHp(),n=a-(t+=.5*a);n<0&&(n=0),h.MazeManager.getInstance().setMazeSubHp(n),f.default.getInstance().refreshFloor(),e.prototype.onClose.call(this),l.default.getInstance().followEvent(c.Follow_Type.rogue\u73a9\u6cd5\u6cbb\u7597\u836f\u6c34\u4e8b\u4ef6)},t.prototype.clickBtnNo=function(){s.default.getInstance().sound_manager.playSound(u.SoundIndex.click),e.prototype.onClose.call(this)},i([m],t)}(p.default));a.default=y,cc._RF.pop()},{"../GameManager":"GameManager","../Sound/AudioConstants":"AudioConstants","../UI/UIComponent":"UIComponent","../copy/voidcrack/RogueHexagonTypes":"RogueHexagonTypes","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/LanguageManager":"LanguageManager","./Data/RogueText":"RogueText","./MazeManager":"MazeManager","./MazeUi":"MazeUi"}],HeroAttribute:[function(e,t,a){"use strict";cc._RF.push(t,"01110gI4B5PxJCTcHVObeGo","HeroAttribute"),Object.defineProperty(a,"__esModule",{value:!0}),a.HeroAttributeManager=a.JsonHeroAttribute=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.Attribute_ID=0,this.Hero_ID=0,this.Star=0,this.Stage=0,this.BaseHealth=0,this.BaseAttack=0,this.BaseDefense=0,this.GrowthHealth=0,this.GrowthAttack=0,this.GrowthDefense=0,this.Hit=0,this.Miss=0,this.Critical=0,this.AntiCritical=0,this.ExtraCritical=0,this.AntiExtraCritical=0};a.JsonHeroAttribute=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("HeroAttribute",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonHeroAttribute\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.Attribute_ID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonHeroAttribute=function(e){return this.data.get(e)},e.prototype.getHero_ID=function(e){return this.data.get(e).Hero_ID},e.prototype.getStar=function(e){return this.data.get(e).Star},e.prototype.getStage=function(e){return this.data.get(e).Stage},e.prototype.getBaseHealth=function(e){return this.data.get(e).BaseHealth},e.prototype.getBaseAttack=function(e){return this.data.get(e).BaseAttack},e.prototype.getBaseDefense=function(e){return this.data.get(e).BaseDefense},e.prototype.getGrowthHealth=function(e){return this.data.get(e).GrowthHealth},e.prototype.getGrowthAttack=function(e){return this.data.get(e).GrowthAttack},e.prototype.getGrowthDefense=function(e){return this.data.get(e).GrowthDefense},e.prototype.getHit=function(e){return this.data.get(e).Hit},e.prototype.getMiss=function(e){return this.data.get(e).Miss},e.prototype.getCritical=function(e){return this.data.get(e).Critical},e.prototype.getAntiCritical=function(e){return this.data.get(e).AntiCritical},e.prototype.getExtraCritical=function(e){return this.data.get(e).ExtraCritical},e.prototype.getAntiExtraCritical=function(e){return this.data.get(e).AntiExtraCritical},e.getMaxAttribute_ID=function(){return 12026},e.getId=function(e,t){return 1e3*e+t},e.prototype.getStarByHeroTypeAndStage=function(e,t){var a=null;return this.data.forEach(function(n){e==n.Hero_ID&&t==n.Stage&&(a=n)}),null==a?0:a.Star},e.prototype.getJsonDataByHeroTypeAndStage=function(e,t){var a=null;return this.data.forEach(function(n){e==n.Hero_ID&&t==n.Stage&&(a=n)}),a},e._instance=null,e}();a.HeroAttributeManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],HeroBaseInfo:[function(e,t,a){"use strict";cc._RF.push(t,"7e7d2B/l4lHMrmTVFjob6uI","HeroBaseInfo"),Object.defineProperty(a,"__esModule",{value:!0}),a.HeroBaseInfoManager=a.JsonHeroBaseInfo=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.Hero_ID=0,this.Quality=0,this.MaxStage=0,this.MaxLevel=0,this.SkillNum=0,this.NameText_ID=0,this.PassiveIntro_1=0,this.PassiveDescription_1=0,this.PassiveIntro_2=0,this.PassiveDescription_2=0,this.PassiveIntro_3=0,this.PassiveDescription_3=0,this.SkillText_ID=0,this.SkillDescription=0,this.BaseSpeed=0,this.BaseBulletSpeed=0,this.AttackRange=0,this.HeroFragment=0,this.UnlockFragmentNum=0,this.HeroPositioning=0,this.Available=0,this.FirstExclusiveWeaponID=0,this.ExclusiveWeaponFragment=0};a.JsonHeroBaseInfo=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("HeroBaseInfo",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonHeroBaseInfo\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.Hero_ID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonHeroBaseInfo=function(e){return this.data.get(e)},e.prototype.getQuality=function(e){return this.data.get(e).Quality},e.prototype.getMaxStage=function(e){return this.data.get(e).MaxStage},e.prototype.getMaxLevel=function(e){return this.data.get(e).MaxLevel},e.prototype.getSkillNum=function(e){return this.data.get(e).SkillNum},e.prototype.getNameText_ID=function(e){return this.data.get(e).NameText_ID},e.prototype.getPassiveIntro_1=function(e){return this.data.get(e).PassiveIntro_1},e.prototype.getPassiveDescription_1=function(e){return this.data.get(e).PassiveDescription_1},e.prototype.getPassiveIntro_2=function(e){return this.data.get(e).PassiveIntro_2},e.prototype.getPassiveDescription_2=function(e){return this.data.get(e).PassiveDescription_2},e.prototype.getPassiveIntro_3=function(e){return this.data.get(e).PassiveIntro_3},e.prototype.getPassiveDescription_3=function(e){return this.data.get(e).PassiveDescription_3},e.prototype.getSkillText_ID=function(e){return this.data.get(e).SkillText_ID},e.prototype.getSkillDescription=function(e){return this.data.get(e).SkillDescription},e.prototype.getBaseSpeed=function(e){return this.data.get(e).BaseSpeed},e.prototype.getBaseBulletSpeed=function(e){return this.data.get(e).BaseBulletSpeed},e.prototype.getAttackRange=function(e){return this.data.get(e).AttackRange},e.prototype.getHeroFragment=function(e){return this.data.get(e).HeroFragment},e.prototype.getUnlockFragmentNum=function(e){return this.data.get(e).UnlockFragmentNum},e.prototype.getHeroPositioning=function(e){return this.data.get(e).HeroPositioning},e.prototype.getAvailable=function(e){return this.data.get(e).Available},e.prototype.getFirstExclusiveWeaponID=function(e){return this.data.get(e).FirstExclusiveWeaponID},e.prototype.getExclusiveWeaponFragment=function(e){return this.data.get(e).ExclusiveWeaponFragment},e.getMaxHero_ID=function(){return 12},e.prototype.getData=function(){return this.data},e.prototype.getArrayData=function(){var e=[];return this.data.forEach(function(t){e.push(t)}),e},e._instance=null,e}();a.HeroBaseInfoManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],HeroConfig:[function(e,t,a){"use strict";cc._RF.push(t,"aa1e4Eiz2FIAozenwuZV/P0","HeroConfig"),Object.defineProperty(a,"__esModule",{value:!0}),a.AttributeData=a.HaloData=a.HaloId=a.BuffId=a.BuffType=a.BuffStateType=a.ShieldId=a.ShieldType=a.DamageType=a.BingNvWallData=a.Hero_State_Name=a.SkillIndicatorType=a.Hero_DeBuff=a.SkillType=a.FeiBiao_Type=a.PaoDan_Type=a.JianShi_Type=a.GongJi_FangXiang=a.AttRangeType=a.Hero_State=a.Btn_Hero_Type=a.Hero_Type=a.SkillTipType=a.HeroInfo=void 0;var n;a.HeroInfo=function(){this.hero_type=n.ChangMaoShou,this.hero_level=0,this.hero_quality=1,this.hero_stage=0,this.pet_id=0,this.exclusive_equip_stage=0,this.wear1=0,this.wear2=0,this.wear3=0,this.wear4=0},function(e){e[e.Full=0]="Full",e[e.Circle=1]="Circle",e[e.Rect=2]="Rect",e[e.Dir=3]="Dir"}(a.SkillTipType||(a.SkillTipType={})),function(e){e[e.NULL=0]="NULL",e[e.ChangMaoShou=1]="ChangMaoShou",e[e.ShouWang=2]="ShouWang",e[e.PaoShou=3]="PaoShou",e[e.DeLuYi=4]="DeLuYi",e[e.KuangZhanShi=5]="KuangZhanShi",e[e.ZhenDe=6]="ZhenDe",e[e.NvWu=7]="NvWu",e[e.GongJianShou=8]="GongJianShou",e[e.BingNv=9]="BingNv",e[e.ANuBiSi=10]="ANuBiSi",e[e.MeiMo=11]="MeiMo",e[e.LeiShen=12]="LeiShen",e[e.Hero_Num=13]="Hero_Num"}(n=a.Hero_Type||(a.Hero_Type={})),function(e){e[e.role=1]="role",e[e.map=2]="map"}(a.Btn_Hero_Type||(a.Btn_Hero_Type={})),function(e){e[e.idle=0]="idle",e[e.attack=1]="attack",e[e.skill=2]="skill",e[e.exit=3]="exit"}(a.Hero_State||(a.Hero_State={})),function(e){e[e.LuDi=1]="LuDi",e[e.TianKong=2]="TianKong",e[e.DunDi=3]="DunDi"}(a.AttRangeType||(a.AttRangeType={})),function(e){e[e.zuo=0]="zuo",e[e.zhong=1]="zhong",e[e.you=2]="you"}(a.GongJi_FangXiang||(a.GongJi_FangXiang={})),function(e){e[e.putong=0]="putong",e[e.jineng=1]="jineng",e[e.super=2]="super"}(a.JianShi_Type||(a.JianShi_Type={})),function(e){e[e.skill=0]="skill",e[e.super=1]="super",e[e.exclusive=2]="exclusive"}(a.PaoDan_Type||(a.PaoDan_Type={})),function(e){e[e.skill1=0]="skill1",e[e.ex_skill=1]="ex_skill"}(a.FeiBiao_Type||(a.FeiBiao_Type={})),function(e){e[e.Null=0]="Null",e[e.Active=1]="Active",e[e.Passive_1=2]="Passive_1",e[e.Passive_2=3]="Passive_2"}(a.SkillType||(a.SkillType={})),function(e){e[e.XuanYun=1]="XuanYun",e[e.crit_increase_cd_3=2]="crit_increase_cd_3"}(a.Hero_DeBuff||(a.Hero_DeBuff={})),function(e){e[e.beeline=0]="beeline",e[e.target=1]="target"}(a.SkillIndicatorType||(a.SkillIndicatorType={})),function(e){e.Idle="Idle",e.cmdj="cemian_daiji",e.Attack="Attack",e.Skill="Skill"}(a.Hero_State_Name||(a.Hero_State_Name={}));var o;a.BingNvWallData=function(){this.boss_ts=null,this.back_monsters=[]},function(e){e[e.Normal=1]="Normal",e[e.Skill=2]="Skill",e[e.Ship=3]="Ship"}(a.DamageType||(a.DamageType={})),function(e){e[e.Normal=1]="Normal",e[e.Skill=2]="Skill",e[e.All=3]="All"}(a.ShieldType||(a.ShieldType={})),function(e){e[e.PaoShou_ActiveSkill=1]="PaoShou_ActiveSkill",e[e.RenZhe_Skill2=2]="RenZhe_Skill2",e[e.Test=3]="Test"}(a.ShieldId||(a.ShieldId={})),function(e){e[e.Null=0]="Null",e[e.Attack=1]="Attack",e[e.AttackSpeed=2]="AttackSpeed",e[e.Defense=3]="Defense",e[e.Health=4]="Health",e[e.HitRate=5]="HitRate",e[e.CritRate=6]="CritRate",e[e.ExtraCritical=7]="ExtraCritical",e[e.Miss=8]="Miss",e[e.AntiCritical=9]="AntiCritical",e[e.AntiExtraCritical=10]="AntiExtraCritical",e[e.ColdTime=11]="ColdTime"}(a.BuffStateType||(a.BuffStateType={})),function(e){e[e.Normal=0]="Normal",e[e.Vertigo=1]="Vertigo",e[e.Binding=2]="Binding",e[e.Slowdown=3]="Slowdown",e[e.Traction=4]="Traction",e[e.Knockback=5]="Knockback",e[e.Confine=6]="Confine",e[e.Burst=7]="Burst",e[e.Gain=8]="Gain",e[e.MoveSpeedUp=9]="MoveSpeedUp",e[e.AttSpeedUp=10]="AttSpeedUp",e[e.SeriouslyInjured=11]="SeriouslyInjured"}(a.BuffType||(a.BuffType={})),function(e){e[e.Null=0]="Null",e[e.Hero_XuanYun=10001]="Hero_XuanYun",e[e.Hero_DeLuYi_Ex=10401]="Hero_DeLuYi_Ex",e[e.Hero_KuangZhanShi_DaZhao=10501]="Hero_KuangZhanShi_DaZhao",e[e.Hero_ZhenDe_BaoJiMingZhongLv=10601]="Hero_ZhenDe_BaoJiMingZhongLv",e[e.Hero_ZhenDe_Gongsu=10602]="Hero_ZhenDe_Gongsu",e[e.Hero_ZhenDe_JiaXueJianShang=10603]="Hero_ZhenDe_JiaXueJianShang",e[e.Hero_NvWu_Skill1_Zhongdu=10701]="Hero_NvWu_Skill1_Zhongdu",e[e.Hero_NvWu_Skill1_ZhongShang=10702]="Hero_NvWu_Skill1_ZhongShang",e[e.Hero_NvWu_ExSkill_JianGongSu=10703]="Hero_NvWu_ExSkill_JianGongSu",e[e.Hero_ChangMaoShow_Skill=10801]="Hero_ChangMaoShow_Skill",e[e.Hero_ChangMaoShow_GongSu=10803]="Hero_ChangMaoShow_GongSu",e[e.Hero_BingNv_Skill1_JianSu=10901]="Hero_BingNv_Skill1_JianSu",e[e.Hero_ANuBiSi_Skill1_JianSu=11001]="Hero_ANuBiSi_Skill1_JianSu",e[e.Hero_ANuBiSi_Active_Skill_JianSu=11002]="Hero_ANuBiSi_Active_Skill_JianSu",e[e.Hero_MeiMo_GongSu=11101]="Hero_MeiMo_GongSu",e[e.Hero_MeiMo_Active_MeiHuo=11111]="Hero_MeiMo_Active_MeiHuo",e[e.Hero_MeiMo_Active_ZhengShang=11112]="Hero_MeiMo_Active_ZhengShang",e[e.Hero_LeiShen_ChaoFuHe=11201]="Hero_LeiShen_ChaoFuHe",e[e.Monster_XuanYun=20001]="Monster_XuanYun",e[e.Elite68_NiuJiangJun_JiaSu=26801]="Elite68_NiuJiangJun_JiaSu",e[e.Elite71_FishBully_JiaYiSu=27101]="Elite71_FishBully_JiaYiSu",e[e.Elite71_FishBully_JiaGongSu=27202]="Elite71_FishBully_JiaGongSu",e[e.Boss_Mode_JianShang=30001]="Boss_Mode_JianShang",e[e.Boss2_MianYi_Attack=30201]="Boss2_MianYi_Attack",e[e.Boss3_JIAN_GongSu=30301]="Boss3_JIAN_GongSu",e[e.Boss3_MianYi_KongZhi=30302]="Boss3_MianYi_KongZhi",e[e.Boss5_Skill_1_guwu=30501]="Boss5_Skill_1_guwu",e[e.Boss6_Skill_2_jiangongsu=30601]="Boss6_Skill_2_jiangongsu",e[e.Boss8_Skill_2_shanghai=30801]="Boss8_Skill_2_shanghai",e[e.Boss8_Skill_2_attack=30802]="Boss8_Skill_2_attack",e[e.Boss8_Skill_1_jiaxue=30803]="Boss8_Skill_1_jiaxue",e[e.Boss9_Skill_1_guozai=30901]="Boss9_Skill_1_guozai",e[e.Boss9_Skill_3_widu=30902]="Boss9_Skill_3_widu",e[e.Boss10_Skill_3_guwu=31001]="Boss10_Skill_3_guwu",e[e.Boss10_Skill_4_kuangbao_gs=31011]="Boss10_Skill_4_kuangbao_gs",e[e.Boss10_Skill_4_kuangbao_gjl=31012]="Boss10_Skill_4_kuangbao_gjl",e[e.Wall_Endless_Add_hp=40100]="Wall_Endless_Add_hp",e[e.Wall_Tutorial_Add_hp=40200]="Wall_Tutorial_Add_hp",e[e.Pet1_JianSu=50101]="Pet1_JianSu",e[e.Pet3_JiaSu=50301]="Pet3_JiaSu"}(a.BuffId||(a.BuffId={})),function(e){e[e.Null=0]="Null",e[e.Monster30_BianFu_Skill_Halo=23001]="Monster30_BianFu_Skill_Halo",e[e.Monster69_NiuSaMan_Skill_Halo=26901]="Monster69_NiuSaMan_Skill_Halo",e[e.Monster76_JianDuZhe_Skill_Halo=27601]="Monster76_JianDuZhe_Skill_Halo"}(o=a.HaloId||(a.HaloId={}));a.HaloData=function(){this.halo_id=o.Null,this.halo_value=[],this.halo_source_uuid=""};a.AttributeData=function(){this.Attack=0,this.Defense=0,this.Health=0,this.Hit=0,this.Miss=0,this.Critical=0,this.ExtraCritical=0,this.AntiCritical=0,this.AntiExtraCritical=0,this.attack_increase_damage=0,this.skill_increase_damage=0,this.all_increase_damage=0,this.reduce_injury_value=0,this.reduce_injury_rate=0,this.ColdDown=null,this.SkillValue_x=null,this.SkillValue_y=null,this.SkillValue_z=null,this.SkillValue_4=null,this.unlock_state=null,this.life_recovery=0,this.penetration_value=0,this.penetration_rate=0,this.blood_sucking_rate=0,this.serious_injury_rate=0,this.slow_resistance=0,this.toughness=0,this.insight=0},cc._RF.pop()},{}],HeroDamage:[function(e,t,a){"use strict";cc._RF.push(t,"1ed3cP1gSlPOYpg85qy9Aq6","HeroDamage");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../GameManager"),s=e("../../Hero/Data/HeroManager"),c=e("../../Hero/Game/HeroConfig"),l=e("../../Tools/MyTool"),g=cc._decorator,u=g.ccclass,p=g.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab_hero_stats=null,t.hero_stats_parent=null,t.hero=[],t}return o(t,e),t.prototype.onEnable=function(){this.showStats()},t.prototype.showStats=function(){for(var e=s.HeroManager.getInstance(),t=r.default.getInstance().cur_team_list,a=r.default.getInstance().hero_attack_dps,n=r.default.getInstance().hero_skill_dps,o=0,i=0;i<c.Hero_Type.Hero_Num;i++)a[i]+n[i]>o&&(o=a[i]+n[i]);var g=[];for(i=0;i<5;i++){var u=t[i];u>0&&g.push(u)}for(var p=0-(this.prefab_hero_stats.data.height/2+10),d=this.prefab_hero_stats.data.height+10+5,h=this.hero.length;h<g.length;h++){var f=cc.instantiate(this.prefab_hero_stats);this.hero_stats_parent.addChild(f),p=p-f.height-5,d+=f.height+5,f.setPosition(0,p),this.hero.push(f)}this.hero_stats_parent.height<100&&(this.hero_stats_parent.height=d+10);for(var _,m,y=[],I=0,v=0;v<this.hero.length;v++){var M=a[g[v]],C=n[g[v]];y[v]=M+C,I+=y[v]}for(var S=0;S<y.length;S++)for(var P=0;P<y.length-1;P++)y[P+1]>y[P]&&(_=y[P],y[P]=y[P+1],y[P+1]=_,m=g[P],g[P]=g[P+1],g[P+1]=m);for(var k=0;k<this.hero.length;k++){var b=this.hero[k];if(k<g.length){b.active=!0,b.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=e.getHeroSpriteFrames(g[k]);var T=(M=a[g[k]])+(C=n[g[k]]),B=0;I>0&&(B=Number((T/I*100).toFixed(0))),b.getChildByName("skillNum").getComponent(cc.Label).string=Number(l.default.numberFormat(B,0))+"%",b.getChildByName("attNum").getComponent(cc.Label).string=""+Number(l.default.numberFormat(T,0));var w=B/100;b.getChildByName("att").getComponent(cc.ProgressBar).progress=w,b.getChildByName("skill").getComponent(cc.ProgressBar).progress=w}else b.active=!1}},i([p(cc.Prefab)],t.prototype,"prefab_hero_stats",void 0),i([p(cc.Node)],t.prototype,"hero_stats_parent",void 0),i([u],t)}(cc.Component);a.default=d,cc._RF.pop()},{"../../GameManager":"GameManager","../../Hero/Data/HeroManager":"HeroManager","../../Hero/Game/HeroConfig":"HeroConfig","../../Tools/MyTool":"MyTool"}],HeroData:[function(e,t,a){"use strict";cc._RF.push(t,"f7c05oUrM9DlJSd6CHivk7e","HeroData");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)});Object.defineProperty(a,"__esModule",{value:!0}),a.GongJiData=a.HeroData=a.HeroSkillInfo=void 0;var i=e("../Game/HeroConfig");a.HeroSkillInfo=function(){this.ColdDown=0,this.SkillValue_1=0,this.SkillValue_2=0,this.SkillValue_3=0,this.SkillValue_4=0};var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.total_attack=0,t.fixed_attck=0,t.total_hp=2e3,t.fixed_hp=0,t.total_defense=0,t.fix_defense=0,t.ignore_defense_rate=0,t.gongji_jiange=1,t.base_jiange=1,t.atkSpeed=1,t.bullet_speed=1,t.crit_ex=0,t.hit_ex=0,t.gongji_fanwei=1e3,t.pet_info=null,t.pet_id=0,t.ExclusiveWeaponSkillValue_1=0,t.ExclusiveWeaponSkillValue_2=0,t.ExclusiveWeaponSkillValue_3=0,t.ExclusiveWeaponSkillValue_4=0,t}return o(t,e),t.prototype.getSkillColdDown=function(e){return this.ColdDown.get(e)},t.prototype.getSkillValue1=function(e){return this.SkillValue_x.get(e)},t.prototype.getSkillValue2=function(e){return this.SkillValue_y.get(e)},t.prototype.getSkillValue3=function(e){return this.SkillValue_z.get(e)},t.prototype.getSkillValue4=function(e){return this.SkillValue_4.get(e)},t.prototype.getIsUnlock=function(e){return this.unlock_state.get(e)},t}(i.AttributeData);a.HeroData=r;a.GongJiData=function(){this.is_bullet=!0,this.hero_data=null,this.hero_type=i.Hero_Type.ChangMaoShou,this.damage_type=i.DamageType.Normal,this.skill_damage_rate=0,this.continuous_damage_rate=0,this.pet_id=0,this.skill_release_id=0,this.is_can_crit=!1},cc._RF.pop()},{"../Game/HeroConfig":"HeroConfig"}],HeroFragment:[function(e,t,a){"use strict";cc._RF.push(t,"b1e7dCzKSpCP6HW8b0tA/TS","HeroFragment");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Data/HeroManager"),s=e("../Game/HeroConfig"),c=cc._decorator,l=c.ccclass,g=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hero_type=s.Hero_Type.NULL,t.fragment_num=0,t}return o(t,e),t.prototype.init=function(e,t){this.hero_type=e,this.fragment_num=t,this.refreshData()},t.prototype.refreshData=function(){var e=this.node.getChildByName("mask").getChildByName("icon");e.getComponent(cc.Sprite).spriteFrame=r.HeroManager.getInstance().getSpriteFrameByName("hero"+this.hero_type),this.node.getChildByName("num").getComponent(cc.Label).string=""+this.fragment_num,this.node.name="fragment",this.hero_type==s.Hero_Type.NULL?e.y=26:e.y=38},i([l],t)}(cc.Component));a.default=g,cc._RF.pop()},{"../Data/HeroManager":"HeroManager","../Game/HeroConfig":"HeroConfig"}],HeroItem:[function(e,t,a){"use strict";cc._RF.push(t,"5f1ddYz+2pIgrch/Ixf4ypi","HeroItem");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../multiLanguage/TextLanguage"),s=e("../../Prop/PropManager"),c=e("../Data/HeroAttribute"),l=e("../Data/HeroBaseInfo"),g=e("../Data/HeroManager"),u=e("../Data/HeroQuality"),p=cc._decorator,d=p.ccclass,h=(p.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hero_type=-1,t}return o(t,e),t.prototype.init=function(e,t){this.hero_type=e,null!=g.HeroManager.getInstance().getHeroInfo(e)?this.initHeroItem(e,t):this.initLockHeroItem(e,t)},t.prototype.initHeroItem=function(e,t){this.hero_type=e;var a=l.HeroBaseInfoManager.getInstance().getJsonHeroBaseInfo(this.hero_type);this.node.getChildByName("name").active=!1,this.node.getChildByName("shangzheng").active=!1;var n=g.HeroManager.getInstance().getHeroInfo(e);this.node.getChildByName("bg").getComponent(cc.Sprite).spriteFrame=g.HeroManager.getInstance().getSpriteFrameByName("HeroList_Frame_"+a.Quality+"_0"),this.node.getChildByName("box").getComponent(cc.Sprite).spriteFrame=g.HeroManager.getInstance().getSpriteFrameByName("HeroList_Frame_"+a.Quality+"_1"),this.node.getChildByName("mask").getChildByName("icon").getComponent(cc.Sprite).spriteFrame=g.HeroManager.getInstance().getHeroBody(e);var o=c.HeroAttributeManager.getInstance().getStarByHeroTypeAndStage(e,g.HeroManager.getInstance().getHeroStage(e));5==o?(this.node.getChildByName("max").active=!0,this.node.getChildByName("num").active=!1,this.node.getChildByName("bar").active=!1,this.node.getChildByName("progressBar").active=!1,this.node.getChildByName("star").active=!0,this.node.getChildByName("star").getComponent(cc.Sprite).spriteFrame=g.HeroManager.getInstance().getSpriteFrameByName("HeroList_Star_"+o)):o>0?(this.node.getChildByName("max").active=!1,this.node.getChildByName("num").active=!0,this.node.getChildByName("bar").active=!0,this.node.getChildByName("progressBar").active=!0,this.node.getChildByName("star").active=!0,this.node.getChildByName("star").getComponent(cc.Sprite).spriteFrame=g.HeroManager.getInstance().getSpriteFrameByName("HeroList_Star_"+o)):(this.node.getChildByName("max").active=!1,this.node.getChildByName("num").active=!0,this.node.getChildByName("bar").active=!0,this.node.getChildByName("progressBar").active=!0,this.node.getChildByName("star").active=!1);var i=s.PropManager.getInstance().getPropNum(t),r=u.HeroQualityManager.getInstance().getCostDebrisByHeroQualityAndStage(n.hero_quality,n.hero_stage);i>=r&&(this.node.getChildByName("bar").getComponent(cc.Sprite).spriteFrame=g.HeroManager.getInstance().getSpriteFrameByName("HeroList_Bar_1_1")),this.node.getChildByName("progressBar").getComponent(cc.ProgressBar).progress=i/r,this.node.getChildByName("num").getComponent(cc.Label).string=i+"/"+r,this.node.getChildByName("level").getComponentInChildren(cc.Label).string="Lv"+n.hero_level,this.node.getChildByName("level").active=!0,this.node.getChildByName("lock").active=!1},t.prototype.initLockHeroItem=function(e,t){this.hero_type=e;var a=l.HeroBaseInfoManager.getInstance().getJsonHeroBaseInfo(this.hero_type);this.node.getChildByName("name").active=!1,this.node.getChildByName("shangzheng").active=!1,this.node.getChildByName("bg").getComponent(cc.Sprite).spriteFrame=g.HeroManager.getInstance().getSpriteFrameByName("HeroList_Frame_"+a.Quality+"_0"),this.node.getChildByName("box").getComponent(cc.Sprite).spriteFrame=g.HeroManager.getInstance().getSpriteFrameByName("HeroList_Frame_"+a.Quality+"_1"),this.node.getChildByName("mask").getChildByName("icon").getComponent(cc.Sprite).spriteFrame=g.HeroManager.getInstance().getHeroBody(e);var n=s.PropManager.getInstance().getPropNum(t),o=l.HeroBaseInfoManager.getInstance().getUnlockFragmentNum(e);n>=o&&(this.node.getChildByName("bar").getComponent(cc.Sprite).spriteFrame=g.HeroManager.getInstance().getSpriteFrameByName("HeroList_Bar_1_1")),this.node.getChildByName("progressBar").getComponent(cc.ProgressBar).progress=n/o,this.node.getChildByName("num").getComponent(cc.Label).string=n+"/"+o,this.node.getChildByName("level").active=!1,this.node.getChildByName("star").active=!1,this.node.getChildByName("lock").active=!0},t.prototype.RefreshHeroesItem=function(e){this.hero_type=e;var t=l.HeroBaseInfoManager.getInstance().getJsonHeroBaseInfo(this.hero_type);this.node.getChildByName("name").active=!0,this.node.getChildByName("shangzheng").active=!1,this.node.getChildByName("progressBar").active=!1,this.node.getChildByName("bar").active=!1,this.node.getChildByName("num").active=!1;var a=g.HeroManager.getInstance().getHeroInfo(e);this.node.getChildByName("name").getComponent(r.default).setTextId(l.HeroBaseInfoManager.getInstance().getNameText_ID(e));var n=l.HeroBaseInfoManager.getInstance().getQuality(e),o=[new cc.Color(67,43,21),new cc.Color(19,66,19),new cc.Color(19,51,80),new cc.Color(36,19,80),new cc.Color(46,29,19)];this.node.getChildByName("name").getComponent(cc.LabelOutline).color=o[n-1],this.node.getChildByName("bg").getComponent(cc.Sprite).spriteFrame=g.HeroManager.getInstance().getSpriteFrameByName("HeroList_Frame_"+t.Quality+"_0"),this.node.getChildByName("box").getComponent(cc.Sprite).spriteFrame=g.HeroManager.getInstance().getSpriteFrameByName("HeroList_Frame_"+t.Quality+"_1"),this.node.getChildByName("mask").getChildByName("icon").getComponent(cc.Sprite).spriteFrame=g.HeroManager.getInstance().getHeroBody(e);var i=c.HeroAttributeManager.getInstance().getStarByHeroTypeAndStage(e,g.HeroManager.getInstance().getHeroStage(e));this.node.getChildByName("star").getComponent(cc.Sprite).spriteFrame=g.HeroManager.getInstance().getSpriteFrameByName("HeroList_Star_"+i),this.node.getChildByName("level").getComponentInChildren(cc.Label).string="Lv"+a.hero_level,this.node.getChildByName("RedTip").active=!1},i([d],t)}(cc.Component));a.default=h,cc._RF.pop()},{"../../Prop/PropManager":"PropManager","../../multiLanguage/TextLanguage":"TextLanguage","../Data/HeroAttribute":"HeroAttribute","../Data/HeroBaseInfo":"HeroBaseInfo","../Data/HeroManager":"HeroManager","../Data/HeroQuality":"HeroQuality"}],HeroListUi:[function(e,t,a){"use strict";cc._RF.push(t,"71ec2jK68VMMJqsVtt/ieNQ","HeroListUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../GameManager"),s=e("../../multiLanguage/LanguageManager"),c=e("../../Prop/PropManager"),l=e("../../Tools/RedTip"),g=e("../../Tutorials/TutorailsManager"),u=e("../../UI/UIConfig"),p=e("../../UI/UIManager"),d=e("../Data/HeroAttribute"),h=e("../Data/HeroBaseInfo"),f=e("../Data/HeroManager"),_=e("../Data/HeroQuality"),m=e("../Game/HeroConfig"),y=e("./HeroItem"),I=e("./RoleUi"),v=cc._decorator,M=v.ccclass,C=v.property,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hero_item=null,t}var a;return o(t,e),a=t,t.prototype.onLoad=function(){this.node.on(cc.Node.EventType.POSITION_CHANGED,this.onPositionChange,this)},t.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.POSITION_CHANGED,this.onPositionChange,this)},t.prototype.onPositionChange=function(){0==this.node.x&&this.onRefresh()},t.prototype.onEnable=function(){this.checkTutorails()},t.prototype.checkTutorails=function(){return 0==g.default.getInstance().isShowTutorials(301)&&g.default.getInstance().isShowTutorials(302)?(g.default.getInstance().is_tutorails_state=!0,this.scheduleOnce(function(){p.UIManager.getInstance().showUiDialog(u.UIPath.HeroGrowth,u.UILayerLevel.One,{onCompleted:function(e){e.getComponent(I.default).init({onClose:function(){cc.find("Canvas/hero_list_ui").getComponent(a).onRefresh()}}),e.getComponent(I.default).initData(m.Hero_Type.ShouWang)}})},.1),!0):0==g.default.getInstance().isShowTutorials(311)&&g.default.getInstance().isShowTutorials(312)?(g.default.getInstance().is_tutorails_state=!0,this.scheduleOnce(function(){p.UIManager.getInstance().showUiDialog(u.UIPath.HeroGrowth,u.UILayerLevel.One,{onCompleted:function(e){e.getComponent(I.default).init({onClose:function(){cc.find("Canvas/hero_list_ui").getComponent(a).onRefresh()}}),e.getComponent(I.default).initData(m.Hero_Type.PaoShou)}})},.1),!0):void 0},t.prototype.start=function(){this.onUiInit()},t.prototype.onUiInit=function(){var e=this,t=this.node.getChildByName("scroll").getComponent(cc.ScrollView).content;t.removeAllChildren();var a=[],n=[],o=[],i=[],l=[],g=[],d=[];h.HeroBaseInfoManager.getInstance().getData().forEach(function(e){a.push(e)});for(var m=0;m<a.length;m++){var v=f.HeroManager.getInstance().getHeroInfo(a[m].Hero_ID);v?c.PropManager.getInstance().getPropNum(a[m].HeroFragment)>=_.HeroQualityManager.getInstance().getCostDebrisByHeroQualityAndStage(a[m].Quality,v.hero_stage)?0==_.HeroQualityManager.getInstance().getCostDebrisByHeroQualityAndStage(a[m].Quality,v.hero_stage)?l.push(a[m]):o.push(a[m]):i.push(a[m]):c.PropManager.getInstance().getPropNum(a[m].HeroFragment)>=a[m].UnlockFragmentNum?n.push(a[m]):g.push(a[m])}n.sort(this.lockHeroItemSort),g.sort(this.lockHeroItemSort),o.sort(this.unlockHeroItemSort),o.sort(this.unlockHeroItemSort),l.sort(this.unlockHeroItemSort),i.sort(this.unlockHeroItemSort),i.sort(this.unlockHeroItemSort),d=d.concat(n,o,l,i,g);var M=[];d.forEach(function(e){1==e.Available&&M.push(e)});var C=function(a){var n=cc.instantiate(S.hero_item);n.name="item"+a,n.getComponent(y.default).init(d[a].Hero_ID,d[a].HeroFragment),1==d[a].Available?n.on(cc.Node.EventType.TOUCH_END,function(){p.UIManager.getInstance().showUiDialog(u.UIPath.HeroGrowth,u.UILayerLevel.One,{onCompleted:function(t){t.getComponent(I.default).init({onClose:function(){e.onRefresh(),r.default.getInstance().refreshCoinShow()}}),t.getComponent(I.default).initData(d[a].Hero_ID,M)}})},S):n.on(cc.Node.EventType.TOUCH_END,function(){var e=s.default.getInstance().getStrByTextId(100113);r.default.getInstance().showMessage(e)},S),t.addChild(n)},S=this;for(m=0;m<d.length;m++)C(m)},t.prototype.onRefresh=function(){var e=this,t=this.node.getChildByName("scroll").getComponent(cc.ScrollView).content,a=[],n=[],o=[],i=[],g=[],d=[],m=[];h.HeroBaseInfoManager.getInstance().getData().forEach(function(e){a.push(e)});for(var v=0;v<a.length;v++){var M=f.HeroManager.getInstance().getHeroInfo(a[v].Hero_ID);M?c.PropManager.getInstance().getPropNum(a[v].HeroFragment)>=_.HeroQualityManager.getInstance().getCostDebrisByHeroQualityAndStage(a[v].Quality,M.hero_stage)?M.hero_stage==a[v].MaxStage?g.push(a[v]):o.push(a[v]):M.hero_stage==a[v].MaxStage?g.push(a[v]):i.push(a[v]):c.PropManager.getInstance().getPropNum(a[v].HeroFragment)>=a[v].UnlockFragmentNum?n.push(a[v]):d.push(a[v])}n.sort(this.lockHeroItemSort),d.sort(this.lockHeroItemSort),o.sort(this.unlockHeroItemSort),o.sort(this.unlockHeroItemSort),g.sort(this.unlockHeroItemSort),i.sort(this.unlockHeroItemSort),i.sort(this.unlockHeroItemSort),m=m.concat(n,o,g,i,d);var C=[];m.forEach(function(e){1==e.Available&&C.push(e)});var S=function(a){var n=t.getChildByName("item"+a);n.off(cc.Node.EventType.TOUCH_END),n.getComponent(y.default).init(m[a].Hero_ID,m[a].HeroFragment),1==m[a].Available?n.on(cc.Node.EventType.TOUCH_END,function(){p.UIManager.getInstance().showUiDialog(u.UIPath.HeroGrowth,u.UILayerLevel.One,{onCompleted:function(t){t.getComponent(I.default).init({onClose:function(){e.onRefresh()}}),t.getComponent(I.default).initData(m[a].Hero_ID,C)}})},P):n.on(cc.Node.EventType.TOUCH_END,function(){var e=s.default.getInstance().getStrByTextId(100113);r.default.getInstance().showMessage(e)},P);var o=n.getChildByName("RedTip").getComponent(l.default);o.cancelEvent(),o.self_red_type=f.HeroManager.getRedTypeByHeroType(m[a].Hero_ID),o.registerEvent(),o.checkSelf(!0)},P=this;for(v=0;v<m.length;v++)S(v)},t.prototype.lockHeroItemSort=function(e,t){return e.Quality<t.Quality?1:-1},t.prototype.unlockHeroItemSort=function(e,t){if(e.Quality<t.Quality)return 1;if(e.Quality==t.Quality){var a=d.HeroAttributeManager.getInstance().getStarByHeroTypeAndStage(e.Hero_ID,f.HeroManager.getInstance().getHeroStage(e.Hero_ID)),n=d.HeroAttributeManager.getInstance().getStarByHeroTypeAndStage(t.Hero_ID,f.HeroManager.getInstance().getHeroStage(t.Hero_ID));if(a<n)return 1;if(a==n&&f.HeroManager.getInstance().getHeroLevel(e.Hero_ID)<f.HeroManager.getInstance().getHeroLevel(e.Hero_ID))return 1}return-1},i([C(cc.Prefab)],t.prototype,"hero_item",void 0),a=i([M],t)}(cc.Component);a.default=S,cc._RF.pop()},{"../../GameManager":"GameManager","../../Prop/PropManager":"PropManager","../../Tools/RedTip":"RedTip","../../Tutorials/TutorailsManager":"TutorailsManager","../../UI/UIConfig":"UIConfig","../../UI/UIManager":"UIManager","../../multiLanguage/LanguageManager":"LanguageManager","../Data/HeroAttribute":"HeroAttribute","../Data/HeroBaseInfo":"HeroBaseInfo","../Data/HeroManager":"HeroManager","../Data/HeroQuality":"HeroQuality","../Game/HeroConfig":"HeroConfig","./HeroItem":"HeroItem","./RoleUi":"RoleUi"}],HeroManager:[function(e,t,a){"use strict";cc._RF.push(t,"9a672B/O41OUqKVWVUEduzr","HeroManager"),Object.defineProperty(a,"__esModule",{value:!0}),a.HeroManager=a.HeroExclusiveData=a.HeroUpgradeData=void 0;var n=e("../../Constants"),o=e("../../Equipment/Data/EquipmentAttribute"),i=e("../../Equipment/EquipmentManager"),r=e("./HeroBaseInfo"),s=e("./HeroQuality"),c=e("./LevelUp"),l=e("../../Tools/EventManager"),g=e("./HeroData"),u=e("./SkillLevelUnlock"),p=e("./HeroAttribute"),d=e("../../Prop/PropManager"),h=e("../../Prop/PropConfig"),f=e("./SkillConfiguration"),_=e("../../Level/LevelManager"),m=e("../../Equipment/EquipConfig"),y=e("../../JsonData/ExclusiveEnhancement"),I=e("../../Storage/StorageManager"),v=e("../../Storage/StorageConfig"),M=e("./HeroTitle"),C=e("../Game/HeroConfig"),S=e("./CombatEffectiveness"),P=e("../../Task/TaskManager"),k=e("../../Task/TaskEnum"),b=e("../../GameManager"),T=e("../../Pet/Data/SpiritAttribute"),B=e("../../JsonData/EWUnlockCost"),w=e("../../JsonData/ExclusiveWeaponSkill"),N=e("../../UserData"),L=e("../.././NetWork/HttpManager"),D=e("../../UserInfo/UserInfo"),E=e("../../JsonData/ExclusiveWeaponMessage"),R=function(){this.cur_level=0,this.max_level=0,this.is_level=!1,this.cur_coin=0,this.cost_coin=0,this.is_coin=!1,this.is_can_up=!1};a.HeroUpgradeData=R;var G=function(){this.cur_prop_num=0,this.cost_prop_num=0,this.cost_prop_id=0,this.is_can_up=!1};a.HeroExclusiveData=G;var x=function(){function e(){this.btn_hero_team=null,this.btn_hero_role=null,this.sprite_atlas=null,this.sprite_atlass=null,this.sp_body=null,this.hero_fragment=null,this.hero_data=null,this.hero_list=[]}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){r.HeroBaseInfoManager.getInstance(),s.HeroQualityManager.getInstance(),c.LevelUpManager.getInstance(),u.SkillLevelUnlockManager.getInstance(),p.HeroAttributeManager.getInstance(),f.SkillConfigurationManager.getInstance(),M.HeroTitleManager.getInstance(),S.CombatEffectivenessManager.getInstance(),B.EWUnlockCostManager.getInstance(),this.loadTeamPrefab(),this.loadRolePrefab(),this.loadFragmentPrefab(),this.loadSp(),this.loadSps(),this.loadBody()},e.prototype.loadTeamPrefab=function(){var e=this;this.btn_hero_team||cc.resources.load("heros/btn_hero_team",cc.Prefab,function(t,a){t?console.log(t):e.btn_hero_team=a})},e.prototype.loadRolePrefab=function(){var e=this;this.btn_hero_role||cc.resources.load("heros/btn_hero_role",cc.Prefab,function(t,a){t?console.log(t):e.btn_hero_role=a})},e.prototype.loadFragmentPrefab=function(){var e=this;this.hero_fragment||cc.resources.load("heros/hero_fragment",cc.Prefab,function(t,a){t?console.log(t):e.hero_fragment=a})},e.prototype.loadSp=function(){var e=this;this.sprite_atlas||cc.resources.load("heros/hero_list_ui",cc.SpriteAtlas,function(t,a){t?console.log(t):e.sprite_atlas=a})},e.prototype.loadSps=function(){var e=this;this.sprite_atlass||cc.resources.load("heros/hero",cc.SpriteAtlas,function(t,a){t?console.log(t):e.sprite_atlass=a})},e.prototype.loadBody=function(){var e=this;this.sp_body||(this.sp_body=new Map,cc.resources.loadDir("heros/body",cc.SpriteFrame,function(t,a){if(t)console.log(t);else for(var n=a.length,o=0;o<n;o++){var i=a[o],r=i.name,s=r.lastIndexOf("_");if(-1!=s){var c=parseInt(r.substring(s+1));e.sp_body.set(c,i)}}}))},e.prototype.getSpriteFrameByName=function(e){return this.sprite_atlas.getSpriteFrame(e)},e.prototype.getSpriteFrameByNames=function(e){return this.sprite_atlass.getSpriteFrame(e)},e.prototype.getHeroSpriteFrame=function(e){return this.getSpriteFrameByName("hero"+e)},e.prototype.getHeroSpriteFrames=function(e){return this.getSpriteFrameByNames("Head_Hero_S_"+e)},e.prototype.getHeroBody=function(e){return this.sp_body.get(e)},e.prototype.onLoadHeroData=function(){this.loadHeroList(),this.loadAllHeroData()},e.prototype.saveHeroList=function(){I.TheStorageManager.getInstance().setJson(v.StorageKey.HeroList,this.hero_list),this.loadAllHeroData()},e.prototype.reportHeroList=function(){var e=[];this.hero_list.forEach(function(t){var a=new L.HeroObject;a.heroId=t.hero_type,a.heroLevel=t.hero_level,a.heroStage=t.hero_stage,a.heroWeaponStage=t.exclusive_equip_stage,a.weapons=t.wear1,a.armor=t.wear2,a.accessories=t.wear3,a.shoes=t.wear4,a.pet=t.pet_id,e.push(a)}),L.HttpManager.post(L.AccessName.reportHeroList,this.setHeroListJsonString(e),!1),I.TheStorageManager.getInstance().setJson(v.StorageKey.HeroList,this.hero_list)},e.prototype.loadHeroList=function(){var e=this;this.hero_list=new Array,D.UserInfo.getInstance().heroList.forEach(function(t){var a=new C.HeroInfo;a.hero_type=t.heroId,a.hero_level=t.heroLevel,a.hero_stage=t.heroStage,a.exclusive_equip_stage=t.heroWeaponStage,a.wear1=t.weapons,a.wear2=t.armor,a.wear3=t.accessories,a.wear4=t.shoes,a.pet_id=t.pet,e.hero_list.push(a)}),I.TheStorageManager.getInstance().setJson(v.StorageKey.HeroList,this.hero_list)},e.prototype.getHeroList=function(){return this.hero_list},e.prototype.addHero=function(e){var t=new C.HeroInfo;t.hero_type=e,t.hero_level=1,t.hero_quality=r.HeroBaseInfoManager.getInstance().getQuality(e),t.pet_id=0,t.hero_stage=0,t.exclusive_equip_stage=0,this.hero_list.push(t),this.saveHeroList(),P.default.getInstance().emitTask(k.TaskItem.\u7d2f\u8ba1\u6536\u96c6X\u4e2a\u82f1\u96c4)},e.prototype.getHeroInfo=function(e){var t=-1;return this.hero_list.forEach(function(a,n){a.hero_type==e&&(t=n)}),t<0?null:this.hero_list[t]},e.prototype.getHeroLevel=function(e){var t=this.getHeroInfo(e);return null==t?null:t.hero_level},e.prototype.addHeroLevel=function(e){var t=this.getHeroInfo(e);if(null==t)return null;t.hero_level++,10==t.hero_level&&P.default.getInstance().emitTask(k.TaskItem.\u5c06\u4efb\u610fX\u540d\u82f1\u96c4\u5347\u523010\u7ea7),t.hero_level>P.default.getInstance().getTaskNowProgress(k.TaskItem.\u7d2f\u8ba11\u4e2a\u82f1\u96c4\u5347\u5230X\u7ea7)&&P.default.getInstance().emitTask(k.TaskItem.\u7d2f\u8ba11\u4e2a\u82f1\u96c4\u5347\u5230X\u7ea7),t.hero_level>=r.HeroBaseInfoManager.getInstance().getMaxLevel(e)&&(t.hero_level=r.HeroBaseInfoManager.getInstance().getMaxLevel(e)),this.saveHeroList()},e.prototype.resetHeroLvel=function(e){this.getHeroInfo(e).hero_level=1,this.saveHeroList()},e.prototype.getHeroQuality=function(e){var t=this.getHeroInfo(e);return null==t?null:t.hero_quality},e.prototype.getExclusiveEquipLevel=function(e){var t=this.getHeroInfo(e);return null==t?null:t.exclusive_equip_stage},e.prototype.addExclusiveEquipLevel=function(e){this.getHeroInfo(e).exclusive_equip_stage++,this.saveHeroList()},e.prototype.setExclusiveEquipLevel=function(e,t){var a=this.getHeroInfo(e);if(null==a)return null;a.exclusive_equip_stage=t,this.saveHeroList()},e.prototype.getHeroStage=function(e){var t=this.getHeroInfo(e);return null==t?null:t.hero_stage},e.prototype.addHeroStage=function(e){var t=this.getHeroInfo(e);t.hero_stage++,e==C.Hero_Type.PaoShou&&6==t.hero_stage&&P.default.getInstance().emitTask(k.TaskItem.\u5c06\u70ae\u624b\u5347\u81f31\u5927\u661f),t.hero_stage%6==0&&Math.floor(t.hero_stage/6)>P.default.getInstance().getTaskNowProgress(k.TaskItem.\u7d2f\u8ba11\u4e2a\u82f1\u96c4\u5347\u5230X\u661f)&&P.default.getInstance().emitTask(k.TaskItem.\u7d2f\u8ba11\u4e2a\u82f1\u96c4\u5347\u5230X\u661f),t.hero_stage>=r.HeroBaseInfoManager.getInstance().getMaxStage(e)&&(t.hero_stage=r.HeroBaseInfoManager.getInstance().getMaxStage(e)),this.saveHeroList()},e.prototype.checkCanAddHeroStage=function(){return!0},e.prototype.getTeamList=function(e){for(var t=new Array,a=0;a<5;a++)t.push(-1);var o=cc.sys.localStorage.getItem("team_list_"+e);if(""===o||null===o)e==n.GameMode.Main?(t[1]=C.Hero_Type.DeLuYi,t[2]=C.Hero_Type.ShouWang,t[3]=C.Hero_Type.PaoShou,this.saveTeamList(e,t)):t=this.getTeamList(n.GameMode.Main);else{var i=o.split(",");for(a=0;a<i.length;a++){var r=parseInt(i[a]),s=r>0&&this.getHeroLevel(r)>0;t[a]=s?r:-1}}return t},e.prototype.saveTeamList=function(e,t){cc.sys.localStorage.setItem("team_list_"+e,t.toString())},e.prototype.loadAllHeroData=function(){this.hero_data=new Map;for(var t=e.getInstance().getHeroList(),a=0;a<t.length;a++)this.loadHeroData(t[a].hero_type)},e.prototype.loadHeroData=function(t){var a=this.hero_data.get(t);a||(a=new g.HeroData);var n=0,o=0,s=0,c=0,l=0,d=0,h=0,_=0,I=0,v=0,M=0,C=0,S=p.HeroAttributeManager.getInstance().getJsonDataByHeroTypeAndStage(t,this.getHeroStage(t)),P=this.getHeroInfo(t);a.fixed_hp=P.hero_level*S.GrowthHealth+S.BaseHealth,a.fixed_attck=P.hero_level*S.GrowthAttack+S.BaseAttack,a.fix_defense=P.hero_level*S.GrowthDefense+S.BaseDefense;var k=this.getExclusiveEquipLevel(t);if(k>0){var b=y.ExclusiveEnhancementManager.getInstance().getJsonDataByHeroTypeAndStage(t,k);v=b.Health*a.fixed_hp,M=b.Attack*a.fixed_attck,C=b.Defense*a.fix_defense}var B=e.getInstance().getWearPet(t);if(0!=B){var N=T.SpiritAttributeManager.getInstance().getJsonSpiritAttribute(B);n=N.Attack,o=N.Defense,s=N.Health,c=N.Hit,l=N.Miss,d=N.Critical,h=N.AntiCritical,_=N.ExtraCritical,I=N.AntiExtraCritical}a.pet_id=B,a.Hit=S.Hit+c,a.Miss=S.Miss+l,a.Critical=S.Critical+d,a.AntiCritical=S.AntiCritical+h,a.ExtraCritical=S.ExtraCritical+_,a.AntiExtraCritical=S.AntiExtraCritical+I;var L=r.HeroBaseInfoManager.getInstance();a.base_jiange=1/L.getBaseSpeed(t),a.gongji_jiange=1/L.getBaseSpeed(t),a.atkSpeed=L.getBaseSpeed(t),a.bullet_speed=L.getBaseBulletSpeed(t),a.gongji_fanwei=L.getAttackRange(t);for(var D=0,E=0,R=0,G=m.EquipType.WuQi;G<m.EquipType.Num;G++){var x=P["wear"+G];if(0!=x){var A=i.EquipmentManager.getInstance().getAttributesadditional(x);E+=A[0],R+=A[1],D+=A[2]}}a.Attack=a.total_attack=a.fixed_attck+E+n+M,a.Health=a.total_hp=a.fixed_hp+D+s+v,a.Defense=a.total_defense=a.fix_defense+R+o+C;var O=p.HeroAttributeManager.getInstance().getStarByHeroTypeAndStage(t,P.hero_stage)+1;a.ColdDown=new Map,a.SkillValue_x=new Map,a.SkillValue_y=new Map,a.SkillValue_z=new Map,a.SkillValue_4=new Map,a.unlock_state=new Map;for(var H=1;H<=4;H++)null!=(F=f.SkillConfigurationManager.getInstance().getJsonDataByHeroTypeAndSkillPosAndSkillLevel(t,H,O))&&(a.SkillValue_x.set(H,F.SkillValue_1),a.SkillValue_y.set(H,F.SkillValue_2),a.SkillValue_z.set(H,F.SkillValue_3),a.SkillValue_4.set(H,F.SkillValue_4),a.ColdDown.set(H,F.ColdDown),a.unlock_state.set(H,P.hero_level>=u.SkillLevelUnlockManager.getInstance().getHeroLevel(H)));for(H=1;H<=4;H++)if(k>0){var F,j=y.ExclusiveEnhancementManager.getInstance().getId(t,k),U=y.ExclusiveEnhancementManager.getInstance().getStar(j),J=w.ExclusiveWeaponSkillManager.getInstance().getId(t,U+1);if(null==(F=w.ExclusiveWeaponSkillManager.getInstance().getJsonExclusiveWeaponSkill(J)))continue;a["ExclusiveWeaponSkillValue_"+H]=F["ExclusiveWeaponSkillValue_"+H]}return this.hero_data.set(t,a),a},e.prototype.getTryPlayHeroData=function(e){var t=new g.HeroData,a=0,n=0,o=0,s=0,c=0,l=0,d=0,h=0,_=0,I=0,v=0,M=0,C=p.HeroAttributeManager.getInstance().getJsonDataByHeroTypeAndStage(e.hero_type,e.hero_stage);t.fixed_hp=e.hero_level*C.GrowthHealth+C.BaseHealth,t.fixed_attck=e.hero_level*C.GrowthAttack+C.BaseAttack,t.fix_defense=e.hero_level*C.GrowthDefense+C.BaseDefense;var S=e.exclusive_equip_stage;if(S>0){var P=y.ExclusiveEnhancementManager.getInstance().getJsonDataByHeroTypeAndStage(e.hero_type,S);I=P.Health*t.fixed_hp,v=P.Attack*t.fixed_attck,M=P.Defense*t.fix_defense}var k=e.pet_id;if(0!=k){var b=T.SpiritAttributeManager.getInstance().getJsonSpiritAttribute(k);a=b.Attack,n=b.Defense,o=b.Health,s=b.Hit,c=b.Miss,l=b.Critical,d=b.AntiCritical,h=b.ExtraCritical,_=b.AntiExtraCritical}t.pet_id=k,t.Hit=C.Hit+s,t.Miss=C.Miss+c,t.Critical=C.Critical+l,t.AntiCritical=C.AntiCritical+d,t.ExtraCritical=C.ExtraCritical+h,t.AntiExtraCritical=C.AntiExtraCritical+_;var B=r.HeroBaseInfoManager.getInstance();t.base_jiange=1/B.getBaseSpeed(e.hero_type),t.gongji_jiange=1/B.getBaseSpeed(e.hero_type),t.atkSpeed=B.getBaseSpeed(e.hero_type),t.bullet_speed=B.getBaseBulletSpeed(e.hero_type),t.gongji_fanwei=B.getAttackRange(e.hero_type);for(var N=0,L=0,D=0,E=m.EquipType.WuQi;E<m.EquipType.Num;E++){var R=e["wear"+E];if(0!=R){var G=i.EquipmentManager.getInstance().getAttributesadditional(R);L+=G[0],D+=G[1],N+=G[2]}}t.Attack=t.total_attack=t.fixed_attck+L+a+v,t.Health=t.total_hp=t.fixed_hp+N+o+I,t.Defense=t.total_defense=t.fix_defense+D+n+M;var x=p.HeroAttributeManager.getInstance().getStarByHeroTypeAndStage(e.hero_type,e.hero_stage)+1;t.ColdDown=new Map,t.SkillValue_x=new Map,t.SkillValue_y=new Map,t.SkillValue_z=new Map,t.SkillValue_4=new Map,t.unlock_state=new Map;for(var A=1;A<=4;A++)null!=(O=f.SkillConfigurationManager.getInstance().getJsonDataByHeroTypeAndSkillPosAndSkillLevel(e.hero_type,A,x))&&(t.SkillValue_x.set(A,O.SkillValue_1),t.SkillValue_y.set(A,O.SkillValue_2),t.SkillValue_z.set(A,O.SkillValue_3),t.SkillValue_4.set(A,O.SkillValue_4),t.ColdDown.set(A,O.ColdDown),t.unlock_state.set(A,e.hero_level>=u.SkillLevelUnlockManager.getInstance().getHeroLevel(A)));for(A=1;A<=4;A++)if(S>0){var O,H=y.ExclusiveEnhancementManager.getInstance().getId(e.hero_type,S),F=y.ExclusiveEnhancementManager.getInstance().getStar(H),j=w.ExclusiveWeaponSkillManager.getInstance().getId(e.hero_type,F+1);if(null==(O=w.ExclusiveWeaponSkillManager.getInstance().getJsonExclusiveWeaponSkill(j)))continue;t["ExclusiveWeaponSkillValue_"+A]=O["ExclusiveWeaponSkillValue_"+A]}return t},e.prototype.getTargetHeroData=function(t,a,n){var o=new g.HeroData,s=n,c=0,l=0,u=0,d=0,h=0,_=0,y=0,I=0,v=0,M=p.HeroAttributeManager.getInstance().getJsonDataByHeroTypeAndStage(t,a);o.fixed_hp=s*M.GrowthHealth+M.BaseHealth,o.fixed_attck=s*M.GrowthAttack+M.BaseAttack,o.fix_defense=s*M.GrowthDefense+M.BaseDefense;var C=e.getInstance().getHeroInfo(t),S=0,P=0,k=0;if(null!=C){var b=e.getInstance().getWearPet(t);if(0!=b){var B=T.SpiritAttributeManager.getInstance().getJsonSpiritAttribute(b);c=B.Attack,l=B.Defense,u=B.Health,d=B.Hit,h=B.Miss,_=B.Critical,y=B.AntiCritical,I=B.ExtraCritical,v=v}o.pet_id=b;for(var w=m.EquipType.WuQi;w<m.EquipType.Num;w++){var N=C["wear"+w];if(0!=N){var L=i.EquipmentManager.getInstance().getAttributesadditional(N);P+=L[0],k+=L[1],S+=L[2]}}}o.Hit=M.Hit+d,o.Miss=M.Miss+h,o.Critical=M.Critical+_,o.AntiCritical=M.AntiCritical+y,o.ExtraCritical=M.ExtraCritical+I,o.AntiExtraCritical=M.AntiExtraCritical+v;var D=r.HeroBaseInfoManager.getInstance();o.base_jiange=1/D.getBaseSpeed(t),o.gongji_jiange=1/D.getBaseSpeed(t),o.bullet_speed=D.getBaseBulletSpeed(t),o.gongji_fanwei=D.getAttackRange(t),o.Attack=o.total_attack=o.fixed_attck+P+c,o.Health=o.total_hp=o.fixed_hp+S+u,o.Defense=o.total_defense=o.fix_defense+k+l;var E=p.HeroAttributeManager.getInstance().getStarByHeroTypeAndStage(t,a)+1;o.ColdDown=new Map,o.SkillValue_x=new Map,o.SkillValue_y=new Map,o.SkillValue_z=new Map,o.SkillValue_4=new Map;for(var R=1;R<=4;R++){var G=f.SkillConfigurationManager.getInstance().getJsonDataByHeroTypeAndSkillPosAndSkillLevel(t,R,E);null!=G&&(o.SkillValue_x.set(R,G.SkillValue_1),o.SkillValue_y.set(R,G.SkillValue_2),o.SkillValue_z.set(R,G.SkillValue_3),o.SkillValue_4.set(R,G.SkillValue_4),o.ColdDown.set(R,G.ColdDown))}return o},e.prototype.getHeroData=function(e){return this.hero_data.get(e)},e.prototype.getDeepHeroData=function(e){var t=new g.HeroData,a=this.hero_data.get(e);return t.total_attack=a.total_attack,t.total_defense=a.total_defense,t.total_hp=a.total_hp,t.Hit=a.Hit,t.Miss=a.Miss,t.Critical=a.Critical,t.AntiCritical=a.AntiCritical,t.ExtraCritical=a.ExtraCritical,t.AntiExtraCritical=a.AntiExtraCritical,t},e.prototype.changeBindPet=function(e,t){this.hero_data.get(e)&&(this.hero_data.get(e).pet_info=t)},e.prototype.refreshHeroData=function(e){this.loadHeroData(e)},e.prototype.getAllHeroZhanli=function(){for(var e=0,t=this.getHeroList(),a=0;a<t.length;a++)e+=Math.floor(this.getHeroZhanli(t[a].hero_type));return e},e.prototype.getHeroZhanli=function(e){this.refreshHeroData(e);var t=this.hero_data.get(e);return t.total_hp*S.CombatEffectivenessManager.getInstance().getConversionFactor(1)+t.total_attack*S.CombatEffectivenessManager.getInstance().getConversionFactor(2)+t.total_defense*S.CombatEffectivenessManager.getInstance().getConversionFactor(3)+t.Hit*S.CombatEffectivenessManager.getInstance().getConversionFactor(4)+t.Miss*S.CombatEffectivenessManager.getInstance().getConversionFactor(5)+(t.Critical-100)*S.CombatEffectivenessManager.getInstance().getConversionFactor(6)+t.AntiCritical*S.CombatEffectivenessManager.getInstance().getConversionFactor(7)+(t.ExtraCritical-2)*S.CombatEffectivenessManager.getInstance().getConversionFactor(8)+t.AntiExtraCritical*S.CombatEffectivenessManager.getInstance().getConversionFactor(9)},e.prototype.getTargetHeroZhanli=function(e,t,a){var n=this.getTargetHeroData(e,t,a);return n.total_hp*S.CombatEffectivenessManager.getInstance().getConversionFactor(1)+n.total_attack*S.CombatEffectivenessManager.getInstance().getConversionFactor(2)+n.total_defense*S.CombatEffectivenessManager.getInstance().getConversionFactor(3)+n.Hit*S.CombatEffectivenessManager.getInstance().getConversionFactor(4)+n.Miss*S.CombatEffectivenessManager.getInstance().getConversionFactor(5)+(n.Critical-100)*S.CombatEffectivenessManager.getInstance().getConversionFactor(6)+n.AntiCritical*S.CombatEffectivenessManager.getInstance().getConversionFactor(7)+(n.ExtraCritical-2)*S.CombatEffectivenessManager.getInstance().getConversionFactor(8)+n.AntiExtraCritical*S.CombatEffectivenessManager.getInstance().getConversionFactor(9)},e.prototype.getNewDayZhanli=function(){var e=cc.sys.localStorage.getItem("today_zhanli_");return""===e||null===e?this.getAllHeroZhanli():parseInt(e)},e.getHeroIsNeedTip=function(e){var t=cc.sys.localStorage.getItem("hero_get_tip_"+e);return""===t||null===t},e.setHeroIsNeedTip=function(e){cc.sys.localStorage.setItem("hero_get_tip_"+e,1)},e.getSkinIndex=function(e){switch(e){case 1:return 1;case 2:return 2;case 3:return 4;case 4:return 7;case 5:return 10;case 6:return 11}},e.prototype.getRandHeroId=function(e,t,a){void 0===t&&(t=C.Hero_Type.NULL),a||(a=this.getTeamList(e));for(var n=[],o=0;o<a.length;o++){var i=a[o];i>C.Hero_Type.NULL&&i!=t&&n.push(a[o])}var r=0;return n.length>0&&(r=n[Math.floor(Math.random()*n.length)]),r},e.prototype.addWearEquipment=function(e,t,a){a||(a=o.EquipmentAttributeManager.getInstance().getEquipmentPosition(t)),P.default.getInstance().emitTask(k.TaskItem.\u4e3a\u4efb\u610fX\u540d\u82f1\u96c4\u7a7f\u62341\u4ef6\u88c5\u5907),this.getHeroInfo(e)["wear"+a]=t,b.default.getInstance().refreshZhanliShow(),l.EventManager.postAssetsEvent(l.AssetsEventType.EQUIP_WEAR_UNLOAD),this.saveHeroList()},e.prototype.unloadWearEquipment=function(e,t){this.getHeroInfo(e)["wear"+t]=0,b.default.getInstance().refreshZhanliShow(),l.EventManager.postAssetsEvent(l.AssetsEventType.EQUIP_WEAR_UNLOAD)},e.prototype.getWearEquipment=function(e,t){return this.getHeroInfo(e)["wear"+t]},e.prototype.getEquipmentRemainNum=function(e){for(var t=e.equip_num,a=o.EquipmentAttributeManager.getInstance().getEquipmentPosition(e.equip_id),n=this.getHeroList(),i=0;i<n.length;i++)n[i]["wear"+a]==e.equip_id&&t--;return t},e.prototype.getWearEquipmentHeroList=function(e){for(var t=[],a=o.EquipmentAttributeManager.getInstance().getEquipmentPosition(e.equip_id),n=this.getHeroList(),i=0;i<n.length;i++){var r=n[i];r["wear"+a]==e.equip_id&&t.push(r.hero_type)}return t},e.prototype.addWearPet=function(e,t){P.default.getInstance().emitTask(k.TaskItem.\u4e3a\u4efb\u610fX\u540d\u82f1\u96c4\u7a7f\u62341\u4ef6\u88c5\u5907),this.getHeroInfo(e).pet_id=t,b.default.getInstance().refreshZhanliShow(),this.saveHeroList()},e.prototype.unloadWearPet=function(e){this.getHeroInfo(e).pet_id=0,b.default.getInstance().refreshZhanliShow()},e.prototype.getWearPet=function(e){return this.getHeroInfo(e).pet_id},e.prototype.getPetRemainNum=function(e){for(var t=e.pet_num,a=o.EquipmentAttributeManager.getInstance().getEquipmentPosition(e.pet_id),n=this.getHeroList(),i=0;i<n.length;i++)n[i]["wear"+a]==e.pet_id&&t--;return t},e.prototype.getWearPetHeroList=function(e){for(var t=[],a=this.getHeroList(),n=0;n<a.length;n++){var o=a[n];o.pet_id==e.pet_id&&t.push(o.hero_type)}return t},e.prototype.checkUpgrade=function(e){var t=new R;if(this.getHeroLevel(e)==r.HeroBaseInfoManager.getInstance().getMaxLevel(e))return t;var a=d.PropManager.getInstance().getPropNum(h.PropId.Coin),n=c.LevelUpManager.getInstance().getCostCoin(this.getHeroLevel(e)),o=d.PropManager.getInstance().getPropNum(h.PropId.Gem),i=c.LevelUpManager.getInstance().getCostGem(this.getHeroLevel(e)),s=_.LevelManager.getInstance().finish_level,l=c.LevelUpManager.getInstance().getLevelLimit(this.getHeroLevel(e));return t.is_can_up=a>=n&&s>=l&&o>=i,t},e.prototype.checkUpStar=function(e){if(!this.getHeroInfo(e))return!1;var t=this.getHeroStage(e);return d.PropManager.getInstance().getPropNum(r.HeroBaseInfoManager.getInstance().getHeroFragment(e))>=s.HeroQualityManager.getInstance().getCostDebrisByHeroQualityAndStage(this.getHeroQuality(e),t)&&t<r.HeroBaseInfoManager.getInstance().getMaxStage(e)},e.prototype.checkAllPurposeFragment=function(e){if(!this.getHeroInfo(e))return!1;var t=this.getHeroStage(e),a=d.PropManager.getInstance().getPropNum(r.HeroBaseInfoManager.getInstance().getHeroFragment(e)),n=s.HeroQualityManager.getInstance().getCostDebrisByHeroQualityAndStage(this.getHeroQuality(e),t),o=n-a;return a<n&&t<r.HeroBaseInfoManager.getInstance().getMaxStage(e)&&d.PropManager.getInstance().getPropNum(this.getHeroFragmentId(e))>=o},e.prototype.getHeroFragmentId=function(e){return 101e3+r.HeroBaseInfoManager.getInstance().getQuality(e)},e.prototype.checkUnlock=function(e){if(this.getHeroInfo(e))return!1;var t=d.PropManager.getInstance().getPropNum(r.HeroBaseInfoManager.getInstance().getHeroFragment(e)),a=r.HeroBaseInfoManager.getInstance().getUnlockFragmentNum(e);if(t>=a)return!0;var n=a-t;return d.PropManager.getInstance().getPropNum(this.getHeroFragmentId(e))>=n},e.prototype.checkExUp=function(e){var t=this.getHeroInfo(e);if(t){var a=E.ExclusiveWeaponMessageManager.getInstance().getJsonExclusiveWeaponMessage(e);if(t.exclusive_equip_stage>=a.MaxStage)return!1;var n=r.HeroBaseInfoManager.getInstance().getJsonHeroBaseInfo(e),o=B.EWUnlockCostManager.getInstance().getCostFragment(t.hero_quality);return d.PropManager.getInstance().getPropNum(n.ExclusiveWeaponFragment)>=o}return!1},e.prototype.getExclusiveWeaponData=function(e,t){var a=new g.HeroData,n=this.getHeroData(e),o=y.ExclusiveEnhancementManager.getInstance().getJsonDataByHeroTypeAndStage(e,t);return null==o?null:(a.total_hp=n.fixed_hp*o.Health,a.total_attack=n.fixed_attck*o.Attack,a.total_defense=n.fix_defense*o.Defense,a)},e.prototype.getExclusiveWeaponCombbat=function(e,t){var a=0,n=this.getExclusiveWeaponData(e,t);return null!=n&&(a=n.total_hp*S.CombatEffectivenessManager.getInstance().getConversionFactor(1)+n.total_attack*S.CombatEffectivenessManager.getInstance().getConversionFactor(2)+n.total_defense*S.CombatEffectivenessManager.getInstance().getConversionFactor(3)),a},e.prototype.checkExclusive=function(){return new G},e.getHeroTypeByRedType=function(e){var t=C.Hero_Type.ChangMaoShou;switch(e){case l.RedEventType.Btn_Role_List_1:t=C.Hero_Type.ChangMaoShou;break;case l.RedEventType.Btn_Role_List_2:t=C.Hero_Type.ShouWang;break;case l.RedEventType.Btn_Role_List_3:t=C.Hero_Type.PaoShou;break;case l.RedEventType.Btn_Role_List_4:t=C.Hero_Type.DeLuYi;break;case l.RedEventType.Btn_Role_List_5:t=C.Hero_Type.KuangZhanShi;break;case l.RedEventType.Btn_Role_List_6:t=C.Hero_Type.ZhenDe;break;case l.RedEventType.Btn_Role_List_7:t=C.Hero_Type.NvWu;break;case l.RedEventType.Btn_Role_List_8:t=C.Hero_Type.GongJianShou;break;case l.RedEventType.Btn_Role_List_9:t=C.Hero_Type.BingNv;break;case l.RedEventType.Btn_Role_List_10:t=C.Hero_Type.ANuBiSi;break;case l.RedEventType.Btn_Role_List_11:t=C.Hero_Type.MeiMo;break;case l.RedEventType.Btn_Role_List_12:t=C.Hero_Type.LeiShen}return t},e.getRedTypeByHeroType=function(e){var t=l.RedEventType.Btn_Role_List_1;switch(e){case C.Hero_Type.ChangMaoShou:t=l.RedEventType.Btn_Role_List_1;break;case C.Hero_Type.ShouWang:t=l.RedEventType.Btn_Role_List_2;break;case C.Hero_Type.PaoShou:t=l.RedEventType.Btn_Role_List_3;break;case C.Hero_Type.DeLuYi:t=l.RedEventType.Btn_Role_List_4;break;case C.Hero_Type.KuangZhanShi:t=l.RedEventType.Btn_Role_List_5;break;case C.Hero_Type.ZhenDe:t=l.RedEventType.Btn_Role_List_6;break;case C.Hero_Type.NvWu:t=l.RedEventType.Btn_Role_List_7;break;case C.Hero_Type.GongJianShou:t=l.RedEventType.Btn_Role_List_8;break;case C.Hero_Type.BingNv:t=l.RedEventType.Btn_Role_List_9;break;case C.Hero_Type.ANuBiSi:t=l.RedEventType.Btn_Role_List_10;break;case C.Hero_Type.MeiMo:t=l.RedEventType.Btn_Role_List_11;break;case C.Hero_Type.LeiShen:t=l.RedEventType.Btn_Role_List_12}return t},e.prototype.getHeroListJsonString=function(){var e=N.default.getInstance().getUserID();return JSON.stringify({uid:e})},e.prototype.setHeroListJsonString=function(e){var t=N.default.getInstance().getUserID();return JSON.stringify({uid:t,heroList:e})},e._instance=null,e}();a.HeroManager=x,cc._RF.pop()},{"../.././NetWork/HttpManager":"HttpManager","../../Constants":"Constants","../../Equipment/Data/EquipmentAttribute":"EquipmentAttribute","../../Equipment/EquipConfig":"EquipConfig","../../Equipment/EquipmentManager":"EquipmentManager","../../GameManager":"GameManager","../../JsonData/EWUnlockCost":"EWUnlockCost","../../JsonData/ExclusiveEnhancement":"ExclusiveEnhancement","../../JsonData/ExclusiveWeaponMessage":"ExclusiveWeaponMessage","../../JsonData/ExclusiveWeaponSkill":"ExclusiveWeaponSkill","../../Level/LevelManager":"LevelManager","../../Pet/Data/SpiritAttribute":"SpiritAttribute","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Storage/StorageConfig":"StorageConfig","../../Storage/StorageManager":"StorageManager","../../Task/TaskEnum":"TaskEnum","../../Task/TaskManager":"TaskManager","../../Tools/EventManager":"EventManager","../../UserData":"UserData","../../UserInfo/UserInfo":"UserInfo","../Game/HeroConfig":"HeroConfig","./CombatEffectiveness":"CombatEffectiveness","./HeroAttribute":"HeroAttribute","./HeroBaseInfo":"HeroBaseInfo","./HeroData":"HeroData","./HeroQuality":"HeroQuality","./HeroTitle":"HeroTitle","./LevelUp":"LevelUp","./SkillConfiguration":"SkillConfiguration","./SkillLevelUnlock":"SkillLevelUnlock"}],HeroQuality:[function(e,t,a){"use strict";cc._RF.push(t,"4eff3yAdfdBXavuuXD3KAMt","HeroQuality"),Object.defineProperty(a,"__esModule",{value:!0}),a.HeroQualityManager=a.JsonHeroQuality=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.StarCultivateID=0,this.Quality=0,this.Stage=0,this.Star=0,this.CurrentStage=0,this.CostFragment=0};a.JsonHeroQuality=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("HeroQuality",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonHeroQuality\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.StarCultivateID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonHeroQuality=function(e){return this.data.get(e)},e.prototype.getQuality=function(e){return this.data.get(e).Quality},e.prototype.getStage=function(e){return this.data.get(e).Stage},e.prototype.getStar=function(e){return this.data.get(e).Star},e.prototype.getCurrentStage=function(e){return this.data.get(e).CurrentStage},e.prototype.getCostFragment=function(e){return this.data.get(e).CostFragment},e.getMaxStarCultivateID=function(){return 6029},e.prototype.getCostDebrisByHeroQualityAndStage=function(e,t){var a=null;return this.data.forEach(function(n){n.Quality==e&&n.Stage==t&&(a=n)}),null==a?0:a.CostFragment},e._instance=null,e}();a.HeroQualityManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],HeroSkillUi:[function(e,t,a){"use strict";cc._RF.push(t,"4c88ebcDlBKOqaIpdfQqHe8","HeroSkillUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Hero/Data/HeroManager"),s=e("../../Hero/Data/SkillConfiguration"),c=e("../../Hero/Data/SkillLevelUnlock"),l=e("../../Hero/Game/HeroConfig"),g=e("../../multiLanguage/LanguageManager"),u=e("../../multiLanguage/TextLanguage"),p=e("../../Tools/MyTool"),d=e("../../UI/UIComponent"),h=e("../Data/HeroAttribute"),f=e("../Data/HeroBaseInfo"),_=cc._decorator,m=_.ccclass,y=(_.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hero_type=l.Hero_Type.NULL,t.skill_pos=1,t.replace=["~a","~b","~c","~d","~e"],t.replaces=["~z","~y","~x","~w","~v"],t}return o(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t)},t.prototype.initData=function(e,t){this.hero_type=e,this.skill_pos=Number(t),this.refreshUi()},t.prototype.refreshUi=function(){var e=this.node.getChildByName("Common_TextBG"),t="",a="";switch(this.skill_pos){case 1:t=g.default.getInstance().getStrByTextId(f.HeroBaseInfoManager.getInstance().getSkillText_ID(this.hero_type)),a=g.default.getInstance().getStrByTextId(f.HeroBaseInfoManager.getInstance().getSkillDescription(this.hero_type));break;case 2:t=g.default.getInstance().getStrByTextId(f.HeroBaseInfoManager.getInstance().getPassiveIntro_1(this.hero_type)),a=g.default.getInstance().getStrByTextId(f.HeroBaseInfoManager.getInstance().getPassiveDescription_1(this.hero_type));break;case 3:t=g.default.getInstance().getStrByTextId(f.HeroBaseInfoManager.getInstance().getPassiveIntro_2(this.hero_type)),a=g.default.getInstance().getStrByTextId(f.HeroBaseInfoManager.getInstance().getPassiveDescription_2(this.hero_type));break;case 4:t=g.default.getInstance().getStrByTextId(f.HeroBaseInfoManager.getInstance().getPassiveIntro_3(this.hero_type)),a=g.default.getInstance().getStrByTextId(f.HeroBaseInfoManager.getInstance().getPassiveDescription_3(this.hero_type))}if(r.HeroManager.getInstance().getHeroLevel(this.hero_type)>=c.SkillLevelUnlockManager.getInstance().getHeroLevel(this.skill_pos)){var n=h.HeroAttributeManager.getInstance().getStarByHeroTypeAndStage(this.hero_type,r.HeroManager.getInstance().getHeroStage(this.hero_type));t+="<color=#4FFF46>(Lv."+ ++n+")</c>",e.getChildByName("skill2").getComponent(u.default).setTextId(120023),e.getChildByName("skill2").getComponent(u.default).setReplaceValue("~",n+"")}else t+=g.default.getInstance().getStrByTextId(720001),e.getChildByName("skill2").getComponent(u.default).setTextId(120022),e.getChildByName("skill2").getComponent(u.default).setReplaceValue("~",c.SkillLevelUnlockManager.getInstance().getHeroLevel(this.skill_pos)+"");var o=h.HeroAttributeManager.getInstance().getStarByHeroTypeAndStage(this.hero_type,r.HeroManager.getInstance().getHeroStage(this.hero_type))+1,i=s.SkillConfigurationManager.GetSkillId(this.hero_type,this.skill_pos,o);a=(a=(a=(a=(a=(a=(a=(a=(a=(a=a.replace(this.replace[0],p.default.numberFormat(s.SkillConfigurationManager.getInstance().getSkillValue_1(i),2)+"")).replace(this.replace[1],p.default.numberFormat(s.SkillConfigurationManager.getInstance().getSkillValue_2(i),2)+"")).replace(this.replace[2],p.default.numberFormat(s.SkillConfigurationManager.getInstance().getSkillValue_3(i),2)+"")).replace(this.replace[3],p.default.numberFormat(s.SkillConfigurationManager.getInstance().getSkillValue_4(i),2)+"")).replace(this.replace[4],p.default.numberFormat(s.SkillConfigurationManager.getInstance().getColdDown(i),2)+"")).replace(this.replaces[0],p.default.numberFormat(100*s.SkillConfigurationManager.getInstance().getSkillValue_1(i))+"")).replace(this.replaces[1],p.default.numberFormat(100*s.SkillConfigurationManager.getInstance().getSkillValue_2(i),2)+"")).replace(this.replaces[2],p.default.numberFormat(100*s.SkillConfigurationManager.getInstance().getSkillValue_3(i),2)+"")).replace(this.replaces[3],p.default.numberFormat(100*s.SkillConfigurationManager.getInstance().getSkillValue_4(i),2)+"")).replace(this.replaces[4],p.default.numberFormat(100*s.SkillConfigurationManager.getInstance().getColdDown(i),2)+""),e.getChildByName("title").getComponent(cc.RichText).string=t,e.getChildByName("skill1").getComponent(cc.RichText).string=a},t.prototype.getHeroSkillId=function(){},t.prototype.replaceStr=function(e,t){return e.replace("~",t)},i([m],t)}(d.default));a.default=y,cc._RF.pop()},{"../../Hero/Data/HeroManager":"HeroManager","../../Hero/Data/SkillConfiguration":"SkillConfiguration","../../Hero/Data/SkillLevelUnlock":"SkillLevelUnlock","../../Hero/Game/HeroConfig":"HeroConfig","../../Tools/MyTool":"MyTool","../../UI/UIComponent":"UIComponent","../../multiLanguage/LanguageManager":"LanguageManager","../../multiLanguage/TextLanguage":"TextLanguage","../Data/HeroAttribute":"HeroAttribute","../Data/HeroBaseInfo":"HeroBaseInfo"}],HeroTitle:[function(e,t,a){"use strict";cc._RF.push(t,"63c56t90mxElL6v+2t5o5JU","HeroTitle"),Object.defineProperty(a,"__esModule",{value:!0}),a.HeroTitleManager=a.JsonHeroTitle=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.HeroTitleID=0,this.HeroID=0,this.HeroStar=0,this.HeroTitleText=0};a.JsonHeroTitle=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("HeroTitle",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonHeroTitle\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.HeroTitleID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonHeroTitle=function(e){return this.data.get(e)},e.prototype.getHeroID=function(e){return this.data.get(e).HeroID},e.prototype.getHeroStar=function(e){return this.data.get(e).HeroStar},e.prototype.getHeroTitleText=function(e){return this.data.get(e).HeroTitleText},e.getMaxHeroTitleID=function(){return 12005},e.prototype.getHeroTitleTextIdByHeroTypeAndHeroStar=function(e,t){var a;return this.data.forEach(function(n){n.HeroID==e&&n.HeroStar==t&&(a=n)}),a.HeroTitleText},e._instance=null,e}();a.HeroTitleManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],Hero:[function(e,t,a){"use strict";cc._RF.push(t,"47edbULhwZPhobdLMcwk04c","Hero");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("./HeroConfig"),s=e("../Data/HeroData"),c=e("../../GameManager"),l=e("../../Game/GameEffectsManager"),g=e("../../Monster/MonsterManager"),u=e("../../Constants"),p=e("../../Game/BuffStateManager"),d=e("../../Monster/MonsterData"),h=e("../../Game/SkillManager"),f=e("./BuffTimer"),_=e("./BuffData"),m=e("./SkillTip"),y=e("../../Game/SkyManager"),I=e("../../multiLanguage/LanguageManager"),v=e("../../Task/TaskManager"),M=e("../../Task/TaskEnum"),C=e("../../Wall/WallManager"),S=e("../../copy/endlesschallenges/EndlessConfig"),P=e("../../Pet/Data/SpiritAttribute"),k=e("../../Pet/Game/FirePet"),b=e("../Data/HeroBaseInfo"),T=e("../../Pet/Game/IcePet"),B=e("../../Pet/Game/WindPet"),w=e("../../Pet/Game/RayPet"),N=e("../../Monster/Monster"),L=e("../../Game/TouchPlane/TouchPlane"),D=cc._decorator,E=D.ccclass,R=D.property,G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.is_load_ok=!1,t.cur_load_num=0,t.need_load_num=0,t.hero_type=r.Hero_Type.ChangMaoShou,t.prefab_skill_tip=null,t.spine=null,t.cur_fangxiang=r.GongJi_FangXiang.zuo,t.hero_state=r.Hero_State.idle,t.gongji_jishu=1,t.is_can_gongji=!1,t.is_can_jishu=!0,t.max_gongji_num=1,t.skill_cd_time=0,t.skill_total_time=5,t.casting_distance=1e3,t.bullet_speed=1e3,t.cost_mp=20,t.posIndex=-1,t.mp_progress=null,t.hero_buff=null,t.hero_debuff=null,t.map_endless_buff=null,t.xuanyun_pos=null,t.bullet_pos=[],t.hero_data=null,t.is_show_mp_hint=!1,t.cur_toughness=0,t.zhishiqi_type=r.SkillIndicatorType.beeline,t.skill_callback=null,t.attack_callback=null,t.xuanyun_callback=null,t.hit_callback=null,t.reset_callback=null,t.win_callback=null,t.loaded_callback=null,t.pet=null,t.must_crit=0,t.crit_increase_cd_3_num=0,t.setup_scale=.5,t.base_att_jiange=0,t.map_buff_state=null,t.map_debuff_state=null,t.is_need_check_distance=!0,t.skill_tip_type=r.SkillTipType.Full,t.is_can_touch=!1,t.skill_tip=null,t.is_auto_release=!1,t.touch_rect=null,t.use_skill_num=0,t.node_shadow=null,t.click_remain=0,t.gongji_sudu=0,t.skill_queue=[],t.is_double_attack=!1,t.v_Index=0,t.posX=0,t.targetX=0,t.easing=.1,t}var a;return o(t,e),a=t,t.prototype.onLoad=function(){c.default.getInstance().all_hero.set(this.hero_type,this),this.spine=this.node.getComponent(sp.Skeleton),this.touchListen(),this.initPos(),this.node.scale=this.setup_scale,this.node.scaleX=-this.setup_scale,this.addLoadByGameEffectId(l.GameEffectId.hero_skill_common,2),this.addLoadByGameEffectId(l.GameEffectId.skill_damage_record,2),this.node.zIndex=1,this.map_buff_state=new Map,this.map_debuff_state=new Map,this.hero_buff=new Map,this.hero_debuff=new Map,this.map_endless_buff=new Map,this.addSkillTipType()},t.prototype.start=function(){this.hero_data=c.default.getInstance().game_hero_data.get(this.hero_type),this.bullet_speed=b.HeroBaseInfoManager.getInstance().getBaseBulletSpeed(this.hero_type),this.gongji_jishu=this.hero_data.gongji_jiange,this.gongji_sudu=this.getAttackSpeed(),this.setHeroState(r.Hero_State.idle,r.GongJi_FangXiang.zhong),this.loadMpProgress(),this.loadPet();var e=this.node.getChildByName("Monster_Shadow");this.pos=e.getPosition(),this.node_shadow=cc.instantiate(e),this.node_shadow.parent=cc.find("Canvas/Hero_Shadow_Root"),this.node_shadow.scale=this.setup_scale,this.node_shadow.setPosition(cc.v2(this.node.x+this.pos.x*this.setup_scale,this.node.y+this.pos.y*this.setup_scale)),e.removeFromParent(),this.getHeroState()==r.Hero_State.exit&&(this.node_shadow.opacity=0),this.casting_distance=this.hero_data.gongji_fanwei,cc.winSize.height/cc.winSize.width>2&&(this.casting_distance=this.hero_data.gongji_fanwei+200),this.setTouchRect()},t.prototype.onDestroy=function(){this.node.getChildByName("touchNode")&&L.instance.off(cc.Node.EventType.TOUCH_END,this.onTouchEndByJoy,this),c.default.getInstance().all_hero.delete(this.hero_type)},t.prototype.addSkillTipType=function(){var e=cc.instantiate(this.prefab_skill_tip);switch(this.skill_tip=e.getComponent(m.default),this.skill_tip_type=this.skill_tip.getSkillTipType(),this.skill_tip.node.active=!1,this.skill_tip_type){case r.SkillTipType.Full:case r.SkillTipType.Circle:case r.SkillTipType.Rect:case r.SkillTipType.Dir:h.default.getInstance().node.addChild(e)}},t.prototype.setTouchRect=function(){var e=this.node.getChildByName("touchNode");this.touch_rect=cc.rect(this.node.x+e.x*this.setup_scale-e.width*this.setup_scale/2,this.node.y+e.y*this.setup_scale-e.height*this.setup_scale/2,e.width*this.setup_scale,e.height*this.setup_scale)},t.prototype.setSkillTipSize=function(e,t){this.skill_tip.node.width=e,this.skill_tip.node.height=t},t.prototype.getSkillTipSize=function(){return this.skill_tip.node.getContentSize()},t.prototype.touchListen=function(){this.node.getChildByName("touchNode")&&L.instance.on(cc.Node.EventType.TOUCH_END,this.onTouchEndByJoy,this)},t.prototype.initPos=function(){var e=this.node.getChildByName("xuanyun");this.xuanyun_pos=e.getPosition(),e.removeFromParent(),this.bullet_pos=new Array;var t=this.node.getChildByName("bullet1"),a=this.node.getChildByName("bullet2");this.bullet_pos.push(a.getPosition()),this.bullet_pos.push(t.getPosition()),this.bullet_pos.push(a.getPosition()),t.removeFromParent(),a.removeFromParent()},t.prototype.onGameWin=function(){this.skill_queue=new Array,this.setHeroState(r.Hero_State.idle,r.GongJi_FangXiang.zhong),this.gongji_jishu=0,this.win_callback&&this.win_callback()},t.prototype.addSkillListen=function(e){this.skill_callback=e},t.prototype.addAttackListen=function(e){this.attack_callback=e},t.prototype.addHitListen=function(e){this.hit_callback=e},t.prototype.addResetListen=function(e){this.reset_callback=e},t.prototype.addGameWinListen=function(e){this.win_callback=e},t.prototype.addLoadedListen=function(e){this.loaded_callback=e},t.prototype.loadMpProgress=function(){},t.prototype.loadZhiShiQi=function(e,t){this.zhishiqi_type=t,console.log("\u52a0\u8f7dhero"+e),cc.resources.load("heros/"+e,cc.Prefab,function(e){e&&console.log(e)})},t.prototype.addLoadByGameEffectId=function(e,t){var n=this;1==l.GameEffectsManager.getInstance().addEffectPoolById(e,t,function(){n.cur_load_num++,n.cur_load_num>=n.need_load_num&&0==n.is_load_ok&&(n.is_load_ok=!0,a.cur_loaded_num++,n.loaded_callback&&n.loaded_callback())})&&this.need_load_num++},t.prototype.loadPet=function(){var e=this;if(this.hero_data.pet_id>0){var t=P.SpiritAttributeManager.getInstance().getSpiritType(this.hero_data.pet_id);this.need_load_num++,cc.resources.load("pet/pet"+t,cc.Prefab,function(n,o){if(n)console.log(n);else{var i=cc.instantiate(o);switch(cc.find("Canvas/Pet_Root").addChild(i),t){case 1:e.pet=i.addComponent(T.default);break;case 2:e.pet=i.addComponent(k.default);break;case 3:e.pet=i.addComponent(B.default);break;case 4:e.pet=i.addComponent(w.default)}e.pet.init(e.hero_data.pet_id,e.hero_type,cc.v2(e.node.x-64,e.node.y+64)),e.pet.setHeroData(e.hero_data),e.cur_load_num++,i.zIndex=1e3-i.y,e.cur_load_num>=e.need_load_num&&(e.is_load_ok=!0,a.cur_loaded_num++)}})}},t.prototype.hideHero=function(){this.hero_state=r.Hero_State.exit,this.node.opacity=0,this.node_shadow&&(this.node_shadow.opacity=0),this.mp_progress&&this.mp_progress.hide()},t.prototype.showHero=function(){this.setHeroState(r.Hero_State.idle,r.GongJi_FangXiang.zhong),this.node.opacity=255,this.node_shadow.opacity=255,this.mp_progress.show()},t.prototype.onTouchEndByJoy=function(){this.targetX=75*(c.default.getInstance().aniType-4)+this.posX},t.prototype.setSkin=function(){},t.prototype.onTouchStart=function(e){if(this.isHaveDeBuff(r.BuffId.Monster_XuanYun)&&this.hero_type!=r.Hero_Type.ZhenDe)return this.is_can_touch=!1,c.default.getInstance().showMessage(I.default.getInstance().getStrByTextId(170002),1),!1;if(this.skill_cd_time>0)return this.is_can_touch=!1,!(this.click_remain>0||(c.default.getInstance().showMessage(I.default.getInstance().getStrByTextId(170001),1),1));if(c.default.getInstance().cur_game_state!=u.GameState.Game_Playing)return!1;this.is_can_touch=!0,this.is_auto_release=!0,this.click_remain=1,h.default.getInstance().releaseSkillResult(!1);var t=y.default.getInstance().node.convertToNodeSpaceAR(e.getLocation());switch(this.skill_tip_type){case r.SkillTipType.Full:this.skill_tip.node.setPosition(cc.v2(0,-cc.winSize.height/2)),this.skill_tip.node.active=!1,this.skill_tip.setIsCanRelease(!1);break;case r.SkillTipType.Circle:case r.SkillTipType.Rect:this.skill_tip.node.setPosition(t),this.skill_tip.node.active=!0,this.skill_tip.setIsCanRelease(!1);break;case r.SkillTipType.Dir:this.skill_tip.node.setPosition(this.node.getPosition()),this.skill_tip.node.active=!0,this.skill_tip.setIsCanRelease(!1)}h.default.getInstance().showSkillRange(this.node.y,this.casting_distance)},t.prototype.onTouchMove=function(e){if(0!=this.is_can_touch&&c.default.getInstance().cur_game_state==u.GameState.Game_Playing){var t=y.default.getInstance().node.convertToNodeSpaceAR(e.getLocation());switch(this.touch_rect.contains(t)||(this.is_auto_release=!1),this.skill_tip_type){case r.SkillTipType.Full:break;case r.SkillTipType.Circle:case r.SkillTipType.Rect:this.skill_tip.node.setPosition(t);break;case r.SkillTipType.Dir:}t.y>c.default.getInstance().enemy_att_y&&t.y-this.node.y<=this.casting_distance?this.skill_tip.setIsCanRelease(!0):this.skill_tip.setIsCanRelease(!1)}},t.prototype.onTouchEnd=function(e){if(h.default.getInstance().releaseSkillResult(!0),h.default.getInstance().hideSkillRange(),this.skill_tip.node.active=!1,0!=this.is_can_touch&&c.default.getInstance().cur_game_state==u.GameState.Game_Playing){var t=y.default.getInstance().node.convertToNodeSpaceAR(e.getLocation());t.y>c.default.getInstance().enemy_att_y?t.y-this.node.y<=this.casting_distance&&this.releaseSkill(t):this.is_auto_release&&0==this.startAutoRelease()&&c.default.getInstance().showMessage(I.default.getInstance().getStrByTextId(140023))}},t.prototype.onTouchCancel=function(e){if(h.default.getInstance().releaseSkillResult(!0),h.default.getInstance().hideSkillRange(),this.skill_tip.node.active=!1,0!=this.is_can_touch&&c.default.getInstance().cur_game_state==u.GameState.Game_Playing){var t=y.default.getInstance().node.convertToNodeSpaceAR(e.getLocation());t.y>c.default.getInstance().enemy_att_y?t.y-this.node.y<=this.casting_distance&&this.releaseSkill(t):this.is_auto_release&&this.startAutoRelease()}},t.prototype.startAutoRelease=function(){var e=g.default.getInstance().getMonstersForNearestBySkill(1,this.node.y,this.casting_distance);if(e){var t=e[0].getComponent(N.default).getCenterPos();return this.releaseSkill(t),!0}return!1},t.prototype.releaseSkill=function(e){c.default.getInstance().cur_game_state==u.GameState.Game_Playing&&(this.use_skill_num++,this.skill_callback&&this.skill_callback(e),this.resetCD(),v.default.getInstance().emitTask(M.TaskItem.\u91ca\u653eX\u6b21\u4eba\u7269\u6280\u80fd))},t.prototype.getSkillReleaseId=function(){return 1e4*this.hero_type+this.use_skill_num},t.prototype.getCreateBulletPos=function(){var e=this.bullet_pos[this.cur_fangxiang];return cc.v2(this.node.x+e.x*this.node.scaleX,this.node.y+e.y*this.node.scaleY)},t.prototype.getHeroBulletPos=function(){return this.bullet_pos[this.cur_fangxiang]},t.prototype.addEndlessBuff=function(e){if(!this.isHaveEndlessId(e.id))switch(this.map_endless_buff.set(e.id,e),e.type){case S.EndlessBuffType.Attack:this.hero_data.total_attack+=this.hero_data.fixed_attck*e.value;break;case S.EndlessBuffType.AttackSpeed:this.changeAttackSpeed(e.value);break;case S.EndlessBuffType.CritRate:this.hero_data.Critical+=e.value;break;case S.EndlessBuffType.CritDamage:this.hero_data.ExtraCritical+=e.value;break;case S.EndlessBuffType.Defense:this.hero_data.total_defense+=this.hero_data.fix_defense*e.value;break;case S.EndlessBuffType.HealthMax:this.hero_data.total_hp+=this.hero_data.fixed_hp*e.value,c.default.getInstance().refreshMainWallData();break;case S.EndlessBuffType.HealthSec:var t=new _.BuffData;t.buff_id=r.BuffId.Wall_Endless_Add_hp+this.hero_type,t.buff_type=r.BuffType.Gain,t.buff_value=[e.value*C.default.getInstance().getMainWall().getMaxHp()],t.remain_time=66666666,t.recovery_jiange_time=1,C.default.getInstance().getMainWall().addBuff(t);break;case S.EndlessBuffType.HealthTeamAdd:case S.EndlessBuffType.DoubleAttack:break;case S.EndlessBuffType.ActiveSkillCd:this.skill_total_time-=this.hero_data.getSkillColdDown(r.SkillType.Active)*e.value;break;case S.EndlessBuffType.AddDamage:this.hero_data.all_increase_damage+=e.value}},t.prototype.removeEndlessBuff=function(e){if(!this.isHaveEndlessId(e)){var t=this.map_endless_buff.get(e);switch(this.map_endless_buff.delete(e),t.type){case S.EndlessBuffType.Attack:this.hero_data.total_attack-=this.hero_data.fixed_attck*t.value;break;case S.EndlessBuffType.AttackSpeed:this.changeAttackSpeed(-t.value);break;case S.EndlessBuffType.CritRate:this.hero_data.Critical-=t.value;break;case S.EndlessBuffType.CritDamage:this.hero_data.ExtraCritical-=t.value;break;case S.EndlessBuffType.Defense:this.hero_data.total_defense-=this.hero_data.fix_defense*t.value;break;case S.EndlessBuffType.HealthMax:this.hero_data.total_hp-=this.hero_data.fixed_hp*t.value;break;case S.EndlessBuffType.HealthSec:C.default.getInstance().getMainWall().subBuff(r.BuffId.Wall_Endless_Add_hp+this.hero_type);break;case S.EndlessBuffType.HealthTeamAdd:case S.EndlessBuffType.DoubleAttack:break;case S.EndlessBuffType.ActiveSkillCd:this.skill_total_time+=this.hero_data.getSkillColdDown(r.SkillType.Active)*t.value;break;case S.EndlessBuffType.AddDamage:this.hero_data.all_increase_damage-=t.value}}},t.prototype.isHaveEndlessId=function(e){return this.map_endless_buff.has(e)},t.prototype.getEndlessByType=function(e){var t=null;return this.map_endless_buff.forEach(function(a){a.type==e&&(t=a)}),t},t.prototype.getEndlessBuff=function(e){return this.map_endless_buff.get(e)},t.prototype.addBuff=function(e){var t=e.buff_id;if(this.isHaveBuff(t))return(a=this.hero_buff.get(t)).refreshBuff(e),this.addBuffState(t,e.remain_time),a;var a,n=null;switch(e.game_effect_id==l.GameEffectId.Null?(n=new cc.Node(e.game_effect_id.toString()),this.node.addChild(n)):n=l.GameEffectsManager.getInstance().createGameEffectForParent(e.game_effect_id,this.xuanyun_pos,this.node),(a=n.getComponent(f.default))||(a=n.addComponent(f.default)),a.init(e),a.addDestroyListen(this.onBuffDestory.bind(this)),e.recovery_jiange_time>0&&a.addRecoveryListen({doRecovery:function(e){C.default.getInstance().getMainWall().changeHp(e)}},a.getFirstBuffValue()),this.hero_buff.set(e.buff_id,a),n.scale=1/this.setup_scale,t){case r.BuffId.Pet3_JiaSu:case r.BuffId.Hero_MeiMo_GongSu:case r.BuffId.Hero_ZhenDe_Gongsu:case r.BuffId.Hero_KuangZhanShi_DaZhao:this.changeAttackSpeed(e.buff_value[0]);break;case r.BuffId.Hero_ChangMaoShow_GongSu:this.changeAttackSpeed(e.buff_value[0]),n.setPosition(cc.v2(0,0)),a.addTeXiao(l.GameEffectId.chang_mao_shou_skill_active_2,this.node.getPosition(),cc.find("Canvas/Hero_Shadow_Root"));break;case r.BuffId.Hero_ZhenDe_BaoJiMingZhongLv:this.hero_data.crit_ex+=e.buff_value[0],this.hero_data.hit_ex+=e.buff_value[0]}return this.addBuffState(t,e.remain_time),a},t.prototype.subBuff=function(e){var t=this.hero_buff.get(e);return!!t&&(t.destroySelf(),!0)},t.prototype.onBuffDestory=function(e){switch(this.hero_buff.delete(e.buff_id),e.buff_id){case r.BuffId.Pet3_JiaSu:case r.BuffId.Hero_MeiMo_GongSu:case r.BuffId.Hero_KuangZhanShi_DaZhao:case r.BuffId.Hero_ZhenDe_Gongsu:case r.BuffId.Hero_ChangMaoShow_GongSu:this.changeAttackSpeed(-e.buff_value[0]);break;case r.BuffId.Hero_ZhenDe_BaoJiMingZhongLv:this.hero_data.crit_ex-=e.buff_value[0],this.hero_data.hit_ex-=e.buff_value[0]}},t.prototype.isHaveBuff=function(e){return this.hero_buff.has(e)},t.prototype.removeAllBuff=function(){var e=this;this.hero_buff.forEach(function(t){e.subBuff(t.getBuffId())})},t.prototype.addDeBuff=function(e,t){if(void 0===t&&(t=0),!this.isHaveDeBuff(e.buff_id)){if(e.buff_type==r.BuffType.Vertigo){if(this.cur_toughness>=1)return!1;this.hero_type!=r.Hero_Type.ZhenDe&&(this.mp_progress.setDisable(!0),h.default.getInstance().hideSkillRange(),this.skill_tip.node.active=!1),this.gongji_jishu=0,this.spine.paused=!0,this.is_can_touch=!1,t>0&&(e.remain_time=d.InjuredData.calcControlTime(e.remain_time,this.cur_toughness,t)),this.xuanyun_callback&&this.xuanyun_callback(!0),C.default.getInstance().getMainWall().showVertigo(e.remain_time),h.default.getInstance().setTimeStop(!1),h.default.getInstance().setIsSkillState(!1)}var a=null;switch(e.game_effect_id==l.GameEffectId.Null?(a=new cc.Node(e.game_effect_id.toString()),this.node.addChild(a)):(a=l.GameEffectsManager.getInstance().createGameEffectForParent(e.game_effect_id,this.xuanyun_pos,this.node)).scale=this.node.width/200,(n=a.getComponent(f.default))||(n=a.addComponent(f.default)),n.init(e),n.addDestroyListen(this.onDeBuffDestory.bind(this)),this.hero_debuff.set(e.buff_id,n),a.scale=1/this.setup_scale,e.buff_id){case r.BuffId.Boss6_Skill_2_jiangongsu:case r.BuffId.Boss3_JIAN_GongSu:this.changeAttackSpeed(-e.buff_value[0]);break;case r.BuffId.Boss8_Skill_2_attack:this.hero_data.total_attack-=e.buff_value[0]*this.hero_data.fixed_attck}return this.addDeBuffState(e.buff_id,e.remain_time),!0}var n;switch((n=this.hero_debuff.get(e.buff_id)).refreshBuff(e),this.addDeBuffState(e.buff_id,e.remain_time),e.buff_id){case r.BuffId.Boss6_Skill_2_jiangongsu:n.getFloorNum()<e.max_floor&&this.changeAttackSpeed(-e.buff_value[0])}return!1},t.prototype.subDeBuff=function(e){var t=this.hero_debuff.get(e);return!!t&&(t.destroySelf(),!0)},t.prototype.onDeBuffDestory=function(e){switch(this.hero_debuff.delete(e.buff_id),e.buff_id){case r.BuffId.Monster_XuanYun:this.hero_type!=r.Hero_Type.ZhenDe&&this.mp_progress.setDisable(!1),this.gongji_jishu=0,this.spine.paused=!1,this.is_can_touch=!0,C.default.getInstance().getMainWall().hideVertigo(),this.xuanyun_callback&&this.xuanyun_callback(!1);break;case r.BuffId.Boss3_JIAN_GongSu:this.changeAttackSpeed(e.buff_value[0]),(t=this.map_debuff_state.get(r.BuffStateType.AttackSpeed))&&t.destroySelf();break;case r.BuffId.Boss6_Skill_2_jiangongsu:this.changeAttackSpeed(e.buff_value[0]*e.cur_floor),(t=this.map_debuff_state.get(r.BuffStateType.AttackSpeed))&&t.destroySelf();break;case r.BuffId.Boss8_Skill_2_attack:var t;this.hero_data.total_attack+=e.buff_value[0]*this.hero_data.fixed_attck,(t=this.map_debuff_state.get(r.BuffStateType.Attack))&&t.destroySelf()}},t.prototype.isHaveDeBuff=function(e){return this.hero_debuff.has(e)},t.prototype.removeAllDeBuff=function(){var e=this;this.hero_debuff.forEach(function(t){e.subDeBuff(t.getBuffId())})},t.prototype.getGameEffectIdByDebuff=function(e){var t=l.GameEffectId.Null;switch(e){case r.Hero_DeBuff.XuanYun:t=l.GameEffectId.xuanyun}return t},t.prototype.getGameEffectNameByDebuff=function(e){var t="0";switch(e){case r.Hero_DeBuff.XuanYun:t=l.GameEffectId.xuanyun+""}return t},t.prototype.addXuanYunListen=function(e){this.xuanyun_callback=e},t.prototype.resetState=function(){this.setCD(1/3),this.removeAllBuff(),this.removeAllDeBuff(),this.map_buff_state.forEach(function(e){e.destroySelf()}),this.map_debuff_state.forEach(function(e){e.destroySelf()}),this.reset_callback&&this.reset_callback(),this.hero_data=c.default.getInstance().game_hero_data.get(this.hero_type)},t.prototype.addBuffState=function(e,t){for(var a=p.default.getInstance().getBuffType(e),n=0;n<a.length;n++){var o=a[n];if(this.map_buff_state.has(o))this.map_buff_state.get(o).refreshTime(t);else{var i=p.default.getInstance().createBuffState(o,this.hero_type);i.init(o,t,this.onBuffStateDestory.bind(this)),this.map_buff_state.set(o,i)}}},t.prototype.onBuffStateDestory=function(e){this.map_buff_state.delete(e)},t.prototype.addDeBuffState=function(e,t){for(var a=p.default.getInstance().getDeBuffType(e),n=0;n<a.length;n++){var o=a[n];if(this.map_debuff_state.has(o))this.map_debuff_state.get(o).refreshTime(t);else{var i=p.default.getInstance().createDeBuffState(o,this.hero_type);i.init(o,t,this.onDeBuffStateDestory.bind(this)),this.map_debuff_state.set(o,i)}}},t.prototype.onDeBuffStateDestory=function(e){this.map_debuff_state.delete(e)},t.prototype.setAttackSpeed=function(e){this.gongji_sudu=e,e>10&&(e=10),e<.1&&(e=.1),this.hero_data.gongji_jiange=1/e},t.prototype.changeAttackSpeed=function(e){var t=this.getAttackSpeed();t+=e*(1/this.hero_data.base_jiange),this.setAttackSpeed(t)},t.prototype.getAttackSpeed=function(){return 1/this.hero_data.gongji_jiange},t.prototype.setHeroState=function(e,t,a,n){switch(this.hero_state=e,this.cur_fangxiang=t,this.cur_fangxiang){case r.GongJi_FangXiang.zuo:case r.GongJi_FangXiang.zhong:case r.GongJi_FangXiang.you:this.node.scaleX=this.setup_scale}switch(this.hero_state){case r.Hero_State.idle:this.playSpineAnimation(this.getSpineName(),!0,null,null);break;case r.Hero_State.attack:case r.Hero_State.skill:this.playSpineAnimation(this.getSpineName(),!1,a,n)}},t.prototype.setHeroStateAndAnimation=function(e,t,a,n,o){this.hero_state=e,this.playSpineAnimation(t,a,n,o)},t.prototype.getHeroState=function(){return this.hero_state},t.prototype.getFangXiangByPos=function(e){var t=r.GongJi_FangXiang.zhong,a=e.sub(this.node.getPosition()),n=2*Math.PI,o=(Math.atan2(a.y,a.x)+n)%n*180/Math.PI;return o<=60?t=r.GongJi_FangXiang.you:o>60&&o<120?t=r.GongJi_FangXiang.zhong:o>=120&&o<=180&&(t=r.GongJi_FangXiang.zuo),t},t.prototype.getSpineName=function(){switch(this.hero_state){case r.Hero_State.attack:return r.Hero_State_Name.Attack;case r.Hero_State.skill:return r.Hero_State_Name.Skill;case r.Hero_State.idle:return r.Hero_State_Name.Idle}},t.prototype.playSpineAnimation=function(e,t,a,n){void 0===t&&(t=!1);var o=this.spine.setAnimation(0,e,t);a&&this.spine.setTrackEventListener(o,function(e,t){for(var n=0;n<a.length;n++)t.data.name==a[n].name&&a[n].callback()}),n&&this.spine.setTrackCompleteListener(o,function(){o.listener=null,n()})},t.prototype.resetSkill=function(){this.skill_cd_time=0,this.showCD()},t.prototype.resetCD=function(){this.skill_cd_time=this.skill_total_time,this.showCD()},t.prototype.setCD=function(e){this.skill_cd_time=e*this.hero_data.getSkillColdDown(r.SkillType.Active),this.changeCD(0)},t.prototype.changeCD=function(e){this.skill_cd_time+=e,this.skill_cd_time<=0?(this.skill_cd_time=0,this.mp_progress&&this.mp_progress.setNormalSP(),c.default.getInstance().auto_fighting&&c.default.getInstance().cur_game_state==u.GameState.Game_Playing&&this.getIsCanSkill()&&0==h.default.getInstance().getIsSkillState()&&this.startAutoRelease()):this.mp_progress&&this.mp_progress.setCDSP(),this.showCD()},t.prototype.showCD=function(){if(this.mp_progress){var e=1-this.skill_cd_time/this.skill_total_time;this.mp_progress.setProgress(e)}},t.prototype.getIsCanSkill=function(){return!this.isHaveDeBuff(r.BuffId.Monster_XuanYun)&&this.getHeroState()!=r.Hero_State.exit&&(this.is_show_mp_hint=!1,this.skill_cd_time<=0&&(!this.is_need_check_distance||null!=g.default.getInstance().getMonstersForNearestBySkill(this.max_gongji_num,this.node.y,this.casting_distance)))},t.prototype.getGongJiData=function(e,t,a,n,o){void 0===n&&(n=1),void 0===o&&(o=0);var i=new s.GongJiData;return i.hero_data=cc.instantiate(this.hero_data),i.is_bullet=t,i.damage_type=e,i.hero_type=this.hero_type,e==r.DamageType.Normal||(i.skill_damage_rate=n,i.continuous_damage_rate=o,a==r.SkillType.Active&&(i.skill_release_id=this.getSkillReleaseId())),i},t.prototype.onDamageMonster=function(e,t,a){e==r.DamageType.Normal&&this.pet&&this.pet.onHeroHitMonster(a),this.hit_callback&&this.hit_callback(e,t,a)},t.prototype.resetGongJiJiShu=function(){this.gongji_jishu=0,this.is_can_jishu=!0},t.prototype.resetNormalAttack=function(){this.gongji_jishu=this.hero_data.gongji_jiange,this.is_can_jishu=!0},t.prototype.setAttSpineScale=function(){this.spine.timeScale=this.hero_data.base_jiange/this.hero_data.gongji_jiange},t.prototype.startNormalAttack=function(e){var t=this.is_double_attack;if(this.is_double_attack&&(this.spine.timeScale=this.hero_data.base_jiange/this.hero_data.gongji_jiange*2),this.is_double_attack=!1,this.attack_callback(e),this.pet&&this.pet.startReleaseSkill(e),c.default.getInstance().cur_game_mode==u.GameMode.Endless&&0==t){var a=this.getEndlessByType(S.EndlessBuffType.DoubleAttack);if(a){var n=a.value;Math.random()<n&&(this.is_double_attack=!0,this.spine.timeScale=this.hero_data.base_jiange/this.hero_data.gongji_jiange*2)}}},t.prototype.update=function(e){if(c.default.getInstance().cur_game_state==u.GameState.Game_Playing&&r.Hero_State.exit!=this.getHeroState()&&(this.checkSkill(e),!this.isHaveDeBuff(r.BuffId.Monster_XuanYun))){this.checkAttack(e),this.click_remain>0&&(this.click_remain-=e);var t=(this.targetX-this.node.x)*this.easing;this.node.x+=t,2==this.posIndex&&(c.default.getInstance().charPosX=this.node.x),this.node_shadow&&this.node_shadow.setPosition(cc.v2(this.node.x+this.pos.x*this.setup_scale,this.node.y+this.pos.y*this.setup_scale))}},t.prototype.updateCheck=function(e){return!this.isHaveDeBuff(r.BuffId.Monster_XuanYun)&&(this.checkAttack(e),!0)},t.prototype.checkSkill=function(e){this.hero_state!=r.Hero_State.skill&&this.changeCD(-e)},t.prototype.checkAttack=function(e){if(this.is_can_jishu&&this.is_load_ok&&(this.gongji_jishu+=e,this.gongji_jishu>=this.hero_data.gongji_jiange&&(this.gongji_jishu=0,this.is_can_gongji=!0)),this.is_can_gongji&&this.getHeroState()!=r.Hero_State.skill){this.is_can_gongji=!1;var t=g.default.getInstance().getMonstersForNearest(this.max_gongji_num,this.node.getPosition(),this.hero_data.gongji_fanwei,this.posIndex);t&&(this.gongji_jishu=0,this.is_can_gongji=!0,this.setAttSpineScale(),this.startNormalAttack(t[0]))}},t.max_load_num=0,t.cur_loaded_num=0,i([R({type:cc.Enum(r.Hero_Type)})],t.prototype,"hero_type",void 0),i([R(cc.Prefab)],t.prototype,"prefab_skill_tip",void 0),a=i([E],t)}(cc.Component);a.default=G,cc._RF.pop()},{"../../Constants":"Constants","../../Game/BuffStateManager":"BuffStateManager","../../Game/GameEffectsManager":"GameEffectsManager","../../Game/SkillManager":"SkillManager","../../Game/SkyManager":"SkyManager","../../Game/TouchPlane/TouchPlane":"TouchPlane","../../GameManager":"GameManager","../../Monster/Monster":"Monster","../../Monster/MonsterData":"MonsterData","../../Monster/MonsterManager":"MonsterManager","../../Pet/Data/SpiritAttribute":"SpiritAttribute","../../Pet/Game/FirePet":"FirePet","../../Pet/Game/IcePet":"IcePet","../../Pet/Game/RayPet":"RayPet","../../Pet/Game/WindPet":"WindPet","../../Task/TaskEnum":"TaskEnum","../../Task/TaskManager":"TaskManager","../../Wall/WallManager":"WallManager","../../copy/endlesschallenges/EndlessConfig":"EndlessConfig","../../multiLanguage/LanguageManager":"LanguageManager","../Data/HeroBaseInfo":"HeroBaseInfo","../Data/HeroData":"HeroData","./BuffData":"BuffData","./BuffTimer":"BuffTimer","./HeroConfig":"HeroConfig","./SkillTip":"SkillTip"}],Hint:[function(e,t,a){"use strict";cc._RF.push(t,"8a48fRcuT5BXbMn7RTHnFZa","Hint");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hint_label=null,t}return o(t,e),t.prototype.onLoad=function(){this.hint_label=this.node.getChildByName("hintLabel").getComponent(cc.Label)},t.prototype.start=function(){this.node.zIndex=9999},t.prototype.showHintMessage=function(e,t){var a=this;t||(t=1.5),this.hint_label.string=e,this.node.opacity=0,this.hint_label.enabled=!1,this.scheduleOnce(function(){a.node.opacity=255,a.hint_label.enabled=!0,a.node.height=a.hint_label.node.height+2*(a.hint_label.lineHeight-a.hint_label.fontSize),cc.tween(a.node).then(cc.sequence(cc.delayTime(t),cc.fadeOut(1),cc.removeSelf())).start()},.05)},i([s],t)}(cc.Component));a.default=c,cc._RF.pop()},{}],Home:[function(e,t,a){"use strict";cc._RF.push(t,"70ab1B2xyFD543Bv75Yge9c","Home");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("./AccumulatedRecharge/CumulativeRecharges"),s=e("./Ads/AdManager"),c=e("./CoinPop"),l=e("./Constants"),g=e("./Equipment/EquipConfig"),u=e("./Equipment/EquipmentManager"),p=e("./GameData"),d=e("./GameManager"),h=e("./Hero/Data/HeroManager"),f=e("./Hero/Game/HeroConfig"),_=e("./JsonData/FunctionDefinition"),m=e("./JsonData/PlayerLevelUp"),y=e("./Level/LevelManager"),I=e("./Maze/MazeManager"),v=e("./multiLanguage/FollowConstants"),M=e("./multiLanguage/FollowManager"),C=e("./multiLanguage/LanguageManager"),S=e("./Payment/PayFirstChargeUi"),P=e("./Payment/PayManager"),k=e("./Prop/PropConfig"),b=e("./Prop/PropManager"),T=e("./Sound/AudioConstants"),B=e("./Storage/StorageConfig"),w=e("./Storage/StorageManager"),N=e("./Task/TaskEnum"),L=e("./Task/TaskManager"),D=e("./Tools/NumberLabel"),E=e("./Tutorials/RewardSSUi"),R=e("./Tutorials/TutorailsManager"),G=e("./UI/home/BagUi"),x=e("./UI/home/MainUi"),A=e("./UI/home/SettingUi"),O=e("./UI/home/SignUi"),H=e("./UI/home/SignUiDaily"),F=e("./UI/UIConfig"),j=e("./UI/UIManager"),U=e("./UserData"),J=cc._decorator,W=J.ccclass,V=J.property,q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cur_selected_index=l.Btn_Index.Btn_Main,t.all_ui=[],t.btns=[],t.names=[],t}var a;return o(t,e),a=t,t.prototype.onLoad=function(){this.adaptation(),L.default.getInstance().emitTask(N.TaskItem.\u767b\u5f55X\u6b21\u6e38\u620f),L.default.getInstance().emitTask(N.TaskItem.\u767b\u5f55\u6e38\u620f1\u6b21),0==w.TheStorageManager.getInstance().getNumber(B.StorageKey.TodayIsFirstLogIn,0)&&(w.TheStorageManager.getInstance().setItem(B.StorageKey.TodayIsFirstLogIn,1),L.default.getInstance().emitTask(N.TaskItem.\u7d2f\u8ba1\u767b\u5f55X\u5929)),s.default.getInstance(),this.checkTutorails(),this.cheakUnlock(),I.MazeManager.getInstance().resetHeroBind()},t.prototype.start=function(){p.default.getInstance().refreshServerTime(),d.default.getInstance().resetRate(),r.CumulativeRechargesManager.getInstance().refreshData(),this.showLoading(),d.default.getInstance().music_manager.playMusic(T.MusicIndex.BGM_Home),M.default.getInstance().getFirstDo(v.Follow_Type.\u9996\u6b21\u8fdb\u5165\u4e3b\u9875)<=0&&(M.default.getInstance().addFirstDo(v.Follow_Type.\u9996\u6b21\u8fdb\u5165\u4e3b\u9875),M.default.getInstance().followEvent(v.Follow_Type.\u9996\u6b21\u8fdb\u5165\u4e3b\u9875));var e=d.default.getInstance();p.default.getInstance().getIsSignToday()&&0==R.default.getInstance().is_tutorails_state?_.FunctionDefinitionManager.getInstance().getIsUnlock(l.FuncType.QianDao)&&(e.game_to_home=l.Go_Type.Main_Sign):_.FunctionDefinitionManager.getInstance().getIsUnlock(l.FuncType.FirstCharge)&&P.PayManager.getInstance().getPayNum("c301")<=0&&0==R.default.getInstance().is_tutorails_state&&this.scheduleOnce(function(){j.UIManager.getInstance().showUiDialog(F.UIPath.FirstCharge,F.UILayerLevel.One,{onCompleted:function(e){e.getComponent(S.default).init({onClose:function(){cc.find("Canvas/main_ui").getComponent(x.default).refreshLeft()}})}})},1),this.showUi(),this.initTop(),this.showAvatar()},t.prototype.checkTutorails=function(){if(!R.default.getInstance().is_finish){if(0==R.default.getInstance().isShowTutorials(301)&&R.default.getInstance().isShowTutorials(302))return R.default.getInstance().is_tutorails_state=!0,d.default.getInstance().game_to_home=l.Go_Type.Role,!0;if(0==R.default.getInstance().isShowTutorials(311)&&R.default.getInstance().isShowTutorials(312))return R.default.getInstance().is_tutorails_state=!0,d.default.getInstance().game_to_home=l.Go_Type.Role,!0;y.LevelManager.getInstance().finish_level>=5&&R.default.getInstance().isShowTutorials(205)&&this.scheduleOnce(function(){j.UIManager.getInstance().showUiDialog(F.UIPath.RewardSSUI,F.UILayerLevel.Two,{onCompleted:function(e){e.getComponent(E.default).initData(1)}})},.5)}return!1},t.prototype.cheakUnlock=function(){cc.find("Canvas/Top_Ui/down/btnCity"),cc.find("Canvas/Top_Ui/down/btnFuBen"),cc.find("Canvas/Top_Ui/down/btnPet")},t.prototype.showLoading=function(){var e=this,t=j.UIManager.getInstance().getLoadingNode();t.active=!0;var a=t.getChildByName("ProgressBar").getComponent(cc.ProgressBar),n=a.node.getChildByName("loadLabel").getComponent(cc.Label);a.progress=d.default.getInstance().cur_load_progress,n.string=(100*a.progress).toFixed(0)+"%",d.default.getInstance().init(l.GameScene.home);var o=function(){a.progress+=.01,n.string=(100*a.progress).toFixed(0)+"%",a.progress>=1&&(a.progress=1,d.default.getInstance().is_loaded&&(t.active=!1,e.unschedule(o),o=null))};this.schedule(o,.02)},t.prototype.adaptation=function(){var e=cc.find("Canvas/Top_Ui"),t=e.getChildByName("down"),a=e.getChildByName("top"),n=a.y,o=cc.winSize;t.y=-o.height/2+t.height/2,a.y=o.height/2-a.height/2,n=a.y-n;var i=cc.find("Canvas/main_ui"),r=i.getChildByName("btnStart");i.getChildByName("Main_Icon_Map").y=t.y+150,i.getChildByName("mainTask").y=t.y+290,i.getChildByName("mainTaskEffect").y=t.y+290,i.getChildByName("Main_Icon_Idle").y=t.y+150,r.y=t.y+150,i.getChildByName("btnOfflineGift").y=r.y+80,i.getChildByName("left").y=a.y-208,i.getChildByName("right").y=a.y-208,i.getChildByName("level").y+=n},t.prototype.setBtnShow=function(){var e=-1;if(_.FunctionDefinitionManager.getInstance().getIsUnlockIndex(this.cur_selected_index)||(e=l.Btn_Index.Btn_Main),this.cur_selected_index!=e){0==this.cur_selected_index&&M.default.getInstance().followEvent(v.Follow_Type.\u4e3b\u57ce\u6253\u5f00\u6b21\u6570);for(var t=0;t<5;t++){var a=this.btns[t].getComponents(cc.Button),n=this.cur_selected_index!=t;this.all_ui[t].opacity=n?0:255,this.all_ui[t].x=n?-1280:0,this.names[t].color=n?cc.color(210,184,145):cc.color(255,233,201),this.btns[t].getChildByName("bg").active=!n;for(var o=0;o<a.length;o++)a[o].interactable=n}}},t.prototype.initTop=function(){var e=cc.find("Canvas/Top_Ui/top"),t=e.getChildByName("levelLabel"),a=U.default.getInstance().getUserLevel();t.getComponent(cc.Label).string=""+a,e.getChildByName("name").getComponent(cc.Label).string=U.default.getInstance().getUserName(),e.getChildByName("atk").getComponent(cc.Label).string=h.HeroManager.getInstance().getAllHeroZhanli()+"";var n=e.getChildByName("headPortrait").getChildByName("btnAvatar"),o=U.default.getInstance().getUserAvatar();n.getComponent(cc.Sprite).spriteFrame=b.PropManager.getInstance().getSpheadPortraitType(o);var i=U.default.getInstance().getUserExp(),r=m.PlayerLevelUpManager.getInstance().getPlayerExpCost(a);e.getChildByName("expProgressBar").getComponent(cc.ProgressBar).progress=i/r,l.IsDebug&&i/r>=1&&R.default.getInstance().is_tutorails_state,cc.find("Canvas/Top_Ui/top/coinLabel").getComponent(D.default).init(b.PropManager.getInstance().getPropNum(k.PropId.Coin),!0),cc.find("Canvas/Top_Ui/top/gemLabel").getComponent(D.default).init(b.PropManager.getInstance().getPropNum(k.PropId.Gem),!0),cc.find("Canvas/Top_Ui/top/crystalLabel").getComponent(D.default).init(b.PropManager.getInstance().getPropNum(k.PropId.LongJing),!0),cc.find("Canvas/Top_Ui/top/zhanliLabel").getComponent(D.default).init(h.HeroManager.getInstance().getAllHeroZhanli(),!1)},t.prototype.refreshTop=function(){var e=cc.find("Canvas/Top_Ui/top"),t=e.getChildByName("levelLabel"),a=U.default.getInstance().getUserLevel();t.getComponent(cc.Label).string=""+a,e.getChildByName("name").getComponent(cc.Label).string=U.default.getInstance().getUserName(),e.getChildByName("atk").getComponent(cc.Label).string=h.HeroManager.getInstance().getAllHeroZhanli()+"";var n=e.getChildByName("headPortrait").getChildByName("btnAvatar"),o=U.default.getInstance().getUserAvatar();n.getComponent(cc.Sprite).spriteFrame=b.PropManager.getInstance().getSpheadPortraitType(o);var i=U.default.getInstance().getUserExp(),r=m.PlayerLevelUpManager.getInstance().getPlayerExpCost(a);e.getChildByName("expProgressBar").getComponent(cc.ProgressBar).progress=i/r,l.IsDebug,this.refreshCoinShow(),this.refreshGemShow(),this.refreshZhanLiShow()},t.prototype.refreshCoinShow=function(){var e=cc.find("Canvas/Top_Ui/top/coinLabel");return e.getComponent(D.default).setTarget(b.PropManager.getInstance().getPropNum(k.PropId.Coin),.5),e},t.prototype.refreshGemShow=function(){var e=cc.find("Canvas/Top_Ui/top/gemLabel");return e.getComponent(D.default).setTarget(b.PropManager.getInstance().getPropNum(k.PropId.Gem),.5),e},t.prototype.refreshZhanLiShow=function(){cc.find("Canvas/Top_Ui/top/zhanliLabel").getComponent(D.default).setTarget(h.HeroManager.getInstance().getAllHeroZhanli(),.5,!0)},t.prototype.refreshLongJing=function(){cc.find("Canvas/Top_Ui/top/crystalLabel").getComponent(D.default).init(b.PropManager.getInstance().getPropNum(k.PropId.LongJing),!0)},t.prototype.refreshUserExp=function(){var e=cc.find("Canvas/Top_Ui/top"),t=e.getChildByName("levelLabel"),a=U.default.getInstance().getUserLevel();t.getComponent(cc.Label).string="Lv."+a;var n=U.default.getInstance().getUserExp()/m.PlayerLevelUpManager.getInstance().getPlayerExpCost(a);e.getChildByName("expProgressBar").getComponent(cc.ProgressBar).progress=n},t.prototype.jumoToUi=function(e){this.cur_selected_index=e,this.setBtnShow()},t.prototype.showAvatar=function(){var e=cc.find("Canvas/Top_Ui/top"),t=e.getChildByName("btnSetting").getChildByName("icon"),a=U.default.getInstance().getUserAvatar();t.getComponent(cc.Sprite).spriteFrame=h.HeroManager.getInstance().getSpriteFrameByName("hero"+a),e.getChildByName("userNameLabel").getComponent(cc.Label).string=U.default.getInstance().getUserName(),l.IsDebug},t.prototype.showUi=function(){var e=d.default.getInstance(),t=j.UIManager.getInstance();switch(e.game_to_home){case l.Go_Type.Main:this.cur_selected_index=l.Btn_Index.Btn_Main;break;case l.Go_Type.Main_Sign:this.scheduleOnce(function(){0==w.TheStorageManager.getInstance().getNumber(B.StorageKey.CanSignIn,0)&&(0==w.TheStorageManager.getInstance().getNumber(B.StorageKey.NewPlayerSavenDaySignInOver,0)?j.UIManager.getInstance().showUiDialog(F.UIPath.SignIn,F.UILayerLevel.One,{onCompleted:function(e){e.getComponent(O.default).init(null)}}):j.UIManager.getInstance().showUiDialog(F.UIPath.SignInDaily,F.UILayerLevel.One,{onCompleted:function(e){e.getComponent(H.default).init(null)}}))},1),this.node.getChildByName("main_ui").getComponent(x.default).refreshLeft();break;case l.Go_Type.Main_Spin:this.cur_selected_index=l.Btn_Index.Btn_Main,this.node.getChildByName("main_ui").getComponent(x.default).refreshRight();break;case l.Go_Type.Main_Task:this.cur_selected_index=l.Btn_Index.Btn_Main,this.scheduleOnce(function(){t.showUiDialog(F.UIPath.Task,F.UILayerLevel.One,{onCompleted:function(){}})},1),this.node.getChildByName("main_ui").getComponent(x.default).refreshLeft();break;case l.Go_Type.Main_Rank:break;case l.Go_Type.Role:this.cur_selected_index=l.Btn_Index.Btn_Role;break;case l.Go_Type.PetList:this.cur_selected_index=l.Btn_Index.Btn_Pet;break;case l.Go_Type.City:this.cur_selected_index=l.Btn_Index.Btn_City;break;case l.Go_Type.Activity:case l.Go_Type.Activity_Endless:case l.Go_Type.Activity_Boss:this.cur_selected_index=l.Btn_Index.Btn_FuBen}this.setBtnShow()},t.prototype.clickBtnDown=function(e,t){d.default.getInstance().sound_manager.playSound(T.SoundIndex.click),this.cur_selected_index=parseInt(t),4==this.cur_selected_index&&M.default.getInstance().followEvent(v.Follow_Type.\u526f\u672c\u9875\u9762\u5c55\u793a\u6b21\u6570),this.setBtnShow()},t.prototype.clickBtnCoin=function(){j.UIManager.getInstance().showUiDialog(F.UIPath.CoinPop,F.UILayerLevel.One,{onCompleted:function(e){e.getComponent(c.default).initUi(k.PropId.Coin)}}),d.default.getInstance().sound_manager.playSound(T.SoundIndex.click)},t.prototype.clickBtnGem=function(){if(d.default.getInstance().sound_manager.playSound(T.SoundIndex.click),cc.find("Canvas").getComponent(a).cur_selected_index==l.Btn_Index.Btn_City)return cc.find("Canvas/store_ui/scroll").getComponent(cc.ScrollView).scrollToBottom(2),d.default.getInstance().game_to_home=l.Go_Type.City,d.default.getInstance().jumoAndShowUi(),void j.UIManager.getInstance().closeAllUiDialog(F.UILayerLevel.One);j.UIManager.getInstance().showUiDialog(F.UIPath.CoinPop,F.UILayerLevel.One,{onCompleted:function(e){e.getComponent(c.default).initUi(k.PropId.Gem)}})},t.prototype.clickBtnSetting=function(){var e=this;d.default.getInstance().sound_manager.playSound(T.SoundIndex.click),j.UIManager.getInstance().showUiDialog(F.UIPath.Set,F.UILayerLevel.One,{onCompleted:function(t){t.getComponent(A.default).init({onClose:function(){e.showAvatar()}})}})},t.prototype.clickBtnCityLock=function(){if(d.default.getInstance().sound_manager.playSound(T.SoundIndex.click),0==_.FunctionDefinitionManager.getInstance().getIsUnlockIndex(l.Btn_Index.Btn_City)){var e=_.FunctionDefinitionManager.getInstance().getUnlockConditionType(l.FuncType.XuYuanChi),t=_.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(l.FuncType.XuYuanChi);if(1==e)d.default.getInstance().showMessage(C.default.getInstance().getStrByTextId(100051)+":"+t);else if(2==e){var a=C.default.getInstance().getStrByTextId(100052).replace("~",""+t);d.default.getInstance().showMessage(a)}}},t.prototype.clickBtnActivityLock=function(){if(d.default.getInstance().sound_manager.playSound(T.SoundIndex.click),0==_.FunctionDefinitionManager.getInstance().getIsUnlockIndex(l.Btn_Index.Btn_FuBen)){var e=_.FunctionDefinitionManager.getInstance().getUnlockConditionType(l.FuncType.WuJinTiaoZhan),t=_.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(l.FuncType.WuJinTiaoZhan);if(1==e)d.default.getInstance().showMessage(C.default.getInstance().getStrByTextId(100051)+":"+t);else if(2==e){var a=C.default.getInstance().getStrByTextId(100052).replace("~",""+t);d.default.getInstance().showMessage(a)}}},t.prototype.clickBtnPetLock=function(){if(d.default.getInstance().sound_manager.playSound(T.SoundIndex.click),0==_.FunctionDefinitionManager.getInstance().getIsUnlockIndex(l.Btn_Index.Btn_Pet)){var e=_.FunctionDefinitionManager.getInstance().getUnlockConditionType(l.FuncType.ChongWuXiTong),t=_.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(l.FuncType.ChongWuXiTong);if(1==e)d.default.getInstance().showMessage(C.default.getInstance().getStrByTextId(100051)+":"+t);else if(2==e){var a=C.default.getInstance().getStrByTextId(100052).replace("~",""+t);d.default.getInstance().showMessage(a)}}},t.prototype.clickBtnLevelLabel=function(){d.default.getInstance().sound_manager.playSound(T.SoundIndex.click),d.default.getInstance().showMessage(C.default.getInstance().getStrByTextId(310002),3)},t.prototype.clickBtnBag=function(){d.default.getInstance().sound_manager.playSound(T.SoundIndex.click),j.UIManager.getInstance().showUiDialog(F.UIPath.Bag,F.UILayerLevel.One,{onCompleted:function(e){e.getComponent(G.default).init(null)}})},t.prototype.dataTest=function(){if(l.IsDebug&&M.default.getInstance().getFirstDo(v.Follow_Type.Load\u9875\u5c55\u793a\u603b\u6b21\u6570)<=0){M.default.getInstance().addFirstDo(v.Follow_Type.Load\u9875\u5c55\u793a\u603b\u6b21\u6570),u.EquipmentManager.getInstance();for(var e=g.EquipType.WuQi;e<g.EquipType.Num;e++)for(var t=f.Hero_Type.ChangMaoShou;t<f.Hero_Type.Hero_Num;t++);var a=h.HeroManager.getInstance().getHeroList();for(e=0;e<a.length;e++);R.default.getInstance().saveTutorials(201),R.default.getInstance().saveTutorials(202),R.default.getInstance().saveTutorials(203),R.default.getInstance().saveTutorials(204),R.default.getInstance().saveTutorials(205),R.default.getInstance().saveTutorials(206),R.default.getInstance().saveTutorials(207),R.default.getInstance().saveTutorials(208),R.default.getInstance().saveTutorials(209),R.default.getInstance().saveTutorials(210),R.default.getInstance().saveTutorials(211),R.default.getInstance().saveTutorials(212),R.default.getInstance().saveTutorials(213),R.default.getInstance().saveTutorials(214),R.default.getInstance().saveTutorials(215),R.default.getInstance().saveTutorials(216),R.default.getInstance().saveTutorials(217),R.default.getInstance().saveTutorials(218),R.default.getInstance().saveTutorials(219),R.default.getInstance().saveTutorials(220),R.default.getInstance().saveTutorials(221),R.default.getInstance().saveTutorials(222),R.default.getInstance().saveTutorials(223),R.default.getInstance().saveTutorials(224),y.LevelManager.getInstance().finish_level=20}},i([V([cc.Node])],t.prototype,"all_ui",void 0),i([V([cc.Node])],t.prototype,"btns",void 0),i([V([cc.Node])],t.prototype,"names",void 0),a=i([W],t)}(cc.Component);a.default=q,cc._RF.pop()},{"./AccumulatedRecharge/CumulativeRecharges":"CumulativeRecharges","./Ads/AdManager":"AdManager","./CoinPop":"CoinPop","./Constants":"Constants","./Equipment/EquipConfig":"EquipConfig","./Equipment/EquipmentManager":"EquipmentManager","./GameData":"GameData","./GameManager":"GameManager","./Hero/Data/HeroManager":"HeroManager","./Hero/Game/HeroConfig":"HeroConfig","./JsonData/FunctionDefinition":"FunctionDefinition","./JsonData/PlayerLevelUp":"PlayerLevelUp","./Level/LevelManager":"LevelManager","./Maze/MazeManager":"MazeManager","./Payment/PayFirstChargeUi":"PayFirstChargeUi","./Payment/PayManager":"PayManager","./Prop/PropConfig":"PropConfig","./Prop/PropManager":"PropManager","./Sound/AudioConstants":"AudioConstants","./Storage/StorageConfig":"StorageConfig","./Storage/StorageManager":"StorageManager","./Task/TaskEnum":"TaskEnum","./Task/TaskManager":"TaskManager","./Tools/NumberLabel":"NumberLabel","./Tutorials/RewardSSUi":"RewardSSUi","./Tutorials/TutorailsManager":"TutorailsManager","./UI/UIConfig":"UIConfig","./UI/UIManager":"UIManager","./UI/home/BagUi":"BagUi","./UI/home/MainUi":"MainUi","./UI/home/SettingUi":"SettingUi","./UI/home/SignUi":"SignUi","./UI/home/SignUiDaily":"SignUiDaily","./UserData":"UserData","./multiLanguage/FollowConstants":"FollowConstants","./multiLanguage/FollowManager":"FollowManager","./multiLanguage/LanguageManager":"LanguageManager"}],HpProgressBar:[function(e,t,a){"use strict";cc._RF.push(t,"40fd4JjmHBO/p0Y5ISMPuVd","HpProgressBar");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.yellow=null,t.min_width=17,t.min_pro=.2,t.speed=56,t.is_need_hide=!0,t}return o(t,e),t.prototype.onLoad=function(){this.yellow=this.node.getChildByName("yellow"),this.min_pro=this.min_width/this.totalLength},t.prototype.changeProgress=function(e){this.is_need_hide&&(this.node.opacity=e>=1||e<=0?0:255),e<this.min_pro&&(e=this.min_pro),this.progress=e},t.prototype.setPos=function(e,t){this.node.x=e,this.node.y=t;var a=Math.round(8e3-10*this.node.y);a<0&&(a=0),a>8e3&&(a=8e3),this.node.zIndex=a},t.prototype.update=function(e){var t=this.progress*this.totalLength;this.yellow.width>t?(this.yellow.width-=this.speed*e,this.yellow.width<t&&(this.yellow.width=t)):this.yellow.width<t&&(this.yellow.width=t)},i([c()],t.prototype,"min_width",void 0),i([c()],t.prototype,"min_pro",void 0),i([c()],t.prototype,"speed",void 0),i([c()],t.prototype,"is_need_hide",void 0),i([s],t)}(cc.ProgressBar);a.default=l,cc._RF.pop()},{}],HpTextManager:[function(e,t,a){"use strict";cc._RF.push(t,"4da8c0prgdA2aGMhqQmQSSs","HpTextManager");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Game/GameEffectsManager"),s=e("../GameManager"),c=e("../multiLanguage/LabelLanguage"),l=e("../Enemy/EnemyConfig"),g=cc._decorator,u=g.ccclass,p=g.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sp_type=[],t.img_text_parent=null,t}return o(t,e),t.prototype.onLoad=function(){s.default.getInstance().hp_text_manager=this;for(var e=r.GameEffectId.front_normal_attack_text_1;e<=r.GameEffectId.front_crit_text;e++)r.GameEffectsManager.getInstance().addEffectPoolById(e,8)},t.prototype.onDestroy=function(){s.default.getInstance().hp_text_manager=null},t.prototype.createHpTextHp=function(e,t,a){switch(a){case l.Enemy_Injured_Type.Normal_Attack:var n=s.default.getInstance().getDamageTextEffect(t),o=s.default.getInstance().getDamageTextScale(t),i=r.GameEffectsManager.getInstance().createGameEffectForParent(n,e,this.node);i.scale=o,i.opacity=255,i.color=cc.Color.WHITE,i.getComponent(cc.Label).string=t.toFixed(0),cc.tween(i).to(.1,{scale:1.2*o}).to(.06,{scale:o}).by(.96,{y:85,opacity:-168},{easing:"sineIn"}).call(function(){r.GameEffectsManager.getInstance().destroyGameEffectById(n,i)},this).start();break;case l.Enemy_Injured_Type.BaoJi:var c=r.GameEffectId.front_crit_text,g=(o=1.4,r.GameEffectsManager.getInstance().createGameEffectForParent(c,e,this.node));g.scale=o,g.opacity=255,g.color=cc.Color.WHITE,g.getComponent(cc.Label).string="@"+t.toFixed(0),cc.tween(g).to(.1,{scale:1.25*o}).to(.06,{scale:o}).delay(.3).by(.5,{y:25,opacity:-168},{easing:"sineIn"}).call(function(){r.GameEffectsManager.getInstance().destroyGameEffectById(c,g)},this).start();break;case l.Enemy_Injured_Type.LiuXue:var u=r.GameEffectId.front_normal_attack_text_1,p=(o=1,r.GameEffectsManager.getInstance().createGameEffectForParent(u,e,this.node));p.scale=o,p.opacity=255,p.color=cc.Color.WHITE,p.getComponent(cc.Label).string=t.toFixed(0),cc.tween(p).to(.1,{scale:1.2*o}).to(.06,{scale:o}).by(.5,{opacity:-168},{easing:"sineIn"}).call(function(){r.GameEffectsManager.getInstance().destroyGameEffectById(u,p)},this).start();break;case l.Enemy_Injured_Type.ZhongDu:var d=r.GameEffectId.front_normal_attack_text_1,h=(o=1,r.GameEffectsManager.getInstance().createGameEffectForParent(d,e,this.node));h.scale=o,h.opacity=255,h.color=cc.Color.MAGENTA,h.getComponent(cc.Label).string=t.toFixed(0),cc.tween(h).to(.1,{scale:1.2*o}).to(.06,{scale:o}).by(.5,{opacity:-168},{easing:"sineIn"}).call(function(){r.GameEffectsManager.getInstance().destroyGameEffectById(d,h)},this).start();break;case l.Enemy_Injured_Type.ZhuoShao:var f=r.GameEffectId.front_normal_attack_text_1,_=(o=1,r.GameEffectsManager.getInstance().createGameEffectForParent(f,e,this.node));_.scale=o,_.opacity=255,_.color=cc.Color.WHITE,_.getComponent(cc.Label).string=t.toFixed(0),cc.tween(_).to(.1,{scale:1.2*o}).to(.06,{scale:o}).by(.5,{opacity:-168},{easing:"sineIn"}).call(function(){r.GameEffectsManager.getInstance().destroyGameEffectById(f,_)},this).start();break;case l.Enemy_Injured_Type.ZhiLiao:var m=r.GameEffectId.front_restore_text,y=(o=1.2,r.GameEffectsManager.getInstance().createGameEffectForParent(m,e,this.node));y.color=cc.Color.GREEN,y.scale=o,y.opacity=255,y.getComponent(cc.Label).string="@"+t.toFixed(0),cc.tween(y).to(.1,{scale:1.2*o}).to(.06,{scale:o}).by(.96,{y:85,opacity:-168},{easing:"sineIn"}).call(function(){r.GameEffectsManager.getInstance().destroyGameEffectById(m,y)},this).start();break;case l.Enemy_Injured_Type.BingNvZhenShang:var I=r.GameEffectId.front_normal_attack_text_1,v=(o=1,r.GameEffectsManager.getInstance().createGameEffectForParent(I,e,this.node));v.color=cc.Color.CYAN,v.scale=o,v.opacity=255,v.getComponent(cc.Label).string=t.toFixed(0),cc.tween(v).to(.1,{scale:1.2*o}).to(.06,{scale:o}).by(.96,{y:85,opacity:-168},{easing:"sineIn"}).call(function(){r.GameEffectsManager.getInstance().destroyGameEffectById(I,v)},this).start();break;case l.Enemy_Injured_Type.ANuBiSiZhenShang:var M=r.GameEffectId.front_normal_attack_text_1,C=(o=1,r.GameEffectsManager.getInstance().createGameEffectForParent(M,e,this.node));C.color=cc.Color.ORANGE,C.scale=o,C.opacity=255,C.getComponent(cc.Label).string=t.toFixed(0),cc.tween(C).to(.1,{scale:1.2*o}).to(.06,{scale:o}).by(.96,{y:85,opacity:-168},{easing:"sineIn"}).call(function(){r.GameEffectsManager.getInstance().destroyGameEffectById(M,C)},this).start();break;case l.Enemy_Injured_Type.BaoTou:var S=r.GameEffectId.front_crit_text,P=(o=1.4,r.GameEffectsManager.getInstance().createGameEffectForParent(S,e,this.node));P.scale=o,P.opacity=255,P.color=cc.Color.WHITE,P.getComponent(cc.Label).string="@"+t.toFixed(0),cc.tween(P).to(.1,{scale:1.25*o}).to(.06,{scale:o}).delay(.3).by(.5,{y:25,opacity:-168},{easing:"sineIn"}).call(function(){r.GameEffectsManager.getInstance().destroyGameEffectById(S,P)},this).start();break;case l.Enemy_Injured_Type.ChaoJiBaoTou:var k=r.GameEffectId.front_crit_text,b=(o=1.6,r.GameEffectsManager.getInstance().createGameEffectForParent(k,e,this.node));b.scale=o,b.opacity=255,b.color=cc.Color.WHITE,b.getComponent(cc.Label).string="@"+t.toFixed(0),cc.tween(b).to(.1,{scale:1.25*o}).to(.06,{scale:o}).delay(.3).by(.5,{y:25,opacity:-168},{easing:"sineIn"}).call(function(){r.GameEffectsManager.getInstance().destroyGameEffectById(k,b)},this).start();break;default:var T=s.default.getInstance().getDamageTextEffect(t),B=(o=s.default.getInstance().getDamageTextScale(t),r.GameEffectsManager.getInstance().createGameEffectForParent(T,e,this.node));B.scale=o,B.opacity=255,B.color=cc.Color.WHITE,B.getComponent(cc.Label).string=t.toFixed(0),cc.tween(B).to(.1,{scale:1.2*o}).to(.06,{scale:o}).by(.96,{y:85,opacity:-168},{easing:"sineIn"}).call(function(){r.GameEffectsManager.getInstance().destroyGameEffectById(T,B)},this).start()}},t.prototype.getTextColorByType=function(e){var t=cc.Color.WHITE;switch(e){case l.Enemy_Injured_Type.Normal_Attack:t=cc.Color.WHITE;break;case l.Enemy_Injured_Type.ZhongDu:t=cc.Color.GREEN}return t},t.prototype.createTypeText=function(e,t,a){var n=new cc.Node;this.img_text_parent.addChild(n);var o=n.addComponent(cc.Sprite);if(n.setPosition(e),"string"==typeof t)n.getComponent(c.default).string=t;else{var i=50*Math.random()+30;i*=Math.random()<.5?1:-1;var r=50*Math.random()+30,s=50*Math.random()+30;switch(t){case l.Enemy_Injured_Type.BaoJi:o.spriteFrame=this.sp_type[1],null==a&&(a=cc.spawn(cc.jumpBy(.5,i,r,s,1),cc.fadeTo(.5,255)));break;case l.Enemy_Injured_Type.WuDi:o.spriteFrame=this.sp_type[2],null==a&&(a=cc.spawn(cc.jumpBy(.5,i,r,s,1),cc.fadeTo(.5,255)));break;case l.Enemy_Injured_Type.GeDang:o.spriteFrame=this.sp_type[0],null==a&&(a=cc.spawn(cc.jumpBy(.5,i,r,s,1),cc.fadeTo(.5,255)));break;case l.Enemy_Injured_Type.ShanBi:o.spriteFrame=this.sp_type[3],null==a&&(a=cc.spawn(cc.jumpBy(.5,i,r,s,1),cc.fadeTo(.5,255)));break;case l.Enemy_Injured_Type.BaoTou:o.spriteFrame=this.sp_type[4],null==a&&(a=cc.spawn(cc.jumpBy(.5,i,r,s,1),cc.fadeTo(.5,255)));break;case l.Enemy_Injured_Type.ChaoJiBaoTou:o.spriteFrame=this.sp_type[5],null==a&&(a=cc.spawn(cc.jumpBy(.5,i,r,s,1),cc.fadeTo(.5,255)));break;case l.Enemy_Injured_Type.MianYiKongZhi:o.spriteFrame=this.sp_type[6],null==a&&(a=cc.spawn(cc.jumpBy(.5,i,r,s,1),cc.fadeTo(.5,255)))}}a&&cc.tween(n).then(a).delay(.2).to(.2,{opacity:0}).removeSelf().start()},t.prototype.destroyHpTextHp=function(e,t){t.scale=1,t.opacity=255},i([p([cc.SpriteFrame])],t.prototype,"sp_type",void 0),i([p(cc.Node)],t.prototype,"img_text_parent",void 0),i([u],t)}(cc.Component);a.default=d,cc._RF.pop()},{"../Enemy/EnemyConfig":"EnemyConfig","../Game/GameEffectsManager":"GameEffectsManager","../GameManager":"GameManager","../multiLanguage/LabelLanguage":"LabelLanguage"}],HttpManager:[function(e,t,a){"use strict";cc._RF.push(t,"cb2des9slNDJpAKHB8z8Ssb","HttpManager"),Object.defineProperty(a,"__esModule",{value:!0}),a.HttpManager=a.PropObject=a.Params_Type=a.HeroObject=a.TaskObject=a.AccessName=a.TEST=a.WWW=void 0;var n=e("../Constants"),o=e("../UI/UIManager");a.WWW="http://124.222.212.141:8872",a.TEST="http://47.243.114.126:10018",function(e){e.getUserItems="/user/getUserItems",e.getServerTime="/clientSync/seconds",e.tryPrize="/user/userPrize",e.updateUserInfo="/user/updateUserInfo",e.updateUserInfoDNL="/user/updateUserInfoDNL",e.updateAvatar="/user/updateAvatar",e.userTurnPrize="/user/userTurnPrize",e.leaderboardByUser="/user/leaderboardByUser",e.setProp="/item/report",e.getProp="/item/list",e.queryGameTask="/userTask/queryGameTask",e.saveGameTask="/userTask/saveGameTask",e.userInfo="/user/info",e.getBoss="/copy/getBoss",e.userBasic="/user/basic",e.versionGet="/version/get",e.getHeroList="/hero/list",e.reportHeroList="/hero/report",e.sevenSign="/sign/sevenSign",e.updateSevenGift="/sign/updateSevenGift",e.monthSign="/sign/monthSign",e.addSignGift="/sign/addSignGift",e.getSignRecord="/sign/getSignRecord",e.queryGameAchievementTask="/achievementTask/queryGameAchievementTask",e.changeGameAchievementTask="/achievementTask/changeGameAchievementTask",e.saveGameAchievementTask="/achievementTask/saveGameAchievementTask"}(a.AccessName||(a.AccessName={}));a.TaskObject=function(){this.today="",this.progress=0,this.taskId=0,this.dimension=0,this.taskType=0,this.emit=0,this.stage=0,this.status=0};a.HeroObject=function(){this.heroId=0,this.heroLevel=0,this.heroStage=0,this.heroWeaponStage=0,this.weapons=0,this.armor=0,this.accessories=0,this.shoes=0,this.pet=0},function(e){e[e.Null=0]="Null",e[e.num=1]="num"}(a.Params_Type||(a.Params_Type={}));a.PropObject=function(){this.itemsId=0,this.itemsNum=1};var i=function(){function e(){}return e.post=function(e,t,a){var i=this;if(void 0===a&&(a=!1),!n.IsTestServer)return new Promise(function(){});if(a){if(!this.isSuccessRes)return new Promise(function(){});o.UIManager.getInstance().showWaitUiDialog(),this.isSuccessRes=!1}return new Promise(function(n,r){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==s.readyState)if(s.status>=200&&s.status<400){var e=s.responseText,t=JSON.parse(e);"200"==t.status?(a&&(i.isSuccessRes=!0,o.UIManager.getInstance().closeWaitUiDialog()),n(t.data)):r("\u8bf7\u6c42\u6210\u529f,\u9519\u8bef\u7801:"+t.status+",\u9519\u8bef\u4fe1\u606f:"+t.message)}else r("\u8bf7\u6c42\u5931\u8d25\uff0c\u72b6\u6001\u7801:"+s.status)};var c=i.getUrlByType(e);s.open("POST",c,!0),s.setRequestHeader("Content-Type","application/json;charset=UTF-8"),cc.log("url:"+c+"\nparams:"+t),s.send(t)})},e.gameTimePost=function(e,t){var a=this;return new Promise(function(n,o){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(console.log("gameTimePost:",i.readyState),i.status,4==i.readyState)if(i.status>=200&&i.status<400){var e=i.responseText;cc.log(e);var t=JSON.parse(e);"200"==t.status?n(t):o("\u8bf7\u6c42\u6210\u529f,\u9519\u8bef\u7801:"+t.status)}else o("\u8bf7\u6c42\u5931\u8d25\uff0c\u72b6\u6001\u7801:"+i.status)};var r=a.getUrlByType(e);i.open("POST",r,!0),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),cc.log("url:"+r+"\nparams:"+t),i.send(t)})},e.getUrlByType=function(e){var t=a.WWW;return n.IsDebug&&(t=a.TEST),t+e},e.encrypt=function(e){var t=CryptoJS.enc.Utf8.parse(this.AesKey),a=CryptoJS.enc.Utf8.parse(e);return CryptoJS.AES.encrypt(a,t,this.getCBCOptions()).toString()},e.decrypt=function(e){var t=CryptoJS.enc.Utf8.parse(this.AesKey),a=CryptoJS.AES.decrypt(e,t,this.getCBCOptions());return CryptoJS.enc.Utf8.stringify(a).toString()},e.getCBCOptions=function(){return{iv:CryptoJS.enc.Utf8.parse(this.CBCIV),mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7}},e.testAES=function(e){var t=this.encrypt(e);console.log(t);var a=this.decrypt(t);console.log(a)},e.AesKey="abc12345",e.CBCIV="cba76321",e.isSuccessRes=!0,e}();a.HttpManager=i,cc._RF.pop()},{"../Constants":"Constants","../UI/UIManager":"UIManager"}],IceBullect:[function(e,t,a){"use strict";cc._RF.push(t,"b7b890z/zBLk640xE9rG/xI","IceBullect");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Game/GameEffectsManager"),s=e("../../Hero/Game/BuffData"),c=e("../../Hero/Game/Bullect"),l=e("../../Hero/Game/HeroConfig"),g=e("../../Monster/Monster"),u=e("../../Monster/MonsterManager"),p=e("../PetConfig"),d=cc._decorator,h=d.ccclass,f=(d.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pet_data=null,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addCollisionMonsterListen.call(this,this.onCollisionMonster)},t.prototype.initPetData=function(e){this.pet_data=e},t.prototype.start=function(){this.tuowei_space=1},t.prototype.onCollisionMonster=function(e){if(e){var t=this.pet_data.getSkillValue1(p.PetSkillType.Active),a=u.default.getInstance().getMonstersForCenterPos(-1,e.getCenterPos(),t);if(a)for(var n=this.pet_data.getSkillValue3(p.PetSkillType.Active),o=0;o<a.length;o++){var i=a[o].getComponent(g.default),c=i.beFlashInjured(this.gongji_data);if(!c.is_die&&c.getDamageNum()>0){r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.pet1_attack_hit,i.getCenterPos());var d=new s.BuffData;d.buff_id=l.BuffId.Pet1_JianSu,d.buff_type=l.BuffType.Slowdown,d.buff_value=[n],d.remain_time=3,i.addDeBuff(d,this.gongji_data)}}}this.destroySelf()},i([h],t)}(c.default));a.default=f,cc._RF.pop()},{"../../Game/GameEffectsManager":"GameEffectsManager","../../Hero/Game/BuffData":"BuffData","../../Hero/Game/Bullect":"Bullect","../../Hero/Game/HeroConfig":"HeroConfig","../../Monster/Monster":"Monster","../../Monster/MonsterManager":"MonsterManager","../PetConfig":"PetConfig"}],IcePet:[function(e,t,a){"use strict";cc._RF.push(t,"ea625FWpVxHMIbwGLHxEZWA","IcePet");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../Game/GameEffectsManager"),c=e("../../GameManager"),l=e("../../Monster/Monster"),g=e("../PetConfig"),u=e("./IceBullect"),p=e("./Pet"),d=cc._decorator,h=d.ccclass,f=(d.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.addAttackListen(this.onAttack)},t.prototype.onAttack=function(t){var a=this.node.getPosition(),n=t.getComponent(l.default).getCenterPos().sub(a),o=Math.atan2(n.y,n.x),i=s.GameEffectsManager.getInstance().createGameEffectById(s.GameEffectId.pet1_attack,a).getComponent(u.default);i.init(s.GameEffectId.pet1_attack,1e3,o,e.prototype.getGongJiData.call(this,!0,this.pet_data.getSkillValue2(g.PetSkillType.Active))),i.initPetData(this.pet_data)},t.prototype.update=function(e){c.default.getInstance().cur_game_state==r.GameState.Game_Playing&&this.checkSkill(e)},t.prototype.checkSkill=function(e){this.cd_time-=e,this.cd_time<0&&(this.cd_time=0)},i([h],t)}(p.default));a.default=f,cc._RF.pop()},{"../../Constants":"Constants","../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../../Monster/Monster":"Monster","../PetConfig":"PetConfig","./IceBullect":"IceBullect","./Pet":"Pet"}],Image_Language:[function(e,t,a){"use strict";cc._RF.push(t,"b05e4u49LtGlJCSQURp0EwS","Image_Language"),Object.defineProperty(a,"__esModule",{value:!0}),a.Image_LanguageManager=a.JsonImage_Language=void 0;var n=e("../Loading/LoadManager"),o=function(){this.Spirit_ID=0,this.Atlas="",this.English="",this.Chinese="",this.Indonesian="",this.Russian="",this.Thai="",this.Korea=""};a.JsonImage_Language=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("Image_Language",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonImage_Language\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.Spirit_ID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonImage_Language=function(e){return this.data.get(e)},e.prototype.getAtlas=function(e){return this.data.get(e).Atlas},e.prototype.getEnglish=function(e){try{return this.data.get(e).English}catch(t){console.error("\u8fd9\u4e2a\u591a\u8bed\u8a00\u56fe\u7247id\u6709\u95ee\u9898,id:"+e+" err:"+t)}},e.prototype.getChinese=function(e){try{return this.data.get(e).Chinese}catch(t){console.error("\u8fd9\u4e2a\u591a\u8bed\u8a00\u56fe\u7247id\u6709\u95ee\u9898,id:"+e+" err:"+t)}},e.prototype.getIndonesian=function(e){return this.data.get(e).Indonesian},e.prototype.getRussian=function(e){return this.data.get(e).Russian},e.prototype.getThai=function(e){return this.data.get(e).Thai},e.prototype.getKorea=function(e){return this.data.get(e).Korea},e.getMaxSpirit_ID=function(){return 4},e._instance=null,e}();a.Image_LanguageManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],ImagerLanguage:[function(e,t,a){"use strict";cc._RF.push(t,"27d10ksqP1Ah7faNVP5/yPa","ImagerLanguage");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../multiLanguage/LanguageConstants"),s=e("../multiLanguage/LanguageManager"),c=cc._decorator,l=c.ccclass,g=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cur_text_id=0,t.original_text_id=0,t.is_translation=!1,t.cur_language_type=r.LanguageType.en,t}return o(t,e),t.prototype.onLoad=function(){this.original_text_id=this.cur_text_id,this.is_translation||this.startTranslation(),this.addListen()},t.prototype.setTextId=function(e){this.cur_text_id=e,this.startTranslation()},t.prototype.startTranslation=function(){this.is_translation=!0,this.spriteFrame=s.default.getInstance().getSpBySpriteId(this.cur_text_id)},t.prototype.addListen=function(){cc.director.on(r.OnLanguageChange,this.onLanguageChange,this)},t.prototype.removeListen=function(){cc.director.off(r.OnLanguageChange,this.onLanguageChange,this)},t.prototype.onDestroy=function(){this.removeListen()},t.prototype.onLanguageChange=function(){this.startTranslation()},i([g()],t.prototype,"cur_text_id",void 0),i([l],t)}(cc.Sprite);a.default=u,cc._RF.pop()},{"../multiLanguage/LanguageConstants":"LanguageConstants","../multiLanguage/LanguageManager":"LanguageManager"}],ImmunityShield:[function(e,t,a){"use strict";cc._RF.push(t,"e3d539oQlxAYoILsPEFewYs","ImmunityShield");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Constants"),s=e("../GameManager"),c=e("../Hero/Game/HeroConfig"),l=cc._decorator,g=l.ccclass,u=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shield_id=0,t.remain_time=0,t.shield_value=0,t.shield_type=c.ShieldType.Normal,t.destroy_callback=null,t}return o(t,e),t.prototype.init=function(e,t,a,n,o){this.shield_id=e,this.remain_time=a,this.shield_value=n,this.shield_type=t,this.destroy_callback=o},t.prototype.changeShieldValue=function(e){var t=this.shield_value+e;return t<0?(this.shield_value=0,this.destroySelf()):this.shield_value=t,t},t.prototype.getShieldValue=function(){return this.shield_value},t.prototype.getRemainTime=function(){return this.remain_time},t.prototype.getShieldType=function(){return this.shield_type},t.prototype.refreshShield=function(e,t){this.remain_time=e,this.shield_value=t},t.prototype.getIsCanWithstand=function(e){return this.shield_type==c.ShieldType.All||this.shield_type==e.valueOf()},t.prototype.destroySelf=function(){this.node.removeFromParent(),this.destroy_callback&&this.destroy_callback(this.shield_id)},t.prototype.update=function(e){s.default.getInstance().cur_game_state==r.GameState.Game_Playing&&this.remain_time>0&&(this.remain_time-=e,this.remain_time<0&&(this.remain_time=0,this.destroySelf()))},i([g],t)}(cc.Component));a.default=u,cc._RF.pop()},{"../Constants":"Constants","../GameManager":"GameManager","../Hero/Game/HeroConfig":"HeroConfig"}],Item:[function(e,t,a){"use strict";cc._RF.push(t,"e7514N4EWdLTY5nLG1nZav7","Item"),Object.defineProperty(a,"__esModule",{value:!0}),a.ItemManager=a.JsonItem=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.ItemID=0,this.NameTextId=0,this.DiscripitionTextId=0,this.Type=0,this.Quality=0,this.Star=0,this.QuoteIcon=0};a.JsonItem=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("Item",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonItem\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.ItemID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonItem=function(e){return this.data.get(e)},e.prototype.getNameTextId=function(e){return this.data.get(e).NameTextId},e.prototype.getDiscripitionTextId=function(e){return this.data.get(e).DiscripitionTextId},e.prototype.getType=function(e){return this.data.get(e).Type},e.prototype.getQuality=function(e){return this.data.get(e).Quality},e.prototype.getStar=function(e){return this.data.get(e).Star},e.prototype.getQuoteIcon=function(e){return this.data.get(e).QuoteIcon},e.getMaxItemID=function(){return 110012},e.prototype.getPropIdList=function(){var e=new Array;return this.data.forEach(function(t){9!=t.Type&&e.push(t.ItemID)}),e},e._instance=null,e}();a.ItemManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],JackpotCollection:[function(e,t,a){"use strict";cc._RF.push(t,"07e44ZwfrJBIJSSLJp0iRgh","JackpotCollection"),Object.defineProperty(a,"__esModule",{value:!0}),a.JackpotCollectionManager=a.JsonJackpotCollection=void 0;var n=e("../Loading/LoadManager"),o=function(){this.JackpotID=0,this.Weight_Sum=0,this.Drop_Array=[],this.Drop_Num=[],this.Weight=[]};a.JsonJackpotCollection=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("JackpotCollection",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonJackpotCollection\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.JackpotID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonJackpotCollection=function(e){return this.data.get(e)},e.prototype.getWeight_Sum=function(e){return this.data.get(e).Weight_Sum},e.prototype.getDrop_Array=function(e){return this.data.get(e).Drop_Array},e.prototype.getDrop_Num=function(e){return this.data.get(e).Drop_Num},e.prototype.getWeight=function(e){return this.data.get(e).Weight},e.getMaxJackpotID=function(){return 1010002},e.prototype.getRateByJackpotId=function(e,t){var a=0,n=this.getJsonJackpotCollection(e),o=n.Weight_Sum,i=n.Weight.length;if(o<=0)for(var r=0;r<i;r++)o+=n.Weight[r];var s=n.Drop_Array.indexOf(t);return-1!=s&&(a=n.Weight[s]/o),a},e.prototype.getJackpotIdByJCId=function(e){var t=0,a=this.getJsonJackpotCollection(e),n=a.Weight_Sum,o=a.Weight.length;if(n<=0)for(var i=0;i<o;i++)n+=a.Weight[i];var r=Math.random()*n,s=0;for(i=0;i<o;i++)if(r<(s+=a.Weight[i])){t=a.Drop_Array[i];break}return t},e._instance=null,e}();a.JackpotCollectionManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],Jackpot:[function(e,t,a){"use strict";cc._RF.push(t,"d32a6OP/SVAIqRZBnksZieb","Jackpot"),Object.defineProperty(a,"__esModule",{value:!0}),a.JackpotManager=a.JsonJackpot=void 0;var n=e("../Loading/LoadManager"),o=e("./LevelJsonData"),i=function(){this.JackpotID=0,this.Weight_Sum=0,this.Drop_Array=[],this.Drop_Num=[],this.Weight=[]};a.JsonJackpot=i;var r=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("Jackpot",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonJackpot\u6210\u529f"),e.data=new Map;for(var n=a.json,o=0;o<n.length;o++){var r=new i;r=n[o],e.data.set(r.JackpotID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonJackpot=function(e){return this.data.get(e)},e.prototype.getWeight_Sum=function(e){return this.data.get(e).Weight_Sum},e.prototype.getDrop_Array=function(e){return this.data.get(e).Drop_Array},e.prototype.getDrop_Num=function(e){return this.data.get(e).Drop_Num},e.prototype.getWeight=function(e){return this.data.get(e).Weight},e.getMaxJackpotID=function(){return 15020},e.prototype.getRewardDataById=function(e){var t=new o.RewardData,a=this.getJsonJackpot(e),n=a.Weight_Sum,i=a.Weight.length;if(n<=0)for(var r=0;r<i;r++)n+=a.Weight[r];var s=Math.random()*n,c=0;for(r=0;r<i;r++)if(s<(c+=a.Weight[r])){t.reward_id=a.Drop_Array[r],t.reward_num=a.Drop_Num[r];break}return t},e._instance=null,e}();a.JackpotManager=r,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager","./LevelJsonData":"LevelJsonData"}],JianShiCrit:[function(e,t,a){"use strict";cc._RF.push(t,"c617196j3pHe5HEiYej045D","JianShiCrit");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Constants"),s=e("../../../Game/GameEffectsManager"),c=e("../../../GameManager"),l=e("../../../Monster/Monster"),g=e("../GongJi"),u=cc._decorator,p=u.ccclass,d=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.game_effect_id=s.GameEffectId.sheshou_attack_ctrl_hit,t}return o(t,e),t.prototype.init=function(t,a){e.prototype.initData.call(this,a),this.game_effect_id=t},t.prototype.onCollisionEnter=function(e){if(c.default.getInstance().cur_game_state!=r.GameState.Game_Lose)switch(e.node.group){case"enemy":var t=e.node.getComponent(l.default);t&&t.beFlashInjured(this.gongji_data).getDamageNum()>0&&s.GameEffectsManager.getInstance().createGameEffectById(s.GameEffectId.sheshou_jianshi_att_hit,t.getJuJiPos())}},i([p],t)}(g.default));a.default=d,cc._RF.pop()},{"../../../Constants":"Constants","../../../Game/GameEffectsManager":"GameEffectsManager","../../../GameManager":"GameManager","../../../Monster/Monster":"Monster","../GongJi":"GongJi"}],JianShi:[function(e,t,a){"use strict";cc._RF.push(t,"f218baThfZKyZoP1GmU7hFq","JianShi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Game/GameEffectsManager"),s=e("../../../Monster/Monster"),c=e("../../../Monster/MonsterData"),l=e("../../../Monster/MonsterManager"),g=e("../Bullect"),u=e("../HeroConfig"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.jianshi_type=u.JianShi_Type.putong,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addCollisionMonsterListen.call(this,this.onCollisionMonster)},t.prototype.onCollisionMonster=function(e){if(e)switch(this.jianshi_type){case u.JianShi_Type.putong:if((g=e.beFlashInjured(this.gongji_data)).getDamageNum()>0)if(g.feedback_type==c.FeedBackType.BaoJi)if(this.gongji_data.hero_data.getIsUnlock(u.SkillType.Passive_2)){var t=cc.instantiate(this.gongji_data);t.damage_type=u.DamageType.Skill,t.is_bullet=!1,t.skill_damage_rate=this.gongji_data.hero_data.getSkillValue1(u.SkillType.Passive_2),r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.sheshou_attack_ctrl_hit,this.node.getPosition()).angle=this.node.angle;var a=this.move_direction-Math.PI/4,n=a+Math.PI/2,o=l.default.getInstance().getMonstersForRadian(-1,this.node.getPosition(),220,a,n);if(o)for(var i=0;i<o.length;i++)o[i].getComponent(s.default).beFlashInjured(t)}else r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.sheshou_jianshi_att_hit,this.node.getPosition());else r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.sheshou_jianshi_att_hit,this.node.getPosition());this.is_att=!0,this.destroySelf();break;case u.JianShi_Type.jineng:(g=e.beFlashInjured(this.gongji_data)).getDamageNum()>0?(r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.sheshou_jianshi_att_hit,this.getHeadPos()),this.is_att=!0,this.destroySelf()):g.feedback_type!=c.FeedBackType.Die&&this.destroySelf();break;case u.JianShi_Type.super:var g;(g=e.beFlashInjured(this.gongji_data)).getDamageNum()}},i([h({type:cc.Enum(u.JianShi_Type)})],t.prototype,"jianshi_type",void 0),i([d],t)}(g.default);a.default=f,cc._RF.pop()},{"../../../Game/GameEffectsManager":"GameEffectsManager","../../../Monster/Monster":"Monster","../../../Monster/MonsterData":"MonsterData","../../../Monster/MonsterManager":"MonsterManager","../Bullect":"Bullect","../HeroConfig":"HeroConfig"}],JianTou:[function(e,t,a){"use strict";cc._RF.push(t,"90fc5isqodKz4y0kphbSIwv","JianTou");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r,s=e("../../Constants"),c=e("../../GameManager"),l=e("../../Sound/AudioConstants"),g=e("./MainUi"),u=cc._decorator,p=u.ccclass,d=u.property;(function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN"})(r||(r={}));var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cur_jiantou_type=s.JianTou_Type.LEFT,t.cur_jiantou_dir=r.DOWN,t.follow_target=null,t.mask_btns=null,t}return o(t,e),t.prototype.onLoad=function(){this.follow_target=this.node.parent,this.mask_btns=this.follow_target.getChildByName("btns")},t.prototype.onEnable=function(){},t.prototype.setDir=function(e){switch(e){case r.UP:this.node.angle=0,this.cur_jiantou_dir=r.UP;break;case r.DOWN:this.node.angle=180,this.cur_jiantou_dir=r.DOWN}},t.prototype.clickBtnJiantou=function(){c.default.getInstance().sound_manager.playSound(l.SoundIndex.click);var e=cc.find("Canvas/main_ui").getComponent(g.default);switch(this.cur_jiantou_type){case s.JianTou_Type.LEFT:case s.JianTou_Type.RIGHT:switch(this.cur_jiantou_dir){case r.UP:this.setDir(r.DOWN),e.doFolded(this.cur_jiantou_type);break;case r.DOWN:this.setDir(r.UP),e.doUnfold(this.cur_jiantou_type)}}},t.prototype.update=function(){this.follow_target&&(this.node.y=48-this.follow_target.height,this.mask_btns&&(this.mask_btns.height=this.follow_target.height))},i([d({type:cc.Enum(s.JianTou_Type)})],t.prototype,"cur_jiantou_type",void 0),i([p],t)}(cc.Component);a.default=h,cc._RF.pop()},{"../../Constants":"Constants","../../GameManager":"GameManager","../../Sound/AudioConstants":"AudioConstants","./MainUi":"MainUi"}],Joystick:[function(e,t,a){"use strict";cc._RF.push(t,"73162lxt5BLxbtr/vpxLfXd","Joystick");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.JoystickType=a.SpeedType=a.DirectionType=a.instance=void 0;var r,s,c,l=cc._decorator,g=l.ccclass,u=l.property;a.instance=new cc.EventTarget,function(e){e[e.FOUR=0]="FOUR",e[e.EIGHT=1]="EIGHT",e[e.ALL=2]="ALL"}(r=a.DirectionType||(a.DirectionType={})),function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.FAST=2]="FAST"}(s=a.SpeedType||(a.SpeedType={})),function(e){e[e.FIXED=0]="FIXED",e[e.FOLLOW=1]="FOLLOW"}(c=a.JoystickType||(a.JoystickType={}));var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dot=null,t.ring=null,t.joystickType=c.FOLLOW,t.directionType=r.ALL,t._stickPos=null,t._touchLocation=null,t._radius=0,t}return o(t,e),t.prototype.onLoad=function(){this._radius=this.ring.width/2,this._initTouchEvent(),this.joystickType=c.FOLLOW,this.joystickType===c.FOLLOW&&(this.node.opacity=0)},t.prototype.onEnable=function(){a.instance.on("set_joystick_type",this._onSetJoystickType,this)},t.prototype.onDisable=function(){a.instance.off("set_joystick_type",this._onSetJoystickType,this)},t.prototype._onSetJoystickType=function(e){this.joystickType=e,this.node.opacity=e===c.FIXED?255:0},t.prototype._initTouchEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this._touchStartEvent,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._touchMoveEvent,this),this.node.on(cc.Node.EventType.TOUCH_END,this._touchEndEvent,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._touchEndEvent,this)},t.prototype._touchStartEvent=function(e){a.instance.emit(cc.Node.EventType.TOUCH_START,e);var t=this.node.convertToNodeSpaceAR(e.getLocation());if(this.joystickType===c.FIXED){this._stickPos=this.ring.getPosition();var n=t.sub(this.ring.getPosition()).mag();this._radius>n&&this.dot.setPosition(t)}else this.joystickType===c.FOLLOW&&(this._stickPos=t,this.node.opacity=255,this._touchLocation=e.getLocation(),this.ring.setPosition(t),this.dot.setPosition(t))},t.prototype._touchMoveEvent=function(e){if(this.joystickType===c.FOLLOW&&this._touchLocation===e.getLocation())return!1;var t,n=this.ring.convertToNodeSpaceAR(e.getLocation()),o=n.mag(),i=this._stickPos.x+n.x,r=this._stickPos.y+n.y,l=cc.v2(i,r).sub(this.ring.getPosition()).normalize();if(this._radius>o)this.dot.setPosition(cc.v2(i,r)),t=s.NORMAL;else{var g=this._stickPos.x+l.x*this._radius,u=this._stickPos.y+l.y*this._radius;this.dot.setPosition(cc.v2(g,u)),t=s.FAST}a.instance.emit(cc.Node.EventType.TOUCH_MOVE,e,{speedType:t,moveDistance:l})},t.prototype._touchEndEvent=function(e){this.dot.setPosition(this.ring.getPosition()),this.joystickType===c.FOLLOW&&(this.node.opacity=0),a.instance.emit(cc.Node.EventType.TOUCH_END,e,{speedType:s.STOP})},i([u({type:cc.Node,displayName:"Dot",tooltip:"\u6447\u6746\u64cd\u7eb5\u70b9"})],t.prototype,"dot",void 0),i([u({type:cc.Node,displayName:"Ring",tooltip:"\u6447\u6746\u80cc\u666f\u8282\u70b9"})],t.prototype,"ring",void 0),i([u({type:cc.Enum(c),displayName:"Touch Type",tooltip:"\u89e6\u6478\u7c7b\u578b"})],t.prototype,"joystickType",void 0),i([u({type:cc.Enum(r),displayName:"Direction Type",tooltip:"\u65b9\u5411\u7c7b\u578b"})],t.prototype,"directionType",void 0),i([u({type:cc.Node,tooltip:"\u6447\u6746\u6240\u5728\u4f4d\u7f6e"})],t.prototype,"_stickPos",void 0),i([u({type:cc.Node,tooltip:"\u89e6\u6478\u4f4d\u7f6e"})],t.prototype,"_touchLocation",void 0),i([u({tooltip:"\u534a\u5f84"})],t.prototype,"_radius",void 0),i([g],t)}(cc.Component);a.default=p,cc._RF.pop()},{}],KuangSha:[function(e,t,a){"use strict";cc._RF.push(t,"d2653d/mq5BcJGcfSsLlnEz","KuangSha");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Constants"),s=e("../../../Game/GameEffectsManager"),c=e("../../../GameManager"),l=e("../../../Monster/Monster"),g=e("../../../Monster/MonsterManager"),u=e("../BuffData"),p=e("../HeroConfig"),d=cc._decorator,h=d.ccclass,f=(d.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.remain_time=0,t.value=0,t}return o(t,e),t.prototype.init=function(e,t){this.remain_time=e,this.value=t},t.prototype.destroySelf=function(){s.GameEffectsManager.getInstance().destroyGameEffectById(s.GameEffectId.a_nu_bi_si_active_skill_wind,this.node)},t.prototype.onAddBuff=function(){for(var e=this,t=g.default.getInstance().node.children,a=t.length,n=0;n<a;n++){var o=t[n].getComponent(l.default);if(o&&o.getIsCanCheck()){var i=new u.BuffData;i.buff_id=p.BuffId.Hero_ANuBiSi_Active_Skill_JianSu,i.buff_type=p.BuffType.Slowdown,i.buff_value=[this.value],i.remain_time=1.5,o.addDeBuff(i,null)}}var r=function(t){c.scheduleOnce(function(){var a=150*t-375+40*Math.random()-20,n=s.GameEffectsManager.getInstance().createGameEffectForParent(s.GameEffectId.a_nu_bi_si_active_skill_line,cc.v2(a,0),e.node);cc.tween(n).by(.48,{y:-cc.winSize.height}).call(function(){s.GameEffectsManager.getInstance().destroyGameEffectById(s.GameEffectId.a_nu_bi_si_active_skill_line,n)}).start(),Math.random()<.3&&(s.GameEffectsManager.getInstance().createGameEffectForParent(s.GameEffectId.a_nu_bi_si_active_skill_ring,cc.v2(600*Math.random()-300,1e3*Math.random()-500),e.node).scaleX=Math.random()<.5?-1:1)},.4*Math.random())},c=this;for(n=0;n<5;n++)r(n)},t.prototype.update=function(e){c.default.getInstance().cur_game_state==r.GameState.Game_Playing&&(this.remain_time>0?(this.remain_time-=e,this.remain_time<=0&&this.destroySelf()):this.destroySelf())},i([h],t)}(cc.Component));a.default=f,cc._RF.pop()},{"../../../Constants":"Constants","../../../Game/GameEffectsManager":"GameEffectsManager","../../../GameManager":"GameManager","../../../Monster/Monster":"Monster","../../../Monster/MonsterManager":"MonsterManager","../BuffData":"BuffData","../HeroConfig":"HeroConfig"}],KuangZhanShi:[function(e,t,a){"use strict";cc._RF.push(t,"2cfccPyu3lKe7+KvJTtpZjP","KuangZhanShi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Constants"),s=e("../../../Game/FightingManager"),c=e("../../../Game/GameEffectsManager"),l=e("../../../Game/SkillManager"),g=e("../../../GameManager"),u=e("../../../Monster/Monster"),p=e("../../../Monster/MonsterData"),d=e("../../../Sound/AudioConstants"),h=e("../BuffData"),f=e("../Hero"),_=e("../HeroConfig"),m=e("./FuTou"),y=cc._decorator,I=y.ccclass,v=(y.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.kuangre_num=0,t.is_skilling=!1,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.kuangzhanshi_attack,2),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.kuangzhanshi_attack_chuantou,4),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.kuangzhanshi_attack_hit,2),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.kuangzhanshi_attack_max,2),this.addSkillListen(this.useSkill),this.addAttackListen(this.normalAttack),this.addXuanYunListen(this.onXuanYunResult),this.addHitListen(this.onHitMonster)},t.prototype.start=function(){e.prototype.start.call(this),this.is_need_check_distance=!1},t.prototype.onXuanYunResult=function(e){e?this.unscheduleAllCallbacks():this.setHeroState(_.Hero_State.idle,_.GongJi_FangXiang.zhong)},t.prototype.starteIdle=function(){this.setHeroState(_.Hero_State.idle,this.cur_fangxiang)},t.prototype.onHitMonster=function(){},t.prototype.createFuTou=function(t,a,n){var o=!1,i=0,r=this.hero_data.ExclusiveWeaponSkillValue_1;if(r&&r>0&&this.isHaveBuff(_.BuffId.Hero_KuangZhanShi_DaZhao)&&(i=r),this.kuangre_num>=this.hero_data.getSkillValue2(_.SkillType.Passive_1)){o=!0;var l=s.default.getInstance().createGameEffectById(c.GameEffectId.kuangzhanshi_attack_max,t).getComponent(m.default);(g=e.prototype.getGongJiData.call(this,_.DamageType.Skill,!0,_.SkillType.Passive_1,this.hero_data.getSkillValue3(_.SkillType.Passive_1))).hero_data.blood_sucking_rate+=i,l.init(c.GameEffectId.kuangzhanshi_attack_max,a,n,g),l.initFuTou(this.kuangre_num,o,1),this.kuangre_num=0}else{var g;(g=e.prototype.getGongJiData.call(this,_.DamageType.Normal,!0,_.SkillType.Null)).hero_data.blood_sucking_rate+=i,(l=s.default.getInstance().createGameEffectById(c.GameEffectId.kuangzhanshi_attack,t).getComponent(m.default)).init(c.GameEffectId.kuangzhanshi_attack,a,n,g),l.initFuTou(this.kuangre_num,o,0),this.kuangre_num++}},t.prototype.getSJFXByPos=function(e,t){var a=_.GongJi_FangXiang.zhong,n=e.sub(t),o=2*Math.PI,i=(Math.atan2(n.y,n.x)+o)%o*180/Math.PI;return i<=75?a=_.GongJi_FangXiang.you:i>75&&i<105?a=_.GongJi_FangXiang.zhong:i>=105&&i<=180&&(a=_.GongJi_FangXiang.zuo),a},t.prototype.normalAttack=function(e){g.default.getInstance().cur_game_state==r.GameState.Game_Playing&&this.startAttack(e)},t.prototype.startAttack=function(t){var a=this,n=_.Hero_State_Name.Attack;e.prototype.isHaveBuff.call(this,_.BuffId.Hero_KuangZhanShi_DaZhao)&&(n="Attack2",this.kuangre_num=this.hero_data.getSkillValue2(_.SkillType.Passive_1)),this.is_can_gongji=!1;var o=new p.KeyFrameData;o.name="Attack",o.callback=function(){var e=t.getComponent(u.default).getSheShouPos(),n=a.getCreateBulletPos(),o=e.sub(n),i=Math.atan2(o.y,o.x);a.createFuTou(n,a.bullet_speed,i),g.default.getInstance().sound_manager.playSound(d.SoundIndex.YX_KZSAttack),a.is_double_attack?a.resetNormalAttack():a.gongji_jishu=0},e.prototype.setHeroStateAndAnimation.call(this,_.Hero_State.attack,n,!1,[o],function(){n=_.Hero_State_Name.Idle,e.prototype.isHaveBuff.call(a,_.BuffId.Hero_KuangZhanShi_DaZhao)&&(n="Idle2"),e.prototype.setHeroStateAndAnimation.call(a,_.Hero_State.idle,n,!0)})},t.prototype.useSkill=function(e){var t=this;return l.default.getInstance().releaseSkill(function(){t.startSelfXuLi(e)},this.node),2},t.prototype.startSelfXuLi=function(t){var a=this,n=cc.find("Canvas/Hero_Root"),o=new p.KeyFrameData;o.name="FaShe",o.callback=function(){l.default.getInstance().setTimeStop(!1),a.node.parent=n,a.node.zIndex=2,a.startLaunch(t)},this.setHeroState(_.Hero_State.skill,_.GongJi_FangXiang.zhong,[o],function(){a.resetGongJiJiShu(),e.prototype.setHeroStateAndAnimation.call(a,_.Hero_State.idle,"Idle2",!0)}),this.spine.timeScale=r.JiaSu,g.default.getInstance().sound_manager.playSound(d.SoundIndex.YX_KZSSkill)},t.prototype.startLaunch=function(){e.prototype.setAttSpineScale.call(this),this.resetGongJiJiShu();var t=new h.BuffData;t.buff_id=_.BuffId.Hero_KuangZhanShi_DaZhao,t.buff_type=_.BuffType.Gain,t.buff_value=[this.hero_data.getSkillValue2(_.SkillType.Active)],t.remain_time=this.hero_data.getSkillValue1(_.SkillType.Active),e.prototype.addBuff.call(this,t).addDestroyListen(this.onSkillBuffDestory.bind(this)),l.default.getInstance().setIsSkillState(!1)},t.prototype.onSkillBuffDestory=function(){this.getHeroState()==_.Hero_State.idle&&e.prototype.setHeroState.call(this,_.Hero_State.idle,_.GongJi_FangXiang.zhong)},i([I],t)}(f.default));a.default=v,cc._RF.pop()},{"../../../Constants":"Constants","../../../Game/FightingManager":"FightingManager","../../../Game/GameEffectsManager":"GameEffectsManager","../../../Game/SkillManager":"SkillManager","../../../GameManager":"GameManager","../../../Monster/Monster":"Monster","../../../Monster/MonsterData":"MonsterData","../../../Sound/AudioConstants":"AudioConstants","../BuffData":"BuffData","../Hero":"Hero","../HeroConfig":"HeroConfig","./FuTou":"FuTou"}],LabelLanguage:[function(e,t,a){"use strict";cc._RF.push(t,"ef50fzKgTNC6rJIdH2EcMPo","LabelLanguage");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("./LanguageConstants"),s=e("./LanguageManager"),c=cc._decorator,l=c.ccclass,g=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cur_language_index=r.LanguageIndex.NULL,t.original_index=r.LanguageIndex.NULL,t.cur_language_type=r.LanguageType.en,t}return o(t,e),Object.defineProperty(t.prototype,"str_translation",{get:function(){return this.string},set:function(e){e!==this.string&&this.startTranslationByStr(e)},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this.original_index=this.cur_language_index,this.startTranslation()},t.prototype.setLanguageIndex=function(e){this.cur_language_index=e,this.startTranslation()},t.prototype.getOriginalIndex=function(){return this.original_index},t.prototype.startTranslation=function(){if(this.cur_language_type=s.default.getInstance().getCurLanguageType(),this.cur_language_index!=r.LanguageIndex.NULL)this.string=s.default.getInstance().getString(this.cur_language_index);else if(""!=this.string){var e=s.default.getInstance().getStringByStr(this.string);""!=e&&(this.string=e)}},t.prototype.startTranslationByStr=function(e){if(""!=e){var t=s.default.getInstance().getStringByStr(e);this.string=""!=t?t:e}},t.prototype.update=function(){this.cur_language_type!=s.default.getInstance().getCurLanguageType()&&this.startTranslation()},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this)},i([g({type:cc.Enum(r.LanguageIndex)})],t.prototype,"cur_language_index",void 0),i([g],t.prototype,"str_translation",null),i([l],t)}(cc.Label);a.default=u,cc._RF.pop()},{"./LanguageConstants":"LanguageConstants","./LanguageManager":"LanguageManager"}],LanguageConstants:[function(e,t,a){"use strict";cc._RF.push(t,"45e6fcQrU5CC4iOW9GeBixM","LanguageConstants"),Object.defineProperty(a,"__esModule",{value:!0}),a.AllLanSpriteFrame=a.SpriteIndex=a.AllLanguageString=a.LanguageIndex=a.LanguageType=a.OnLanguageChange=void 0,a.OnLanguageChange="LanguageChange",function(e){e[e.en=0]="en",e[e.zh=1]="zh",e[e.id=2]="id",e[e.be=3]="be",e[e.th=4]="th",e[e.kr=5]="kr",e[e.num=6]="num"}(a.LanguageType||(a.LanguageType={})),function(e){e[e.NULL=0]="NULL",e[e.CRIT=1]="CRIT",e[e.BEHEAD=2]="BEHEAD",e[e.DODGE=3]="DODGE",e[e.PARRY=4]="PARRY",e[e.KNOWING_BLOW=5]="KNOWING_BLOW",e[e.HEADSHOT=6]="HEADSHOT",e[e.VERTIGO=7]="VERTIGO",e[e.PAUSED=8]="PAUSED",e[e.CONTINUE=9]="CONTINUE",e[e.HOME=10]="HOME",e[e.Skills_acquired=11]="Skills_acquired",e[e.DANGER=12]="DANGER",e[e.MonsterManual=13]="MonsterManual",e[e.Number_of_kills=14]="Number_of_kills",e[e.Feature=15]="Feature",e[e.Click_to_claim=16]="Click_to_claim",e[e.Milestone=17]="Milestone",e[e.Progress=18]="Progress",e[e.Characteristics=19]="Characteristics",e[e.Drag_your_hero_into_battle=20]="Drag_your_hero_into_battle",e[e.The_hero_is_already_in_the_team=21]="The_hero_is_already_in_the_team",e[e.The_location_is_not_unlocked=22]="The_location_is_not_unlocked",e[e.At_least_one_hero=23]="At_least_one_hero",e[e.Attack_method=24]="Attack_method",e[e.Name=25]="Name",e[e.Age=26]="Age",e[e.Sex=27]="Sex",e[e.Information=28]="Information",e[e.Introduce=29]="Introduce",e[e.Upgrade=30]="Upgrade",e[e.Backpack=31]="Backpack",e[e.Fast_Synthesis=32]="Fast_Synthesis",e[e.Promotion=33]="Promotion",e[e.Insufficient_energy=34]="Insufficient_energy",e[e.Energy_is_full=35]="Energy_is_full",e[e.Claim_Free=36]="Claim_Free",e[e.CLAIM_ALL=37]="CLAIM_ALL",e[e.FREE_SPIN=38]="FREE_SPIN",e[e.Lucky_Spin=39]="Lucky_Spin",e[e.Setting=40]="Setting",e[e.Language=41]="Language",e[e.Contact_us=42]="Contact_us",e[e.Quit_the_game=43]="Quit_the_game",e[e.Version=44]="Version",e[e.Change_avatar=45]="Change_avatar",e[e.OK=46]="OK",e[e.YES=47]="YES",e[e.NO=48]="NO",e[e.Do_you_really_want_to_quit_game=49]="Do_you_really_want_to_quit_game",e[e.Start_game=50]="Start_game",e[e.Come_back_for_more_rewards_in=51]="Come_back_for_more_rewards_in",e[e.DAY1=52]="DAY1",e[e.DAY2=53]="DAY2",e[e.DAY3=54]="DAY3",e[e.DAY4=55]="DAY4",e[e.DAY5=56]="DAY5",e[e.DAY6=57]="DAY6",e[e.DAY7=58]="DAY7",e[e.CLAIM=59]="CLAIM",e[e.CLAIMED=60]="CLAIMED",e[e.Seven_days_sign_in=61]="Seven_days_sign_in",e[e.Ranking=62]="Ranking",e[e.Daily_task=63]="Daily_task",e[e.Hang_up_bonus=64]="Hang_up_bonus",e[e.CLAIN_X5=65]="CLAIN_X5",e[e.FREE_CHEST=66]="FREE_CHEST",e[e.EQUIPMENT_CHEST=67]="EQUIPMENT_CHEST",e[e.FRAGMENTED_CHEST=68]="FRAGMENTED_CHEST",e[e.SUPER_CHEST=69]="SUPER_CHEST",e[e.FREE=70]="FREE",e[e.REDAY=71]="REDAY",e[e.COINS2500=72]="COINS2500",e[e.Insufficient_gems=73]="Insufficient_gems",e[e.Insufficient_coins=74]="Insufficient_coins",e[e.WEAPON=75]="WEAPON",e[e.Equipped=76]="Equipped",e[e.Change_Hero=77]="Change_Hero",e[e.Additional_Attributes=78]="Additional_Attributes",e[e.Replace=79]="Replace",e[e.Not_Ativated=80]="Not_Ativated",e[e.Reset=81]="Reset",e[e.Melt=82]="Melt",e[e.Drag_two_equipment_of_the_same_level_to_synthesize_a_higher_level_equipment=83]="Drag_two_equipment_of_the_same_level_to_synthesize_a_higher_level_equipment",e[e.Reset_Attributes=84]="Reset_Attributes",e[e.GiveUp=85]="GiveUp",e[e.Save=86]="Save",e[e.New_Equipment=87]="New_Equipment",e[e.Damage_Increased=88]="Damage_Increased",e[e.ExclusiveAttributes=89]="ExclusiveAttributes",e[e.Promotion_Details=90]="Promotion_Details",e[e.SuperSkill=91]="SuperSkill",e[e.HeroFragment=92]="HeroFragment",e[e.After_collecting_the_corresponding_equipment_consume_the_fragments_to_promote_the_rank=93]="After_collecting_the_corresponding_equipment_consume_the_fragments_to_promote_the_rank",e[e.FragmentTransformation=94]="FragmentTransformation",e[e.Randomly_transform_into_fragments_of_other_heroes=95]="Randomly_transform_into_fragments_of_other_heroes",e[e.Transform=96]="Transform",e[e.MAX=97]="MAX",e[e.Yard=98]="Yard",e[e.Level=99]="Level",e[e.Go_to_the_following_page_to=100]="Go_to_the_following_page_to",e[e.Victory=101]="Victory",e[e.Lost=102]="Lost",e[e.Coin=103]="Coin",e[e.shop=104]="shop",e[e.hero=105]="hero",e[e.fighting=106]="fighting",e[e.pet=107]="pet",e[e.Map=108]="Map",e[e.Sign_in=109]="Sign_in",e[e.Reach=110]="Reach",e[e.Go=111]="Go",e[e.Speed_Up=112]="Speed_Up",e[e.Unlock_Now=113]="Unlock_Now",e[e.Watch_ads_to_unlock_speed=114]="Watch_ads_to_unlock_speed",e[e.Discover_new_species_please_be_prepared_for_battle=115]="Discover_new_species_please_be_prepared_for_battle",e[e.Warning=116]="Warning",e[e.Jump_to_hero_page=117]="Jump_to_hero_page",e[e.A_New_Hero_Has_Joined_Your_Team=118]="A_New_Hero_Has_Joined_Your_Team",e[e.Attack=119]="Attack",e[e.May_Get=120]="May_Get",e[e.AttackSpeed=121]="AttackSpeed",e[e.ExplosiveAbility=122]="ExplosiveAbility",e[e.Range=123]="Range",e[e.Skill=124]="Skill",e[e.Rewards=125]="Rewards",e[e.CancelSkill=126]="CancelSkill",e[e.SaoDang=127]="SaoDang",e[e.SaoDangTiShi=128]="SaoDangTiShi",e[e.Resurrection=129]="Resurrection",e[e.Clear_Raid_Immediately=130]="Clear_Raid_Immediately",e[e.PremiumAccount=131]="PremiumAccount",e[e.OfflineEarnings20=132]="OfflineEarnings20",e[e.Remove5ADS_Day=133]="Remove5ADS_Day",e[e.StartForFree=134]="StartForFree",e[e.DingYueTip=135]="DingYueTip",e[e.Privacy_Policy=136]="Privacy_Policy",e[e.Day3free_trial=137]="Day3free_trial",e[e.Week=138]="Week",e[e.Month=139]="Month",e[e.Year=140]="Year",e[e.Loading=141]="Loading",e[e.DearVIPYou_got=142]="DearVIPYou_got",e[e.ThisChallengeCanBeResurrected=143]="ThisChallengeCanBeResurrected",e[e.RepairTheWalls=144]="RepairTheWalls",e[e.Defeat=145]="Defeat",e[e.Completed=146]="Completed",e[e.Replay=147]="Replay",e[e.Hero_damage_stats=148]="Hero_damage_stats",e[e.Show_Damage=149]="Show_Damage",e[e.Welcome_Back=150]="Welcome_Back",e[e.You_were_idle_for=151]="You_were_idle_for",e[e.Max_Reward=152]="Max_Reward",e[e.You_have_collected=153]="You_have_collected",e[e.IDLE_REWARD=154]="IDLE_REWARD",e[e.Choose_to_acquire_2_skills=155]="Choose_to_acquire_2_skills",e[e.Refresh_skills=156]="Refresh_skills",e[e.Unlock_All_Skill_Slots=157]="Unlock_All_Skill_Slots",e[e.The_skills_are_full=158]="The_skills_are_full",e[e.Skill_is_full=159]="Skill_is_full",e[e.Acquired_skills=160]="Acquired_skills",e[e.Guest=161]="Guest",e[e.The_team_is_full=162]="The_team_is_full",e[e.This_hero_is_unlocked_at=163]="This_hero_is_unlocked_at",e[e.Team=164]="Team",e[e.Drag_the_avatar_to_change_the_position=165]="Drag_the_avatar_to_change_the_position",e[e.Click_on_the_hero_to_join_the_team=166]="Click_on_the_hero_to_join_the_team",e[e.previous_level=167]="previous_level",e[e.next_level=168]="next_level",e[e.Enemy_lineup=169]="Enemy_lineup",e[e.Chapter=170]="Chapter",e[e.Active_Skill=171]="Active_Skill",e[e.Attack_Features=172]="Attack_Features",e[e.Can_attack_land_units=173]="Can_attack_land_units",e[e.Can_attack_air_units=174]="Can_attack_air_units",e[e.Can_attack_burrowing_units=175]="Can_attack_burrowing_units",e[e.Remaining=176]="Remaining",e[e.Waiting=177]="Waiting",e[e.Sold_out=178]="Sold_out",e[e.Level_Up=179]="Level_Up",e[e.Maximum_MP=180]="Maximum_MP",e[e.MP_Recovery=181]="MP_Recovery",e[e.Unlock_new_levels_after_complete=182]="Unlock_new_levels_after_complete",e[e.Unlock=183]="Unlock",e[e.Equipment=184]="Equipment",e[e.Castle=185]="Castle",e[e.Talent=186]="Talent",e[e.NotOpen=187]="NotOpen",e[e.unload=188]="unload",e[e.merge=189]="merge",e[e.Unequip_All=190]="Unequip_All",e[e.Auto_Equip=191]="Auto_Equip",e[e.Info=192]="Info",e[e.Gears=193]="Gears",e[e.Promote=194]="Promote",e[e.Evolve=195]="Evolve",e[e.The_hero_has_not_yet_obtained=196]="The_hero_has_not_yet_obtained",e[e.first_reward=197]="first_reward",e[e.Idle_Times=198]="Idle_Times",e[e.You_can_claim_after=199]="You_can_claim_after",e[e.City=200]="City",e[e.Insufficient_MP=201]="Insufficient_MP",e[e.Improve_combat_power=202]="Improve_combat_power",e[e.Function_Unlock=203]="Function_Unlock",e[e.Free_3_times_claim=204]="Free_3_times_claim",e[e.The_ad_failed_to_play_and_the_reward_cannot_be_obtained=205]="The_ad_failed_to_play_and_the_reward_cannot_be_obtained",e[e.ldle_Talent_Points=206]="ldle_Talent_Points",e[e.Next_Talent_Point_in=207]="Next_Talent_Point_in",e[e.Faster=208]="Faster",e[e.PlayerLevel=209]="PlayerLevel",e[e.FunctionForecast=210]="FunctionForecast",e[e.Close=211]="Close",e[e.Use=212]="Use",e[e.UsesRemainingToday=213]="UsesRemainingToday",e[e.ResetsIn=214]="ResetsIn",e[e.Extra_50_Gems=215]="Extra_50_Gems",e[e.FasterRewards=216]="FasterRewards",e[e.GetVip=217]="GetVip",e[e.EndlessChallenges=218]="EndlessChallenges",e[e.Play=219]="Play",e[e.Normal=220]="Normal",e[e.Hard=221]="Hard",e[e.BossHunting=222]="BossHunting",e[e.TowerOfTrial=223]="TowerOfTrial",e[e.UnlockAfter=224]="UnlockAfter",e[e.BuyChallengeTickets=225]="BuyChallengeTickets",e[e.Numberoftimestoday=226]="Numberoftimestoday",e[e.RemainingToday=227]="RemainingToday",e[e.Cancel=228]="Cancel",e[e.GiveUpGame=229]="GiveUpGame",e[e.SeasonEndIn=230]="SeasonEndIn",e[e.HighestStage=231]="HighestStage",e[e.MyRank=232]="MyRank",e[e.RewardsLastWeek=233]="RewardsLastWeek",e[e.BossComing=234]="BossComing",e[e.NoReward=235]="NoReward",e[e.RulesDescription=236]="RulesDescription",e[e.ClickAnywhereToCloseThePopup=237]="ClickAnywhereToCloseThePopup",e[e.Formation=238]="Formation",e[e.LimitedTimeReward=239]="LimitedTimeReward",e[e.PlayerLv=240]="PlayerLv",e[e.TheNumberOfPurchases=241]="TheNumberOfPurchases",e[e.Collect=242]="Collect",e[e.FreeGems=243]="FreeGems",e[e.RefreshTime=244]="RefreshTime",e[e.DeluxeChest=245]="DeluxeChest",e[e.SuperDeluxeChest=246]="SuperDeluxeChest",e[e.TapHereToViewChance=247]="TapHereToViewChance",e[e.ChestDetails=248]="ChestDetails",e[e.GearChest=249]="GearChest",e[e.SuperGearChest=250]="SuperGearChest",e[e.Blue=251]="Blue",e[e.Elite=252]="Elite",e[e.Legendary=253]="Legendary",e[e.Mythic=254]="Mythic",e[e.Bonus=255]="Bonus",e[e.CampaignInvestment=256]="CampaignInvestment",e[e.GrowthInvestment=257]="GrowthInvestment",e[e.Tips=258]="Tips",e[e.AccumulateToClaimRewards=259]="AccumulateToClaimRewards",e[e.Value=260]="Value",e[e.BestValue=261]="BestValue",e[e.Sale=262]="Sale",e[e.limit=263]="limit",e[e.Special=264]="Special",e[e.HotDeals=265]="HotDeals",e[e.Daily=266]="Daily",e[e.SelectYourWantedGifts=267]="SelectYourWantedGifts",e[e.BattlePass=268]="BattlePass",e[e.ContinueClaim=269]="ContinueClaim",e[e.Day=270]="Day",e[e.Buygiftpackstoget=271]="Buygiftpackstoget",e[e.EndIn=272]="EndIn",e[e.Statistics=273]="Statistics",e[e.HeroDamage=274]="HeroDamage",e[e.PetDamage=275]="PetDamage",e[e.BasicattackDamage=276]="BasicattackDamage",e[e.SkillDamage=277]="SkillDamage",e[e.Youcanincreaseyourstrengthby=278]="Youcanincreaseyourstrengthby",e[e.Upgradehero=279]="Upgradehero",e[e.Raisepets=280]="Raisepets",e[e.CumulativeCheckInDays=281]="CumulativeCheckInDays",e[e.CumulativeCheckIn=282]="CumulativeCheckIn",e[e.AdditionalRewardsAvailable=283]="AdditionalRewardsAvailable",e[e.Choose=284]="Choose",e[e.Buy=285]="Buy",e[e.Capacity=286]="Capacity",e[e.All=287]="All",e[e.Prop=288]="Prop",e[e.TheCurrentHPOfTheCityWall=289]="TheCurrentHPOfTheCityWall",e[e.GoldMallTip=290]="GoldMallTip"}(a.LanguageIndex||(a.LanguageIndex={})),a.AllLanguageString=[["","","","",""],["CRIT","\u66b4 \u51fb","CRIT","\u041a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0443\u0434\u0430\u0440","\u0e04\u0e23\u0e34\u0e15"],["BEHEAD","\u65a9 \u6740","Tebas","\u041e\u0431\u0435\u0437\u0433\u043b\u0430\u0432\u043b\u0438\u0432\u0430\u043d\u0438\u0435","\u0e06\u0e48\u0e32"],["DODGE","\u95ea \u907f","DODGE","\u0423\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u0435","\u0e2b\u0e25\u0e1a\u0e2b\u0e25\u0e35\u0e01"],["PARRY","\u683c \u6321","PARRY","\u0411\u043b\u043e\u043a","\u0e2a\u0e01\u0e31\u0e14\u0e01\u0e31\u0e49\u0e19"],["KNOWING BLOW","\u4f1a\u5fc3\u4e00\u51fb","CRIT BLOW","\u0423\u0434\u0430\u0440 \u0432 \u0441\u0435\u0440\u0434\u0446\u0435","\u0e42\u0e08\u0e21\u0e15\u0e35\u0e23\u0e39\u0e49\u0e43\u0e08"],["HEADSHOT","\u7206 \u5934","HEADSHOT","\u0412\u044b\u0441\u0442\u0440\u0435\u043b \u0432 \u0433\u043e\u043b\u043e\u0432\u0443","\u0e23\u0e30\u0e40\u0e1a\u0e34\u0e14\u0e2b\u0e31\u0e27"],["VERTIGO","\u7729 \u6655","STUN","\u041d\u043e\u043a\u0430\u0443\u0442","\u0e27\u0e34\u0e07\u0e40\u0e27\u0e35\u0e22\u0e19"],["PAUSED","\u6682 \u505c","Pause","\u041f\u0430\u0443\u0437\u0430","\u0e2b\u0e22\u0e38\u0e14\u0e0a\u0e31\u0e48\u0e27\u0e04\u0e23\u0e32\u0e27"],["CONTINUE","\u7ee7 \u7eed","Lanjutkan","\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c","\u0e15\u0e48\u0e2d\u0e40\u0e19\u0e37\u0e48\u0e2d\u0e07"],["HOME","\u8fd4\u56de\u4e3b\u9875","Kembali ke halaman utama","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443","\u0e01\u0e25\u0e31\u0e1a\u0e44\u0e1b\u0e2b\u0e19\u0e49\u0e32\u0e2b\u0e25\u0e31\u0e01"],["Skills Acquired:","\u5df2\u83b7\u5f97\u7684\u6280\u80fd:","Mendapatkan skill:","\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0435 \u0443\u043c\u0435\u043d\u0438\u044f:","\u0e2a\u0e01\u0e34\u0e25\u0e17\u0e35\u0e48\u0e23\u0e31\u0e1a\u0e41\u0e25\u0e49\u0e27:"],["DANGER","\u5371 \u9669","BAHAYA","\u041e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c","\u0e2d\u0e31\u0e19\u0e15\u0e23\u0e32\u0e22"],["Monster Manual","\u602a\u7269\u56fe\u9274","Manual monster","\u0413\u0430\u043b\u0435\u0440\u0435\u044f \u043c\u043e\u043d\u0441\u0442\u0440\u043e\u0432","\u0e23\u0e39\u0e1b\u0e20\u0e32\u0e1e\u0e21\u0e2d\u0e19\u0e2a\u0e40\u0e15\u0e2d\u0e23\u0e4c"],["Number of kills:","\u51fb\u6740\u6570","Jumlah membunuh:","\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0443\u0431\u0438\u0439\u0441\u0442\u0432","\u0e08\u0e33\u0e19\u0e27\u0e19\u0e2a\u0e31\u0e07\u0e2b\u0e32\u0e23"],["Feature:","\u7279 \u6027:","Karakteristik:","\u041e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438:","\u0e25\u0e31\u0e01\u0e29\u0e13\u0e30\u0e1e\u0e34\u0e40\u0e28\u0e29:"],["Click to claim","\u70b9 \u51fb \u9886 \u53d6","Tekan untuk klaim:","\u041d\u0430\u0436\u043c\u0438, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c","\u0e01\u0e14\u0e23\u0e31\u0e1a"],["Milestone","\u91cc\u7a0b\u7891","Pencapaian","\u0412\u0430\u0436\u043d\u044b\u0439 \u044d\u0442\u0430\u043f","\u0e1a\u0e2d\u0e01\u0e1a\u0e2d\u0e01\u0e23\u0e30\u0e22\u0e30\u0e17\u0e32\u0e07"],["Progress","\u8fdb\u5ea6","Kemajuan","\u041f\u0440\u043e\u0433\u0440\u0435\u0441\u0441","\u0e04\u0e37\u0e1a\u0e2b\u0e19\u0e49\u0e32"],["Characteristics:","\u7279\u6027:","Karakteristik:","\u0410\u0442\u0440\u0438\u0431\u0443\u0442:","\u0e25\u0e31\u0e01\u0e29\u0e13\u0e30\u0e1e\u0e34\u0e40\u0e28\u0e29:"],["Drag your hero into battle","\u62d6\u52a8\u4e0a\u9635\u4f60\u7684\u82f1\u96c4","Tarik pahlawan ke pertarungan","\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438 \u0441\u0432\u043e\u0435\u0433\u043e \u0433\u0435\u0440\u043e\u044f \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0440\u0430\u0436\u0435\u043d\u0438\u044f","\u0e25\u0e32\u0e01\u0e2e\u0e35\u0e42\u0e23\u0e48\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e2d\u0e2d\u0e01\u0e23\u0e1a"],["The hero has gone into battle","\u8be5\u82f1\u96c4\u5df2\u7ecf\u5728\u961f\u4f0d\u91cc","Pahlawan ini sudah pergi ke pertarungan","\u042d\u0442\u043e\u0442 \u0433\u0435\u0440\u043e\u0439 \u0443\u0436\u0435 \u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u0435","\u0e2e\u0e35\u0e42\u0e23\u0e48\u0e19\u0e35\u0e49\u0e2d\u0e22\u0e39\u0e48\u0e43\u0e19\u0e17\u0e35\u0e21\u0e41\u0e25\u0e49\u0e27"],["The location is not unlocked","\u8be5\u4f4d\u7f6e\u672a\u89e3\u9501","Lokasi ini tidak terkunci","\u042d\u0442\u0430 \u043b\u043e\u043a\u0430\u0446\u0438\u044f \u043d\u0435 \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0430","\u0e15\u0e33\u0e41\u0e2b\u0e19\u0e48\u0e07\u0e19\u0e35\u0e49\u0e22\u0e31\u0e07\u0e44\u0e21\u0e48\u0e1b\u0e25\u0e14\u0e25\u0e47\u0e2d\u0e04"],["At least one hero","\u81f3\u5c11\u4e0a\u9635\u4e00\u540d\u82f1\u96c4","Minimal 1 pahlawan ke pertarungan","\u0414\u043b\u044f \u0441\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u0438\u043d \u0433\u0435\u0440\u043e\u0439","\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e19\u0e49\u0e2d\u0e22\u0e21\u0e35\u0e2e\u0e35\u0e42\u0e23\u0e48 1 \u0e04\u0e19\u0e2d\u0e2d\u0e01\u0e23\u0e1a"],["Attack method","\u653b\u51fb\u65b9\u5f0f","Metode serangan","\u0421\u043f\u043e\u0441\u043e\u0431 \u0430\u0442\u0430\u043a\u0438","\u0e27\u0e34\u0e18\u0e35\u0e42\u0e08\u0e21\u0e15\u0e35"],["Name","\u59d3\u540d","Nama","\u0418\u043c\u044f","\u0e0a\u0e37\u0e48\u0e2d"],["Age","\u5e74\u9f84","Umur","\u0412\u043e\u0437\u0440\u0430\u0441\u0442","\u0e2d\u0e32\u0e22\u0e38"],["Sex","\u6027\u522b","Jenis kelamin","\u041f\u043e\u043b","\u0e40\u0e1e\u0e28"],["Information","\u4fe1\u606f","Informasi","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25"],["Introduce","\u4ecb\u7ecd","Pengenalan","\u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435","\u0e41\u0e19\u0e30\u0e19\u0e33"],["Upgrade","\u5347\u7ea7","Upgrade","\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435","\u0e2d\u0e31\u0e1b\u0e40\u0e01\u0e23\u0e14"],["Backpack","\u80cc\u5305","Ransel","\u0420\u044e\u043a\u0437\u0430\u043a","\u0e40\u0e1b\u0e49"],["Fast Synthesis","\u5feb\u901f\u5408\u6210","Sintesis cepat","\u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0441\u0438\u043d\u0442\u0435\u0437","\u0e1c\u0e2a\u0e32\u0e19\u0e14\u0e48\u0e27\u0e19"],["Promotion","\u664b\u5347","Naikkan ","\u041f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u0435","\u0e40\u0e25\u0e37\u0e48\u0e2d\u0e19\u0e02\u0e31\u0e49\u0e19"],["Insufficient energy","\u80fd\u91cf\u4e0d\u8db3","Energi tidak cukup","\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u044d\u043d\u0435\u0440\u0433\u0438\u0438","\u0e1e\u0e25\u0e31\u0e07\u0e44\u0e21\u0e48\u0e1e\u0e2d"],["Energy is full","\u80fd\u91cf\u5df2\u7ecf\u6ee1\u4e86","Energi sudah penuh","\u042d\u043d\u0435\u0440\u0433\u0438\u044f \u0443\u0436\u0435 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430","\u0e1e\u0e25\u0e31\u0e07\u0e40\u0e15\u0e47\u0e21\u0e41\u0e25\u0e49\u0e27"],["CLAIM FREE","\u514d\u8d39\u9886\u53d6","Klaim gratis","\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e","\u0e23\u0e31\u0e1a\u0e1f\u0e23\u0e35"],["CLAIM ALL","\u9886\u53d6\u6240\u6709","Klaim semua","\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0432\u0441\u0435","\u0e23\u0e31\u0e1a\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"],["FREE SPIN","\u514d\u8d39\u62bd\u5956","Spin gratis","\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0439 \u0440\u043e\u0437\u044b\u0433\u0440\u044b\u0448 \u043f\u0440\u0438\u0437\u043e\u0432","\u0e08\u0e31\u0e1a\u0e23\u0e32\u0e07\u0e27\u0e31\u0e25\u0e1f\u0e23\u0e35"],["Lucky Draw","\u5e78\u8fd0\u8f6c\u76d8","Lucky Draw","\u041a\u043e\u043b\u0435\u0441\u043e \u0444\u043e\u0440\u0442\u0443\u043d\u044b","\u0e27\u0e07\u0e25\u0e49\u0e2d\u0e42\u0e0a\u0e04\u0e14\u0e35"],["SETTING","\u8bbe \u7f6e","Pengaturan","\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438","\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32"],["English","\u4e2d \u6587","Mandarin","\u041a\u0438\u0442\u0430\u0439\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a","\u0e20\u0e32\u0e29\u0e32\u0e08\u0e35\u0e19"],["Contact Us","\u8054 \u7cfb \u6211 \u4eec","Kontak kami","\u0421\u0432\u044f\u0436\u0438\u0441\u044c \u0441 \u043d\u0430\u043c\u0438","\u0e15\u0e34\u0e14\u0e15\u0e48\u0e2d\u0e1e\u0e27\u0e01\u0e40\u0e23\u0e32"],["Quit Game","\u9000 \u51fa \u6e38 \u620f","Keluar game","\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0438\u0433\u0440\u044b","\u0e2d\u0e2d\u0e01\u0e40\u0e01\u0e21"],["Version","\u7248 \u672c","Versi","\u0412\u0435\u0440\u0441\u0438\u044f","\u0e40\u0e27\u0e2d\u0e23\u0e4c\u0e0a\u0e31\u0e48\u0e19"],["Change Avatar","\u66f4\u6539\u5934\u50cf","Ganti avatar","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440","\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e23\u0e39\u0e1b\u0e42\u0e1b\u0e23\u0e44\u0e1f\u0e25\u0e4c"],["OK","\u597d\u7684","OK","OK","\u0e40\u0e23\u0e35\u0e22\u0e1a\u0e23\u0e49\u0e2d\u0e22\u0e41\u0e25\u0e49\u0e27"],["YES","\u786e \u5b9a","YA","\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c","\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19"],["NO","\u53d6 \u6d88","BATAL","\u041e\u0442\u043c\u0435\u043d\u0430","\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"],["Do you really want to quit game?","\u4f60\u771f\u7684\u8981\u9000\u51fa\u6e38\u620f\u5417\uff1f","Apakah kamu ingin keluar dari game?","\u0422\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0447\u0435\u0448\u044c \u0432\u044b\u0439\u0442\u0438 \u0438\u0437 \u0438\u0433\u0440\u044b?","\u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e2d\u0e2d\u0e01\u0e08\u0e32\u0e01\u0e40\u0e01\u0e21\u0e43\u0e0a\u0e48\u0e44\u0e2b\u0e21?"],["Start Challenge","\u5f00 \u59cb \u6311 \u6218","Mulai tantangan","\u041d\u0430\u0447\u0430\u0442\u044c","\u0e40\u0e23\u0e34\u0e48\u0e21\u0e17\u0e49\u0e32\u0e2a\u0e39\u0e49"],["Come Back For More Rewards In","\u56de\u6765\u9886\u53d6\u66f4\u591a\u7684\u5956\u52b1","Kembali untuk mengklaim lebih banyak hadiah","\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439\u0441\u044f \u0437\u0430 \u043d\u043e\u0432\u044b\u043c\u0438 \u043d\u0430\u0433\u0440\u0430\u0434\u0430\u043c\u0438","\u0e01\u0e25\u0e31\u0e1a\u0e21\u0e32\u0e23\u0e31\u0e1a\u0e23\u0e32\u0e07\u0e27\u0e31\u0e25\u0e17\u0e35\u0e48\u0e21\u0e32\u0e01\u0e02\u0e36\u0e49\u0e19"],["DAY1","\u7b2c\u4e00\u5929","Hari pertama","\u0414\u0435\u043d\u044c 1","\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48 1 "],["DAY2","\u7b2c\u4e8c\u5929","Hari ke-2","\u0414\u0435\u043d\u044c 2","\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48 2"],["DAY3","\u7b2c\u4e09\u5929","Hari ke-3","\u0414\u0435\u043d\u044c 3","\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48 3"],["DAY4","\u7b2c\u56db\u5929","Hari ke-4","\u0414\u0435\u043d\u044c 4","\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48 4"],["DAY5","\u7b2c\u4e94\u5929","Hari ke-5","\u0414\u0435\u043d\u044c 5","\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48 5"],["DAY6","\u7b2c\u516d\u5929","Hari ke-6","\u0414\u0435\u043d\u044c 6","\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48 6"],["DAY7","\u7b2c\u4e03\u5929","Hari ke-7","\u0414\u0435\u043d\u044c 7","\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48 7"],["CLAIM","\u9886 \u53d6","KLAIM","\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c","\u0e23\u0e31\u0e1a"],["CLAIMED","\u5df2 \u9886 \u53d6","SUDAH DIKLAIM","\u0423\u0436\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e","\u0e23\u0e31\u0e1a\u0e41\u0e25\u0e49\u0e27"],["Seven Days Sign In","\u4e03\u5929\u7b7e\u5230","Sign in 7 hari","\u0412\u0445\u043e\u0434 \u0432 \u0438\u0433\u0440\u0443 \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 7 \u0434\u043d\u0435\u0439","\u0e25\u0e07\u0e0a\u0e37\u0e48\u0e2d 7 \u0e27\u0e31\u0e19"],["Ranking","\u6392\u884c\u699c","Daftar peringkat","\u0420\u0435\u0439\u0442\u0438\u043d\u0433","\u0e2d\u0e31\u0e19\u0e14\u0e31\u0e1a"],["Daily Mission","\u6bcf\u65e5\u4efb\u52a1","Misi harian","\u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438","\u0e20\u0e32\u0e23\u0e01\u0e34\u0e08\u0e23\u0e32\u0e22\u0e27\u0e31\u0e19"],["Hang Up Bonus","\u6302 \u673a \u5956 \u52b1","Hadiah AFK","\u041d\u0430\u0433\u0440\u0430\u0434\u0430 \u0430\u0432\u0442\u043e\u0440\u0435\u0436\u0438\u043c\u0430","\u0e23\u0e32\u0e07\u0e27\u0e31\u0e25 AI"],["Claim X5","\u9886 \u53d6 X5","Klaim 5x","\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c X5","\u0e23\u0e31\u0e1a X5"],["FREE CHEST","\u514d \u8d39 \u5b9d \u7bb1","Peti harta gratis","\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0439 \u0441\u0443\u043d\u0434\u0443\u043a \u0441 \u0441\u043e\u043a\u0440\u043e\u0432\u0438\u0449\u0430\u043c\u0438","\u0e2b\u0e35\u0e1a\u0e2a\u0e21\u0e1a\u0e31\u0e15\u0e34\u0e1f\u0e23\u0e35"],["EQUIPMENT CHEST","\u88c5 \u5907 \u5b9d \u7bb1","Peti harta perlengkapan","\u0421\u0443\u043d\u0434\u0443\u043a \u0441 \u0441\u043e\u043a\u0440\u043e\u0432\u0438\u0449\u0430\u043c\u0438 \u0438 \u043e\u0441\u043d\u0430\u0441\u0442\u043a\u043e\u0439","\u0e2b\u0e35\u0e1a\u0e2a\u0e21\u0e1a\u0e31\u0e15\u0e34\u0e44\u0e2d\u0e40\u0e17\u0e21"],["FRAGMENTED CHEST","\u788e \u7247 \u5b9d \u7bb1","Peti hara fragmen","\u0421\u0443\u043d\u0434\u0443\u043a \u0441 \u0441\u043e\u043a\u0440\u043e\u0432\u0438\u0449\u0430\u043c\u0438 \u0438 \u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u0430\u043c\u0438","\u0e2b\u0e35\u0e1a\u0e2a\u0e21\u0e1a\u0e31\u0e15\u0e34\u0e0a\u0e34\u0e49\u0e19\u0e2a\u0e48\u0e27\u0e19"],["SUPER CHEST","\u8d85 \u7ea7 \u5b9d \u7bb1","Peti harta super","\u0421\u0443\u043f\u0435\u0440-\u0441\u0443\u043d\u0434\u0443\u043a \u0441 \u0441\u043e\u043a\u0440\u043e\u0432\u0438\u0449\u0430\u043c\u0438","\u0e2b\u0e35\u0e1a\u0e2a\u0e21\u0e1a\u0e31\u0e15\u0e34\u0e0b\u0e38\u0e1b\u0e40\u0e1b\u0e2d\u0e23\u0e4c"],["FREE","\u514d \u8d39","Gratis","\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e","\u0e1f\u0e23\u0e35"],["READY","\u53ef \u5f00 \u542f","Dapat dibuka","\u041c\u043e\u0436\u043d\u043e \u043e\u0442\u043a\u0440\u044b\u0442\u044c","\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e40\u0e1b\u0e34\u0e14"],["2500 COINS","2500 \u91d1\u5e01","2.500 Koin","2500 \u0437\u043e\u043b\u043e\u0442\u044b\u0445 \u043c\u043e\u043d\u0435\u0442","2500 \u0e42\u0e01\u0e25\u0e14\u0e4c"],["Insufficient Gems","\u94bb\u77f3\u4e0d\u8db3","Berlian tidak cukup","\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0430\u043b\u043c\u0430\u0437\u043e\u0432","\u0e40\u0e1e\u0e0a\u0e23\u0e44\u0e21\u0e48\u0e1e\u0e2d"],["Insufficient Coins","\u91d1\u5e01\u4e0d\u8db3","Koin tidak cukup","\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0437\u043e\u043b\u043e\u0442\u044b\u0445 \u043c\u043e\u043d\u0435\u0442","\u0e42\u0e01\u0e25\u0e14\u0e4c\u0e44\u0e21\u0e48\u0e1e\u0e2d"],["WEAPON","\u6b66 \u5668","Senjata","\u041e\u0440\u0443\u0436\u0438\u0435","\u0e2d\u0e32\u0e27\u0e38\u0e18"],["Equipped","\u5df2\u88c5\u5907","Sudah dipasang","\u0421\u043d\u0430\u0440\u044f\u0436\u0435\u043d\u043e","\u0e2a\u0e27\u0e21\u0e41\u0e25\u0e49\u0e27"],["Change Hero","\u66f4\u6362\u82f1\u96c4","Ganti pahlawan","\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0433\u0435\u0440\u043e\u044f","\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e2e\u0e35\u0e42\u0e23\u0e48"],["Additional Attributes","\u9644\u52a0\u5c5e\u6027","Atribut tambahan","\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0430\u0442\u0440\u0438\u0431\u0443\u0442","\u0e41\u0e19\u0e1a\u0e04\u0e38\u0e13\u0e2a\u0e21\u0e1a\u0e31\u0e15\u0e34"],["Replace","\u66ff \u6362","Ganti","\u0417\u0430\u043c\u0435\u043d\u0430","\u0e41\u0e17\u0e19\u0e17\u0e35\u0e48"],["None","\u672a\u6fc0\u6d3b","Belum aktif","\u041d\u0435 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u043e","\u0e22\u0e31\u0e07\u0e44\u0e21\u0e48\u0e40\u0e1b\u0e34\u0e14\u0e43\u0e0a\u0e49"],["Reset","\u91cd\u7f6e","Atur ulang","\u0421\u0431\u0440\u043e\u0441","\u0e23\u0e35\u0e40\u0e0b\u0e47\u0e15"],["Melt","\u5206 \u89e3","Urai","\u0420\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c","\u0e2a\u0e25\u0e32\u0e22"],["Drag two equipment of the same level to synthesize a higher level equipment","\u62d6\u52a8\u4e24\u4e2a\u540c\u7ea7\u88c5\u5907\u53ef\u5408\u6210\u9ad81\u7ea7\u7684\u88c5\u5907","Tarik 2 perlengkapan dengan level yang sama untuk dapat mensintesis perlengkapan yang lebih tinggi 1 level","\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438 \u0434\u0432\u0430 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430 \u043e\u0441\u043d\u0430\u0441\u0442\u043a\u0438 \u0441 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u043c \u0443\u0440\u043e\u0432\u043d\u0435\u043c, \u0447\u0442\u043e\u0431\u044b \u0441\u0438\u043d\u0442\u0435\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0435\u0434\u043c\u0435\u0442 \u043e\u0441\u043d\u0430\u0441\u0442\u043a\u0438 \u043d\u0430 1 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0432\u044b\u0448\u0435","\u0e25\u0e32\u0e01\u0e44\u0e2d\u0e40\u0e17\u0e21 2 \u0e0a\u0e34\u0e49\u0e19\u0e17\u0e35\u0e48\u0e23\u0e30\u0e14\u0e31\u0e1a\u0e40\u0e14\u0e35\u0e22\u0e27\u0e01\u0e31\u0e19 \u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e1c\u0e2a\u0e32\u0e19\u0e40\u0e1b\u0e47\u0e19\u0e44\u0e2d\u0e40\u0e17\u0e21\u0e17\u0e35\u0e48\u0e2a\u0e39\u0e07\u0e02\u0e36\u0e49\u0e19\u0e2d\u0e35\u0e01 1 \u0e23\u0e30\u0e14\u0e31\u0e1a"],["Reset Attributes","\u91cd \u7f6e \u5c5e \u6027","Atur ulang atribut","\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0430\u0442\u0440\u0438\u0431\u0443\u0442","\u0e23\u0e35\u0e40\u0e0b\u0e47\u0e15\u0e04\u0e38\u0e13\u0e2a\u0e21\u0e1a\u0e31\u0e15\u0e34"],["Give Up","\u653e\u5f03","Buang","\u0421\u0434\u0430\u0442\u044c\u0441\u044f","\u0e25\u0e30\u0e17\u0e34\u0e49\u0e07"],["Save","\u4fdd\u5b58","Simpan","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"],["New Equipment","\u65b0\u88c5\u5907","Perlengkapan baru","\u041d\u043e\u0432\u0430\u044f \u043e\u0441\u043d\u0430\u0441\u0442\u043a\u0430","\u0e44\u0e2d\u0e40\u0e17\u0e21\u0e43\u0e2b\u0e21\u0e48"],["Damage Increased","\u4f24\u5bb3\u63d0\u5347","DMG meningkat","\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u0435 \u0443\u0440\u043e\u043d\u0430","\u0e40\u0e2a\u0e35\u0e22\u0e2b\u0e32\u0e22\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e02\u0e36\u0e49\u0e19"],["Exclusive Attributes","\u4e13\u5c5e\u5c5e\u6027","Atribut eksklusif","\u041e\u0441\u043e\u0431\u044b\u0439 \u0430\u0442\u0440\u0438\u0431\u0443\u0442","\u0e04\u0e38\u0e13\u0e2a\u0e21\u0e1a\u0e31\u0e15\u0e34\u0e40\u0e09\u0e1e\u0e32\u0e30"],["Promotion Details","\u664b\u5347\u8be6\u60c5","Detail naik tingkat","\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0438 \u043f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u044f","\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14\u0e40\u0e25\u0e37\u0e48\u0e2d\u0e19\u0e02\u0e31\u0e49\u0e19"],["Super Skill","\u8d85\u7ea7\u6280\u80fd","Skill super","\u0421\u0443\u043f\u0435\u0440-\u0443\u043c\u0435\u043d\u0438\u0435","\u0e2a\u0e01\u0e34\u0e25\u0e0b\u0e38\u0e1b\u0e40\u0e1b\u0e2d\u0e23\u0e4c"],["Hero Fragment","\u82f1\u96c4\u788e\u7247","Fragmen Pahlawan","\u0424\u0440\u0430\u0433\u043c\u0435\u043d\u0442 \u0433\u0435\u0440\u043e\u044f","\u0e0a\u0e34\u0e49\u0e19\u0e2a\u0e48\u0e27\u0e19\u0e2e\u0e35\u0e42\u0e23\u0e48"],["After Collecting The Corresponding Equipment,Consume The Fragments To Promote The Rank","\u96c6\u9f50\u5bf9\u5e94\u7684\u88c5\u5907\u540e\uff0c\u6d88\u8017\u788e\u7247\u6765\u664b\u5347\u519b\u8854","Setelah mengumpulkan atribut yang sesuai, konsumsi fragmen untuk menaikkan pangkat","\u041f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e \u043a\u0430\u043a \u0442\u044b \u0441\u043e\u0431\u0435\u0440\u0435\u0448\u044c \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0443\u044e \u043e\u0441\u043d\u0430\u0441\u0442\u043a\u0443, \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0441\u044f \u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u0430\u043c\u0438, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0432\u044b\u0441\u0438\u0442\u044c \u0441\u0432\u043e\u0439 \u0440\u0430\u043d\u0433","\u0e2a\u0e30\u0e2a\u0e21\u0e44\u0e2d\u0e40\u0e17\u0e21\u0e17\u0e35\u0e48\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e02\u0e49\u0e2d\u0e07\u0e04\u0e23\u0e1a \u0e43\u0e0a\u0e49\u0e0a\u0e34\u0e49\u0e19\u0e2a\u0e48\u0e27\u0e19\u0e40\u0e25\u0e37\u0e48\u0e2d\u0e19\u0e02\u0e31\u0e49\u0e19\u0e22\u0e28\u0e17\u0e2b\u0e32\u0e23"],["Fragment Transformation","\u788e\u7247\u8f6c\u5316","Transformasi Fragmen","\u041f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u044c \u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b","\u0e41\u0e1b\u0e25\u0e07\u0e0a\u0e34\u0e49\u0e19\u0e2a\u0e48\u0e27\u0e19"],["Randomly Transform Into Fragments Of Other Heroes","\u968f\u673a\u8f6c\u5316\u4e3a\u5176\u4ed6\u82f1\u96c4\u7684\u788e\u7247","Mentransformasi menjadi fragmen pahlawan lain secara acak","\u041f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u043e\u0432 \u0432 \u0440\u0430\u043d\u0434\u043e\u043c\u043d\u044b\u0435 \u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b \u0434\u0440\u0443\u0433\u0438\u0445 \u0433\u0435\u0440\u043e\u0435\u0432","\u0e2a\u0e38\u0e48\u0e21\u0e41\u0e1b\u0e25\u0e07\u0e40\u0e1b\u0e47\u0e19\u0e0a\u0e34\u0e49\u0e19\u0e2a\u0e48\u0e27\u0e19\u0e2e\u0e35\u0e42\u0e23\u0e48\u0e2d\u0e37\u0e48\u0e19"],["Transform","\u8f6c\u6362","Transformasi","\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435","\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19"],["Max","\u6ee1\u7ea7","Level Maks.","\u041f\u043e\u043b\u043d\u044b\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c","\u0e40\u0e25\u0e40\u0e27\u0e25\u0e40\u0e15\u0e47\u0e21\u0e41\u0e25\u0e49\u0e27"],["Yard","\u7801","Kode","\u041a\u043e\u0434","\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02"],["Level","\u5173\u5361","Stage","\u0423\u0440\u043e\u0432\u0435\u043d\u044c ","\u0e14\u0e48\u0e32\u0e19"],["Go To The Following Page To Get Rewards To Improve Your Combat Power, And It Will Be Easier To Pass The Level","\u524d\u5f80\u4ee5\u4e0b\u9875\u9762\u83b7\u53d6\u5956\u52b1\u63d0\u5347\u6218\u529b\uff0c\u901a\u5173\u4f1a\u66f4\u5bb9\u6613","Pergi ke halaman berikut ini untuk mendapatkan hadiah yang meningkatkan kekuatan tempur, mempermudah menyelesaikan stage","\u041f\u0435\u0440\u0435\u0439\u0434\u0438 \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043d\u0430\u0433\u0440\u0430\u0434\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u0432\u044b\u0441\u044f\u0442 \u0442\u0432\u043e\u044e \u0431\u043e\u0435\u0432\u0443\u044e \u043c\u043e\u0449\u044c \u0438 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0442 \u043e\u0431\u043b\u0435\u0433\u0447\u0438\u0442\u044c \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u0443\u0440\u043e\u0432\u043d\u044f","\u0e44\u0e1b\u0e15\u0e32\u0e21\u0e2b\u0e19\u0e49\u0e32\u0e02\u0e49\u0e32\u0e07\u0e25\u0e48\u0e32\u0e07 \u0e23\u0e31\u0e1a\u0e23\u0e32\u0e07\u0e27\u0e31\u0e25\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e1e\u0e25\u0e31\u0e07\u0e23\u0e1a \u0e1c\u0e48\u0e32\u0e19\u0e14\u0e48\u0e32\u0e19\u0e22\u0e34\u0e48\u0e07\u0e07\u0e48\u0e32\u0e22\u0e02\u0e36\u0e49\u0e19"],["Victory","\u80dc\u5229","Menang","\u041f\u043e\u0431\u0435\u0434\u0430","\u0e0a\u0e19\u0e30"],["Lost","\u8f93\u4e86","Kalah","\u041f\u0440\u043e\u0438\u0433\u0440\u044b\u0448","\u0e41\u0e1e\u0e49\u0e41\u0e25\u0e49\u0e27"],["Coin","\u91d1\u5e01","Koin tidak cukup","\u0417\u043e\u043b\u043e\u0442\u044b\u0435 \u043c\u043e\u043d\u0435\u0442\u044b","\u0e42\u0e01\u0e25\u0e14\u0e4c"],["Mall","\u5546\u57ce","Mal","\u041c\u0430\u0433\u0430\u0437\u0438\u043d","\u0e23\u0e49\u0e32\u0e19\u0e04\u0e49\u0e32"],["Hero","\u82f1\u96c4","Pahlawan","\u0413\u0435\u0440\u043e\u0439","\u0e2e\u0e35\u0e42\u0e23\u0e48"],["Battle","\u6218 \u6597","Pertarungan","\u0411\u043e\u0439","\u0e15\u0e48\u0e2d\u0e2a\u0e39\u0e49"],["Pet","\u5ba0\u7269","Peliharaan","\u041f\u0438\u0442\u043e\u043c\u0435\u0446","\u0e2a\u0e31\u0e15\u0e27\u0e4c\u0e40\u0e25\u0e35\u0e49\u0e22\u0e07"],["Map","\u526f\u672c","Dungeon","\u041a\u0432\u0435\u0441\u0442","\u0e14\u0e31\u0e19\u0e40\u0e08\u0e35\u0e49\u0e22\u0e19"],["Sign In","\u7b7e\u5230","Absen","\u0412\u043e\u0439\u0442\u0438","\u0e40\u0e0a\u0e47\u0e04\u0e0a\u0e37\u0e48\u0e2d"],["Reach","\u901a\u5173\u81f3","Selesaikan stage hingga","\u041f\u0440\u043e\u0439\u0442\u0438","\u0e1c\u0e48\u0e32\u0e19\u0e14\u0e48\u0e32\u0e19\u0e16\u0e36\u0e07"],["Go","\u524d\u5f80","Pergi","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c\u0441\u044f","\u0e21\u0e38\u0e48\u0e07\u0e44\u0e1b"],["Speed Up","\u52a0\u901f","Percepat","\u0423\u0441\u043a\u043e\u0440\u0438\u0442\u044c\u0441\u044f","\u0e40\u0e23\u0e48\u0e07\u0e04\u0e27\u0e32\u0e21\u0e40\u0e23\u0e47\u0e27"],["Unlock Now","\u73b0\u5728\u89e3\u9501","Buka sekarang","\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0435\u0439\u0447\u0430\u0441","\u0e1b\u0e25\u0e14\u0e25\u0e47\u0e2d\u0e04\u0e15\u0e2d\u0e19\u0e19\u0e35\u0e49"],["Watch Ads To Unlock 2x Speed","\u89c2\u770b\u5e7f\u544a\u89e3\u95012\u500d\u901f\u5ea6","Tonton iklan untuk membuka 2x SPD","\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0438 \u0440\u0435\u043a\u043b\u0430\u043c\u0443, \u0447\u0442\u043e\u0431\u044b \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c 2-\u043a\u0440\u0430\u0442\u043d\u0443\u044e \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c","\u0e14\u0e39\u0e42\u0e06\u0e29\u0e13\u0e32\u0e1b\u0e25\u0e14\u0e25\u0e47\u0e2d\u0e04\u0e23\u0e30\u0e14\u0e31\u0e1a\u0e04\u0e27\u0e32\u0e21\u0e40\u0e23\u0e47\u0e27 2 \u0e40\u0e17\u0e48\u0e32"],["Discover New Species,Please Be Prepared For Battle!","\u53d1\u73b0\u65b0\u7269\u79cd,\u8bf7\u505a\u597d\u6218\u6597\u51c6\u5907!","Temukan spesies baru, bersiap-siaplah bertarung!","\u041d\u0430\u0439\u0434\u0435\u043d \u043d\u043e\u0432\u044b\u0439 \u0432\u0438\u0434, \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u044c\u0441\u044f \u043a \u0431\u043e\u044e!","\u0e1e\u0e1a\u0e2a\u0e34\u0e48\u0e07\u0e21\u0e35\u0e0a\u0e35\u0e27\u0e34\u0e15\u0e0a\u0e19\u0e34\u0e14\u0e43\u0e2b\u0e21\u0e48 \u0e42\u0e1b\u0e23\u0e14\u0e40\u0e15\u0e23\u0e35\u0e22\u0e21\u0e15\u0e31\u0e27\u0e15\u0e48\u0e2d\u0e2a\u0e39\u0e49!"],["Warning","\u8b66\u544a","Peringatan","\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435","\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19"],["Open To Hero Page","\u8df3\u8f6c\u5230\u82f1\u96c4\u9875\u9762","Lompat ke halaman pahlawan","\u041f\u0435\u0440\u0435\u0439\u0434\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0441 \u0433\u0435\u0440\u043e\u044f\u043c\u0438","\u0e02\u0e49\u0e32\u0e21\u0e44\u0e1b\u0e22\u0e31\u0e07\u0e2b\u0e19\u0e49\u0e32\u0e2e\u0e35\u0e42\u0e23\u0e48"],["A New Hero Has Joined Your Team And Can Be Brought Into Battle On The Hero Page","\u4e00\u540d\u65b0\u7684\u82f1\u96c4\u52a0\u5165\u4e86\u4f60\u7684\u961f\u4f0d\uff0c\u53ef\u4ee5\u5728\u82f1\u96c4\u9875\u9762\u8ba9\u5176\u4e0a\u9635","Seorang pahlawan baru bergabung dengan timmu, dapat dimasukkan ke perang di halaman pahlawan","\u041d\u043e\u0432\u044b\u0439 \u0433\u0435\u0440\u043e\u0439 \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0435\u0442\u0441\u044f \u043a \u0442\u0432\u043e\u0435\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u0435 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0432\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u0431\u043e\u0439 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0441 \u0433\u0435\u0440\u043e\u044f\u043c\u0438","\u0e21\u0e35\u0e2e\u0e35\u0e42\u0e23\u0e48\u0e43\u0e2b\u0e21\u0e48 1 \u0e04\u0e19\u0e40\u0e02\u0e49\u0e32\u0e23\u0e48\u0e27\u0e21\u0e17\u0e35\u0e21\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13 \u0e40\u0e25\u0e37\u0e2d\u0e01\u0e43\u0e2b\u0e49\u0e40\u0e02\u0e32\u0e2d\u0e2d\u0e01\u0e23\u0e1a\u0e44\u0e14\u0e49\u0e08\u0e32\u0e01\u0e43\u0e19\u0e2b\u0e19\u0e49\u0e32\u0e2e\u0e35\u0e42\u0e23\u0e48"],["Attack","\u653b\u51fb","ATK","\u0410\u0442\u0430\u043a\u0430","\u0e42\u0e08\u0e21\u0e15\u0e35"],["May Get","\u53ef\u80fd\u83b7\u5f97","mungkin mendapatkan","\u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c","\u0e21\u0e35\u0e41\u0e19\u0e27\u0e42\u0e19\u0e49\u0e21\u0e08\u0e30\u0e44\u0e14\u0e49\u0e23\u0e31\u0e1a"],["Attack Speed","\u653b\u51fb\u901f\u5ea6","ATK SPD","\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0430\u0442\u0430\u043a\u0438","\u0e23\u0e30\u0e14\u0e31\u0e1a\u0e04\u0e27\u0e32\u0e21\u0e40\u0e23\u0e47\u0e27\u0e42\u0e08\u0e21\u0e15\u0e35"],["Explosive Ability","\u7206\u53d1\u529b","Kekuatan Burst","\u0412\u0437\u0440\u044b\u0432\u043d\u0430\u044f \u0441\u0438\u043b\u0430","\u0e41\u0e23\u0e07\u0e23\u0e30\u0e40\u0e1a\u0e34\u0e14"],["Range","\u8303\u56f4","Jangkauan","\u0414\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c","\u0e02\u0e2d\u0e1a\u0e40\u0e02\u0e15"],["Skill","\u5927\u62db","Skill super","\u0421\u0438\u043b\u044c\u043d\u0435\u0439\u0448\u0430\u044f \u0430\u0442\u0430\u043a\u0430","\u0e17\u0e48\u0e32\u0e44\u0e21\u0e49\u0e15\u0e32\u0e22"],["Rewards","\u83b7\u5f97\u5956\u52b1","Mendapatkan hadiah","\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0435 \u043d\u0430\u0433\u0440\u0430\u0434\u044b","\u0e44\u0e14\u0e49\u0e23\u0e31\u0e1a\u0e23\u0e32\u0e07\u0e27\u0e31\u0e25"],["Cancel Skill","\u53d6\u6d88\u6280\u80fd","Batalkan skill","\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0443\u043c\u0435\u043d\u0438\u0435","\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01\u0e2a\u0e01\u0e34\u0e25"],["Clear Raid Level","\u626b\u8361\u5173\u5361","Selesaikan stage","\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0437\u0430\u0447\u0438\u0441\u0442\u043a\u0438","\u0e01\u0e27\u0e32\u0e14\u0e25\u0e49\u0e32\u0e07\u0e14\u0e48\u0e32\u0e19"],["You Must Clear This Raid Once To Enable This Function","\u60a8\u5fc5\u987b\u5148\u901a\u5173\u4e00\u6b21\u624d\u80fd\u4f7f\u7528\u6b64\u529f\u80fd","Anda harus menyelesaikan stage ini 1x untuk dapat menggunakan fitur ini","\u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u044d\u0442\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0435\u0439, \u043d\u0443\u0436\u043d\u043e \u043f\u0440\u043e\u0439\u0442\u0438 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u043e\u0434\u0438\u043d \u0440\u0430\u0437","\u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e1c\u0e48\u0e32\u0e19\u0e14\u0e48\u0e32\u0e19 1 \u0e04\u0e23\u0e31\u0e49\u0e07\u0e16\u0e36\u0e07\u0e08\u0e30\u0e43\u0e0a\u0e49\u0e1f\u0e31\u0e07\u0e01\u0e4c\u0e0a\u0e31\u0e48\u0e19\u0e19\u0e35\u0e49\u0e44\u0e14\u0e49"],["Resurrection","\u590d\u6d3b\u6b21\u6570","Jumlah bangkit","\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u043e\u0441\u043a\u0440\u0435\u0448\u0435\u043d\u0438\u0439","\u0e08\u0e33\u0e19\u0e27\u0e19\u0e04\u0e23\u0e31\u0e49\u0e07\u0e1f\u0e37\u0e49\u0e19\u0e0a\u0e35\u0e1e"],["Clear Raid Immediately","\u5f00\u542f\u626b\u8361","Selesaikan stage secepatnya","\u041d\u0430\u0447\u0430\u043b\u043e \u0448\u0442\u0443\u0440\u043c\u0430","\u0e40\u0e23\u0e34\u0e48\u0e21\u0e01\u0e27\u0e32\u0e14\u0e25\u0e49\u0e32\u0e07"],["Premium Account","\u81f3\u5c0a\u8d26\u53f7","Akun premium","\u041f\u043e\u0447\u0435\u0442\u043d\u044b\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442","\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e23\u0e30\u0e14\u0e31\u0e1a\u0e2a\u0e39\u0e07"],["+20% Offline Earnings","\u79bb\u7ebf\u5956\u52b1\u589e\u52a020%","Hadiah Offline meningkat 20%","\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u0435 \u043d\u0430\u0433\u0440\u0430\u0434 \u043d\u0430 20% \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u043e\u0444\u043b\u0430\u0439\u043d","\u0e23\u0e32\u0e07\u0e27\u0e31\u0e25\u0e2d\u0e2d\u0e1f\u0e44\u0e25\u0e19\u0e4c\u0e40\u0e1e\u0e34\u0e48\u0e21 20%"],["Remove 5 Video ADS/Day And All Interstitial ADS","\u53bb\u9664\u6bcf\u65e5\u524d5\u6b21\u89c6\u9891\u5e7f\u544a\u548c\u6240\u6709\u63d2\u5c4f\u5e7f\u544a","Hapus 5 video iklan pertama dan iklan pengantara setiap harinya ","\u0423\u0431\u0435\u0440\u0438 \u043f\u0435\u0440\u0432\u044b\u0435 5 \u0435\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0445 \u0432\u0438\u0434\u0435\u043e\u0440\u0435\u043a\u043b\u0430\u043c \u0438 \u0432\u0441\u0435 \u043f\u0440\u043e\u043c\u0435\u0436\u0443\u0442\u043e\u0447\u043d\u044b\u0435 \u0440\u0435\u043a\u043b\u0430\u043c\u044b","\u0e25\u0e1a 5 \u0e27\u0e34\u0e14\u0e35\u0e42\u0e2d\u0e42\u0e06\u0e29\u0e13\u0e32\u0e41\u0e23\u0e01\u0e41\u0e25\u0e30\u0e42\u0e06\u0e29\u0e13\u0e32\u0e41\u0e17\u0e23\u0e01\u0e02\u0e2d\u0e07\u0e41\u0e15\u0e48\u0e25\u0e30\u0e27\u0e31\u0e19"],["Start For Free","\u514d\u8d39\u8bd5\u7528","Percobaan gratis","\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u043f\u0440\u043e\u0431\u043d\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f","\u0e25\u0e2d\u0e07\u0e43\u0e0a\u0e49\u0e1f\u0e23\u0e35"],["<color=#794825>This is an </c><color=#f4c221>Auto-renewable</color><color=#794825> subscription. Subscription is renewed unless turned off at least 24-hours before the period ends; account will be charged for renewal as well.You can turn it off in your Account Settings.Any unused portion of a free trial period, if offered, will be forfeited.when the user purchases a subscription to that publication, where applicable.</c>","<color=#794825>\u8fd9\u662f\u4e00\u4e2a</c><color=#f4c221>\u81ea\u52a8\u66f4\u65b0</color><color=#794825>\u7684\u8ba2\u9605\u3002\u5982\u60a8\u672a\u5728\u8ba2\u9605\u5373\u5c06\u8fc7\u671f\u7684 24 \u4e2a\u5c0f\u65f6\u524d\u5c06\u5176\u5173\u95ed\uff0c\u8ba2\u9605\u5c06\u7eed\u8ba2\uff0c\u5e10\u6237\u4e5f\u5c06\u88ab\u6536\u53d6\u7eed\u8ba2\u8d39\u7528\u3002\u60a8\u53ef\u4ee5\u968f\u65f6\u5728\u60a8\u7684\u5e10\u6237\u8bbe\u7f6e\u4e2d\u5c06\u5176\u5173\u95ed\u3002\u4f46\u4e0e\u6b64\u540c\u65f6\uff0c\u514d\u8d39\u8bd5\u7528\u671f\u7684\u4efb\u4f55\u672a\u4f7f\u7528\u90e8\u5206\uff08\u5982\u679c\u6709\u7684\u8bdd\uff09\u5c06\u88ab\u6ca1\u6536\u3002\u5f53\u60a8\u4f7f\u7528\u672c\u51fa\u7248\u7269\u7684\u8ba2\u9605\u65f6\uff0c\u5219\u89c6\u4e3a\u60a8\u540c\u610f\u63a5\u53d7\u3002</c>","<color=#794825>Ini adalah</c> langganan <color=#f4c221>perbaruan otomatis</color><color=#794825>. Langganan akan tetap diperbarui jika tidak dimatikan 24 jam sebelum periode berakhir dan akun Anda akan dikenakan biaya perbaruan. Anda dapat mematikannya di pengaturan akun Anda kapan saja, tetapi di saat yang sama, bagian yang tidak dipakai selama masa percobaan gratis (Jika ada) akan diambil. Ketika Anda menggunakan langganan publikasi ini, akan dianggap Anda setuju untuk menerimanya.</c>","<color=#794825>\u042d\u0442\u043e \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0430</c><color=#f4c221>\u0441 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u043c</color><color=#794825>\u043f\u0440\u043e\u0434\u043b\u0435\u043d\u0438\u0435\u043c. \u0415\u0441\u043b\u0438 \u0442\u044b \u043d\u0435 \u043e\u0442\u043c\u0435\u043d\u0438\u0448\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443 \u0437\u0430 24 \u0447\u0430\u0441\u0430 \u0434\u043e \u0438\u0441\u0442\u0435\u0447\u0435\u043d\u0438\u044f \u0441\u0440\u043e\u043a\u0430 \u0435\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f, \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0437\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430, \u0430 \u0441 \u0442\u0432\u043e\u0435\u0433\u043e \u0441\u0447\u0435\u0442\u0430 \u0431\u0443\u0434\u0435\u0442 \u0441\u043d\u044f\u0442\u0430 \u043f\u043b\u0430\u0442\u0430 \u0437\u0430 \u043f\u0440\u043e\u0434\u043b\u0435\u043d\u0438\u0435. \u0422\u044b \u043c\u043e\u0436\u0435\u0448\u044c \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u044d\u0442\u0443 \u0444\u0443\u043d\u043a\u0446\u0438\u044e \u0432 \u043b\u044e\u0431\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u0441\u0432\u043e\u0435\u0439 \u0443\u0447\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438. \u041d\u043e \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u0432\u0441\u044f \u043d\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u044c \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0431\u043d\u043e\u0433\u043e \u043f\u0435\u0440\u0438\u043e\u0434\u0430, \u0435\u0441\u043b\u0438 \u0442\u0430\u043a\u043e\u0432\u0430\u044f \u0438\u043c\u0435\u0435\u0442\u0441\u044f, \u0431\u0443\u0434\u0435\u0442 \u0430\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0430. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443 \u043d\u0430 \u044d\u0442\u0443 \u0432\u0435\u0440\u0441\u0438\u044e, \u0442\u044b \u0441\u043e\u0433\u043b\u0430\u0448\u0430\u0435\u0448\u044c\u0441\u044f \u0441 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u043c\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438. </c>","<color=#794825>\u0e19\u0e35\u0e49\u0e04\u0e37\u0e2d\u0e01\u0e32\u0e23</c><color=#f4c221>\u0e2a\u0e21\u0e31\u0e04\u0e23\u0e15\u0e48\u0e2d\u0e2d\u0e32\u0e22\u0e38\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e2d\u0e31\u0e15\u0e42\u0e19\u0e21\u0e31\u0e15\u0e34</color><color=#794825>\u0e2b\u0e32\u0e01\u0e17\u0e48\u0e32\u0e19\u0e44\u0e21\u0e48\u0e1b\u0e34\u0e14\u0e01\u0e32\u0e23\u0e2a\u0e21\u0e31\u0e04\u0e23\u0e15\u0e48\u0e2d\u0e2d\u0e32\u0e22\u0e38\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e20\u0e32\u0e22\u0e43\u0e19 24 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07\u0e01\u0e48\u0e2d\u0e19\u0e17\u0e35\u0e48\u0e08\u0e30\u0e2b\u0e21\u0e2d\u0e32\u0e22\u0e38\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 \u0e01\u0e32\u0e23\u0e2a\u0e21\u0e31\u0e04\u0e23\u0e08\u0e30\u0e17\u0e33\u0e01\u0e32\u0e23\u0e23\u0e15\u0e48\u0e2d\u0e2d\u0e32\u0e22\u0e38 \u0e41\u0e25\u0e30\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e08\u0e30\u0e16\u0e39\u0e01\u0e40\u0e23\u0e35\u0e22\u0e01\u0e40\u0e01\u0e47\u0e1a\u0e04\u0e48\u0e32\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 \u0e17\u0e48\u0e32\u0e19\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e1b\u0e34\u0e14\u0e44\u0e14\u0e49\u0e15\u0e25\u0e2d\u0e14\u0e08\u0e32\u0e01\u0e2b\u0e19\u0e49\u0e32\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e43\u0e19\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e02\u0e2d\u0e07\u0e17\u0e48\u0e32\u0e19 \u0e41\u0e15\u0e48\u0e43\u0e19\u0e02\u0e13\u0e30\u0e40\u0e14\u0e35\u0e22\u0e27\u0e01\u0e31\u0e19 \u0e2a\u0e48\u0e27\u0e19\u0e17\u0e35\u0e48\u0e22\u0e31\u0e07\u0e44\u0e21\u0e48\u0e44\u0e14\u0e49\u0e43\u0e0a\u0e49\u0e44\u0e1b\u0e43\u0e19\u0e02\u0e2d\u0e07\u0e0a\u0e48\u0e27\u0e07\u0e17\u0e14\u0e25\u0e2d\u0e07\u0e43\u0e0a\u0e49\u0e1f\u0e23\u0e35\uff08\u0e16\u0e49\u0e32\u0e21\u0e35\uff09\u0e08\u0e30\u0e16\u0e39\u0e01\u0e22\u0e36\u0e14\u0e04\u0e37\u0e19 \u0e40\u0e21\u0e37\u0e48\u0e2d\u0e17\u0e48\u0e32\u0e19\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e02\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e2a\u0e21\u0e31\u0e04\u0e23\u0e19\u0e35\u0e49 \u0e16\u0e37\u0e2d\u0e27\u0e48\u0e32\u0e17\u0e48\u0e32\u0e19\u0e22\u0e34\u0e19\u0e22\u0e2d\u0e21\u0e17\u0e35\u0e48\u0e08\u0e30\u0e22\u0e2d\u0e21\u0e23\u0e31\u0e1a</c>"],["Privacy Policy and Terms of Use","\u9690\u79c1\u653f\u7b56\u548c\u4f7f\u7528\u6761\u6b3e","Kebijakan privasi dan ketentuan penggunaan","\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0435 \u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435","\u0e19\u0e42\u0e22\u0e1a\u0e32\u0e22\u0e04\u0e27\u0e32\u0e21\u0e40\u0e1b\u0e47\u0e19\u0e2a\u0e48\u0e27\u0e19\u0e15\u0e31\u0e27\u0e41\u0e25\u0e30\u0e40\u0e07\u0e37\u0e48\u0e2d\u0e19\u0e44\u0e02\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19"],["3 Day Free Trial,Then ","3\u5929\u514d\u8d39\u8bd5\u7528,\u7136\u540e ","3 hari percobaan gratis, kemudian","3 \u0434\u043d\u044f \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e\u0439 \u043f\u0440\u043e\u0431\u043d\u043e\u0439 \u0432\u0435\u0440\u0441\u0438\u0438, \u0430 \u0437\u0430\u0442\u0435\u043c ","\u0e17\u0e14\u0e25\u0e2d\u0e07\u0e43\u0e0a\u0e49\u0e1f\u0e23\u0e35 3 \u0e27\u0e31\u0e19 \u0e41\u0e25\u0e49\u0e27\u0e01\u0e47"],["Week","\u5468","Minggu","\u041d\u0435\u0434\u0435\u043b\u044f","\u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c"],["Month","\u6708","Bulan","\u041c\u0435\u0441\u044f\u0446","\u0e40\u0e14\u0e37\u0e2d\u0e19"],["Year","\u5e74","Tahun","\u0413\u043e\u0434","\u0e1b\u0e35"],["Loading...","\u52a0\u8f7d\u4e2d...","Sedang memuat\u2026","\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430...","\u0e01\u0e33\u0e25\u0e31\u0e07\u0e42\u0e2b\u0e25\u0e14..."],["Dear VIP,You got rewards without watching ads.","\u5c0a\u656c\u7684VIP\uff0c\u60a8\u4e0d\u770b\u5e7f\u544a\u4e5f\u6709\u5956\u52b1\u3002","VIP yang terhormat, Anda juga mendapatkan hadiah tanpa menonton iklan.","\u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0443\u0432\u0430\u0436\u0430\u0435\u043c\u043e\u0433\u043e VIP, \u0442\u044b \u0442\u0430\u043a\u0436\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0448\u044c \u0432\u043e\u0437\u043d\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043d\u0438\u0435 \u0434\u0430\u0436\u0435 \u0437\u0430 \u0442\u043e, \u0447\u0442\u043e \u043d\u0435 \u0441\u043c\u043e\u0442\u0440\u0438\u0448\u044c \u0440\u0435\u043a\u043b\u0430\u043c\u0443.","VIP \u0e17\u0e35\u0e48\u0e40\u0e04\u0e32\u0e23\u0e1e \u0e16\u0e36\u0e07\u0e04\u0e38\u0e13\u0e44\u0e21\u0e48\u0e14\u0e39\u0e42\u0e06\u0e29\u0e13\u0e32 \u0e01\u0e47\u0e22\u0e31\u0e07\u0e44\u0e14\u0e49\u0e23\u0e31\u0e1a\u0e23\u0e32\u0e07\u0e27\u0e31\u0e25"],["This Challenge Can Be Resurrected","\u672c\u6b21\u6311\u6218\u53ef\u4ee5\u590d\u6d3b","Dapat bangkit di tantangan kali ini","\u042d\u0442\u043e\u0442 \u0431\u043e\u0439 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043d\u043e\u0432\u043e","\u0e17\u0e49\u0e32\u0e2a\u0e39\u0e49\u0e04\u0e23\u0e31\u0e49\u0e07\u0e19\u0e35\u0e49\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e04\u0e37\u0e19\u0e0a\u0e35\u0e1e\u0e44\u0e14\u0e49"],["Repair The Walls","\u4fee\u590d\u57ce\u5899","Perbaiki dinding","\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0433\u043e\u0440\u043e\u0434\u0441\u043a\u0438\u0435 \u0441\u0442\u0435\u043d\u044b","\u0e0b\u0e48\u0e2d\u0e21\u0e01\u0e33\u0e41\u0e1e\u0e07\u0e40\u0e21\u0e37\u0e2d\u0e07"],["Defeat","\u5931\u8d25","Gagal","\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435","\u0e25\u0e49\u0e21\u0e40\u0e2b\u0e25\u0e27"],["Completed","\u5df2\u5b8c\u6210","Sudah selesai","\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e","\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08\u0e41\u0e25\u0e49\u0e27"],["Replay","\u91cd\u65b0\u6311\u6218","Ulang Pertempuran","\u041f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0439 \u0431\u043e\u0439","\u0e17\u0e49\u0e32\u0e17\u0e32\u0e22\u0e43\u0e2b\u0e21\u0e48"],["Hero Damage Stats","\u82f1\u96c4\u4f24\u5bb3\u7edf\u8ba1","Statistik DMG Hero","\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0443\u0440\u043e\u043d\u0430 \u0433\u0435\u0440\u043e\u0435\u0432","\u0e2a\u0e16\u0e34\u0e15\u0e34\u0e04\u0e27\u0e32\u0e21\u0e40\u0e2a\u0e35\u0e22\u0e2b\u0e32\u0e22\u0e02\u0e2d\u0e07\u0e2e\u0e35\u0e42\u0e23\u0e48"],["Show Damage","\u663e\u793a\u4f24\u5bb3","Tampilkan DMG","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0440\u043e\u043d","\u0e41\u0e2a\u0e14\u0e07\u0e04\u0e27\u0e32\u0e21\u0e40\u0e2a\u0e35\u0e22\u0e2b\u0e32\u0e22"],["Welcome Back!","\u6b22\u8fce\u56de\u6765!","Selamat datang kembali!","\u0421 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u0435\u043c","\u0e22\u0e34\u0e19\u0e14\u0e35\u0e15\u0e49\u0e2d\u0e19\u0e23\u0e31\u0e1a"],["You were idle for","\u4f60\u6302\u673a\u4e86","Kamu sudah AFK!","\u0423 \u0432\u0430\u0441 \u0432 \u0430\u0432\u0442\u043e\u0440\u0435\u0436\u0438\u043c\u0435","\u0e04\u0e38\u0e13AI\u0e40\u0e40\u0e25\u0e49\u0e27"],["Max Reward:","\u6700\u5927\u5956\u52b1:","Hadiah Tertinggi","\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043d\u0430\u0433\u0440\u0430\u0434\u0430","\u0e23\u0e32\u0e07\u0e27\u0e31\u0e25\u0e43\u0e2b\u0e0d\u0e48\u0e2a\u0e38\u0e14"],["You have collected:","\u4f60\u5df2\u7ecf\u6536\u96c6\u4e86:","Kamu sudah mengumpulkan:","\u0412\u044b \u0441\u043e\u0431\u0440\u0430\u043b\u0438","\u0e04\u0e38\u0e13\u0e40\u0e01\u0e47\u0e1a\u0e2a\u0e30\u0e2a\u0e21\u0e40\u0e40\u0e25\u0e49\u0e27"],["IDLE REWARD","\u6302\u673a\u5956\u52b1","\u6302\u673a\u5956\u52b1","Hadiah AFK","\u041d\u0430\u0433\u0440\u0430\u0434\u0430 \u0430\u0432\u0442\u043e\u0440\u0435\u0436\u0438\u043c\u0430","\u0e23\u0e32\u0e07\u0e27\u0e31\u0e25AI"],["Choose to acquire 2 skills","\u9009\u62e9\u83b7\u5f972\u4e2a\u6280\u80fd","Silakan pilih 2 skill yang didapatkan","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0435\u043d\u0438\u0435 2 \u0443\u043c\u0435\u043d\u0438\u044f","\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e23\u0e31\u0e1a 2 \u0e2a\u0e01\u0e34\u0e25"],["Refresh Skills","\u5237\u65b0\u6280\u80fd","Refresh Skill","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0443\u043c\u0435\u043d\u0438\u044f","\u0e23\u0e35\u0e40\u0e1f\u0e23\u0e0a\u0e2a\u0e01\u0e34\u0e25"],["Unlock All Skill Slots","\u89e3\u9501\u6240\u6709\u6280\u80fd\u69fd","Buka semua slot skill","\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u0435 \u0441\u043b\u043e\u0442\u044b \u0443\u043c\u0435\u043d\u0438\u0439","\u0e1b\u0e25\u0e14\u0e25\u0e47\u0e2d\u0e04\u0e0a\u0e48\u0e2d\u0e07\u0e2a\u0e01\u0e34\u0e25\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"],["Not enough slots. Unlock new skill slots?","\u6280\u80fd\u5df2\u6ee1\uff0c\u662f\u5426\u89e3\u9501\u65b0\u7684\u6280\u80fd\u69fd\uff1f","Skill sudah penuh, apakah ingin membuka slot skill yang baru?","\u0423\u043c\u0435\u043d\u0438\u0435 \u0443\u0436\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e, \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0441\u043b\u043e\u0442 \u0443\u043c\u0435\u043d\u0438\u044f?","\u0e2a\u0e01\u0e34\u0e25\u0e40\u0e15\u0e47\u0e21\u0e41\u0e25\u0e49\u0e27 \u0e1b\u0e25\u0e14\u0e25\u0e47\u0e2d\u0e01\u0e0a\u0e48\u0e2d\u0e07\u0e2a\u0e01\u0e34\u0e25\u0e43\u0e2b\u0e21\u0e48\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"],["Not enough slots","\u6280\u80fd\u5df2\u7ecf\u6ee1\u4e86","Skill sudah penuh","\u0423\u043c\u0435\u043d\u0438\u0435 \u0443\u0436\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e","\u0e2a\u0e01\u0e34\u0e25\u0e40\u0e15\u0e47\u0e21\u0e41\u0e25\u0e49\u0e27"],["Skill Obtained","\u83b7\u5f97\u7684\u6280\u80fd","Skill yang didapatkan","\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0443\u043c\u0435\u043d\u0438\u0435","\u0e2a\u0e01\u0e34\u0e25\u0e17\u0e35\u0e48\u0e44\u0e14\u0e49\u0e23\u0e31\u0e1a"],["Traveler","\u6e38\u5ba2","Tamu","\u0413\u043e\u0441\u0442\u044c","\u0e1c\u0e39\u0e49\u0e40\u0e02\u0e49\u0e32\u0e0a\u0e21"],["Team full","\u961f\u4f0d\u5df2\u7ecf\u6ee1\u5458\u4e86","Tim sudah penuh","\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u0443\u0436\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0430","\u0e2a\u0e21\u0e32\u0e0a\u0e34\u0e01\u0e02\u0e2d\u0e07\u0e17\u0e35\u0e21\u0e40\u0e15\u0e47\u0e21\u0e41\u0e25\u0e49\u0e27"],["This Hero unlocks at","\u8be5\u82f1\u96c4\u89e3\u9501\u4e8e","Hero ini sudah terbuka","\u042d\u0442\u043e\u0442 \u0433\u0435\u0440\u043e\u0439 \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043d\u0430","\u0e2e\u0e35\u0e42\u0e23\u0e48\u0e19\u0e35\u0e49\u0e1b\u0e25\u0e14\u0e25\u0e47\u0e2d\u0e01"],["Deployed Team","\u51fa\u6218\u961f\u4f0d","Tim yang bertempur","\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u0434\u043b\u044f \u0441\u0440\u0430\u0436\u0435\u043d\u0438\u044f","\u0e17\u0e35\u0e21\u0e2d\u0e2d\u0e01\u0e23\u0e1a"],["Drag the Avatar Frame to change position","\u62d6\u52a8\u5934\u50cf\u66f4\u6539\u7ad9\u4f4d","Seret Avatar untuk mengganti posisi","\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438 \u0430\u0432\u0430\u0442\u0430\u0440, \u0447\u0442\u043e\u0431\u044b \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435","\u0e25\u0e32\u0e01\u0e23\u0e39\u0e1b\u0e42\u0e1b\u0e23\u0e44\u0e1f\u0e25\u0e4c\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e15\u0e33\u0e41\u0e2b\u0e19\u0e48\u0e07"],["Tap the Hero to join the team","\u70b9\u51fb\u82f1\u96c4\u52a0\u5165\u961f\u4f0d","Klik Hero untuk memasukkannya ke dalam tim","\u041d\u0430\u0436\u043c\u0438 \u043d\u0430 \u0433\u0435\u0440\u043e\u044f, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0433\u043e \u0432 \u0441\u043e\u0441\u0442\u0430\u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u044b","\u0e01\u0e14\u0e2e\u0e35\u0e42\u0e23\u0e48\u0e40\u0e02\u0e49\u0e32\u0e23\u0e48\u0e27\u0e21\u0e17\u0e35\u0e21"],["Last Level","\u4e0a\u4e00\u5173","Babak Sebelumnya","\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c","\u0e14\u0e48\u0e32\u0e19\u0e01\u0e48\u0e2d\u0e19\u0e2b\u0e19\u0e49\u0e32"],["Next Level","\u4e0b\u4e00\u5173","Babak Selanjutnya","\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c","\u0e14\u0e48\u0e32\u0e19\u0e16\u0e31\u0e14\u0e44\u0e1b"],["Enemy Lineup","\u654c\u65b9\u9635\u5bb9","Formasi Musuh","\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a\u0430","\u0e17\u0e31\u0e1e\u0e1d\u0e48\u0e32\u0e22\u0e28\u0e31\u0e15\u0e23\u0e39"],["Chapter","\u7ae0\u8282","Bab","\u0413\u043b\u0430\u0432\u044b","\u0e1a\u0e17"],["Active Skill","\u4e3b\u52a8\u6280\u80fd","Skill Otomatis","\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0435 \u0443\u043c\u0435\u043d\u0438\u0435","\u0e2a\u0e01\u0e34\u0e25\u0e23\u0e38\u0e01"],["Attack Effect","\u653b\u51fb\u7279\u6027","Karateristik Serangan","\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438 \u0430\u0442\u0430\u043a\u0438","\u0e25\u0e31\u0e01\u0e29\u0e13\u0e30\u0e40\u0e09\u0e1e\u0e32\u0e30\u0e42\u0e08\u0e21\u0e15\u0e35"],["Can attack land units","\u53ef\u4ee5\u653b\u51fb\u9646\u5730\u5355\u4f4d","Bisa Menyerang Unit Darat","\u041c\u043e\u0436\u043d\u043e \u0430\u0442\u0430\u043a\u043e\u0432\u0430\u0442\u044c \u0441\u0443\u0445\u043e\u043f\u0443\u0442\u043d\u044b\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f","\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e42\u0e08\u0e21\u0e15\u0e35\u0e2b\u0e19\u0e48\u0e27\u0e22\u0e1e\u0e37\u0e49\u0e19\u0e14\u0e34\u0e19"],["Can attack airborne units","\u53ef\u4ee5\u653b\u51fb\u5929\u7a7a\u5355\u4f4d","Bisa Menyerang Unit Udara","\u041c\u043e\u0436\u043d\u043e \u0430\u0442\u0430\u043a\u043e\u0432\u0430\u0442\u044c \u0432\u043e\u0437\u0434\u0443\u0448\u043d\u044b\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f","\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e42\u0e08\u0e21\u0e15\u0e35\u0e2b\u0e19\u0e48\u0e27\u0e22\u0e17\u0e49\u0e2d\u0e07\u0e1f\u0e49\u0e32"],["Can attack underground units","\u53ef\u4ee5\u653b\u51fb\u9041\u5730\u5355\u4f4d","Bisa Menyerang Unit Bawah Tanah","\u041c\u043e\u0436\u043d\u043e \u0430\u0442\u0430\u043a\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0434\u0437\u0435\u043c\u043d\u044b\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f","\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e42\u0e08\u0e21\u0e15\u0e35\u0e2b\u0e19\u0e48\u0e27\u0e22\u0e21\u0e38\u0e14\u0e14\u0e34\u0e19"],["Remaining","\u5269\u4f59","Sisa","\u041e\u0441\u0442\u0430\u0442\u043e\u043a","\u0e04\u0e07\u0e40\u0e2b\u0e25\u0e37\u0e2d"],["Waiting","\u7b49\u5f85\u4e2d","Sedang Menunggu","\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435","\u0e23\u0e2d\u0e2a\u0e31\u0e01\u0e04\u0e23\u0e39\u0e48"],["Sold out","\u552e\u7f44","Habis Terjual","\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438","\u0e02\u0e32\u0e22\u0e2b\u0e21\u0e14\u0e41\u0e25\u0e49\u0e27"],["Level Up","\u5347\u7ea7","Naik tingkat","\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u043f\u043e\u0432\u044b\u0448\u0435\u043d","\u0e22\u0e01\u0e23\u0e30\u0e14\u0e31\u0e1a"],["Maximum MP:","\u6700\u5927MP:","MP maksimum:","\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c \u041c\u041f:","MP \u0e2a\u0e39\u0e07\u0e2a\u0e38\u0e14:"],["MP Recovery:","MP\u56de\u590d:","Pemulihan MP:","\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 MP:","\u0e01\u0e32\u0e23\u0e01\u0e39\u0e49\u0e04\u0e37\u0e19 MP:"],["Unlock new levels after complete campaign stage ","\u53ef\u4ee5\u89e3\u9501\u65b0\u7684\u7b49\u7ea7\u5f53\u901a\u5173 ","Buka kunci level baru setelah menyelesaikan tahap kampanye","\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u0443\u0439\u0442\u0435 \u043d\u043e\u0432\u044b\u0435 \u0443\u0440\u043e\u0432\u043d\u0438 \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u044d\u0442\u0430\u043f\u0430 \u043a\u0430\u043c\u043f\u0430\u043d\u0438\u0438","\u0e1b\u0e25\u0e14\u0e25\u0e47\u0e2d\u0e01\u0e14\u0e48\u0e32\u0e19\u0e43\u0e2b\u0e21\u0e48\u0e2b\u0e25\u0e31\u0e07\u0e08\u0e32\u0e01\u0e1c\u0e48\u0e32\u0e19\u0e14\u0e48\u0e32\u0e19\u0e41\u0e04\u0e21\u0e40\u0e1b\u0e0d"],["Unlock:","\u89e3\u9501:","Membuka kunci:","\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c:","\u0e1b\u0e25\u0e14\u0e25\u0e47\u0e2d\u0e04:"],["Equipment","\u88c5\u5907","Peralatan","\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435","\u0e2d\u0e38\u0e1b\u0e01\u0e23\u0e13\u0e4c"],["Castle","\u57ce\u5821","Kastil","\u0437\u0430\u043c\u043e\u043a","\u0e1b\u0e23\u0e32\u0e2a\u0e32\u0e17"],["Talent","\u5929\u8d4b","Bakat","\u0422\u0430\u043b\u0430\u043d\u0442","\u0e04\u0e27\u0e32\u0e21\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e1e\u0e34\u0e40\u0e28\u0e29"],["Not Open","\u672a\u5f00\u653e","Tidak buka","\u041d\u0435 \u043e\u0442\u043a\u0440\u044b\u0442\u043e","\u0e44\u0e21\u0e48\u0e40\u0e1b\u0e34\u0e14"],["Unload","\u8131\u4e0b","Membongkar","\u0420\u0430\u0437\u0433\u0440\u0443\u0437\u0438\u0442\u044c","\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01\u0e01\u0e32\u0e23\u0e42\u0e2b\u0e25\u0e14"],["Merge","\u5408\u6210","Menggabungkan","\u041e\u0431\u044a\u0435\u0434\u0438\u043d\u0438\u0442\u044c","\u0e1c\u0e2a\u0e32\u0e19"],["Unequip All","\u4e00\u952e\u5378\u4e0b","Tidak Melengkapi Semua","\u0421\u043d\u044f\u0442\u044c \u0432\u0441\u0435","\u0e16\u0e2d\u0e14\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"],["Auto Equip","\u4e00\u952e\u7a7f\u6234","Perlengkapan Otomatis","\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043e\u0441\u043d\u0430\u0449\u0435\u043d\u0438\u0435","\u0e2d\u0e38\u0e1b\u0e01\u0e23\u0e13\u0e4c\u0e15\u0e01\u0e41\u0e15\u0e48\u0e07\u0e23\u0e16\u0e22\u0e19\u0e15\u0e4c"],["Info","\u4fe1\u606f","\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25"],["Gears","\u88c5\u5907","roda gigi","\u0428\u0435\u0441\u0442\u0435\u0440\u043d\u0438","\u0e40\u0e01\u0e35\u0e22\u0e23\u0e4c"],["Promote","\u5347\u661f","Memajukan","\u041f\u0440\u043e\u0434\u0432\u0438\u0433\u0430\u0442\u044c","\u0e2a\u0e48\u0e07\u0e40\u0e2a\u0e23\u0e34\u0e21"],["Evolve","\u5347\u9636","Berkembang","\u042d\u0432\u043e\u043b\u044e\u0446\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c","\u0e27\u0e34\u0e27\u0e31\u0e12\u0e19\u0e32\u0e01\u0e32\u0e23"],["The hero has not yet obtained","\u8be5\u82f1\u96c4\u5c1a\u672a\u83b7\u5f97","Pahlawan belum diperoleh","\u0413\u0435\u0440\u043e\u0439 \u0435\u0449\u0435 \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b","\u0e2e\u0e35\u0e42\u0e23\u0e48\u0e22\u0e31\u0e07\u0e44\u0e21\u0e48\u0e44\u0e14\u0e49\u0e23\u0e31\u0e1a"],["First Reward","\u9996\u6b21\u5956\u52b1","Hadiah Pertama","\u041f\u0435\u0440\u0432\u0430\u044f \u043d\u0430\u0433\u0440\u0430\u0434\u0430","\u0e23\u0e32\u0e07\u0e27\u0e31\u0e25\u0e41\u0e23\u0e01"],["Idle Times","\u95f2\u7f6e\u65f6\u95f4","Waktu Menganggur","\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0441\u0442\u043e\u044f","\u0e40\u0e27\u0e25\u0e32\u0e27\u0e48\u0e32\u0e07"],["You can claim rewards after idle for at least 1 hour","\u7a7a\u95f2\u81f3\u5c111\u5c0f\u65f6\u5373\u53ef\u9886\u53d6\u5956\u52b1 ","Anda dapat mengklaim hadiah setelah menganggur setidaknya selama 1 jam","\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u0435\u0442\u0435\u043d\u0434\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u043d\u0430\u0433\u0440\u0430\u0434\u044b \u043f\u043e\u0441\u043b\u0435 \u0431\u0435\u0437\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c 1 \u0447\u0430\u0441\u0430","\u0e04\u0e38\u0e13\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e23\u0e31\u0e1a\u0e23\u0e32\u0e07\u0e27\u0e31\u0e25\u0e2b\u0e25\u0e31\u0e07\u0e08\u0e32\u0e01\u0e44\u0e21\u0e48\u0e44\u0e14\u0e49\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e40\u0e1b\u0e47\u0e19\u0e40\u0e27\u0e25\u0e32\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e19\u0e49\u0e2d\u0e22 1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07"],["City","\u4e3b\u57ce","Kota","\u0413\u043e\u0440\u043e\u0434","\u0e40\u0e21\u0e37\u0e2d\u0e07"],["Insufficient MP","MP\u4e0d\u8db3","MP tidak mencukupi","\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u041c\u041f","MP .\u0e44\u0e21\u0e48\u0e40\u0e1e\u0e35\u0e22\u0e07\u0e1e\u0e2d"],["Improve combat power","\u63d0\u5347\u6218\u529b","Tingkatkan kekuatan tempur","\u0423\u043b\u0443\u0447\u0448\u0438\u0442\u044c \u0431\u043e\u0435\u0432\u0443\u044e \u043c\u043e\u0449\u044c","\u0e1b\u0e23\u0e31\u0e1a\u0e1b\u0e23\u0e38\u0e07\u0e1e\u0e25\u0e31\u0e07\u0e01\u0e32\u0e23\u0e15\u0e48\u0e2d\u0e2a\u0e39\u0e49"],["Function Unlock","\u529f\u80fd\u89e3\u9501","Fungsi Buka Kunci","\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u0439","\u0e1b\u0e25\u0e14\u0e25\u0e47\u0e2d\u0e01\u0e1f\u0e31\u0e07\u0e01\u0e4c\u0e0a\u0e31\u0e19"],["Free 3 times claim","\u514d\u8d393\u500d\u9886\u53d6","Gratis 3 kali klaim","\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u0430\u044f 3-\u043a\u0440\u0430\u0442\u043d\u0430\u044f \u043f\u0440\u0435\u0442\u0435\u043d\u0437\u0438\u044f","\u0e23\u0e31\u0e1a\u0e2a\u0e34\u0e17\u0e18\u0e34\u0e4c\u0e1f\u0e23\u0e35 3 \u0e04\u0e23\u0e31\u0e49\u0e07"],["The ad failed to play and the reward cannot be obtained","\u5e7f\u544a\u64ad\u653e\u5931\u8d25\uff0c\u65e0\u6cd5\u83b7\u5f97\u5956\u52b1","Iklan gagal diputar dan hadiah tidak dapat diperoleh","\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0441\u0442\u0438 \u0440\u0435\u043a\u043b\u0430\u043c\u0443, \u0438 \u043d\u0430\u0433\u0440\u0430\u0434\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0430","\u0e42\u0e06\u0e29\u0e13\u0e32\u0e25\u0e49\u0e21\u0e40\u0e2b\u0e25\u0e27\u0e43\u0e19\u0e01\u0e32\u0e23\u0e40\u0e25\u0e48\u0e19\u0e41\u0e25\u0e30\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e23\u0e31\u0e1a\u0e23\u0e32\u0e07\u0e27\u0e31\u0e25\u0e44\u0e14\u0e49"],["ldle Talent Points:","\u95f2\u7f6e\u5929\u8d4b\u70b9\uff1a","Poin Bakat menganggur:","\u0441\u0432\u043e\u0431\u043e\u0434\u043d\u044b\u0435 \u043e\u0447\u043a\u0438 \u0442\u0430\u043b\u0430\u043d\u0442\u043e\u0432:","\u0e04\u0e30\u0e41\u0e19\u0e19\u0e04\u0e27\u0e32\u0e21\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e17\u0e35\u0e48\u0e44\u0e21\u0e48\u0e44\u0e14\u0e49\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19:"],["Next Talent Point in:","\u4e0b\u4e00\u4e2a\u5929\u8d4b\u70b9\uff1a","Poin Bakat Berikutnya di:","\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435 \u043e\u0447\u043a\u043e \u0442\u0430\u043b\u0430\u043d\u0442\u0430 \u0447\u0435\u0440\u0435\u0437:","\u0e08\u0e38\u0e14\u0e04\u0e27\u0e32\u0e21\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e15\u0e48\u0e2d\u0e44\u0e1b\u0e43\u0e19:"],["Faster","\u5feb\u901f","Lebih cepat","\u0411\u044b\u0441\u0442\u0440\u0435\u0435","\u0e40\u0e23\u0e47\u0e27\u0e02\u0e36\u0e49\u0e19"],["Player Level","\u73a9\u5bb6\u7b49\u7ea7","Tingkat Pemain","\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0438\u0433\u0440\u043e\u043a\u0430","\u0e23\u0e30\u0e14\u0e31\u0e1a\u0e1c\u0e39\u0e49\u0e40\u0e25\u0e48\u0e19"],["Function Forecast","\u529f\u80fd\u9884\u544a","Prakiraan Fungsi","\u041f\u0440\u043e\u0433\u043d\u043e\u0437 \u0444\u0443\u043d\u043a\u0446\u0438\u0438","\u0e1f\u0e31\u0e07\u0e01\u0e4c\u0e0a\u0e31\u0e48\u0e19\u0e1e\u0e22\u0e32\u0e01\u0e23\u0e13\u0e4c"],["Close","\u5173\u95ed","Menutup","\u0417\u0430\u043a\u0440\u044b\u0432\u0430\u0442\u044c","\u0e1b\u0e34\u0e14 I"],["Use","\u4f7f\u7528","Menggunakan","\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c","\u0e43\u0e0a\u0e49"],["Uses Remaining Today: ","\u4eca\u65e5\u5269\u4f59\u4f7f\u7528\u6b21\u6570: ","Penggunaan yang Tersisa Hari Ini:","\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435, \u043e\u0441\u0442\u0430\u0432\u0448\u0435\u0435\u0441\u044f \u0441\u0435\u0433\u043e\u0434\u043d\u044f: ","\u0e43\u0e0a\u0e49\u0e17\u0e35\u0e48\u0e40\u0e2b\u0e25\u0e37\u0e2d\u0e2d\u0e22\u0e39\u0e48\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49: "],["Resets In: ","\u91cd\u7f6e\u5012\u8ba1\u65f6\uff1a","Setel Ulang Dalam: ","\u0421\u0431\u0440\u043e\u0441 \u0447\u0435\u0440\u0435\u0437: ","\u0e23\u0e35\u0e40\u0e0b\u0e47\u0e15\u0e43\u0e19: "],["Extra +50 gems","\u989d\u5916+50\u94bb\u77f3","Ekstra +50 permata","\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 +50 \u0434\u0440\u0430\u0433\u043e\u0446\u0435\u043d\u043d\u044b\u0445 \u043a\u0430\u043c\u043d\u0435\u0439","\u0e1e\u0e34\u0e40\u0e28\u0e29 +50 \u0e2d\u0e31\u0e0d\u0e21\u0e13\u0e35"],["Faster Rewards","\u5feb\u901f\u5956\u52b1","Hadiah Lebih Cepat","\u0411\u043e\u043b\u0435\u0435 \u0431\u044b\u0441\u0442\u0440\u044b\u0435 \u043d\u0430\u0433\u0440\u0430\u0434\u044b","\u0e23\u0e32\u0e07\u0e27\u0e31\u0e25\u0e17\u0e35\u0e48\u0e40\u0e23\u0e47\u0e27\u0e02\u0e36\u0e49\u0e19"],["Get VIP","\u83b7\u53d6VIP","Dapatkan VIP","\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c VIP","\u0e23\u0e31\u0e1a\u0e27\u0e35\u0e44\u0e2d\u0e1e\u0e35"],["Endless Challenges","\u65e0\u5c3d\u6311\u6218","Tantangan tak berujung","\u0411\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u044b\u0435 \u0438\u0441\u043f\u044b\u0442\u0430\u043d\u0438\u044f","\u0e04\u0e27\u0e32\u0e21\u0e17\u0e49\u0e32\u0e17\u0e32\u0e22\u0e17\u0e35\u0e48\u0e44\u0e21\u0e48\u0e21\u0e35\u0e17\u0e35\u0e48\u0e2a\u0e34\u0e49\u0e19\u0e2a\u0e38\u0e14"],["Play","\u5f00\u59cb","Bermain","\u0418\u0433\u0440\u0430\u0442\u044c","\u0e40\u0e25\u0e48\u0e19"],["Normal","\u666e\u901a","Normal","\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u044b\u0439","\u0e1b\u0e01\u0e15\u0e34"],["Hard","\u56f0\u96be","Keras","\u0416\u0435\u0441\u0442\u043a\u0438\u0439","\u0e41\u0e02\u0e47\u0e07"],["Boss Hunting","Boss\u72e9\u730e","berburu bos","\u041e\u0445\u043e\u0442\u0430 \u043d\u0430 \u0431\u043e\u0441\u0441\u043e\u0432","\u0e25\u0e48\u0e32\u0e1a\u0e2d\u0e2a"],["Tower of Trial","\u8bd5\u70bc\u4e4b\u5854","Menara Percobaan","\u0411\u0430\u0448\u043d\u044f \u0418\u0441\u043f\u044b\u0442\u0430\u043d\u0438\u0439","\u0e2b\u0e2d\u0e04\u0e2d\u0e22\u0e41\u0e2b\u0e48\u0e07\u0e01\u0e32\u0e23\u0e1e\u0e34\u0e08\u0e32\u0e23\u0e13\u0e32\u0e04\u0e14\u0e35"],["Unlock After\uff1a","\u89e3\u9501\u4e8e\uff1a","Buka Kunci Setelah","\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0441\u043b\u0435","\u0e1b\u0e25\u0e14\u0e25\u0e47\u0e2d\u0e04\u0e2b\u0e25\u0e31\u0e07"],["Buy Challenge Tickets","\u8d2d\u4e70\u6311\u6218\u5238","Beli Tiket Tantangan","\u041a\u0443\u043f\u0438\u0442\u044c \u0431\u0438\u043b\u0435\u0442\u044b \u043d\u0430 \u0432\u044b\u0437\u043e\u0432","\u0e0b\u0e37\u0e49\u0e2d\u0e1a\u0e31\u0e15\u0e23\u0e17\u0e49\u0e32\u0e17\u0e32\u0e22"],["Number of times today:","\u4eca\u5929\u53ef\u7528:","Berapa kali hari ini:","\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u0440\u0430\u0437 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:","\u0e08\u0e33\u0e19\u0e27\u0e19\u0e04\u0e23\u0e31\u0e49\u0e07\u0e43\u0e19\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49:"],["RemainingToday:","\u4eca\u5929\u5269\u4f59:","Sisa Hari Ini:","\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u0441\u0435\u0433\u043e\u0434\u043d\u044f:","\u0e40\u0e2b\u0e25\u0e37\u0e2d\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49:"],["Cancel","\u53d6\u6d88","Membatalkan","\u041e\u0442\u043c\u0435\u043d\u0430","\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"],["You won't get any rewards for quitting halfway through. Are you sure you want to give up the challenge?","\u4e2d\u9014\u9000\u51fa\u4e0d\u4f1a\u83b7\u5f97\u4efb\u4f55\u5956\u52b1\uff0c\u786e\u5b9a\u8981\u653e\u5f03\u6311\u6218\u5417\uff1f","Anda tidak akan mendapatkan imbalan apa pun karena berhenti di tengah jalan. Apakah Anda yakin ingin melepaskan tantangan?","\u0412\u044b \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u043d\u0438\u043a\u0430\u043a\u0438\u0445 \u043d\u0430\u0433\u0440\u0430\u0434 \u0437\u0430 \u0432\u044b\u0445\u043e\u0434 \u0438\u0437 \u0438\u0433\u0440\u044b \u043d\u0430 \u043f\u043e\u043b\u043f\u0443\u0442\u0438. \u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0434\u0430\u0442\u044c\u0441\u044f?","\u0e04\u0e38\u0e13\u0e08\u0e30\u0e44\u0e21\u0e48\u0e44\u0e14\u0e49\u0e23\u0e31\u0e1a\u0e23\u0e32\u0e07\u0e27\u0e31\u0e25\u0e43\u0e14 \u0e46 \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e25\u0e32\u0e2d\u0e2d\u0e01\u0e04\u0e23\u0e36\u0e48\u0e07\u0e17\u0e32\u0e07 \u0e04\u0e38\u0e13\u0e41\u0e19\u0e48\u0e43\u0e08\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48\u0e27\u0e48\u0e32\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01\u0e04\u0e33\u0e17\u0e49\u0e32\u0e19\u0e35\u0e49"],["Season End In:","\u8d5b\u5b63\u7ed3\u675f\u65f6\u95f4:","Musim Berakhir Dalam:","\u041e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0435 \u0441\u0435\u0437\u043e\u043d\u0430 \u0447\u0435\u0440\u0435\u0437:","\u0e2a\u0e34\u0e49\u0e19\u0e2a\u0e38\u0e14\u0e24\u0e14\u0e39\u0e01\u0e32\u0e25\u0e43\u0e19:"],["Highest Stage: ","\u6700\u9ad8\u5173\u5361:","Tahap Tertinggi:","\u0412\u044b\u0441\u0448\u0430\u044f \u0441\u0442\u0430\u0434\u0438\u044f:","\u0e40\u0e27\u0e17\u0e35\u0e2a\u0e39\u0e07\u0e2a\u0e38\u0e14:"],["My Rank","\u6211\u7684\u6392\u540d","Peringkat saya","\u041c\u043e\u0439 \u0440\u0430\u043d\u0433","\u0e2d\u0e31\u0e19\u0e14\u0e31\u0e1a\u0e02\u0e2d\u0e07\u0e09\u0e31\u0e19"],["Rewards last week","\u4e0a\u5468\u7684\u5956\u52b1","Hadiah minggu lalu","\u041d\u0430\u0433\u0440\u0430\u0434\u044b \u043f\u0440\u043e\u0448\u043b\u043e\u0439 \u043d\u0435\u0434\u0435\u043b\u0438","\u0e02\u0e2d\u0e07\u0e23\u0e32\u0e07\u0e27\u0e31\u0e25\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27"],["Boss Coming!!","Boss\u6765\u88ad!!","bos datang!!","\u0411\u043e\u0441\u0441 \u0438\u0434\u0435\u0442!!","\u0e1a\u0e2d\u0e2a\u0e21\u0e32!!"],["No reward","\u65e0\u5956\u52b1","Tidak ada imbalan","\u0411\u0435\u0437 \u0432\u043e\u0437\u043d\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043d\u0438\u044f","\u0e44\u0e21\u0e48\u0e21\u0e35\u0e23\u0e32\u0e07\u0e27\u0e31\u0e25"],["Rules Description","\u89c4\u5219\u8bf4\u660e","Deskripsi Aturan","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b","\u0e01\u0e0e \u0e04\u0e33\u0e2d\u0e18\u0e34\u0e1a\u0e32\u0e22"],["Click anywhere to close the popup","\u70b9\u51fb\u4efb\u610f\u4f4d\u7f6e\u5173\u95ed\u5f39\u7a97","Klik di mana saja untuk menutup popup","\u0429\u0435\u043b\u043a\u043d\u0438\u0442\u0435 \u0432 \u043b\u044e\u0431\u043e\u043c \u043c\u0435\u0441\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0435\u0435 \u043e\u043a\u043d\u043e","\u0e04\u0e25\u0e34\u0e01\u0e17\u0e35\u0e48\u0e43\u0e14\u0e01\u0e47\u0e44\u0e14\u0e49\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e1b\u0e34\u0e14\u0e1b\u0e4a\u0e2d\u0e1b\u0e2d\u0e31\u0e1b"],["Formation","\u7f16\u961f","Pembentukan","\u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","\u0e23\u0e39\u0e1b\u0e41\u0e1a\u0e1a"],["Time-limited rewards","\u9650\u65f6\u5956\u52b1","Hadiah terbatas waktu","\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u044b\u0435 \u043f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043d\u0430\u0433\u0440\u0430\u0434\u044b","\u0e23\u0e32\u0e07\u0e27\u0e31\u0e25\u0e08\u0e33\u0e01\u0e31\u0e14\u0e40\u0e27\u0e25\u0e32"],["Player Lv.","Player Lv.","Player Lv.","Player Lv.","Player Lv."],["The number of purchases in the store is refreshed every day~","\u5546\u5e97\u8d2d\u4e70\u6b21\u6570\u6bcf\u65e5\u5237\u65b0\u54e6~","Jumlah pembelian di toko diperbarui setiap hari~","\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u043a\u0443\u043f\u043e\u043a \u0432 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043a\u0430\u0436\u0434\u044b\u0439 \u0434\u0435\u043d\u044c~","\u0e08\u0e33\u0e19\u0e27\u0e19\u0e01\u0e32\u0e23\u0e0b\u0e37\u0e49\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e43\u0e19\u0e23\u0e49\u0e32\u0e19\u0e08\u0e30\u0e23\u0e35\u0e40\u0e1f\u0e23\u0e0a\u0e17\u0e38\u0e01\u0e27\u0e31\u0e19~"],["Collect","\u6536\u96c6","Mengumpulkan","\u0421\u043e\u0431\u0438\u0440\u0430\u0442\u044c","\u0e40\u0e01\u0e47\u0e1a\u0e23\u0e27\u0e1a\u0e23\u0e27\u0e21"],["Free Gems","\u514d\u8d39\u94bb\u77f3","Permata Gratis","\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0435 \u0434\u0440\u0430\u0433\u043e\u0446\u0435\u043d\u043d\u044b\u0435 \u043a\u0430\u043c\u043d\u0438","\u0e2d\u0e31\u0e0d\u0e21\u0e13\u0e35\u0e1f\u0e23\u0e35"],["Refresh Time:","\u5237\u65b0\u65f6\u95f4:","Waktu Penyegaran:","\u0412\u0440\u0435\u043c\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f:","\u0e40\u0e27\u0e25\u0e32\u0e23\u0e35\u0e40\u0e1f\u0e23\u0e0a:"],["Deluxe Chest","\u8c6a\u534e\u5b9d\u7bb1","Dada Deluxe","\u0414\u0435\u043b\u044e\u043a\u0441 \u0441\u0443\u043d\u0434\u0443\u043a","\u0e2b\u0e35\u0e1a\u0e14\u0e35\u0e25\u0e31\u0e01\u0e0b\u0e4c"],["Super Deluxe Chest","\u8d85\u7ea7\u8c6a\u534e\u5b9d\u7bb1","Dada Super Deluxe","\u0421\u0443\u043d\u0434\u0443\u043a \u0421\u0443\u043f\u0435\u0440 \u0414\u0435\u043b\u044e\u043a\u0441","\u0e2b\u0e35\u0e1a\u0e0b\u0e38\u0e1b\u0e40\u0e1b\u0e2d\u0e23\u0e4c\u0e14\u0e35\u0e25\u0e31\u0e01\u0e0b\u0e4c"],["Tap here to view chance","\u70b9\u51fb\u6b64\u5904\u67e5\u770b\u7206\u7387","\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0437\u0434\u0435\u0441\u044c, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0448\u0430\u043d\u0441","\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0437\u0434\u0435\u0441\u044c, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0448\u0430\u043d\u0441","\u0e41\u0e15\u0e30\u0e17\u0e35\u0e48\u0e19\u0e35\u0e48\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e14\u0e39\u0e42\u0e2d\u0e01\u0e32\u0e2a"],["Chest Details","\u5b9d\u7bb1\u8be6\u60c5","Detail Dada","\u0414\u0435\u0442\u0430\u043b\u0438 \u0441\u0443\u043d\u0434\u0443\u043a\u0430","\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14\u0e2b\u0e19\u0e49\u0e32\u0e2d\u0e01"],["Gear Chest","\u88c5\u5907\u7bb1","peti gigi","\u0421\u0443\u043d\u0434\u0443\u043a \u0441 \u0441\u043d\u0430\u0440\u044f\u0436\u0435\u043d\u0438\u0435\u043c","\u0e01\u0e25\u0e48\u0e2d\u0e07\u0e40\u0e01\u0e35\u0e22\u0e23\u0e4c"],["Super Gear Chest","\u8d85\u7ea7\u88c5\u5907\u7bb1","Peti Super Gear","\u0421\u0443\u043d\u0434\u0443\u043a \u0441 \u0441\u0443\u043f\u0435\u0440 \u0441\u043d\u0430\u0440\u044f\u0436\u0435\u043d\u0438\u0435\u043c","\u0e2b\u0e35\u0e1a\u0e0b\u0e38\u0e1b\u0e40\u0e1b\u0e2d\u0e23\u0e4c\u0e40\u0e01\u0e35\u0e22\u0e23\u0e4c"],["Blue:","\u84dd\u8272\uff1a","Biru:","\u0421\u0438\u043d\u0438\u0439:","\u0e2a\u0e35\u0e19\u0e49\u0e33\u0e40\u0e07\u0e34\u0e19:"],["Elite:","\u7cbe\u82f1\uff1a","Elite:","\u042d\u043b\u0438\u0442\u0430:","\u0e1c\u0e39\u0e49\u0e25\u0e32\u0e01\u0e21\u0e32\u0e01\u0e14\u0e35:"],["Legendary:","\u4f20\u5947\uff1a","Legendaris:","\u041b\u0435\u0433\u0435\u043d\u0434\u0430\u0440\u043d\u044b\u0439:","\u0e15\u0e33\u0e19\u0e32\u0e19:"],["Mythic:","\u795e\u8bdd\uff1a","mitos:","\u042d\u043f\u043e\u0445\u0430\u043b\u044c\u043d\u044b\u0439:","\u0e40\u0e17\u0e1e\u0e19\u0e34\u0e22\u0e32\u0e22:"],["Bonus","\u8fd4\u5229","Bonus","\u0411\u043e\u043d\u0443\u0441","\u0e42\u0e1a\u0e19\u0e31\u0e2a"],["Campaign Investment","\u901a\u5173\u8fd4\u5229","Investasi Kampanye","\u0418\u043d\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u0438 \u0432 \u043a\u0430\u043c\u043f\u0430\u043d\u0438\u044e","\u0e41\u0e04\u0e21\u0e40\u0e1b\u0e0d\u0e01\u0e32\u0e23\u0e25\u0e07\u0e17\u0e38\u0e19"],["Growth Investment","\u5347\u7ea7\u8fd4\u5229","Investasi Pertumbuhan","\u0418\u043d\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u0438 \u0432 \u0440\u043e\u0441\u0442","\u0e01\u0e32\u0e23\u0e25\u0e07\u0e17\u0e38\u0e19\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e01\u0e32\u0e23\u0e40\u0e15\u0e34\u0e1a\u0e42\u0e15"],["Tips","\u5c0f\u8d34\u58eb","Tips","\u0427\u0430\u0435\u0432\u044b\u0435","\u0e40\u0e04\u0e25\u0e47\u0e14\u0e25\u0e31\u0e1a"],["Accumulate to Claim Rewards","\u7d2f\u79ef\u9886\u53d6\u5956\u52b1","Akumulasi untuk Klaim Hadiah","\u041d\u0430\u043a\u043e\u043f\u0438\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0432\u043e\u0437\u043d\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043d\u0438\u0435","\u0e2a\u0e30\u0e2a\u0e21\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e23\u0e31\u0e1a\u0e23\u0e32\u0e07\u0e27\u0e31\u0e25"],["Value","\u8d85\u503c","Nilai","\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c","\u0e04\u0e38\u0e49\u0e21"],["Best Value","\u6700\u5212\u7b97","Nilai terbaik","\u041b\u0443\u0447\u0448\u0435\u0435 \u0441\u043e\u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0435","\u0e04\u0e38\u0e49\u0e21\u0e04\u0e48\u0e32\u0e17\u0e35\u0e48\u0e2a\u0e38\u0e14"],["Sale","\u6298\u6263","Diskon","\u0421\u043a\u0438\u0434\u043a\u0430","\u0e01\u0e32\u0e23\u0e25\u0e14\u0e23\u0e32\u0e04\u0e32"],["limit","\u9650\u8d2d","membatasi","\u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435","\u0e02\u0e35\u0e14\u0e08\u0e33\u0e01\u0e31\u0e14"],["Special","\u81ea\u9009","Spesial","\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439","\u0e1e\u0e34\u0e40\u0e28\u0e29"],["Hot Deals","\u70ed\u5356","Penawaran Panas","\u0413\u043e\u0440\u044f\u0447\u0438\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f","\u0e14\u0e35\u0e25\u0e2a\u0e38\u0e14\u0e2e\u0e2d\u0e15"],["Daily","\u65e5\u5e38","Harian","\u041f\u043e\u0432\u0441\u0435\u0434\u043d\u0435\u0432\u043d\u0430\u044f","\u0e23\u0e32\u0e22\u0e27\u0e31\u0e19"],["Select Your Wanted Gifts","\u9009\u62e9\u60a8\u60f3\u8981\u7684\u793c\u7269","Pilih Hadiah yang Anda Inginkan","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0436\u0435\u043b\u0430\u0435\u043c\u044b\u0435 \u043f\u043e\u0434\u0430\u0440\u043a\u0438","\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e02\u0e2d\u0e07\u0e02\u0e27\u0e31\u0e0d\u0e17\u0e35\u0e48\u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23"],["Battle Pass","\u6218\u4ee4","pas pertempuran","\u0431\u043e\u0435\u0432\u043e\u0439 \u043f\u0440\u043e\u043f\u0443\u0441\u043a","\u0e41\u0e1a\u0e17\u0e40\u0e17\u0e34\u0e25\u0e1e\u0e32\u0e2a"],["Continue Claim","\u7ee7\u7eed\u9886\u53d6","lanjutkan klaim","\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u043f\u0440\u0435\u0442\u0435\u043d\u0437\u0438\u044e","\u0e40\u0e23\u0e35\u0e22\u0e01\u0e23\u0e49\u0e2d\u0e07\u0e15\u0e48\u0e2d\u0e44\u0e1b"],["Day","\u5929","hari","\u0434\u0435\u043d\u044c","\u0e27\u0e31\u0e19"],["Buy gift packs to get","\u8d2d\u4e70\u793c\u5305\u53ef\u4ee5\u83b7\u5f97","Beli paket hadiah untuk mendapatkan","\u041f\u043e\u043a\u0443\u043f\u0430\u0439\u0442\u0435 \u043f\u043e\u0434\u0430\u0440\u043e\u0447\u043d\u044b\u0435 \u043f\u0430\u043a\u0435\u0442\u044b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c","\u0e0b\u0e37\u0e49\u0e2d\u0e0a\u0e38\u0e14\u0e02\u0e2d\u0e07\u0e02\u0e27\u0e31\u0e0d\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e23\u0e31\u0e1a"],["End In","\u7ed3\u675f\u4e8e","Akhiri","\u041a\u043e\u043d\u0435\u0446 \u0432","\u0e2a\u0e34\u0e49\u0e19\u0e2a\u0e38\u0e14\u0e43\u0e19"],["Statistics","\u6570\u636e\u7edf\u8ba1","Statistik","\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430","\u0e2a\u0e16\u0e34\u0e15\u0e34"],["Hero Damage","\u82f1\u96c4\u4f24\u5bb3","Kerusakan Pahlawan","\u0423\u0440\u043e\u043d \u0433\u0435\u0440\u043e\u044f","\u0e2e\u0e35\u0e42\u0e23\u0e48\u0e14\u0e32\u0e40\u0e21\u0e08"],["Pet Damage","\u5ba0\u7269\u4f24\u5bb3","Kerusakan Hewan Peliharaan","\u041f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0438\u0442\u043e\u043c\u0446\u0430","\u0e04\u0e27\u0e32\u0e21\u0e40\u0e2a\u0e35\u0e22\u0e2b\u0e32\u0e22\u0e02\u0e2d\u0e07\u0e2a\u0e31\u0e15\u0e27\u0e4c\u0e40\u0e25\u0e35\u0e49\u0e22\u0e07"],["Basic Attack Damage","\u666e\u653b\u4f24\u5bb3","Kerusakan Serangan Dasar","\u0423\u0440\u043e\u043d \u043e\u0442 \u0431\u0430\u0437\u043e\u0432\u043e\u0439 \u0430\u0442\u0430\u043a\u0438","\u0e1e\u0e25\u0e31\u0e07\u0e42\u0e08\u0e21\u0e15\u0e35\u0e1e\u0e37\u0e49\u0e19\u0e10\u0e32\u0e19"],["Skill Damage","\u6280\u80fd\u4f24\u5bb3","Kerusakan Keterampilan","\u0423\u0440\u043e\u043d \u043d\u0430\u0432\u044b\u043a\u0430","\u0e2a\u0e01\u0e34\u0e25\u0e14\u0e32\u0e40\u0e21\u0e08"],["You can increase your strength by","\u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u63d0\u5347\u5b9e\u529b","Anda dapat meningkatkan kekuatan Anda dengan","\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u0441\u0432\u043e\u044e \u0441\u0438\u043b\u0443","\u0e04\u0e38\u0e13\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e04\u0e27\u0e32\u0e21\u0e41\u0e02\u0e47\u0e07\u0e41\u0e01\u0e23\u0e48\u0e07\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e42\u0e14\u0e22"],["Upgrade hero","\u5347\u7ea7\u82f1\u96c4","Tingkatkan pahlawan","\u0423\u043b\u0443\u0447\u0448\u0438\u0442\u044c \u0433\u0435\u0440\u043e\u044f","\u0e2d\u0e31\u0e1e\u0e40\u0e01\u0e23\u0e14\u0e2e\u0e35\u0e42\u0e23\u0e48"],["Raise pets","\u57f9\u517b\u5ba0\u7269","Angkat hewan peliharaan","\u041f\u043e\u0434\u043d\u0438\u043c\u0438\u0442\u0435 \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0445 \u0436\u0438\u0432\u043e\u0442\u043d\u044b\u0445","\u0e40\u0e25\u0e35\u0e49\u0e22\u0e07\u0e2a\u0e31\u0e15\u0e27\u0e4c\u0e40\u0e25\u0e35\u0e49\u0e22\u0e07"],["Cumulative check-in days","\u7d2f\u8ba1\u7b7e\u5230\u5929\u6570","Kumulatif hari check-in","\u0421\u043e\u0432\u043e\u043a\u0443\u043f\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u043d\u0435\u0439 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438","\u0e08\u0e33\u0e19\u0e27\u0e19\u0e27\u0e31\u0e19\u0e40\u0e0a\u0e47\u0e04\u0e2d\u0e34\u0e19\u0e2a\u0e30\u0e2a\u0e21"],["Cumulative check-in","\u7d2f\u8ba1\u7b7e\u5230","Kumulatif check-in","\u0421\u043e\u0432\u043e\u043a\u0443\u043f\u043d\u0430\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f","\u0e40\u0e0a\u0e47\u0e04\u0e2d\u0e34\u0e19\u0e2a\u0e30\u0e2a\u0e21"],["Additional rewards available","\u53ef\u9886\u53d6\u989d\u5916\u5956\u52b1","Hadiah tambahan tersedia","\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0433\u0440\u0430\u0434\u044b","\u0e21\u0e35\u0e23\u0e32\u0e07\u0e27\u0e31\u0e25\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21\u0e43\u0e2b\u0e49"],["Choose","\u9009\u62e9","Memilih","\u0412\u044b\u0431\u0438\u0440\u0430\u0442\u044c","\u0e40\u0e25\u0e37\u0e2d\u0e01"],["Buy","\u8d2d\u4e70","Membeli","\u041a\u0443\u043f\u0438\u0442\u044c","\u0e0b\u0e37\u0e49\u0e2d"],["Capacity: ","\u5bb9\u91cf\uff1a","kapasitas: ","\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c: ","\u0e04\u0e27\u0e32\u0e21\u0e08\u0e38: "],["All","\u5168\u90e8","semua","\u0432\u0441\u0435","\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"],["Prop","\u9053\u5177","Menopang","\u041f\u0440\u043e\u043f","\u0e02\u0e49\u0e2d\u0e15\u0e48\u0e2d"],["The current HP of the city wall","\u57ce\u5899\u5f53\u524dHP","HP tembok kota saat ini","\u0422\u0435\u043a\u0443\u0449\u0438\u0439 HP \u0433\u043e\u0440\u043e\u0434\u0441\u043a\u043e\u0439 \u0441\u0442\u0435\u043d\u044b","HP \u0e1b\u0e31\u0e08\u0e08\u0e38\u0e1a\u0e31\u0e19\u0e02\u0e2d\u0e07\u0e01\u0e33\u0e41\u0e1e\u0e07\u0e40\u0e21\u0e37\u0e2d\u0e07"]],function(e){e[e.NULL=0]="NULL",e[e.TY_logo_=1]="TY_logo_"}(a.SpriteIndex||(a.SpriteIndex={})),a.AllLanSpriteFrame=[["","","","",""],["TY_logo_en","TY_logo_cn","","",""]],cc._RF.pop()},{}],LanguageManager:[function(e,t,a){"use strict";cc._RF.push(t,"ca4baI/WzhKAZ9OMC1i59vq","LanguageManager");var n=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("../Ads/ApkManager"),i=e("../Constants"),r=e("../JsonData/TextManagement"),s=e("../Multilingual/Image_Language"),c=e("./LanguageConstants"),l=cc._decorator,g=l.ccclass,u=(l.property,function(){function e(){this.cur_language_type=c.LanguageType.zh,this.prev_language_type=c.LanguageType.zh,this.sp_atlas=null,this.ImagerLanguage_sprite=null}var t;return t=e,e.getInstance=function(){return null==this._instance&&(this._instance=new t,this._instance.init()),this._instance},e.prototype.init=function(){var e=this.readLanguage();this.loadSpriteAtlas(),this.loadSpImagerLanguage_sprite(),i.CUR_Platform==i.Release_Platform.APK&&(cc.LM=this,null==e&&o.default.getInstance().getAndroidLanguage()),i.IsDebug&&(this.cur_language_type=c.LanguageType.zh)},e.prototype.loadSpImagerLanguage_sprite=function(){var e=this;this.ImagerLanguage_sprite||(this.ImagerLanguage_sprite=new Map,cc.resources.loadDir("Multilingual",cc.SpriteFrame,function(t,a){if(t)console.log(t);else for(var n=a.length,o=0;o<n;o++){var i=a[o],r=i.name;e.ImagerLanguage_sprite.set(r,i)}}))},e.prototype.getSpBySpriteId=function(e){var t=s.Image_LanguageManager.getInstance(),a="";switch(this.cur_language_type){case c.LanguageType.en:a=t.getEnglish(e);break;case c.LanguageType.zh:a=t.getChinese(e);break;case c.LanguageType.id:a=t.getIndonesian(e);break;case c.LanguageType.be:a=t.getRussian(e);break;case c.LanguageType.th:a=t.getThai(e);break;case c.LanguageType.kr:a=t.getKorea(e);break;default:a=t.getEnglish(e)}return this.ImagerLanguage_sprite.get(a)},e.prototype.readLanguage=function(){var e=cc.sys.localStorage.getItem("cur_language");return""===e||null===e?e=null:(e=parseInt(e),this.prev_language_type=this.cur_language_type=e),e},e.prototype.saveLanguage=function(e){cc.sys.localStorage.setItem("cur_language",e)},e.prototype.switchLanguage=function(e){return this.cur_language_type!=e&&(this.setCurLanguageType(e),!0)},e.prototype.setLanguage=function(e){cc.log("setLanguage\uff1a"+e);var t=parseInt(e);this.switchLanguage(t),this.saveLanguage(t),cc.director.emit(c.OnLanguageChange)},e.prototype.setCurLanguageType=function(e){this.setPrevLanguageType(this.cur_language_type),this.cur_language_type=e},e.prototype.getCurLanguageType=function(){return this.cur_language_type},e.prototype.setPrevLanguageType=function(e){this.prev_language_type=e},e.prototype.getPrevLanguageType=function(){return this.prev_language_type},e.prototype.isSameLanguageType=function(){return this.prev_language_type==this.cur_language_type},e.prototype.getString=function(e){return c.AllLanguageString[e][this.cur_language_type]},e.prototype.getStringByStr=function(e){for(var t=c.AllLanguageString.length,a=0;a<t;a++)for(var n=0;n<c.LanguageType.num;n++)if(c.AllLanguageString[a][n]==e)return this.getString(a);return""},e.prototype.getStrByTextId=function(e){var t=r.TextManagementManager.getInstance();switch(this.cur_language_type){case c.LanguageType.en:return t.getEnglish(e);case c.LanguageType.zh:return t.getChinese(e);case c.LanguageType.id:return t.getIndonesian(e);case c.LanguageType.be:return t.getRussian(e);case c.LanguageType.th:return t.getThai(e);case c.LanguageType.kr:return t.getKorea(e);default:return t.getEnglish(e)}},e.prototype.loadSpriteAtlas=function(){var e=this;cc.resources.load("sp/language_sprite",cc.SpriteAtlas,function(t,a){t?console.log(t):e.sp_atlas=a})},e.prototype.getSpriteFrame=function(e){if(this.sp_atlas){var t=this.sp_atlas.getSpriteFrame(c.AllLanSpriteFrame[e][this.cur_language_type]);return null==t&&(t=this.sp_atlas.getSpriteFrame(c.AllLanSpriteFrame[e][c.LanguageType.en])),t}},e._instance=null,t=n([g],e)}());a.default=u,cc._RF.pop()},{"../Ads/ApkManager":"ApkManager","../Constants":"Constants","../JsonData/TextManagement":"TextManagement","../Multilingual/Image_Language":"Image_Language","./LanguageConstants":"LanguageConstants"}],LanguageSprite:[function(e,t,a){"use strict";cc._RF.push(t,"4ad094M04VMS5JogJlO8rj2","LanguageSprite");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("./LanguageConstants"),s=e("./LanguageManager"),c=cc._decorator,l=c.ccclass,g=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cur_sprite_index=r.SpriteIndex.NULL,t.cur_language_type=r.LanguageType.en,t}return o(t,e),t.prototype.onLoad=function(){this.startTranslation(),this.addListen()},t.prototype.addListen=function(){cc.director.on(r.OnLanguageChange,this.onLanguageChange,this)},t.prototype.removeListen=function(){cc.director.off(r.OnLanguageChange,this.onLanguageChange,this)},t.prototype.onLanguageChange=function(){this.cur_language_type!=s.default.getInstance().getCurLanguageType()&&this.startTranslation()},t.prototype.startTranslation=function(){this.cur_language_type=s.default.getInstance().getCurLanguageType(),this.cur_sprite_index!=r.SpriteIndex.NULL&&(this.spriteFrame=s.default.getInstance().getSpriteFrame(this.cur_sprite_index))},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this)},i([g({type:cc.Enum(r.SpriteIndex)})],t.prototype,"cur_sprite_index",void 0),i([l],t)}(cc.Sprite);a.default=u,cc._RF.pop()},{"./LanguageConstants":"LanguageConstants","./LanguageManager":"LanguageManager"}],LeiShen:[function(e,t,a){"use strict";cc._RF.push(t,"a18c1atTKNK+rtdeKAMopyu","LeiShen");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Constants"),s=e("../../../Game/GameEffectsManager"),c=e("../../../Game/GroundManager"),l=e("../../../Game/SkillManager"),g=e("../../../GameManager"),u=e("../../../Monster/Monster"),p=e("../../../Monster/MonsterData"),d=e("../../../Monster/MonsterManager"),h=e("../../../Sound/AudioConstants"),f=e("../../../Tools/MyTool"),_=e("../BuffData"),m=e("../Hero"),y=e("../HeroConfig"),I=e("./ChainLightning"),v=cc._decorator,M=v.ccclass,C=(v.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shandian_monster=[],t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addLoadByGameEffectId.call(this,s.GameEffectId.xuanyun,4),e.prototype.addLoadByGameEffectId.call(this,s.GameEffectId.lei_shen_shandian,4),e.prototype.addLoadByGameEffectId.call(this,s.GameEffectId.lei_shen_shandian_hit,4),e.prototype.addLoadByGameEffectId.call(this,s.GameEffectId.lei_shen_skill_ground,4),e.prototype.addLoadByGameEffectId.call(this,s.GameEffectId.lei_shen_skill_sky,1),this.addSkillListen(this.useSkill),this.addAttackListen(this.normalAttack),this.addXuanYunListen(this.onXuanYunResult),this.addHitListen(this.onHitMonster),this.addResetListen(this.onResetState)},t.prototype.onResetState=function(){},t.prototype.onXuanYunResult=function(e){e&&this.getHeroState()!=y.Hero_State.skill?this.unscheduleAllCallbacks():this.setHeroState(y.Hero_State.idle,y.GongJi_FangXiang.zhong)},t.prototype.onHitMonster=function(){},t.prototype.normalAttack=function(e){g.default.getInstance().cur_game_state==r.GameState.Game_Playing&&(this.is_can_gongji=!1,this.startAttack(e))},t.prototype.startAttack=function(t){var a=this,n=t.getComponent(u.default).getSheShouPos(),o=this.getFangXiangByPos(n),i=new p.KeyFrameData;i.name="Attack",i.callback=function(){a.shandian_monster=new Array,a.createShanDian(null,t.getComponent(u.default)),g.default.getInstance().sound_manager.playSound(h.SoundIndex.YX_LeiGodAttack),a.is_double_attack?a.resetNormalAttack():a.gongji_jishu=0},e.prototype.setHeroState.call(this,y.Hero_State.attack,o,[i],function(){a.setHeroState(y.Hero_State.idle,a.cur_fangxiang)})},t.prototype.createShanDian=function(e,t){this.shandian_monster.push(t.uuid),s.GameEffectsManager.getInstance().createGameEffectById(s.GameEffectId.lei_shen_shandian,this.getCreateBulletPos()).getComponent(I.default).init(s.GameEffectId.lei_shen_shandian,e,t,this.onEndMonster.bind(this));var a=this.getGongJiData(y.DamageType.Skill,!1,y.SkillType.Passive_1,this.hero_data.getSkillValue2(y.SkillType.Passive_1)),n=t.beFlashInjured(a);if(s.GameEffectsManager.getInstance().createGameEffectById(s.GameEffectId.lei_shen_shandian_hit,t.getCenterPos()),this.hero_data.getIsUnlock(y.SkillType.Passive_2)&&n.getDamageNum()>0&&0==n.is_die){var o=new _.BuffData;o.buff_id=y.BuffId.Hero_LeiShen_ChaoFuHe,o.remain_time=60,o.buff_type=y.BuffType.Burst,o.buff_value=[4],o.game_effect_id=s.GameEffectId.Null,o.add_floor=1;var i=this.hero_data.getSkillValue1(y.SkillType.Passive_2);t.addDeBuff(o,this.getGongJiData(y.DamageType.Skill,!1,y.SkillType.Passive_2,i))}},t.prototype.onEndMonster=function(e){var t=this.hero_data.getSkillValue1(y.SkillType.Passive_1);if(this.shandian_monster.length<t){var a=this.getMonster(e.getCenterPos());a&&this.createShanDian(e,a)}},t.prototype.getIsTanShe=function(e){return this.shandian_monster.indexOf(e)>=0},t.prototype.getMonster=function(e){var t=d.default.getInstance();if(t.node.childrenCount<=0)return null;for(var a=new Array,n=0,o=t.node.children;n<o.length;n++){var i=o[n].getComponent(u.default);if(i&&1==i.getIsCanCheck()){var r=e.sub(i.getCenterPos()).mag();0==this.getIsTanShe(i.uuid)&&r<=500&&a.push(i)}}return a.length<=0?null:1==a.length?a[0]:(a.sort(function(t,a){return t.getCenterPos().sub(e).mag()-a.getCenterPos().sub(e).mag()}),a[0])},t.prototype.useSkill=function(){var e=this;return l.default.getInstance().releaseSkill(function(){e.startSelfXuLi()},this.node),0},t.prototype.startSelfXuLi=function(){var e=this,t=new p.KeyFrameData;t.name="FaShe",t.callback=function(){},this.setHeroState(y.Hero_State.skill,y.GongJi_FangXiang.zhong,[t],function(){l.default.getInstance().setTimeStop(!1),e.node.parent=cc.find("Canvas/Hero_Root"),e.node.zIndex=2,e.startLaunch()}),this.spine.timeScale=r.JiaSu},t.prototype.startLaunch=function(){var t=this;this.node.opacity=0,this.node_shadow.opacity=0,e.prototype.setAttSpineScale.call(this);var a=e.prototype.getGongJiData.call(this,y.DamageType.Skill,!1,y.SkillType.Active,this.hero_data.getSkillValue2(y.SkillType.Active)),n=this.hero_data.getSkillValue1(y.SkillType.Active),o=3/n,i=this.hero_data.ExclusiveWeaponSkillValue_1,r=0;i&&i>0&&(r=i);for(var p=0;p<n;p++)this.scheduleOnce(function(){var e=cc.v2(550*Math.random()-275,800*Math.random()-400);c.default.getInstance().createGameEffectById(s.GameEffectId.lei_shen_skill_ground,e),s.GameEffectsManager.getInstance().createGameEffectById(s.GameEffectId.lei_shen_skill_sky,e).scale=1,f.default.randomSceneShake(-6,6,.015,6);var n=d.default.getInstance().getMonstersForCenterPos(-1,e,180*(1+r));if(n){g.default.getInstance().sound_manager.playSound(h.SoundIndex.YX_LeiGodSkill2);for(var o=0;o<n.length;o++){var i=n[o].getComponent(u.default),l=i.beFlashInjured(a);if(t.hero_data.getIsUnlock(y.SkillType.Passive_2)&&l.getDamageNum()>0&&0==l.is_die){var p=new _.BuffData;p.buff_id=y.BuffId.Hero_LeiShen_ChaoFuHe,p.remain_time=60,p.buff_type=y.BuffType.Burst,p.buff_value=[4],p.game_effect_id=s.GameEffectId.Null,p.add_floor=2;var m=t.hero_data.getSkillValue1(y.SkillType.Passive_2);i.addDeBuff(p,t.getGongJiData(y.DamageType.Skill,!1,y.SkillType.Passive_2,m))}}}},p*o);this.scheduleOnce(function(){t.node.opacity=255,t.node_shadow.opacity=255,e.prototype.playSpineAnimation.call(t,"SkillEnd",!1,null,function(){t.node.opacity=255,e.prototype.setHeroState.call(t,y.Hero_State.idle,y.GongJi_FangXiang.zhong,null,null)})},3),l.default.getInstance().setIsSkillState(!1)},i([M],t)}(m.default));a.default=C,cc._RF.pop()},{"../../../Constants":"Constants","../../../Game/GameEffectsManager":"GameEffectsManager","../../../Game/GroundManager":"GroundManager","../../../Game/SkillManager":"SkillManager","../../../GameManager":"GameManager","../../../Monster/Monster":"Monster","../../../Monster/MonsterData":"MonsterData","../../../Monster/MonsterManager":"MonsterManager","../../../Sound/AudioConstants":"AudioConstants","../../../Tools/MyTool":"MyTool","../BuffData":"BuffData","../Hero":"Hero","../HeroConfig":"HeroConfig","./ChainLightning":"ChainLightning"}],LevelJsonData:[function(e,t,a){"use strict";cc._RF.push(t,"88d7dK8//lFeaNwCyZ+L6nT","LevelJsonData"),Object.defineProperty(a,"__esModule",{value:!0}),a.RewardHeroData=a.RewardData=void 0;a.RewardData=function(){this.reward_id=1,this.reward_num=0};a.RewardHeroData=function(){},cc._RF.pop()},{}],LevelManager:[function(e,t,a){"use strict";cc._RF.push(t,"994cc5U3CxFJYNkAe/orWvb","LevelManager"),Object.defineProperty(a,"__esModule",{value:!0}),a.LevelManager=void 0;var n=e("../Storage/StorageConfig"),o=e("../Storage/StorageManager"),i=e("../Tutorials/TutorailsManager"),r=e("./FirstCompleteReward"),s=e("./MissionLevel"),c=e("./OfflineRevenueShow"),l=e("./TutorialLevel"),g=function(){function e(){this.best_level=0,this.item_nums=[],this.is_need_strengthen=!1,this.maininterfacemap=null,this.game_start_level=0}return Object.defineProperty(e.prototype,"finish_level",{get:function(){return this.best_level},set:function(e){this.saveFinishLevel(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start_level",{get:function(){return this.game_start_level},set:function(e){this.saveStartLevel(e)},enumerable:!1,configurable:!0}),e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){r.FirstCompleteRewardManager.getInstance(),s.MissionLevelManager.getInstance(),c.OfflineRevenueShowManager.getInstance(),this.loadSpmaininterfacemap(),this.loadFinishLevel(),this.loadStartLevel(),i.default.getInstance().is_finish_game||l.TutorialLevelManager.getInstance()},e.prototype.loadFinishLevel=function(){var e=cc.sys.localStorage.getItem("finish_level");""===e||null===e?(e=0,this.saveFinishLevel(e)):e>=1&&0==i.default.getInstance().is_finish_game&&i.default.getInstance().saveFinishFromGame(),this.best_level=parseInt(e)},e.prototype.saveFinishLevel=function(e){e>this.best_level&&e<=s.MissionLevelManager.getMaxLevel()&&(this.best_level=e,cc.sys.localStorage.setItem("finish_level",this.best_level))},e.prototype.loadStartLevel=function(){var e=cc.sys.localStorage.getItem("start_level");""!==e&&null!==e||(e=1,this.saveStartLevel(e)),this.game_start_level=parseInt(e)},e.prototype.saveStartLevel=function(e){e<=1?e=1:e>s.MissionLevelManager.getMaxLevel()&&(e=s.MissionLevelManager.getMaxLevel()),this.game_start_level=e,cc.sys.localStorage.setItem("start_level",this.game_start_level)},e.prototype.saveLevelWave=function(e,t){t>this.getLevelWave(e)&&cc.sys.localStorage.setItem("level_wave_"+e,t)},e.prototype.getLevelWave=function(e){var t=cc.sys.localStorage.getItem("level_wave_"+e);return""===t||null===t?0:parseInt(t)},e.prototype.getPassNum=function(e){var t=cc.sys.localStorage.getItem("pass_level_"+e);return""!=t&&null!=t?parseInt(t):0},e.prototype.setNotFirstPassLevel=function(e,t){cc.sys.localStorage.setItem("pass_level_"+e+"wave_"+t,1)},e.getLevelName=function(e){return s.MissionLevelManager.getInstance().getLevelName(e)},e.prototype.getFinishChapter=function(){var e=this.finish_level+1;return e=e>s.MissionLevelManager.getMaxLevel()?s.MissionLevelManager.getMaxLevel():e,s.MissionLevelManager.getInstance().getChapter(e)},e.prototype.getAllLevelStars=function(e){for(var t=[!1,!1,!1],a=o.TheStorageManager.getInstance().getJson(n.StorageKey.LevelStar+e,t),i=0;i<t.length;i++)t[i]=a[i]>0;return t},e.prototype.getALevelStar=function(e,t){return o.TheStorageManager.getInstance().getJson(n.StorageKey.LevelStar+e,[!1,!1,!1])[t-1]>0},e.prototype.saveAllLevelStars=function(e,t){for(var a=[!1,!1,!1],i=o.TheStorageManager.getInstance().getJson(n.StorageKey.LevelStar+e,a),r=0;r<a.length;r++)i[r]<=0&&(i[r]=t[r]?1:0);o.TheStorageManager.getInstance().setItem(n.StorageKey.LevelStar+e,JSON.stringify(i))},e.prototype.saveALevelStar=function(e,t,a){void 0===a&&(a=!0);var i=o.TheStorageManager.getInstance().getJson(n.StorageKey.LevelStar+e,[!1,!1,!1]);i[t-1]<=0&&(i[t-1]=a?1:0,o.TheStorageManager.getInstance().setItem(n.StorageKey.LevelStar+e,JSON.stringify(i)))},e.prototype.loadSpmaininterfacemap=function(){var e=this;this.maininterfacemap||(this.maininterfacemap=new Map,cc.resources.loadDir("map/maininterfacemap",cc.SpriteFrame,function(t,a){if(t)console.log(t);else for(var n=a.length,o=0;o<n;o++){var i=a[o],r=i.name;e.maininterfacemap.set(r,i)}}))},e._instance=null,e}();a.LevelManager=g,cc._RF.pop()},{"../Storage/StorageConfig":"StorageConfig","../Storage/StorageManager":"StorageManager","../Tutorials/TutorailsManager":"TutorailsManager","./FirstCompleteReward":"FirstCompleteReward","./MissionLevel":"MissionLevel","./OfflineRevenueShow":"OfflineRevenueShow","./TutorialLevel":"TutorialLevel"}],LevelSelect:[function(e,t,a){"use strict";cc._RF.push(t,"3eafaOs+atBQrJr7DTEL1wS","LevelSelect");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Level/LevelManager"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=null,t.level_scrollView=null,t.touch_action=null,t.click_action=null,t}return o(t,e),t.prototype.onLoad=function(){this.level_scrollView=this.node.getComponent(cc.ScrollView),this.content=this.level_scrollView.content},t.prototype.start=function(){var e=this.content.children;this.content.x=-e[r.LevelManager.getInstance().start_level-1].x},t.prototype.update=function(){for(var e=this.content.children,t=this.content.childrenCount,a=0;a<t;a++){var n=e[a],o=.9-Math.abs(n.x+this.content.x)/240*.4;o<.5&&(o=.5),n.scale=o}},t.prototype.onTouchScrollView=function(e,t){t==cc.ScrollView.EventType.SCROLL_ENDED?this.onTouchEnd():t==cc.ScrollView.EventType.SCROLL_BEGAN&&(this.click_action&&this.click_action.stop(),this.touch_action&&this.touch_action.stop())},t.prototype.onTouchEnd=function(){for(var e=350,t=0,a=this.content.children,n=this.content.childrenCount,o=0;o<n;o++){var i=a[o],r=Math.abs(i.x+this.content.x);r<e&&(t=o,e=r)}this.click_action&&this.click_action.stop(),this.touch_action&&this.touch_action.stop(),this.touch_action=cc.tween(this.content).to(.2,{x:-a[t].x}).start()},t.prototype.clickBtnLevel=function(e,t){var a=parseInt(t),n=this.content.children;this.click_action&&this.click_action.stop(),this.touch_action&&this.touch_action.stop(),this.click_action=cc.tween(this.content).to(.2,{x:-n[a].x}).start()},i([c],t)}(cc.Component));a.default=l,cc._RF.pop()},{"../../Level/LevelManager":"LevelManager"}],LevelUpRebate:[function(e,t,a){"use strict";cc._RF.push(t,"cf703rUfKtHg5VcKuuCsStG","LevelUpRebate"),Object.defineProperty(a,"__esModule",{value:!0}),a.LevelUpRebateManager=a.JsonLevelUpRebate=void 0;var n=e("../Loading/LoadManager"),o=function(){this.RewardID=0,this.GetGem=0,this.UnlockUserLevel=0};a.JsonLevelUpRebate=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("LevelUpRebate",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonLevelUpRebate\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.RewardID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonLevelUpRebate=function(e){return this.data.get(e)},e.prototype.getGetGem=function(e){return this.data.get(e).GetGem},e.prototype.getUnlockUserLevel=function(e){return this.data.get(e).UnlockUserLevel},e.getMaxRewardID=function(){return 20},e._instance=null,e}();a.LevelUpRebateManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],LevelUp:[function(e,t,a){"use strict";cc._RF.push(t,"a0d5ejm6NFCWq4x4ExB18V3","LevelUp"),Object.defineProperty(a,"__esModule",{value:!0}),a.LevelUpManager=a.JsonLevelUp=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.Level=0,this.CostCoin=0,this.CostGem=0,this.LevelLimit=0};a.JsonLevelUp=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("LevelUp",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonLevelUp\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.Level,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonLevelUp=function(e){return this.data.get(e)},e.prototype.getCostCoin=function(e){return this.data.get(e).CostCoin},e.prototype.getCostGem=function(e){return this.data.get(e).CostGem},e.prototype.getLevelLimit=function(e){return this.data.get(e).LevelLimit},e.getMaxLevel=function(){return 100},e.prototype.getNowLevelAllCostCoin=function(e){e-=1;for(var t=0,a=0;e>0;e--)t+=this.data.get(e).CostCoin,a+=this.data.get(e).CostGem;return[t,a]},e._instance=null,e}();a.LevelUpManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],LightEffect:[function(e,t,a){"use strict";cc._RF.push(t,"497c1IOPYZIyo/lzPjtn+jz","LightEffect");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.light_materail=null,t.light_y=-.5,t}return o(t,e),t.prototype.start=function(){this.light_materail=this.node.getComponent(cc.Sprite).getMaterial(0)},t.prototype.update=function(e){this.light_y+=1.2*e,this.light_y>1.5&&(this.light_y=-.5),this.light_materail.setProperty("lightCenterPoint",cc.v2(.5,this.light_y))},i([c()],t.prototype,"light_y",void 0),i([s],t)}(cc.Component);a.default=l,cc._RF.pop()},{}],LoadManager:[function(e,t,a){"use strict";cc._RF.push(t,"c3e2977OMFNsYGG5fe7bRnZ","LoadManager"),Object.defineProperty(a,"__esModule",{value:!0}),a.LoadManager=a.Load_Mode=void 0;var n,o=e("../Constants");(function(e){e[e.local=1]="local",e[e.remote=2]="remote"})(n=a.Load_Mode||(a.Load_Mode={}));var i=function(){function e(){}return e.init=function(){this.load_mode=o.IsGM?n.remote:n.local},e.loadJson=function(e,t,a){switch(this.max_num_loading++,t){case n.local:this.loadLocal("json/"+e,cc.JsonAsset,a);break;case n.remote:this.loadRemote(this.remote_url_json+e+".json",a)}},e.loadLocal=function(e,t,a){var n=this;cc.resources.load(e,t,function(e,t){e?console.log(e):(n.loaded_completed++,a(e,t),cc.assetManager.releaseAsset(t))})},e.loadRemote=function(e,t){var a=this;cc.assetManager.loadRemote(e,{cacheEnabled:!1},function(e,n){e?console.log(e):(a.loaded_completed++,t(e,n))})},e.getIsLoadComplete=function(){return this.loaded_completed>0&&this.loaded_completed>=this.max_num_loading},e.remote_url_json="http://localhost:8080/json/",e.load_mode=n.local,e.loaded_completed=0,e.max_num_loading=0,e}();a.LoadManager=i,cc._RF.pop()},{"../Constants":"Constants"}],LoadProgress:[function(e,t,a){"use strict";cc._RF.push(t,"36b85RKntpD+6t0gs9pDAQy","LoadProgress");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loading_bar=null,t.loading_light=null,t.scene_name="",t.loaded_callback=[],t}return o(t,e),t.prototype.start=function(){},t.prototype.startLoad=function(e){var t=this;this.scene_name=e,this.node.active=!0,cc.director.preloadScene(this.scene_name,this.onProgress.bind(this),function(){if(t.loaded_callback.length>0)for(var e=0;e<t.loaded_callback.length;e++)t.loaded_callback[e].emit(null);else cc.director.loadScene(t.scene_name)})},t.prototype.onProgress=function(e,t){this.node.active=!0,this.loading_bar.progress=e/t,this.loading_light.x=this.loading_bar.progress*this.loading_bar.totalLength-this.loading_bar.totalLength/2},i([c({type:cc.ProgressBar,tooltip:"\u8fdb\u5ea6\u6761\u7ec4\u4ef6"})],t.prototype,"loading_bar",void 0),i([c({type:cc.Node,tooltip:"\u8fdb\u5ea6\u6761\u5149 "})],t.prototype,"loading_light",void 0),i([c({tooltip:"\u9700\u8981\u9884\u52a0\u8f7d\u7684\u573a\u666f\u540d\u5b57"})],t.prototype,"scene_name",void 0),i([c({type:[cc.Component.EventHandler],tooltip:"\u8fdb\u5ea6\u6761\u52a0\u8f7d\u5b8c\u6bd5\u540e\u7684\u56de\u8c03"})],t.prototype,"loaded_callback",void 0),i([s],t)}(cc.Component);a.default=l,cc._RF.pop()},{}],Loading:[function(e,t,a){"use strict";cc._RF.push(t,"e0fc9BJLv5O9rxrDJsYNZ9q","Loading");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../ABTest/ABTestManager"),s=e("../Ads/ApkManager"),c=e("../Constants"),l=e("../Equipment/EquipmentManager"),g=e("../GameData"),u=e("../GameManager"),p=e("../multiLanguage/FollowConstants"),d=e("../multiLanguage/FollowManager"),h=e("../multiLanguage/LanguageSprite"),f=e("../Tutorials/TutorailsManager"),_=e("../Hero/Data/HeroManager"),m=e("../JsonData/TextManagement"),y=e("../JsonData/Jackpot"),I=e("../Level/LevelManager"),v=e("../Monster/Data/MonsterDataManager"),M=e("../JsonData/OfflineRevenue"),C=e("../UserData"),S=e("../JsonData/SignIn"),P=e("./LoadManager"),k=e("../JsonData/PlayerLevelUp"),b=e("../JsonData/FunctionDefinition"),T=e("../Tower/TowerLevel"),B=e("../Tower/TowerReward"),w=e("../JsonData/JackpotCollection"),N=e("../JsonData/CustomsClearanceRebate"),L=e("../JsonData/LevelUpRebate"),D=e("../BattlePass/BattlePassManager"),E=e("../UI/UIManager"),R=e("../JsonData/SignNum"),G=e("../Pet/PetManager"),x=e("../Prop/PropManager"),A=e("../JsonData/CoinShopManagement"),O=e("../Hero/Data/SkillLevelUnlock"),H=e("../Wish/CumulativeCard"),F=e("../Wish/WishSpend"),j=e("../Maze/MazeManager"),U=e("../JsonData/CommodityManagement"),J=e("../JsonData/ExclusiveEnhancement"),W=e("../JsonData/ExclusiveWeaponMessage"),V=e("../JsonData/ExclusiveWeaponSkill"),q=e("../Task/Data/TaskInformation"),z=e("../Task/Data/ThreadTaskInformation"),K=e("../Task/Data/AccumulatedInformation"),Y=e("../Maze/Data/RoguePetsLease"),X=e("../TakeEgg/EggCumulative"),Z=e("../Payment/PayManager"),Q=e("../Payment/Data/CyclePack"),$=e("../Activity/EndlessLevels"),ee=e("../Activity/EndlessReward"),te=e("../Activity/BossChallenge"),ae=e("../Activity/BossReward"),ne=e("../TakeEgg/EggInformation"),oe=e("../Store/ChapterPack"),ie=e("../Store/DailyShop"),re=e("../Store/DiamondsRecharge"),se=e("../Store/DrawCardInformation"),ce=e("../Store/PurchaseCoins"),le=e("../Store/CommodityInformation"),ge=e("../Multilingual/Image_Language"),ue=e("../Store/DrawCardProbability"),pe=e("../Turntable/TurntableInformation"),de=e("../Task/TaskManager"),he=e("../Task/Data/AchievenmentTask"),fe=e("../BattlePass/BattlePassData"),_e=e("../Level/TutorialLevel"),me=e("../Tutorials/CourseText"),ye=e("../AccumulatedRecharge/CumulativeRecharges"),Ie=e("../UserInfo/UserInfo"),ve=e("../copy/endlesschallenges/BossWeeklyReward"),Me=e("../copy/endlesschallenges/EndlessBuff"),Ce=e("../JsonData/ConstantConfiguration"),Se=e("../Level/MissionLevel"),Pe=e("../copy/endlesschallenges/RogueGiftInformation"),ke=e("../copy/endlesschallenges/RogueShop"),be=e("../copy/voidcrack/RogueHexagonTypes"),Te=e("../Level/FirstCompleteReward"),Be=e("../copy/voidcrack/RogueLevel"),we=e("../copy/voidcrack/RoguefastPass"),Ne=cc._decorator,Le=Ne.ccclass,De=Ne.property,Ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.is_start=!1,t.issued_data=null,t.is_issued_finish=!1,t.scene_progress=0,t.loadingBar=null,t.loadLabel=null,t.max_load_time=10,t.load_total_time=0,t.cartoon=null,t}return o(t,e),t.prototype.onLoad=function(){var e=this;if(f.default.getInstance().isShowTutorials(200)&&(this.cartoon.active=!0),this.closeJiaoCheng(),c.IsGM&&P.LoadManager.load_mode==P.Load_Mode.remote){var t=!1;cc.assetManager.loadRemote(P.LoadManager.remote_url_json+"HeroAttribute.json",function(a){if(a)return console.log(a),e.node.parent.getChildByName("ipEditBox").getComponent(cc.EditBox).string=P.LoadManager.remote_url_json,void(e.node.parent.getChildByName("ipEditBox").active=!0);t=!0,e.loadAll()}),this.scheduleOnce(function(){0==t&&(e.node.parent.getChildByName("ipEditBox").getComponent(cc.EditBox).string=P.LoadManager.remote_url_json,e.node.parent.getChildByName("ipEditBox").active=!0)},2)}else this.node.parent.getChildByName("ipEditBox").active=!1,this.loadAll();c.IsDebug&&c.IsGM&&console.error(c.local_version)},t.prototype.closeJiaoCheng=function(){},t.prototype.loadAll=function(){P.LoadManager.init(),C.default.getInstance(),u.default.getInstance().cur_game_scene=c.GameScene.load,f.default.getInstance(),_e.TutorialLevelManager.getInstance(),me.CourseTextManager.getInstance(),r.default.getInstance(),l.EquipmentManager.getInstance(),_.HeroManager.getInstance(),m.TextManagementManager.getInstance(),ge.Image_LanguageManager.getInstance(),y.JackpotManager.getInstance(),w.JackpotCollectionManager.getInstance(),v.MonsterDataManager.getInstance(),I.LevelManager.getInstance(),M.OfflineRevenueManager.getInstance(),S.SignInManager.getInstance(),k.PlayerLevelUpManager.getInstance(),b.FunctionDefinitionManager.getInstance(),T.TowerLevelManager.getInstance(),B.TowerRewardManager.getInstance(),N.CustomsClearanceRebateManager.getInstance(),L.LevelUpRebateManager.getInstance(),D.BattlePassManager.getInstance(),x.PropManager.getInstance(),R.SignNumManager.getInstance(),G.PetManager.getInstance(),A.CoinShopManagementManager.getInstance(),O.SkillLevelUnlockManager.getInstance(),H.CumulativeCardManager.getInstance(),F.WishSpendManager.getInstance(),j.MazeManager.getInstance(),U.CommodityManagementManager.getInstance(),J.ExclusiveEnhancementManager.getInstance(),W.ExclusiveWeaponMessageManager.getInstance(),V.ExclusiveWeaponSkillManager.getInstance(),q.TaskInformationManager.getInstance(),z.ThreadTaskInformationManager.getInstance(),K.AccumulatedInformationManager.getInstance(),Y.RoguePetsLeaseManager.getInstance(),X.EggCumulativeManager.getInstance(),ne.EggInformationManager.getInstance(),Z.PayManager.getInstance(),Q.CyclePackManager.getInstance(),$.EndlessLevelsManager.getInstance(),ee.EndlessRewardManager.getInstance(),te.BossChallengeManager.getInstance(),ae.BossRewardManager.getInstance(),oe.ChapterPackManager.getInstance(),U.CommodityManagementManager.getInstance(),ie.DailyShopManager.getInstance(),re.DiamondsRechargeManager.getInstance(),se.DrawCardInformationManager.getInstance(),ce.PurchaseCoinsManager.getInstance(),le.CommodityInformationManager.getInstance(),ue.DrawCardProbabilityManager.getInstance(),pe.TurntableInformationManager.getInstance(),he.AchievenmentTaskManager.getInstance(),fe.BattlePassDataManager.getInstance(),ye.CumulativeRechargesManager.getInstance(),ve.BossWeeklyRewardManager.getInstance(),g.default.getInstance().refreshServerTime(),Me.EndlessBuffManager.getInstance(),Ce.ConstantConfigurationManager.getInstance(),Pe.RogueGiftInformationManager.getInstance(),ke.RogueShopManager.getInstance(),Be.RogueLevelManager.getInstance(),be.RogueHexagonTypesManager.getInstance(),we.RoguefastPassManager.getInstance(),Ie.UserInfo.getInstance()},t.prototype.start=function(){var e=E.UIManager.getInstance().getLoadingNode(),t=e.getChildByName("title");t.opacity=0;var a=this.cartoon.getChildByName("bg_loading_1"),n=a.getChildByName("title");n.opacity=0,cc.tween(t).delay(1).call(function(){d.default.getInstance().followEvent(p.Follow_Type.Load\u9875\u5c55\u793a\u603b\u6b21\u6570),t.getComponent(h.default).startTranslation()}).to(1,{opacity:255}).start(),cc.tween(n).delay(1).call(function(){n.getComponent(h.default).startTranslation()}).to(1,{opacity:255}).start(),e.getChildByName("ProgressBar").active=!1,e.getChildByName("load").active=!1,a.getChildByName("ProgressBar").active=!1,a.getChildByName("load").active=!1,this.startLoad(),c.IsTestServer||(this.is_issued_finish=!0)},t.prototype.onClickOK=function(e){var t=this.node.parent.getChildByName("ipEditBox").getComponent(cc.EditBox);P.LoadManager.remote_url_json=t.string,e.currentTarget.parent.active=!1,this.loadAll()},t.prototype.startLoad=function(){var e=this;if(1!=this.is_start){this.is_start=!0;var t=E.UIManager.getInstance().getLoadingNode();t.getChildByName("ProgressBar").active=!0,t.getChildByName("load").active=!0,t.active=!0;var a=this.cartoon.getChildByName("bg_loading_1");a.getChildByName("ProgressBar").active=!0,a.getChildByName("load").active=!0,a.active=!0,this.loadingBar=t.getChildByName("ProgressBar").getComponent(cc.ProgressBar),this.loadLabel=this.loadingBar.node.getChildByName("loadLabel").getComponent(cc.Label),cc.director.preloadScene(c.GameScene.home,function(t,a){e.scene_progress=t/a},function(){e.cheakLoadToScene(.5)}),this.scheduleOnce(this.loadAllUi,1),c.IsDebug&&(s.default.getInstance().ad_loaded_num=s.default.getInstance().max_load_num),this.scheduleOnce(function(){s.default.getInstance().ad_loaded_num<s.default.getInstance().max_load_num&&(s.default.getInstance().ad_loaded_num=s.default.getInstance().max_load_num),e.is_issued_finish=!0},this.max_load_time)}},t.prototype.cheakLoadToScene=function(e){var t=this;if(cc.log("cheakLoadToScene"),this.load_total_time+=e,this.load_total_time>=10)return this.unschedule(this.cheakLoadToScene),void cc.director.loadScene("load");c.IsDebug&&console.log(P.LoadManager.getIsLoadComplete(),C.default.getInstance().version_is_ok,C.default.getInstance().is_load_ok,s.default.getInstance().ad_loaded_num>=s.default.getInstance().max_load_num),P.LoadManager.getIsLoadComplete()&&C.default.getInstance().version_is_ok&&C.default.getInstance().is_load_ok&&s.default.getInstance().ad_loaded_num>=s.default.getInstance().max_load_num?this.onLoadFinish():(e+=.1,this.scheduleOnce(function(){t.cheakLoadToScene(e)},e))},t.prototype.onLoadFinish=function(){if(d.default.getInstance().getFirstDo(p.Follow_Type.\u9996\u6b21\u767b\u5f55)<=0&&(d.default.getInstance().addFirstDo(p.Follow_Type.\u9996\u6b21\u767b\u5f55),d.default.getInstance().followEvent(p.Follow_Type.\u9996\u6b21\u767b\u5f55)),u.default.getInstance().cur_load_progress=this.loadingBar.progress,M.OfflineRevenueManager.getInstance().getNowEquipIdList(),_.HeroManager.getInstance().onLoadHeroData(),x.PropManager.getInstance().loadPropData(),this.unschedule(this.cheakLoadToScene),de.default.getInstance(),f.default.getInstance().isShowTutorials(200))return this.cartoon.getChildByName("butn").active=!0,this.cartoon.getChildByName("btn").active=!0,void(this.cartoon.getChildByName("Loading").active=!1);c.IsTestCode?cc.director.loadScene("zhengxing"):(u.default.getInstance().cur_game_scene=c.GameScene.home,cc.director.loadScene(c.GameScene.home)),this.checkExcel()},t.prototype.checkExcel=function(){0==cc.sys.isNative&&c.IsDebug&&(Se.MissionLevelManager.getInstance().check(),Te.FirstCompleteRewardManager.getInstance().check(),$.EndlessLevelsManager.getInstance().check(),ie.DailyShopManager.getInstance().check())},t.prototype.loadAllUi=function(){f.default.getInstance().is_finish||cc.resources.loadDir("tutorials")},t.prototype.update=function(e){var t=this.loadingBar.progress+e/this.max_load_time;t>1&&(t=1),this.loadingBar.progress=t,this.loadLabel.string=(100*this.loadingBar.progress).toFixed(0)+"%",u.default.getInstance().cur_load_progress=t},i([De(cc.Node)],t.prototype,"cartoon",void 0),i([Le],t)}(cc.Component);a.default=Ee,cc._RF.pop()},{"../ABTest/ABTestManager":"ABTestManager","../AccumulatedRecharge/CumulativeRecharges":"CumulativeRecharges","../Activity/BossChallenge":"BossChallenge","../Activity/BossReward":"BossReward","../Activity/EndlessLevels":"EndlessLevels","../Activity/EndlessReward":"EndlessReward","../Ads/ApkManager":"ApkManager","../BattlePass/BattlePassData":"BattlePassData","../BattlePass/BattlePassManager":"BattlePassManager","../Constants":"Constants","../Equipment/EquipmentManager":"EquipmentManager","../GameData":"GameData","../GameManager":"GameManager","../Hero/Data/HeroManager":"HeroManager","../Hero/Data/SkillLevelUnlock":"SkillLevelUnlock","../JsonData/CoinShopManagement":"CoinShopManagement","../JsonData/CommodityManagement":"CommodityManagement","../JsonData/ConstantConfiguration":"ConstantConfiguration","../JsonData/CustomsClearanceRebate":"CustomsClearanceRebate","../JsonData/ExclusiveEnhancement":"ExclusiveEnhancement","../JsonData/ExclusiveWeaponMessage":"ExclusiveWeaponMessage","../JsonData/ExclusiveWeaponSkill":"ExclusiveWeaponSkill","../JsonData/FunctionDefinition":"FunctionDefinition","../JsonData/Jackpot":"Jackpot","../JsonData/JackpotCollection":"JackpotCollection","../JsonData/LevelUpRebate":"LevelUpRebate","../JsonData/OfflineRevenue":"OfflineRevenue","../JsonData/PlayerLevelUp":"PlayerLevelUp","../JsonData/SignIn":"SignIn","../JsonData/SignNum":"SignNum","../JsonData/TextManagement":"TextManagement","../Level/FirstCompleteReward":"FirstCompleteReward","../Level/LevelManager":"LevelManager","../Level/MissionLevel":"MissionLevel","../Level/TutorialLevel":"TutorialLevel","../Maze/Data/RoguePetsLease":"RoguePetsLease","../Maze/MazeManager":"MazeManager","../Monster/Data/MonsterDataManager":"MonsterDataManager","../Multilingual/Image_Language":"Image_Language","../Payment/Data/CyclePack":"CyclePack","../Payment/PayManager":"PayManager","../Pet/PetManager":"PetManager","../Prop/PropManager":"PropManager","../Store/ChapterPack":"ChapterPack","../Store/CommodityInformation":"CommodityInformation","../Store/DailyShop":"DailyShop","../Store/DiamondsRecharge":"DiamondsRecharge","../Store/DrawCardInformation":"DrawCardInformation","../Store/DrawCardProbability":"DrawCardProbability","../Store/PurchaseCoins":"PurchaseCoins","../TakeEgg/EggCumulative":"EggCumulative","../TakeEgg/EggInformation":"EggInformation","../Task/Data/AccumulatedInformation":"AccumulatedInformation","../Task/Data/AchievenmentTask":"AchievenmentTask","../Task/Data/TaskInformation":"TaskInformation","../Task/Data/ThreadTaskInformation":"ThreadTaskInformation","../Task/TaskManager":"TaskManager","../Tower/TowerLevel":"TowerLevel","../Tower/TowerReward":"TowerReward","../Turntable/TurntableInformation":"TurntableInformation","../Tutorials/CourseText":"CourseText","../Tutorials/TutorailsManager":"TutorailsManager","../UI/UIManager":"UIManager","../UserData":"UserData","../UserInfo/UserInfo":"UserInfo","../Wish/CumulativeCard":"CumulativeCard","../Wish/WishSpend":"WishSpend","../copy/endlesschallenges/BossWeeklyReward":"BossWeeklyReward","../copy/endlesschallenges/EndlessBuff":"EndlessBuff","../copy/endlesschallenges/RogueGiftInformation":"RogueGiftInformation","../copy/endlesschallenges/RogueShop":"RogueShop","../copy/voidcrack/RogueHexagonTypes":"RogueHexagonTypes","../copy/voidcrack/RogueLevel":"RogueLevel","../copy/voidcrack/RoguefastPass":"RoguefastPass","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/LanguageSprite":"LanguageSprite","./LoadManager":"LoadManager"}],LocalVideo:[function(e,t,a){"use strict";cc._RF.push(t,"ac662mCdx1FbK0XoJRVCNiL","LocalVideo");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("./GameManager"),s=e("./Sound/AudioConstants"),c=cc._decorator,l=c.ccclass,g=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.remain_time=10,t.yes_callback=null,t.no_callback=null,t.interval=null,t}return o(t,e),t.prototype.init=function(e,t){var a=this;this.yes_callback=e,this.no_callback=t,this.remain_time=11+Math.floor(6*Math.random()),this.showRemain(),this.interval=setInterval(function(){a.showRemain()},1e3);var n=this.node.getChildByName("bg"),o=0;n.on(cc.Node.EventType.TOUCH_START,function(){++o>=5&&a.clickBtnNo()},this)},t.prototype.showRemain=function(){this.remain_time--;var e=this.node.getChildByName("remainLabel").getComponent(cc.Label);e.string=""+this.remain_time;var t=this.node.getChildByName("btnYes"),a=t.getChildByName("text").getComponent(cc.Label);this.remain_time>0?a.string="\u53d6\u6d88":(a.string="\u9886\u53d6\u5956\u52b1",e.string="\u89c2\u770b\u5b8c\u6bd5",this.node.getChildByName("hintLabel").active=!1,t.x=540*Math.random()-270,t.y=228*Math.random()-114,clearInterval(this.interval))},t.prototype.clickBtnNo=function(){r.default.getInstance().sound_manager.playSound(s.SoundIndex.click),this.node.removeFromParent()},t.prototype.clickBtnYes=function(){r.default.getInstance().sound_manager.playSound(s.SoundIndex.click),this.remain_time>0?this.no_callback&&this.no_callback():this.yes_callback&&this.yes_callback(),this.node.removeFromParent()},i([l],t)}(cc.Component));a.default=g,cc._RF.pop()},{"./GameManager":"GameManager","./Sound/AudioConstants":"AudioConstants"}],LogInfo:[function(e,t,a){"use strict";cc._RF.push(t,"b1d36cWti5OU5Pm67FGqllp","LogInfo"),Object.defineProperty(a,"__esModule",{value:!0}),a.LogManager=a.LogInfo=void 0;var n=e("../Constants"),o=function(){this.log_time="2022-2-11 11:11:11",this.log_content="\u83b7\u5f97\u4e86\u88c5\u5907:66668888"};a.LogInfo=o;var i=function(){function e(){}return e.init=function(){this.log_list=new Array;var e=cc.sys.localStorage.getItem("log_list");if(""!=e&&null!=e)for(var t=JSON.parse(e),a=0;a<t.length;a++){var n=new o;n=t[a],this.log_list.push(n)}},e.getTimeStr=function(){return new Date(+new Date+288e5).toJSON().substring(0,19).replace("T"," ")},e.addLog=function(e){if(n.IsSaveEquipLog){null==this.log_list&&this.init();var t=new o;t.log_time=this.getTimeStr(),t.log_content=e,this.log_list.push(t),cc.log(t.log_time,t.log_content)}},e.saveLogList=function(){n.IsSaveEquipLog&&this.log_list&&cc.sys.localStorage.setItem("log_list",JSON.stringify(this.log_list))},e.log_list=null,e}();a.LogManager=i,cc._RF.pop()},{"../Constants":"Constants"}],LongJingItem:[function(e,t,a){"use strict";cc._RF.push(t,"40dc3pVO2dN7I7ntRazh0TS","LongJingItem");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Ads/ApkManager"),s=e("../GameManager"),c=e("../multiLanguage/FollowConstants"),l=e("../multiLanguage/FollowManager"),g=e("../multiLanguage/TextLanguage"),u=e("../Prop/PropConfig"),p=e("../Prop/PropManager"),d=e("../Sound/AudioConstants"),h=e("../Tools/EventManager"),f=e("./PayManager"),_=cc._decorator,m=_.ccclass,y=(_.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.longjing_data=null,t.longjing_ts=null,t}return o(t,e),t.prototype.start=function(){this.node.getChildByName("numText").getComponent(g.default).setReplaceValue("~",this.longjing_data.CrystalQuantity+" ");var e=this.node.getChildByName("priceLabel").getComponent(cc.Label),t=f.PayManager.getInstance().getPayInfo(this.longjing_data.ProductId);e.string=t.price;var a=p.PropManager.getInstance().createPropItem(u.PropId.LongJing,this.longjing_data.CrystalQuantity,u.PropAction.Look);this.node.addChild(a),a.y=88,this.refresh()},t.prototype.init=function(e,t){this.longjing_data=e,this.longjing_ts=t},t.prototype.refresh=function(){var e=this.node.getChildByName("first");f.PayManager.getInstance().getPayNum(this.longjing_data.ProductId)<=0?(e.getChildByName("firstText").getComponent(g.default).setReplaceValue("~",""+this.longjing_data.DiamondsQuality),e.active=!0):e.active=!1},t.prototype.onClick=function(){var e=this;s.default.getInstance().sound_manager.playSound(d.SoundIndex.click),l.default.getInstance().followEvent(c.Follow_Type.x\u9f99\u6676\u70b9\u51fb\u8d2d\u4e70\u6b21\u6570+this.longjing_data.CrystalQuantity),r.default.getInstance().showPay({result:function(t){if(t){var a=p.PropManager.getInstance(),n=new Array;f.PayManager.getInstance().getPayNum(e.longjing_data.ProductId)<=0&&(a.changePropNum(u.PropId.Gem,e.longjing_data.DiamondsQuality),n.push(a.createPropItem(u.PropId.Gem,e.longjing_data.DiamondsQuality))),f.PayManager.getInstance().addPayNum(e.longjing_data.ProductId),f.PayManager.getInstance().addTotalLongJingNum(e.longjing_data.CrystalQuantity),a.changePropNum(u.PropId.LongJing,e.longjing_data.CrystalQuantity),n.push(a.createPropItem(u.PropId.LongJing,e.longjing_data.CrystalQuantity)),s.default.getInstance().showMultipleGetTip(n),e.refresh(),e.longjing_ts.refreshTotalItem(),h.EventManager.postRedEvent(h.RedEventString.RED_CHECK,h.RedEventType.Btn_Main_Shop_LongJing),s.default.getInstance().refreshLongJingShow()}}},this.longjing_data.ProductId)},i([m],t)}(cc.Component));a.default=y,cc._RF.pop()},{"../Ads/ApkManager":"ApkManager","../GameManager":"GameManager","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../Tools/EventManager":"EventManager","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/TextLanguage":"TextLanguage","./PayManager":"PayManager"}],LongJingUi:[function(e,t,a){"use strict";cc._RF.push(t,"a4655e8K1dLb4CFBFjIBbW1","LongJingUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../thirdParty/ThirdParty"),s=e("../Tools/EventManager"),c=e("./Data/CrystalRecharge"),l=e("./LongJingItem"),g=e("./PayManager"),u=e("./TotalLongJingItem"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab_long_jing_item=null,t.prefab_total_item=null,t}return o(t,e),t.prototype.start=function(){this.adaptation(),this.initItem(),this.initTotalItem(),g.PayManager.getInstance().addTodayShow(r.PayUiIndex.LongJing),s.EventManager.postRedEvent(s.RedEventString.RED_CHECK,s.RedEventType.Btn_Main_Shop_LongJing)},t.prototype.onEnable=function(){this.refreshTotalItem()},t.prototype.adaptation=function(){var e=this.node.parent.getChildByName("bottom"),t=e.height,a=e.y,n=this.node.parent.getChildByName("top"),o=n.height,i=n.y,r=i-o-(a+t),s=i-o-r/2,c=this.node.getChildByName("scrollView");c.height=r,c.y=s,c.getChildByName("view").height=r},t.prototype.initItem=function(){var e=this,t=this.node.getChildByName("scrollView").getComponent(cc.ScrollView).content;c.CrystalRechargeManager.getInstance().getData().forEach(function(a){var n=cc.instantiate(e.prefab_long_jing_item);n.getComponent(l.default).init(a,e),t.addChild(n)})},t.prototype.initTotalItem=function(){var e=this.node.getChildByName("scrollView").getComponent(cc.ScrollView).content,t=cc.instantiate(this.prefab_total_item);e.addChild(t),this.refreshTotalItem()},t.prototype.refreshTotalItem=function(){var e=this.node.getChildByName("scrollView").getComponent(cc.ScrollView).content.getChildByName("total_item");e&&e.getComponent(u.default).init()},i([h(cc.Prefab)],t.prototype,"prefab_long_jing_item",void 0),i([h(cc.Prefab)],t.prototype,"prefab_total_item",void 0),i([d],t)}(cc.Component);a.default=f,cc._RF.pop()},{"../Tools/EventManager":"EventManager","../thirdParty/ThirdParty":"ThirdParty","./Data/CrystalRecharge":"CrystalRecharge","./LongJingItem":"LongJingItem","./PayManager":"PayManager","./TotalLongJingItem":"TotalLongJingItem"}],MainUi:[function(e,t,a){"use strict";cc._RF.push(t,"ede11DSTgVF/JBsenAQQmQg","MainUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../GameManager"),c=e("../../multiLanguage/LanguageConstants"),l=e("../../multiLanguage/LanguageManager"),g=e("../../Sound/AudioConstants"),u=e("../../multiLanguage/FollowManager"),p=e("../../multiLanguage/FollowConstants"),d=e("../../Tutorials/TutorailsManager"),h=e("../../Level/LevelManager"),f=e("../../Level/MissionLevel"),_=e("../../JsonData/OfflineRevenue"),m=e("../../JsonData/FunctionDefinition"),y=e("../UIManager"),I=e("./FuncTypeBtn"),v=e("../../GuaJi/Ui/GuaJiGift"),M=e("../UIConfig"),C=e("../../GuaJi/Ui/OfflineUi"),S=e("./ToPlayMainUi"),P=e("../../GuaJi/MapManager"),k=e("../../Level/TutorialLevel"),b=e("../../Task/TaskManager"),T=e("../../multiLanguage/TextLanguage"),B=e("../../Storage/StorageConfig"),w=e("../../Storage/StorageManager"),N=e("../.././NetWork/HttpManager"),L=e("../../Hero/Data/HeroManager"),D=e("../../UserData"),E=cc._decorator,R=E.ccclass,G=E.property,x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cur_selected_level=1,t.cur_level_name=null,t.cur_avatar=null,t.sp_level_bg=[],t.sp_boss=null,t.BigMap=null,t}return o(t,e),t.prototype.onLoad=function(){this.cur_selected_level=h.LevelManager.getInstance().finish_level+1,this.cur_selected_level>f.MissionLevelManager.getMaxLevel()&&(this.cur_selected_level=f.MissionLevelManager.getMaxLevel()),cc.director.on(c.OnLanguageChange,this.showLevelName,this),this.node.on(cc.Node.EventType.POSITION_CHANGED,this.onPositionChange,this)},t.prototype.onDestroy=function(){cc.director.off(c.OnLanguageChange,this.showLevelName,this),this.node.off(cc.Node.EventType.POSITION_CHANGED,this.onPositionChange,this)},t.prototype.onPositionChange=function(){0==this.node.x&&this.onEnable()},t.prototype.start=function(){},t.prototype.onEnable=function(){u.default.getInstance().followEvent(p.Follow_Type.\u9996\u9875\u4e3b\u754c\u9762\u5c55\u793a\u603b\u6b21\u6570),N.HttpManager.post(N.AccessName.updateUserInfo,this.getZongZhanLiJsonString()),this.refreshLeftRight(),this.refreshMainTaskUi(),s.default.getInstance().cur_game_scene,r.GameScene.home},t.prototype.refreshLeftRight=function(){this.refreshLeft(),this.refreshRight()},t.prototype.refreshLeft=function(){for(var e=this.node.getChildByName("left"),t=e.getChildByName("btns"),a=0;a<t.childrenCount;a++){var n=t.children[a].getComponent(I.default);t.children[a].active=n.refresh()}this.scheduleOnce(function(){e.height=t.height+7},.03)},t.prototype.refreshRight=function(){for(var e=this.node.getChildByName("right"),t=e.getChildByName("btns"),a=0;a<t.childrenCount;a++){var n=t.children[a].getComponent(I.default);t.children[a].active=n.refresh()}this.scheduleOnce(function(){e.height=t.height+7},.03)},t.prototype.showLevelInfo=function(){var e,t=h.LevelManager.getInstance().finish_level+1;t>f.MissionLevelManager.getMaxLevel()&&(t=f.MissionLevelManager.getMaxLevel()),e=f.MissionLevelManager.getMaxLevel()-t>3?t:f.MissionLevelManager.getMaxLevel()-3;var a,n=f.MissionLevelManager.getInstance().getChapter(t),o=f.MissionLevelManager.getInstance().getLastLevel(t),i=f.MissionLevelManager.getInstance().getLevelNum(t);a=o-i>3?i:o-3;var r=this.node.getChildByName("level"),s=r.getChildByName("titleLabel"),c=l.default.getInstance().getStrByTextId(100053).replace("~",n+"");s.getComponent(cc.Label).string=c;var g=r.getChildByName("car"),u=r.getChildByName("iconRoot");u.removeAllChildren();for(var p=1;p<=4;p++){var d=r.getChildByName("level"+p).getComponent(cc.Sprite),_=r.getChildByName("label"+p).getComponent(cc.Label),m=a+p-1;if(_.string=""+m,m!=i?(d.spriteFrame=this.sp_level_bg[1],_.fontSize=22):(d.spriteFrame=this.sp_level_bg[0],g.x=d.node.x,_.fontSize=30),f.MissionLevelManager.getInstance().getFightingInfo(e+p-1).getIsHaveBoss()){var y=new cc.Node("bossIcon");y.addComponent(cc.Sprite).spriteFrame=this.sp_boss,y.x=d.node.x,u.addChild(y)}}},t.prototype.showLevelName=function(){var e=h.LevelManager.getInstance().finish_level+1;e>f.MissionLevelManager.getMaxLevel()&&(e=f.MissionLevelManager.getMaxLevel());var t=f.MissionLevelManager.getInstance().getChapter(e),a=this.node.getChildByName("level").getChildByName("titleLabel"),n=l.default.getInstance().getStrByTextId(100053).replace("~",t+"");a.getComponent(cc.Label).string=n},t.prototype.setLevelData=function(){var e=s.default.getInstance();d.default.getInstance().is_finish_game?e.fighting_info=f.MissionLevelManager.getInstance().getFightingInfo(h.LevelManager.getInstance().start_level):(h.LevelManager.getInstance().start_level=h.LevelManager.getInstance().finish_level+1,P.default.Currentlevel=h.LevelManager.getInstance().start_level,e.fighting_info=k.TutorialLevelManager.getInstance().getFightingInfo(h.LevelManager.getInstance().start_level))},t.prototype.doUnfold=function(e){switch(e){case r.JianTou_Type.LEFT:var t=this.node.getChildByName("left");t.stopAllActions();for(var a=0,n=t.getChildByName("btns"),o=0;o<n.childrenCount;o++)n.children[o].active&&a++;var i=218+123*(a-1);cc.tween(t).to(.2,{height:i}).start();break;case r.JianTou_Type.RIGHT:var s=this.node.getChildByName("right");for(s.stopAllActions(),a=0,n=s.getChildByName("btns"),o=0;o<n.childrenCount;o++)n.children[o].active&&a++;i=218+123*(a-1),cc.tween(s).to(.2,{height:i}).start()}},t.prototype.doFolded=function(e){switch(e){case r.JianTou_Type.LEFT:var t=this.node.getChildByName("left");t.stopAllActions();var a=168;cc.tween(t).to(.1,{height:a}).start();break;case r.JianTou_Type.RIGHT:var n=this.node.getChildByName("right");n.stopAllActions(),a=168,cc.tween(n).to(.1,{height:a}).start()}},t.prototype.clickBtnFast=function(){s.default.getInstance().sound_manager.playSound(g.SoundIndex.click),u.default.getInstance().followEvent(p.Follow_Type.\u4e3b\u9875\u5feb\u901f\u6302\u673a\u6309\u94ae\u70b9\u51fb\u6b21\u6570),y.UIManager.getInstance().showUiDialog(M.UIPath.FastGuaJi,M.UILayerLevel.One,{onCompleted:function(){}})},t.prototype.clickBtnSaoDang=function(){s.default.getInstance().sound_manager.playSound(g.SoundIndex.click)},t.prototype.clickBtnStart=function(){var e=this;if(u.default.getInstance().followEvent(p.Follow_Type.\u6311\u6218\u6309\u94ae\u7684\u70b9\u51fb\u6b21\u6570),h.LevelManager.getInstance().finish_level>=f.MissionLevelManager.getMaxLevel())s.default.getInstance().showMessage(l.default.getInstance().getStrByTextId(100121),3);else if(s.default.getInstance().cur_game_mode=r.GameMode.Main,u.default.getInstance().followEvent(p.Follow_Type.\u70b9\u51fb\u5f00\u59cb\u6311\u6218\u7528\u6237\u6570),s.default.getInstance().sound_manager.playSound(g.SoundIndex.click),d.default.getInstance().is_finish_game){var t=_.OfflineRevenueManager.getInstance().getTime(h.LevelManager.getInstance().finish_level);_.OfflineRevenueManager.getGuaJiMin()>=t?y.UIManager.getInstance().showUiDialog(M.UIPath.Guaji,M.UILayerLevel.One,{onCompleted:function(t){t.getComponent(C.default).init({onRefresh:function(){e.node.getChildByName("btnOfflineGift").getComponent(v.default).cheak()}})}}):(h.LevelManager.getInstance().start_level=P.default.Currentlevel=h.LevelManager.getInstance().finish_level+1,y.UIManager.getInstance().showUiDialog(M.UIPath.ToPlay,M.UILayerLevel.One,{onCompleted:function(t){t.getComponent(S.default).init({onClose:function(){P.default.Currentlevel=h.LevelManager.getInstance().finish_level+1,e.cur_selected_level=h.LevelManager.getInstance().start_level,s.default.getInstance().refreshZhanliShow()}})}}))}else h.LevelManager.getInstance().start_level=P.default.Currentlevel=h.LevelManager.getInstance().finish_level+1,this.startGame()},t.prototype.clickBtnRabate=function(){s.default.getInstance().sound_manager.playSound(g.SoundIndex.click),m.FunctionDefinitionManager.getInstance().getIsUnlock(r.FuncType.FanLi)||s.default.getInstance().showMessage(l.default.getInstance().getString(c.LanguageIndex.UnlockAfter)+l.default.getInstance().getString(c.LanguageIndex.PlayerLv)+m.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(r.FuncType.FanLi))},t.prototype.clickBtnGift=function(){s.default.getInstance().sound_manager.playSound(g.SoundIndex.click),m.FunctionDefinitionManager.getInstance().getIsUnlock(r.FuncType.LiBao)||s.default.getInstance().showMessage(l.default.getInstance().getString(c.LanguageIndex.UnlockAfter)+l.default.getInstance().getString(c.LanguageIndex.PlayerLv)+m.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(r.FuncType.LiBao))},t.prototype.clickBtnWeekGift=function(){s.default.getInstance().sound_manager.playSound(g.SoundIndex.click),m.FunctionDefinitionManager.getInstance().getIsUnlock(r.FuncType.ZhouLiBao)||s.default.getInstance().showMessage(l.default.getInstance().getString(c.LanguageIndex.UnlockAfter)+l.default.getInstance().getString(c.LanguageIndex.PlayerLv)+m.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(r.FuncType.ZhouLiBao))},t.prototype.clickBtnMainIconMap=function(){u.default.getInstance().followEvent(p.Follow_Type.\u5927\u5730\u56fe\u6309\u94ae\u70b9\u51fb\u6b21\u6570),this.BigMap.active=!0},t.prototype.clickBtnMainIconIdle=function(){u.default.getInstance().followEvent(p.Follow_Type.\u79bb\u7ebf\u6536\u76ca\u6309\u94ae\u70b9\u51fb\u6b21\u6570),y.UIManager.getInstance().showUiDialog(M.UIPath.Guaji,M.UILayerLevel.One,{onCompleted:function(){}})},t.prototype.startGame=function(){this.setLevelData();var e=y.UIManager.getInstance().getLoadingNode();e.active=!0;var t=e.getChildByName("ProgressBar").getComponent(cc.ProgressBar),a=t.node.getChildByName("loadLabel").getComponent(cc.Label);cc.director.preloadScene(r.GameScene.game,function(e,n){var o=e/n/2;t.progress=o,a.string=(100*t.progress).toFixed(0)+"%",s.default.getInstance().cur_load_progress=o},function(){cc.director.loadScene(r.GameScene.game)})},t.prototype.refreshMainTaskUi=function(){var e=this.node.getChildByName("mainTask"),t=this.node.getChildByName("mainTaskEffect"),a=b.default.getInstance().getMainTaskData();if(null==a)return e.active=!1,void(t.active=!1);this.scheduleOnce(function(){t.height=e.height},.02);var n=w.TheStorageManager.getInstance().getNumber(B.StorageKey.TaskMainNum+a.TaskType,0);e.getChildByName("content").getComponent(T.default).setTextId(a.ThreadTaskDescription),e.getChildByName("content").getComponentInChildren(cc.Label).string=n+"/"+a.TaskParameters;var o=e.getChildByName("content");n>=a.TaskParameters?(t.active=!0,o.getChildByName("num").color=cc.color(47,255,42),w.TheStorageManager.getInstance().setItem(B.StorageKey.TaskState+a.ThreadTaskID,1),o.getComponentInChildren(cc.Label).string=a.TaskParameters+"/"+a.TaskParameters):(o.getChildByName("num").color=cc.color(255,255,255),t.active=!1),1==a.TaskType&&(e.getChildByName("content").getComponentInChildren(cc.Label).string=(n>=a.TaskParameters?1:0)+"/1");var i=e.getChildByName("reward");i.getChildByName("gemLabel").getComponent(cc.Label).string=a.PropNum_2+"",i.getChildByName("coinLabel").getComponent(cc.Label).string=a.PropNum_1+""},t.prototype.getZongZhanLiJsonString=function(){var e=D.default.getInstance().getUserID(),t=L.HeroManager.getInstance().getAllHeroZhanli();return JSON.stringify({type:1,uid:e,value:t})},i([G([cc.SpriteFrame])],t.prototype,"sp_level_bg",void 0),i([G(cc.SpriteFrame)],t.prototype,"sp_boss",void 0),i([G(cc.Node)],t.prototype,"BigMap",void 0),i([R],t)}(cc.Component);a.default=x,cc._RF.pop()},{"../.././NetWork/HttpManager":"HttpManager","../../Constants":"Constants","../../GameManager":"GameManager","../../GuaJi/MapManager":"MapManager","../../GuaJi/Ui/GuaJiGift":"GuaJiGift","../../GuaJi/Ui/OfflineUi":"OfflineUi","../../Hero/Data/HeroManager":"HeroManager","../../JsonData/FunctionDefinition":"FunctionDefinition","../../JsonData/OfflineRevenue":"OfflineRevenue","../../Level/LevelManager":"LevelManager","../../Level/MissionLevel":"MissionLevel","../../Level/TutorialLevel":"TutorialLevel","../../Sound/AudioConstants":"AudioConstants","../../Storage/StorageConfig":"StorageConfig","../../Storage/StorageManager":"StorageManager","../../Task/TaskManager":"TaskManager","../../Tutorials/TutorailsManager":"TutorailsManager","../../UserData":"UserData","../../multiLanguage/FollowConstants":"FollowConstants","../../multiLanguage/FollowManager":"FollowManager","../../multiLanguage/LanguageConstants":"LanguageConstants","../../multiLanguage/LanguageManager":"LanguageManager","../../multiLanguage/TextLanguage":"TextLanguage","../UIConfig":"UIConfig","../UIManager":"UIManager","./FuncTypeBtn":"FuncTypeBtn","./ToPlayMainUi":"ToPlayMainUi"}],MainWall:[function(e,t,a){"use strict";cc._RF.push(t,"4ae3bxC9vpNLLhOh0fKSpCi","MainWall");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Ads/ApkManager"),s=e("../Constants"),c=e("../Monster/HpProgressBar"),l=e("../GameManager"),g=e("../Tools/MyTool"),u=e("../Hero/Game/HeroConfig"),p=e("../Level/LevelManager"),d=e("../Tutorials/TutorailsManager"),h=e("../Game/BuffStateManager"),f=e("./Wall"),_=e("./WallManager"),m=e("./WallConfig"),y=e("../Game/FightingManager"),I=e("../Hero/Game/BuffData"),v=e("../Game/TouchPlane/TouchPlane"),M=cc._decorator,C=M.ccclass,S=(M.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wall_spine0=null,t.wall_spine1=null,t.cur_wall_stage=0,t.pre_wall_stage=0,t.node_injured=null,t.injured_action=null,t.node_vertigo=null,t.vertigo_action=null,t.targetX=0,t.easing=.1,t}return o(t,e),t.prototype.onLoad=function(){this.setHpChangeListen(this.onWallChangeHp.bind(this)),this.setHpShowListen(this.showWallTeXiao.bind(this)),e.prototype.setWallDieListen.call(this,this.onWallDie.bind(this));var t=cc.find("Canvas/Ui_Root/hp_root");this.hp_progress=t.getChildByName("hp").getComponent(c.default),this.shield_progress=t.getChildByName("shield").getComponent(cc.ProgressBar),this.hp_text=t.getChildByName("hpText").getComponent(cc.Label),this.shield_text=t.getChildByName("shieldText").getComponent(cc.Label),this.map_shield_value=new Map,this.map_immunity_shield_value=new Map,this.node_injured=t.parent.getChildByName("injured"),this.node_vertigo=t.parent.getChildByName("vertigo"),this.wall_spine0=this.node.getChildByName("wall0").getComponent(sp.Skeleton),this.wall_spine1=this.node.getChildByName("wall1").getComponent(sp.Skeleton),this.wall_spine0.node.active=!1,this.wall_spine1.node.active=!1,_.default.getInstance().addWall(m.WallType.Main,this),this.showHp(),this.showShildProgress(),v.instance.on(cc.Node.EventType.TOUCH_END,this.onTouchEndByJoy,this)},t.prototype.start=function(){h.default.getInstance().createBuffRoot(cc.v2(this.node.x,this.node.y+150),u.Hero_Type.Hero_Num)},t.prototype.onDestroy=function(){v.instance.off(cc.Node.EventType.TOUCH_END,this.onTouchEndByJoy,this)},t.prototype.onTouchEndByJoy=function(){this.targetX=75*(l.default.getInstance().aniType-4)},t.prototype.update=function(){if(l.default.getInstance().cur_game_state==s.GameState.Game_Playing&&this.node){var e=(this.targetX-this.node.x)*this.easing;this.node.x+=e,this.setWallRect(cc.rect(this.node.x-this.node.width/2,this.node.y-this.node.height/2,this.node.width,this.node.height)),y.default.getInstance().node.getComponent(cc.Graphics).rect(this.getWallRect().x,this.getWallRect().y,this.getWallRect().width,this.getWallRect().height)}},t.prototype.onWallDie=function(){l.default.getInstance().onWallDie()},t.prototype.startNextLevel=function(){this.resetWallTeXiao(),this.is_tutorail=!1},t.prototype.onWallChangeHp=function(e){var t=this;if(e<0&&this.showInjured(),0==d.default.getInstance().is_finish_game&&0==this.is_tutorail&&this.cur_hp<=.2*this.max_hp&&1==p.LevelManager.getInstance().start_level&&d.default.getInstance().isShowTutorials(200)){this.is_tutorail=!0;var a=new I.BuffData;a.buff_id=u.BuffId.Wall_Tutorial_Add_hp,a.buff_type=u.BuffType.Gain,a.buff_value=[.05*this.getMaxHp()],a.remain_time=10,a.recovery_jiange_time=.2,_.default.getInstance().getMainWall().addBuff(a).addDestroyListen(function(){t.is_tutorail=!1})}return!0},t.prototype.showInjured=function(){this.injured_action&&this.injured_action.stop(),this.node_injured.opacity=255,this.injured_action=cc.tween(this.node_injured).to(.5,{opacity:0}).start()},t.prototype.hideInjured=function(){this.injured_action&&this.injured_action.stop(),cc.tween(this.node_injured).to(.2,{opacity:0}).start()},t.prototype.showVertigo=function(e){this.node_vertigo.active=!0,this.vertigo_action&&this.vertigo_action.stop(),this.node_vertigo.opacity=255,this.vertigo_action=cc.tween(this.node_vertigo).to(e,{opacity:0}).start()},t.prototype.hideVertigo=function(){this.vertigo_action&&this.vertigo_action.stop(),cc.tween(this.node_vertigo).to(.5,{opacity:0}).start()},t.prototype.showWallTeXiao=function(){this.pre_wall_stage=this.cur_wall_stage,this.hp_progress.progress>=0&&this.hp_progress.progress<.25?this.cur_wall_stage=3:this.hp_progress.progress>=.25&&this.hp_progress.progress<.5?this.cur_wall_stage=2:this.hp_progress.progress>=.5&&this.hp_progress.progress<.75?this.cur_wall_stage=1:this.hp_progress.progress>=.75&&(this.cur_wall_stage=0),this.cur_wall_stage!=this.pre_wall_stage&&(g.default.randomSceneShakeSmall(),r.default.getInstance().beVibrate(300),this.cur_wall_stage>0?(this.wall_spine0.setAnimation(0,"Hurt"+this.cur_wall_stage+"_2",!0),this.wall_spine0.node.active=!0,this.cur_wall_stage>1?(this.wall_spine1.setAnimation(0,"Hurt"+this.cur_wall_stage+"_1",!0),this.wall_spine1.node.active=!0):this.wall_spine1.node.active=!1):this.wall_spine0.node.active=!1)},t.prototype.resetWallTeXiao=function(){this.pre_wall_stage=this.cur_wall_stage=0,this.wall_spine0&&(this.wall_spine0.node.active=!1),this.wall_spine1&&(this.wall_spine1.node.active=!1)},i([C],t)}(f.default));a.default=S,cc._RF.pop()},{"../Ads/ApkManager":"ApkManager","../Constants":"Constants","../Game/BuffStateManager":"BuffStateManager","../Game/FightingManager":"FightingManager","../Game/TouchPlane/TouchPlane":"TouchPlane","../GameManager":"GameManager","../Hero/Game/BuffData":"BuffData","../Hero/Game/HeroConfig":"HeroConfig","../Level/LevelManager":"LevelManager","../Monster/HpProgressBar":"HpProgressBar","../Tools/MyTool":"MyTool","../Tutorials/TutorailsManager":"TutorailsManager","./Wall":"Wall","./WallConfig":"WallConfig","./WallManager":"WallManager"}],ManTeng:[function(e,t,a){"use strict";cc._RF.push(t,"b7513VQGa9DVIWtmbBrFSlF","ManTeng");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Constants"),s=e("../../../Game/GameEffectsManager"),c=e("../../../GameManager"),l=e("../../../Monster/Monster"),g=e("../GongJi"),u=cc._decorator,p=u.ccclass,d=(u.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(e){this.initData(e)},t.prototype.onCollisionEnter=function(e){if(c.default.getInstance().cur_game_state!=r.GameState.Game_Lose)switch(e.node.group){case"enemy":var t=e.node.getComponent(l.default);t&&t.beFlashInjured(this.gongji_data).getDamageNum()>0&&s.GameEffectsManager.getInstance().createGameEffectById(s.GameEffectId.deluyi_att_hit,t.getJuJiPos())}},i([p],t)}(g.default));a.default=d,cc._RF.pop()},{"../../../Constants":"Constants","../../../Game/GameEffectsManager":"GameEffectsManager","../../../GameManager":"GameManager","../../../Monster/Monster":"Monster","../GongJi":"GongJi"}],MapManager:[function(e,t,a){"use strict";cc._RF.push(t,"de5a4hoPNZCdZ28HLGZMjJC","MapManager");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Level/LevelManager"),s=e("../Level/MissionLevel"),c=e("./levelnode"),l=cc._decorator,g=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.levelnode=null,t.levelpanten=null,t.levelarr=[],t.bjarr=[],t.bjarr1=[],t.bjarr2=[],t.Main_Bg=null,t.Main_Bg_Level_2=null,t.Main_Bg_Level_1=null,t.ChallengeRoundPop=null,t.WarChariot=null,t.shan=[],t.shu=[],t.caodi=[],t.cao=[],t}var a;return o(t,e),a=t,t.prototype.start=function(){a.ChallengeRoundPops=this.ChallengeRoundPop,this.instantiatelevelnode()},t.getInstance=function(){return this._instance},t.prototype.onLoad=function(){a._instance=this},t.prototype.instantiatelevelnode=function(){var e=r.LevelManager.getInstance().finish_level+1,t=e;e>=s.MissionLevelManager.getMaxLevel()&&(t=s.MissionLevelManager.getMaxLevel()),0==a.Currentlevel||(t=a.Currentlevel);var n=s.MissionLevelManager.getInstance().getChapter(t);this.Main_Bg.getComponent(cc.Sprite).spriteFrame=this.bjarr[n-1],this.Main_Bg_Level_2.getComponent(cc.Sprite).spriteFrame=this.bjarr2[n-1],this.Main_Bg_Level_1.getComponent(cc.Sprite).spriteFrame=this.bjarr1[n-1],this.WarChariot.getComponent(sp.Skeleton).setSkin("WarChariot_"+n);for(var o=0;o<this.shan.length;o++)this.shan[o].getComponent(cc.Sprite).spriteFrame=r.LevelManager.getInstance().maininterfacemap.get("Home_Chapter"+n+"_0");for(var i=0;i<this.caodi.length;i++)this.caodi[i].getComponent(cc.Sprite).spriteFrame=r.LevelManager.getInstance().maininterfacemap.get("Home_Chapter"+n+"_1");for(var l=0;l<this.shu.length;l++)this.shu[l].getComponent(cc.Sprite).spriteFrame=r.LevelManager.getInstance().maininterfacemap.get("Home_Chapter"+n+"_2");for(var g=0;g<this.cao.length;g++)this.cao[g].getComponent(cc.Sprite).spriteFrame=r.LevelManager.getInstance().maininterfacemap.get("Home_Chapter"+n+"_3");for(var u=this.levelarr.length;u<=s.MissionLevelManager.getInstance().getJsonLevelchapterLength(n);u++){var p=cc.instantiate(this.levelnode);p.parent=this.levelpanten,this.levelarr.push(p)}for(var d=0;d<this.levelarr.length;d++)if(d<s.MissionLevelManager.getInstance().getJsonLevelchapterLength(n)){var h=s.MissionLevelManager.getInstance().getJsonLevelchapterwholeLength(n)+d+1;this.levelarr[d].getComponent(c.default).init(h),this.levelarr[d].active=!0}else this.levelarr[d].active=!1},t.prototype.OnxiayizhangBtn=function(){a.Currentlevel+=1,a.Currentlevel>=35&&(a.Currentlevel=1),this.instantiatelevelnode()},t._instance=null,t.Currentlevel=0,t.ChallengeRoundPops=null,i([u(cc.Prefab)],t.prototype,"levelnode",void 0),i([u(cc.Node)],t.prototype,"levelpanten",void 0),i([u(cc.SpriteFrame)],t.prototype,"bjarr",void 0),i([u(cc.SpriteFrame)],t.prototype,"bjarr1",void 0),i([u(cc.SpriteFrame)],t.prototype,"bjarr2",void 0),i([u(cc.Node)],t.prototype,"Main_Bg",void 0),i([u(cc.Node)],t.prototype,"Main_Bg_Level_2",void 0),i([u(cc.Node)],t.prototype,"Main_Bg_Level_1",void 0),i([u(cc.Node)],t.prototype,"ChallengeRoundPop",void 0),i([u(cc.Node)],t.prototype,"WarChariot",void 0),i([u(cc.Node)],t.prototype,"shan",void 0),i([u(cc.Node)],t.prototype,"shu",void 0),i([u(cc.Node)],t.prototype,"caodi",void 0),i([u(cc.Node)],t.prototype,"cao",void 0),a=i([g],t)}(cc.Component);a.default=p,cc._RF.pop()},{"../Level/LevelManager":"LevelManager","../Level/MissionLevel":"MissionLevel","./levelnode":"levelnode"}],MapNodePool:[function(e,t,a){"use strict";cc._RF.push(t,"54330JA0RBGAaZq3UZtwyGu","MapNodePool");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.map_node_pools=null,t.map_prefabs=null,t.preload_id=[],t}return o(t,e),t.prototype.onLoad=function(){this.map_node_pools=new Map,this.map_prefabs=new Map,this.preload_id=new Array},t.prototype.addNodePool=function(e,t,a,n){var o=this;return this.map_node_pools.has(e)?(n&&n(),!1):!this.preload_id.includes(e)&&(this.preload_id.push(e),cc.resources.load(t,cc.Prefab,function(t,i){if(t)console.log(t);else{o.map_prefabs.set(e,i);for(var r=new cc.NodePool,s=0;s<a;++s){var c=cc.instantiate(i);r.put(c),o.map_node_pools.set(e,r)}n&&n(r.get())}}),!0)},t.prototype.getNodeById=function(e){var t=null,a=this.map_node_pools.get(e);return a&&(t=a.size()>0?a.get():cc.instantiate(this.map_prefabs.get(e))),t},t.prototype.destroyNode=function(e,t){var a=this.map_node_pools.get(e);a&&a.put(t)},t.prototype.onDestroy=function(){this.map_node_pools&&(this.map_node_pools.forEach(function(e){e.clear()}),this.map_node_pools=null),this.map_prefabs&&(this.map_prefabs=null),this.preload_id&&(this.preload_id=null)},i([s],t)}(cc.Component));a.default=c,cc._RF.pop()},{}],MazeBagUi:[function(e,t,a){"use strict";cc._RF.push(t,"ae66fuwg99E/JWNRLjsOQ8c","MazeBagUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../GameManager"),s=e("../multiLanguage/LanguageManager"),c=e("../Sound/AudioConstants"),l=e("../UI/UIComponent"),g=e("./MazeBuffItem"),u=e("./MazeManager"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab_buff_item=null,t}return o(t,e),t.prototype.start=function(){this.initUi()},t.prototype.initUi=function(){var e=u.MazeManager.getInstance().getBuffList(),t=this.node.getChildByName("hint");t.getChildByName("label").getComponent(cc.Label).string=s.default.getInstance().getStrByTextId(830021),this.node.getChildByName("detailLabel").getComponent(cc.Label).string=s.default.getInstance().getStrByTextId(830022);var a=this.node.getChildByName("scrollView").getComponent(cc.ScrollView).content,n=e.length;t.active=0==n;for(var o=0;o<n;o++){var i=e[o],r=cc.instantiate(this.prefab_buff_item);r.getComponent(g.default).init(i),a.addChild(r)}},t.prototype.clickBtnYes=function(){r.default.getInstance().sound_manager.playSound(c.SoundIndex.click),e.prototype.onClose.call(this)},t.prototype.clickBtnNo=function(){r.default.getInstance().sound_manager.playSound(c.SoundIndex.click),e.prototype.onClose.call(this)},i([h(cc.Prefab)],t.prototype,"prefab_buff_item",void 0),i([d],t)}(l.default);a.default=f,cc._RF.pop()},{"../GameManager":"GameManager","../Sound/AudioConstants":"AudioConstants","../UI/UIComponent":"UIComponent","../multiLanguage/LanguageManager":"LanguageManager","./MazeBuffItem":"MazeBuffItem","./MazeManager":"MazeManager"}],MazeBox:[function(e,t,a){"use strict";cc._RF.push(t,"8ee03oVEZRObqLYhSsRjNKs","MazeBox");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r,s=e("../GameManager"),c=e("../Sound/AudioConstants"),l=e("../UI/UIManager"),g=e("../copy/voidcrack/RogueHexagonTypes"),u=e("./MazeManager"),p=e("./MazeUi");(function(e){e[e.Up=1]="Up",e[e.Down=2]="Down"})(r||(r={}));var d=cc._decorator,h=d.ccclass,f=d.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon_event_type=[],t.box_id=10011,t.row=0,t.column=0,t.float_speed=10,t.center_pos_y=0,t.cur_float_dir=r.Up,t.top_yy=0,t.bottom_yy=0,t}var a;return o(t,e),a=t,t.prototype.init=function(e,t,a){this.row=e,this.column=t,this.float_speed=6*Math.random()/4+1.5,this.center_pos_y=this.node.y,this.node.y=this.center_pos_y+6*Math.random()-3,this.top_yy=this.center_pos_y+3,this.bottom_yy=this.center_pos_y-3,this.cur_float_dir=Math.random()>.5?r.Up:r.Down,this.box_id=a},t.prototype.refreshBox=function(){var e=this.node.getComponent(cc.Button),t=this.node.getChildByName("shadow"),n=g.RogueHexagonTypesManager.getInstance().getJsonRogueHexagonTypes(this.box_id),o=u.MazeManager.getInstance().getMazePassedIds(),i=o[o.length-1],r=g.RogueHexagonTypesManager.getInstance().getJsonRogueHexagonTypes(i),s=this.node.parent.getChildByName(""+i).getComponent(a),c=g.RogueHexagonTypesManager.getInstance().getJsonRogueHexagonTypes(u.MazeManager.getInstance().getFightingId()),l=this.node.parent.getChildByName(""+c.Hexagon_ID).getComponent(a),d=this.node.getChildByName("icon");d.getComponent(cc.Sprite).spriteFrame=this.icon_event_type[n.HexagonType],this.row<=s.row?(e.interactable=!1,d.active=!1,o.includes(n.Hexagon_ID)||(this.node.active=!1)):this.row>s.row&&(this.row-s.row<=2?this.row-s.row<=1?u.MazeManager.getInstance().checkAdjacent(s.row,s.column,this.row,this.column,s.row%2==0)?(e.interactable=!0,d.active=!0):(e.interactable=!1,d.active=!1,this.node.active=!1):(e.interactable=!0,d.active=!0):1==n.HexagonType||2==n.HexagonType||6==n.HexagonType?(e.interactable=!1,d.active=!1):(e.interactable=!0,d.active=!0)),this.row==l.row&&(n.Hexagon_ID==c.Hexagon_ID?(e.interactable=!0,d.active=!0,n.Hexagon_ID!=r.Hexagon_ID&&p.default.getInstance().showArrow(this.node)):(e.interactable=!1,d.active=!1,this.node.active=!1)),n.Hexagon_ID==r.Hexagon_ID&&(e.interactable=!1,d.active=!0,d.getComponent(cc.Sprite).spriteFrame=this.icon_event_type[0]),t.active=d.active},t.prototype.onClick=function(){var e=this;cc.log(this.box_id),s.default.getInstance().sound_manager.playSound(c.SoundIndex.click);var t=u.MazeManager.getInstance().getMazePassedIds(),n=t[t.length-1],o=g.RogueHexagonTypesManager.getInstance().getJsonRogueHexagonTypes(this.box_id),i=this.node.parent.getChildByName(""+n).getComponent(a),r=u.MazeManager.getInstance().checkAdjacent(i.row,i.column,this.row,this.column,i.row%2==0);switch(o.HexagonType){case 1:case 2:case 6:u.MazeManager.getInstance().getPassingId()==this.box_id?l.UIManager.getInstance().showMazeBuffUi(null,this.box_id,r):l.UIManager.getInstance().showMazeFightingUi(null,this.box_id,r);break;case 3:l.UIManager.getInstance().showMazeLeaseUi({onRefresh:function(){u.MazeManager.getInstance().addMazePassedId(e.box_id),u.MazeManager.getInstance().setFightingId(e.box_id),p.default.getInstance().refreshFloor()}},this.box_id,r);break;case 4:l.UIManager.getInstance().showMazeShopUi(null,this.box_id,r);break;case 5:l.UIManager.getInstance().showMazeHealingPotionUi(null,this.box_id,r)}},t.prototype.update=function(e){switch(this.cur_float_dir){case r.Up:this.node.y+=e*this.float_speed,this.node.y>this.top_yy&&(this.cur_float_dir=r.Down);break;case r.Down:this.node.y-=e*this.float_speed,this.node.y<this.bottom_yy&&(this.cur_float_dir=r.Up)}},i([f([cc.SpriteFrame])],t.prototype,"icon_event_type",void 0),a=i([h],t)}(cc.Component);a.default=_,cc._RF.pop()},{"../GameManager":"GameManager","../Sound/AudioConstants":"AudioConstants","../UI/UIManager":"UIManager","../copy/voidcrack/RogueHexagonTypes":"RogueHexagonTypes","./MazeManager":"MazeManager","./MazeUi":"MazeUi"}],MazeBuffItem:[function(e,t,a){"use strict";cc._RF.push(t,"8578eBtcbtHt7v4WZ+zJMWu","MazeBuffItem");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../GameManager"),s=e("../multiLanguage/LanguageManager"),c=e("../Sound/AudioConstants"),l=e("../UI/UIManager"),g=e("./Data/RogueBuff"),u=e("./MazeUi"),p=cc._decorator,d=p.ccclass,h=(p.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buff_id=1001,t}return o(t,e),t.prototype.init=function(e){this.buff_id=e,this.refreshBuff()},t.prototype.refreshBuff=function(){var e=g.RogueBuffManager.getInstance(),t=s.default.getInstance(),a=e.getRogueBuff_Quality(this.buff_id),n=e.getJsonRogueBuff(this.buff_id),o=this.node.getChildByName("titleLabel").getComponent(cc.Label);o.string=t.getStrByTextId(n.RogueBuff_Name),o.node.color=this.getFontColorByQuality(a),this.node.getChildByName("detailLabel").getComponent(cc.Label).string=this.getValueStringByString(t.getStrByTextId(n.RogueBuffText_ID),n.RogueBuff1_Value,n.RogueBuff2_Value,n.RogueBuff3_Value),this.node.getChildByName("quality").getComponent(cc.Sprite).spriteFrame=u.default.getInstance().getSpByName("Maze_Quality_"+(a-1));var i=this.node.getChildByName("qualityLabel").getComponent(cc.Label);i.string=this.getStringByQuality(a),i.node.color=this.getFontColorByQuality(a),this.node.getChildByName("detailLabel").getComponent(cc.Label).string=this.getValueStringByString(t.getStrByTextId(n.RogueBuffText_ID),n.RogueBuff1_Value,n.RogueBuff2_Value,n.RogueBuff3_Value),this.node.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=u.default.getInstance().getSpByName("Maze_Buff_Icon_"+n.RogueBuff_Type)},t.prototype.getValueStringByString=function(e,t,a){e.includes("~x%")&&(t*=100),e.includes("~y%")&&(a*=100),e.includes("~z%");var n=e.replace("~x",t.toFixed(0));return(n=n.replace("~y",a.toFixed(0))).replace("~z",a.toFixed(0))},t.prototype.getFontColorByQuality=function(e){var t=cc.Color.BLUE;switch(e){case 1:t=cc.color(105,183,255);break;case 2:t=cc.color(226,126,255);break;case 3:t=cc.color(255,193,74)}return t},t.prototype.getOutLineColorByQuality=function(e){var t=cc.Color.BLUE;switch(e){case 1:case 2:t=cc.color(37,49,71);break;case 3:t=cc.color(105,183,255)}return t},t.prototype.getStringByQuality=function(e){return s.default.getInstance().getStrByTextId(110005+2*e)},t.prototype.onClick=function(){r.default.getInstance().sound_manager.playSound(c.SoundIndex.YX_ChoseBuff),l.UIManager.getInstance().showMazeBuffInfo(this.buff_id)},i([d],t)}(cc.Component));a.default=h,cc._RF.pop()},{"../GameManager":"GameManager","../Sound/AudioConstants":"AudioConstants","../UI/UIManager":"UIManager","../multiLanguage/LanguageManager":"LanguageManager","./Data/RogueBuff":"RogueBuff","./MazeUi":"MazeUi"}],MazeBuffUi:[function(e,t,a){"use strict";cc._RF.push(t,"79cb24fjchJv4l8KahC/5Fo","MazeBuffUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../GameManager"),s=e("../Monster/MonsterIconManager"),c=e("../multiLanguage/FollowConstants"),l=e("../multiLanguage/FollowManager"),g=e("../multiLanguage/LanguageManager"),u=e("../Sound/AudioConstants"),p=e("../Tools/MyTool"),d=e("../UI/UIComponent"),h=e("./Data/RogueBuff"),f=e("../copy/voidcrack/RogueHexagonTypes"),_=e("./MazeManager"),m=e("./MazeUi"),y=cc._decorator,I=y.ccclass,v=y.property,M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.box_id=10032,t.prefab_buff_item=null,t.cur_select_buff=0,t.is_can_go=!1,t}return o(t,e),t.prototype.initData=function(e,t){this.box_id=e,this.is_can_go=t,this.initUi()},t.prototype.initUi=function(){0==_.MazeManager.getInstance().getUnSelectSpoils().length&&this.initBuffCards(),this.createBuffCards(),this.refreshSelect(),l.default.getInstance().followEvent(c.Follow_Type.rogue\u73a9\u6cd5\u67e5\u770b\u6218\u5229\u54c1)},t.prototype.createBuffCards=function(){for(var e=h.RogueBuffManager.getInstance(),t=g.default.getInstance(),a=_.MazeManager.getInstance().getUnSelectSpoils(),n=1;n<=3;n++){var o=a[n-1],i=this.node.getChildByName("buff"+n),r=e.getJsonRogueBuff(o),s=r.RogueBuff_Quality,c=i.getChildByName("titleLabel").getComponent(cc.Label);c.string=t.getStrByTextId(r.RogueBuff_Name),c.node.color=this.getFontColorByQuality(s),i.getChildByName("detailLabel").getComponent(cc.Label).string=this.getValueStringByString(t.getStrByTextId(r.RogueBuffText_ID),r.RogueBuff1_Value,r.RogueBuff2_Value,r.RogueBuff3_Value),i.getChildByName("quality").getComponent(cc.Sprite).spriteFrame=m.default.getInstance().getSpByName("Maze_Quality_"+(s-1));var l=i.getChildByName("qualityLabel").getComponent(cc.Label);l.string=this.getStringByQuality(s),l.node.color=this.getFontColorByQuality(s),i.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=m.default.getInstance().getSpByName("Maze_Buff_Icon_"+r.RogueBuff_Type)}},t.prototype.initBuffCards=function(){var e=[70,20,10];switch(f.RogueHexagonTypesManager.getInstance().getHexagonType(this.box_id)){case 1:e=[70,20,10];break;case 2:e=[40,40,20];break;case 6:e=[0,30,70]}for(var t=h.RogueBuffManager.getInstance().getBuffArr(_.MazeManager.getInstance().getBuffList()),a=t.length-1;a>=0;a--)0==t[a].length&&(e[a>0?a-1:a+1]+=e[a],e[a]=0);for(var n=new Array,o=1;o<=3;o++){var i=t[p.default.getWeightIndexs(e,1)[0]],r=Math.floor(Math.random()*i.length),s=i[r];for(i.splice(r,1),n.push(s),a=t.length-1;a>=0;a--)0==t[a].length&&(e[a>0?a-1:a+1]+=e[a],e[a]=0)}_.MazeManager.getInstance().setUnSelectSpoils(n)},t.prototype.refreshSelect=function(){for(var e=1;e<=3;e++){var t=this.node.getChildByName("buff"+e),a=t.getChildByName("mb"),n=this.cur_select_buff==e;a.active=!n,t.scale=n?1:.8,t.getComponent(cc.Button).interactable=!n}var o=this.node.getChildByName("btnSelect"),i=this.node.getChildByName("selectBg"),r=this.cur_select_buff>0;o.active=r,i.active=r;var s=206*this.cur_select_buff-412-7;o.x=s,i.x=s,r&&i.getComponent(sp.Skeleton).setAnimation(0,"Rouge_Card",!1)},t.prototype.getValueStringByString=function(e,t,a){e.includes("~x%")&&(t*=100),e.includes("~y%")&&(a*=100),e.includes("~z%");var n=e.replace("~x",t.toFixed(0));return(n=n.replace("~y",a.toFixed(0))).replace("~z",a.toFixed(0))},t.prototype.getFontColorByQuality=function(e){var t=cc.Color.BLUE;switch(e){case 1:t=cc.color(105,183,255);break;case 2:t=cc.color(226,126,255);break;case 3:t=cc.color(255,193,74)}return t},t.prototype.getOutLineColorByQuality=function(e){var t=cc.Color.BLUE;switch(e){case 1:case 2:t=cc.color(37,49,71);break;case 3:t=cc.color(105,183,255)}return t},t.prototype.getStringByQuality=function(e){return g.default.getInstance().getStrByTextId(110005+2*e)},t.prototype.initMonsterList=function(){var e=this.node.getChildByName("monsterScrollView").getComponent(cc.ScrollView).content;_.MazeManager.getInstance().getFightingInfo().getOnlyMonsterDataList().forEach(function(t){var a=s.MonsterIconManager.getInstance().createMonsterIcon(t.id,t.level);e.addChild(a)})},t.prototype.clickBtnBuff=function(e,t){r.default.getInstance().sound_manager.playSound(u.SoundIndex.click);var a=parseInt(t);this.cur_select_buff!=a&&(this.cur_select_buff=a,this.refreshSelect())},t.prototype.clickBtnYes=function(){r.default.getInstance().sound_manager.playSound(u.SoundIndex.click);var t=_.MazeManager.getInstance().getUnSelectSpoils()[this.cur_select_buff-1];t&&(_.MazeManager.getInstance().checkBuffStage([2001,2002,2003,6001,6002,6003]),_.MazeManager.getInstance().addBuff(t),_.MazeManager.getInstance().setUnSelectSpoils(new Array),_.MazeManager.getInstance().addMazePassedId(this.box_id),m.default.getInstance().refreshFloor(),e.prototype.onClose.call(this))},t.prototype.clickBtnNo=function(){r.default.getInstance().sound_manager.playSound(u.SoundIndex.click),e.prototype.onClose.call(this)},i([v(cc.Prefab)],t.prototype,"prefab_buff_item",void 0),i([I],t)}(d.default);a.default=M,cc._RF.pop()},{"../GameManager":"GameManager","../Monster/MonsterIconManager":"MonsterIconManager","../Sound/AudioConstants":"AudioConstants","../Tools/MyTool":"MyTool","../UI/UIComponent":"UIComponent","../copy/voidcrack/RogueHexagonTypes":"RogueHexagonTypes","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/LanguageManager":"LanguageManager","./Data/RogueBuff":"RogueBuff","./MazeManager":"MazeManager","./MazeUi":"MazeUi"}],MazeDoor:[function(e,t,a){"use strict";cc._RF.push(t,"e1cfbc6AlVGwbxeKxzQiIca","MazeDoor");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../GameManager"),s=e("../Sound/AudioConstants"),c=e("../UI/UIManager"),l=cc._decorator,g=l.ccclass,u=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onClick=function(){r.default.getInstance().sound_manager.playSound(s.SoundIndex.click),c.UIManager.getInstance().showMazeSendDoorUi()},i([g],t)}(cc.Component));a.default=u,cc._RF.pop()},{"../GameManager":"GameManager","../Sound/AudioConstants":"AudioConstants","../UI/UIManager":"UIManager"}],MazeFightingUi:[function(e,t,a){"use strict";cc._RF.push(t,"2f8b1r3U29J645d6vKN4e3t","MazeFightingUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../GameManager"),s=e("../Monster/Data/MonsterConfigure"),c=e("../Monster/MonsterIconManager"),l=e("../multiLanguage/FollowConstants"),g=e("../multiLanguage/FollowManager"),u=e("../multiLanguage/LanguageManager"),p=e("../Prop/PropManager"),d=e("../Sound/AudioConstants"),h=e("../UI/home/ToPlayMainUi"),f=e("../UI/UIComponent"),_=e("../UI/UIConfig"),m=e("../UI/UIManager"),y=e("../copy/voidcrack/RogueHexagonTypes"),I=e("./Data/RogueReward"),v=e("./Data/RogueText"),M=e("./MazeManager"),C=e("./MazeUi"),S=cc._decorator,P=S.ccclass,k=S.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.box_id=10032,t.sp_icon=[],t.is_can_go=!1,t}return o(t,e),t.prototype.initData=function(e,t){this.box_id=e,this.is_can_go=t,this.initUi()},t.prototype.initUi=function(){this.node.getChildByName("btnYes").active=this.is_can_go;var e=y.RogueHexagonTypesManager.getInstance().getHexagonType(this.box_id),t=v.RogueTextManager.getInstance().getJsonRogueText(e);this.node.getChildByName("titleLabel").getComponent(cc.Label).string=u.default.getInstance().getStrByTextId(t.Roguetitle_ID);var a=0;switch(e){case 1:a=0;break;case 2:a=1;break;case 6:a=2}this.node.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.sp_icon[a],this.initItemList(),this.initMonsterList()},t.prototype.initItemList=function(){for(var e=I.RogueRewardManager.getInstance().getRewardDatas(this.box_id),t=this.node.getChildByName("rewardsScrollView").getComponent(cc.ScrollView).content,a=0;a<e.length;a++){var n=e[a],o=p.PropManager.getInstance().createPropItem(n.reward_id,n.reward_num);t.addChild(o)}},t.prototype.initMonsterList=function(){var e=this.node.getChildByName("monsterScrollView").getComponent(cc.ScrollView).content,t=M.MazeManager.getInstance().getFightingInfo(this.box_id).getOnlyMonsterDataList();t.sort(function(e,t){var a=s.MonsterConfigureManager.getInstance().getStrengthType(e.id);return s.MonsterConfigureManager.getInstance().getStrengthType(t.id)-a}),t.forEach(function(t){var a=c.MonsterIconManager.getInstance().createMonsterIcon(t.id,t.level);a.anchorY=0,e.addChild(a)})},t.prototype.clickBtnYes=function(){r.default.getInstance().sound_manager.playSound(d.SoundIndex.click),this.is_can_go&&(M.MazeManager.getInstance().getMazeHp()>0?M.MazeManager.getInstance().getFightingId()!=this.box_id?(g.default.getInstance().followEvent(l.Follow_Type.rogue\u73a9\u6cd5\u6218\u6597\u4e8b\u4ef6),M.MazeManager.getInstance().setFightingId(this.box_id),C.default.getInstance().refreshFloor(),m.UIManager.getInstance().showUiDialog(_.UIPath.ToPlay,_.UILayerLevel.One,{onCompleted:function(e){e.getComponent(h.default).init({onRefresh:function(){C.default.getInstance().node.removeFromParent()}})}})):m.UIManager.getInstance().showUiDialog(_.UIPath.ToPlay,_.UILayerLevel.One,{onCompleted:function(e){e.getComponent(h.default).init({onRefresh:function(){C.default.getInstance().node.removeFromParent()}})}}):r.default.getInstance().showMessage(u.default.getInstance().getStrByTextId(830024))),e.prototype.onClose.call(this)},t.prototype.clickBtnNo=function(){r.default.getInstance().sound_manager.playSound(d.SoundIndex.click),e.prototype.onClose.call(this)},i([k([cc.SpriteFrame])],t.prototype,"sp_icon",void 0),i([P],t)}(f.default);a.default=b,cc._RF.pop()},{"../GameManager":"GameManager","../Monster/Data/MonsterConfigure":"MonsterConfigure","../Monster/MonsterIconManager":"MonsterIconManager","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../UI/UIComponent":"UIComponent","../UI/UIConfig":"UIConfig","../UI/UIManager":"UIManager","../UI/home/ToPlayMainUi":"ToPlayMainUi","../copy/voidcrack/RogueHexagonTypes":"RogueHexagonTypes","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/LanguageManager":"LanguageManager","./Data/RogueReward":"RogueReward","./Data/RogueText":"RogueText","./MazeManager":"MazeManager","./MazeUi":"MazeUi"}],MazeLeaseUi:[function(e,t,a){"use strict";cc._RF.push(t,"4462cwAHSJFnbjUohqkH2uJ","MazeLeaseUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../GameManager"),s=e("../Level/LevelManager"),c=e("../multiLanguage/FollowConstants"),l=e("../multiLanguage/FollowManager"),g=e("../multiLanguage/LanguageManager"),u=e("../Pet/PetConfig"),p=e("../Sound/AudioConstants"),d=e("../Tools/MyTool"),h=e("../UI/UIComponent"),f=e("./Data/RoguePetsLease"),_=e("./MazeManager"),m=e("./MazePetItem"),y=cc._decorator,I=y.ccclass,v=y.property,M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pet_item=null,t.box_id=10011,t.select_index=-1,t.is_can_go=!1,t.pet_list=[],t}return o(t,e),t.prototype.initData=function(e,t){this.box_id=e,this.is_can_go=t,this.initUi()},t.prototype.initUi=function(){var e=[];e.sort(function(e,t){return t.pet_level-e.pet_level});var t=0,a=0,n=e.length;if(!(n<=0)){for(var o=0;o<n&&o<4;o++)t+=e[o].pet_level,a++;var i=Math.round(t/a),r=_.MazeManager.getInstance().getRandPetList(this.box_id);r.length>0?this.useOldList(r,i):this.initPetList(i),this.node.getChildByName("btnYes").active=this.is_can_go}},t.prototype.initPetList=function(e){for(var t=f.RoguePetsLeaseManager.getInstance().getJsonRoguePetsLease(s.LevelManager.getInstance().getFinishChapter()),a=this.node.getChildByName("list"),n=d.default.getWeightIndexs(t.PetsWeight,4),o=0;o<4;o++){var i=cc.instantiate(this.pet_item);a.addChild(i);var r=new u.PetInfo;r.pet_level=e,r.pet_id=t.PetsLeaseID[n[o]],r.pet_quality=t.PetsQuality[n[o]],r.sequence_id=(new Date).getTime()/1e3*10+o,r.lease_type=u.LeaseType.Maze,this.pet_list.push(r),i.getComponent(m.default).init(r,o,this)}_.MazeManager.getInstance().setRandPetList(this.box_id,this.pet_list)},t.prototype.useOldList=function(e,t){var a=this.node.getChildByName("list");this.pet_list=e;for(var n=0;n<e.length;n++){var o=cc.instantiate(this.pet_item);a.addChild(o);var i=e[n];i.pet_level=t,o.getComponent(m.default).init(i,n,this)}},t.prototype.clickBtnItem=function(e){r.default.getInstance().sound_manager.playSound(p.SoundIndex.click),this.select_index==e?this.select_index=-1:this.select_index=e,this.refreshAllItem()},t.prototype.refreshAllItem=function(){for(var e=this.node.getChildByName("list"),t=0;t<e.childrenCount;t++)e.children[t].getComponent(m.default).refresh(this.select_index==t)},t.prototype.clickBtnOk=function(){this.is_can_go&&(this.select_index>=0?(_.MazeManager.getInstance().addLeasePetList(this.pet_list[this.select_index]),e.prototype.onRefresh.call(this),e.prototype.onClose.call(this),l.default.getInstance().followEvent(c.Follow_Type.rogue\u73a9\u6cd5\u83b7\u5f97\u5ba0\u7269\u4e8b\u4ef6)):r.default.getInstance().showMessage(g.default.getInstance().getStrByTextId(830023)))},i([v(cc.Prefab)],t.prototype,"pet_item",void 0),i([I],t)}(h.default);a.default=M,cc._RF.pop()},{"../GameManager":"GameManager","../Level/LevelManager":"LevelManager","../Pet/PetConfig":"PetConfig","../Sound/AudioConstants":"AudioConstants","../Tools/MyTool":"MyTool","../UI/UIComponent":"UIComponent","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/LanguageManager":"LanguageManager","./Data/RoguePetsLease":"RoguePetsLease","./MazeManager":"MazeManager","./MazePetItem":"MazePetItem"}],MazeManager:[function(e,t,a){"use strict";cc._RF.push(t,"74f26nB3IhOEIlPPsqnOlbu","MazeManager"),Object.defineProperty(a,"__esModule",{value:!0}),a.MazeManager=a.MazeFightingData=void 0;var n=e("../Constants"),o=e("../Hero/Data/HeroManager"),i=e("../Hero/Game/HeroConfig"),r=e("../Level/MissionLevel"),s=e("../multiLanguage/FollowConstants"),c=e("../multiLanguage/FollowManager"),l=e("../multiLanguage/LanguageManager"),g=e("../Pet/PetConfig"),u=e("../Storage/StorageConfig"),p=e("../Storage/StorageManager"),d=e("./Data/MazeRoad"),h=e("./Data/RogueBuff"),f=e("./Data/RogueConfiguration"),_=e("../copy/voidcrack/RogueHexagonTypes"),m=e("./Data/RogueReward"),y=e("./Data/RogueText"),I=e("../copy/voidcrack/RogueLevel"),v=e("../Monster/Data/MonsterGroupConfigure"),M=e("../Turntable/Times"),C=function(){this.AttackPer=0,this.CriticalValue=0,this.HitValue=0,this.DefensePer=0,this.InjuryReductionPer=0,this.BeheadPer=0,this.RecoveryStartPer=0};a.MazeFightingData=C;var S=function(){function e(){this.fighting_id=10012,this.passing_id=10012,this.passed_ids=[],this.fighting_data=null,this.lease_pet_list=[]}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){d.MazeRoadManager.getInstance(),h.RogueBuffManager.getInstance(),f.RogueConfigurationManager.getInstance(),_.RogueHexagonTypesManager.getInstance(),m.RogueRewardManager.getInstance(),y.RogueTextManager.getInstance(),this.loadData()},e.prototype.loadData=function(){this.loadFightingId(),this.loadMazePassedId(),this.loadPassingId(),this.loadLeasePetList(),this.fighting_data=new C},e.prototype.loadMazePassedId=function(){this.passed_ids=new Array;var e=p.TheStorageManager.getInstance().getItem(u.StorageKey.MazePassId);if(""===e||null===e)this.passed_ids.push(_.RogueHexagonTypesManager.getId(this.getFloor(),1,2));else for(var t=e.split(","),a=0;a<t.length;a++){var n=parseInt(t[a]);this.passed_ids.push(n)}},e.prototype.resetMazeData=function(){p.TheStorageManager.getInstance().removeItem(u.StorageKey.MazeBuffList),p.TheStorageManager.getInstance().removeItem(u.StorageKey.MazeFightingId),p.TheStorageManager.getInstance().removeItem(u.StorageKey.MazePassId),p.TheStorageManager.getInstance().removeItem(u.StorageKey.MazePassingId),p.TheStorageManager.getInstance().removeItem(u.StorageKey.MazeShopList),p.TheStorageManager.getInstance().removeItem(u.StorageKey.MazeUnSelectSpoils),p.TheStorageManager.getInstance().removeItem(u.StorageKey.MazeBoxIdList),p.TheStorageManager.getInstance().removeItem(u.StorageKey.MazeSubHp),p.TheStorageManager.getInstance().removeItem(u.StorageKey.MazeFloor),p.TheStorageManager.getInstance().removeItem(u.StorageKey.MazeLeasePetList),h.RogueBuffManager.getInstance().getData().forEach(function(e){p.TheStorageManager.getInstance().removeItem(u.StorageKey.MazeBuffStage+e.RogueBuff_ID)}),_.RogueHexagonTypesManager.getInstance().getData().forEach(function(e){p.TheStorageManager.getInstance().removeItem(u.StorageKey.MazeRandPetList+e.Hexagon_ID)}),this.loadData()},e.prototype.resetFloorData=function(){p.TheStorageManager.getInstance().removeItem(u.StorageKey.MazeFightingId),p.TheStorageManager.getInstance().removeItem(u.StorageKey.MazePassId),p.TheStorageManager.getInstance().removeItem(u.StorageKey.MazePassingId),p.TheStorageManager.getInstance().removeItem(u.StorageKey.MazeShopList),p.TheStorageManager.getInstance().removeItem(u.StorageKey.MazeUnSelectSpoils),p.TheStorageManager.getInstance().removeItem(u.StorageKey.MazeBoxIdList),p.TheStorageManager.getInstance().removeItem(u.StorageKey.MazeRandPetList),this.loadData()},e.prototype.getMazePassedIds=function(){return this.passed_ids},e.prototype.addMazePassedId=function(e){return!!_.RogueHexagonTypesManager.getInstance().getHexagonType(e)&&!this.passed_ids.includes(e)&&(this.passed_ids.push(e),p.TheStorageManager.getInstance().setItem(u.StorageKey.MazePassId,this.passed_ids),!0)},e.prototype.loadFightingId=function(){this.fighting_id=p.TheStorageManager.getInstance().getInt(u.StorageKey.MazeFightingId,_.RogueHexagonTypesManager.getId(this.getFloor(),1,2))},e.prototype.getFightingId=function(){return this.fighting_id},e.prototype.setFightingId=function(e){return!!_.RogueHexagonTypesManager.getInstance().getHexagonType(e)&&(this.fighting_id=e,p.TheStorageManager.getInstance().setItem(u.StorageKey.MazeFightingId,e),!0)},e.prototype.loadPassingId=function(){this.passing_id=p.TheStorageManager.getInstance().getInt(u.StorageKey.MazePassingId,_.RogueHexagonTypesManager.getId(this.getFloor(),1,2))},e.prototype.getPassingId=function(){return this.passing_id},e.prototype.setPassingId=function(e){return!!_.RogueHexagonTypesManager.getInstance().getHexagonType(e)&&(this.passing_id=e,p.TheStorageManager.getInstance().setItem(u.StorageKey.MazePassingId,e),!0)},e.prototype.getFloor=function(){return p.TheStorageManager.getInstance().getInt(u.StorageKey.MazeFloor,1)},e.prototype.setFloor=function(e){p.TheStorageManager.getInstance().setItem(u.StorageKey.MazeFloor,e)},e.prototype.getUnSelectSpoils=function(){var e=new Array,t=p.TheStorageManager.getInstance().getItem(u.StorageKey.MazeUnSelectSpoils);if(""===t||null===t);else for(var a=t.split(","),n=0;n<a.length;n++){var o=parseInt(a[n]);e.push(o)}return e},e.prototype.setUnSelectSpoils=function(e){p.TheStorageManager.getInstance().setItem(u.StorageKey.MazeUnSelectSpoils,e)},e.prototype.getAllShopPropList=function(){var e=new Array,t=p.TheStorageManager.getInstance().getItem(u.StorageKey.MazeShopList);return""===t||null===t||(e=JSON.parse(t)),e},e.prototype.getAPropIndex=function(e){for(var t=this.getAllShopPropList(),a=[],n=0;n<t.length;n++){var o=t[n];if(e==o.box_id){a=o.prop_list;break}}return a},e.prototype.setShopProp=function(e){var t=this.getAllShopPropList();t.push(e),p.TheStorageManager.getInstance().setItem(u.StorageKey.MazeShopList,JSON.stringify(t))},e.prototype.checkAdjacent=function(e,t,a,n,o){if(o){var i=n-t;return Math.abs(e-a)<=1&&i>=0&&Math.abs(i)<=1}return i=n-t,Math.abs(e-a)<=1&&i<=0&&Math.abs(i)<=1},e.prototype.getBuffList=function(){return p.TheStorageManager.getInstance().getIntList(u.StorageKey.MazeBuffList,[])},e.prototype.isHaveABuff=function(e){for(var t=this.getBuffList(),a=0;a<e.length;a++)if(-1!=t.indexOf(e[a]))return!0;return!1},e.prototype.checkBuffStage=function(e){for(var t=this.getBuffList(),a=0;a<e.length;a++){var n=e[a];-1!=t.indexOf(n)&&this.addBuffStage(n)}return[]},e.prototype.addBuff=function(e){var t=this.getBuffList();t.push(e),p.TheStorageManager.getInstance().setItem(u.StorageKey.MazeBuffList,t)},e.prototype.resetBuffList=function(){p.TheStorageManager.getInstance().removeItem(u.StorageKey.MazeBuffList)},e.prototype.getBuffStage=function(e){return p.TheStorageManager.getInstance().getInt(u.StorageKey.MazeBuffStage+e,0)},e.prototype.addBuffStage=function(e){var t=this.getBuffStage(e);t+=1,p.TheStorageManager.getInstance().setItem(u.StorageKey.MazeBuffStage+e,t)},e.prototype.resetBuffStage=function(){for(var e=h.RogueBuffManager.getInstance().getBuffIdList(),t=0;t<e.length;t++)p.TheStorageManager.getInstance().removeItem(u.StorageKey.MazeBuffStage+e[t])},e.prototype.refreshFightingData=function(){this.fighting_data=new C;for(var e=this.getBuffList(),t=h.RogueBuffManager.getInstance(),a=0;a<e.length;a++){var n=e[a],o=t.getJsonRogueBuff(n);switch(o.RogueBuff_Type){case 1:this.fighting_data.AttackPer+=o.RogueBuff1_Value;break;case 2:var i=this.getBuffStage(n);(r=o.RogueBuff1_Value*i)>o.RogueBuff2_Value&&(r=o.RogueBuff2_Value),this.fighting_data.AttackPer+=r;break;case 3:this.fighting_data.CriticalValue+=o.RogueBuff1_Value;break;case 4:this.fighting_data.HitValue+=o.RogueBuff1_Value;break;case 5:this.fighting_data.DefensePer+=o.RogueBuff1_Value;break;case 6:var r;i=this.getBuffStage(n),(r=o.RogueBuff1_Value*i)>o.RogueBuff2_Value&&(r=o.RogueBuff2_Value),this.fighting_data.DefensePer+=r;break;case 7:this.fighting_data.InjuryReductionPer+=o.RogueBuff1_Value;break;case 8:this.fighting_data.BeheadPer+=o.RogueBuff1_Value;break;case 9:this.fighting_data.RecoveryStartPer+=o.RogueBuff1_Value}}return this.fighting_data},e.prototype.getGroundBoxIdList=function(){var e=p.TheStorageManager.getInstance().getItem(u.StorageKey.MazeBoxIdList);return""===e||null===e?[]:JSON.parse(e)},e.prototype.saveGroundBoxIdList=function(e){p.TheStorageManager.getInstance().setItem(u.StorageKey.MazeBoxIdList,JSON.stringify(e))},e.prototype.getFightingInfo=function(e){var t=I.RogueLevelManager.getInstance().getJsonRogueLevel(e),a=new n.FightingInfo,o=_.RogueHexagonTypesManager.getInstance().getHexagonType(M.default.voidsensid);1==o&&(a.title_name=l.default.getInstance().getStrByTextId(830002)),3==o&&(a.title_name=l.default.getInstance().getStrByTextId(830003)),5==o&&(a.title_name=l.default.getInstance().getStrByTextId(830004)),a.bg_name="bg/Maze_Bg_Battle",a.wall_name="bg/Maze_Bg_Wall",a.wave_types=t.MonsterTideWave,a.wave_refresh_time=t.TimeInterval;for(var i=new Array,s=t.MonsterGroupConfigure,c=v.MonsterGroupConfigureManager.getInstance(),g=0;g<s.length;g++){for(var u=new Array,p=s[g],d=c.getJsonMonsterGroupConfigure(p),h=0;h<d.MonsterId.length;h++){var f=new r.TableMonsterData;f.id=d.MonsterId[h],f.num=d.MonsterNum[h],f.refresh_time=d.RefreshInterval[h],f.level=t.MonsterLevel[g],f.hp_rate=t.HpCoefficient[g],u.push(f),a.total_monster_num+=f.num}i.push(u)}return a.monster_datas=i,a},e.prototype.getMazeHp=function(){var e=this.getMazeMaxHp();return e-p.TheStorageManager.getInstance().getInt(u.StorageKey.MazeSubHp,0)*e},e.prototype.getMazeMaxHp=function(){for(var e=o.HeroManager.getInstance().getTeamList(n.GameMode.Maze),t=0,a=o.HeroManager.getInstance().getHeroList(),i=0;i<a.length;i++)e.includes(a[i].hero_type)&&(t+=.25*o.HeroManager.getInstance().getHeroData(a[i].hero_type).total_hp);return t<3e3&&(t=3e3),Math.round(t)},e.prototype.setMazeSubHp=function(e){return p.TheStorageManager.getInstance().setItem(u.StorageKey.MazeSubHp,e),!1},e.prototype.getLeasePetList=function(){return this.lease_pet_list},e.prototype.loadLeasePetList=function(){var e=p.TheStorageManager.getInstance().getJson(u.StorageKey.MazeLeasePetList);if(this.lease_pet_list=new Array,e)for(var t=0;t<e.length;t++){var a=new g.PetInfo,n=e[t];a.hero_type=n.hero_type,a.pet_awaken_stage=n.pet_awaken_stage,a.pet_id=n.pet_id,a.pet_level=n.pet_level,a.pet_quality=n.pet_quality,a.sequence_id=n.sequence_id,a.lease_type=n.lease_type,this.lease_pet_list.push(a)}},e.prototype.saveLeasePetList=function(){p.TheStorageManager.getInstance().setJson(u.StorageKey.MazeLeasePetList,this.lease_pet_list)},e.prototype.addLeasePetList=function(e){var t=this.getLeasePetList();t.push(e),p.TheStorageManager.getInstance().setJson(u.StorageKey.MazeLeasePetList,t)},e.prototype.resetLeasePetList=function(){p.TheStorageManager.getInstance().setJson(u.StorageKey.MazeLeasePetList,[])},e.prototype.getRandPetList=function(e){var t=p.TheStorageManager.getInstance().getJson(u.StorageKey.MazeRandPetList+e),a=new Array;if(t)for(var n=0;n<t.length;n++){var o=new g.PetInfo,i=t[n];o.hero_type=i.hero_type,o.pet_awaken_stage=i.pet_awaken_stage,o.pet_id=i.pet_id,o.pet_level=i.pet_level,o.pet_quality=i.pet_quality,o.sequence_id=i.sequence_id,o.lease_type=i.lease_type,a.push(o)}return a},e.prototype.setRandPetList=function(e,t){p.TheStorageManager.getInstance().setJson(u.StorageKey.MazeRandPetList+e,t)},e.prototype.resetHeroBind=function(){for(var e=this.getLeasePetList(),t=0;t<e.length;t++){var a=e[t];a.hero_type!=i.Hero_Type.NULL&&(o.HeroManager.getInstance().getHeroData(a.hero_type).pet_info=null)}},e.prototype.recoverHeroBind=function(){for(var e=this.getLeasePetList(),t=0;t<e.length;t++){var a=e[t];a.hero_type!=i.Hero_Type.NULL&&(o.HeroManager.getInstance().getHeroData(a.hero_type).pet_info=a)}},e.prototype.checkDate=function(){var e=this.getStartDate(),t=this.getEndTime();return Math.floor((t-e)/1e3)>=172800&&(this.getPassingId()!=_.RogueHexagonTypesManager.getId(this.getFloor(),1,2)&&c.default.getInstance().followEvent(s.Follow_Type.rogue\u73a9\u6cd5\u6700\u7ec8\u5b8c\u6210\u7684\u683c\u5b50\u6570),this.setStartDate(),this.resetMazeData(),c.default.getInstance().followEvent(s.Follow_Type.rogue\u73a9\u6cd5\u5f00\u59cb\u6b21\u6570),!0)},e.prototype.getEndTime=function(){var e=new Date(2022,8,1,0,0,0,0).getTime(),t=(new Date).getTime()-e,a=Math.floor(t/864e5);return e+864e5*(a+2-a%2)},e.prototype.getRemainTime=function(){var e=(new Date).getTime();return(this.getEndTime()-e)/1e3},e.prototype.getStartDate=function(){return p.TheStorageManager.getInstance().getInt(u.StorageKey.MazeStartDate,0)},e.prototype.setStartDate=function(){p.TheStorageManager.getInstance().setItem(u.StorageKey.MazeStartDate,(new Date).getTime())},e._instance=null,e}();a.MazeManager=S,cc._RF.pop()},{"../Constants":"Constants","../Hero/Data/HeroManager":"HeroManager","../Hero/Game/HeroConfig":"HeroConfig","../Level/MissionLevel":"MissionLevel","../Monster/Data/MonsterGroupConfigure":"MonsterGroupConfigure","../Pet/PetConfig":"PetConfig","../Storage/StorageConfig":"StorageConfig","../Storage/StorageManager":"StorageManager","../Turntable/Times":"Times","../copy/voidcrack/RogueHexagonTypes":"RogueHexagonTypes","../copy/voidcrack/RogueLevel":"RogueLevel","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/LanguageManager":"LanguageManager","./Data/MazeRoad":"MazeRoad","./Data/RogueBuff":"RogueBuff","./Data/RogueConfiguration":"RogueConfiguration","./Data/RogueReward":"RogueReward","./Data/RogueText":"RogueText"}],MazePetItem:[function(e,t,a){"use strict";cc._RF.push(t,"8977bSxzoRLzJe8Vn5vr8/E","MazePetItem");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.index=0,t.lease_ts=null,t}return o(t,e),t.prototype.init=function(e,t,a){this.lease_ts=a,this.index=t;var n=this.node.getChildByName("iconMask");n.getChildByName("icon").getComponent(cc.Sprite),n.getChildByName("star").getComponent(cc.Sprite),this.node.getChildByName("levelLabel").getComponent(cc.Label).string=""+e.pet_level,this.node.getChildByName("gou").active=!1},t.prototype.refresh=function(e){this.node.getChildByName("gou").active=e},t.prototype.onClick=function(){this.lease_ts.clickBtnItem(this.index)},i([s],t)}(cc.Component));a.default=c,cc._RF.pop()},{}],MazeRoad:[function(e,t,a){"use strict";cc._RF.push(t,"3522enOTQVDQp6X75Qk6URa","MazeRoad"),Object.defineProperty(a,"__esModule",{value:!0}),a.MazeRoadManager=a.JsonMazeRoad=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.rId=0,this.c1=0,this.c2=0,this.c3=0};a.JsonMazeRoad=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("MazeRoad",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonMazeRoad\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.rId,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonMazeRoad=function(e){return this.data.get(e)},e.prototype.getc1=function(e){return this.data.get(e).c1},e.prototype.getc2=function(e){return this.data.get(e).c2},e.prototype.getc3=function(e){return this.data.get(e).c3},e.getMaxrId=function(){return 1},e.prototype.getMazeRoad=function(){for(var e=new Array,t=this.data.size,a=1;a<=t;a++){for(var n=this.data.get(a),o=new Array,i=1;i<=3;i++)o.push(n["c"+i]);e.push(o)}return cc.log(e),e},e._instance=null,e}();a.MazeRoadManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],MazeSendDoorUi:[function(e,t,a){"use strict";cc._RF.push(t,"ac40dofvVFA0r8M80thORCq","MazeSendDoorUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../GameManager"),s=e("../multiLanguage/LanguageManager"),c=e("../Sound/AudioConstants"),l=e("../UI/UIComponent"),g=e("./MazeManager"),u=e("./MazeUi"),p=cc._decorator,d=p.ccclass,h=(p.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.box_id=5,t.is_can_go=!0,t}return o(t,e),t.prototype.start=function(){this.initUi()},t.prototype.initUi=function(){this.node.getChildByName("titleLabel").getComponent(cc.Label).string=s.default.getInstance().getStrByTextId(830008),this.node.getChildByName("contentLabel").getComponent(cc.Label).string=s.default.getInstance().getStrByTextId(830014)},t.prototype.clickBtnYes=function(){r.default.getInstance().sound_manager.playSound(c.SoundIndex.click);var t=g.MazeManager.getInstance().getFloor();t<2&&(g.MazeManager.getInstance().setFloor(t+1),g.MazeManager.getInstance().resetFloorData(),u.default.getInstance().jumpToNextFloor(),e.prototype.onClose.call(this))},t.prototype.clickBtnNo=function(){r.default.getInstance().sound_manager.playSound(c.SoundIndex.click),e.prototype.onClose.call(this)},i([d],t)}(l.default));a.default=h,cc._RF.pop()},{"../GameManager":"GameManager","../Sound/AudioConstants":"AudioConstants","../UI/UIComponent":"UIComponent","../multiLanguage/LanguageManager":"LanguageManager","./MazeManager":"MazeManager","./MazeUi":"MazeUi"}],MazeShop:[function(e,t,a){"use strict";cc._RF.push(t,"1c582WDhDVK+phXw03f4z8w","MazeShop");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../GameManager"),s=e("../Level/LevelManager"),c=e("../Level/MissionLevel"),l=e("../multiLanguage/FollowConstants"),g=e("../multiLanguage/FollowManager"),u=e("../multiLanguage/LanguageManager"),p=e("../Sound/AudioConstants"),d=e("../UI/UIComponent"),h=e("./Data/RogueText"),f=e("./MazeManager"),_=e("./MazeUi"),m=cc._decorator,y=m.ccclass,I=(m.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.box_id=0,t.hexagon_type=4,t.is_can_go=!1,t}return o(t,e),t.prototype.initData=function(e,t){this.box_id=e,this.is_can_go=t,this.initUi()},t.prototype.initUi=function(){var e=h.RogueTextManager.getInstance().getJsonRogueText(this.hexagon_type);this.node.getChildByName("titleLabel").getComponent(cc.Label).string=u.default.getInstance().getStrByTextId(e.Roguetitle_ID),this.node.getChildByName("contentLabel").getComponent(cc.Label).string=u.default.getInstance().getStrByTextId(e.RogueText_ID);var t=this.node.getChildByName("btnNo");t.active=this.is_can_go;var a=this.node.getChildByName("btnYes");a.active=this.is_can_go,this.is_can_go&&(f.MazeManager.getInstance().getPassingId()==this.box_id?(t.active=!0,a.active=!1):(t.active=!1,a.active=!0)),this.initItemList()},t.prototype.initItemList=function(){var e=s.LevelManager.getInstance().finish_level+1;e=e>c.MissionLevelManager.getMaxLevel()?c.MissionLevelManager.getMaxLevel():e,c.MissionLevelManager.getInstance().getChapter(e)},t.prototype.clickBtnYes=function(){r.default.getInstance().sound_manager.playSound(p.SoundIndex.click),f.MazeManager.getInstance().setPassingId(this.box_id),f.MazeManager.getInstance().setFightingId(this.box_id),_.default.getInstance().refreshFloor(),e.prototype.onClose.call(this),g.default.getInstance().followEvent(l.Follow_Type.rogue\u73a9\u6cd5\u5546\u5e97\u4e8b\u4ef6)},t.prototype.clickBtnNo=function(){r.default.getInstance().sound_manager.playSound(p.SoundIndex.click),f.MazeManager.getInstance().addMazePassedId(this.box_id),_.default.getInstance().refreshFloor(),e.prototype.onClose.call(this)},i([y],t)}(d.default));a.default=I,cc._RF.pop()},{"../GameManager":"GameManager","../Level/LevelManager":"LevelManager","../Level/MissionLevel":"MissionLevel","../Sound/AudioConstants":"AudioConstants","../UI/UIComponent":"UIComponent","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/LanguageManager":"LanguageManager","./Data/RogueText":"RogueText","./MazeManager":"MazeManager","./MazeUi":"MazeUi"}],MazeShowBuffUi:[function(e,t,a){"use strict";cc._RF.push(t,"72d6bx9BAlMZr8rqr4I/u58","MazeShowBuffUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../multiLanguage/LanguageManager"),s=e("../UI/UIComponent"),c=e("./Data/RogueBuff"),l=e("./MazeBuffItem"),g=cc._decorator,u=g.ccclass,p=g.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buff_id=1001,t.prefab_buff_item=null,t}return o(t,e),t.prototype.initData=function(e){this.buff_id=e,this.initUi()},t.prototype.initUi=function(){this.createBuffCards()},t.prototype.createBuffCards=function(){var e=c.RogueBuffManager.getInstance(),t=r.default.getInstance(),a=e.getJsonRogueBuff(this.buff_id);this.node.getChildByName("titleLabel").getComponent(cc.Label).string=t.getStrByTextId(110023);var n=cc.instantiate(this.prefab_buff_item);n.scale=1,n.getComponent(l.default).init(this.buff_id),n.getComponent(cc.Button).interactable=!1,this.node.getChildByName("buffRoot").addChild(n),n.y=-243,n.x=0,this.node.getChildByName("detailLabel").getComponent(cc.Label).string=this.getValueStringByString(t.getStrByTextId(a.RogueBuffText_ID),a.RogueBuff1_Value,a.RogueBuff2_Value,a.RogueBuff3_Value)},t.prototype.getValueStringByString=function(e,t,a){e.includes("~x%")&&(t*=100),e.includes("~y%")&&(a*=100),e.includes("~z%");var n=e.replace("~x",t+"");return(n=n.replace("~y",a+"")).replace("~z",a+"")},i([p(cc.Prefab)],t.prototype,"prefab_buff_item",void 0),i([u],t)}(s.default);a.default=d,cc._RF.pop()},{"../UI/UIComponent":"UIComponent","../multiLanguage/LanguageManager":"LanguageManager","./Data/RogueBuff":"RogueBuff","./MazeBuffItem":"MazeBuffItem"}],MazeToolUi:[function(e,t,a){"use strict";cc._RF.push(t,"0449eCGut5Il4C4Q12CjmCV","MazeToolUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../GameManager"),s=e("../multiLanguage/FollowConstants"),c=e("../multiLanguage/FollowManager"),l=e("../multiLanguage/LanguageManager"),g=e("../Prop/PropConfig"),u=e("../Prop/PropManager"),p=e("../Sound/AudioConstants"),d=e("../UI/UIComponent"),h=e("../Wall/WallManager"),f=e("./MazeManager"),_=e("./MazeUi"),m=cc._decorator,y=m.ccclass,I=(m.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.box_id=5,t.is_can_go=!0,t}return o(t,e),t.prototype.start=function(){this.initUi()},t.prototype.initUi=function(){this.node.getChildByName("titleLabel").getComponent(cc.Label).string=l.default.getInstance().getStrByTextId(830009),this.node.getChildByName("contentLabel").getComponent(cc.Label).string=l.default.getInstance().getStrByTextId(830015);var e=u.PropManager.getInstance().getPropNum(g.PropId.MazeToolkit);this.node.getChildByName("btnYes").getComponent(cc.Button).interactable=e>0&&h.default.getInstance().getMainWall().getCurHp()<=0,this.node.getChildByName("num").getComponent(cc.Label).string=e+"",c.default.getInstance().followEvent(s.Follow_Type.rouge\u73a9\u6cd5\u67e5\u770b\u5de5\u5177\u5305)},t.prototype.clickBtnYes=function(){r.default.getInstance().sound_manager.playSound(p.SoundIndex.click),f.MazeManager.getInstance().setMazeSubHp(0),_.default.getInstance().showWallInfo(),e.prototype.onClose.call(this),c.default.getInstance().followEvent(s.Follow_Type.rogue\u73a9\u6cd5\u4f7f\u7528\u5de5\u5177\u5305)},t.prototype.clickBtnNo=function(){r.default.getInstance().sound_manager.playSound(p.SoundIndex.click),e.prototype.onClose.call(this)},i([y],t)}(d.default));a.default=I,cc._RF.pop()},{"../GameManager":"GameManager","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../UI/UIComponent":"UIComponent","../Wall/WallManager":"WallManager","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/LanguageManager":"LanguageManager","./MazeManager":"MazeManager","./MazeUi":"MazeUi"}],MazeUi:[function(e,t,a){"use strict";cc._RF.push(t,"072c1YKcDJOfKffBDr347uI","MazeUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("./MazeBox"),s=e("./Data/MazeRoad"),c=e("../copy/voidcrack/RogueHexagonTypes"),l=e("./MazeManager"),g=e("../GameManager"),u=e("../Sound/AudioConstants"),p=e("../UI/UIManager"),d=e("../UI/home/FixedPos"),h=e("../multiLanguage/LanguageManager"),f=e("../Constants"),_=cc._decorator,m=_.ccclass,y=_.property,I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab_box=null,t.prefab_arrow=null,t.prefab_door=null,t.maze_sp=null,t.board_box=null,t.cur_floor_num=1,t.cur_layout_num=1,t}var a;return o(t,e),a=t,t.getInstance=function(){return this._instance},t.prototype.onLoad=function(){a._instance=this,this.adaptation(),l.MazeManager.getInstance().checkDate(),l.MazeManager.getInstance().recoverHeroBind()},t.prototype.onDestroy=function(){a._instance=null},t.prototype.adaptation=function(){var e=this.node.getChildByName("bottom"),t=this.node.getChildByName("top"),a=cc.winSize;e.y=-a.height/2,t.y=a.height/2,this.node.getChildByName("scrollView").y=e.y+e.height},t.prototype.start=function(){this.cur_layout_num=l.MazeManager.getInstance().getFloor(),this.board_box=new Array;var e=l.MazeManager.getInstance().getGroundBoxIdList();0==e.length?this.initBoard():this.createBoard(e);var t=h.default.getInstance().getStrByTextId(100020).replace("~",l.MazeManager.getInstance().getFloor()+""),a=h.default.getInstance().getStrByTextId(830001)+": "+t;this.node.getChildByName("top").getChildByName("title").getComponent(cc.Label).string=a,this.schedule(function(){l.MazeManager.getInstance().getRemainTime()},1)},t.prototype.initBoard=function(){var e=this.node.getChildByName("scrollView").getComponent(cc.ScrollView).content;e.removeAllChildren();for(var t=s.MazeRoadManager.getInstance().getMazeRoad(),a=0,n=new Array,o=1;o<=9;o++){for(var i=new Array,g=o%2==0,u=[],p=new Array,d=1;d<=3&&(!g||3!=d);d++){var h=d-1;t[o-1][h]>0&&u.push(d)}for(d=1;d<=3&&(!g||3!=d);d++)if(h=d-1,t[o-1][h]>0){var f=(g?-90:-180)+180*h,_=0+140*o,m=Math.floor(Math.random()*u.length),y=c.RogueHexagonTypesManager.getId(this.cur_layout_num,o,u[m]),I=cc.instantiate(this.prefab_box);e.addChild(I),I.zIndex=100-o,I.x=f,I.y=_,i.push(I),I.getComponent(r.default).init(o,d,y),I.name=""+y,a=_,u.splice(m,1),p.push(y)}else p.push(0);this.board_box.push(i),n.push(p)}var v=cc.instantiate(this.prefab_door);v.y=a+v.height*v.scale,e.addChild(v),e.height=1790+v.height*v.scale,this.refreshFloor(),l.MazeManager.getInstance().saveGroundBoxIdList(n)},t.prototype.createBoard=function(e){var t=this.node.getChildByName("scrollView").getComponent(cc.ScrollView).content;t.removeAllChildren();for(var a=s.MazeRoadManager.getInstance().getMazeRoad(),n=0,o=1;o<=9;o++){for(var i=new Array,c=o%2==0,l=1;l<=3&&(!c||3!=l);l++){var g=o-1,u=l-1;if(a[g][u]>0){var p=(c?-90:-180)+180*u,d=0+140*o,h=e[g][u],f=cc.instantiate(this.prefab_box);t.addChild(f),f.zIndex=100-o,f.x=p,f.y=d,i.push(f),f.getComponent(r.default).init(o,l,h),f.name=""+h,n=d}}this.board_box.push(i)}var _=cc.instantiate(this.prefab_door);_.y=n+_.height*_.scale,t.addChild(_),t.height=1790+_.height*_.scale,this.refreshFloor()},t.prototype.refreshFloor=function(){this.removeAllArrow();var e=this.node.getChildByName("scrollView").getComponent(cc.ScrollView).content,t=e.childrenCount,a=l.MazeManager.getInstance().getMazePassedIds(),n=a[a.length-1];this.cur_floor_num=c.RogueHexagonTypesManager.getInstance().getRows(n);for(var o=0;o<t;o++){var i=e.children[o].getComponent(r.default);i&&i.node.active&&i.refreshBox()}e.getChildByName("door").active=this.cur_floor_num>=9&&this.cur_layout_num<=1,this.showWallInfo()},t.prototype.showWallInfo=function(){var e=this.node.getChildByName("top").getChildByName("btnWallInfo"),t=e.getChildByName("progressBar"),a=l.MazeManager.getInstance().getMazeHp()/l.MazeManager.getInstance().getMazeMaxHp();t.getComponent(cc.ProgressBar).progress=a,e.getChildByName("num").getComponent(cc.Label).string=(100*a).toFixed(1)+"%"},t.prototype.showArrow=function(e){var t=this.node.getChildByName("scrollView").getComponent(cc.ScrollView).content,a=cc.instantiate(this.prefab_arrow);this.node.getChildByName("scrollView").getChildByName("arrowRoot").addChild(a),a.setPosition(cc.v2(e.x,e.y+-t.parent.height/2+300)),a.getComponent(d.default).init(e,cc.v2(0,-t.parent.height/2+300),t)},t.prototype.removeAllArrow=function(){this.node.getChildByName("scrollView").getChildByName("arrowRoot").removeAllChildren()},t.prototype.getSpByName=function(e){return this.maze_sp.getSpriteFrame(e)},t.prototype.jumpToNextFloor=function(){this.start()},t.prototype.clickBtnMazeBox=function(e){e.getCurrentTarget().getComponent(r.default)},t.prototype.clickBtnClose=function(){g.default.getInstance().sound_manager.playSound(u.SoundIndex.click),g.default.getInstance().music_manager.playMusic(u.MusicIndex.BGM_Fuben),this.node.removeFromParent(),l.MazeManager.getInstance().resetHeroBind(),g.default.getInstance().cur_game_scene==f.GameScene.game&&(g.default.getInstance().game_to_home=f.Go_Type.Activity,g.default.getInstance().backToHome())},t.prototype.clickBtnBag=function(){g.default.getInstance().sound_manager.playSound(u.SoundIndex.click),p.UIManager.getInstance().showMazeBagUi()},t.prototype.clickBtnRepair=function(){g.default.getInstance().sound_manager.playSound(u.SoundIndex.click),p.UIManager.getInstance().showMazeToolUi({onClose:function(){}})},t.prototype.clickBtnWallInfo=function(){g.default.getInstance().sound_manager.playSound(u.SoundIndex.click),p.UIManager.getInstance().showMazeWallInfoUi({onRefresh:function(){}})},t._instance=null,i([y({type:cc.Prefab,tooltip:"\u683c\u5b50\u9884\u5236\u4f53"})],t.prototype,"prefab_box",void 0),i([y({type:cc.Prefab,tooltip:"\u7bad\u5934\u9884\u5236\u4f53"})],t.prototype,"prefab_arrow",void 0),i([y({type:cc.Prefab,tooltip:"\u95e8\u9884\u5236\u4f53"})],t.prototype,"prefab_door",void 0),i([y(cc.SpriteAtlas)],t.prototype,"maze_sp",void 0),a=i([m],t)}(cc.Component);a.default=I,cc._RF.pop()},{"../Constants":"Constants","../GameManager":"GameManager","../Sound/AudioConstants":"AudioConstants","../UI/UIManager":"UIManager","../UI/home/FixedPos":"FixedPos","../copy/voidcrack/RogueHexagonTypes":"RogueHexagonTypes","../multiLanguage/LanguageManager":"LanguageManager","./Data/MazeRoad":"MazeRoad","./MazeBox":"MazeBox","./MazeManager":"MazeManager"}],MazeWallInfoUi:[function(e,t,a){"use strict";cc._RF.push(t,"cba46jpLlNLJZfVgwUbr0OA","MazeWallInfoUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../multiLanguage/FollowConstants"),s=e("../multiLanguage/FollowManager"),c=e("../UI/UIComponent"),l=e("./MazeManager"),g=cc._decorator,u=g.ccclass,p=(g.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.start=function(){this.initUi()},t.prototype.initUi=function(){var e=this.node.getChildByName("numLabel"),t=l.MazeManager.getInstance().getMazeHp(),a=l.MazeManager.getInstance().getMazeMaxHp();e.getComponent(cc.Label).string=t+"/"+a+"("+(t/a*100).toFixed(1)+"%)",s.default.getInstance().followEvent(r.Follow_Type.rogue\u73a9\u6cd5\u67e5\u770b\u5f53\u524d\u751f\u547d\u503c)},i([u],t)}(c.default));a.default=p,cc._RF.pop()},{"../UI/UIComponent":"UIComponent","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","./MazeManager":"MazeManager"}],MeiDan:[function(e,t,a){"use strict";cc._RF.push(t,"86d4dgUNK1MZ6HM3gRdyElJ","MeiDan");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Game/GameEffectsManager"),s=e("../../../Monster/Monster"),c=e("../../../Monster/MonsterManager"),l=e("../Bullect"),g=e("../HeroConfig"),u=cc._decorator,p=u.ccclass,d=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.is_ex_damage=!1,t.hero=null,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addCollisionMonsterListen.call(this,this.onCollisionMonster)},t.prototype.setIsExDamage=function(e,t){this.is_ex_damage=t,this.hero=e},t.prototype.onCollisionMonster=function(e){if(e){e.isHaveDeBuff(g.BuffId.Hero_MeiMo_Active_ZhengShang)&&(this.gongji_data.hero_data.all_increase_damage+=this.gongji_data.hero_data.getSkillValue4(g.SkillType.Active)),this.gongji_data.is_can_crit=!0;var t=e.beFlashInjured(this.gongji_data);this.gongji_data.is_can_crit=!1;var a=t.is_die;if(t.getDamageNum()>0){if(r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.mei_mo_attack_hit,this.getHeadPos()),0==a&&this.is_ex_damage){var n=cc.instantiate(this.gongji_data);n.damage_type=g.DamageType.Skill,n.is_bullet=!1,n.skill_damage_rate=this.gongji_data.hero_data.getSkillValue4(g.SkillType.Passive_1),a=e.beFlashInjured(this.gongji_data).is_die}if(0==a&&this.hero.hero_data.getIsUnlock(g.SkillType.Passive_2)){var o=this.hero.hero_data.getSkillValue1(g.SkillType.Passive_2);if(Math.random()<o){var i=this.hero.hero_data.getSkillValue2(g.SkillType.Passive_2),l=e.getCurHp()/e.getMaxHp();l<.3&&(l=.3),i+=Math.floor(100*(1-l)/10),a=e.beFlashInjured(this.hero.getGongJiData(g.DamageType.Skill,!1,g.SkillType.Passive_2,i)).is_die}}if(a&&this.hero&&this.hero.startBomb(e),e.isHaveDeBuff(g.BuffId.Hero_MeiMo_Active_MeiHuo)){var u=this.gongji_data.hero_data.ExclusiveWeaponSkillValue_1;if(u&&u>0){var p=c.default.getInstance().getMonstersForCenterPos(-1,e.getCenterPos(),u);if(p)for(var d=0;d<p.length;d++){var h=p[d].getComponent(s.default);h.uuid!=e.uuid&&h.beFlashInjured(this.gongji_data).getDamageNum()>0&&r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.mei_mo_attack_hit,h.getCenterPos())}}}}this.destroySelf()}},i([p],t)}(l.default));a.default=d,cc._RF.pop()},{"../../../Game/GameEffectsManager":"GameEffectsManager","../../../Monster/Monster":"Monster","../../../Monster/MonsterManager":"MonsterManager","../Bullect":"Bullect","../HeroConfig":"HeroConfig"}],MeiMo:[function(e,t,a){"use strict";cc._RF.push(t,"d8a50iMIBFBD5A2TrtE52da","MeiMo");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Constants"),s=e("../../../Game/FightingManager"),c=e("../../../Game/GameEffectsManager"),l=e("../../../Game/GroundManager"),g=e("../../../Game/SkillManager"),u=e("../../../GameManager"),p=e("../../../Monster/Monster"),d=e("../../../Monster/MonsterData"),h=e("../../../Monster/MonsterManager"),f=e("../../../Sound/AudioConstants"),_=e("../BuffData"),m=e("../Hero"),y=e("../HeroConfig"),I=e("./MeiDan"),v=cc._decorator,M=v.ccclass,C=(v.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.attack_num=0,t.full_screen_damage=null,t.meihuo_node=null,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.mei_mo_attack,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.mei_mo_attack_hit,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.mei_mo_beidong_skill1_baozha,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.mei_mo_beidong_skill1_gongsu,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.mei_mo_beidong_skill2_hit,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.mei_mo_zhudong_skill_baozha,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.mei_mo_zhudong_skill_gound,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.mei_mo_zhudong_skill_hero,4),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.mei_mo_zhudong_skill_monster,4),this.addSkillListen(this.useSkill),this.addAttackListen(this.normalAttack),this.addXuanYunListen(this.onXuanYunResult),this.addHitListen(this.onHitMonster),this.addLoadedListen(this.onLoadFinished)},t.prototype.start=function(){e.prototype.start.call(this),this.is_need_check_distance=!0;var t=2*this.hero_data.getSkillValue1(y.SkillType.Active);e.prototype.setSkillTipSize.call(this,t,t)},t.prototype.onLoadFinished=function(){},t.prototype.onXuanYunResult=function(e){e?(this.unscheduleAllCallbacks(),this.meihuo_node&&(c.GameEffectsManager.getInstance().destroyGameEffectById(c.GameEffectId.mei_mo_zhudong_skill_hero,this.meihuo_node),this.meihuo_node=null)):this.setHeroState(y.Hero_State.idle,y.GongJi_FangXiang.zhong)},t.prototype.starteIdle=function(){this.setHeroState(y.Hero_State.idle,this.cur_fangxiang)},t.prototype.onHitMonster=function(){},t.prototype.createMeiDan=function(e,t,a,n,o){this.attack_num++;var i=s.default.getInstance().createGameEffectById(e,t),r=i.getComponent(I.default);return r.init(e,a,n,o),r.setIsExDamage(this,this.attack_num%5==0),i},t.prototype.getSJFXByPos=function(e,t){var a=y.GongJi_FangXiang.zhong,n=e.sub(t),o=2*Math.PI,i=(Math.atan2(n.y,n.x)+o)%o*180/Math.PI;return i<=75?a=y.GongJi_FangXiang.you:i>75&&i<105?a=y.GongJi_FangXiang.zhong:i>=105&&i<=180&&(a=y.GongJi_FangXiang.zuo),a},t.prototype.normalAttack=function(e){if(u.default.getInstance().cur_game_state==r.GameState.Game_Playing){if(!e.getComponent(p.default).isHaveDeBuff(y.BuffId.Hero_MeiMo_Active_MeiHuo)){var t=h.default.getInstance().getMonstersForNearest(-1,this.node.getPosition(),this.hero_data.gongji_fanwei);if(t)for(var a=0;a<t.length;a++)if(t[a].getComponent(p.default).isHaveDeBuff(y.BuffId.Hero_MeiMo_Active_MeiHuo)){e=t[a];break}}this.startAttack(e)}},t.prototype.startAttack=function(t){var a=this;this.is_can_gongji=!1;var n=this.getSJFXByPos(t.getPosition(),this.node.getPosition()),o=new d.KeyFrameData;o.name="Attack",o.callback=function(){var n=t.getComponent(p.default).getSheShouPos(),o=a.getCreateBulletPos(),i=n.sub(o),r=Math.atan2(i.y,i.x),s=e.prototype.getGongJiData.call(a,y.DamageType.Skill,!0,y.SkillType.Passive_1,1);s.is_can_crit=!0,a.createMeiDan(c.GameEffectId.mei_mo_attack,o,a.bullet_speed,r,s),u.default.getInstance().sound_manager.playSound(f.SoundIndex.YX_MMAttack),a.is_double_attack?a.resetNormalAttack():a.gongji_jishu=0},e.prototype.setHeroState.call(this,y.Hero_State.attack,n,[o],function(){e.prototype.setHeroState.call(a,y.Hero_State.idle,n)})},t.prototype.startBomb=function(t){c.GameEffectsManager.getInstance().createGameEffectById(c.GameEffectId.mei_mo_beidong_skill1_baozha,t.getCenterPos()).scale=this.hero_data.getSkillValue1(y.SkillType.Active)/180;var a=this.hero_data.getSkillValue4(y.SkillType.Active),n=h.default.getInstance().getMonstersForCenterPos(-1,t.getCenterPos(),this.hero_data.getSkillValue1(y.SkillType.Passive_1));if(n)for(var o=0;o<n.length;o++){var i=n[o].getComponent(p.default);if(i.uuid!=t.uuid){var r=e.prototype.getGongJiData.call(this,y.DamageType.Skill,!1,y.SkillType.Passive_1,this.hero_data.getSkillValue2(y.SkillType.Passive_1));i.isHaveDeBuff(y.BuffId.Hero_MeiMo_Active_ZhengShang)&&(r.hero_data.all_increase_damage+=a),i.beFlashInjured(r).getDamageNum()>0&&c.GameEffectsManager.getInstance().createGameEffectById(c.GameEffectId.mei_mo_attack_hit,i.getCenterPos())}}var s=new _.BuffData;s.buff_id=y.BuffId.Hero_MeiMo_GongSu,s.buff_type=y.BuffType.Gain,s.buff_value=[this.hero_data.getSkillValue3(y.SkillType.Passive_1)],s.remain_time=5,s.game_effect_id=c.GameEffectId.mei_mo_beidong_skill1_gongsu,s.fade_time=1,e.prototype.addBuff.call(this,s)},t.prototype.useSkill=function(e){var t=this;return g.default.getInstance().releaseSkill(function(){t.startSelfXuLi(e)},this.node),2},t.prototype.startSelfXuLi=function(e){var t=this,a=cc.find("Canvas/Hero_Root");this.meihuo_node=c.GameEffectsManager.getInstance().createGameEffectForParent(c.GameEffectId.mei_mo_zhudong_skill_hero,this.node.getPosition(),cc.find("Canvas/Hero_Shadow_Root"));var n=new d.KeyFrameData;n.name="FaShe",n.callback=function(){g.default.getInstance().setTimeStop(!1),t.node.parent=a,t.node.zIndex=2,t.startLaunch(e)},this.setHeroState(y.Hero_State.skill,y.GongJi_FangXiang.zhong,[n],function(){t.resetGongJiJiShu(),t.setHeroState(y.Hero_State.idle,y.GongJi_FangXiang.zhong),t.meihuo_node&&(c.GameEffectsManager.getInstance().destroyGameEffectById(c.GameEffectId.mei_mo_zhudong_skill_hero,t.meihuo_node),t.meihuo_node=null)}),this.spine.timeScale=r.JiaSu},t.prototype.startLaunch=function(t){e.prototype.setAttSpineScale.call(this),this.resetGongJiJiShu(),g.default.getInstance().setIsSkillState(!1);var a=this.hero_data.getSkillValue1(y.SkillType.Active),n=h.default.getInstance().getMonstersForCenterPos(-1,t,a),o=e.prototype.getGongJiData.call(this,y.DamageType.Skill,!1,y.SkillType.Active,this.hero_data.getSkillValue2(y.SkillType.Active)),i=this.hero_data.getSkillValue3(y.SkillType.Active);if(l.default.getInstance().createGameEffectById(c.GameEffectId.mei_mo_zhudong_skill_gound,t).scale=a/90,l.default.getInstance().createGameEffectById(c.GameEffectId.mei_mo_zhudong_skill_baozha,t).scale=a/90,n)for(var r=0;r<n.length;r++){var s=n[r].getComponent(p.default),d=s.beFlashInjured(o);if(d.getDamageNum()>0&&0==d.is_die){var m=new _.BuffData;m.buff_id=y.BuffId.Hero_MeiMo_Active_MeiHuo,m.remain_time=4,m.game_effect_id=c.GameEffectId.mei_mo_zhudong_skill_monster,m.buff_type=y.BuffType.Vertigo,s.addDeBuff(m,o);var I=new _.BuffData;I.buff_id=y.BuffId.Hero_MeiMo_Active_ZhengShang,I.remain_time=i,s.addDeBuff(I,o)}}u.default.getInstance().sound_manager.playSound(f.SoundIndex.YX_MMSkill)},i([M],t)}(m.default));a.default=C,cc._RF.pop()},{"../../../Constants":"Constants","../../../Game/FightingManager":"FightingManager","../../../Game/GameEffectsManager":"GameEffectsManager","../../../Game/GroundManager":"GroundManager","../../../Game/SkillManager":"SkillManager","../../../GameManager":"GameManager","../../../Monster/Monster":"Monster","../../../Monster/MonsterData":"MonsterData","../../../Monster/MonsterManager":"MonsterManager","../../../Sound/AudioConstants":"AudioConstants","../BuffData":"BuffData","../Hero":"Hero","../HeroConfig":"HeroConfig","./MeiDan":"MeiDan"}],MergeUi:[function(e,t,a){"use strict";cc._RF.push(t,"f3585Eu30dKw5+Mz+dO4re5","MergeUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../GameManager"),s=e("../../Sound/AudioConstants"),c=e("../../UI/UIComponent"),l=e("../EquipmentManager"),g=e("../../Hero/Game/HeroConfig"),u=e("../EquipConfig"),p=e("../../Prop/PropConfig"),d=e("../Data/EquipmentAttribute"),h=e("../../Prop/PropManager"),f=e("../../multiLanguage/TextLanguage"),_=e("../../Constants"),m=e("../../UI/UIManager"),y=e("../../UI/UIConfig"),I=e("./EquipInfoUi"),v=e("../../multiLanguage/LanguageManager"),M=e("../../Hero/Data/HeroManager"),C=e("../../Task/TaskEnum"),S=e("../../Task/TaskManager"),P=e("../../multiLanguage/FollowConstants"),k=e("../../multiLanguage/FollowManager"),b=cc._decorator,T=b.ccclass,B=b.property,w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.equip_info=null,t.equip_info2=null,t.cur_hero_type=g.Hero_Type.NULL,t.equip_type=u.EquipType.ShiPin,t.equipment1=null,t.equipment2=null,t.btnyes=null,t.btnno=null,t.buzutxt=null,t.jhctxt=null,t.noWear=null,t.bbg=null,t.content=null,t.costList=new Array,t.SynthesisSucceeded=null,t.EqfiUI=null,t}return o(t,e),t.prototype.initData=function(e,t,a,n){this.equip_info=e;var o=d.EquipmentAttributeManager.getInstance().getStage(e)+1,i=d.EquipmentAttributeManager.getInstance().getEquipmentPosition(e),r=d.EquipmentAttributeManager.getID(i,o);this.equip_info2=r,this.cur_hero_type=t,this.equip_type=a,this.EqfiUI=n,this.initUi(),this.loadEquipList()},t.prototype.initUi=function(){},t.prototype.loadEquipList=function(){this.SynthesisSucceeded.active=!1,this.costList=[];var e=l.EquipmentManager.getInstance().checkAEquipMerge(this.equip_info2,this.costList);if(this.equip_info){var t=l.EquipmentManager.getInstance().getEquipNodeById(this.equip_info,p.PropAction.Null,this.cur_hero_type);this.equipment1.addChild(t);var a=l.EquipmentManager.getInstance().getEquipNodeById(this.equip_info2,p.PropAction.Null);if(this.equipment2.addChild(a),e){this.bbg.height=600,this.jhctxt.active=!0,this.buzutxt.active=!1,this.btnyes.setPosition(-124,-244,0),this.btnno.setPosition(124,-244,0),this.btnyes.getChildByName("label").getComponent(f.default).setTextId(100102),this.noWear.setPosition(0,-129,0);for(var n=0;n<this.costList.length;n++){var o=h.PropManager.getInstance().createPropItem(this.costList[n].cost_id,this.costList[n].cost_num);o.scale=.8,o.parent=this.content}}else this.bbg.height=535,this.btnyes.getChildByName("label").getComponent(f.default).setTextId(200009),this.btnyes.setPosition(-124,-185,0),this.btnno.setPosition(124,-185,0),this.jhctxt.active=!1,this.buzutxt.active=!0,this.noWear.setPosition(0,-66,0)}},t.prototype.clickBtnyes=function(){if(100102==this.btnyes.getChildByName("label").getComponent(f.default).getTextId()){var e=M.HeroManager.getInstance().getHeroZhanli(this.cur_hero_type),t=M.HeroManager.getInstance().getDeepHeroData(this.cur_hero_type);k.default.getInstance().followEvent(P.Follow_Type.\u4e0d\u540cID\u88c5\u5907\u7684\u5408\u6210\u6b21\u6570+this.equip_info),h.PropManager.getInstance().changePropNum(this.equip_info2,1);for(var a=0;a<this.costList.length;a++){var n=this.costList[a];h.PropManager.getInstance().changePropNum(n.cost_id,-n.cost_num)}for(h.PropManager.getInstance().changePropNum(this.equip_info,-1),a=0;a<this.content.children.length;a++)this.content.children[a].destroy();S.default.getInstance().emitTask(C.TaskItem.\u5408\u6210X\u6b21\u88c5\u5907),this.equipment1.children[0].destroy(),this.equipment2.children[0].destroy(),r.default.getInstance().showMessage(v.default.getInstance().getStrByTextId(220006),.5),M.HeroManager.getInstance().addWearEquipment(this.cur_hero_type,this.equip_info2),this.initData(this.equip_info2,this.cur_hero_type,this.equip_type,this.EqfiUI);var o=M.HeroManager.getInstance().getHeroZhanli(this.cur_hero_type),i=M.HeroManager.getInstance().getDeepHeroData(this.cur_hero_type);e!=o&&m.UIManager.getInstance().showCombatChangeEffect(e,o,t,i)}else r.default.getInstance().game_to_home=_.Go_Type.City,r.default.getInstance().jumoAndShowUi(),m.UIManager.getInstance().closeAllUiDialog(y.UILayerLevel.One),this.clickBtnClose()},t.prototype.clickBtnClose=function(){for(var e=0;e<this.content.children.length;e++)this.content.children[e].destroy();this.equipment1.children[0].destroy(),this.equipment2.children[0].destroy(),this.EqfiUI.getComponent(I.default).refreshInfo(this.equip_info),r.default.getInstance().sound_manager.playSound(s.SoundIndex.click),this.onClose()},i([B(cc.Node)],t.prototype,"equipment1",void 0),i([B(cc.Node)],t.prototype,"equipment2",void 0),i([B(cc.Node)],t.prototype,"btnyes",void 0),i([B(cc.Node)],t.prototype,"btnno",void 0),i([B(cc.Node)],t.prototype,"buzutxt",void 0),i([B(cc.Node)],t.prototype,"jhctxt",void 0),i([B(cc.Node)],t.prototype,"noWear",void 0),i([B(cc.Node)],t.prototype,"bbg",void 0),i([B(cc.Node)],t.prototype,"content",void 0),i([B(cc.Node)],t.prototype,"SynthesisSucceeded",void 0),i([T],t)}(c.default);a.default=w,cc._RF.pop()},{"../../Constants":"Constants","../../GameManager":"GameManager","../../Hero/Data/HeroManager":"HeroManager","../../Hero/Game/HeroConfig":"HeroConfig","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../Task/TaskEnum":"TaskEnum","../../Task/TaskManager":"TaskManager","../../UI/UIComponent":"UIComponent","../../UI/UIConfig":"UIConfig","../../UI/UIManager":"UIManager","../../multiLanguage/FollowConstants":"FollowConstants","../../multiLanguage/FollowManager":"FollowManager","../../multiLanguage/LanguageManager":"LanguageManager","../../multiLanguage/TextLanguage":"TextLanguage","../Data/EquipmentAttribute":"EquipmentAttribute","../EquipConfig":"EquipConfig","../EquipmentManager":"EquipmentManager","./EquipInfoUi":"EquipInfoUi"}],MissionLevel:[function(e,t,a){"use strict";cc._RF.push(t,"508219D8DRBCK8oeTRrBuQz","MissionLevel"),Object.defineProperty(a,"__esModule",{value:!0}),a.MissionLevelManager=a.JsonMissionLevel=a.TableMonsterData=void 0;var n=e("../Loading/LoadManager"),o=e("../Constants"),i=e("../multiLanguage/LanguageManager"),r=e("../Monster/Data/MonsterGroupConfigure"),s=e("../Monster/Data/MonsterConfigure"),c=e("../Monster/Data/MonsterGrowthAttributes"),l=e("../Monster/Data/MonsterSkill"),g=function(){this.id=50010,this.num=1,this.level=1,this.hp_rate=1,this.refresh_time=0,this.score=10};a.TableMonsterData=g;var u=function(){this.LevelId=0,this.LevelTypes=0,this.Chapter=0,this.LevelNum=0,this.PosX=0,this.PosY=0,this.MonsterGroupConfigure=[],this.MaxWave=0,this.MonsterTideWave=[],this.TimeInterval=[],this.MonsterLevel=[],this.HpCoefficient=[],this.PassReward_Coin=0,this.RecommendedCombatPower=0};a.JsonMissionLevel=u;var p=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("MissionLevel",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonMissionLevel\u6210\u529f"),e.data=new Map;for(var n=a.json,o=0;o<n.length;o++){var i=new u;i=n[o],e.data.set(i.LevelId,i)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonMissionLevel=function(e){return this.data.get(e)},e.prototype.getLevelTypes=function(e){return this.data.get(e).LevelTypes},e.prototype.getChapter=function(e){return this.data.get(e).Chapter},e.prototype.getLevelNum=function(e){return this.data.get(e).LevelNum},e.prototype.getPosX=function(e){return this.data.get(e).PosX},e.prototype.getPosY=function(e){return this.data.get(e).PosY},e.prototype.getMonsterGroupConfigure=function(e){return this.data.get(e).MonsterGroupConfigure},e.prototype.getMaxWave=function(e){return this.data.get(e).MaxWave},e.prototype.getMonsterTideWave=function(e){return this.data.get(e).MonsterTideWave},e.prototype.getTimeInterval=function(e){return this.data.get(e).TimeInterval},e.prototype.getMonsterLevel=function(e){return this.data.get(e).MonsterLevel},e.prototype.getHpCoefficient=function(e){return this.data.get(e).HpCoefficient},e.prototype.getPassReward_Coin=function(e){return this.data.get(e).PassReward_Coin},e.prototype.getRecommendedCombatPower=function(e){return this.data.get(e).RecommendedCombatPower},e.getMaxLevelId=function(){return 6},e.getId=function(e,t){return 1e4*e+t},e.getMaxLevel=function(){return 255},e.prototype.getWaveNumByLevel=function(e){return this.getMonsterGroupConfigure(e).length},e.prototype.getLevelName=function(e){return this.getChapter(e)+"-"+this.getLevelNum(e)},e.prototype.getJsonLevelPosXY=function(e){return new cc.Vec2(this.getPosX(e),this.getPosY(e))},e.prototype.getFightingInfo=function(e){var t=this.getJsonMissionLevel(e),a=new o.FightingInfo;a.title_name=i.default.getInstance().getStrByTextId(130007)+" "+this.getLevelName(e);var n="bg/bg"+this.getChapter(e)%11;a.bg_name=n,a.wall_name=n+"_wall",a.wave_types=t.MonsterTideWave,a.wave_refresh_time=t.TimeInterval;for(var s=new Array,c=t.MonsterGroupConfigure,l=r.MonsterGroupConfigureManager.getInstance(),u=0;u<c.length;u++){for(var p=new Array,d=c[u],h=l.getJsonMonsterGroupConfigure(d),f=0;f<h.MonsterId.length;f++){var _=new g;_.id=h.MonsterId[f],_.num=h.MonsterNum[f],_.refresh_time=h.RefreshInterval[f],_.level=t.MonsterLevel[u],_.hp_rate=t.HpCoefficient[u],p.push(_),a.total_monster_num+=_.num}s.push(p)}return a.monster_datas=s,console.log("\u4e3b\u7ebf\u5173\u5361-"+e),a},e.prototype.getLevelPos=function(e){var t=this.getJsonMissionLevel(e);return cc.v2(t.PosX,t.PosY)},e.prototype.getLevelByZhanli=function(e,t){var a=1,n=e;return this.data.forEach(function(o,i){if(t==o.LevelTypes){var r=o.RecommendedCombatPower,s=Math.abs(r-e);s<n&&(n=s,a=i)}}),a},e.prototype.getLastLevel=function(e){var t=1,a=this.getChapter(e);return this.data.forEach(function(e){e.Chapter==a&&(t=e.LevelNum)}),t},e.prototype.getChapterLevel=function(e){var t=1;return this.data.forEach(function(a){a.Chapter==e&&(t=a.LevelId)}),t},e.prototype.getJsonLevelLength=function(){return this.data.size},e.prototype.getJsonLevelchapterLength=function(e){var t=0;return this.data.forEach(function(a){a.Chapter==e&&(t+=1)}),t},e.prototype.getJsonLevelchapterwholeLength=function(e){for(var t=0,a=0;a<1;)0==--e&&(e--,a=2),e>=1&&this.data.forEach(function(a){a.Chapter==e&&(t+=1)});return t},e.prototype.check=function(){this.data.forEach(function(e,t){e.MaxWave!=e.MonsterGroupConfigure.length&&console.error("\u5173\u5361"+t+"\u602a\u7269\u7ec4\u914d\u7f6e\u957f\u5ea6\u662f\uff1a"+e.MonsterGroupConfigure.length+",\u6700\u5927\u957f\u5ea6\uff1a"+e.MaxWave),e.MaxWave!=e.TimeInterval.length&&console.error("\u5173\u5361"+t+"\u65f6\u95f4\u95f4\u9694\u957f\u5ea6\u662f\uff1a"+e.TimeInterval.length+",\u6700\u5927\u957f\u5ea6\uff1a"+e.MaxWave),e.MaxWave!=e.HpCoefficient.length&&console.error("\u5173\u5361"+t+"\u8840\u91cf\u7cfb\u6570\u662f\uff1a"+e.HpCoefficient.length+",\u6700\u5927\u957f\u5ea6\uff1a"+e.MaxWave),e.MaxWave!=e.MonsterLevel.length&&console.error("\u5173\u5361"+t+"\u7b49\u7ea7\u957f\u5ea6\u662f\uff1a"+e.MonsterLevel.length+",\u6700\u5927\u957f\u5ea6\uff1a"+e.MaxWave);for(var a=e.MonsterGroupConfigure,n=0;n<a.length;n++){var o=a[n],i=r.MonsterGroupConfigureManager.getInstance().getJsonMonsterGroupConfigure(o);if(i){i.MonsterId.length!=i.MonsterNum.length&&console.error("\u602a\u7269\u7ec4\u914d\u7f6eid\u548c\u602a\u7269\u6570\u91cf\u5b58\u5728\u957f\u5ea6\u4e0d\u4e00\u81f4\uff1a"+o),i.MonsterId.length!=i.RefreshInterval.length&&console.error("\u602a\u7269\u7ec4\u914d\u7f6eid\u548c\u5237\u65b0\u65f6\u95f4\u5b58\u5728\u957f\u5ea6\u4e0d\u4e00\u81f4\uff1a"+o);for(var g=i.MonsterId,u=0;u<g.length;u++){var p=g[u],d=s.MonsterConfigureManager.getInstance().getJsonMonsterConfigure(p);if(d){var h=e.MonsterLevel[n],f=c.MonsterGrowthAttributesManager.getId(p,h),_=c.MonsterGrowthAttributesManager.getInstance().getJsonMonsterGrowthAttributes(f);if(_)for(var m=1;m<=d.SkillNum;m++){var y=l.MonsterSkillManager.getInstance().getId(d.MonsterId,m,_.SkillLevel);l.MonsterSkillManager.getInstance().getJsonMonsterSkill(y)||console.error("\u602a\u7269id\uff1a"+p+"\u6280\u80fdid\u4e0d\u5b58\u5728\uff1a"+y)}else console.error("\u602a\u7269\u5c5e\u6027id\u4e0d\u5b58\u5728\uff1a"+f)}else console.error("\u602a\u7269id\u4e0d\u5b58\u5728\uff1a"+p)}}else console.error("\u602a\u7269\u7ec4\u914d\u7f6eid\u4e0d\u5b58\u5728\uff1a"+o)}})},e._instance=null,e}();a.MissionLevelManager=p,cc._RF.pop()},{"../Constants":"Constants","../Loading/LoadManager":"LoadManager","../Monster/Data/MonsterConfigure":"MonsterConfigure","../Monster/Data/MonsterGroupConfigure":"MonsterGroupConfigure","../Monster/Data/MonsterGrowthAttributes":"MonsterGrowthAttributes","../Monster/Data/MonsterSkill":"MonsterSkill","../multiLanguage/LanguageManager":"LanguageManager"}],MonsterAttribute:[function(e,t,a){"use strict";cc._RF.push(t,"4364bjVlv1JEa8/fkMPz7/o","MonsterAttribute"),Object.defineProperty(a,"__esModule",{value:!0}),a.MonsterAttributeManager=a.JsonMonsterAttribute=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.Monster=0,this.MosterName_TextID=0,this.BaseHP=0,this.BaseAttack=0,this.BaseAttackSpeed=0,this.Area=[],this.Feature=0,this.Speed=0,this.BossMultiple=0,this.SummonMultiple=0};a.JsonMonsterAttribute=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("MonsterAttribute",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonMonsterAttribute\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.Monster,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonMonsterAttribute=function(e){return this.data.get(e)},e.prototype.getMosterName_TextID=function(e){return this.data.get(e).MosterName_TextID},e.prototype.getBaseHP=function(e){return this.data.get(e).BaseHP},e.prototype.getBaseAttack=function(e){return this.data.get(e).BaseAttack},e.prototype.getBaseAttackSpeed=function(e){return this.data.get(e).BaseAttackSpeed},e.prototype.getArea=function(e){return this.data.get(e).Area},e.prototype.getFeature=function(e){return this.data.get(e).Feature},e.prototype.getSpeed=function(e){return this.data.get(e).Speed},e.prototype.getBossMultiple=function(e){return this.data.get(e).BossMultiple},e.prototype.getSummonMultiple=function(e){return this.data.get(e).SummonMultiple},e.getMaxMonster=function(){return 50180},e._instance=null,e}();a.MonsterAttributeManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],MonsterBullet:[function(e,t,a){"use strict";cc._RF.push(t,"d5f74pedANPgZfCbRgBd3/a","MonsterBullet");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Constants"),s=e("../Game/GameEffectsManager"),c=e("../GameManager"),l=e("../Wall/Wall"),g=cc._decorator,u=g.ccclass,p=g.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.game_effect_id=0,t.game_effect_id_hit=0,t.move_speed=700,t.move_direction=Math.PI/2,t.offset_xx_angle=90,t.is_att=!0,t.monster_att_data=null,t.collision_target_callback=null,t.collider=null,t.acceleration=0,t.prefab_tuowei=null,t.tuowei_node=null,t.tuowei_space=.25,t.tuowei_time=.5,t.tuowei_guiyi=0,t}return o(t,e),t.prototype.init=function(e,t,a,n,o,i){void 0===i&&(i=90),this.monster_att_data=e,this.game_effect_id=t,this.game_effect_id_hit=a,this.move_speed=n,this.offset_xx_angle=i,this.is_att=!1,this.setDirection(o),this.collider=this.getComponent(cc.Collider),this.prefab_tuowei&&(this.tuowei_node=cc.instantiate(this.prefab_tuowei),this.tuowei_node.parent=this.node.parent,this.node.zIndex=1,this.tuowei_time=this.tuowei_node.getComponent(cc.MotionStreak).fadeTime,this.tuowei_guiyi=1/this.tuowei_time)},t.prototype.getNextPos=function(e){var t=c.default.getInstance().getGameRate();t<1&&(t=1);var a=this.tuowei_space*this.tuowei_guiyi*this.move_speed*e/t,n=this.node.x+Math.cos(this.move_direction)*a,o=this.node.y+Math.sin(this.move_direction)*a;return cc.v2(n,o)},t.prototype.getHeadPos=function(){var e=this.move_speed*cc.director.getDeltaTime(),t=this.node.x+Math.cos(this.move_direction)*e,a=this.node.y+Math.sin(this.move_direction)*e;return cc.v2(t,a)},t.prototype.getAPos=function(e){var t=this.move_speed*cc.director.getDeltaTime()-e,a=this.node.x+Math.cos(this.move_direction)*t,n=this.node.y+Math.sin(this.move_direction)*t;return cc.v2(a,n)},t.prototype.update=function(e){if(c.default.getInstance().cur_game_state==r.GameState.Game_Playing){var t=this.move_speed*e*Math.cos(this.move_direction),a=this.move_speed*e*Math.sin(this.move_direction);this.node.x+=t,this.node.y+=a,this.node.y>cc.winSize.height&&this.destroySelf(),Math.abs(this.node.x)>cc.winSize.width&&this.destroySelf(),this.tuowei_node&&this.tuowei_node.setPosition(this.getNextPos(e))}},t.prototype.destroySelf=function(){s.GameEffectsManager.getInstance().destroyGameEffectById(this.game_effect_id,this.node)},t.prototype.setDirection=function(e){this.move_direction=e,this.node.angle=180*e/Math.PI-this.offset_xx_angle},t.prototype.addCollisionWallListen=function(e){this.collision_target_callback=e},t.prototype.onCollisionEnter=function(e){var t=this;if(c.default.getInstance().cur_game_state!=r.GameState.Game_Lose&&1!=this.is_att)switch(e.node.group){case"wall":var a=e.node.getComponent(l.default);if(this.collision_target_callback&&this.collision_target_callback(a))return;if(a.beInjured(this.monster_att_data).getDamageNum()>0&&this.game_effect_id_hit>0){var n=s.GameEffectsManager.getInstance().createGameEffectById(this.game_effect_id_hit,this.node.getPosition()).getComponent(cc.Animation);n.play(),n.on(cc.Animation.EventType.FINISHED,function(){n.off(cc.Animation.EventType.FINISHED),s.GameEffectsManager.getInstance().destroyGameEffectById(t.game_effect_id_hit,t.node)})}this.destroySelf()}},i([p({type:cc.Prefab})],t.prototype,"prefab_tuowei",void 0),i([u],t)}(cc.Component);a.default=d,cc._RF.pop()},{"../Constants":"Constants","../Game/GameEffectsManager":"GameEffectsManager","../GameManager":"GameManager","../Wall/Wall":"Wall"}],MonsterConfigure:[function(e,t,a){"use strict";cc._RF.push(t,"8db92DLE4tOaZ5WwTNrxe5j","MonsterConfigure"),Object.defineProperty(a,"__esModule",{value:!0}),a.MonsterConfigureManager=a.JsonMonsterConfigure=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.MonsterId=0,this.MonsterClass=0,this.Skin=0,this.StrengthType=0,this.NameTextId=0,this.IntroTextId=0,this.Speed=0,this.AttackMode=0,this.AttackDistance=0,this.AttackSpeed=0,this.Scale=0,this.MonsterSpacing=0,this.SkillNum=0};a.JsonMonsterConfigure=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("MonsterConfigure",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonMonsterConfigure\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.MonsterId,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonMonsterConfigure=function(e){return this.data.get(e)},e.prototype.getMonsterClass=function(e){return this.data.get(e).MonsterClass},e.prototype.getSkin=function(e){return this.data.get(e).Skin},e.prototype.getStrengthType=function(e){return this.data.get(e).StrengthType},e.prototype.getNameTextId=function(e){return this.data.get(e).NameTextId},e.prototype.getIntroTextId=function(e){return this.data.get(e).IntroTextId},e.prototype.getSpeed=function(e){return this.data.get(e).Speed},e.prototype.getAttackMode=function(e){return this.data.get(e).AttackMode},e.prototype.getAttackDistance=function(e){return this.data.get(e).AttackDistance},e.prototype.getAttackSpeed=function(e){return this.data.get(e).AttackSpeed},e.prototype.getScale=function(e){return this.data.get(e).Scale},e.prototype.getMonsterSpacing=function(e){return this.data.get(e).MonsterSpacing},e.prototype.getSkillNum=function(e){return this.data.get(e).SkillNum},e.getMaxMonsterId=function(){return 30871},e._instance=null,e}();a.MonsterConfigureManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],MonsterDataManager:[function(e,t,a){"use strict";cc._RF.push(t,"ee044l0JoRBp4dSxSQhZ07k","MonsterDataManager"),Object.defineProperty(a,"__esModule",{value:!0}),a.MonsterDataManager=void 0;var n=e("../../Enemy/EnemyConfig"),o=e("./MonsterAttribute"),i=e("./MonsterFeature"),r=e("./MonsterManual"),s=e("./MonsterConfigure"),c=e("./MonsterGrowthAttributes"),l=e("./MonsterGroupConfigure"),g=e("./MonsterSkill"),u=function(){function e(){this.kill_enemys=[]}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){o.MonsterAttributeManager.getInstance(),i.MonsterFeatureManager.getInstance(),r.MonsterManualManager.getInstance(),s.MonsterConfigureManager.getInstance(),c.MonsterGrowthAttributesManager.getInstance(),l.MonsterGroupConfigureManager.getInstance(),g.MonsterSkillManager.getInstance()},e.prototype.loadAllKillEnemy=function(){this.kill_enemys=new Array;for(var e=0;e<n.Enemy_Type.enemy_num;e++){var t=cc.sys.localStorage.getItem("kill_enemy_"+e);""===t||null===t?(t=0,this.saveKillEnemy(e,t)):(t=parseInt(t),this.kill_enemys[e]=t)}},e.prototype.getKillEnemy=function(e){return this.kill_enemys[e]},e.prototype.addKillEnemy=function(e,t){this.kill_enemys[e]+=t},e.prototype.saveKillEnemy=function(e,t){this.kill_enemys[e]=t,cc.sys.localStorage.setItem("kill_enemy_"+e,t)},e.prototype.saveAllKillEnemy=function(){for(var e=0;e<n.Enemy_Type.enemy_num;e++)cc.sys.localStorage.setItem("kill_enemy_"+e,this.kill_enemys[e])},e.prototype.getKillRewardLevel=function(e){var t=cc.sys.localStorage.getItem("kill_reward_level_"+e);return""===t||null===t?0:parseInt(t)},e.prototype.saveKillRewardLevel=function(e,t){cc.sys.localStorage.setItem("kill_reward_level_"+e,t)},e.prototype.getIsCanGetKillReward=function(e){var t=this.getKillRewardLevel(e),a=this.getMonsterIdByType(e),n=r.MonsterManualManager.getInstance().getKillNumber(a);if(t>n.length)return!1;t==n.length&&(t=n.length-1);var o=n[t];return this.kill_enemys[e]>=o},e.prototype.getIsUnlockEnemy=function(e){return this.kill_enemys[e]>0},e.prototype.getMonsterIdByType=function(e){return 5e4+10*e},e.prototype.getDiamondRewardByLevel=function(e,t){var a=this.getMonsterIdByType(e),n=r.MonsterManualManager.getInstance().getDiamondReward(a);return t>=n.length&&(t=n.length-1),n[t]},e._instance=null,e}();a.MonsterDataManager=u,cc._RF.pop()},{"../../Enemy/EnemyConfig":"EnemyConfig","./MonsterAttribute":"MonsterAttribute","./MonsterConfigure":"MonsterConfigure","./MonsterFeature":"MonsterFeature","./MonsterGroupConfigure":"MonsterGroupConfigure","./MonsterGrowthAttributes":"MonsterGrowthAttributes","./MonsterManual":"MonsterManual","./MonsterSkill":"MonsterSkill"}],MonsterData:[function(e,t,a){"use strict";cc._RF.push(t,"81526AaR3VJLKppWrJkDvD7","MonsterData"),Object.defineProperty(a,"__esModule",{value:!0}),a.MonsterSkillData=a.MonsterAttData=a.StrengthType=a.GongJiMode=a.HiddenAttribute=a.InjuredData=a.FeedBackType=a.KeyFrameData=a.ColorType=a.MonsterSkinType=a.MonsterFaceName=a.MonsterActionName=void 0;var n=e("../Enemy/EnemyConfig"),o=e("../Hero/Game/HeroConfig");(function(e){e.Idle="Idle",e.Walk="Walk",e.Attack="Attack",e.Death="Death",e.Hurt="Hurt",e.SupportSkill="SupportSkill"})(a.MonsterActionName||(a.MonsterActionName={})),function(e){e.Back="Back",e.Front="Front",e.SideR="Side",e.SideL="Side"}(a.MonsterFaceName||(a.MonsterFaceName={})),function(e){e[e.Skin1=1]="Skin1",e[e.Skin2=2]="Skin2",e[e.Skin3=3]="Skin3",e[e.Skin4=4]="Skin4"}(a.MonsterSkinType||(a.MonsterSkinType={})),function(e){e[e.Null=0]="Null",e[e.Injured=1]="Injured",e[e.SlowDown=2]="SlowDown"}(a.ColorType||(a.ColorType={}));var i;a.KeyFrameData=function(){this.name="Attack",this.callback=null},function(e){e[e.Null=0]="Null",e[e.ShanBi=1]="ShanBi",e[e.GeDang=2]="GeDang",e[e.MainYi=3]="MainYi",e[e.Die=4]="Die",e[e.BaoJi=5]="BaoJi"}(i=a.FeedBackType||(a.FeedBackType={}));var r=function(){function e(){this.is_die=!1,this.damage_num=0,this.feedback_type=i.Null,this.text_type=n.Enemy_Injured_Type.Normal_Attack}return e.prototype.setDamageNum=function(e){e<0&&(e=0),this.damage_num=e},e.prototype.getDamageNum=function(){return this.damage_num},e.calcMissRate=function(e,t){var a=e-t,n=a<300?.001*a:5e-4*a;return n<0?n=0:n>1&&(n=1),n},e.calcCritRate=function(e,t){var a=e-t,n=a<300?.001*a:5e-4*a;return n<0?n=0:n>1&&(n=1),n},e.calcOnceType=function(e){for(var t=1,a=0;a<e.length;a++)if(t>0){var n=t-e[a];n>0?a==e.length-1?e[a]=t:t=n:(e[a]=t,t=0)}else e[a]=0;var o=0,i=Math.random(),r=0;for(a=0;a<e.length;a++)if(i<(o+=e[a])){r=a;break}return r},e.calcNormalDamageNum=function(e,t,a,n){var o=.03*Math.random(),i=(e=Math.random()>.5?e*(1-o):e*(1+o))-t;return i=(i=i*(1+a)*(1-n))<5?5*Math.random()+5:i,Math.round(i)},e.calcNormalCritDamageNum=function(e,t,a,n,o){var i=.03*Math.random(),r=(e=Math.random()>.5?e*(1-i):e*(1+i))*o-t;return r=(r=r*(1+a)*(1-n))<5?5*Math.random()+5:r,Math.round(r)},e.calcSkillDamageNum=function(e,t,a,n,o){e*=t;var i=.03*Math.random(),r=(e=Math.random()>.5?e*(1-i):e*(1+i))-a;return r=(r=r*(1+n)*(1-o))<1?1:r,Math.round(r)},e.calcSkillCritDamageNum=function(e,t,a,n,o,i){e*=t;var r=.03*Math.random(),s=(e=Math.random()>.5?e*(1-r):e*(1+r))*i-a;return s=(s=s*(1+n)*(1-o))<5?5*Math.random()+5:s,Math.round(s)},e.calcSkillRealDamageNum=function(e,t){var a=e*t;return a=a<5?5*Math.random()+5:a,Math.round(a)},e.calcSkillCritRealDamageNum=function(e,t,a){var n=e*t*a;return n=n<5?5*Math.random()+5:n,Math.round(n)},e.calcNormalRealDamageNum=function(e){var t=e;return t=t<5?5*Math.random()+5:t,Math.round(t)},e.calcNormalCritRealDamageNum=function(e,t){var a=e*t;return a=a<5?5*Math.random()+5:a,Math.round(a)},e.calcFinalExtraCrit=function(e,t){var a=e-t;return a<1.2&&(a=1.2),a},e.calcFinalDefense=function(e,t){var a=e*(1-t);return a<0&&(a=0),a},e.calcBloodSucking=function(e,t,a){var n=e*t*(1-a);return Math.round(n)},e.calcSlowDownNum=function(e,t,a,n){var o=e*(1+n-t)*(1-a);return o<0&&(o=0),o},e.calcSlowDownTime=function(e){return e},e.calcControlTime=function(e,t,a){var n=e*(1-t+a);return n<.1&&(n=.1),n},e}();a.InjuredData=r;var s;a.HiddenAttribute=function(){this.life_recovery=0,this.penetration_value=0,this.penetration_rate=0,this.blood_sucking_rate=0,this.serious_injury_rate=0,this.slow_resistance=0,this.toughness=0,this.insight=0},function(e){e[e.Melee=1]="Melee",e[e.Far=2]="Far"}(a.GongJiMode||(a.GongJiMode={})),function(e){e[e.Normal=1]="Normal",e[e.Elite=2]="Elite",e[e.Boss=3]="Boss"}(s=a.StrengthType||(a.StrengthType={}));a.MonsterAttData=function(){this.is_bullet=!0,this.monster_attribute=null,this.damage_type=o.DamageType.Normal,this.skill_rate=0,this.zengshang_rate=0,this.strength_type=s.Normal,this.monster_ts=null,this.is_big=!0};var c=function(){function e(){this.InitColdDown=null,this.ColdDown=null,this.SkillValue_1=null,this.SkillValue_2=null,this.SkillValue_3=null,this.SkillValue_4=null,this.CastingRange=null}return e.prototype.getCastingRange=function(e){return this.CastingRange.get(e)},e.prototype.getSkillColdDown=function(e){return this.ColdDown.get(e)},e.prototype.getSkillInitColdDown=function(e){return this.ColdDown.get(e)},e.prototype.getSkillValue1=function(e){return this.SkillValue_1.get(e)},e.prototype.getSkillValue2=function(e){return this.SkillValue_2.get(e)},e.prototype.getSkillValue3=function(e){return this.SkillValue_3.get(e)},e.prototype.getSkillValue4=function(e){return this.SkillValue_4.get(e)},e}();a.MonsterSkillData=c,cc._RF.pop()},{"../Enemy/EnemyConfig":"EnemyConfig","../Hero/Game/HeroConfig":"HeroConfig"}],MonsterDetails:[function(e,t,a){"use strict";cc._RF.push(t,"072b5BN6pdBZ5Y5r9s26w37","MonsterDetails");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Monster/Data/MonsterConfigure"),s=e("../../multiLanguage/TextLanguage"),c=cc._decorator,l=c.ccclass,g=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btnClose=null,t.bg=null,t.content=null,t.DamageNode=null,t.MStat_TXT=[],t.MStat_Frame=[],t.icon_atlas=null,t.Mon=[],t.MonsterDetailsarr=[],t}return o(t,e),t.prototype.start=function(){this.btnClose.on(cc.Node.EventType.TOUCH_END,function(){this.onCloseBtn()},this),this.bg.on(cc.Node.EventType.TOUCH_END,function(){this.onCloseBtn()},this)},t.prototype.onEnable=function(){for(var e=this.Mon.length;e<this.MonsterDetailsarr.length;e++){var t=cc.instantiate(this.DamageNode);this.content.addChild(t),this.Mon.push(t)}for(var a=r.MonsterConfigureManager.getInstance(),n=0;n<this.Mon.length;n++){var o=this.Mon[n];if(n<this.MonsterDetailsarr.length){o.active=!0;var i=o.getChildByName("MStat_Frame_Mask").getChildByName("icon"),c=this.MonsterDetailsarr[n].id;i.getComponent(cc.Sprite).spriteFrame=this.icon_atlas.getSpriteFrame("Avatar_Monster_"+c);var l=a.getStrengthType(c)-1;o.getChildByName("MStat_Frame").getComponent(cc.Sprite).spriteFrame=this.MStat_Frame[l],o.getChildByName("Layout").getChildByName("MStat_TXT").getComponent(cc.Sprite).spriteFrame=this.MStat_TXT[l];var g=o.getChildByName("Layout").getChildByName("name"),u=[new cc.Color(92,157,237),new cc.Color(205,158,255),new cc.Color(255,79,75)],p=[new cc.Color(25,55,88),new cc.Color(66,37,96),new cc.Color(79,16,15)];g.color=u[l],g.getComponent(cc.LabelOutline).color=p[l],g.getComponent(s.default).setTextId(a.getNameTextId(c)),o.getChildByName("describe").getComponent(s.default).setTextId(a.getIntroTextId(c))}else o.active=!1}},t.prototype.onCloseBtn=function(){this.node.active=!1},i([g(cc.Node)],t.prototype,"btnClose",void 0),i([g(cc.Node)],t.prototype,"bg",void 0),i([g(cc.Node)],t.prototype,"content",void 0),i([g(cc.Prefab)],t.prototype,"DamageNode",void 0),i([g(cc.SpriteFrame)],t.prototype,"MStat_TXT",void 0),i([g(cc.SpriteFrame)],t.prototype,"MStat_Frame",void 0),i([g(cc.SpriteAtlas)],t.prototype,"icon_atlas",void 0),i([l],t)}(cc.Component);a.default=u,cc._RF.pop()},{"../../Monster/Data/MonsterConfigure":"MonsterConfigure","../../multiLanguage/TextLanguage":"TextLanguage"}],MonsterElite:[function(e,t,a){"use strict";cc._RF.push(t,"916f7DvuSVNSr/dDoffmJHj","MonsterElite");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("./MonsterNormal"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),i([c],t)}(r.default));a.default=l,cc._RF.pop()},{"./MonsterNormal":"MonsterNormal"}],MonsterFeature:[function(e,t,a){"use strict";cc._RF.push(t,"5d9e7QbyRhI547IUme7H0bn","MonsterFeature"),Object.defineProperty(a,"__esModule",{value:!0}),a.MonsterFeatureManager=a.JsonMonsterFeature=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.FeatureNumber=0,this.Objective=0,this.FeatureDiscribe_TextID=0,this.Number=0,this.HP=0,this.Time=0,this.SpeedUp=0,this.Range=0,this.Recovery=0};a.JsonMonsterFeature=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("MonsterFeature",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonMonsterFeature\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.FeatureNumber,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonMonsterFeature=function(e){return this.data.get(e)},e.prototype.getObjective=function(e){return this.data.get(e).Objective},e.prototype.getFeatureDiscribe_TextID=function(e){return this.data.get(e).FeatureDiscribe_TextID},e.prototype.getNumber=function(e){return this.data.get(e).Number},e.prototype.getHP=function(e){return this.data.get(e).HP},e.prototype.getTime=function(e){return this.data.get(e).Time},e.prototype.getSpeedUp=function(e){return this.data.get(e).SpeedUp},e.prototype.getRange=function(e){return this.data.get(e).Range},e.prototype.getRecovery=function(e){return this.data.get(e).Recovery},e.getMaxFeatureNumber=function(){return 17},e._instance=null,e}();a.MonsterFeatureManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],MonsterGroupConfigure:[function(e,t,a){"use strict";cc._RF.push(t,"233f1dHOxpBRpx3SUgMFz+u","MonsterGroupConfigure"),Object.defineProperty(a,"__esModule",{value:!0}),a.MonsterGroupConfigureManager=a.JsonMonsterGroupConfigure=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.MonsterGroup=0,this.MonsterId=[],this.MonsterNum=[],this.RefreshInterval=[]};a.JsonMonsterGroupConfigure=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("MonsterGroupConfigure",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonMonsterGroupConfigure\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.MonsterGroup,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonMonsterGroupConfigure=function(e){return this.data.get(e)},e.prototype.getMonsterId=function(e){return this.data.get(e).MonsterId},e.prototype.getMonsterNum=function(e){return this.data.get(e).MonsterNum},e.prototype.getRefreshInterval=function(e){return this.data.get(e).RefreshInterval},e.getMaxMonsterGroup=function(){return 20},e._instance=null,e}();a.MonsterGroupConfigureManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],MonsterGrowthAttributes:[function(e,t,a){"use strict";cc._RF.push(t,"63fcdOX2WBJyYanA6ckGBN5","MonsterGrowthAttributes"),Object.defineProperty(a,"__esModule",{value:!0}),a.MonsterGrowthAttributesManager=a.JsonMonsterGrowthAttributes=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.AttributeId=0,this.MonsterId=0,this.Level=0,this.Attack=0,this.Health=0,this.Defense=0,this.Hit=0,this.Miss=0,this.Critical=0,this.ExtraCritical=0,this.AntiCritical=0,this.AntiExtraCritical=0,this.SkillLevel=0};a.JsonMonsterGrowthAttributes=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("MonsterGrowthAttributes",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonMonsterGrowthAttributes\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.AttributeId,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonMonsterGrowthAttributes=function(e){return this.data.get(e)},e.prototype.getMonsterId=function(e){return this.data.get(e).MonsterId},e.prototype.getLevel=function(e){return this.data.get(e).Level},e.prototype.getAttack=function(e){return this.data.get(e).Attack},e.prototype.getHealth=function(e){return this.data.get(e).Health},e.prototype.getDefense=function(e){return this.data.get(e).Defense},e.prototype.getHit=function(e){return this.data.get(e).Hit},e.prototype.getMiss=function(e){return this.data.get(e).Miss},e.prototype.getCritical=function(e){return this.data.get(e).Critical},e.prototype.getExtraCritical=function(e){return this.data.get(e).ExtraCritical},e.prototype.getAntiCritical=function(e){return this.data.get(e).AntiCritical},e.prototype.getAntiExtraCritical=function(e){return this.data.get(e).AntiExtraCritical},e.prototype.getSkillLevel=function(e){return this.data.get(e).SkillLevel},e.getMaxAttributeId=function(){return 800016},e.getId=function(e,t){return 1e4*e+t},e._instance=null,e}();a.MonsterGrowthAttributesManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],MonsterIconManager:[function(e,t,a){"use strict";cc._RF.push(t,"3d5a1LLoQZI5qhWzYUX4a5I","MonsterIconManager");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.MonsterIconManager=void 0;var r=e("./Data/MonsterConfigure"),s=cc._decorator,c=s.ccclass,l=s.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon_atlas=null,t.icon_item=null,t}var a;return o(t,e),a=t,t.getInstance=function(){return this._instance},t.prototype.onLoad=function(){a._instance=this,this.init()},t.prototype.onDestroy=function(){a._instance=null},t.prototype.init=function(){},t.prototype.getSpByName=function(e){return this.icon_atlas.getSpriteFrame(e)},t.prototype.getSpByMonsterId=function(e){var t="Avatar_Monster_"+e;return this.getSpByName(t)},t.prototype.createMonsterIcon=function(e,t){var a=r.MonsterConfigureManager.getInstance().getStrengthType(e),n=cc.instantiate(this.icon_item);return n.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.getSpByMonsterId(e),n.getChildByName("level").getComponent(cc.Label).string=t+"",n.getComponent(cc.Sprite).spriteFrame=this.getSpByName("Monster_frame_"+a),n},t._instance=null,i([l(cc.SpriteAtlas)],t.prototype,"icon_atlas",void 0),i([l(cc.Prefab)],t.prototype,"icon_item",void 0),a=i([c],t)}(cc.Component);a.MonsterIconManager=g,cc._RF.pop()},{"./Data/MonsterConfigure":"MonsterConfigure"}],MonsterManager:[function(e,t,a){"use strict";cc._RF.push(t,"2d337IOSLZP+LIsHM9D05MN","MonsterManager");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Constants"),s=e("../Game/GameEffectsManager"),c=e("../GameManager"),l=e("../Game/MapNodePool"),g=e("../Sound/AudioConstants"),u=e("./Data/MonsterConfigure"),p=e("./Monster"),d=e("./MonsterData"),h=e("../Game/GroundManager"),f=e("../Hero/Game/HeroConfig"),_=e("../Enemy/EnemyConfig"),m=e("../Wall/WallManager"),y=cc._decorator,I=y.ccclass,v=(y.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.is_load_ok=!1,t.ok_num=0,t.total_monster_num=0,t.killed_monster_num=0,t._ship_monster_num=0,t.drop_root=null,t.coin_pos=cc.v2(),t.prev_uuid="",t}var a;return o(t,e),a=t,t.getInstance=function(){return this._instance},t.prototype.onLoad=function(){a._instance=this,this.drop_root=cc.find("Canvas/Drop_Root");var t=cc.find("Canvas/Ui_Root/top_ui/iconBg/iconCoin"),n=t.parent.convertToWorldSpaceAR(t.getPosition());this.coin_pos=this.drop_root.convertToNodeSpaceAR(n),e.prototype.onLoad.call(this)},t.prototype.start=function(){this.loadData()},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this),a._instance=null},t.prototype.loadData=function(){var t=this;this.is_load_ok=!1,this.ok_num=0;var a=c.default.getInstance().fighting_info;this.killed_monster_num=0,this.ship_monster_num=0,this.destroyAllMonster(),this.total_monster_num=a.total_monster_num,this.prev_uuid="";var n=a.getOnlyMonsterTypeMap(),o=n.size,i=0;n.forEach(function(a,n){e.prototype.addNodePool.call(t,n,"monster/Monster_"+n,4,function(){t.ok_num++,t.ok_num>=o&&i<=0&&(t.is_load_ok=!0)}),a==d.StrengthType.Boss&&(s.GameEffectsManager.getInstance().addEffectPoolById(s.GameEffectId.boss_hp,1,function(){i--,t.ok_num>=o&&i<=0&&(t.is_load_ok=!0)})&&i++,s.GameEffectsManager.getInstance().addEffectPoolById(s.GameEffectId.boss_coming,1,function(){i--,t.ok_num>=o&&i<=0&&(t.is_load_ok=!0)})&&i++)}),s.GameEffectsManager.getInstance().addEffectPoolById(s.GameEffectId.drop_coin,16),s.GameEffectsManager.getInstance().addEffectPoolById(s.GameEffectId.drop_gem,16),s.GameEffectsManager.getInstance().addEffectPoolById(s.GameEffectId.drop_gem_shadow,16),s.GameEffectsManager.getInstance().addEffectPoolById(s.GameEffectId.drop_coin_shadow,16)},Object.defineProperty(t.prototype,"ship_monster_num",{get:function(){return this._ship_monster_num},set:function(e){this._ship_monster_num=e,this._ship_monster_num>=10&&c.default.getInstance().showGameLose()},enumerable:!1,configurable:!0}),t.prototype.addMonsterPool=function(t,a,n){var o=u.MonsterConfigureManager.getInstance().getJsonMonsterConfigure(t).MonsterClass;e.prototype.addNodePool.call(this,o,"monster/Monster_"+o,a,n)},t.prototype.createMonsterById=function(t,a,n,o,i){void 0===i&&(i=!0);var r=u.MonsterConfigureManager.getInstance().getMonsterClass(t),s=e.prototype.getNodeById.call(this,r);return this.node.addChild(s),s.setPosition(a),s.getComponent(p.default).init(t,n,o,i),s},t.prototype.createSummonMonster=function(e,t,a){var n=this,o=h.default.getInstance().createGameEffectById(s.GameEffectId.monster_zhaohuan,a),i=o.getComponent(sp.Skeleton),r=i.setAnimation(0,"Boss10_Skill2_ZhaoHuan_2",!1);i.setTrackEventListener(r,function(o,i){"ZhaoHuan"==i.data.name&&n.createMonsterById(e,a,t,1,!1)}),i.setCompleteListener(function(){i.setCompleteListener(null),s.GameEffectsManager.getInstance().destroyGameEffectById(s.GameEffectId.monster_zhaohuan,o)})},t.prototype.willDestroyMonster=function(e){c.default.getInstance().sound_manager.playSound(g.SoundIndex.YX_Shouji);var t=e.node.getPosition();return c.default.getInstance().cur_game_mode==r.GameMode.Main&&(this.createDropProp(t,s.GameEffectId.drop_coin),this.createDropProp(t,s.GameEffectId.drop_coin),this.createDropProp(t,s.GameEffectId.drop_gem)),!0},t.prototype.destroyMonster=function(t,a,n){void 0===n&&(n=!0),t.color=cc.Color.WHITE;var o=t.getComponent(p.default);if(o.setEnemyState(_.Enemy_State.die),o.is_can_count){if(o.uuid==this.prev_uuid)return;this.prev_uuid=o.uuid,this.killed_monster_num++,c.default.getInstance().onEnemyDie(o.score,o.is_can_count)}this.killed_monster_num+this.ship_monster_num>=this.total_monster_num&&n&&this.getRemainMonster()<=0&&c.default.getInstance().showGameWin(),e.prototype.destroyNode.call(this,a,t)},t.prototype.getRemainMonster=function(){for(var e=0,t=this.node.childrenCount,a=0;a<t;a++){var n=this.node.children[a].getComponent(p.default);n&&0==n.getIsDie()&&e++}return e},t.prototype.createDropProp=function(e,t){var a=h.default.getInstance().createGameEffectById(t,e,2);a.opacity=255;var n=20*Math.random()+30;n*=Math.random()<.5?1:-1;var o=40*Math.random()-20,i=20*Math.random()+30;cc.tween(a).then(cc.jumpBy(.5,n,o,i,1)).delay(10).to(.5,{opacity:0}).call(function(){s.GameEffectsManager.getInstance().destroyGameEffectById(t,a)}).start()},t.prototype.destroyAllDrop=function(){for(var e=this.drop_root.children,t=e.length,a=function(t){var a=e[t],n=parseInt(a.name);n&&cc.tween(a).to(.5,{opacity:0}).call(function(){s.GameEffectsManager.getInstance().destroyGameEffectById(n,a)}).start()},n=0;n<t;n++)a(n)},t.prototype.destroyAllMonster=function(){for(var e=this.node.children,t=e.length,a=0;a<t;a++){var n=e[a];if(n){var o=n.getComponent(p.default);o&&this.destroyMonster(n,o.monster_type)}}},t.prototype.getMonstersForNearest=function(e,t,a,n){if(void 0===n&&(n=null),0==e)return null;var o=this.node.childrenCount;if(o<=0)return null;for(var i=[],r=0;r<o;r++){var s=this.node.children[r],l=s.getComponent(p.default);l&&l.getIsCanCheck()&&t.sub(s.getPosition()).mag()<=a&&(null==n||-1==n?i.push(s):Math.abs(s.x-c.default.getInstance().charPosX)<=75&&s.y>m.default.getInstance().getMainWall().getWallRect().yMax&&i.push(s))}return i.length<=0?null:e<0?i:e>=i.length?i:(i.sort(function(e,a){return e.getPosition().sub(t).mag()-a.getPosition().sub(t).mag()}),i.splice(e),i)},t.prototype.getMonstersForNearestBySkill=function(e,t,a){if(0==e)return null;var n=this.node.childrenCount;if(n<=0)return null;for(var o=[],i=0;i<n;i++){var r=this.node.children[i],s=r.getComponent(p.default);s&&s.getIsCanCheck()&&s.getCenterPos().y-t<=a&&o.push(r)}return o.length<=0?null:e<0?o:e>=o.length?o:(o.sort(function(e,a){return e.y-t-(a.y-t)}),o.splice(e),o)},t.prototype.getMonstersForCenterPos=function(e,t,a){if(0==e)return null;var n=this.node.childrenCount;if(n<=0)return null;for(var o=[],i=0;i<n;i++){var r=this.node.children[i],s=r.getComponent(p.default);s&&s.getIsCanCheck()&&t.sub(s.getCenterPos()).mag()<=a&&o.push(r)}return o.length<=0?null:e<0?o:e>=o.length?o:(o.sort(function(e,a){return e.getPosition().sub(t).mag()-a.getPosition().sub(t).mag()}),o.splice(e),o)},t.prototype.getMonstersForBingNvWallRect=function(e){for(var t=this.node.childrenCount,a=new f.BingNvWallData,n=[],o=0;o<t;o++){var i=this.node.children[o],r=i.getComponent(p.default);r&&r.getIsCanCheck()&&e.contains(i.getPosition())&&(n.push(i),r.getStrengthType()==d.StrengthType.Boss&&(a.boss_ts=r))}return a.back_monsters=n,a},t.prototype.getMonstersForMaxHp=function(e,t,a){if(0==e)return null;var n=this.node.childrenCount;if(n<=0)return null;for(var o=[],i=0;i<n;i++){var r=this.node.children[i],s=r.getComponent(p.default);s&&s.getIsCanCheck()&&t.sub(r.getPosition()).mag()<=a&&o.push(r)}return o.length<=0?null:e<0?o:e>=o.length?o:(o.sort(function(e,t){return t.getComponent(p.default).getCurHp()-e.getComponent(p.default).getCurHp()}),o.splice(e),o)},t.prototype.getMonstersForMaxAttak=function(e,t,a){if(0==e)return null;var n=this.node.childrenCount;if(n<=0)return null;for(var o=[],i=0;i<n;i++){var r=this.node.children[i],s=r.getComponent(p.default);s&&s.getIsCanCheck()&&t.sub(r.getPosition()).mag()<=a&&o.push(r)}return o.length<=0?null:e<0?o:e>=o.length?o:(o.sort(function(e,t){return t.getComponent(p.default).getCurAtt()-e.getComponent(p.default).getCurAtt()}),o.splice(e),o)},t.prototype.getMonstersForRadian=function(e,t,a,n,o){if(0==e)return null;var i=this.node.childrenCount;if(i<=0)return null;var r=2*Math.PI;n=(r+n)%r,o=(r+o)%r;for(var s=[],c=0;c<i;c++){var l=this.node.children[c],g=l.getComponent(p.default);if(g&&g.getIsCanCheck()){var u=g.getCenterPos().sub(t),d=Math.atan2(u.y,u.x);(d=(r+d)%r)>=n&&d<=o&&u.mag()<=a&&s.push(l)}}return s.length<=0?null:s},t.prototype.getMonstersForMonsterPos=function(e,t,a){if(0==e)return null;var n=this.node.childrenCount;if(n<=0)return null;for(var o=[],i=0;i<n;i++){var r=this.node.children[i],s=r.getComponent(p.default);s&&!s.getIsDie()&&t.sub(r.getPosition()).mag()<=a&&o.push(r)}return o.length<=0?null:e<0?o:e>=o.length?o:(o.splice(e),o)},t.prototype.checkWallMonster=function(e){for(var t=this.node.childrenCount,a=c.default.getInstance().enemy_att_y,n=0;n<t;n++){var o=this.node.children[n],i=o.getComponent(p.default);if(i&&!i.getIsDie()&&Math.abs(a-o.y)<=e)return!0}return!1},t.prototype.onAllBack=function(){},t.prototype.lateUpdate=function(){this.prev_uuid=""},t._instance=null,a=i([I],t)}(l.default));a.default=v,cc._RF.pop()},{"../Constants":"Constants","../Enemy/EnemyConfig":"EnemyConfig","../Game/GameEffectsManager":"GameEffectsManager","../Game/GroundManager":"GroundManager","../Game/MapNodePool":"MapNodePool","../GameManager":"GameManager","../Hero/Game/HeroConfig":"HeroConfig","../Sound/AudioConstants":"AudioConstants","../Wall/WallManager":"WallManager","./Data/MonsterConfigure":"MonsterConfigure","./Monster":"Monster","./MonsterData":"MonsterData"}],MonsterManual:[function(e,t,a){"use strict";cc._RF.push(t,"68abe56ILVEDIwcOZatZacO","MonsterManual"),Object.defineProperty(a,"__esModule",{value:!0}),a.MonsterManualManager=a.JsonMonsterManual=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.Monster=0,this.KillNumber=[],this.DiamondReward=[],this.BoneResource=0};a.JsonMonsterManual=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("MonsterManual",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonMonsterManual\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.Monster,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonMonsterManual=function(e){return this.data.get(e)},e.prototype.getKillNumber=function(e){return this.data.get(e).KillNumber},e.prototype.getDiamondReward=function(e){return this.data.get(e).DiamondReward},e.prototype.getBoneResource=function(e){return this.data.get(e).BoneResource},e.getMaxMonster=function(){return 50170},e._instance=null,e}();a.MonsterManualManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],MonsterNewNormal:[function(e,t,a){"use strict";cc._RF.push(t,"d338a8fV3tPvoxFoneBUrlB","MonsterNewNormal");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Constants"),s=e("../Enemy/EnemyConfig"),c=e("../Game/GameEffectsManager"),l=e("../GameManager"),g=e("../Hero/Game/HeroConfig"),u=e("../Wall/WallManager"),p=e("./Monster"),d=e("./MonsterBullet"),h=e("./MonsterData"),f=e("./MonsterManager"),_=cc._decorator,m=_.ccclass,y=_.property,I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.monster_xuanyun_callback=null,t.monster_init_callback=null,t.monster_death_callback=null,t.monster_att_callback=null,t.monster_att_hit_callback=null,t.monster_far_att=0,t.monster_far_att_hit=0,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.addDeathCallback(this.onDeath),this.addInitListen(this.onMonsterInited),this.addXuanYunListen(this.onXuanYunResult)},t.prototype.onMonsterInited=function(){this.initOutward(),this.base_data.AttackMode==h.GongJiMode.Far&&(this.monster_far_att>0&&c.GameEffectsManager.getInstance().addEffectPoolById(this.monster_far_att),this.monster_far_att_hit>0&&c.GameEffectsManager.getInstance().addEffectPoolById(this.monster_far_att_hit)),this.scheduleOnce(this.idleToMove,1),this.monster_init_callback&&this.monster_init_callback(),this.node.scaleX=Math.random()>.5?this.setup_scale:-this.setup_scale},t.prototype.idleToMove=function(){this.setEnemyState(s.Enemy_State.move)},t.prototype.addMonsterNormalDeath=function(e){this.monster_death_callback=e},t.prototype.addMonsterNormalInited=function(e){this.monster_init_callback=e},t.prototype.addMonsterNormalAttack=function(e){this.monster_att_callback=e},t.prototype.addMonsterNormalAttackHit=function(e){this.monster_att_hit_callback=e},t.prototype.addMonsterNormalXuanYun=function(e){this.monster_xuanyun_callback=e},t.prototype.initOutward=function(){this.setSkin(this.getSkinName()),e.prototype.playSpinAnimaton.call(this,this.getAnimaName(h.MonsterActionName.Walk),!0)},t.prototype.setTargetPos=function(e,t){this.move_target_pos=e,this.move_end_callback=t},t.prototype.setSkin=function(e){this.spine.setSkin(e)},t.prototype.setFaceType=function(e){this.face_type=e},t.prototype.getSkinName=function(){return h.MonsterFaceName.SideR+this.skin_type},t.prototype.getAnimaName=function(e){return h.MonsterFaceName.SideR+"_"+e},t.prototype.setAttTarget=function(e){this.att_target=e,e?this.att_jishu=this.att_jiange:this.setMoveDir(3*Math.PI/2)},t.prototype.startAttack=function(t){var a=this;if(!this.monster_att_callback||!this.monster_att_callback()){if(e.prototype.setEnemyState.call(this,s.Enemy_State.att),this.att_jishu=0,t){var n=t.getPosition().sub(this.node.getPosition());this.setMoveDir(Math.atan2(n.y,n.x)),this.checkFace(h.MonsterActionName.Attack)}else this.setMoveDir(3*Math.PI/2),this.checkFace(h.MonsterActionName.Attack);var o=new h.KeyFrameData;o.name="OnDamaging",o.callback=function(){if(a.att_jishu=0,!a.getIsDie())switch(a.base_data.AttackMode){case h.GongJiMode.Melee:if(t)t.removeFromParent(),a.setAttTarget(null);else{var n=e.prototype.injureWall.call(a,e.prototype.getAttData.call(a,g.DamageType.Normal,!1));0==n.is_die&&n.getDamageNum()>0&&a.monster_att_hit_callback&&a.monster_att_hit_callback(n)}var o=t?t.getPosition():cc.v2(a.node.x,a.att_wall.getWallMaxYY());c.GameEffectsManager.getInstance().createGameEffectById(c.GameEffectId.monster_normal_att,o).scale=e.prototype.getWallAttackScale.call(a);break;case h.GongJiMode.Far:c.GameEffectsManager.getInstance().createGameEffectById(a.monster_far_att,e.prototype.getAttPos.call(a)).getComponent(d.default).init(a.getAttData(g.DamageType.Normal,!0),a.monster_far_att,a.monster_far_att_hit,1200,3*Math.PI/2)}},e.prototype.playSpinAnimaton.call(this,this.getAnimaName(h.MonsterActionName.Attack),!1,o,function(){a.startIdle(),e.prototype.setEnemyState.call(a,s.Enemy_State.move),a.att_wall&&a.setMoveDir(Math.random()>.5?Math.PI:0)})}},t.prototype.startIdle=function(){e.prototype.playSpinAnimaton.call(this,this.getAnimaName(h.MonsterActionName.Walk),!0)},t.prototype.onXuanYunResult=function(e){e?this.startXuanYun():(this.att_jishu=0,this.setEnemyState(s.Enemy_State.move)),this.monster_xuanyun_callback&&this.monster_xuanyun_callback(e)},t.prototype.startXuanYun=function(){this.spine.paused=!0},t.prototype.onDeath=function(){var t=this;this.removeAllDeBuff(),this.shadow.opacity=0,this.node.opacity=0,c.GameEffectsManager.getInstance().createGameEffectById(c.GameEffectId.monster_die,e.prototype.getCenterPos.call(this)).scale=this.base_data.StrengthType==h.StrengthType.Normal?.4:.8,cc.tween(this.node).delay(.5).call(function(){t.removeAllDeBuff(),f.default.getInstance().destroyMonster(t.node,t.monster_type)}).start(),this.monster_death_callback&&this.monster_death_callback()},t.prototype.update=function(t){l.default.getInstance().cur_game_state!=r.GameState.Game_Playing||this.getIsDie()||(e.prototype.update.call(this,t),this.isHaveDeBuffType(g.BuffType.Vertigo)?this.isHaveDeBuff(g.BuffId.Hero_MeiMo_Active_MeiHuo)&&this.moving(t):this.getEnemyState()!=s.Enemy_State.skill&&this.checkAtt(t))},t.prototype.moving=function(e){if(!this.isHaveDeBuff(g.BuffId.Hero_XuanYun)&&(this.getEnemyState()==s.Enemy_State.move||this.getEnemyState()==s.Enemy_State.ship)){var t=this.cur_move_speed*e;if(this.move_target_pos){var a=this.move_target_pos.sub(this.node.getPosition());if(a.mag()<t)this.move_end_callback&&(this.move_end_callback(),this.move_end_callback=null);else{var n=2*Math.PI;this.setMoveDir((Math.atan2(a.y,a.x)+n)%n),this.startMove(e)}}else this.startMove(e)}},t.prototype.startMove=function(e){var t=this.node.x,a=this.node.y,n=this.cur_move_speed*e;t+=n*Math.cos(this.move_direction),a+=n*Math.sin(this.move_direction),0!=this.setX(t)&&(this.move_direction+=Math.PI),this.setY(a),this.checkFace(h.MonsterActionName.Walk)},t.prototype.checkFace=function(t){var a=2*Math.PI;this.setMoveDir((this.move_direction+a)%a);var n=h.MonsterFaceName.SideL;this.move_direction!=3*Math.PI/2&&(this.move_direction>=Math.PI/2&&this.move_direction<=3*Math.PI/2?this.node.scaleX=-this.setup_scale:this.node.scaleX=this.setup_scale),this.face_type!=n?(this.setFaceType(n),this.setSkin(this.getSkinName()),e.prototype.playSpinAnimaton.call(this,this.getAnimaName(t),!0)):this.spine.animation!=this.getAnimaName(h.MonsterActionName.Walk)&&e.prototype.playSpinAnimaton.call(this,this.getAnimaName(t),!0)},t.prototype.checkAtt=function(e){this.att_jishu+=e,this.att_jishu>=this.att_jiange?(this.att_jishu=this.att_jiange,this.att_target?this.attTarget(e):this.attWall(e)):this.moving(e)},t.prototype.attTarget=function(e){this.node.getPosition().sub(this.att_target.getPosition()).mag()<=this.base_data.AttackDistance?this.startAttack(this.att_target):(this.move_target_pos=this.att_target.getPosition(),this.moving(e))},t.prototype.attWall=function(e){var t=this,a=u.default.getInstance().getAllWall(),n=null;a.forEach(function(e){t.node.y>=e.getWallMaxYY()&&Math.abs(t.node.y-e.getWallMaxYY())<=t.base_data.AttackDistance&&(n=e)}),null!=n?(this.att_wall=n,this.startAttack()):(this.setMoveDir(3*Math.PI/2),this.move_target_pos=null,this.moving(e))},i([y()],t.prototype,"monster_far_att",void 0),i([y()],t.prototype,"monster_far_att_hit",void 0),i([m],t)}(p.default);a.default=I,cc._RF.pop()},{"../Constants":"Constants","../Enemy/EnemyConfig":"EnemyConfig","../Game/GameEffectsManager":"GameEffectsManager","../GameManager":"GameManager","../Hero/Game/HeroConfig":"HeroConfig","../Wall/WallManager":"WallManager","./Monster":"Monster","./MonsterBullet":"MonsterBullet","./MonsterData":"MonsterData","./MonsterManager":"MonsterManager"}],MonsterNormal:[function(e,t,a){"use strict";cc._RF.push(t,"c07bfyz1JpARosONNYtLr53","MonsterNormal");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Constants"),s=e("../Enemy/EnemyConfig"),c=e("../Game/GameEffectsManager"),l=e("../Game/Move"),g=e("../GameManager"),u=e("../Hero/Game/HeroConfig"),p=e("../Wall/WallManager"),d=e("./Monster"),h=e("./MonsterData"),f=e("./MonsterManager"),_=cc._decorator,m=_.ccclass,y=(_.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.monster_xuanyun_callback=null,t.monster_init_callback=null,t.monster_death_callback=null,t.monster_att_callback=null,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.addDeathCallback(this.onMonsterDeath),this.addInitListen(this.onMonsterInited),this.addXuanYunListen(this.onXuanYunResult)},t.prototype.onMonsterInited=function(){var e=this;this.initOutward(),this.base_data.AttackMode==h.GongJiMode.Far&&(c.GameEffectsManager.getInstance().addEffectPoolById(c.GameEffectId.monster_far_att),c.GameEffectsManager.getInstance().addEffectPoolById(c.GameEffectId.monster_far_att_hit)),this.scheduleOnce(function(){e.setEnemyState(s.Enemy_State.move)},1),this.monster_init_callback&&this.monster_init_callback()},t.prototype.addMonsterNormalInited=function(e){this.monster_init_callback=e},t.prototype.initOutward=function(){this.setSkin(this.getSkinName()),e.prototype.playSpinAnimaton.call(this,this.getAnimaName(h.MonsterActionName.Idle),!0)},t.prototype.setTargetPos=function(e,t){this.move_target_pos=e,this.move_end_callback=t},t.prototype.setSkin=function(e){this.spine.setSkin(e)},t.prototype.setFaceType=function(e){this.face_type=e,this.face_type==h.MonsterFaceName.SideL?this.node.scaleX=-this.setup_scale:this.node.scaleX=this.setup_scale},t.prototype.getSkinName=function(){return this.face_type+this.skin_type},t.prototype.getAnimaName=function(e){return this.face_type+"_"+e},t.prototype.setAttTarget=function(e){this.att_target=e,e?this.att_jishu=this.att_jiange:this.move_direction=3*Math.PI/2},t.prototype.addMonsterNormalAttack=function(e){this.monster_att_callback=e},t.prototype.startAttack=function(t){var a=this;if(!this.monster_att_callback||!this.monster_att_callback()){if(e.prototype.setEnemyState.call(this,s.Enemy_State.att),this.att_jishu=0,t){var n=t.getPosition().sub(this.node.getPosition());this.move_direction=Math.atan2(n.y,n.x),this.checkFace(h.MonsterActionName.Attack)}else this.move_direction=3*Math.PI/2,this.checkFace(h.MonsterActionName.Attack);var o=new h.KeyFrameData;o.name="OnDamaging",o.callback=function(){switch(a.att_jishu=0,a.base_data.AttackMode){case h.GongJiMode.Melee:t?(t.removeFromParent(),a.setAttTarget(null)):e.prototype.injureWall.call(a,e.prototype.getAttData.call(a,u.DamageType.Normal,!1));var n=t?t.getPosition():cc.v2(a.node.x,a.att_wall.getWallMaxYY());c.GameEffectsManager.getInstance().createGameEffectById(c.GameEffectId.monster_normal_att,n).scale=e.prototype.getWallAttackScale.call(a);break;case h.GongJiMode.Far:n=t?t.getPosition():cc.v2(a.node.x,a.att_wall.getWallMaxYY()),a.startLaunch(n)}},e.prototype.playSpinAnimaton.call(this,this.getAnimaName(h.MonsterActionName.Attack),!1,o,function(){a.startIdle(),e.prototype.setEnemyState.call(a,s.Enemy_State.move),a.att_wall&&(a.move_direction=Math.random()>.5?Math.PI:0)})}},t.prototype.startLaunch=function(t){var a=this,n=c.GameEffectsManager.getInstance().createGameEffectById(c.GameEffectId.monster_far_att,this.getAttPos()),o=n.getComponent(l.default);o.init(400,0,c.GameEffectId.monster_far_att),o.setTargetPos(t,function(){c.GameEffectsManager.getInstance().createGameEffectById(c.GameEffectId.monster_far_att_hit,n.getPosition()),e.prototype.injureWall.call(a,e.prototype.getAttData.call(a,u.DamageType.Normal,!0))})},t.prototype.startIdle=function(){e.prototype.playSpinAnimaton.call(this,this.getAnimaName(h.MonsterActionName.Idle),!0)},t.prototype.addMonsterNormalXuanYun=function(e){this.monster_xuanyun_callback=e},t.prototype.onXuanYunResult=function(e){e?this.startXuanYun():(this.att_jishu=0,this.setEnemyState(s.Enemy_State.move)),this.monster_xuanyun_callback&&this.monster_xuanyun_callback(e)},t.prototype.startXuanYun=function(){var t=this;e.prototype.playSpinAnimaton.call(this,this.getAnimaName(h.MonsterActionName.Hurt),!1,null,function(){t.isHaveBuff(u.BuffId.Hero_XuanYun)&&(t.spine.paused=!0)})},t.prototype.addMonsterNormalDeath=function(e){this.monster_death_callback=e},t.prototype.onMonsterDeath=function(){var t=this;this.removeAllDeBuff(),this.shadow.opacity=0,this.node.opacity=0,c.GameEffectsManager.getInstance().createGameEffectById(c.GameEffectId.monster_die,e.prototype.getCenterPos.call(this)).scale=this.base_data.StrengthType==h.StrengthType.Normal?.4:.8,this.monster_death_callback&&this.monster_death_callback(),cc.tween(this.node).delay(.5).call(function(){t.removeAllDeBuff(),f.default.getInstance().destroyMonster(t.node,t.monster_type)}).start()},t.prototype.update=function(t){g.default.getInstance().cur_game_state!=r.GameState.Game_Playing||this.getIsDie()||(e.prototype.update.call(this,t),this.isHaveDeBuffType(u.BuffType.Vertigo)?this.isHaveDeBuff(u.BuffId.Hero_MeiMo_Active_MeiHuo)&&this.moving(t):this.checkAtt(t))},t.prototype.moving=function(e){if(!this.isHaveDeBuff(u.BuffId.Hero_XuanYun)&&this.getEnemyState()==s.Enemy_State.move){var t=this.cur_move_speed*e;if(this.move_target_pos){var a=this.move_target_pos.sub(this.node.getPosition());if(a.mag()<t)this.move_end_callback&&(this.move_end_callback(),this.move_end_callback=null);else{var n=2*Math.PI;this.move_direction=(Math.atan2(a.y,a.x)+n)%n,this.startMove(e)}}else this.startMove(e)}},t.prototype.startMove=function(e){var t=this.node.x,a=this.node.y,n=this.cur_move_speed*e;t+=n*Math.cos(this.move_direction),a+=n*Math.sin(this.move_direction),0!=this.setX(t)&&(this.move_direction+=Math.PI),this.setY(a),this.checkFace(h.MonsterActionName.Walk)},t.prototype.checkFace=function(t){var a=2*Math.PI;this.move_direction=(this.move_direction+a)%a;var n=h.MonsterFaceName.Front;n=this.move_direction>=Math.PI/3&&this.move_direction<=2*Math.PI/3?h.MonsterFaceName.Back:this.move_direction>=4*Math.PI/3&&this.move_direction<=5*Math.PI/3?h.MonsterFaceName.Front:this.move_direction>=2*Math.PI/3&&this.move_direction<=4*Math.PI/3?h.MonsterFaceName.SideL:h.MonsterFaceName.SideR,this.face_type!=n?(this.setFaceType(n),this.setSkin(this.getSkinName()),e.prototype.playSpinAnimaton.call(this,this.getAnimaName(t),!0)):this.spine.animation!=this.getAnimaName(h.MonsterActionName.Walk)&&e.prototype.playSpinAnimaton.call(this,this.getAnimaName(t),!0)},t.prototype.checkAtt=function(e){this.att_jishu+=e,this.att_jishu>=this.att_jiange?(this.att_jishu=this.att_jiange,this.att_target?this.attTarget(e):this.attWall(e)):this.moving(e)},t.prototype.attTarget=function(e){this.node.getPosition().sub(this.att_target.getPosition()).mag()<=this.base_data.AttackDistance?this.startAttack(this.att_target):(this.move_target_pos=this.att_target.getPosition(),this.getEnemyState()==s.Enemy_State.move&&this.moving(e))},t.prototype.attWall=function(e){var t=this,a=p.default.getInstance().getAllWall(),n=null;a.forEach(function(e){t.node.y>=e.getWallMaxYY()&&Math.abs(t.node.y-e.getWallMaxYY())<=t.base_data.AttackDistance&&(n=e)}),null!=n?(this.att_wall=n,this.startAttack()):(this.move_direction=3*Math.PI/2,this.move_target_pos=null,this.moving(e))},i([m],t)}(d.default));a.default=y,cc._RF.pop()},{"../Constants":"Constants","../Enemy/EnemyConfig":"EnemyConfig","../Game/GameEffectsManager":"GameEffectsManager","../Game/Move":"Move","../GameManager":"GameManager","../Hero/Game/HeroConfig":"HeroConfig","../Wall/WallManager":"WallManager","./Monster":"Monster","./MonsterData":"MonsterData","./MonsterManager":"MonsterManager"}],MonsterSkill:[function(e,t,a){"use strict";cc._RF.push(t,"45a6d7ct+BCypCjbb/TOc6j","MonsterSkill"),Object.defineProperty(a,"__esModule",{value:!0}),a.MonsterSkillManager=a.JsonMonsterSkill=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.MonsterSkill=0,this.MonsterId=0,this.SkillIntro=0,this.SkillNum=0,this.SkillLevel=0,this.InitialColdDown=0,this.ColdDown=0,this.CastingRange=0,this.SkillValue_1=0,this.SkillValue_2=0,this.SkillValue_3=0,this.SkillValue_4=0};a.JsonMonsterSkill=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("MonsterSkill",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonMonsterSkill\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.MonsterSkill,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonMonsterSkill=function(e){return this.data.get(e)},e.prototype.getMonsterId=function(e){return this.data.get(e).MonsterId},e.prototype.getSkillIntro=function(e){return this.data.get(e).SkillIntro},e.prototype.getSkillNum=function(e){return this.data.get(e).SkillNum},e.prototype.getSkillLevel=function(e){return this.data.get(e).SkillLevel},e.prototype.getInitialColdDown=function(e){return this.data.get(e).InitialColdDown},e.prototype.getColdDown=function(e){return this.data.get(e).ColdDown},e.prototype.getCastingRange=function(e){return this.data.get(e).CastingRange},e.prototype.getSkillValue_1=function(e){return this.data.get(e).SkillValue_1},e.prototype.getSkillValue_2=function(e){return this.data.get(e).SkillValue_2},e.prototype.getSkillValue_3=function(e){return this.data.get(e).SkillValue_3},e.prototype.getSkillValue_4=function(e){return this.data.get(e).SkillValue_4},e.getMaxMonsterSkill=function(){return 30811201},e.prototype.getId=function(e,t,a){return 1e3*e+100*t+a},e._instance=null,e}();a.MonsterSkillManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],Monster:[function(e,t,a){"use strict";cc._RF.push(t,"43abeF3DnhCGLVjn0lYhFwx","Monster");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Enemy/EnemyConfig"),s=e("./HpProgressBar"),c=e("../Game/GameEffectsManager"),l=e("../GameManager"),g=e("./MonsterData"),u=e("./Data/MonsterConfigure"),p=e("./MonsterManager"),d=e("./Data/MonsterGrowthAttributes"),h=e("../Game/GroundManager"),f=e("../Constants"),_=e("../Activity/BossChallenge"),m=e("../Hero/Game/HeroConfig"),y=e("../Hero/Game/BuffTimer"),I=e("../Hero/Game/BuffData"),v=e("../Game/SkillManager"),M=e("../Sound/AudioConstants"),C=e("./Data/MonsterSkill"),S=e("../Wall/WallManager"),P=cc._decorator,k=P.ccclass,b=(P.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spine=null,t.skin_type=g.MonsterSkinType.Skin1,t.monster_id=10011,t.monster_level=1,t.monster_hp_rate=1,t.monster_type=1,t.monster_data=null,t.base_attribute_data=null,t.base_data=null,t.hidden_attribute=null,t.cur_move_speed=0,t.move_target_pos=null,t.move_direction=3*Math.PI/2,t.face_type=g.MonsterFaceName.Front,t.cur_hp=0,t.max_hp=0,t.hp_progress=null,t.shadow=null,t.shadow_pos=null,t.shadow_size=null,t.jianshang_rate=0,t.zengshang_rate=0,t.att_jiange=1,t.att_jishu=0,t.skill_jishu=0,t.cur_att=0,t.cur_toughness=0,t.att_target=null,t.monster_state=r.Enemy_State.standby,t.prev_state=r.Enemy_State.standby,t.monster_buff=null,t.monster_debuff=null,t.setup_scale=.4,t.is_boss=!1,t.is_can_count=!0,t.is_count=!0,t.wall_yy=0,t.att_pos=cc.v2(0,0),t.score=0,t.juji_pos=cc.v2(0,0),t.hp_pos=cc.v2(0,0),t.center_pos=cc.v2(0,0),t.injured_action=null,t.init_callback=null,t.change_hp_callback=null,t.xuanyun_callback=null,t.death_callback=null,t.active_injury_callback=null,t.move_end_callback=null,t.injury_damage_stats=null,t.is_can_gully=!1,t.monster_halo=null,t.ex_miss_rate=0,t.ex_defense_value=0,t.ex_move_speed_value=0,t.skill_data=null,t.skill_cold_down=[],t.skill_queue=[],t.cur_skill_index=0,t.collider=null,t.att_wall=null,t.min_qianyin=0,t.cur_color=g.ColorType.Null,t}return o(t,e),t.prototype.onLoad=function(){c.GameEffectsManager.getInstance().addEffectPoolById(c.GameEffectId.monster_normal_att,8),c.GameEffectsManager.getInstance().addEffectPoolById(c.GameEffectId.monster_die,8),this.spine=this.node.getComponent(sp.Skeleton),this.loadInitPos(),this.wall_yy=l.default.getInstance().enemy_att_y,this.monster_buff=new Map,this.monster_debuff=new Map,this.monster_halo=new Map,this.collider=this.node.getComponent(cc.Collider),this.collider.enabled=!0},t.prototype.init=function(e,t,a,n){void 0===n&&(n=!0),this.monster_id=e,this.monster_level=t,this.monster_hp_rate=a;var o=u.MonsterConfigureManager.getInstance().getJsonMonsterConfigure(e);this.monster_type=o.MonsterClass;var i=d.MonsterGrowthAttributesManager.getId(this.monster_id,t);this.base_attribute_data=d.MonsterGrowthAttributesManager.getInstance().getJsonMonsterGrowthAttributes(i),this.is_can_gully=!0,this.is_can_count=n,this.is_count=this.is_can_count,this.ex_miss_rate=0,this.ex_defense_value=0,this.initData(o),this.addHpProgress(),this.addShadow(),this.setEnemyState(r.Enemy_State.standby),this.setColor(g.ColorType.Null),this.collider=this.node.getComponent(cc.Collider),this.collider.enabled=!0,this.min_qianyin=0,this.init_callback&&this.init_callback()},t.prototype.initSummon=function(e,t){this.monster_id=e;var a=u.MonsterConfigureManager.getInstance().getJsonMonsterConfigure(e);switch(this.monster_type=a.MonsterClass,this.is_can_gully=!0,this.is_can_count=!1,this.is_count=this.is_can_count,this.base_attribute_data=cc.instantiate(t),a.StrengthType){case g.StrengthType.Elite:this.base_attribute_data.Health=t.Health/50,this.base_attribute_data.Attack=.9724*t.Attack,this.base_attribute_data.Defense=.6*t.Defense;break;case g.StrengthType.Normal:this.base_attribute_data.Health=t.Health/50,this.base_attribute_data.Attack=.9592*t.Attack,this.base_attribute_data.Defense=0}this.initData(a),this.addHpProgress(),this.addShadow(),this.setEnemyState(r.Enemy_State.standby),this.setColor(g.ColorType.Null),this.collider=this.node.getComponent(cc.Collider),this.collider.enabled=!0,this.min_qianyin=0,this.init_callback&&this.init_callback()},t.prototype.refreshData=function(e){this.monster_level=e;var t=u.MonsterConfigureManager.getInstance().getJsonMonsterConfigure(this.monster_id),a=d.MonsterGrowthAttributesManager.getId(this.monster_id,e);this.base_attribute_data=d.MonsterGrowthAttributesManager.getInstance().getJsonMonsterGrowthAttributes(a),this.monster_data=cc.instantiate(this.base_attribute_data),this.base_data=t,this.cur_hp=this.max_hp=this.monster_data.Health,this.cur_move_speed=this.base_data.Speed,this.att_jiange=1/this.base_data.AttackSpeed,this.cur_att=this.monster_data.Attack},t.prototype.initData=function(e){this.monster_data=cc.instantiate(this.base_attribute_data),this.base_data=e,this.cur_hp=this.max_hp=this.monster_data.Health*this.monster_hp_rate,this.cur_move_speed=this.base_data.Speed,this.att_jiange=1/this.base_data.AttackSpeed,this.cur_att=this.monster_data.Attack,this.cur_toughness=0,this.setup_scale=this.base_data.Scale,this.node.scale=this.setup_scale,this.node.opacity=255,this.skin_type=e.Skin,this.hidden_attribute=new g.HiddenAttribute,this.injury_damage_stats=new Map,this.base_data.SkillNum>0&&this.loadMonsterSkillData()},t.prototype.loadMonsterSkillData=function(){var e=new g.MonsterSkillData;e.ColdDown=new Map,e.InitColdDown=new Map,e.SkillValue_1=new Map,e.SkillValue_2=new Map,e.SkillValue_3=new Map,e.SkillValue_4=new Map,e.CastingRange=new Map;for(var t=1;t<=this.base_data.SkillNum;t++){var a=C.MonsterSkillManager.getInstance().getId(this.monster_id,t,this.base_attribute_data.SkillLevel),n=C.MonsterSkillManager.getInstance().getJsonMonsterSkill(a);null!=n&&(e.SkillValue_1.set(t,n.SkillValue_1),e.SkillValue_2.set(t,n.SkillValue_2),e.SkillValue_3.set(t,n.SkillValue_3),e.SkillValue_4.set(t,n.SkillValue_4),e.ColdDown.set(t,n.ColdDown),e.InitColdDown.set(t,n.InitialColdDown),this.skill_cold_down[t-1]=n.InitialColdDown,e.CastingRange.set(t,n.CastingRange))}this.skill_data=e},t.prototype.addHpProgress=function(){this.hp_progress||(this.base_data.StrengthType!=g.StrengthType.Boss&&(this.hp_progress=l.default.getInstance().enemy_hp_manager.createEnemyHp(cc.v2(this.node.x+this.hp_pos.x*this.setup_scale,this.node.y+this.hp_pos.y*this.setup_scale)).getComponent(s.default)),this.showHp())},t.prototype.addShadow=function(){this.shadow?(this.shadow.opacity=255,this.shadow.setPosition(this.node.getPosition().add(this.shadow_pos))):(this.shadow=h.default.getInstance().createShadow(this.node.getPosition().add(this.shadow_pos)),this.shadow.width=this.node.scaleX*this.shadow_size.width,this.shadow.height=this.node.scaleY*this.shadow_size.height)},t.prototype.showHp=function(){this.hp_progress&&this.hp_progress.changeProgress(this.cur_hp/this.max_hp)},t.prototype.setIsCanCount=function(e){this.is_can_count=e},t.prototype.getSetupScale=function(){return this.setup_scale},t.prototype.getSheShouAttackScale=function(){var e=.3;switch(this.base_data.StrengthType){case g.StrengthType.Normal:e=.55;break;case g.StrengthType.Elite:e=.75;break;case g.StrengthType.Boss:e=1.2}return e},t.prototype.getWallAttackScale=function(){var e=1;switch(this.base_data.StrengthType){case g.StrengthType.Normal:e=.6;break;case g.StrengthType.Elite:e=.9}return e},t.prototype.getXuanyunScale=function(){var e=.3;switch(this.base_data.StrengthType){case g.StrengthType.Normal:e=.55/this.setup_scale;break;case g.StrengthType.Elite:e=.75/this.setup_scale;break;case g.StrengthType.Boss:e=1.5/this.setup_scale}return e},t.prototype.getStrengthType=function(){return this.base_data.StrengthType},t.prototype.getMonsterData=function(){return this.monster_data},t.prototype.getInjuredData=function(e){var t=new g.InjuredData;if(this.getIsDie())return t.feedback_type=g.FeedBackType.Die,t;var a=l.default.getInstance(),n=0,o=0,i=e.hero_data,s=this.monster_data.Defense+this.ex_defense_value,c=g.InjuredData.calcFinalDefense(s,i.ignore_defense_rate);if(e.damage_type==m.DamageType.Normal){if(this.isHaveBuff(m.BuffId.Boss2_MianYi_Attack))return t.feedback_type=g.FeedBackType.MainYi,t.text_type=r.Enemy_Injured_Type.WuDi,a.hp_text_manager.createTypeText(cc.v2(this.node.x,this.node.y+60),r.Enemy_Injured_Type.WuDi,null),t;switch(n=g.InjuredData.calcMissRate(this.monster_data.Miss,e.hero_data.Hit)+this.ex_miss_rate-e.hero_data.hit_ex,o=g.InjuredData.calcCritRate(e.hero_data.Critical,this.monster_data.AntiCritical),o+=e.hero_data.crit_ex,g.InjuredData.calcOnceType([n,o,1])){case 0:t.feedback_type=g.FeedBackType.ShanBi,t.setDamageNum(0),t.text_type=r.Enemy_Injured_Type.ShanBi,a.hp_text_manager.createTypeText(cc.v2(this.node.x,this.node.y+60),r.Enemy_Injured_Type.ShanBi,null);break;case 1:t.feedback_type=g.FeedBackType.BaoJi;var u=g.InjuredData.calcNormalCritDamageNum(i.total_attack,c,i.attack_increase_damage+i.all_increase_damage,this.jianshang_rate,g.InjuredData.calcFinalExtraCrit(i.ExtraCritical,this.monster_data.AntiExtraCritical));t.setDamageNum(u),t.text_type=r.Enemy_Injured_Type.BaoJi,0==e.pet_id&&l.default.getInstance().all_hero.get(e.hero_type).onDamageMonster(m.DamageType.Normal,!0,this.node),a.is_show_text||a.hp_text_manager.createTypeText(cc.v2(this.node.x,this.node.y+60),t.text_type,null);break;case 2:t.feedback_type=g.FeedBackType.Null,u=g.InjuredData.calcNormalDamageNum(i.total_attack,c,i.attack_increase_damage+i.all_increase_damage,this.jianshang_rate),t.setDamageNum(u),t.text_type=r.Enemy_Injured_Type.Normal_Attack,0==e.pet_id&&l.default.getInstance().all_hero.get(e.hero_type).onDamageMonster(m.DamageType.Normal,!1,this.node)}}else e.damage_type==m.DamageType.Skill&&(t.feedback_type=g.FeedBackType.Null,u=0,e.is_can_crit?(o=g.InjuredData.calcCritRate(e.hero_data.Critical,this.monster_data.AntiCritical),o+=e.hero_data.crit_ex,1==g.InjuredData.calcOnceType([0,o,1])?(t.feedback_type=g.FeedBackType.BaoJi,t.text_type=r.Enemy_Injured_Type.BaoJi,u=g.InjuredData.calcSkillCritDamageNum(i.total_attack,e.skill_damage_rate,c,i.skill_increase_damage+i.all_increase_damage,this.jianshang_rate,g.InjuredData.calcFinalExtraCrit(i.ExtraCritical,this.monster_data.AntiExtraCritical)),a.is_show_text||a.hp_text_manager.createTypeText(cc.v2(this.node.x,this.node.y+60),t.text_type,null)):u=g.InjuredData.calcSkillDamageNum(i.total_attack,e.skill_damage_rate,c,i.skill_increase_damage+i.all_increase_damage,this.jianshang_rate)):u=g.InjuredData.calcSkillDamageNum(i.total_attack,e.skill_damage_rate,c,i.skill_increase_damage+i.all_increase_damage,this.jianshang_rate),t.setDamageNum(u),0==e.pet_id&&l.default.getInstance().all_hero.get(e.hero_type).onDamageMonster(m.DamageType.Skill,!1,this.node));return t},t.prototype.beFlashInjured=function(e){var t=this.getInjuredData(e);return this.beDamage(t,e),t},t.prototype.beContinuousInjured=function(e,t){if(void 0===t&&(t=1),e.continuous_damage_rate>0){var a=this.monster_data.Defense+this.ex_defense_value,n=g.InjuredData.calcFinalDefense(a,e.hero_data.ignore_defense_rate),o=e.hero_data,i=new g.InjuredData,s=g.InjuredData.calcSkillDamageNum(o.total_attack,e.continuous_damage_rate,n,o.skill_increase_damage+o.all_increase_damage,this.jianshang_rate);i.text_type=r.Enemy_Injured_Type.ZhongDu,e.hero_type==m.Hero_Type.NvWu&&(s*=t),i.setDamageNum(s),this.beDamage(i,e)}},t.prototype.beRealDamage=function(e,t){var a=new g.InjuredData;return a.setDamageNum(t),this.beDamage(a,e),a},t.prototype.beHeal=function(e){if(this.getCurHp()>=this.getMaxHp()||1==this.getIsDie())return!1;var t=e*(1-this.getMaxSeriously());return this.changeHp(t),l.default.getInstance().hp_text_manager.createHpTextHp(this.getCenterPos(),t,r.Enemy_Injured_Type.ZhiLiao),!0},t.prototype.beDamage=function(e,t){if(this.getStrengthType()==g.StrengthType.Boss&&this.isHaveBuff(m.BuffId.Boss9_Skill_3_widu))return e.feedback_type=g.FeedBackType.MainYi,e.text_type=r.Enemy_Injured_Type.WuDi,void l.default.getInstance().hp_text_manager.createTypeText(cc.v2(this.node.x,this.node.y+60),r.Enemy_Injured_Type.WuDi,null);if(e.getDamageNum()>0){var a=l.default.getInstance();if(e.is_die=this.changeHp(-e.getDamageNum()),a.is_show_text&&e.getDamageNum()>0&&a.hp_text_manager.createHpTextHp(cc.v2(this.node.x,this.node.y+100*Math.random()),e.getDamageNum(),e.text_type),e.is_die||this.startHurt(),t.hero_data.blood_sucking_rate>0&&e.getDamageNum()>0){var n=g.InjuredData.calcBloodSucking(e.getDamageNum(),t.hero_data.blood_sucking_rate,t.hero_data.serious_injury_rate);n>0&&S.default.getInstance().getMainWall().changeHp(n)}switch(a.setMaxDamage(e.getDamageNum()),a.setMinDamage(e.getDamageNum()),t.skill_release_id>0&&(v.default.getInstance().recordDamage(t.skill_release_id,e.getDamageNum()),this.active_injury_callback&&this.active_injury_callback()),t.damage_type){case m.DamageType.Normal:a.hero_attack_dps[t.hero_type]+=e.getDamageNum();break;case m.DamageType.Skill:a.hero_skill_dps[t.hero_type]+=e.getDamageNum()}if(v.default.getInstance().getDeLuYiEx()&&this.isHaveDeBuff(m.BuffId.Hero_DeLuYi_Ex)){var o=e.getDamageNum()*v.default.getInstance().getDeLuYiEx();o<1&&(o=1),this.changeHp(-o),a.hero_skill_dps[m.Hero_Type.DeLuYi]+=o,a.is_show_text&&a.hp_text_manager.createHpTextHp(cc.v2(this.node.x,this.node.y+32),o,r.Enemy_Injured_Type.Normal_Attack)}}},t.prototype.changeHp=function(e){if(this.getIsDie()||this.getEnemyState()==r.Enemy_State.born||l.default.getInstance().cur_game_state!=f.GameState.Game_Playing)return!1;var t=!1;if(this.cur_hp+=e,l.default.getInstance().cur_game_mode==f.GameMode.Boss_Challenge&&this.base_data.StrengthType==g.StrengthType.Boss){this.cur_hp<=0&&(this.cur_hp=1),this.change_hp_callback&&this.change_hp_callback(e);var a=_.BossChallengeManager.getInstance().addScore(Math.abs(Math.round(e)));return a!=this.monster_level&&this.refreshData(a),!1}return this.cur_hp<=0&&(this.startDeath(),t=!0),this.cur_hp>this.max_hp&&(this.cur_hp=this.max_hp),this.change_hp_callback&&this.change_hp_callback(e),this.showHp(),t},t.prototype.addBuff=function(e){var t=this;if(0==this.monster_buff.has(e.buff_id)){var a,n=null;switch(e.game_effect_id==c.GameEffectId.Null?((n=new cc.Node(e.game_effect_id.toString())).setPosition(this.juji_pos),this.node.addChild(n)):(n=c.GameEffectsManager.getInstance().createGameEffectForParent(e.game_effect_id,this.juji_pos,this.node)).scale=this.getSheShouAttackScale(),(a=n.getComponent(y.default))||(a=n.addComponent(y.default)),a.init(e),e.recovery_jiange_time>0&&a.addRecoveryListen({doRecovery:function(e){t.beHeal(e)}},a.getFirstBuffValue()),this.monster_buff.set(e.buff_id,a),a.addDestroyListen(this.onBuffDestory.bind(this)),e.buff_type){case m.BuffType.MoveSpeedUp:this.refreshMoveSpeed(0);break;case m.BuffType.AttSpeedUp:this.changeAttackSpeed(e.buff_value[0])}switch(e.buff_id){case m.BuffId.Boss9_Skill_1_guozai:this.zengshang_rate+=e.buff_value[0],this.monster_data.Defense-=this.base_attribute_data.Defense*e.buff_value[1];break;case m.BuffId.Boss10_Skill_4_kuangbao_gjl:this.monster_data.Attack+=this.base_attribute_data.Attack*e.buff_value[0]}return a}return(a=this.monster_buff.get(e.buff_id)).refreshBuff(e),a},t.prototype.subBuff=function(e){var t=this.monster_buff.get(e);return!!t&&(t.destroySelf(),!0)},t.prototype.onBuffDestory=function(e){switch(this.monster_buff.delete(e.buff_id),e.buff_type){case m.BuffType.MoveSpeedUp:this.refreshMoveSpeed(0);break;case m.BuffType.AttSpeedUp:this.changeAttackSpeed(-e.buff_value[0])}switch(e.buff_id){case m.BuffId.Boss9_Skill_1_guozai:this.zengshang_rate-=e.buff_value[0],this.monster_data.Defense+=this.base_attribute_data.Defense*e.buff_value[1];break;case m.BuffId.Boss10_Skill_4_kuangbao_gjl:this.monster_data.Attack-=this.base_attribute_data.Attack*e.buff_value[0]}},t.prototype.isHaveBuff=function(e){return this.monster_buff.has(e)},t.prototype.getBuff=function(e){return this.monster_buff.get(e)},t.prototype.isHaveBuffType=function(e){var t=!1;return this.monster_buff.forEach(function(a){0==t&&a.getBuffType()==e&&(t=!0)}),t},t.prototype.removeAllBuff=function(){this.monster_buff.forEach(function(e){e.destroySelf()})},t.prototype.addDeBuff=function(e,t){var a=this;if(!this.getIsDie()){if(this.isHaveDeBuff(e.buff_id)){var n=this.monster_debuff.get(e.buff_id);switch(n.refreshBuff(e),e.buff_id){case m.BuffId.Hero_ChangMaoShow_Skill:u=this.monster_debuff.get(e.buff_id).node,d=1/this.setup_scale,u.scale=d,u.stopAllActions(),cc.tween(u).to(.1,{scale:1.1*d,opacity:255}).to(.1,{scale:u.scale,opacity:128}).start()}return n}var o=e.buff_type;switch(o){case m.BuffType.Vertigo:if(this.cur_toughness>=1)return l.default.getInstance().hp_text_manager.createTypeText(cc.v2(this.node.x,this.node.y+60),r.Enemy_Injured_Type.MianYiKongZhi,null),this.isHaveBuff(m.BuffId.Boss3_MianYi_KongZhi)&&this.getBuff(m.BuffId.Boss3_MianYi_KongZhi).addFloor(),null;switch(t&&(e.remain_time=g.InjuredData.calcControlTime(e.remain_time,this.cur_toughness,t.hero_data.insight)),e.buff_id){case m.BuffId.Hero_XuanYun:this.att_jishu=0,this.xuanyun_callback?this.xuanyun_callback(!0):this.spine.paused=!0;break;case m.BuffId.Hero_MeiMo_Active_MeiHuo:if(this.getStrengthType()==g.StrengthType.Boss)return;this.att_jishu=0;var i=l.default.getInstance().getHero(m.Hero_Type.MeiMo).node.getPosition().sub(this.node.getPosition()),s=Math.atan2(i.y,i.x);this.setMoveDir(s),this.setEnemyState(r.Enemy_State.move)}}var u=null;e.game_effect_id==c.GameEffectId.Null?((u=new cc.Node(e.game_effect_id.toString())).setPosition(this.juji_pos),this.node.addChild(u)):(u=c.GameEffectsManager.getInstance().createGameEffectForParent(e.game_effect_id,this.juji_pos,this.node)).scale=this.getSheShouAttackScale();var p=u.getComponent(y.default);switch(p||(p=u.addComponent(y.default)),p.init(e),p.addDestroyListen(this.onDebuffDestory.bind(this)),e.damage_jiange_time>0&&t&&p.addDamageListen({doDamage:function(e){a.beContinuousInjured(e,p.getFloorNum())}},t),this.monster_debuff.set(e.buff_id,p),o){case m.BuffType.Vertigo:u.scale=this.getXuanyunScale();break;case m.BuffType.Slowdown:this.refreshMoveSpeed(this.hidden_attribute.slow_resistance);break;case m.BuffType.Burst:e.buff_id==m.BuffId.Hero_LeiShen_ChaoFuHe&&t&&p.addBurstListen(e.buff_value[0],this.onBuffBurst.bind(this),t)}switch(e.buff_id){case m.BuffId.Hero_ChangMaoShow_Skill:var d=1/this.setup_scale;u.scale=d,u.stopAllActions(),cc.tween(u).to(.1,{scale:1.1*d,opacity:255}).to(.1,{scale:u.scale,opacity:128}).start();break;case m.BuffId.Hero_MeiMo_Active_MeiHuo:this.refreshMoveSpeed(0);break;case m.BuffId.Boss_Mode_JianShang:this.jianshang_rate+=e.buff_value[0];break;case m.BuffId.Hero_NvWu_ExSkill_JianGongSu:this.changeAttackSpeed(-e.buff_value[0])}return p}},t.prototype.subDeBuff=function(e){var t=this.monster_debuff.get(e);return!!t&&(t.destroySelf(),!0)},t.prototype.isHaveDeBuff=function(e){return this.monster_debuff.has(e)},t.prototype.getDeBuff=function(e){return this.monster_debuff.get(e)},t.prototype.isHaveDeBuffType=function(e){var t=!1;return this.monster_debuff.forEach(function(a){0==t&&a.getBuffType()==e&&(t=!0)}),t},t.prototype.removeAllDeBuff=function(){var e=this;this.monster_debuff.forEach(function(t){e.subDeBuff(t.getBuffId())})},t.prototype.onDebuffDestory=function(e){switch(this.monster_debuff.delete(e.buff_id),e.buff_type){case m.BuffType.Vertigo:switch(e.buff_id){case m.BuffId.Hero_XuanYun:this.spine.paused=!1,this.xuanyun_callback&&this.xuanyun_callback(!1);break;case m.BuffId.Hero_MeiMo_Active_MeiHuo:if(this.getStrengthType()==g.StrengthType.Boss)return;this.setMoveDir(3*Math.PI/2),this.refreshMoveSpeed(0)}break;case m.BuffType.Slowdown:this.refreshMoveSpeed(this.hidden_attribute.slow_resistance)}switch(e.buff_id){case m.BuffId.Boss_Mode_JianShang:this.jianshang_rate-=e.buff_value[0];break;case m.BuffId.Hero_NvWu_ExSkill_JianGongSu:this.changeAttackSpeed(+e.buff_value[0])}},t.prototype.onBuffBurst=function(e,t){if(e.buff_id==m.BuffId.Hero_LeiShen_ChaoFuHe){l.default.getInstance().sound_manager.playSound(M.SoundIndex.YX_LeiGodSkill1);var a=this.beFlashInjured(t);if(0==a.is_die&&a.getDamageNum()>0){var n=c.GameEffectsManager.getInstance().createGameEffectById(c.GameEffectId.lei_shen_skill_sky,this.shadow.getPosition());if(n.scaleX=.8,n.scaleY=1,this.getStrengthType()!=g.StrengthType.Boss&&0==a.is_die){var o=new I.BuffData;o.buff_id=m.BuffId.Hero_XuanYun,o.game_effect_id=c.GameEffectId.xuanyun,o.buff_type=m.BuffType.Vertigo,o.remain_time=t.hero_data.getSkillValue2(m.SkillType.Passive_2),this.addDeBuff(o,t)}}}},t.prototype.refreshMoveSpeed=function(e){if(this.isHaveDeBuff(m.BuffId.Hero_MeiMo_Active_MeiHuo))this.cur_move_speed=30;else{var t=g.InjuredData.calcSlowDownNum(this.base_data.Speed+this.ex_move_speed_value,this.getMaxSlowDownValue(),e,this.getMaxSpeedUpValue());this.cur_move_speed=t,this.setColor(this.cur_move_speed<this.base_data.Speed?g.ColorType.SlowDown:g.ColorType.Null)}this.getStrengthType()!=g.StrengthType.Boss&&(this.spine.timeScale=this.cur_move_speed/this.base_data.Speed)},t.prototype.getMaxSlowDownValue=function(){var e=new Array;return this.monster_debuff.forEach(function(t){t.getBuffType()==m.BuffType.Slowdown&&e.push(t)}),e.length>0?(e.sort(function(e,t){return t.getFirstBuffValue()-e.getFirstBuffValue()}),e[0].getFirstBuffValue()):0},t.prototype.getMaxSpeedUpValue=function(){var e=new Array;return this.monster_buff.forEach(function(t){t.getBuffType()==m.BuffType.MoveSpeedUp&&e.push(t)}),e.length>0?(e.sort(function(e,t){return t.getFirstBuffValue()-e.getFirstBuffValue()}),e[0].getFirstBuffValue()):0},t.prototype.setAttackSpeed=function(e){e>10&&(e=10),e<.1&&(e=.1),this.att_jiange=1/e},t.prototype.changeAttackSpeed=function(e){var t=this.getAttackSpeed();t+=e*this.base_data.AttackSpeed,this.setAttackSpeed(t)},t.prototype.getAttackSpeed=function(){return 1/this.att_jiange},t.prototype.getMaxSeriously=function(){var e=new Array;return this.monster_debuff.forEach(function(t){t.getBuffType()==m.BuffType.SeriouslyInjured&&e.push(t)}),e.length>0?(e.sort(function(e,t){return t.getFirstBuffValue()-e.getFirstBuffValue()}),e[0].getFirstBuffValue()):0},t.prototype.addHalo=function(e){if(!this.monster_halo.has(e.halo_id))switch(this.monster_halo.set(e.halo_id,e),e.halo_id){case m.HaloId.Monster30_BianFu_Skill_Halo:this.ex_miss_rate+=e.halo_value[0];break;case m.HaloId.Monster69_NiuSaMan_Skill_Halo:this.ex_defense_value+=e.halo_value[0];break;case m.HaloId.Monster76_JianDuZhe_Skill_Halo:this.ex_move_speed_value+=this.base_data.Speed*e.halo_value[0],this.refreshMoveSpeed(0)}},t.prototype.getHalo=function(e){return this.monster_halo.get(e)},t.prototype.isHaveHalo=function(e){return this.monster_halo.has(e)},t.prototype.subHalo=function(e,t){var a=this.monster_halo.get(e);if(a&&a.halo_source_uuid==t)switch(this.monster_halo.delete(e),e){case m.HaloId.Monster30_BianFu_Skill_Halo:this.ex_miss_rate-=a.halo_value[0],this.ex_miss_rate<0&&(this.ex_miss_rate=0);break;case m.HaloId.Monster69_NiuSaMan_Skill_Halo:this.ex_defense_value-=a.halo_value[0],this.ex_defense_value<0&&(this.ex_defense_value=0);break;case m.HaloId.Monster76_JianDuZhe_Skill_Halo:this.ex_move_speed_value-=this.base_data.Speed*a.halo_value[0],this.ex_move_speed_value<0&&(this.ex_move_speed_value=0),this.refreshMoveSpeed(0)}},t.prototype.removeAllHalo=function(){this.monster_halo.clear()},t.prototype.getHiddenAttribute=function(){return this.hidden_attribute},t.prototype.getIsDie=function(){return this.monster_state==r.Enemy_State.die||this.monster_state==r.Enemy_State.ship},t.prototype.getEnemyState=function(){return this.monster_state},t.prototype.getEnemyPrevState=function(){return this.prev_state},t.prototype.getIsCanCheck=function(){var e=!0;return(this.getIsDie()||this.node.y>=l.default.getInstance().enemy_create_y||this.getEnemyState()==r.Enemy_State.born)&&(e=!1),e},t.prototype.getToughness=function(){return this.cur_toughness},t.prototype.getMaxHp=function(){return this.max_hp},t.prototype.getCurHp=function(){return this.cur_hp},t.prototype.getCurAtt=function(){return this.cur_att},t.prototype.setColor=function(e){var t=this,a=cc.Color.WHITE;switch(this.isHaveDeBuffType(m.BuffType.Slowdown)&&(a=cc.color(82,255,252)),e){case g.ColorType.Injured:a=cc.Color.RED;var n=this.cur_color;n!=g.ColorType.Injured&&(this.injured_action&&this.injured_action.stop(),this.injured_action=cc.tween(this.node).to(.1,{color:this.node.color}).call(function(){t.setColor(n)}).start());break;case g.ColorType.SlowDown:a=cc.color(82,255,252)}this.cur_color=e,this.node.color=a},t.prototype.getCurColor=function(){return this.cur_color},t.prototype.getSlowDownColor=function(){return cc.color(82,255,252)},t.prototype.getAttData=function(e,t,a){void 0===a&&(a=0);var n=new g.MonsterAttData;return n.damage_type=e,n.is_bullet=t,n.skill_rate=a,n.monster_attribute=this.monster_data,n.zengshang_rate=this.zengshang_rate,n.monster_ts=this,n.strength_type=this.getStrengthType(),n},t.prototype.getIsFullHp=function(){return this.cur_hp>=this.max_hp},t.prototype.setEnemyState=function(e){e!=this.monster_state&&(this.prev_state=this.monster_state,this.monster_state=e),e!=r.Enemy_State.att&&e!=r.Enemy_State.skill||(this.spine.timeScale=1/this.base_data.AttackSpeed/this.att_jiange),e==r.Enemy_State.move&&this.getStrengthType()!=g.StrengthType.Boss&&(this.spine.timeScale=this.cur_move_speed/this.base_data.Speed)},t.prototype.startDeath=function(){this.setEnemyState(r.Enemy_State.die),this.collider.enabled=!1,this.removeAllDeBuff(),this.spine.paused=!1,this.node.stopAllActions(),this.is_can_count=this.is_count,p.default.getInstance().willDestroyMonster(this),this.death_callback&&this.death_callback()},t.prototype.startHurt=function(){this.setColor(g.ColorType.Injured)},t.prototype.injureWall=function(e){return this.att_wall.beInjured(e)},t.prototype.playSpinAnimaton=function(e,t,a,n){if(void 0===t&&(t=!1),this.getEnemyState()!=r.Enemy_State.die){var o=this.spine.setAnimation(0,e,t);a&&this.spine.setTrackEventListener(o,function(e,t){t.data.name==a.name&&a.callback()}),n&&this.spine.setTrackCompleteListener(o,function(){o.listener=null,n()})}},t.prototype.playDeadAnimaton=function(e,t){var a=this.spine.setAnimation(0,e,!1);this.spine.setTrackCompleteListener(a,function(){a.listener=null,t()})},t.prototype.setX=function(e){var t=0;return e>300&&(e=300,t=1),e<-300&&(e=-300,t=-1),this.node.x=e,t},t.prototype.setY=function(e){var t=this;this.node.y=e,S.default.getInstance().getAllWall().forEach(function(e){var a=e.getWallRect();a.contains(t.node.getPosition())&&(t.node.y>e.node.y&&(t.node.y=a.yMax),t.node.y<e.node.y&&(t.node.y=a.yMin))});var a=S.default.getInstance().getMainWall(),n=a.getWallRect();n.contains(this.node.getPosition())&&(this.node.y>a.node.y&&(this.node.y=n.yMax),this.node.y<a.node.y&&(this.node.y=n.yMin),this.onCollisionShip()),this.node.y,n.yMin,this.node.y<=n.yMin-200&&(this.node.y=n.yMin-200,this.monster_state!=r.Enemy_State.ship&&(p.default.getInstance().ship_monster_num++,this.setEnemyState(r.Enemy_State.ship)))},t.prototype.onCollisionShip=function(){var e=new g.MonsterAttData;e.damage_type=m.DamageType.Ship,e.is_bullet=!1,e.skill_rate=0,e.monster_attribute=this.monster_data,e.zengshang_rate=this.zengshang_rate,e.monster_ts=this,e.strength_type=this.getStrengthType(),S.default.getInstance().getMainWall().beInjured(e,!1,.5*this.getCurHp()),this.changeHp(-9999999999)},t.prototype.setPos=function(e){this.setX(e.x),this.setY(e.y)},t.prototype.setMoveDir=function(e){this.move_direction=e},t.prototype.setQianYinMin=function(e){0==this.min_qianyin&&(this.min_qianyin=e)},t.prototype.getQianYinMin=function(){return this.min_qianyin},t.prototype.setFlip=function(e){this.node.scaleX=e?this.setup_scale:-this.setup_scale},t.prototype.update=function(){this.hp_progress&&this.hp_progress.setPos(this.node.x+this.hp_pos.x*this.node.scaleX,this.node.y+this.hp_pos.y*this.node.scaleY),this.shadow&&this.shadow.setPosition(cc.v2(this.node.x+this.node.scaleX*this.shadow_pos.x,this.node.y+this.node.scaleY*this.shadow_pos.y)),this.node.zIndex=Math.round(8e3-10*this.node.y),this.getEnemyState()!=r.Enemy_State.born&&this.getStrengthType()!=g.StrengthType.Boss&&(this.collider.enabled=!0),this.node.y>=l.default.getInstance().enemy_create_y&&this.setMoveDir(3*Math.PI/2)},t.prototype.addInitListen=function(e){this.init_callback=e},t.prototype.addChangeHpListen=function(e){this.change_hp_callback=e},t.prototype.addXuanYunListen=function(e){this.xuanyun_callback=e},t.prototype.addDeathCallback=function(e){this.death_callback=e},t.prototype.addInjuryCallback=function(e){this.active_injury_callback=e},t.prototype.loadInitPos=function(){var e=this.node.getChildByName("juji");this.juji_pos=e.getPosition();var t=this.node.getChildByName("gongji");this.att_pos=t.getPosition();var a=this.node.getChildByName("hp");this.hp_pos=a.getPosition();var n=this.node.getChildByName("Monster_Shadow");this.shadow_pos=n.getPosition(),this.shadow_size=n.getContentSize();var o=this.node.getChildByName("center");this.center_pos=o.getPosition(),e.removeFromParent(),t.removeFromParent(),a.removeFromParent(),n.removeFromParent(),o.removeFromParent(),this.shadow&&this.shadow.setPosition(cc.v2(this.node.x+this.node.scaleX*this.shadow_pos.x,this.node.y+this.node.scaleY*this.shadow_pos.y))},t.prototype.getAttPos=function(){var e=cc.v2(0,128);switch(this.monster_type){case 20:e=cc.v2(0,128);break;default:e=this.att_pos}return this.node.getPosition().add(cc.v2(e.x*this.node.scaleX,e.y*this.node.scaleY))},t.prototype.getJuJiPos=function(){return cc.v2(this.node.x+this.juji_pos.x*this.node.scaleX,this.node.y+this.juji_pos.y*this.node.scaleY)},t.prototype.getSheShouPos=function(){return cc.v2(this.node.x+this.juji_pos.x*this.node.scaleX,this.node.y+this.juji_pos.y*this.node.scaleY)},t.prototype.getCenterPos=function(){return cc.v2(this.node.x+this.center_pos.x*this.node.scaleX,this.node.y+this.center_pos.y*this.node.scaleY)},t.prototype.getAttackWallX=function(){return this.att_pos},i([k],t)}(cc.Component));a.default=b,cc._RF.pop()},{"../Activity/BossChallenge":"BossChallenge","../Constants":"Constants","../Enemy/EnemyConfig":"EnemyConfig","../Game/GameEffectsManager":"GameEffectsManager","../Game/GroundManager":"GroundManager","../Game/SkillManager":"SkillManager","../GameManager":"GameManager","../Hero/Game/BuffData":"BuffData","../Hero/Game/BuffTimer":"BuffTimer","../Hero/Game/HeroConfig":"HeroConfig","../Sound/AudioConstants":"AudioConstants","../Wall/WallManager":"WallManager","./Data/MonsterConfigure":"MonsterConfigure","./Data/MonsterGrowthAttributes":"MonsterGrowthAttributes","./Data/MonsterSkill":"MonsterSkill","./HpProgressBar":"HpProgressBar","./MonsterData":"MonsterData","./MonsterManager":"MonsterManager"}],MonthCard:[function(e,t,a){"use strict";cc._RF.push(t,"4d69aLgwV9NiI7995oAxyfW","MonthCard");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Activity/ActivityManager"),s=e("../Ads/ApkManager"),c=e("../GameManager"),l=e("../multiLanguage/FollowConstants"),g=e("../multiLanguage/FollowManager"),u=e("../multiLanguage/TextLanguage"),p=e("../Prop/PropConfig"),d=e("../Prop/PropManager"),h=e("../Sound/AudioConstants"),f=e("../thirdParty/ThirdParty"),_=e("./Data/PrivilegedCardInformation"),m=e("./DingYueManager"),y=e("./PayManager"),I=cc._decorator,v=I.ccclass,M=(I.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.car_id=1001,t}return o(t,e),t.prototype.start=function(){this.initUi(),y.PayManager.getInstance().addTodayShow(f.PayUiIndex.ZuXiang)},t.prototype.initUi=function(){for(var e=_.PrivilegedCardInformationManager.getInstance().getJsonPrivilegedCardInformation(this.car_id),t=e.GetDiamondsNowNum,a=e.ReceiveDiamondsEveryDayNum,n=e.CumulativeGetDiamonds,o=e.GainPrivileges,i=e.PrivilegeParameters,r=e.PrivilegeText,s=this.node.getChildByName("textScrollView").getComponent(cc.ScrollView).content,c=0;c<r.length;c++){var l=s.children[c].getComponent(u.default);l.setPrefix(o[c]+". "),l.setTextId(r[c]),l.setReplaceValue("~",this.getParametersStr(o[c],i[c]))}this.node.getChildByName("nowNumLabel").getComponent(cc.Label).string=""+t;var g=d.PropManager.getInstance().createPropItem(p.PropId.Gem,a);g.scale=.9,this.node.getChildByName("dailyRoot").addChild(g);var h=d.PropManager.getInstance().createPropItem(p.PropId.Gem,n);h.scale=.9,this.node.getChildByName("totalRoot").addChild(h),this.showBtnState()},t.prototype.getParametersStr=function(e,t){switch(e){case 1:return 100*t+"%";case 2:case 3:return t+"";case 4:return 100*t+"%";default:return t+""}},t.prototype.showBtnState=function(){this.node.getChildByName("btnGet"),this.node.getChildByName("btnBuy"),this.node.getChildByName("shouyiText").getComponent(u.default).setReplaceValue("~","50%"),this.node.getChildByName("stateText").getComponent(u.default)},t.prototype.clickBtnBuy=function(){var e=this;c.default.getInstance().sound_manager.playSound(h.SoundIndex.click),g.default.getInstance().followEvent(l.Follow_Type.\u6708\u5361\u70b9\u51fb\u8d2d\u4e70\u6b21\u6570),s.default.getInstance().showDingYue({result:function(t){if(t){y.PayManager.getInstance().addPayNum(_.PrivilegedCardInformationManager.getInstance().getProductId(e.car_id));var a=_.PrivilegedCardInformationManager.getInstance().getGetDiamondsNowNum(e.car_id);d.PropManager.getInstance().changePropNum(p.PropId.Gem,a),c.default.getInstance().showGetTip(d.PropManager.getInstance().createPropItem(p.PropId.Gem,a),null),r.ActivityManager.getInstance().changeTicket(r.ActivityType.Endless,1),r.ActivityManager.getInstance().changeTicket(r.ActivityType.Boss,1),e.initUi()}}},_.PrivilegedCardInformationManager.getInstance().getProductId(this.car_id))},t.prototype.clickBtnGet=function(){if(c.default.getInstance().sound_manager.playSound(h.SoundIndex.click),!m.DingYueManager.getInstance().getTodayIsGet(this.car_id)){m.DingYueManager.getInstance().saveTodayGet(this.car_id,!0);var e=_.PrivilegedCardInformationManager.getInstance().getReceiveDiamondsEveryDayNum(this.car_id);d.PropManager.getInstance().changePropNum(p.PropId.Gem,e),c.default.getInstance().showGetTip(d.PropManager.getInstance().createPropItem(p.PropId.Gem,e),null),this.showBtnState()}},i([v],t)}(cc.Component));a.default=M,cc._RF.pop()},{"../Activity/ActivityManager":"ActivityManager","../Ads/ApkManager":"ApkManager","../GameManager":"GameManager","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/TextLanguage":"TextLanguage","../thirdParty/ThirdParty":"ThirdParty","./Data/PrivilegedCardInformation":"PrivilegedCardInformation","./DingYueManager":"DingYueManager","./PayManager":"PayManager"}],MoppingUp:[function(e,t,a){"use strict";cc._RF.push(t,"bf30fk/+rBGAbap3dl90CQo","MoppingUp");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Activity/BossChallenge"),s=e("../../Activity/BossReward"),c=e("../../Activity/EndlessLevels"),l=e("../../Activity/EndlessReward"),g=e("../../GameManager"),u=e("../../multiLanguage/TextLanguage"),p=e("../../Prop/PropManager"),d=e("../../Sound/AudioConstants"),h=e("../../Storage/StorageConfig"),f=e("../../Storage/StorageManager"),_=e("../../Tools/EventManager"),m=e("../../UI/UIComponent"),y=e("./endlesschallenges"),I=cc._decorator,v=I.ccclass,M=I.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.item=[],t.bttxt=null,t.text=null,t.num=null,t.RewardItem=0,t.RewardNum=0,t.RewardItem1=0,t.RewardNum1=0,t.type=0,t.othernode=null,t}return o(t,e),t.prototype.initUi=function(e,t){if(this.type=e,this.othernode=t,2==e){(r=c.EndlessLevelsManager.getInstance().getMaxWave())>l.EndlessRewardManager.getMaxRewardLevel()&&(r=l.EndlessRewardManager.getMaxRewardLevel());var a=l.EndlessRewardManager.getInstance().getRewardItem(r),n=l.EndlessRewardManager.getInstance().getRewardNum(r);this.RewardItem=a,this.RewardNum=n;var o=p.PropManager.getInstance().createPropItem(a,n);this.item[0].x=0,o.parent=this.item[0],this.text.getComponent(u.default).setTextId(800016),this.bttxt.getComponent(u.default).setTextId(800015);var i=r;this.num.getComponent(cc.Label).string=""+i}else if(3==e){var r=f.TheStorageManager.getInstance().getNumber(h.StorageKey.BossChallengeDamage,-1),g=s.BossRewardManager.getInstance().getRewardLevel(r);a=s.BossRewardManager.getInstance().getRewardItem(g),n=s.BossRewardManager.getInstance().getRewardNum(g),this.RewardItem=a,this.RewardNum=n,o=p.PropManager.getInstance().createPropItem(a,n),this.item[0].x=-80,o.parent=this.item[0];var d=s.BossRewardManager.getInstance().getRewardItem_2(g),_=s.BossRewardManager.getInstance().getRewardNum_2(g);this.RewardItem1=d,this.RewardNum1=_;var m=p.PropManager.getInstance().createPropItem(d,_);this.item[1].x=80,m.parent=this.item[1],this.text.getComponent(u.default).setTextId(820015),this.bttxt.getComponent(u.default).setTextId(820014),i=r,this.num.getComponent(cc.Label).string=""+i}},t.prototype.clickBtnYes=function(){var e,t;if(2==this.type){t=f.TheStorageManager.getInstance().getNumber(h.StorageKey.TotalUnlimitedChallengeTimes,0),e=f.TheStorageManager.getInstance().getNumber(h.StorageKey.UnlimitedChallengeTimes,3),e--,t++,f.TheStorageManager.getInstance().setItem(h.StorageKey.TotalUnlimitedChallengeTimes,t),f.TheStorageManager.getInstance().setItem(h.StorageKey.UnlimitedChallengeTimes,e),p.PropManager.getInstance().changePropNum(this.RewardItem,this.RewardNum);var a=p.PropManager.getInstance().createPropItem(this.RewardItem,this.RewardNum);g.default.getInstance().showGetTip(a)}else if(3==this.type){var n=f.TheStorageManager.getInstance().getNumber(h.StorageKey.BossChallengeDamage,-1)+r.BossChallengeManager.getInstance().getMaxDamageNumber();r.BossChallengeManager.getInstance().setDamageNumber(n),t=f.TheStorageManager.getInstance().getNumber(h.StorageKey.TotalBossChallengeTimes,0),e=f.TheStorageManager.getInstance().getNumber(h.StorageKey.BossChallengeTimes,3),e--,t++,f.TheStorageManager.getInstance().setItem(h.StorageKey.TotalBossChallengeTimes,t),f.TheStorageManager.getInstance().setItem(h.StorageKey.BossChallengeTimes,e),this.othernode.getComponent(y.default).initUi(3),p.PropManager.getInstance().changePropNum(this.RewardItem,this.RewardNum),p.PropManager.getInstance().changePropNum(this.RewardItem1,this.RewardNum1),a=p.PropManager.getInstance().createPropItem(this.RewardItem,this.RewardNum);var o=p.PropManager.getInstance().createPropItem(this.RewardItem1,this.RewardNum1);g.default.getInstance().showMultipleGetTip([a,o])}this.clickBtnClose(),_.EventManager.postRedEvent(_.RedEventString.RED_CHECK,_.RedEventType.Btn_Activity)},t.prototype.shanchu=function(){for(var e=0;e<this.item.length;e++)this.item[e].childrenCount>0&&this.item[e].children[0].destroy()},t.prototype.clickBtnClose=function(){this.shanchu(),g.default.getInstance().sound_manager.playSound(d.SoundIndex.click),this.onClose()},i([M(cc.Node)],t.prototype,"item",void 0),i([M(cc.Node)],t.prototype,"bttxt",void 0),i([M(cc.Node)],t.prototype,"text",void 0),i([M(cc.Node)],t.prototype,"num",void 0),i([v],t)}(m.default);a.default=C,cc._RF.pop()},{"../../Activity/BossChallenge":"BossChallenge","../../Activity/BossReward":"BossReward","../../Activity/EndlessLevels":"EndlessLevels","../../Activity/EndlessReward":"EndlessReward","../../GameManager":"GameManager","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../Storage/StorageConfig":"StorageConfig","../../Storage/StorageManager":"StorageManager","../../Tools/EventManager":"EventManager","../../UI/UIComponent":"UIComponent","../../multiLanguage/TextLanguage":"TextLanguage","./endlesschallenges":"endlesschallenges"}],MoppingVoid:[function(e,t,a){"use strict";cc._RF.push(t,"ff24f7TRM1K4YdWC+EfWDi2","MoppingVoid");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../GameManager"),s=e("../../JsonData/Jackpot"),c=e("../../Prop/PropManager"),l=e("../../Sound/AudioConstants"),g=e("../../Storage/StorageConfig"),u=e("../../Storage/StorageManager"),p=e("../../UI/UIComponent"),d=e("./RoguefastPass"),h=cc._decorator,f=h.ccclass,_=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.item=[],t.type=0,t}return o(t,e),t.prototype.initUi=function(e){this.type=e;var t=d.RoguefastPassManager.getInstance().getPropID_1(this.type),a=d.RoguefastPassManager.getInstance().getPropNum_1(this.type);c.PropManager.getInstance().createPropItem(t,a).parent=this.item[0];var n=d.RoguefastPassManager.getInstance().getPropID_2(this.type);c.PropManager.getInstance().createPropItem(n,1).parent=this.item[1]},t.prototype.clickBtnShow=function(){var e=d.RoguefastPassManager.getInstance().getPropID_1(this.type),t=d.RoguefastPassManager.getInstance().getPropNum_1(this.type),a=d.RoguefastPassManager.getInstance().getPropID_2(this.type),n=d.RoguefastPassManager.getInstance().getPropNum_2(this.type),o=s.JackpotManager.getInstance().getRewardDataById(a),i=c.PropManager.getInstance().createPropItem(e,t),l=c.PropManager.getInstance().createPropItem(o.reward_id,n);c.PropManager.getInstance().changePropNum(e,t),c.PropManager.getInstance().changePropNum(o.reward_id,n);var p=[i,l];r.default.getInstance().showMultipleGetTip(p);var h=u.TheStorageManager.getInstance().getNumber(g.StorageKey.TotalVoidCrackChallengeTimes,0),f=u.TheStorageManager.getInstance().getNumber(g.StorageKey.VoidCrackChallengeTimes,3);f--,h++,u.TheStorageManager.getInstance().setItem(g.StorageKey.TotalVoidCrackChallengeTimes,h),u.TheStorageManager.getInstance().setItem(g.StorageKey.VoidCrackChallengeTimes,f),this.clickBtnClose()},t.prototype.clickBtnClose=function(){this.item[0].children[0].destroy(),this.item[1].children[0].destroy(),r.default.getInstance().sound_manager.playSound(l.SoundIndex.click),this.onClose()},i([_(cc.Node)],t.prototype,"item",void 0),i([f],t)}(p.default);a.default=m,cc._RF.pop()},{"../../GameManager":"GameManager","../../JsonData/Jackpot":"Jackpot","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../Storage/StorageConfig":"StorageConfig","../../Storage/StorageManager":"StorageManager","../../UI/UIComponent":"UIComponent","./RoguefastPass":"RoguefastPass"}],Move:[function(e,t,a){"use strict";cc._RF.push(t,"b3adbJiS9pHy5FZRhio8heL","Move");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Constants"),s=e("../GameManager"),c=e("./GameEffectsManager"),l=cc._decorator,g=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.move_speed=320,t.move_direction=3*Math.PI/2,t.move_target_pos=null,t.move_end_callback=null,t.move_wall_callback=null,t.prefab_tuowei=null,t.tuowei_node=null,t.game_effect_id=c.GameEffectId.Null,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.init=function(e,t,a){this.game_effect_id=a,this.move_speed=e,this.update(.015),this.prefab_tuowei&&(this.tuowei_node=cc.instantiate(this.prefab_tuowei),this.tuowei_node.parent=this.node.parent,this.node.zIndex=1)},t.prototype.changeDir=function(e){this.move_direction=(e+2*Math.PI)%(2*Math.PI)},t.prototype.setTargetPos=function(e,t,a){this.move_target_pos=e,this.move_end_callback=t,this.move_wall_callback=a,this.update(.015)},t.prototype.update=function(e){if(s.default.getInstance().cur_game_state==r.GameState.Game_Playing){var t=this.node.getPosition(),a=this.node.x,n=this.node.y;if(this.move_target_pos){var o=this.move_speed*e;if((c=this.move_target_pos.sub(this.node.getPosition())).mag()<o)this.move_end_callback&&(this.destroySelf(),this.move_end_callback(),this.move_end_callback=null);else{var i=2*Math.PI;this.move_direction=(Math.atan2(c.y,c.x)+i)%i,a+=o*Math.cos(this.move_direction),n+=o*Math.sin(this.move_direction)}}if(this.setDirection(this.move_direction),this.node.x=a,this.node.y=n,this.move_wall_callback&&n<=s.default.getInstance().enemy_att_y&&(this.destroySelf(),this.move_wall_callback(),this.move_wall_callback=null),this.tuowei_node){var c,l=this.node.getPosition(),g=4*(c=l.sub(t)).mag(),u=Math.atan2(c.y,c.x),p=l.x+Math.cos(u)*g,d=l.y+Math.sin(u)*g;this.tuowei_node.setPosition(cc.v2(p,d))}}},t.prototype.destroySelf=function(){if(c.GameEffectsManager.getInstance().destroyGameEffectById(this.game_effect_id,this.node),this.tuowei_node){var e=this.tuowei_node.getComponent(cc.MotionStreak).fadeTime;cc.tween(this.tuowei_node).delay(e/10).removeSelf().start(),this.tuowei_node=null}},t.prototype.setDirection=function(e){this.move_direction=e,this.node.angle=180*e/Math.PI+90},i([u({type:cc.Prefab})],t.prototype,"prefab_tuowei",void 0),i([g],t)}(cc.Component);a.default=p,cc._RF.pop()},{"../Constants":"Constants","../GameManager":"GameManager","./GameEffectsManager":"GameEffectsManager"}],MpProgress:[function(e,t,a){"use strict";cc._RF.push(t,"40e49nas1NKeJTOBNrmYG2d","MpProgress");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Game/SkillManager"),s=e("../Data/HeroManager"),c=cc._decorator,l=c.ccclass,g=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sp_icon_bg=[],t.prefab_bg=null,t.ok_node=null,t.left=null,t.right=null,t.is_cding=!1,t.icon=null,t.icon_bg=null,t.disable=null,t.is_disable=!1,t.materials=[],t}return o(t,e),t.prototype.init=function(e){this.ok_node=this.node.getChildByName("ok"),this.left=this.node.getChildByName("left").getComponent(cc.Sprite),this.right=this.node.getChildByName("right").getComponent(cc.Sprite);var t=cc.instantiate(this.prefab_bg);t.x=this.node.x,t.y=this.node.y-36,r.default.getInstance().node.getChildByName("skill_icon").addChild(t),this.icon_bg=t.getComponent(cc.Sprite),this.icon=t.getChildByName("mask").getChildByName("icon").getComponent(cc.Sprite),this.icon.spriteFrame=s.HeroManager.getInstance().getSpriteFrameByNames("Hero_"+e+"_Skill_0"),this.disable=this.icon.node.parent.getChildByName("disable"),this.disable.active=!1,this.setNormalSP(),this.materials.push(cc.Material.getBuiltinMaterial("2d-gray-sprite")),this.materials.push(cc.Material.getBuiltinMaterial("2d-sprite"))},t.prototype.setCDSP=function(){this.ok_node.active=!1,this.is_cding=!0,this.icon.setMaterial(0,this.materials[0]),this.icon_bg.spriteFrame=this.sp_icon_bg[0]},t.prototype.setNormalSP=function(){this.ok_node.active=!0,this.is_cding=!1,0==this.is_disable&&(this.icon.setMaterial(0,this.materials[1]),this.icon_bg.spriteFrame=this.sp_icon_bg[1])},t.prototype.setDisable=function(e){this.disable.active=e,this.is_disable=e,e?(this.icon.setMaterial(0,this.materials[0]),this.icon_bg.spriteFrame=this.sp_icon_bg[0]):0==this.is_cding&&(this.icon.setMaterial(0,this.materials[1]),this.icon_bg.spriteFrame=this.sp_icon_bg[1])},t.prototype.setProgress=function(e){this.left.fillRange=e/2,this.right.fillRange=e/2},t.prototype.show=function(){this.icon_bg.node.active=!0,this.node.opacity=255},t.prototype.hide=function(){this.icon_bg.node.active=!1,this.node.opacity=0},i([g([cc.SpriteFrame])],t.prototype,"sp_icon_bg",void 0),i([g(cc.Prefab)],t.prototype,"prefab_bg",void 0),i([l],t)}(cc.Component);a.default=u,cc._RF.pop()},{"../../Game/SkillManager":"SkillManager","../Data/HeroManager":"HeroManager"}],Muisc:[function(e,t,a){"use strict";cc._RF.push(t,"b207fqjGVRAcqTV5nnTLSdh","Muisc");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../GameManager"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){r.default.getInstance().music_manager=this,this.loadVolume(),this.loadMute()},t.prototype.onDestroy=function(){r.default.getInstance().music_manager=null,this.stop()},t.prototype.loadVolume=function(){var e=cc.sys.localStorage.getItem("music_volume");null!==e&&""!==e||(e=1),this.saveMusicVolume(parseFloat(e))},t.prototype.saveMusicVolume=function(e){null!=e&&(this.volume=e),cc.sys.localStorage.setItem("music_volume",this.volume)},t.prototype.loadMute=function(){var e=cc.sys.localStorage.getItem("music_mute");null===e||""===e?e=!1:"false"===e?e=!1:"true"===e&&(e=!0),this.saveMusicMute(e)},t.prototype.saveMusicMute=function(e){null!=e&&(this.mute=e),cc.sys.localStorage.setItem("music_mute",this.mute)},t.prototype.playMusic=function(e){var t=this;cc.resources.load("musics/"+e,cc.AudioClip,function(e,a){e?console.log(e):(t.clip=a,t.play(),t.loop=!0)})},i([c],t)}(cc.AudioSource));a.default=l,cc._RF.pop()},{"../GameManager":"GameManager"}],MyTool:[function(e,t,a){"use strict";cc._RF.push(t,"41b98z0uUVN+YvIYrFZoj24","MyTool"),Object.defineProperty(a,"__esModule",{value:!0}),a.Digits=void 0,function(e){e[e.ge=1]="ge",e[e.shi=2]="shi",e[e.bai=3]="bai",e[e.qian=4]="qian",e[e.wan=5]="wan",e[e.shiwan=6]="shiwan",e[e.baiwan=7]="baiwan",e[e.qianwan=8]="qianwan",e[e.yi=9]="yi"}(a.Digits||(a.Digits={}));var n=function(){function e(){}return e.getNumByWei=function(e,t){var a=Math.pow(10,t),n=e-Math.floor(e/a)*a;return Math.floor(n/Math.pow(10,t-1))},e.getNumByStr=function(e){var t=e.replace(/[^0-9]/gi,"");return parseInt(t)},e.getDanwei=function(e){var t=e+"";return e>=1e3&&e<1e6?t=(e/1e3).toFixed(1)+"K":e>=1e6&&e<1e9?t=(e/1e6).toFixed(1)+"M":e>=1e9&&e<1e12?t=(e/1e9).toFixed(1)+"G":e>=1e12&&e<1e15&&(t=(e/1e12).toFixed(1)+"T"),t},e.getCoinDanwei=function(e,t){void 0===t&&(t=0),e<1e4&&(t=0);var a=e.toFixed(t);return e>=1e4&&e<1e6?a=(e/1e3).toFixed(t)+"K":e>=1e6&&e<1e9?a=(e/1e6).toFixed(t)+"M":e>=1e9&&e<1e12?a=(e/1e9).toFixed(t)+"G":e>=1e12&&e<1e15&&(a=(e/1e12).toFixed(t)+"T"),a},e.mynum_con=function(e){var t=["K","M","B"],a=Number(e);if(!(a>=1))return a;if(a<=1e4)return a;for(var n=0;n<t.length;n++)if(e.length<=3*(n+2))return e.substring(0,e.length-3*(n+1))+t[n]},e.mynum_con1=function(e){var t=["K","M","B"],a=Number(e);if(!(a>=0)){if((a*=-1)<=1e3)return-1*a;for(n=0;n<t.length;n++)if(e.length<=3*(n+2))return e.substring(0,e.length-3*(n+1))+t[n];return-1*a}if(a<=1e3)return a;for(var n=0;n<t.length;n++)if(e.length<=3*(n+2))return e.substring(0,e.length-3*(n+1))+t[n]},e.randomRange=function(e,t,a){void 0===a&&(a=!1);var n=a?1:0;return Math.random()*(t-e+n)+e},e.randomRangeInt=function(e,t,a){void 0===a&&(a=!1);var n=a?1:0;return Math.floor(Math.random()*(t-e+n))+e},e.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},e.randomArray=function(e){for(var t=e.slice(),a=new Array,n=t.length,o=0;o<n;o++){var i=Math.floor(Math.random()*t.length);a.push(t[i]),t.splice(i,1)}return a},e.getRandomIndex=function(e,t){if(!(e>=2))return cc.error("\u6570\u7ec4\u592a\u77ed\u4e86"),0;var a=this.randomRangeInt(0,e);if(a!=t)return a;this.getRandomIndex(e,t)},e.randomSceneShake=function(t,a,n,o){var i=Math.abs(t),r=Math.abs(a),s=i>=r?i:r,c=cc.Camera.main.node;if(c){cc.Camera.main.zoomRatio=1+s/cc.winSize.width;var l=setInterval(function(){(c=cc.Camera.main.node)&&(c.setPosition(cc.v2(e.randomRangeInt(t,a,!0),e.randomRangeInt(t,a,!0))),--o<=0&&(clearInterval(l),c.setPosition(cc.v2(0,0)),cc.Camera.main.zoomRatio=1))},1e3*n)}},e.randomSceneShakeBig=function(){this.randomSceneShake(-16,16,.015,16)},e.randomSceneShakeSmall=function(){this.randomSceneShake(-5,5,.02,10)},e.getBezierAct=function(e,t){var a=t.sub(e).div(4),n=2*a.mag(),o=(Math.atan2(a.y,a.x)+2*Math.PI)%(2*Math.PI),i=Math.random()>.5?1:-1,r=o+1*Math.PI/6*i,s=cc.v2(e.x+Math.cos(r)*n,e.y+Math.sin(r)*n),c=n/(400*Math.random()+400);return cc.bezierTo(c,[s,s,t])},e.getHeartBezierAct=function(e,t){var a=t.sub(e).div(4),n=2*a.mag(),o=(Math.atan2(a.y,a.x)+2*Math.PI)%(2*Math.PI),i=e.x>0?1:-1,r=o+1*Math.PI/10*i,s=cc.v2(e.x+Math.cos(r)*n,e.y+Math.sin(r)*n+600);return cc.bezierTo(1.5,[s,s,t])},e.getTimeStr=function(e){var t=Math.floor(e/3600);e-=3600*t;var a="0"+t;t>=10&&(a=""+t);var n=Math.floor(e/60),o="0"+n;n>=10&&(o=""+n);var i=(e-=60*n)%60,r="0"+i;return i>=10&&(r=""+i),a+":"+o+":"+r},e.allFadeIn=function(e,t){var a=!1,n=e.opacity;e.opacity=0,cc.tween(e).to(.3,{opacity:n}).call(function(){t&&!a&&(t(),a=!0)}).start()},e.allFadeOut=function(e,t){var a=!1;cc.tween(e).to(.3,{opacity:0}).call(function(){t&&!a&&(t(),a=!0)}).start()},e.radianToAngle=function(e){return 180*e/Math.PI},e.angleToRadian=function(e){return Math.PI*e/180},e.getMonthDays=function(e,t){return new Date(e,t,0).getDate()},e.getWeightIndexs=function(e,t){var a=0;e.forEach(function(e){a+=e});for(var n=new Array,o=e.slice(),i=0;i<t;i++)for(var r=Math.random()*a,s=0,c=0;c<o.length;c++){var l=o[c];if(r<(s+=l)){a-=l,o[c]=0,n.push(c);break}}return n},e.numberFormat=function(e,t){if(void 0===t&&(t=0),!isNaN(e)){var a=e.toFixed(t);if(-1!=a.indexOf(".")){for(var n=!1,o=a.indexOf(".")+1;o<=a.indexOf(".")+t;o++)o<a.length&&"0"!=a[o]&&(n=!0);return n?a:String(Number(a))}return a}},e.getNumberFromString=function(e){var t=e.match(/\d+(\.\d)?/g),a="";return t.forEach(function(e){a+=e}),Number(a)},e}();a.default=n,cc._RF.pop()},{}],NiuJiangJun:[function(e,t,a){"use strict";cc._RF.push(t,"aa856CtzDlP2qCzCvZ6aOpJ","NiuJiangJun");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../Enemy/EnemyConfig"),c=e("../../Game/GameEffectsManager"),l=e("../../Game/GroundManager"),g=e("../../GameManager"),u=e("../../Hero/Game/BuffData"),p=e("../../Hero/Game/HeroConfig"),d=e("../Monster"),h=e("../MonsterData"),f=e("../MonsterManager"),_=e("../MonsterNewNormal"),m=cc._decorator,y=m.ccclass,I=(m.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.light=null,t.load_num=0,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),c.GameEffectsManager.getInstance().addEffectPoolById(c.GameEffectId.monster68_niujiangjun_skill,1),e.prototype.addMonsterNormalInited.call(this,this.onMonsterNormalInited)},t.prototype.onMonsterNormalInited=function(){this.skill_cold_down[0]=this.skill_data.getSkillValue1(1)},t.prototype.startSkill=function(){var t=this;e.prototype.setEnemyState.call(this,s.Enemy_State.skill);var a=new h.KeyFrameData;a.name="Skill",a.callback=function(){l.default.getInstance().createGameEffectById(c.GameEffectId.monster68_niujiangjun_skill,t.node.getPosition());var e=f.default.getInstance().getMonstersForMonsterPos(-1,t.node.getPosition(),200);if(e)for(var a=0;a<e.length;a++){var n=e[a].getComponent(d.default);if(n){var o=new u.BuffData;o.buff_value=[t.skill_data.getSkillValue1(1)],o.buff_id=p.BuffId.Elite68_NiuJiangJun_JiaSu,o.buff_type=p.BuffType.MoveSpeedUp,o.remain_time=t.skill_data.getSkillValue2(1),n.addBuff(o)}}},this.skill_cold_down[0]=this.skill_data.getSkillColdDown(1),e.prototype.playSpinAnimaton.call(this,"Side_Skill",!1,a,function(){t.startIdle(),t.setEnemyState(s.Enemy_State.move)})},t.prototype.update=function(t){g.default.getInstance().cur_game_state!=r.GameState.Game_Playing||this.getIsDie()||(e.prototype.update.call(this,t),this.checkSkill(t))},t.prototype.checkSkill=function(e){for(var t=0;t<this.skill_cold_down.length;t++){var a=!1;this.skill_cold_down[t]>0?(this.skill_cold_down[t]-=e,this.skill_cold_down[t]<=0&&(a=!0)):a=!0,a&&this.startSkill()}},i([y],t)}(_.default));a.default=I,cc._RF.pop()},{"../../Constants":"Constants","../../Enemy/EnemyConfig":"EnemyConfig","../../Game/GameEffectsManager":"GameEffectsManager","../../Game/GroundManager":"GroundManager","../../GameManager":"GameManager","../../Hero/Game/BuffData":"BuffData","../../Hero/Game/HeroConfig":"HeroConfig","../Monster":"Monster","../MonsterData":"MonsterData","../MonsterManager":"MonsterManager","../MonsterNewNormal":"MonsterNewNormal"}],NiuMoBoss:[function(e,t,a){"use strict";cc._RF.push(t,"30f88xUCEhELq2aiO9rNnsD","NiuMoBoss");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r,s=e("../../Constants"),c=e("../../Enemy/EnemyConfig"),l=e("../../Game/GameEffectsManager"),g=e("../../Game/GroundManager"),u=e("../../GameManager"),p=e("../../Hero/Game/BuffData"),d=e("../../Hero/Game/HeroConfig"),h=e("../../Monster/Monster"),f=e("../../Monster/MonsterData"),_=e("../../Monster/MonsterManager"),m=e("../../Sound/AudioConstants"),y=e("../../Wall/WallManager"),I=e("../Boss");(function(e){e.Idle="Idle",e.attack="Attack",e.run="Run",e.hurt1="Hurt",e.skill1="Skill1",e.skill2_1="Skill2_1",e.skill2_2="Skill2_2",e.skill2_3="Skill2_3",e.dead="Dead"})(r||(r={}));var v=cc._decorator,M=v.ccclass,C=(v.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.is_active_skill_2=!1,t.attack_num=0,t.is_yindao=!0,t.yindao_time=0,t.yindao_jishu=0,t.kuangbao_value=[],t.zhaohuan_id=[10481,10461,10471,20691,20681],t.zhaohuan_num=[3,8,3,1,1],t.cur_zhaohuan_index=0,t.cur_zhaohuan_num=0,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss5_normal_attack_hit,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss5_skill_baozha,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss5_skill_release,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.monster_zhaohuan,4);for(var t=0;t<this.zhaohuan_id.length;t++)_.default.getInstance().addMonsterPool(this.zhaohuan_id[t],2);this.addDeathCallback(this.onDeath),this.addXuanYunListen(this.onXuanYunResult),this.addBossInitedListen(this.onBossInited),this.addChangeBossHpListen(this.onChangeHp)},t.prototype.onBossInited=function(){this.startIdle(),this.node.y=128,this.attack_num=0,this.getAttPos().y,y.default.getInstance().getMainWall().getWallMaxYY()},t.prototype.onChangeHp=function(){this.cur_hp<=this.max_hp/2&&0==this.is_active_skill_2&&(this.is_active_skill_2=!0,this.startSkill(2))},t.prototype.startIdle=function(){e.prototype.setEnemyState.call(this,c.Enemy_State.standby),e.prototype.playSpinAnimaton.call(this,r.Idle,!0)},t.prototype.startAttack=function(){var t=this;this.att_jishu=0,e.prototype.setEnemyState.call(this,c.Enemy_State.att);var a=new f.KeyFrameData;a.name="Attack",a.callback=function(){t.attack_num++,t.att_jishu=0,u.default.getInstance().sound_manager.playSound(m.SoundIndex.YX_Boss5Attack);var a=y.default.getInstance().getAllWall(),n=null;a.forEach(function(e){t.node.y>=e.getWallMaxYY()&&(n=e)}),n&&n.beInjured(e.prototype.getAttData.call(t,d.DamageType.Normal,!1)).getDamageNum()>0&&l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.boss5_normal_attack_hit,cc.v2(640*Math.random()-320,n.getWallMaxYY())),t.attack_num>=t.skill_data.getSkillValue4(1)&&(t.attack_num=0,t.skill_queue.push(1))},e.prototype.playSpinAnimaton.call(this,r.attack,!1,a,function(){t.skill_queue.length>0?(e.prototype.setEnemyState.call(t,c.Enemy_State.standby),t.startSkill(t.skill_queue.shift())):t.startIdle()})},t.prototype.startSkill=function(e){switch(e){case 1:this.startSkill1();break;case 2:this.is_active_skill_2&&this.startSkill2()}},t.prototype.startSkill1=function(){var t=this;if(this.skill_cold_down[0]=this.skill_data.getSkillColdDown(1),e.prototype.getEnemyState.call(this)!=c.Enemy_State.att&&e.prototype.getEnemyState.call(this)!=c.Enemy_State.skill)if(e.prototype.isHaveDeBuff.call(this,d.BuffId.Hero_XuanYun))this.skill_queue.indexOf(1)<0&&this.skill_queue.push(1);else{e.prototype.setEnemyState.call(this,c.Enemy_State.skill),this.skill_cold_down[0]=this.skill_data.getSkillColdDown(1);var a=new f.KeyFrameData;a.name="Skill",a.callback=function(){u.default.getInstance().sound_manager.playSound(m.SoundIndex.YX_Boss5Skill),t.att_jishu=0;var a=e.prototype.getAttPos.call(t);g.default.getInstance().createGameEffectById(l.GameEffectId.boss5_skill_baozha,a),g.default.getInstance().createGameEffectById(l.GameEffectId.boss5_skill_release,a),y.default.getInstance().getMainWall().beInjured(e.prototype.getAttData.call(t,d.DamageType.Skill,!1,t.skill_data.getSkillValue1(1)));var n=_.default.getInstance().getMonstersForMonsterPos(-1,t.node.getPosition(),t.skill_data.getSkillValue2(1));if(n)for(var o=0;o<n.length;o++){var i=n[o].getComponent(h.default);if(i){var r=new p.BuffData;r.buff_value=[t.skill_data.getSkillValue3(1)],r.buff_id=d.BuffId.Boss5_Skill_1_guwu,r.buff_type=d.BuffType.MoveSpeedUp,r.remain_time=3,i.addBuff(r)}}},e.prototype.playSpinAnimaton.call(this,r.skill1,!1,a,function(){t.skill_queue.length>0?(e.prototype.setEnemyState.call(t,c.Enemy_State.standby),t.startSkill(t.skill_queue.shift())):t.startIdle()})}else this.skill_queue.indexOf(1)<0&&this.skill_queue.push(1)},t.prototype.startSkill2=function(){var t=this;this.skill_cold_down[1]=this.skill_data.getSkillColdDown(2),e.prototype.getEnemyState.call(this)!=c.Enemy_State.att?e.prototype.isHaveDeBuff.call(this,d.BuffId.Hero_XuanYun)?this.skill_queue.indexOf(2)<0&&this.skill_queue.push(2):(u.default.getInstance().sound_manager.playSound(m.SoundIndex.YX_Boss5Beidong),e.prototype.setEnemyState.call(this,c.Enemy_State.skill),this.skill_cold_down[1]=this.skill_data.getSkillColdDown(2),e.prototype.playSpinAnimaton.call(this,r.skill2_1,!1,null,function(){e.prototype.playSpinAnimaton.call(t,r.skill2_2,!0,null,null),t.is_yindao=!0,t.yindao_time=3,t.cur_zhaohuan_index=0,t.cur_zhaohuan_num=0})):this.skill_queue.indexOf(2)<0&&this.skill_queue.push(2)},t.prototype.startZhaoHuan=function(){if(!(this.cur_zhaohuan_num>16)){for(var e=this.zhaohuan_id[this.cur_zhaohuan_index],t=this.zhaohuan_num[this.cur_zhaohuan_index],a=2*Math.PI/15,n=0;n<t;n++){var o=256*Math.cos(a*this.cur_zhaohuan_num)+this.node.x,i=256*Math.sin(a*this.cur_zhaohuan_num)+this.getCenterPos().y;_.default.getInstance().createSummonMonster(e,this.monster_level,cc.v2(o,i)),this.cur_zhaohuan_num++}this.cur_zhaohuan_index++,this.cur_zhaohuan_index>=this.zhaohuan_id.length&&(this.cur_zhaohuan_index=0)}},t.prototype.endYinDao=function(t){var a=this;this.is_yindao=!1,t&&e.prototype.playSpinAnimaton.call(this,r.skill2_3,!1,null,function(){a.startIdle()})},t.prototype.onDeath=function(){var t=this;this.unscheduleAllCallbacks(),e.prototype.playDeadAnimaton.call(this,r.dead,function(){t.removeAllDeBuff(),t.removeAllBuff(),t.shadow&&cc.tween(t.shadow).to(.75,{opacity:0}).start(),cc.tween(t.node).to(.75,{opacity:0}).call(function(){t.removeAllDeBuff(),t.removeAllBuff(),_.default.getInstance().destroyMonster(t.node,t.monster_type)}).start()})},t.prototype.onXuanYunResult=function(t){t?this.startXuanYun():e.prototype.isHaveDeBuffType.call(this,d.BuffType.Vertigo)||e.prototype.getIsDie.call(this)||(this.skill_queue.length>0?(e.prototype.setEnemyState.call(this,c.Enemy_State.standby),this.startSkill(this.skill_queue.shift())):this.startIdle())},t.prototype.startXuanYun=function(){var t=this;this.endYinDao(!1),e.prototype.playSpinAnimaton.call(this,r.hurt1,!1,null,function(){e.prototype.isHaveDeBuffType.call(t,d.BuffType.Vertigo)&&!e.prototype.getIsDie.call(t)&&(t.spine.paused=!0)})},t.prototype.update=function(t){u.default.getInstance().cur_game_state!=s.GameState.Game_Playing||this.getIsDie()||(e.prototype.update.call(this,t),this.checkSkill(t),this.checkYinDao(t),this.getEnemyState()!=c.Enemy_State.skill&&(this.isHaveDeBuff(d.BuffId.Hero_XuanYun)||this.checkAtt(t)))},t.prototype.checkYinDao=function(e){this.is_yindao&&(this.yindao_time-=e,this.yindao_time<=0&&(this.yindao_time=0,this.endYinDao(!0)),this.yindao_jishu+=e,this.yindao_jishu>=.5&&(this.yindao_jishu=0,this.startZhaoHuan()))},t.prototype.checkSkill=function(e){for(var t=0;t<2;t++)1==t&&0==this.is_active_skill_2||this.skill_cold_down[t]>0&&(this.skill_cold_down[t]-=e,this.skill_cold_down[t]<0&&(this.skill_cold_down[t]=0,this.startSkill(t+1)))},t.prototype.checkAtt=function(e){this.att_jishu+=e,this.att_jishu>=this.att_jiange&&(this.att_jishu=this.att_jiange,this.startAttack())},i([M],t)}(I.default));a.default=C,cc._RF.pop()},{"../../Constants":"Constants","../../Enemy/EnemyConfig":"EnemyConfig","../../Game/GameEffectsManager":"GameEffectsManager","../../Game/GroundManager":"GroundManager","../../GameManager":"GameManager","../../Hero/Game/BuffData":"BuffData","../../Hero/Game/HeroConfig":"HeroConfig","../../Monster/Monster":"Monster","../../Monster/MonsterData":"MonsterData","../../Monster/MonsterManager":"MonsterManager","../../Sound/AudioConstants":"AudioConstants","../../Wall/WallManager":"WallManager","../Boss":"Boss"}],NiuSaMan:[function(e,t,a){"use strict";cc._RF.push(t,"d0572RMdWBP/Iydys09ql35","NiuSaMan");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Enemy/EnemyConfig"),s=e("../../Game/GameEffectsManager"),c=e("../../Hero/Game/HeroConfig"),l=e("../Monster"),g=e("../MonsterBullet"),u=e("../MonsterData"),p=e("../MonsterManager"),d=e("../MonsterNewNormal"),h=cc._decorator,f=h.ccclass,_=(h.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.light=null,t.is_loaded=!1,t.attack_num=0,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.addMonsterNormalAttack(this.onMonsterNormalAttack),s.GameEffectsManager.getInstance().addEffectPoolById(s.GameEffectId.monster69_niusaman_att),s.GameEffectsManager.getInstance().addEffectPoolById(s.GameEffectId.monster_zhiliao_halo_hit)},t.prototype.onMonsterNormalAttack=function(){var t=this;this.att_jishu=0,e.prototype.setEnemyState.call(this,r.Enemy_State.att);var a=new u.KeyFrameData;return a.name="OnDamaging",a.callback=function(){if(1!=t.getIsDie()){t.att_jishu=0;var a=e.prototype.getAttPos.call(t);if(s.GameEffectsManager.getInstance().createGameEffectById(s.GameEffectId.monster69_niusaman_att,a).getComponent(g.default).init(t.getAttData(c.DamageType.Normal,!0),t.monster_far_att,t.monster_far_att_hit,1200,3*Math.PI/2),t.attack_num++,t.attack_num>=t.skill_data.getSkillValue1(1)){t.attack_num=0;var n=p.default.getInstance().getMonstersForMonsterPos(-1,t.node.getPosition(),t.skill_data.getSkillValue2(1));if(n)for(var o=0;o<n.length;o++){var i=n[o].getComponent(l.default);i&&i.beHeal(t.getMaxHp()*t.skill_data.getSkillValue3(1))&&s.GameEffectsManager.getInstance().createGameEffectById(s.GameEffectId.monster_zhiliao_halo_hit,i.getCenterPos())}}}},e.prototype.playSpinAnimaton.call(this,this.getAnimaName(u.MonsterActionName.Attack),!1,a,function(){e.prototype.setEnemyState.call(t,r.Enemy_State.move),t.startIdle(),t.att_wall&&(t.move_direction=Math.random()>.5?Math.PI:0)}),!0},i([f],t)}(d.default));a.default=_,cc._RF.pop()},{"../../Enemy/EnemyConfig":"EnemyConfig","../../Game/GameEffectsManager":"GameEffectsManager","../../Hero/Game/HeroConfig":"HeroConfig","../Monster":"Monster","../MonsterBullet":"MonsterBullet","../MonsterData":"MonsterData","../MonsterManager":"MonsterManager","../MonsterNewNormal":"MonsterNewNormal"}],NodePoolManager:[function(e,t,a){"use strict";cc._RF.push(t,"45e1eSR3n9AEJw8pTLHKJF7","NodePoolManager");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.node_pools=[],t.prefabs=[],t}return o(t,e),t.prototype.init=function(e){for(var t=e,a=this.prefabs.length,n=0;n<a;++n){this.node_pools.push(new cc.NodePool);for(var o=0;o<t;++o){var i=cc.instantiate(this.prefabs[n]);this.node_pools[n].put(i)}}},t.prototype.createNodeByType=function(e,t){var a=null;return(a=this.node_pools[e].size()>0?this.node_pools[e].get():cc.instantiate(this.prefabs[e])).setPosition(t),a.parent=this.node,a},t.prototype.createNodeByParent=function(e,t,a){var n=null;return(n=this.node_pools[e].size()>0?this.node_pools[e].get():cc.instantiate(this.prefabs[e])).setPosition(t),n.active=!0,n.parent=a,n},t.prototype.destroyNode=function(e,t){this.node_pools[t].put(e)},t.prototype.onDestroy=function(){for(var e=this.prefabs.length,t=0;t<e;++t)this.node_pools[t].clear()},i([c({type:[cc.Prefab],tooltip:"\u6240\u6709\u5bf9\u8c61\u7684\u9884\u5236\u4f53"})],t.prototype,"prefabs",void 0),i([s],t)}(cc.Component);a.default=l,cc._RF.pop()},{}],NumberLabel:[function(e,t,a){"use strict";cc._RF.push(t,"a1f7doqXqhJmLtuxqxNrD53","NumberLabel");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("./MyTool"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cur_num=2e3,t.target_num=2e3,t.compelete_num=.5,t.changing=0,t.refresh_time=.05,t.jishi=0,t.is_show_k=!0,t}return o(t,e),t.prototype.init=function(e,t){this.cur_num=this.target_num=e,this.is_show_k=t,this.showCurNum()},t.prototype.setTarget=function(e,t,a){void 0===a&&(a=!1),this.target_num=e;var n=Math.ceil(t/cc.director.getDeltaTime()),o=this.target_num-this.cur_num;if(this.changing=o/n,a&&this.target_num!=this.cur_num){var i=t/6;cc.tween(this.node).to(i,{scale:1.2}).to(i,{scale:1}).to(i,{scale:1.2}).to(i,{scale:1}).to(i,{scale:1.2}).to(i,{scale:1}).start()}},t.prototype.showCurNum=function(){this.is_show_k?this.string=r.default.getCoinDanwei(this.cur_num,1):this.string=this.cur_num+""},t.prototype.update=function(e){if(this.cur_num!=this.target_num){this.jishi+=e,this.cur_num=Math.ceil(this.cur_num+this.changing),this.jishi>=this.refresh_time&&(this.jishi=0,this.showCurNum());var t=this.target_num-this.cur_num;Math.abs(t)<Math.abs(this.changing)&&(this.cur_num=this.target_num,this.showCurNum())}},i([c],t)}(cc.Label));a.default=l,cc._RF.pop()},{"./MyTool":"MyTool"}],NvWuDan:[function(e,t,a){"use strict";cc._RF.push(t,"e1ef2wmDrZLXoRR2guepS7r","NvWuDan");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Game/GameEffectsManager"),s=e("../../../GameManager"),c=e("../../../Monster/Monster"),l=e("../../../Monster/MonsterManager"),g=e("../../../Sound/AudioConstants"),u=e("../BuffData"),p=e("../Bullect"),d=e("../HeroConfig"),h=cc._decorator,f=h.ccclass,_=(h.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addCollisionMonsterListen.call(this,this.onCollisionMonster)},t.prototype.start=function(){this.tuowei_space=1},t.prototype.onCollisionMonster=function(e){if(e){if(e.beFlashInjured(this.gongji_data).getDamageNum()>0){r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.nvwu_attack_bullect_hit,this.getHeadPos()),s.default.getInstance().sound_manager.playSound(g.SoundIndex.YX_BNAttack);var t=l.default.getInstance().getMonstersForCenterPos(-1,e.getCenterPos(),this.gongji_data.hero_data.getSkillValue1(d.SkillType.Passive_1));if(t){var a=cc.instantiate(this.gongji_data);a.damage_type=d.DamageType.Skill,a.skill_damage_rate=this.gongji_data.hero_data.getSkillValue2(d.SkillType.Passive_1);var n=cc.instantiate(this.gongji_data);n.damage_type=d.DamageType.Skill,n.continuous_damage_rate=this.gongji_data.hero_data.getSkillValue3(d.SkillType.Passive_1);for(var o=0;o<t.length;o++){var i=t[o].getComponent(c.default),p=i.beFlashInjured(a);if(p.getDamageNum()>0&&(r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.nvwu_attack_bullect_hit,i.getCenterPos()),!p.is_die)){var h=new u.BuffData;h.buff_id=d.BuffId.Hero_NvWu_Skill1_Zhongdu,h.buff_type=d.BuffType.Normal,h.remain_time=5,h.add_floor=1,h.max_floor=6,h.damage_jiange_time=1,i.addDeBuff(h,n)}}}}this.destroySelf()}},i([f],t)}(p.default));a.default=_,cc._RF.pop()},{"../../../Game/GameEffectsManager":"GameEffectsManager","../../../GameManager":"GameManager","../../../Monster/Monster":"Monster","../../../Monster/MonsterManager":"MonsterManager","../../../Sound/AudioConstants":"AudioConstants","../BuffData":"BuffData","../Bullect":"Bullect","../HeroConfig":"HeroConfig"}],NvWu:[function(e,t,a){"use strict";cc._RF.push(t,"9f32549YOBAsqzBBvPMPPxo","NvWu");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Constants"),s=e("../../../Game/FightingManager"),c=e("../../../Game/GameEffectsManager"),l=e("../../../Game/SkillManager"),g=e("../../../GameManager"),u=e("../../../Monster/Monster"),p=e("../../../Monster/MonsterData"),d=e("../../../Monster/MonsterManager"),h=e("../../../Sound/AudioConstants"),f=e("../BuffData"),_=e("../Hero"),m=e("../HeroConfig"),y=e("./NvWuDan"),I=cc._decorator,v=I.ccclass,M=(I.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.zhiliao_jishu=0,t.zhiliao_time=0,t.cur_release_skill=m.SkillType.Null,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.nvwu_attack_bullect,2),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.nvwu_attack_bullect_hit,2),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.nvwu_active_skill,1),this.addSkillListen(this.useSkill),this.addAttackListen(this.normalAttack),this.addXuanYunListen(this.onXuanYunResult),this.addGameWinListen(this.resetSkill)},t.prototype.start=function(){e.prototype.start.call(this),this.is_need_check_distance=!1,e.prototype.setSkillTipSize.call(this,520,520),this.zhiliao_time=this.hero_data.getSkillValue1(m.SkillType.Passive_1)},t.prototype.resetSkill=function(){this.zhiliao_jishu=0},t.prototype.onXuanYunResult=function(e){e?this.unscheduleAllCallbacks():this.setHeroState(m.Hero_State.idle,m.GongJi_FangXiang.zhong)},t.prototype.createNvWuDan=function(e,t,a,n,o){s.default.getInstance().createGameEffectById(e,t).getComponent(y.default).init(e,a,n,o)},t.prototype.normalAttack=function(e){g.default.getInstance().cur_game_state==r.GameState.Game_Playing&&(this.is_can_gongji=!1,this.startAttack(e))},t.prototype.startAttack=function(t){var a=this,n=t.getComponent(u.default).getSheShouPos(),o=this.getFangXiangByPos(n),i=new p.KeyFrameData;i.name="Attack",i.callback=function(){g.default.getInstance().sound_manager.playSound(h.SoundIndex.YX_NWAttack);var t=a.getCreateBulletPos(),o=n.sub(t),i=Math.atan2(o.y,o.x),r=e.prototype.getGongJiData.call(a,m.DamageType.Normal,!0,m.SkillType.Null);a.createNvWuDan(c.GameEffectId.nvwu_attack_bullect,t,a.bullet_speed,i,r),a.is_double_attack?a.resetNormalAttack():a.gongji_jishu=0},e.prototype.setHeroState.call(this,m.Hero_State.attack,o,[i],function(){a.setHeroState(m.Hero_State.idle,a.cur_fangxiang)})},t.prototype.useSkill=function(e){var t=this;return this.removeAllDeBuff(),l.default.getInstance().releaseSkill(function(){t.startSelfXuLi(e)},this.node),this.cur_release_skill!=m.SkillType.Null&&this.skill_queue.push(this.cur_release_skill),0},t.prototype.startSelfXuLi=function(e){var t=this,a=cc.find("Canvas/Hero_Root"),n=new p.KeyFrameData;n.name="FaShe",n.callback=function(){l.default.getInstance().setTimeStop(!1),t.node.parent=a,t.node.zIndex=2,t.startLaunch(e)},this.setHeroState(m.Hero_State.skill,m.GongJi_FangXiang.zhong,[n],function(){t.resetGongJiJiShu(),t.setHeroState(m.Hero_State.idle,m.GongJi_FangXiang.zhong)}),this.spine.timeScale=r.JiaSu},t.prototype.startLaunch=function(t){e.prototype.setAttSpineScale.call(this);var a=d.default.getInstance().getMonstersForCenterPos(-1,t,260);if(a){var n=e.prototype.getGongJiData.call(this,m.DamageType.Skill,!1,m.SkillType.Active,this.hero_data.getSkillValue1(m.SkillType.Active)),o=this.hero_data.getSkillValue3(m.SkillType.Active),i=0,r=this.hero_data.ExclusiveWeaponSkillValue_1;r&&r>0&&(i=r);var s=e.prototype.getGongJiData.call(this,m.DamageType.Skill,!1,m.SkillType.Passive_2,0,this.hero_data.getSkillValue3(m.SkillType.Passive_1));s.continuous_damage_rate=this.hero_data.getSkillValue3(m.SkillType.Passive_1);for(var p=0;p<a.length;p++){var _=a[p].getComponent(u.default),y=_.beFlashInjured(n);if(y.getDamageNum()>0&&(c.GameEffectsManager.getInstance().createGameEffectById(c.GameEffectId.nvwu_attack_bullect_hit,_.getCenterPos()),!y.is_die)){var I=new f.BuffData;I.buff_id=m.BuffId.Hero_NvWu_Skill1_Zhongdu,I.buff_type=m.BuffType.Normal,I.remain_time=5,I.add_floor=this.hero_data.getSkillValue2(m.SkillType.Active),I.max_floor=6,I.damage_jiange_time=1,_.addDeBuff(I,s);var v=new f.BuffData;if(v.buff_id=m.BuffId.Hero_NvWu_Skill1_ZhongShang,v.buff_type=m.BuffType.SeriouslyInjured,v.remain_time=5,v.buff_value=[o],_.addDeBuff(v,null),i>0){var M=new f.BuffData;M.buff_id=m.BuffId.Hero_NvWu_ExSkill_JianGongSu,M.buff_type=m.BuffType.Normal,M.remain_time=5,M.buff_value=[i],_.addDeBuff(M,null)}}}}c.GameEffectsManager.getInstance().createGameEffectById(c.GameEffectId.nvwu_active_skill,t).scale=3,l.default.getInstance().setIsSkillState(!1),g.default.getInstance().sound_manager.playSound(h.SoundIndex.YX_NWSkill)},i([v],t)}(_.default));a.default=M,cc._RF.pop()},{"../../../Constants":"Constants","../../../Game/FightingManager":"FightingManager","../../../Game/GameEffectsManager":"GameEffectsManager","../../../Game/SkillManager":"SkillManager","../../../GameManager":"GameManager","../../../Monster/Monster":"Monster","../../../Monster/MonsterData":"MonsterData","../../../Monster/MonsterManager":"MonsterManager","../../../Sound/AudioConstants":"AudioConstants","../BuffData":"BuffData","../Hero":"Hero","../HeroConfig":"HeroConfig","./NvWuDan":"NvWuDan"}],OfflineRevenueShow:[function(e,t,a){"use strict";cc._RF.push(t,"930c7RU+JZIJ5oA+tdOXqub","OfflineRevenueShow"),Object.defineProperty(a,"__esModule",{value:!0}),a.OfflineRevenueShowManager=a.JsonOfflineRevenueShow=void 0;var n=e("../Loading/LoadManager"),o=function(){this.Chapter=0,this.UnlockProps=[],this.GetCoins=0,this.ChapterIntroduction=0,this.Titletext=0};a.JsonOfflineRevenueShow=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("OfflineRevenueShow",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonOfflineRevenueShow\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.Chapter,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonOfflineRevenueShow=function(e){return this.data.get(e)},e.prototype.getUnlockProps=function(e){return this.data.get(e).UnlockProps},e.prototype.getGetCoins=function(e){return this.data.get(e).GetCoins},e.prototype.getChapterIntroduction=function(e){return this.data.get(e).ChapterIntroduction},e.prototype.getTitletext=function(e){return this.data.get(e).Titletext},e.getMaxChapter=function(){return 10},e._instance=null,e}();a.OfflineRevenueShowManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],OfflineRevenue:[function(e,t,a){"use strict";cc._RF.push(t,"2a255qg99RKU4m617ug2dfg","OfflineRevenue"),Object.defineProperty(a,"__esModule",{value:!0}),a.OfflineRevenueManager=a.JsonOfflineRevenue=void 0;var n=e("../Equipment/Data/EquipmentAttribute"),o=e("../Level/LevelManager"),i=e("../Loading/LoadManager"),r=e("../Prop/PropConfig"),s=e("../Storage/StorageConfig"),c=e("../Storage/StorageManager"),l=e("./Jackpot"),g=e("./LevelJsonData"),u=function(){this.PassLevel=0,this.GetGold=0,this.Time=0,this.DropJackPot=0,this.Probability=0,this.GetHeroExp=0,this.GetPlayerExp=0,this.GetPromotion=0,this.GetAnimalFood=0,this.GetOrdinaryEnhancementStone=0,this.GetIntermediateEnhancementStone=0,this.GetSeniorEnhancementStone=0};a.JsonOfflineRevenue=u;var p=function(){function e(){this.data=null,this.is_load_completed=!1,this.refreshed_min=0,this.refreshed_equip=[]}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;i.LoadManager.loadJson("OfflineRevenue",i.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonOfflineRevenue\u6210\u529f"),e.data=new Map;for(var n=a.json,o=0;o<n.length;o++){var i=new u;i=n[o],e.data.set(i.PassLevel,i)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonOfflineRevenue=function(e){return this.data.get(e)},e.prototype.getGetGold=function(e){return this.data.get(e).GetGold},e.prototype.getTime=function(e){return this.data.get(e).Time},e.prototype.getDropJackPot=function(e){return this.data.get(e).DropJackPot},e.prototype.getProbability=function(e){return this.data.get(e).Probability},e.prototype.getGetHeroExp=function(e){return this.data.get(e).GetHeroExp},e.prototype.getGetPlayerExp=function(e){return this.data.get(e).GetPlayerExp},e.prototype.getGetPromotion=function(e){return this.data.get(e).GetPromotion},e.prototype.getGetAnimalFood=function(e){return this.data.get(e).GetAnimalFood},e.prototype.getGetOrdinaryEnhancementStone=function(e){return this.data.get(e).GetOrdinaryEnhancementStone},e.prototype.getGetIntermediateEnhancementStone=function(e){return this.data.get(e).GetIntermediateEnhancementStone},e.prototype.getGetSeniorEnhancementStone=function(e){return this.data.get(e).GetSeniorEnhancementStone},e.getMaxPassLevel=function(){return 240},e.prototype.getRefreshTime=function(){return this.refreshed_min},e.prototype.saveRefreshTime=function(e){this.refreshed_min=e},e.prototype.getRefreshEquipId=function(){return this.refreshed_equip},e.prototype.addRefreshEquipId=function(e){this.refreshed_equip.push(e)},e.prototype.getNowEquipIdList=function(){for(var t=e.getGuaJiMin(),a=t-this.getRefreshTime(),i=o.LevelManager.getInstance().finish_level,r=this.getProbability(i),s=this.getDropJackPot(i),c=0;c<a;c++)if(1e3*Math.random()<r){var g=l.JackpotManager.getInstance().getRewardDataById(s);this.addRefreshEquipId(g.reward_id)}return this.saveRefreshTime(t),this.refreshed_equip.sort(function(e,t){var a=n.EquipmentAttributeManager.getInstance().getStage(e);return n.EquipmentAttributeManager.getInstance().getStage(t)-a}),this.refreshed_equip},e.getGuaJiMin=function(){var e=this.getGuaJiSec();return Math.floor(e/60)},e.getGuaJiSec=function(){var t=cc.sys.localStorage.getItem("guaji_time"),a=new Date,n=0;""!=t&&null!=t?(t=parseInt(t),n=Math.floor((a.getTime()-t)/1e3)):this.saveGuaJiTime();var i=o.LevelManager.getInstance().finish_level,r=e.getInstance().getTime(i);return n>60*r&&(n=60*r),n},e.saveGuaJiTime=function(){var e=new Date;cc.sys.localStorage.setItem("guaji_time",e.getTime()),this._instance.refreshed_min=0,this._instance.refreshed_equip=[]},e.prototype.getOfflineReward60=function(){var e=o.LevelManager.getInstance().finish_level;return 60*this.getGetGold(e)},e.prototype.getOfflineReward=function(){var e=o.LevelManager.getInstance().finish_level;return this.getGetGold(e)},e.prototype.getOfflineHeroExp60=function(){var e=o.LevelManager.getInstance().finish_level;return 60*this.getGetHeroExp(e)},e.prototype.getOfflineHeroExp=function(){var e=o.LevelManager.getInstance().finish_level;return this.getGetHeroExp(e)},e.prototype.getOfflineHeroStone60=function(){var e=o.LevelManager.getInstance().finish_level;return 60*this.getGetPromotion(e)},e.prototype.getOfflineAnimalFood60=function(){var e=o.LevelManager.getInstance().finish_level;return 60*this.getGetAnimalFood(e)},e.prototype.getRewards=function(e){var t=o.LevelManager.getInstance().finish_level,a=e,i=new Array,s=this.getJsonOfflineRevenue(t),c=s.GetGold*a,u=s.GetHeroExp*a,p=s.GetPlayerExp*a,d=Math.floor(s.GetPromotion*a),h=Math.floor(s.GetOrdinaryEnhancementStone*a),f=Math.floor(s.GetIntermediateEnhancementStone*a),_=Math.floor(s.GetSeniorEnhancementStone*a);if(c>0){c=Math.floor(c);var m=new g.RewardData;m.reward_id=r.PropId.Coin,m.reward_num=c,i.push(m)}if(u>0){u=Math.floor(u);var y=new g.RewardData;y.reward_id=r.PropId.HeroExp,y.reward_num=u,i.push(y)}if(p){var I=new g.RewardData;I.reward_id=r.PropId.UserExp,I.reward_num=p,i.push(I)}d>0&&(d=Math.floor(d),(P=new g.RewardData).reward_id=r.PropId.HeroStone,P.reward_num=d,i.push(P)),h>0&&((P=new g.RewardData).reward_id=r.PropId.ExclusiveWeaponStone1,P.reward_num=h,i.push(P)),f>0&&((P=new g.RewardData).reward_id=r.PropId.ExclusiveWeaponStone2,P.reward_num=f,i.push(P)),_>0&&((P=new g.RewardData).reward_id=r.PropId.ExclusiveWeaponStone3,P.reward_num=_,i.push(P));for(var v=this.getProbability(t),M=this.getDropJackPot(t),C=new Array,S=0;S<a;S++)if(1e3*Math.random()<v){var P=l.JackpotManager.getInstance().getRewardDataById(M);C.push(P.reward_id)}for(C.sort(function(e,t){var a=n.EquipmentAttributeManager.getInstance().getStage(e);return n.EquipmentAttributeManager.getInstance().getStage(t)-a}),S=0;S<C.length;S++){var k=C[S];(P=new g.RewardData).reward_id=k,P.reward_num=1,i.push(P)}return i},e.prototype.isCanAdFastGuaJi=function(){return 0==c.TheStorageManager.getInstance().getNumber(s.StorageKey.CanAdFastOffline,0)},e.prototype.isCanGuaJiRedTip=function(){return e.getGuaJiMin()>=60},e._instance=null,e}();a.OfflineRevenueManager=p,cc._RF.pop()},{"../Equipment/Data/EquipmentAttribute":"EquipmentAttribute","../Level/LevelManager":"LevelManager","../Loading/LoadManager":"LoadManager","../Prop/PropConfig":"PropConfig","../Storage/StorageConfig":"StorageConfig","../Storage/StorageManager":"StorageManager","./Jackpot":"Jackpot","./LevelJsonData":"LevelJsonData"}],OfflineUi:[function(e,t,a){"use strict";cc._RF.push(t,"70aa5YBs+BBqJMVGmnlvfoN","OfflineUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Ads/AdManager"),s=e("../../Ads/ApkManager"),c=e("../../Constants"),l=e("../../Equipment/EquipmentManager"),g=e("../../GameManager"),u=e("../../JsonData/OfflineRevenue"),p=e("../../Level/LevelManager"),d=e("../../multiLanguage/FollowConstants"),h=e("../../multiLanguage/FollowManager"),f=e("../../multiLanguage/LanguageConstants"),_=e("../../multiLanguage/LanguageManager"),m=e("../../Prop/PropManager"),y=e("../../Prop/PropConfig"),I=e("../../Sound/AudioConstants"),v=e("../../Tools/EventManager"),M=e("../../UI/UIComponent"),C=e("../../UI/UIManager"),S=e("../../UI/UIConfig"),P=e("./FastGuaJiUi"),k=e("../../Tools/MyTool"),b=e("../../Task/TaskManager"),T=e("../../Task/TaskEnum"),B=e("../../JsonData/LevelJsonData"),w=cc._decorator,N=w.ccclass,L=w.property,D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab_num=null,t.sp_vip=null,t.reward_num0=60,t.reward_num1=60,t.reward_num2=60,t.reward_equip_list=[],t.reward_equip_num=[],t.prop_reward=null,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.prop_reward=new Map},t.prototype.onEnable=function(){this.showGuaJiTime(),this.schedule(this.showGuaJiTime,1),s.default.getInstance().showBanner(),this.showRewardList()},t.prototype.showGuaJiTime=function(){var e=u.OfflineRevenueManager.getGuaJiSec(),t=Math.floor(e/3600),a="0"+t;t>=10&&(a=""+t);var n=Math.floor((e-3600*t)/60),o="0"+n;n>=10&&(o=""+n);var i=e%60,r="0"+i;i>=10&&(r=""+i),this.node.getChildByName("timeLabel").getComponent(cc.Label).string=_.default.getInstance().getStrByTextId(100117)+a+":"+o+":"+r;var s=Math.floor(e/60),l=p.LevelManager.getInstance().finish_level,g=u.OfflineRevenueManager.getInstance().getTime(l);s>g&&(s=g),s<0&&(s=0);var d=u.OfflineRevenueManager.getInstance().getJsonOfflineRevenue(l);this.node.getChildByName("coinLabel").getComponent(cc.Label).string=k.default.getCoinDanwei(60*d.GetGold)+"/h",this.node.getChildByName("heroExpLabel").getComponent(cc.Label).string=d.GetHeroExp+"/min",this.node.getChildByName("userExpLabel").getComponent(cc.Label).string=d.GetPromotion+"/min",s-u.OfflineRevenueManager.getInstance().getRefreshTime()>0&&this.showRewardList(),this.node.getChildByName("btnGet").getChildByName("claimText"),this.node.getChildByName("richText"),c.IsDebug},t.prototype.showRewardList=function(){var e=this.node.getChildByName("rewardScrollview").getComponent(cc.ScrollView).content;e.removeAllChildren(),e.parent.getChildByName("num_root").removeAllChildren(),e.parent.getChildByName("equip_root").removeAllChildren();var t=p.LevelManager.getInstance().finish_level,a=u.OfflineRevenueManager.getInstance().getJsonOfflineRevenue(t),n=u.OfflineRevenueManager.getGuaJiMin(),o=a.GetGold*n,i=a.GetHeroExp*n,r=a.GetPlayerExp*n,s=Math.floor(a.GetPromotion*n),c=Math.floor(a.GetOrdinaryEnhancementStone*n),g=Math.floor(a.GetIntermediateEnhancementStone*n),d=Math.floor(a.GetSeniorEnhancementStone*n);this.reward_num0=o,this.reward_num1=i,this.reward_num2=r;var h=null;o>0&&(o=Math.floor(o),h=m.PropManager.getInstance().createPropItem(y.PropId.Coin,o),e.addChild(h),this.prop_reward.set(y.PropId.Coin,o)),i>0&&(i=Math.floor(i),h=m.PropManager.getInstance().createPropItem(y.PropId.HeroExp,i),e.addChild(h),this.prop_reward.set(y.PropId.HeroExp,i)),r>0&&(h=m.PropManager.getInstance().createPropItem(y.PropId.UserExp,r),e.addChild(h),this.prop_reward.set(y.PropId.UserExp,r)),s>0&&(s=Math.floor(s),h=m.PropManager.getInstance().createPropItem(y.PropId.HeroStone,s),e.addChild(h),this.prop_reward.set(y.PropId.HeroStone,s)),c>0&&(h=m.PropManager.getInstance().createPropItem(y.PropId.ExclusiveWeaponStone1,c),e.addChild(h),this.prop_reward.set(y.PropId.ExclusiveWeaponStone1,c)),g>0&&(h=m.PropManager.getInstance().createPropItem(y.PropId.ExclusiveWeaponStone2,g),e.addChild(h),this.prop_reward.set(y.PropId.ExclusiveWeaponStone2,g)),d>0&&(h=m.PropManager.getInstance().createPropItem(y.PropId.ExclusiveWeaponStone3,d),e.addChild(h),this.prop_reward.set(y.PropId.ExclusiveWeaponStone3,d));var f=u.OfflineRevenueManager.getInstance().getNowEquipIdList(),_=f.length,I=l.EquipmentManager.getInstance();this.reward_equip_list=new Array,this.reward_equip_num=new Array;for(var v=0;v<_;v++){var M=f[v],C=this.reward_equip_list.indexOf(M);-1==C?(this.reward_equip_list.push(M),this.reward_equip_num.push(1)):this.reward_equip_num[C]++}for(_=this.reward_equip_list.length,v=0;v<_;v++){var S=I.getEquipNodeById(this.reward_equip_list[v]);e.addChild(S)}},t.prototype.addCoin=function(){},t.prototype.clickBtnFive=function(){var e=this;h.default.getInstance().followEvent(d.Follow_Type.\u6302\u673a\u5956\u52b15\u500d\u9886\u53d6\u7528\u6237\u6570),g.default.getInstance().sound_manager.playSound(I.SoundIndex.click),this.reward_num0>0&&r.default.getInstance().showVideo(function(t){t?e.getReward(3):g.default.getInstance().showMessage(_.default.getInstance().getString(f.LanguageIndex.The_ad_failed_to_play_and_the_reward_cannot_be_obtained))},c.VIDEO_TYPE.Coin)},t.prototype.clickBtnClaim=function(){h.default.getInstance().followEvent(d.Follow_Type.\u83b7\u53d6\u79bb\u7ebf\u5956\u52b1\u6b21\u6570),b.default.getInstance().emitTask(T.TaskItem.\u9886\u53d6\u6302\u673a\u5956\u52b12\u6b21),g.default.getInstance().sound_manager.playSound(I.SoundIndex.click),this.reward_num0>0?(this.getReward(1),v.EventManager.postRedEvent(v.RedEventString.RED_TIP,v.RedEventType.Btn_Main_Guaji_Btn_GuaJi,!1)):g.default.getInstance().showMessage(_.default.getInstance().getStrByTextId(100115))},t.prototype.clickBtnFast=function(){g.default.getInstance().sound_manager.playSound(I.SoundIndex.click),this.destroySelf(),h.default.getInstance().followEvent(d.Follow_Type.\u5feb\u901f\u6302\u673a\u6309\u94ae\u70b9\u51fb\u6b21\u6570),C.UIManager.getInstance().showUiDialog(S.UIPath.FastGuaJi,S.UILayerLevel.One,{onCompleted:function(e){e.getComponent(P.default).init(null)}})},t.prototype.clickBtnClose=function(){g.default.getInstance().sound_manager.playSound(I.SoundIndex.click),v.EventManager.postRedEvent(v.RedEventString.RED_CHECK,v.RedEventType.Btn_Main_Guaji),this.destroySelf()},t.prototype.getReward=function(){var t=new Array;l.EquipmentManager.getInstance(),this.prop_reward.forEach(function(e,a){m.PropManager.getInstance().changePropNum(a,e);var n=m.PropManager.getInstance().createPropItem(a,e);t.push(n)});for(var a=[],n=this.reward_equip_list.length,o=0;o<n;o++){var i=new B.RewardData;i.reward_id=this.reward_equip_list[o],i.reward_num=this.reward_equip_num[o],a.push(i)}var r=new Map;a.forEach(function(e){if(r.has(e.reward_id)){var t=r.get(e.reward_id);t+=e.reward_num,r.set(e.reward_id,t)}else r.set(e.reward_id,e.reward_num)}),r.forEach(function(e,a){var n=m.PropManager.getInstance().createPropItem(a,e);m.PropManager.getInstance().changePropNum(a,e),t.push(n)}),u.OfflineRevenueManager.saveGuaJiTime(),g.default.getInstance().showMultipleGetTip(t),this.showRewardList(),e.prototype.onRefresh.call(this),this.destroySelf()},t.prototype.destroySelf=function(){e.prototype.onClose.call(this),s.default.getInstance().closeBanner()},i([L(cc.Prefab)],t.prototype,"prefab_num",void 0),i([L(cc.SpriteFrame)],t.prototype,"sp_vip",void 0),i([N],t)}(M.default);a.default=D,cc._RF.pop()},{"../../Ads/AdManager":"AdManager","../../Ads/ApkManager":"ApkManager","../../Constants":"Constants","../../Equipment/EquipmentManager":"EquipmentManager","../../GameManager":"GameManager","../../JsonData/LevelJsonData":"LevelJsonData","../../JsonData/OfflineRevenue":"OfflineRevenue","../../Level/LevelManager":"LevelManager","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../Task/TaskEnum":"TaskEnum","../../Task/TaskManager":"TaskManager","../../Tools/EventManager":"EventManager","../../Tools/MyTool":"MyTool","../../UI/UIComponent":"UIComponent","../../UI/UIConfig":"UIConfig","../../UI/UIManager":"UIManager","../../multiLanguage/FollowConstants":"FollowConstants","../../multiLanguage/FollowManager":"FollowManager","../../multiLanguage/LanguageConstants":"LanguageConstants","../../multiLanguage/LanguageManager":"LanguageManager","./FastGuaJiUi":"FastGuaJiUi"}],PaidItem:[function(e,t,a){"use strict";cc._RF.push(t,"6d38bOhjzxImLOml1nG9Njk","PaidItem"),Object.defineProperty(a,"__esModule",{value:!0}),a.PaidItemManager=a.JsonPaidItem=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.PaidItemId="",this.PurchaseType=0,this.PaidItemTitle=0,this.Price=0};a.JsonPaidItem=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance},e.prototype.loadJson=function(e){var t=this;n.LoadManager.loadJson("PaidItem",n.LoadManager.load_mode,function(a,n){if(a)console.log(a);else{console.log("\u52a0\u8f7dJsonPaidItem\u6210\u529f"),t.data=new Map;for(var i=n.json,r=0;r<i.length;r++){var s=new o;s=i[r],t.data.set(s.PaidItemId,s)}t.is_load_completed=!0,e&&e()}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonPaidItem=function(e){return this.data.get(e)},e.prototype.getPurchaseType=function(e){return this.data.get(e).PurchaseType},e.prototype.getPaidItemTitle=function(e){return this.data.get(e).PaidItemTitle},e.prototype.getPrice=function(e){return this.data.get(e).Price},e.getMaxPaidItemId=function(){return"b501"},e.prototype.getData=function(){return this.data},e._instance=null,e}();a.PaidItemManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],PaoDanBaoZha:[function(e,t,a){"use strict";cc._RF.push(t,"d1c58XkhklDMpV8tIs/Ejh0","PaoDanBaoZha");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Constants"),s=e("../../../Game/GameEffectsManager"),c=e("../../../GameManager"),l=e("../../../Monster/Monster"),g=e("../BuffData"),u=e("../GongJi"),p=e("../HeroConfig"),d=cc._decorator,h=d.ccclass,f=(d.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.game_effect_id=s.GameEffectId.Null,t.paodan_type=p.PaoDan_Type.skill,t}return o(t,e),t.prototype.init=function(t,a,n){e.prototype.initData.call(this,n),this.game_effect_id=t,this.paodan_type=a},t.prototype.onCollisionEnter=function(e){if(c.default.getInstance().cur_game_state!=r.GameState.Game_Lose)switch(e.node.group){case"enemy":var t=e.node.getComponent(l.default);if(t)switch(this.paodan_type){case p.PaoDan_Type.skill:case p.PaoDan_Type.exclusive:t.beFlashInjured(this.gongji_data).is_die;break;case p.PaoDan_Type.super:if(!t.beFlashInjured(this.gongji_data).is_die){var a=new g.BuffData;a.buff_id=p.BuffId.Hero_XuanYun,a.buff_type=p.BuffType.Vertigo,a.buff_value=[0],a.remain_time=.5,a.game_effect_id=s.GameEffectId.xuanyun,t.addDeBuff(a,this.gongji_data)}}}},i([h],t)}(u.default));a.default=f,cc._RF.pop()},{"../../../Constants":"Constants","../../../Game/GameEffectsManager":"GameEffectsManager","../../../GameManager":"GameManager","../../../Monster/Monster":"Monster","../BuffData":"BuffData","../GongJi":"GongJi","../HeroConfig":"HeroConfig"}],PaoDanNormal:[function(e,t,a){"use strict";cc._RF.push(t,"b124aUxl89APoFUqP6kRBxr","PaoDanNormal");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Monster/MonsterData"),s=e("../Bullect"),c=cc._decorator,l=c.ccclass,g=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addCollisionMonsterListen.call(this,this.onCollisionMonster)},t.prototype.onCollisionMonster=function(e){if(e){var t=e.beFlashInjured(this.gongji_data);t.getDamageNum()>0?(this.is_att=!0,this.destroySelf()):t.feedback_type!=r.FeedBackType.Die&&this.destroySelf()}},i([l],t)}(s.default));a.default=g,cc._RF.pop()},{"../../../Monster/MonsterData":"MonsterData","../Bullect":"Bullect"}],PaoDan:[function(e,t,a){"use strict";cc._RF.push(t,"0d71bN0p5tKtotBk5xomm4u","PaoDan");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../HeroConfig"),s=e("../GongJi"),c=e("../../../Game/GameEffectsManager"),l=e("../../../GameManager"),g=e("../../../Sound/AudioConstants"),u=e("../../../Monster/MonsterManager"),p=e("../../../Monster/Monster"),d=cc._decorator,h=d.ccclass,f=d.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.paodan_type=r.PaoDan_Type.skill,t.game_effect_id=c.GameEffectId.Null,t.move_speed=700,t.move_direction=Math.PI/2,t.bomb_size=100,t.target_pos=null,t}return o(t,e),t.prototype.init=function(t,a,n,o,i){e.prototype.initData.call(this,o),this.game_effect_id=t,this.move_speed=a,this.target_pos=n;var r=n.sub(this.node.getPosition());this.move_direction=Math.atan2(r.y,r.x);var s=r.mag(),c=s/(this.move_speed/l.default.getInstance().getGameRate())/l.default.getInstance().getGameRate();this.node.scale=.5,cc.tween(this.node).then(cc.spawn(cc.sequence(cc.scaleTo(c/4,1.1),cc.scaleTo(3*c/4,.8)),cc.jumpTo(c,n,s/2.5,1))).call(this.destroySelf,this).start(),this.bomb_size=i},t.prototype.destroySelf=function(){this.createBomb(),l.default.getInstance().sound_manager.playSound(g.SoundIndex.YX_boom2),c.GameEffectsManager.getInstance().destroyGameEffectById(this.game_effect_id,this.node)},t.prototype.createBomb=function(){var e=c.GameEffectsManager.getInstance().createGameEffectById(c.GameEffectId.paoshou_skill_hit,this.target_pos),t=u.default.getInstance().getMonstersForCenterPos(-1,this.node.getPosition(),this.bomb_size);if(t)for(var a=0;a<t.length;a++)t[a].getComponent(p.default).beFlashInjured(this.gongji_data);e.scale=this.bomb_size/100},i([f({type:cc.Enum(r.PaoDan_Type)})],t.prototype,"paodan_type",void 0),i([h],t)}(s.default);a.default=_,cc._RF.pop()},{"../../../Game/GameEffectsManager":"GameEffectsManager","../../../GameManager":"GameManager","../../../Monster/Monster":"Monster","../../../Monster/MonsterManager":"MonsterManager","../../../Sound/AudioConstants":"AudioConstants","../GongJi":"GongJi","../HeroConfig":"HeroConfig"}],PaoShou:[function(e,t,a){"use strict";cc._RF.push(t,"8fcabsKsRJJkJAUvWUTYQ39","PaoShou");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Constants"),s=e("../../../Game/FightingManager"),c=e("../../../Game/GameEffectsManager"),l=e("../../../Game/SkillManager"),g=e("../../../Game/SkyManager"),u=e("../../../GameManager"),p=e("../../../Level/LevelManager"),d=e("../../../Monster/MonsterData"),h=e("../../../Sound/AudioConstants"),f=e("../../../Tutorials/TutorailsManager"),_=e("../Hero"),m=e("../HeroConfig"),y=e("./PaoDan"),I=e("./PaoDanNormal"),v=e("./TouDan"),M=cc._decorator,C=M.ccclass,S=(M.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.no_paopao_num=0,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.paoshou_paodan_att,8),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.paoshou_paodan_skill,8),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.paoshou_paodan_skill_ex,2),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.paoshou_paodan_hit,8),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.paoshou_skill_hit,8),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.xuanyun,4),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.paoshou_skill_2,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.paoshou_active_skill_1,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.paoshou_active_skill_2,6),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.paoshou_active_skill_toudan,6),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.paoshou_dazhao_xinhaodan,6),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.paoshou_dazhao_weiyan,6),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.paoshou_dazhao_weiyan_end,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.paoshou_dazhao_xinhaodan_miaozhun,1),this.addSkillListen(this.useSkill),this.addAttackListen(this.normalAttack),this.addXuanYunListen(this.onXuanYunResult)},t.prototype.start=function(){e.prototype.start.call(this),this.is_need_check_distance=!0,e.prototype.setSkillTipSize.call(this,400,400),2==p.LevelManager.getInstance().start_level&&f.default.getInstance().isShowTutorials(206)&&this.hideHero()},t.prototype.onXuanYunResult=function(e){e?this.unscheduleAllCallbacks():this.setHeroState(m.Hero_State.idle,m.GongJi_FangXiang.zhong)},t.prototype.createPaoDan=function(e,t,a,n,o,i){s.default.getInstance().createGameEffectById(e,t).getComponent(y.default).init(e,n,a,i,o)},t.prototype.createNormalPaoDan=function(e,t,a,n,o){s.default.getInstance().createGameEffectById(e,t).getComponent(I.default).init(e,n,a,o)},t.prototype.normalAttack=function(e){u.default.getInstance().cur_game_state==r.GameState.Game_Playing&&(this.is_can_gongji=!1,this.startAttack(e.getPosition()),u.default.getInstance().sound_manager.playSound(h.SoundIndex.YX_PaoshouAttack))},t.prototype.startAttack=function(t){var a=this,n=e.prototype.getFangXiangByPos.call(this,t),o=new d.KeyFrameData;o.name="Attack",o.callback=function(){var n=e.prototype.getGongJiData.call(a,m.DamageType.Skill,!1,m.SkillType.Passive_1,a.hero_data.getSkillValue2(m.SkillType.Passive_1)),o=e.prototype.getCreateBulletPos.call(a),i=c.GameEffectId.paoshou_paodan_skill,r=a.hero_data.getSkillValue1(m.SkillType.Passive_1);a.createPaoDan(i,o,t,a.bullet_speed,r,n),a.is_double_attack?a.resetNormalAttack():a.gongji_jishu=0},e.prototype.setHeroState.call(this,m.Hero_State.attack,n,[o],function(){e.prototype.setHeroState.call(a,m.Hero_State.idle,n)})},t.prototype.useSkill=function(e){var t=this;return l.default.getInstance().releaseSkill(function(){t.startSelfXuLi(e)},this.node),1},t.prototype.startSelfXuLi=function(e){var t=this,a=cc.find("Canvas/Hero_Root"),n=new d.KeyFrameData;n.name="FaShe",n.callback=function(){l.default.getInstance().setTimeStop(!1),t.node.parent=a,t.node.zIndex=2,t.startLaunch(e)},this.setHeroState(m.Hero_State.skill,m.GongJi_FangXiang.zhong,[n],function(){t.resetGongJiJiShu(),t.setHeroState(m.Hero_State.idle,m.GongJi_FangXiang.zhong)}),this.spine.timeScale=r.JiaSu},t.prototype.startLaunch=function(t){e.prototype.setAttSpineScale.call(this),u.default.getInstance().sound_manager.playSound(h.SoundIndex.YX_PaoShouSkill1);for(var a=this.hero_data.getSkillValue1(m.SkillType.Active),n=e.prototype.getGongJiData.call(this,m.DamageType.Skill,!1,m.SkillType.Active,this.hero_data.getSkillValue2(m.SkillType.Active)),o=2*Math.PI,i=0;i<a;i++)this.scheduleOnce(function(){var e=200*Math.random(),a=Math.random()*o,i=t.x+Math.cos(a)*e,r=t.y+Math.sin(a)*e;g.default.getInstance().createGameEffectById(c.GameEffectId.paoshou_active_skill_toudan,cc.v2(i,r+1600)).getComponent(v.default).init(c.GameEffectId.paoshou_active_skill_toudan,cc.v2(i,r),n)},.15*i);l.default.getInstance().setIsSkillState(!1)},i([C],t)}(_.default));a.default=S,cc._RF.pop()},{"../../../Constants":"Constants","../../../Game/FightingManager":"FightingManager","../../../Game/GameEffectsManager":"GameEffectsManager","../../../Game/SkillManager":"SkillManager","../../../Game/SkyManager":"SkyManager","../../../GameManager":"GameManager","../../../Level/LevelManager":"LevelManager","../../../Monster/MonsterData":"MonsterData","../../../Sound/AudioConstants":"AudioConstants","../../../Tutorials/TutorailsManager":"TutorailsManager","../Hero":"Hero","../HeroConfig":"HeroConfig","./PaoDan":"PaoDan","./PaoDanNormal":"PaoDanNormal","./TouDan":"TouDan"}],ParabolicBomb:[function(e,t,a){"use strict";cc._RF.push(t,"aa142/ZfQJBW5H5/cVP5nRV","ParabolicBomb");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../GameManager"),s=e("../../Sound/AudioConstants"),c=e("../../Game/GameEffectsManager"),l=e("../../Game/GroundManager"),g=e("../../Constants"),u=e("../../Monster/MonsterManager"),p=e("../../Monster/Monster"),d=e("../../Hero/Game/GongJi"),h=cc._decorator,f=h.ccclass,_=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tuowei=null,t.game_effect_id=c.GameEffectId.Null,t.move_speed=700,t.move_direction=Math.PI/2,t.bomb_size=100,t.target_pos=null,t.tuo_wei=null,t.prev_pos=cc.v2(0,0),t.spread_time=.2,t.spread_pos=[],t}return o(t,e),t.prototype.init=function(t,a,n,o,i){e.prototype.initData.call(this,o),this.game_effect_id=t,this.move_speed=a,this.target_pos=n;var s=n.sub(this.node.getPosition());this.move_direction=Math.atan2(s.y,s.x);var c=s.mag(),l=this.move_speed/r.default.getInstance().getGameRate();this.spread_time=.02*r.default.getInstance().getGameRate();var g=c/l/r.default.getInstance().getGameRate();this.node.scale=.5,cc.tween(this.node).then(cc.spawn(cc.sequence(cc.scaleTo(g/4,1.1),cc.scaleTo(3*g/4,.8)),cc.jumpTo(g,n,c/2.5,1))).call(this.destroySelf,this).start(),this.bomb_size=i,this.tuo_wei=cc.instantiate(this.tuowei),this.tuo_wei.parent=this.node.parent,this.node.zIndex=1,this.prev_pos=this.node.getPosition();var u=this.tuo_wei.getComponent(cc.MotionStreak);u.fadeTime=u.fadeTime*r.default.getInstance().getGameRate(),this.spread_pos=new Array(4);for(var p=this.spread_pos.length,d=0;d<p;d++)this.spread_pos[d]=this.node.getPosition()},t.prototype.destroySelf=function(){this.tuo_wei&&cc.tween(this.tuo_wei).delay(this.tuo_wei.getComponent(cc.MotionStreak).fadeTime/(10*r.default.getInstance().getGameRate())).removeSelf().start(),this.game_effect_id==c.GameEffectId.pet_attackt_curve_1?this.createBomb1():this.game_effect_id==c.GameEffectId.pet_attackt_curve_3&&this.createBomb2(),r.default.getInstance().sound_manager.playSound(s.SoundIndex.YX_boom2),c.GameEffectsManager.getInstance().destroyGameEffectById(this.game_effect_id,this.node),this.tuo_wei=null},t.prototype.setDirection=function(e){this.move_direction=e},t.prototype.createBomb1=function(){c.GameEffectsManager.getInstance().createGameEffectById(c.GameEffectId.pet_attackt_hit_1,this.target_pos),l.default.getInstance().createGameEffectById(c.GameEffectId.pet_attackt_hit_2,this.target_pos);var e=u.default.getInstance().getMonstersForCenterPos(-1,this.target_pos,80);if(e)for(var t=0;t<e.length;t++)e[t].getComponent(p.default).beFlashInjured(this.gongji_data)},t.prototype.createBomb2=function(){c.GameEffectsManager.getInstance().createGameEffectById(c.GameEffectId.pet_attackt_hit_3,this.target_pos),l.default.getInstance().createGameEffectById(c.GameEffectId.pet_attackt_hit_4,this.target_pos);var e=u.default.getInstance().getMonstersForCenterPos(-1,this.target_pos,80);if(e)for(var t=0;t<e.length;t++)e[t].getComponent(p.default).beFlashInjured(this.gongji_data)},t.prototype.createSpread=function(){var e=c.GameEffectId.pet_attackt_tuowei_2;this.game_effect_id==c.GameEffectId.pet_attackt_curve_1?e=c.GameEffectId.pet_attackt_tuowei_2:this.game_effect_id==c.GameEffectId.pet_attackt_curve_3&&(e=c.GameEffectId.pet_attackt_tuowei_3);var t=c.GameEffectsManager.getInstance().createGameEffectById(e,this.spread_pos[this.getPosIndex()]);t.angle=360*Math.random(),t.scale=.5*Math.random()+.8},t.prototype.getPosIndex=function(){var e=this.spread_pos.length-1,t=Math.floor(this.spread_pos.length/r.default.getInstance().getGameRate());return t>=e&&(t=e),t},t.prototype.update=function(e){if(r.default.getInstance().cur_game_state==g.GameState.Game_Playing&&this.tuo_wei){var t=r.default.getInstance().getGameRate();t<1&&(t=1);var a=this.node.getPosition(),n=a.sub(this.prev_pos),o=4*n.mag()/t,i=Math.atan2(n.y,n.x),s=a.x+Math.cos(i)*o,c=a.y+Math.sin(i)*o;this.tuo_wei.setPosition(cc.v2(s,c)),this.prev_pos=this.node.getPosition(),this.spread_time-=e,this.update_locus_shadow(),this.spread_time<=0&&(this.spread_time=.02*r.default.getInstance().getGameRate(),this.createSpread())}},t.prototype.update_locus_shadow=function(){this.spread_pos.unshift(this.node.getPosition()),this.spread_pos.pop()},i([_({type:cc.Prefab})],t.prototype,"tuowei",void 0),i([f],t)}(d.default);a.default=m,cc._RF.pop()},{"../../Constants":"Constants","../../Game/GameEffectsManager":"GameEffectsManager","../../Game/GroundManager":"GroundManager","../../GameManager":"GameManager","../../Hero/Game/GongJi":"GongJi","../../Monster/Monster":"Monster","../../Monster/MonsterManager":"MonsterManager","../../Sound/AudioConstants":"AudioConstants"}],PayAccumulateChargeItem:[function(e,t,a){"use strict";cc._RF.push(t,"718a7Vy1JxNlbWyho/22p8F","PayAccumulateChargeItem");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../GameManager"),s=e("../multiLanguage/FollowConstants"),c=e("../multiLanguage/FollowManager"),l=e("../multiLanguage/TextLanguage"),g=e("../Prop/PropConfig"),u=e("../Prop/PropManager"),p=e("../Sound/AudioConstants"),d=e("./PayAccumulateChargeUi"),h=e("./PayManager"),f=cc._decorator,_=f.ccclass,m=(f.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return o(t,e),t.prototype.initData=function(e){var t,a,n,o,i;this.data=e,0!=e.GetCoin&&((t=u.PropManager.getInstance().createPropItem(g.PropId.Coin,e.GetCoin)).scale=.85),0!=e.GetGem&&((a=u.PropManager.getInstance().createPropItem(g.PropId.Gem,e.GetGem)).scale=.85),0!=e.Item1_ID&&((n=u.PropManager.getInstance().createPropItem(e.Item1_ID,e.Item1_Num)).scale=.85),0!=e.Item2_ID&&((o=u.PropManager.getInstance().createPropItem(e.Item2_ID,e.Item2_Num)).scale=.85),0!=e.Item3_ID&&((i=u.PropManager.getInstance().createPropItem(e.Item3_ID,e.Item3_Num)).scale=.85);var r=this.node.getChildByName("rewardScroll").getComponent(cc.ScrollView).content;r.removeAllChildren(),t&&r.addChild(t),a&&r.addChild(a),n&&r.addChild(n),o&&r.addChild(o),i&&r.addChild(i);var s=h.PayManager.getInstance().getTotalLongJingGetState(e.CumulativeRechargeID);0!=s?(this.node.getChildByName("rewardScroll").setPosition(cc.v2(-108,62)),1==s?(this.node.getChildByName("rewardBtn").active=!0,this.node.getChildByName("rewardBtn1").active=!1):(this.node.getChildByName("rewardBtn1").active=!0,this.node.getChildByName("rewardBtn").active=!1)):this.node.getChildByName("rewardScroll").setPosition(cc.v2(0,62)),this.node.getChildByName("Label1").getComponent(l.default).setTextId(1420001),this.node.getChildByName("Label1").getComponent(l.default).setReplaceValue("~",e.CumulativeRechargePrice+""),this.node.getChildByName("num").getComponent(cc.Label).string=h.PayManager.getInstance().getTotalLongJingNum()+"/"+e.CumulativeRechargePrice,this.node.getChildByName("Task_Bar_0").getComponent(cc.ProgressBar).progress=h.PayManager.getInstance().getTotalLongJingNum()/e.CumulativeRechargePrice},t.prototype.onClickRewardBtn=function(){var e,t,a,n,o,i=this;r.default.getInstance().sound_manager.playSound(p.SoundIndex.click),c.default.getInstance().followEvent(s.Follow_Type.\u6bcf\u4e00\u6863\u7d2f\u5145\u5956\u52b1\u9886\u53d6\u4eba\u6570+this.data.CumulativeRechargePrice);var l=[];0!=this.data.GetCoin&&(e=u.PropManager.getInstance().createPropItem(g.PropId.Coin,this.data.GetCoin),u.PropManager.getInstance().changePropNum(g.PropId.Coin,this.data.GetCoin),e.scale=.85),0!=this.data.GetGem&&(t=u.PropManager.getInstance().createPropItem(g.PropId.Gem,this.data.GetGem),u.PropManager.getInstance().changePropNum(g.PropId.Gem,this.data.GetGem),t.scale=.85),0!=this.data.Item1_ID&&(a=u.PropManager.getInstance().createPropItem(this.data.Item1_ID,this.data.Item1_Num),u.PropManager.getInstance().changePropNum(this.data.Item1_ID,this.data.Item1_Num),a.scale=.85),0!=this.data.Item2_ID&&(n=u.PropManager.getInstance().createPropItem(this.data.Item2_ID,this.data.Item2_Num),u.PropManager.getInstance().changePropNum(this.data.Item2_ID,this.data.Item2_Num),n.scale=.85),0!=this.data.Item3_ID&&(o=u.PropManager.getInstance().createPropItem(this.data.Item3_ID,this.data.Item3_Num),u.PropManager.getInstance().changePropNum(this.data.Item3_ID,this.data.Item3_Num),o.scale=.85),h.PayManager.getInstance().setTotalLongJingGetState(this.data.CumulativeRechargeID,2),e&&l.push(e),t&&l.push(t),a&&l.push(a),n&&l.push(n),o&&l.push(o),r.default.getInstance().showMultipleGetTip(l,function(){i.node.parent.parent.parent.parent.getComponent(d.default).refreshUi()})},i([_],t)}(cc.Component));a.default=m,cc._RF.pop()},{"../GameManager":"GameManager","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/TextLanguage":"TextLanguage","./PayAccumulateChargeUi":"PayAccumulateChargeUi","./PayManager":"PayManager"}],PayAccumulateChargeUi:[function(e,t,a){"use strict";cc._RF.push(t,"70513JESFVDkpCm5Thi1X8w","PayAccumulateChargeUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../GameManager"),s=e("../multiLanguage/TextLanguage"),c=e("../Prop/PropConfig"),l=e("../Prop/PropManager"),g=e("../Sound/AudioConstants"),u=e("../thirdParty/ThirdParty"),p=e("./Data/CumulativeRecharge"),d=e("./PayAccumulateChargeItem"),h=e("./PayManager"),f=cc._decorator,_=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.item=null,t.common_ui=null,t}return o(t,e),t.prototype.onEnable=function(){this.refreshUi()},t.prototype.start=function(){h.PayManager.getInstance().addTodayShow(u.PayUiIndex.Total),this.adaptation()},t.prototype.adaptation=function(){var e=this.node.parent.getChildByName("bottom"),t=e.height,a=e.y,n=this.node.parent.getChildByName("top"),o=n.height,i=n.y,r=i-o-(a+t),s=i-o-r/2,c=this.node.getChildByName("itemScroll");c.height=r-this.node.getChildByName("Recharge_Bg_1").height,c.y=s-120;var l=this.node.getChildByName("Recharge_Bg_1").y-this.node.getChildByName("tipLab").y;c.getChildByName("view").height=r-this.node.getChildByName("Recharge_Bg_1").height,this.node.getChildByName("Recharge_Bg_1").y=n.y-(n.height+this.node.getChildByName("Recharge_Bg_1").height/2),this.node.getChildByName("tipLab").y=this.node.getChildByName("Recharge_Bg_1").y-l},t.prototype.refreshUi=function(){var e=this,t=p.CumulativeRechargeManager.getInstance().getData(),a=this.node.getChildByName("itemScroll").getComponent(cc.ScrollView).content;a.removeAllChildren(),t.forEach(function(t){var n=h.PayManager.getInstance().getTotalLongJingGetState(t.CumulativeRechargeID),o=cc.instantiate(e.item);o.getComponent(d.default).initData(t),2==n&&o.getChildByName("rewardScroll").getComponent(cc.ScrollView).content.children.forEach(function(t){var a=new cc.Node;a.addComponent(cc.Sprite).spriteFrame=e.common_ui.getSpriteFrame("Common_Checkmark");var n=new cc.Node;n.addComponent(cc.Sprite).spriteFrame=e.common_ui.getSpriteFrame("Item_frame_ZheZhao"),n.opacity=150,n.setParent(t),a.setParent(t)}),a.addChild(o),o.setSiblingIndex(0)});var n=p.CumulativeRechargeManager.getInstance().getJsonCumulativeRecharge(p.CumulativeRechargeManager.getMaxCumulativeRechargeID());if(this.node.getChildByName("Recharge_Bg_1").removeAllChildren(),this.node.getChildByName("tipLab").getComponent(s.default).setReplaceValue("~",n.CumulativeRechargePrice+""),h.PayManager.getInstance().getTotalLongJingNum()>=n.CumulativeRechargePrice)if(null==cc.sys.localStorage.getItem("pay_accumulate_charge_final")){(r=l.PropManager.getInstance().createPropItem(70021,1,c.PropAction.Null)).setParent(this.node.getChildByName("Recharge_Bg_1")),r.y=30;var o=r.getComponent(cc.Button);o.interactable=!0;var i=new cc.Component.EventHandler;i.target=this.node,i.component="PayAccumulateChargeUi",i.handler="onClickReward",o.clickEvents.push(i)}else{var r;(r=l.PropManager.getInstance().createPropItem(70021,1,c.PropAction.Null)).setParent(this.node.getChildByName("Recharge_Bg_1"));var g=new cc.Node;g.addComponent(cc.Sprite).spriteFrame=this.common_ui.getSpriteFrame("Common_Checkmark");var u=new cc.Node;u.addComponent(cc.Sprite).spriteFrame=this.common_ui.getSpriteFrame("Item_frame_ZheZhao"),u.setParent(r),u.opacity=150,g.setParent(r),r.y=30}else(r=l.PropManager.getInstance().createPropItem(70021,1)).setParent(this.node.getChildByName("Recharge_Bg_1")),r.y=30},t.prototype.onClickReward=function(){var e=this;r.default.getInstance().sound_manager.playSound(g.SoundIndex.click);var t=l.PropManager.getInstance().createPropItem(70021,1);l.PropManager.getInstance().changePropNum(70021,1),cc.sys.localStorage.setItem("pay_accumulate_charge_final",1),r.default.getInstance().showGetTip(t,function(){e.refreshUi()}.bind(this))},i([m(cc.Prefab)],t.prototype,"item",void 0),i([m(cc.SpriteAtlas)],t.prototype,"common_ui",void 0),i([_],t)}(cc.Component);a.default=y,cc._RF.pop()},{"../GameManager":"GameManager","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../multiLanguage/TextLanguage":"TextLanguage","../thirdParty/ThirdParty":"ThirdParty","./Data/CumulativeRecharge":"CumulativeRecharge","./PayAccumulateChargeItem":"PayAccumulateChargeItem","./PayManager":"PayManager"}],PayFirstChargeUi:[function(e,t,a){"use strict";cc._RF.push(t,"f1d12/B6JNPx5WX/M2nSYJL","PayFirstChargeUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Ads/ApkManager"),s=e("../GameManager"),c=e("../Hero/Data/HeroManager"),l=e("../multiLanguage/FollowConstants"),g=e("../multiLanguage/FollowManager"),u=e("../multiLanguage/LanguageManager"),p=e("../Prop/PropManager"),d=e("../Storage/StorageConfig"),h=e("../Storage/StorageManager"),f=e("../Store/StoreHeroShowUi"),_=e("../Tools/EventManager"),m=e("../UI/home/MainUi"),y=e("../UI/UIComponent"),I=e("../UI/UIConfig"),v=e("../UI/UIManager"),M=e("./PayManager"),C=cc._decorator,S=C.ccclass,P=C.property,k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.reward_list=[{reward_id:110008,reward_num:0},{reward_id:30113,reward_num:1},{reward_id:30213,reward_num:1},{reward_id:30313,reward_num:1},{reward_id:30413,reward_num:1},{reward_id:10002,reward_num:600},{reward_id:40004,reward_num:10}],t.itmeparent=null,t.id="c301",t.itemarr=[],t}return o(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t),this.refreshData(),_.EventManager.postRedEvent(_.RedEventString.RED_TIP,_.RedEventType.Btn_Main_ShouChong,!1,_.RedEventType.Btn_Main_ShouChong),g.default.getInstance().followEvent(l.Follow_Type.\u9996\u5145\u70b9\u51fb\u6b21\u6570)},t.prototype.refreshData=function(){for(var e=0;e<this.itemarr.length;e++)this.itemarr[e].removeFromParent();for(var t=0;t<this.reward_list.length;t++){var a=p.PropManager.getInstance().createPropItem(this.reward_list[t].reward_id,this.reward_list[t].reward_num);a.scale=.9,a.parent=this.itmeparent.children[t],this.itemarr.push(a)}this.node.getChildByName("richText").getComponent(cc.RichText).string=u.default.getInstance().getStrByTextId(1440002),this.node.getChildByName("goBtn").getChildByName("txt").getComponent(cc.Label).string=""+M.PayManager.getInstance().getPayInfo(this.id).price,this.node.getChildByName("goBtn").active=M.PayManager.getInstance().getPayNum("c301")<=0},t.prototype.onClickGoBtn=function(){var e=this;g.default.getInstance().followEvent(l.Follow_Type.\u9996\u5145\u70b9\u51fb\u8d2d\u4e70\u6309\u94ae),M.PayManager.getInstance().getPayNum("c301")<=0&&r.default.getInstance().showPay({result:function(t){t&&(g.default.getInstance().followEvent(l.Follow_Type.\u9996\u5145\u8d2d\u4e70\u6210\u529f\u6309\u94ae),e.onClickReceiveBtn())}},this.id)},t.prototype.onClickReceiveBtn=function(){var e=this;if(0==h.TheStorageManager.getInstance().getNumber(d.StorageKey.StoreHeroID+this.reward_list[0].reward_id%11e4,0))v.UIManager.getInstance().showUiDialog(I.UIPath.StoreHeroShowUi,I.UILayerLevel.Two,{onCompleted:function(t){t.getComponent(f.default).init({onClose:function(){var t=[];e.reward_list.forEach(function(e){var a=p.PropManager.getInstance().createPropItem(e.reward_id,e.reward_num);p.PropManager.getInstance().changePropNum(e.reward_id,e.reward_num),t.push(a)}),M.PayManager.getInstance().addPayNum(e.id),h.TheStorageManager.getInstance().setItem(d.StorageKey.FirstPayGetState,1),s.default.getInstance().showMultipleGetTip(t,function(){e.destroySelf();var t=cc.find("Canvas/main_ui");if(t){var a=t.getComponent(m.default);a&&a.refreshRight()}}.bind(e))}}),t.getComponent(f.default).initData(e.reward_list[0].reward_id%11e4)}});else{var t=[];this.reward_list.forEach(function(e){var a=p.PropManager.getInstance().createPropItem(e.reward_id,e.reward_num);p.PropManager.getInstance().changePropNum(e.reward_id,e.reward_num),t.push(a)}),M.PayManager.getInstance().addPayNum(this.id),h.TheStorageManager.getInstance().setItem(d.StorageKey.FirstPayGetState,1),s.default.getInstance().showMultipleGetTip(t,function(){e.destroySelf();var t=cc.find("Canvas/main_ui");if(t){var a=t.getComponent(m.default);a&&a.refreshRight()}}.bind(this))}c.HeroManager.getInstance().reportHeroList()},t.prototype.destroySelf=function(){for(var t=0;t<this.itemarr.length;t++)this.itemarr[t].removeFromParent();this.itemarr=new Array,e.prototype.onClose.call(this),r.default.getInstance().closeBanner()},i([P(cc.Node)],t.prototype,"itmeparent",void 0),i([S],t)}(y.default);a.default=k,cc._RF.pop()},{"../Ads/ApkManager":"ApkManager","../GameManager":"GameManager","../Hero/Data/HeroManager":"HeroManager","../Prop/PropManager":"PropManager","../Storage/StorageConfig":"StorageConfig","../Storage/StorageManager":"StorageManager","../Store/StoreHeroShowUi":"StoreHeroShowUi","../Tools/EventManager":"EventManager","../UI/UIComponent":"UIComponent","../UI/UIConfig":"UIConfig","../UI/UIManager":"UIManager","../UI/home/MainUi":"MainUi","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/LanguageManager":"LanguageManager","./PayManager":"PayManager"}],PayGitBagItem:[function(e,t,a){"use strict";cc._RF.push(t,"f6f0d1MOfNPubPGLH0zV3M5","PayGitBagItem");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Ads/ApkManager"),s=e("../Constants"),c=e("../GameManager"),l=e("../multiLanguage/TextLanguage"),g=e("../Prop/Prop"),u=e("../Prop/PropConfig"),p=e("../Prop/PropManager"),d=e("../Tools/MyTool"),h=e("./PayManager"),f=e("../Tools/EventManager"),_=e("../Equipment/Ui/EquipItem"),m=e("../multiLanguage/FollowManager"),y=e("../multiLanguage/FollowConstants"),I=cc._decorator,v=I.ccclass,M=(I.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=null,t}return o(t,e),t.prototype.initData=function(e){var t,a,n,o,i,r,s=this;this.data=e,0!=e.GetCoinNum&&((t=p.PropManager.getInstance().createPropItem(u.PropId.Coin,e.GetCoinNum)).scale=.85),0!=e.GetGemNum&&((a=p.PropManager.getInstance().createPropItem(u.PropId.Gem,e.GetGemNum)).scale=.85),0!=e.GetCrystal&&((n=p.PropManager.getInstance().createPropItem(u.PropId.LongJing,e.GetCrystal)).scale=.85),0!=e.ItemId_1&&((o=p.PropManager.getInstance().createPropItem(e.ItemId_1,e.ItemNum_1)).scale=.85),0!=e.ItemId_2&&((i=p.PropManager.getInstance().createPropItem(e.ItemId_2,e.ItemNum_2)).scale=.85),0!=e.ItemId_3&&((r=p.PropManager.getInstance().createPropItem(e.ItemId_3,e.ItemNum_3)).scale=.85);var c=this.node.getChildByName("rewardScroll").getComponent(cc.ScrollView).content;if(c.removeAllChildren(),t&&c.addChild(t),a&&c.addChild(a),n&&c.addChild(n),o&&c.addChild(o),i&&c.addChild(i),r&&c.addChild(r),1==e.AdReward){this.node.getChildByName("freeBtn").active=!0,this.node.getChildByName("limit").active=!0,this.node.getChildByName("btn").active=!1;var g=cc.sys.localStorage.getItem("pay_git_bag_item_"+e.GiftID)||0;g=Number(g),this.node.getChildByName("limit").getComponent(l.default).setReplaceValue(["%","~"],[e.AdPlayableTimes-g+"",e.AdPlayableTimes+""]),g>=e.AdPlayableTimes&&(this.soldOut(this.node),this.node.getChildByName("freeBtn").active=!1,this.node.getChildByName("limit").active=!1,this.node.getChildByName("Cycle_Bg_3").active=!0,this.node.getChildByName("slodOut").active=!0,this.node.getChildByName("Cycle_Bg_3").getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),this.node.getChildByName("slodOut").getComponent(cc.Label).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),this.node.getChildByName("btn").getComponent(cc.Button).interactable=!1),this.node.getChildByName("freeBtn").getChildByName("red").active=g<e.AdPlayableTimes}else{this.node.getChildByName("freeBtn").active=!1,this.node.getChildByName("limit").active=!1,this.node.getChildByName("btn").active=!0;var f=h.PayManager.getInstance().getPayInfo(e.ProductId);this.node.getChildByName("btn").getComponentInChildren(cc.Label).string=f.price,0!=(g=cc.sys.localStorage.getItem("pay_git_bag_item_"+e.GiftID)||0)&&(this.soldOut(this.node),this.node.getChildByName("btn").active=!1,this.node.getChildByName("Cycle_Bg_3").active=!0,this.node.getChildByName("slodOut").active=!0,this.node.getChildByName("Cycle_Bg_3").getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),this.node.getChildByName("slodOut").getComponent(cc.Label).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),this.node.getChildByName("btn").getComponent(cc.Button).interactable=!1)}this.schedule(function(){var t,a;switch(e.GiftText){case 1:t=Math.floor(Date.now()/1e3),a=Math.floor(new Date((new Date).toLocaleDateString()).getTime()/1e3)+86400;break;case 2:var n=Math.floor(new Date((new Date).setHours(0,0,0,0)).getTime()/1e3)-86400*(0===(new Date).getDay()?6:(new Date).getDay()-1);t=Math.floor(Date.now()/1e3),a=n+604800;break;case 3:var o=new Date;o.setDate(1),o.setHours(0,0,0,0);var i=o.getTime()/1e3;t=Math.floor(Date.now()/1e3),a=i+2592e3}s.node.getChildByName("time").getComponent(cc.Label).string=d.default.getTimeStr(a-t)},0,cc.macro.REPEAT_FOREVER)},t.prototype.soldOut=function(e){for(var t=0;t<e.childrenCount;t++)e.children[t].getComponent(cc.Label)&&e.children[t].getComponent(cc.Label).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),e.children[t].getComponent(cc.Sprite)&&e.children[t].getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),e.children[t].childrenCount>0&&this.soldOut(e.children[t])},t.prototype.onClickBuy=function(){var e=this;1==this.data.AdReward?r.default.getInstance().showVideo(function(t){if(t){var a=void 0,n=void 0,o=void 0,i=void 0,r=void 0,s=void 0;0!=e.data.GetCoinNum&&(a=p.PropManager.getInstance().createPropItem(u.PropId.Coin,e.data.GetCoinNum)),0!=e.data.GetGemNum&&(n=p.PropManager.getInstance().createPropItem(u.PropId.Gem,e.data.GetGemNum)),0!=e.data.GetCrystal&&(o=p.PropManager.getInstance().createPropItem(u.PropId.LongJing,e.data.GetCrystal),h.PayManager.getInstance().addTotalLongJingNum(e.data.GetCrystal)),0!=e.data.ItemId_1&&(i=p.PropManager.getInstance().createPropItem(e.data.ItemId_1,e.data.ItemNum_1)),0!=e.data.ItemId_2&&(r=p.PropManager.getInstance().createPropItem(e.data.ItemId_2,e.data.ItemNum_2)),0!=e.data.ItemId_3&&(s=p.PropManager.getInstance().createPropItem(e.data.ItemId_3,e.data.ItemNum_3));var l=[];a&&l.push(a),n&&l.push(n),o&&l.push(o),i&&l.push(i),r&&l.push(r),s&&l.push(s);for(var d=0;d<l.length;d++)l[d].getComponent(g.default)?p.PropManager.getInstance().changePropNum(l[d].getComponent(g.default).prop_id,l[d].getComponent(g.default).prop_num):p.PropManager.getInstance().changePropNum(l[d].getComponent(_.default).equip_info.equip_id,1);c.default.getInstance().showMultipleGetTip(l);var I=cc.sys.localStorage.getItem("pay_git_bag_item_"+e.data.GiftID)||0;cc.sys.localStorage.setItem("pay_git_bag_item_"+e.data.GiftID,++I),e.initData(e.data),f.EventManager.postRedEvent(f.RedEventString.RED_CHECK,f.RedEventType.Btn_Main_Shop_Gift),1==e.data.GiftText?m.default.getInstance().followEvent(y.Follow_Type.\u6bcf\u65e5\u793c\u5305x\u6863\u70b9\u51fb\u8d2d\u4e70\u6b21\u6570+"AD"):2==e.data.GiftText?m.default.getInstance().followEvent(y.Follow_Type.\u6bcf\u5468\u793c\u5305x\u6863\u70b9\u51fb\u8d2d\u4e70\u6b21\u6570+"AD"):m.default.getInstance().followEvent(y.Follow_Type.\u6bcf\u6708\u793c\u5305x\u6863\u70b9\u51fb\u8d2d\u4e70\u6b21\u6570+"AD")}}.bind(this),s.VIDEO_TYPE.Gem):r.default.getInstance().showPay({result:function(t){if(t){var a=void 0,n=void 0,o=void 0,i=void 0,r=void 0,s=void 0;0!=e.data.GetCoinNum&&(a=p.PropManager.getInstance().createPropItem(u.PropId.Coin,e.data.GetCoinNum)),0!=e.data.GetGemNum&&(n=p.PropManager.getInstance().createPropItem(u.PropId.Gem,e.data.GetGemNum)),0!=e.data.GetCrystal&&(o=p.PropManager.getInstance().createPropItem(u.PropId.LongJing,e.data.GetCrystal),h.PayManager.getInstance().addTotalLongJingNum(e.data.GetCrystal)),0!=e.data.ItemId_1&&(i=p.PropManager.getInstance().createPropItem(e.data.ItemId_1,e.data.ItemNum_1)),0!=e.data.ItemId_2&&(r=p.PropManager.getInstance().createPropItem(e.data.ItemId_2,e.data.ItemNum_2)),0!=e.data.ItemId_3&&(s=p.PropManager.getInstance().createPropItem(e.data.ItemId_3,e.data.ItemNum_3));var l=[];a&&l.push(a),n&&l.push(n),o&&l.push(o),i&&l.push(i),r&&l.push(r),s&&l.push(s);for(var d=0;d<l.length;d++)l[d].getComponent(g.default)?p.PropManager.getInstance().changePropNum(l[d].getComponent(g.default).prop_id,l[d].getComponent(g.default).prop_num):p.PropManager.getInstance().changePropNum(l[d].getComponent(_.default).equip_info.equip_id,1);c.default.getInstance().showMultipleGetTip(l);var f=cc.sys.localStorage.getItem("pay_git_bag_item_"+e.data.GiftID)||0;cc.sys.localStorage.setItem("pay_git_bag_item_"+e.data.GiftID,++f),e.initData(e.data),1==e.data.GiftText?m.default.getInstance().followEvent(y.Follow_Type.\u6bcf\u65e5\u793c\u5305x\u6863\u70b9\u51fb\u8d2d\u4e70\u6b21\u6570+e.data.GiftID):2==e.data.GiftText?m.default.getInstance().followEvent(y.Follow_Type.\u6bcf\u5468\u793c\u5305x\u6863\u70b9\u51fb\u8d2d\u4e70\u6b21\u6570+e.data.GiftID):m.default.getInstance().followEvent(y.Follow_Type.\u6bcf\u6708\u793c\u5305x\u6863\u70b9\u51fb\u8d2d\u4e70\u6b21\u6570+e.data.GiftID)}}.bind(this)},this.data.ProductId)},i([v],t)}(cc.Component));a.default=M,cc._RF.pop()},{"../Ads/ApkManager":"ApkManager","../Constants":"Constants","../Equipment/Ui/EquipItem":"EquipItem","../GameManager":"GameManager","../Prop/Prop":"Prop","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","../Tools/EventManager":"EventManager","../Tools/MyTool":"MyTool","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/TextLanguage":"TextLanguage","./PayManager":"PayManager"}],PayGitBag:[function(e,t,a){"use strict";cc._RF.push(t,"88874PCV/FBQ4aBbRVLJ9up","PayGitBag");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r,s=e("../GameManager"),c=e("./Data/CyclePack"),l=e("../Sound/AudioConstants"),g=e("./PayGitBagItem"),u=e("./PayManager"),p=e("../Tools/EventManager"),d=e("../thirdParty/ThirdParty"),h=e("../multiLanguage/FollowManager"),f=e("../multiLanguage/FollowConstants"),_=cc._decorator,m=_.ccclass,y=_.property;(function(e){e[e.Day=1]="Day",e[e.Week=2]="Week",e[e.Month=3]="Month"})(r||(r={}));var I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.git_state=r.Day,t.git_bag_item=null,t.pay_git_bag_ui=null,t}return o(t,e),t.prototype.onEnable=function(){this.adaptation(),this.refreshUI()},t.prototype.adaptation=function(){var e=this.node.parent.getChildByName("bottom"),t=e.height,a=e.y,n=this.node.parent.getChildByName("top"),o=n.height,i=n.y,r=i-o-(a+t),s=i-o-r/2,c=this.node.getChildByName("itemScroll");c.height=r,c.y=s-120,c.getChildByName("view").height=r,this.node.getChildByName("top").y=n.y-(n.height/2+this.node.getChildByName("top").height)},t.prototype.start=function(){u.PayManager.getInstance().addTodayShow(d.PayUiIndex.Gift),p.EventManager.postRedEvent(p.RedEventString.RED_CHECK,p.RedEventType.Btn_Main_Shop_Gift)},t.prototype.refreshUI=function(){for(var e=this,t=1;t<=3;t++){var a=this.node.getChildByName("top").getChildByName("btn"+t);t==this.git_state?a.getComponents(cc.Button).forEach(function(e){e.interactable=!1}):a.getComponents(cc.Button).forEach(function(e){e.interactable=!0})}var n=this.node.getChildByName("itemScroll").getComponent(cc.ScrollView).content;n.removeAllChildren(),c.CyclePackManager.getInstance().getDataByType(this.git_state).forEach(function(t){var a=cc.instantiate(e.git_bag_item);a.getComponent(g.default).initData(t),1==t.GiftText?a.getChildByName("Cycle_Bg_Day").getComponent(cc.Sprite).spriteFrame=e.pay_git_bag_ui.getSpriteFrame("Cycle_Bg_Day"):2==t.GiftText?a.getChildByName("Cycle_Bg_Day").getComponent(cc.Sprite).spriteFrame=e.pay_git_bag_ui.getSpriteFrame("Cycle_Bg_Week"):a.getChildByName("Cycle_Bg_Day").getComponent(cc.Sprite).spriteFrame=e.pay_git_bag_ui.getSpriteFrame("Cycle_Bg_Month"),n.addChild(a)})},t.prototype.onBtnClick=function(e,t){s.default.getInstance().sound_manager.playSound(l.SoundIndex.click),1==(t=Number(t))?h.default.getInstance().followEvent(f.Follow_Type.\u6bcf\u65e5\u793c\u5305\u9875\u7b7e\u5c55\u793a\u6b21\u6570):2==t?h.default.getInstance().followEvent(f.Follow_Type.\u6bcf\u5468\u793c\u5305\u9875\u7b7e\u5c55\u793a\u6b21\u6570):h.default.getInstance().followEvent(f.Follow_Type.\u6bcf\u6708\u793c\u5305\u9875\u7b7e\u5c55\u793a\u6b21\u6570),this.git_state!=t&&(this.git_state=t,this.refreshUI())},i([y(cc.Prefab)],t.prototype,"git_bag_item",void 0),i([y(cc.SpriteAtlas)],t.prototype,"pay_git_bag_ui",void 0),i([m],t)}(cc.Component);a.default=I,cc._RF.pop()},{"../GameManager":"GameManager","../Sound/AudioConstants":"AudioConstants","../Tools/EventManager":"EventManager","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../thirdParty/ThirdParty":"ThirdParty","./Data/CyclePack":"CyclePack","./PayGitBagItem":"PayGitBagItem","./PayManager":"PayManager"}],PayManager:[function(e,t,a){"use strict";cc._RF.push(t,"ccf78XkELVD7obtIaY1ewGc","PayManager"),Object.defineProperty(a,"__esModule",{value:!0}),a.PayManager=void 0;var n=e(".././NetWork/HttpManager"),o=e("../Ads/ApkManager"),i=e("../Constants"),r=e("../Storage/StorageConfig"),s=e("../Storage/StorageManager"),c=e("../thirdParty/ThirdParty"),l=e("../UserData"),g=e("./Data/CrystalRecharge"),u=e("./Data/CumulativeRecharge"),p=e("./Data/CyclePack"),d=e("./Data/PaidItem"),h=e("./Data/PrivilegedCardInformation"),f=e("./DingYueManager"),_=function(){function e(){this.pay_info=null}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){var e=this;f.DingYueManager.getInstance(),g.CrystalRechargeManager.getInstance(),u.CumulativeRechargeManager.getInstance(),h.PrivilegedCardInformationManager.getInstance(),d.PaidItemManager.getInstance(),this.pay_info=new Map,this.setLocalInfo(),o.default.getInstance().getPayInfos({info:function(t){for(var a=t.length,n=0;n<a;n++){var o=t[n];e.setPayInfo(o.pay_id,o)}}})},e.prototype.setLocalInfo=function(){var e=this;if(d.PaidItemManager.getInstance().loadJson(function(){if(e.pay_info.size<=0){var t=new Array;d.PaidItemManager.getInstance().getData().forEach(function(a){var n=new c.PayInfo;n.price=a.Price+"",n.des="Prop",n.currency="$",n.is_buy=i.IsDebug,n.pay_id=a.PaidItemId,1==a.PurchaseType&&(n.is_buy=e.getPayNum(a.PaidItemId)>0,t.push(n)),e.setPayInfo(a.PaidItemId,n)}),f.DingYueManager.getInstance().setCardInfo(t)}else{var a=new Array;d.PaidItemManager.getInstance().getData().forEach(function(t){if(1==t.PurchaseType){var n=new c.PayInfo;n.price=t.Price+"",n.des="Prop",n.currency="$",n.is_buy=i.IsDebug,n.pay_id=t.PaidItemId,n.is_buy=e.getPayNum(t.PaidItemId)>0,a.push(n)}})}}),i.IsDebug){var t=new Array,a=new c.PayInfo;a.price="123456",a.des="Prop",a.currency="$",a.pay_id="c502",a.is_buy=this.getPayNum(a.pay_id)>0,t.push(a),(a=new c.PayInfo).price="654321",a.des="Prop",a.currency="$",a.pay_id="c504",a.is_buy=this.getPayNum(a.pay_id)>0,t.push(a),f.DingYueManager.getInstance().getWeekInfo()||f.DingYueManager.getInstance().setCardInfo(t)}},e.prototype.setPayInfos=function(e){for(var t=e.length,a=0;a<t;a++){var n=e[a];this.setPayInfo(n.pay_id,n)}},e.prototype.setPayInfo=function(e,t){this.pay_info.set(e,t)},e.prototype.getPayInfo=function(e){return this.pay_info.get(e)},e.prototype.getPayNum=function(e){return s.TheStorageManager.getInstance().getInt(r.StorageKey.PayNum+e,0)},e.prototype.getIsFirstPay=function(){var e=this,t=!1;return g.CrystalRechargeManager.getInstance().getData().forEach(function(a){!t&&e.getPayNum(a.ProductId)>0&&(t=!0)}),h.PrivilegedCardInformationManager.getInstance().getData().forEach(function(a){!t&&e.getPayNum(a.ProductId)>0&&(t=!0)}),p.CyclePackManager.getInstance().getData().forEach(function(a){!t&&0==a.AdReward&&e.getPayNum(a.ProductId)>0&&(t=!0)}),t&&!this.getIsGetFirstReward()},e.prototype.getIsGetFirstReward=function(){return s.TheStorageManager.getInstance().getInt(r.StorageKey.FirstPayGetState,0)>0},e.prototype.setIsGetFirstReward=function(e){s.TheStorageManager.getInstance().setItem(r.StorageKey.FirstPayGetState,e?1:0)},e.prototype.addPayNum=function(e){this.savePayNum(e,this.getPayNum(e)+1),this.HttpAddPayPrice(1.99)},e.prototype.savePayNum=function(e,t){s.TheStorageManager.getInstance().setItem(r.StorageKey.PayNum+e,t)},e.prototype.getSelectIds=function(e){return s.TheStorageManager.getInstance().getJson(r.StorageKey.PaySelectIds+e)},e.prototype.saveSelectIds=function(e,t){s.TheStorageManager.getInstance().setJson(r.StorageKey.PaySelectIds+e,t)},e.prototype.getRewardById=function(){},e.prototype.getTotalLongJingNum=function(){return s.TheStorageManager.getInstance().getInt(r.StorageKey.TotalLongJingNum,0)},e.prototype.addTotalLongJingNum=function(t){var a=t+this.getTotalLongJingNum();s.TheStorageManager.getInstance().setItem(r.StorageKey.TotalLongJingNum,a),u.CumulativeRechargeManager.getInstance().getData().forEach(function(t){2!=e.getInstance().getTotalLongJingGetState(t.CumulativeRechargeID)&&a>=t.CumulativeRechargePrice&&e.getInstance().setTotalLongJingGetState(t.CumulativeRechargeID,1)})},e.prototype.getTotalLongJingGetState=function(e){return s.TheStorageManager.getInstance().getInt(r.StorageKey.TotalLongJingGetState+e,0)},e.prototype.setTotalLongJingGetState=function(e,t){s.TheStorageManager.getInstance().setItem(r.StorageKey.TotalLongJingGetState+e,t)},e.prototype.getIsCanGet=function(e){var t=this,a=!1;switch(e){case c.PayUiIndex.ZuXiang:break;case c.PayUiIndex.LongJing:case c.PayUiIndex.Total:var n=u.CumulativeRechargeManager.getInstance().getData(),o=!1;n.forEach(function(e){var n=t.getTotalLongJingGetState(e.CumulativeRechargeID);o||1!=n||(o=!0,a=!0)});break;case c.PayUiIndex.Gift:for(var i=1;i<=3;i++)p.CyclePackManager.getInstance().getDataByType(i).forEach(function(e){if(1==e.AdReward){var t=cc.sys.localStorage.getItem("pay_git_bag_item_"+e.GiftID)||0;(t=Number(t))<e.AdPlayableTimes&&0==a&&(a=!0)}})}return a},e.prototype.getTodayShow=function(e){return s.TheStorageManager.getInstance().getInt(r.StorageKey.PayUiShowNum+e,0)},e.prototype.addTodayShow=function(e){s.TheStorageManager.getInstance().setItem(r.StorageKey.PayUiShowNum+e,1+this.getTodayShow(e))},e.prototype.getFuncTodayShow=function(e){return s.TheStorageManager.getInstance().getInt(r.StorageKey.FuncUiShowNum+e,0)},e.prototype.addFuncTodayShow=function(e){s.TheStorageManager.getInstance().setItem(r.StorageKey.FuncUiShowNum+e,1+this.getFuncTodayShow(e))},e.prototype.resetAllTodayShow=function(){for(var e=1;e<=6;e++)s.TheStorageManager.getInstance().setItem(r.StorageKey.PayUiShowNum+e,0)},e.prototype.HttpAddPayPrice=function(e){n.HttpManager.post(n.AccessName.updateUserInfo,this.getPayJsonString(e),!1)},e.prototype.getPayJsonString=function(e){var t=l.default.getInstance().getUserID();return JSON.stringify({type:6,uid:t,value:e})},e._instance=null,e}();a.PayManager=_,cc._RF.pop()},{".././NetWork/HttpManager":"HttpManager","../Ads/ApkManager":"ApkManager","../Constants":"Constants","../Storage/StorageConfig":"StorageConfig","../Storage/StorageManager":"StorageManager","../UserData":"UserData","../thirdParty/ThirdParty":"ThirdParty","./Data/CrystalRecharge":"CrystalRecharge","./Data/CumulativeRecharge":"CumulativeRecharge","./Data/CyclePack":"CyclePack","./Data/PaidItem":"PaidItem","./Data/PrivilegedCardInformation":"PrivilegedCardInformation","./DingYueManager":"DingYueManager"}],PaymentUi:[function(e,t,a){"use strict";cc._RF.push(t,"a721dYAKK1AcKVO3JWoi85H","PaymentUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../GameManager"),s=e("../multiLanguage/FollowConstants"),c=e("../multiLanguage/FollowManager"),l=e("../multiLanguage/TextLanguage"),g=e("../Sound/AudioConstants"),u=e("../Tools/EventManager"),p=e("../UI/UIComponent"),d=e("../UI/UIManager"),h=cc._decorator,f=h.ccclass,_=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.all_ui=[],t.cur_selected_index=0,t}var a;return o(t,e),a=t,t.prototype.onLoad=function(){a._instance=this},t.prototype.onDestroy=function(){a._instance=null},t.prototype.initData=function(e){this.cur_selected_index=e},t.prototype.start=function(){this.adaptation(),this.setBtnShow()},t.prototype.adaptation=function(){var e=cc.winSize,t=this.node.getChildByName("bottom");t.y=-e.height/2,t.zIndex=1,this.node.getChildByName("top").y=e.height/2;var a=e.height/e.width;a<2&&(this.node.getChildByName("premium_card").scale=a-1)},t.prototype.showIndex=function(e){this.cur_selected_index=e,this.setBtnShow()},t.prototype.setBtnShow=function(){for(var e=this.node.getChildByName("bottom").getChildByName("btnScrollView").getComponent(cc.ScrollView).content,t=0,a=0;a<6;a++){var n=e.children[a],o=n.getComponents(cc.Button),i=this.cur_selected_index!=a;this.all_ui[a].active=!i,i||(t=n.getChildByName("nameText").getComponent(l.default).getTextId());for(var r=0;r<o.length;r++)o[r].interactable=i}this.node.getChildByName("top").getChildByName("titleText").getComponent(l.default).setTextId(t),0==this.cur_selected_index||5==this.cur_selected_index?this.node.getChildByName("top").getChildByName("btnHelp").active=!0:this.node.getChildByName("top").getChildByName("btnHelp").active=!1},t.prototype.clickBtnBottom=function(e,t){r.default.getInstance().sound_manager.playSound(g.SoundIndex.click);var a=parseInt(t);switch(a){case 0:c.default.getInstance().followEvent(s.Follow_Type.\u5546\u57ce_\u5c0a\u4eab\u5361\u9875\u7b7e\u70b9\u51fb\u6b21\u6570);break;case 1:c.default.getInstance().followEvent(s.Follow_Type.\u5546\u57ce_\u9f99\u6676\u5145\u503c\u9875\u7b7e\u70b9\u51fb\u6b21\u6570);break;case 2:c.default.getInstance().followEvent(s.Follow_Type.\u5546\u57ce_\u70ed\u5356\u793c\u5305\u7b7e\u70b9\u51fb\u6b21\u6570);break;case 3:c.default.getInstance().followEvent(s.Follow_Type.\u5546\u57ce_\u901a\u5173\u8fd4\u5229\u7b7e\u70b9\u51fb\u6b21\u6570);break;case 4:c.default.getInstance().followEvent(s.Follow_Type.\u5546\u57ce_\u7d2f\u8ba1\u5145\u503c\u9875\u7b7e\u70b9\u51fb\u6b21\u6570);break;case 5:c.default.getInstance().followEvent(s.Follow_Type.\u5546\u57ce_\u6218\u4ee4\u9875\u7b7e\u70b9\u51fb\u6b21\u6570)}this.cur_selected_index!=a&&(this.cur_selected_index=a,this.setBtnShow())},t.prototype.clickBtnHelp=function(){r.default.getInstance().sound_manager.playSound(g.SoundIndex.click),0==this.cur_selected_index?d.UIManager.getInstance().showHelpTipsUi(null,100003,[1400201,1400202,1400203]):5==this.cur_selected_index&&d.UIManager.getInstance().showHelpTipsUi(null,100003,[1450004,1450005,1450006])},t.prototype.clickBtnClose=function(){r.default.getInstance().sound_manager.playSound(g.SoundIndex.click),u.EventManager.postRedEvent(u.RedEventString.RED_CHECK,u.RedEventType.Btn_Main_Shop),e.prototype.onClose.call(this)},t._instance=null,i([_([cc.Node])],t.prototype,"all_ui",void 0),a=i([f],t)}(p.default);a.default=m,cc._RF.pop()},{"../GameManager":"GameManager","../Sound/AudioConstants":"AudioConstants","../Tools/EventManager":"EventManager","../UI/UIComponent":"UIComponent","../UI/UIManager":"UIManager","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/TextLanguage":"TextLanguage"}],PetAdvanceShowUi:[function(e,t,a){"use strict";cc._RF.push(t,"5580dOyB8VP2quXrWMRTnKj","PetAdvanceShowUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Ads/ApkManager"),s=e("../../GameManager"),c=e("../../Sound/AudioConstants"),l=e("../../UI/UIComponent"),g=e("./BtnPet"),u=cc._decorator,p=u.ccclass,d=(u.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t)},t.prototype.initData=function(e,t){this.now_pet_info=e,this.old_pet_info=t,this.refreshUi()},t.prototype.refreshUi=function(){this.node.getChildByName("old_btn_pet").getComponent(g.default).init(this.old_pet_info),this.node.getChildByName("now_btn_pet").getComponent(g.default).init(this.now_pet_info)},t.prototype.getPetAptitudeId=function(e,t){return 100*e+t},t.prototype.clickBtnClose=function(){s.default.getInstance().sound_manager.playSound(c.SoundIndex.click),this.destroySelf()},t.prototype.destroySelf=function(){e.prototype.onClose.call(this),r.default.getInstance().closeBanner()},i([p],t)}(l.default));a.default=d,cc._RF.pop()},{"../../Ads/ApkManager":"ApkManager","../../GameManager":"GameManager","../../Sound/AudioConstants":"AudioConstants","../../UI/UIComponent":"UIComponent","./BtnPet":"BtnPet"}],PetAdvanceUi:[function(e,t,a){"use strict";cc._RF.push(t,"b850dohzYdKyJuW4X0C+ajj","PetAdvanceUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Ads/ApkManager"),s=e("../../GameManager"),c=e("../../multiLanguage/LanguageManager"),l=e("../../Sound/AudioConstants"),g=e("../../UI/UIComponent"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pet_advance_ui=null,t.item=null,t.all_list=null,t.pet_id_num=null,t.pet_quality_num=null,t.chooseItem1=null,t.chooseItem2=null,t.chooseItem3=null,t}return o(t,e),t.prototype.init=function(){},t.prototype.refreshUi=function(){},t.prototype.refreshScroll=function(){},t.prototype.sortList=function(){},t.prototype.onClickPetBtn=function(){},t.prototype.onTouchPetItem=function(){},t.prototype.onTouchMaxQualityPetItem=function(){s.default.getInstance().showMessage(c.default.getInstance().getStrByTextId(100049))},t.prototype.loadPrefab=function(e,t){cc.resources.load("pet/ui/pet_"+e,cc.Prefab,function(e,a){if(e)cc.log(e);else{var n=cc.instantiate(a);n.parent=t;var o=n.getChildByName("Sprite_Up_Shadow");o.parent=t,o.scale=n.scale,n.zIndex=1,n.setPosition(cc.v2(0,0)),n.getComponent(sp.Skeleton).setAnimation(0,"Side_Idle",!0)}})},t.prototype.getPetAdvanceData=function(){},t.prototype.checkCanAdvance=function(){return!1},t.prototype.petInfoSort=function(e,t){return this.checkCanAdvance(t)?this.checkCanAdvance(e)?t.pet_level-e.pet_level:1:t.pet_level-e.pet_level},t.prototype.selectPetList=function(e,t){for(var a=[],n=0;n<e.length;n++)this.checkCanAdvance(e[n])==t&&a.push(e[n]);return a},t.prototype.onClickAdvanceBtn=function(){},t.prototype.clickBtnClose=function(){s.default.getInstance().sound_manager.playSound(l.SoundIndex.click),this.destroySelf()},t.prototype.destroySelf=function(){e.prototype.onClose.call(this),r.default.getInstance().closeBanner()},i([d(cc.SpriteAtlas)],t.prototype,"pet_advance_ui",void 0),i([d(cc.Prefab)],t.prototype,"item",void 0),i([p],t)}(g.default);a.default=h,cc._RF.pop()},{"../../Ads/ApkManager":"ApkManager","../../GameManager":"GameManager","../../Sound/AudioConstants":"AudioConstants","../../UI/UIComponent":"UIComponent","../../multiLanguage/LanguageManager":"LanguageManager"}],PetConfig:[function(e,t,a){"use strict";cc._RF.push(t,"ad3bemeyKNOtrHwRjWbZ4dm","PetConfig"),Object.defineProperty(a,"__esModule",{value:!0}),a.PetMessage=a.LeaseType=a.PetType=a.PetSkillType=a.PetInfo=void 0;var n,o=e("../Hero/Data/HeroManager"),i=e("../Hero/Game/HeroConfig"),r=e("../Tools/EventManager"),s=function(){function e(){this.pet_id=20,this.pet_level=10,this.pet_awaken_stage=1,this.sequence_id=1,this.pet_quality=6,this.hero_type=i.Hero_Type.NULL,this.lease_type=n.Null}return e.prototype.changeBindHero=function(e,t){if(e)if(this.isEqual(e))t==i.Hero_Type.NULL&&(e=null),this.hero_type=t,o.HeroManager.getInstance().changeBindPet(this.hero_type,e);else{var a=this.hero_type;e.hero_type=a,this.hero_type=t,t==i.Hero_Type.NULL&&(e=null),o.HeroManager.getInstance().changeBindPet(a,e),o.HeroManager.getInstance().changeBindPet(this.hero_type,this)}else a=this.hero_type,this.hero_type=t,o.HeroManager.getInstance().changeBindPet(t,this),o.HeroManager.getInstance().changeBindPet(a,e);r.EventManager.postAssetsEvent(r.AssetsEventType.TEAM_PET)},e.prototype.resetLevel=function(){this.pet_level=1},e.prototype.isEqual=function(e){return!!e&&e.sequence_id==this.sequence_id},e}();a.PetInfo=s,function(e){e[e.Active=1]="Active"}(a.PetSkillType||(a.PetSkillType={})),function(e){e[e.All=0]="All",e[e.Power=1]="Power",e[e.Agile=2]="Agile",e[e.Intelligence=3]="Intelligence"}(a.PetType||(a.PetType={})),function(e){e[e.Null=0]="Null",e[e.Maze=1]="Maze"}(n=a.LeaseType||(a.LeaseType={}));a.PetMessage=function(){this.pet_id=0,this.pet_num=0},cc._RF.pop()},{"../Hero/Data/HeroManager":"HeroManager","../Hero/Game/HeroConfig":"HeroConfig","../Tools/EventManager":"EventManager"}],PetDataItem:[function(e,t,a){"use strict";cc._RF.push(t,"e53f6J0TVJFq68ZhLgh/8Ki","PetDataItem");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../GameManager"),s=e("../../Hero/Data/HeroManager"),c=e("../../Hero/Game/HeroConfig"),l=e("../../multiLanguage/LanguageManager"),g=e("../../Prop/Data/Item"),u=e("../../Prop/PropConfig"),p=e("../../Prop/PropManager"),d=e("../../Sound/AudioConstants"),h=e("../../UI/UIManager"),f=e("../PetManager"),_=e("./PetItem"),m=cc._decorator,y=m.ccclass,I=m.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ui_pet_info=null,t.self_pet_info=null,t.ui_hero_type=c.Hero_Type.NULL,t.self_hero_type=c.Hero_Type.NULL,t.click_callback=null,t.Common_Btn=[],t}return o(t,e),t.prototype.initData=function(e,t,a,n,o){void 0===o&&(o=c.Hero_Type.NULL),this.self_pet_info=e,this.ui_pet_info=t,this.ui_hero_type=a,this.self_hero_type=o,this.click_callback=n,this.refreshUi()},t.prototype.refreshUi=function(){var e,t=l.default.getInstance(),a=p.PropManager.getInstance(),n=this.node.getChildByName("equipRoot");0==n.childrenCount?((e=f.PetManager.getInstance().getPetNodeByInfo(this.self_pet_info,u.PropAction.Null,this.self_hero_type)).scale=.8,e.name="item_equip",n.addChild(e)):(e=n.getChildByName("item_equip")).getComponent(_.default).init(this.self_hero_type,this.self_pet_info,u.PropAction.Null);var o=g.ItemManager.getInstance().getJsonItem(this.self_pet_info.pet_id),i=this.node.getChildByName("propName");i.getComponent(cc.Label).string="["+a.getPropQualityName(o.Quality)+"]"+t.getStrByTextId(o.NameTextId),i.color=a.getPropQualityTextColor(o.Quality);var r=[new cc.Color(39,35,28),new cc.Color(29,63,27),new cc.Color(25,55,88),new cc.Color(66,37,96),new cc.Color(62,32,0),new cc.Color(79,16,15)];i.getComponent(cc.LabelOutline).color=r[o.Quality],this.node.getChildByName("zhanliNum").getComponent(cc.Label).string=f.PetManager.getInstance().getPetZhanLi(this.self_pet_info.pet_id)+"";var s=this.self_hero_type,d=s!=c.Hero_Type.NULL;s!=c.Hero_Type.NULL&&(this.node.getChildByName("heroIcon").getComponent(cc.Sprite).spriteFrame=p.PropManager.getInstance().getHeroIconb(s)),this.node.getChildByName("exBg").active=d,this.node.getChildByName("heroIcon").active=d,this.node.getChildByName("Equipped_Icon").active=d,this.node.getChildByName("btnExchange").active=d,this.node.getChildByName("btnEquip").active=!d},t.prototype.onClickBtnExchange=function(){r.default.getInstance().sound_manager.playSound(d.SoundIndex.click);var e=s.HeroManager.getInstance().getHeroZhanli(this.ui_hero_type),t=s.HeroManager.getInstance().getDeepHeroData(this.ui_hero_type);s.HeroManager.getInstance().addWearPet(this.ui_hero_type,this.self_pet_info.pet_id),s.HeroManager.getInstance().addWearPet(this.self_hero_type,this.ui_pet_info.pet_id);var a=s.HeroManager.getInstance().getHeroZhanli(this.ui_hero_type),n=s.HeroManager.getInstance().getDeepHeroData(this.ui_hero_type);e!=a&&h.UIManager.getInstance().showCombatChangeEffect(e,a,t,n),this.click_callback&&this.click_callback(this.self_pet_info.pet_id)},t.prototype.onClickBtnEquip=function(){r.default.getInstance().sound_manager.playSound(d.SoundIndex.click);var e=s.HeroManager.getInstance().getHeroZhanli(this.ui_hero_type),t=s.HeroManager.getInstance().getDeepHeroData(this.ui_hero_type);s.HeroManager.getInstance().addWearPet(this.ui_hero_type,this.self_pet_info.pet_id),this.click_callback&&this.click_callback(this.self_pet_info.pet_id);var a=s.HeroManager.getInstance().getHeroZhanli(this.ui_hero_type),n=s.HeroManager.getInstance().getDeepHeroData(this.ui_hero_type);e!=a&&h.UIManager.getInstance().showCombatChangeEffect(e,a,t,n)},i([I(cc.SpriteFrame)],t.prototype,"Common_Btn",void 0),i([y],t)}(cc.Component);a.default=v,cc._RF.pop()},{"../../GameManager":"GameManager","../../Hero/Data/HeroManager":"HeroManager","../../Hero/Game/HeroConfig":"HeroConfig","../../Prop/Data/Item":"Item","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../UI/UIManager":"UIManager","../../multiLanguage/LanguageManager":"LanguageManager","../PetManager":"PetManager","./PetItem":"PetItem"}],PetData:[function(e,t,a){"use strict";cc._RF.push(t,"7d230+F9ghLyrRcRz4rECWe","PetData");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)});Object.defineProperty(a,"__esModule",{value:!0}),a.PetData=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getSkillColdDown=function(e){return this.ColdDown.get(e)},t.prototype.getSkillValue1=function(e){return this.SkillValue_x.get(e)},t.prototype.getSkillValue2=function(e){return this.SkillValue_y.get(e)},t.prototype.getSkillValue3=function(e){return this.SkillValue_z.get(e)},t}(e("../../Hero/Game/HeroConfig").AttributeData);a.PetData=i,cc._RF.pop()},{"../../Hero/Game/HeroConfig":"HeroConfig"}],PetExchangeUi:[function(e,t,a){"use strict";cc._RF.push(t,"68741516hdMBpVOYwzNir5S","PetExchangeUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../GameManager"),s=e("../../Hero/Data/HeroManager"),c=e("../../Hero/Game/HeroConfig"),l=e("../../multiLanguage/LanguageManager"),g=e("../../multiLanguage/TextLanguage"),u=e("../../Prop/Data/Item"),p=e("../../Prop/PropConfig"),d=e("../../Prop/PropManager"),h=e("../../Sound/AudioConstants"),f=e("../../UI/UIComponent"),_=e("../Data/SpiritAttribute"),m=e("../PetConfig"),y=e("../PetManager"),I=e("./PetDataItem"),v=cc._decorator,M=v.ccclass,C=v.property,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pet_data=null,t.pet_id=null,t.current_hero_type=c.Hero_Type.NULL,t}return o(t,e),t.prototype.initData=function(e,t){this.pet_id=e,this.current_hero_type=t,this.refreshUi()},t.prototype.refreshUi=function(){var t=this,a=this.node.getChildByName("scrollView").getComponent(cc.ScrollView).content,n=this.node.getChildByName("curRoot"),o=this.node.getChildByName("noWear");if(this.pet_id){n.active=!0,o.active=!1,this.node.getChildByName("bg").color.a=200,this.node.getChildByName("titleLabel").getComponent(g.default).setTextId(640024);var i=y.PetManager.getInstance().getPetNodeById(this.pet_id,p.PropAction.Null,this.current_hero_type);n.getChildByName("propRoot").children.length>0&&n.getChildByName("propRoot").children[0].destroy(),n.getChildByName("propRoot").addChild(i);var r=u.ItemManager.getInstance().getJsonItem(this.pet_id),h=n.getChildByName("propName");h.getComponent(cc.Label).string="["+d.PropManager.getInstance().getPropQualityName(r.Quality)+"]"+l.default.getInstance().getStrByTextId(r.NameTextId),h.color=d.PropManager.getInstance().getPropQualityTextColor(r.Quality);var f=[new cc.Color(39,35,28),new cc.Color(29,63,27),new cc.Color(25,55,88),new cc.Color(66,37,96),new cc.Color(62,32,0),new cc.Color(79,16,15)];h.getComponent(cc.LabelOutline).color=f[r.Quality],n.getChildByName("zhanliNum").getComponent(cc.Label).string=y.PetManager.getInstance().getPetZhanLi(this.pet_id)+""}else n.active=!1,o.active=!0,this.node.getChildByName("bg").color.a=128,this.node.getChildByName("titleLabel").getComponent(g.default).setTextId(640023);a.removeAllChildren();var _=d.PropManager.getInstance().getPetList(),v=new m.PetMessage;v.pet_id=this.pet_id,v.pet_num=1;for(var M=new Array,C=new Array,S=0;S<_.length;S++){var P=_[S],k=s.HeroManager.getInstance().getWearPetHeroList(P),b=P.pet_num-k.length;b>0&&((B=new m.PetMessage).pet_id=P.pet_id,B.pet_num=b,M.push({equipInfo:B,heroType:c.Hero_Type.NULL}));for(var T=0;T<k.length;T++){var B,w=k[T];w!=this.current_hero_type&&((B=new m.PetMessage).pet_id=P.pet_id,B.pet_num=1,C.push({equipInfo:B,heroType:w}))}}M.sort(this.sort1),C.sort(this.sort1);var N=new Array;N=N.concat(M,C);var L=function(n){var o=N[n];D.scheduleOnce(function(){var n=cc.instantiate(t.pet_data);a.addChild(n),n.getComponent(I.default).initData(o.equipInfo,v,t.current_hero_type,function(a){e.prototype.onRefresh.call(t,a),t.clickBtnClose()},o.heroType)},.02*n)},D=this;for(S=0;S<N.length;S++)L(S)},t.prototype.clickBtnClose=function(){this.node.getChildByName("scrollView").getComponent(cc.ScrollView).content.removeAllChildren(),r.default.getInstance().sound_manager.playSound(h.SoundIndex.click),e.prototype.onClose.call(this)},t.prototype.sort1=function(e,t){var a=_.SpiritAttributeManager.getInstance().getJsonSpiritAttribute(e.equipInfo.pet_id),n=_.SpiritAttributeManager.getInstance().getJsonSpiritAttribute(t.equipInfo.pet_id);return a.Stage!=n.Stage?n.Stage-a.Stage:y.PetManager.getInstance().getPetZhanLi(t.equipInfo.pet_id)-y.PetManager.getInstance().getPetZhanLi(e.equipInfo.pet_id)},t.prototype.sort2=function(e,t){return y.PetManager.getInstance().getPetZhanLi(e)-y.PetManager.getInstance().getPetZhanLi(t)},i([C(cc.Prefab)],t.prototype,"pet_data",void 0),i([M],t)}(f.default);a.default=S,cc._RF.pop()},{"../../GameManager":"GameManager","../../Hero/Data/HeroManager":"HeroManager","../../Hero/Game/HeroConfig":"HeroConfig","../../Prop/Data/Item":"Item","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../UI/UIComponent":"UIComponent","../../multiLanguage/LanguageManager":"LanguageManager","../../multiLanguage/TextLanguage":"TextLanguage","../Data/SpiritAttribute":"SpiritAttribute","../PetConfig":"PetConfig","../PetManager":"PetManager","./PetDataItem":"PetDataItem"}],PetInfoUi:[function(e,t,a){"use strict";cc._RF.push(t,"c3c66tTNtxK74zTxmEaIdVC","PetInfoUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../CoinPop"),s=e("../../Constants"),c=e("../../GameManager"),l=e("../../Hero/Data/HeroManager"),g=e("../../Hero/Game/HeroConfig"),u=e("../../multiLanguage/LanguageManager"),p=e("../../multiLanguage/TextLanguage"),d=e("../../Prop/Data/Item"),h=e("../../Prop/PropConfig"),f=e("../../Prop/PropManager"),_=e("../../Sound/AudioConstants"),m=e("../../Task/TaskEnum"),y=e("../../Task/TaskManager"),I=e("../../Tools/MyTool"),v=e("../../UI/GetAssetsUi"),M=e("../../UI/UIComponent"),C=e("../../UI/UIConfig"),S=e("../../UI/UIManager"),P=e("../Data/SpiritAttribute"),k=e("../Data/SpiritCultivate"),b=e("../Data/SpiritMessage"),T=e("../Data/SpiritSkill"),B=e("../PetManager"),w=e("./PetExchangeUi"),N=e("./PetItem"),L=cc._decorator,D=L.ccclass,E=(L.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hero_type=g.Hero_Type.NULL,t.replace=["~a","~b","~c","~d"],t.replaces=["~z","~y","~x","~w"],t}return o(t,e),t.prototype.initData=function(e){this.hero_type=e,this.refreshUi()},t.prototype.refreshUi=function(){var e=P.SpiritAttributeManager.getInstance().getJsonSpiritAttribute(l.HeroManager.getInstance().getWearPet(this.hero_type)),t=d.ItemManager.getInstance().getJsonItem(e.SpiritItem),a=this.node.getChildByName("back"),n=a.getChildByName("curRoot"),o=a.getChildByName("content");n.getChildByName("propRoot").children[0].getComponent(N.default).init(this.hero_type,t.ItemID,h.PropAction.Null);var i=n.getChildByName("propName");i.getComponent(cc.Label).string="["+f.PropManager.getInstance().getPropQualityName(t.Quality)+"]"+u.default.getInstance().getStrByTextId(t.NameTextId),i.color=f.PropManager.getInstance().getPropQualityTextColor(t.Quality),n.getChildByName("zhanliNum").getComponent(cc.Label).string=I.default.getCoinDanwei(B.PetManager.getInstance().getPetZhanLi(t.ItemID));var r=o.getChildByName("AKTAndDefence");r.children[2].getComponent(p.default).startTranslation(),r.children[2].getComponent(cc.Label).string+=":"+I.default.numberFormat(e.Attack,2),r.children[3].getComponent(p.default).startTranslation(),r.children[3].getComponent(cc.Label).string+=":"+I.default.numberFormat(e.Defense,2);var s=o.getChildByName("HP");s.children[1].getComponent(p.default).startTranslation(),s.children[1].getComponent(cc.Label).string+=":"+I.default.numberFormat(e.Health,2);var c=o.getChildByName("HitAndMiss");c.children[2].getComponent(p.default).startTranslation(),c.children[2].getComponent(cc.Label).string+=":"+I.default.numberFormat(e.Hit,2),c.children[3].getComponent(p.default).startTranslation(),c.children[3].getComponent(cc.Label).string+=":"+I.default.numberFormat(e.Miss,2);var g=o.getChildByName("CriticalAndAntiCritical");g.children[2].getComponent(p.default).startTranslation(),g.children[2].getComponent(cc.Label).string+=":"+I.default.numberFormat(e.Critical,2),g.children[3].getComponent(p.default).startTranslation(),g.children[3].getComponent(cc.Label).string+=":"+I.default.numberFormat(e.AntiCritical,2);var _=o.getChildByName("ExtraCriticalAndAntiExtraCritical");_.children[2].getComponent(p.default).startTranslation(),_.children[2].getComponent(cc.Label).string+=":"+I.default.numberFormat(100*e.ExtraCritical,2)+"%",_.children[3].getComponent(p.default).startTranslation(),_.children[3].getComponent(cc.Label).string+=":"+I.default.numberFormat(100*e.AntiExtraCritical,2)+"%";var m=o.getChildByName("skillIcon");m.children[0].getComponent(cc.Sprite).spriteFrame=l.HeroManager.getInstance().getSpriteFrameByNames("Pet_"+e.SpiritType+"_Skill_0");var y=b.SpiritMessageManager.getInstance().getJsonSpiritMessage(e.SpiritType);m.children[1].children[0].getComponent(p.default).setTextId(y.SpiritSkillName),m.children[1].children[1].getComponent(cc.Label).string="(Lv."+(e.Quality-2)+")";var v=u.default.getInstance().getStrByTextId(y.ActiveSkillsIntro),M=T.SpiritSkillManager.getInstance().getJsonByTypeAndLevel(e.SpiritType,e.Quality-2);v=(v=(v=(v=(v=(v=(v=(v=v.replace(this.replace[0],I.default.numberFormat(M.SkillParameter_1,2)+"")).replace(this.replace[1],I.default.numberFormat(M.SkillParameter_2,2)+"")).replace(this.replace[2],I.default.numberFormat(M.SkillParameter_3,2)+"")).replace(this.replace[3],I.default.numberFormat(M.CoolDown,2)+"")).replace(this.replaces[0],I.default.numberFormat(100*M.SkillParameter_1)+"")).replace(this.replaces[1],I.default.numberFormat(100*M.SkillParameter_2,2)+"")).replace(this.replaces[2],I.default.numberFormat(100*M.SkillParameter_3,2)+"")).replace(this.replaces[3],I.default.numberFormat(100*M.CoolDown,2)+""),o.getChildByName("skillDescription").getComponent(cc.RichText).string=v;var C=a.getChildByName("cost"),S=a.getChildByName("btns");if(S.getChildByName("btnMerge").getChildByName("red").active=B.PetManager.getInstance().checkRedTip(this.hero_type),e.Stage>=y.StageLimit)C.active=!1,S.children[0].active=!1;else{C.active=!0,S.children[0].active=!0;var w=k.SpiritCultivateManager.getInstance().getJsonSpiritCultivate(e.Stage);if(0==w.CoinSpirit)C.children[0].getChildByName("coinIcon").getComponent(cc.Sprite).spriteFrame=f.PropManager.getInstance().getSpByName("Item_20003"),C.children[0].getChildByName("haveNum").getComponent(cc.Label).string=I.default.getCoinDanwei(f.PropManager.getInstance().getPropNum(h.PropId.AnimalFood)),f.PropManager.getInstance().getPropNum(h.PropId.AnimalFood)<w.FoodCost?C.children[0].getChildByName("haveNum").color=cc.color(254,76,76):C.children[0].getChildByName("haveNum").color=cc.color(222,199,166),C.children[0].getChildByName("needNum").getComponent(cc.Label).string="/"+I.default.getCoinDanwei(w.FoodCost),C.children[1].getChildByName("coinIcon").getComponent(cc.Sprite).spriteFrame=f.PropManager.getInstance().getSpByName("Item_10001"),C.children[1].getChildByName("haveNum").getComponent(cc.Label).string=I.default.getCoinDanwei(f.PropManager.getInstance().getPropNum(h.PropId.Coin)),f.PropManager.getInstance().getPropNum(h.PropId.Coin)<w.CoinCost?C.children[1].getChildByName("haveNum").color=cc.color(254,76,76):C.children[1].getChildByName("haveNum").color=cc.color(222,199,166),C.children[1].getChildByName("needNum").getComponent(cc.Label).string="/"+I.default.getCoinDanwei(w.CoinCost);else{var L=P.SpiritAttributeManager.getInstance().getTypeFirstJsonData(e.SpiritType);C.children[0].getChildByName("coinIcon").getComponent(cc.Sprite).spriteFrame=f.PropManager.getInstance().getSpByName("Icon_Pet_"+e.SpiritType),C.children[0].getChildByName("haveNum").getComponent(cc.Label).string=I.default.getCoinDanwei(f.PropManager.getInstance().getPropNum(L.SpiritItem)),f.PropManager.getInstance().getPropNum(L.SpiritItem)<w.CoinSpirit?C.children[0].getChildByName("haveNum").color=cc.color(254,76,76):C.children[0].getChildByName("haveNum").color=cc.color(222,199,166),C.children[0].getChildByName("needNum").getComponent(cc.Label).string="/"+I.default.getCoinDanwei(w.CoinSpirit),C.children[1].getChildByName("coinIcon").getComponent(cc.Sprite).spriteFrame=f.PropManager.getInstance().getSpByName("Item_10002"),C.children[1].getChildByName("haveNum").getComponent(cc.Label).string=I.default.getCoinDanwei(f.PropManager.getInstance().getPropNum(h.PropId.Gem)),f.PropManager.getInstance().getPropNum(h.PropId.Gem)<w.DiamondCost?C.children[1].getChildByName("haveNum").color=cc.color(254,76,76):C.children[1].getChildByName("haveNum").color=cc.color(222,199,166),C.children[1].getChildByName("needNum").getComponent(cc.Label).string="/"+I.default.getCoinDanwei(w.DiamondCost)}}},t.prototype.onClickUnloadBtn=function(){c.default.getInstance().sound_manager.playSound(_.SoundIndex.click);var t=l.HeroManager.getInstance().getHeroZhanli(this.hero_type),a=l.HeroManager.getInstance().getDeepHeroData(this.hero_type);l.HeroManager.getInstance().unloadWearPet(this.hero_type);var n=l.HeroManager.getInstance().getHeroZhanli(this.hero_type),o=l.HeroManager.getInstance().getDeepHeroData(this.hero_type);t!=n&&S.UIManager.getInstance().showCombatChangeEffect(t,n,a,o),e.prototype.onClose.call(this)},t.prototype.onClickReplaceBtn=function(){var e=this;c.default.getInstance().sound_manager.playSound(_.SoundIndex.click),S.UIManager.getInstance().showUiDialog(C.UIPath.PetList,C.UILayerLevel.Three,{onCompleted:function(t){t.getComponent(w.default).init({onClose:function(){e.refreshUi()}}),t.getComponent(w.default).initData(l.HeroManager.getInstance().getWearPet(e.hero_type),e.hero_type)}})},t.prototype.onClickSyntheticBtn=function(){var e=this;c.default.getInstance().sound_manager.playSound(_.SoundIndex.click);var t=P.SpiritAttributeManager.getInstance().getJsonSpiritAttribute(l.HeroManager.getInstance().getWearPet(this.hero_type)),a=k.SpiritCultivateManager.getInstance().getJsonSpiritCultivate(t.Stage),n=b.SpiritMessageManager.getInstance().getJsonSpiritMessage(t.SpiritType);if(0==a.CoinSpirit){if(f.PropManager.getInstance().getPropNum(h.PropId.Coin)<a.CoinCost)return void S.UIManager.getInstance().showUiDialog(C.UIPath.CoinPop,C.UILayerLevel.Three,{onCompleted:function(t){t.getComponent(r.default).init({onClose:function(){e.refreshUi()}}),t.getComponent(r.default).initUi(h.PropId.Coin)}});if(f.PropManager.getInstance().getPropNum(h.PropId.AnimalFood)<a.FoodCost)return void S.UIManager.getInstance().showUiDialog(C.UIPath.GetAssetsTip,C.UILayerLevel.Three,{onCompleted:function(e){e.getComponent(v.default).initData(v.GetAssetsType.PetAndEquip)}});var o=l.HeroManager.getInstance().getHeroZhanli(this.hero_type),i=l.HeroManager.getInstance().getDeepHeroData(this.hero_type);y.default.getInstance().emitTask(m.TaskItem.\u5347\u7ea71\u6b21\u5ba0\u7269),y.default.getInstance().emitTask(m.TaskItem.\u5347\u7ea7X\u6b21\u7075\u5ba0),f.PropManager.getInstance().changePropNum(h.PropId.AnimalFood,-a.FoodCost),f.PropManager.getInstance().changePropNum(h.PropId.Coin,-a.CoinCost),f.PropManager.getInstance().changePropNum(t.SpiritItem,-1),f.PropManager.getInstance().changePropNum(t.SpiritItem+1,1),l.HeroManager.getInstance().unloadWearPet(this.hero_type),l.HeroManager.getInstance().addWearPet(this.hero_type,t.SpiritItem+1);var g=P.SpiritAttributeManager.getInstance().getJsonSpiritAttribute(t.SpiritItem+1),u=l.HeroManager.getInstance().getHeroZhanli(this.hero_type),p=l.HeroManager.getInstance().getDeepHeroData(this.hero_type);o!=u&&S.UIManager.getInstance().showCombatChangeEffect(o,u,i,p),g.Stage>=n.StageLimit&&y.default.getInstance().emitTask(m.TaskItem.\u7d2f\u8ba1\u5c06X\u53ea\u5ba0\u7269\u5347\u81f3\u6700\u9ad8\u54c1\u8d28),t.Quality!=g.Quality&&this.showUpTip(t,g),this.refreshUi()}else{var d=P.SpiritAttributeManager.getInstance().getTypeFirstJsonData(t.SpiritType);if(f.PropManager.getInstance().getPropNum(h.PropId.Gem)<a.DiamondCost)return void S.UIManager.getInstance().showUiDialog(C.UIPath.CoinPop,C.UILayerLevel.Three,{onCompleted:function(t){t.getComponent(r.default).init({onClose:function(){e.refreshUi()}}),t.getComponent(r.default).initUi(h.PropId.Gem)}});if(f.PropManager.getInstance().getPropNum(d.SpiritItem)<a.CoinSpirit)return cc.find("Canvas/store_ui/scroll").getComponent(cc.ScrollView).scrollToPercentVertical(.2,2),c.default.getInstance().game_to_home=s.Go_Type.City,c.default.getInstance().jumoAndShowUi(),void S.UIManager.getInstance().closeAllUiDialog(C.UILayerLevel.One);o=l.HeroManager.getInstance().getHeroZhanli(this.hero_type),i=l.HeroManager.getInstance().getDeepHeroData(this.hero_type),y.default.getInstance().emitTask(m.TaskItem.\u5347\u7ea71\u6b21\u5ba0\u7269),y.default.getInstance().emitTask(m.TaskItem.\u5347\u7ea7X\u6b21\u7075\u5ba0),f.PropManager.getInstance().changePropNum(d.SpiritItem,-a.CoinSpirit),f.PropManager.getInstance().changePropNum(h.PropId.Gem,-a.DiamondCost),f.PropManager.getInstance().changePropNum(t.SpiritItem,-1),f.PropManager.getInstance().changePropNum(t.SpiritItem+1,1),l.HeroManager.getInstance().unloadWearPet(this.hero_type),l.HeroManager.getInstance().addWearPet(this.hero_type,t.SpiritItem+1),g=P.SpiritAttributeManager.getInstance().getJsonSpiritAttribute(t.SpiritItem+1),u=l.HeroManager.getInstance().getHeroZhanli(this.hero_type),p=l.HeroManager.getInstance().getDeepHeroData(this.hero_type),o!=u&&S.UIManager.getInstance().showCombatChangeEffect(o,u,i,p),g.Stage>=n.StageLimit&&y.default.getInstance().emitTask(m.TaskItem.\u7d2f\u8ba1\u5c06X\u53ea\u5ba0\u7269\u5347\u81f3\u6700\u9ad8\u54c1\u8d28),t.Quality!=g.Quality&&this.showUpTip(t,g),this.refreshUi()}},t.prototype.showUpTip=function(e,t){var a=this.node.getChildByName("upStarTip");a.active=!0,a.getChildByName("oldNickname").getComponent(cc.Label).string="["+f.PropManager.getInstance().getPropQualityName(e.Quality)+"]",a.getChildByName("oldNickname").color=f.PropManager.getInstance().getPropQualityTextColor(e.Quality),a.getChildByName("oldSkillIcon").getComponent(cc.Sprite).spriteFrame=l.HeroManager.getInstance().getSpriteFrameByNames("Pet_"+e.SpiritType+"_Skill_0"),a.getChildByName("oldSkillLevel").getComponent(cc.Label).string="Lv."+(e.Quality-2),a.getChildByName("oldHpNum").getComponent(cc.Label).string=I.default.getCoinDanwei(e.Health),a.getChildByName("oldAtkNum").getComponent(cc.Label).string=I.default.getCoinDanwei(e.Attack),a.getChildByName("oldDefanceNum").getComponent(cc.Label).string=I.default.getCoinDanwei(e.Defense),a.getChildByName("nickname").getComponent(cc.Label).string="["+f.PropManager.getInstance().getPropQualityName(t.Quality)+"]",a.getChildByName("nickname").color=f.PropManager.getInstance().getPropQualityTextColor(t.Quality),a.getChildByName("skillIcon").getComponent(cc.Sprite).spriteFrame=l.HeroManager.getInstance().getSpriteFrameByNames("Pet_"+t.SpiritType+"_Skill_0"),a.getChildByName("skillLevel").getComponent(cc.Label).string="Lv."+(t.Quality-2),a.getChildByName("hpNum").getComponent(cc.Label).string=I.default.getCoinDanwei(t.Health),a.getChildByName("atkNum").getComponent(cc.Label).string=I.default.getCoinDanwei(t.Attack),a.getChildByName("defanceNum").getComponent(cc.Label).string=I.default.getCoinDanwei(t.Defense)},t.prototype.hideUpTip=function(){c.default.getInstance().sound_manager.playSound(_.SoundIndex.click),this.node.getChildByName("upStarTip").active=!1},i([D],t)}(M.default));a.default=E,cc._RF.pop()},{"../../CoinPop":"CoinPop","../../Constants":"Constants","../../GameManager":"GameManager","../../Hero/Data/HeroManager":"HeroManager","../../Hero/Game/HeroConfig":"HeroConfig","../../Prop/Data/Item":"Item","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../Task/TaskEnum":"TaskEnum","../../Task/TaskManager":"TaskManager","../../Tools/MyTool":"MyTool","../../UI/GetAssetsUi":"GetAssetsUi","../../UI/UIComponent":"UIComponent","../../UI/UIConfig":"UIConfig","../../UI/UIManager":"UIManager","../../multiLanguage/LanguageManager":"LanguageManager","../../multiLanguage/TextLanguage":"TextLanguage","../Data/SpiritAttribute":"SpiritAttribute","../Data/SpiritCultivate":"SpiritCultivate","../Data/SpiritMessage":"SpiritMessage","../Data/SpiritSkill":"SpiritSkill","../PetManager":"PetManager","./PetExchangeUi":"PetExchangeUi","./PetItem":"PetItem"}],PetItem:[function(e,t,a){"use strict";cc._RF.push(t,"59b3b4ihglGt6gVGM9Tqu+x","PetItem");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../GameManager"),s=e("../../Hero/Game/HeroConfig"),c=e("../../Prop/Data/Item"),l=e("../../Prop/PropConfig"),g=e("../../Prop/PropManager"),u=e("../../Sound/AudioConstants"),p=e("../../UI/UIManager"),d=e("../PetConfig"),h=cc._decorator,f=h.ccclass,_=(h.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hero_type=s.Hero_Type.NULL,t.pet_info=null,t.prop_action=l.PropAction.Look,t.prop_price=0,t.prop_cost=l.PropId.Coin,t.buy_callback=null,t.use_callback=null,t}return o(t,e),t.prototype.addBuyListen=function(e){this.buy_callback=e},t.prototype.addUseListen=function(e){this.use_callback=e},t.prototype.init=function(e,t,a){if(void 0===a&&(a=l.PropAction.Look),"number"==typeof t){var n=new d.PetMessage;n.pet_id=t,n.pet_num=1,this.pet_info=n}else this.pet_info=t;this.hero_type=e,this.prop_action=a,this.refreshData()},t.prototype.refreshData=function(){var e=g.PropManager.getInstance();this.node.getChildByName("bg").getComponent(cc.Sprite).spriteFrame=e.getSpFrameByPropType(this.pet_info.pet_id),this.node.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=e.getSpByPropId(this.pet_info.pet_id),this.node.getComponent(cc.Button).enabled=this.prop_action!=l.PropAction.Null;var t=this.node.getChildByName("star").getChildByName("star").getComponent(cc.Sprite),a=c.ItemManager.getInstance().getStar(this.pet_info.pet_id);a>0?(t.node.active=!0,t.spriteFrame=g.PropManager.getInstance().getSpByName("Common_Star_"+a)):t.node.active=!1;var n=this.node.getChildByName("num");this.pet_info.pet_num<=1?n.active=!1:n.active=!0,n.getComponent(cc.Label).string=""+this.pet_info.pet_num},t.prototype.onClick=function(){r.default.getInstance().sound_manager.playSound(u.SoundIndex.click),p.UIManager.getInstance().showEquipInfoUi(this.hero_type,this.pet_info.pet_id,this.prop_action,{prop_id:this.pet_info.pet_id,prop_num:this.pet_info.pet_num,prop_price:this.prop_price,prop_cost_id:this.prop_cost},this.buy_callback,this.use_callback)},i([f],t)}(cc.Component));a.default=_,cc._RF.pop()},{"../../GameManager":"GameManager","../../Hero/Game/HeroConfig":"HeroConfig","../../Prop/Data/Item":"Item","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../UI/UIManager":"UIManager","../PetConfig":"PetConfig"}],PetListUi:[function(e,t,a){"use strict";cc._RF.push(t,"bfae5OapY9NQp7KKNnXc1cB","PetListUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r,s=e("../../multiLanguage/FollowConstants"),c=e("../../multiLanguage/FollowManager"),l=e("../../multiLanguage/LanguageManager"),g=e("../../TakeEgg/TakeEggUi"),u=e("../../UI/UIConfig"),p=e("../../UI/UIManager"),d=e("../PetConfig"),h=cc._decorator,f=h.ccclass,_=h.property;(function(e){e[e.List=0]="List",e[e.SetFree=1]="SetFree"})(r||(r={}));var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.item=null,t.pet_list_ui=null,t.state=d.PetType.All,t.all_list=null,t.power_list=null,t.agile_list=null,t.intelligence_list=null,t.pet_list_state=r.List,t.choose_list=null,t.content=null,t}return o(t,e),t.prototype.onLoad=function(){this.node.on(cc.Node.EventType.POSITION_CHANGED,this.onPositionChange,this)},t.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.POSITION_CHANGED,this.onPositionChange,this)},t.prototype.onPositionChange=function(){0==this.node.x&&this.onEnable()},t.prototype.onEnable=function(){this.content=this.node.getChildByName("scroll0").getComponent(cc.ScrollView).content,this.choose_list=new Map,this.refreshUi(),this.refreshScroll(),c.default.getInstance().followEvent(s.Follow_Type.\u5ba0\u7269\u754c\u9762\u70b9\u51fb\u6b21\u6570)},t.prototype.refreshUi=function(){var e=this.node.getChildByName("bottom");this.node.getChildByName("top").getChildByName("titleLabel").getComponent(cc.Label).string=l.default.getInstance().getStrByTextId(640002),e.getChildByName("Sprite_Btn_Tab_0").getComponentInChildren(cc.Label).string=l.default.getInstance().getStrByTextId(640008),e.getChildByName("Sprite_Btn_Tab_1").getComponentInChildren(cc.Label).string=l.default.getInstance().getStrByTextId(640002),e.getChildByName("Sprite_Btn_Tab_2").getComponentInChildren(cc.Label).string=l.default.getInstance().getStrByTextId(640017),e.getChildByName("Release_Bg_1").getChildByName("num").getComponent(cc.Label).string=this.choose_list.size+"/100"},t.prototype.refreshScroll=function(){var e,t=this;this.all_list=new Array,this.power_list=new Array,this.agile_list=new Array,this.intelligence_list=new Array,this.content.removeAllChildren();for(var a=0;a<this.all_list.length;a++);switch(this.state){case d.PetType.All:e=this.all_list;break;case d.PetType.Power:e=this.power_list;break;case d.PetType.Agile:e=this.agile_list;break;case d.PetType.Intelligence:e=this.intelligence_list}var n=function(a){if(o.pet_list_state==r.List)(n=cc.instantiate(o.item)).setParent(o.content),n.on(cc.Node.EventType.TOUCH_END,function(){p.UIManager.getInstance().showPetUpgradeUi({onClose:function(){t.refreshScroll()}},e[a])});else{var n=cc.instantiate(o.item),i=new cc.Node;if(i.addComponent(cc.Sprite).spriteFrame=o.pet_list_ui.getSpriteFrame("Release_Checkmark_Bg"),i.setPosition(cc.v2(-n.width/2,n.height/2)),n.addChild(i),o.choose_list.has(e[a].sequence_id)){var s=new cc.Node;s.addComponent(cc.Sprite).spriteFrame=o.pet_list_ui.getSpriteFrame("Release_Checkmark"),s.setPosition(cc.v2(-n.width/2,n.height/2)),n.addChild(s)}n.setParent(o.content),n.on(cc.Node.EventType.TOUCH_END,o.onClickSetFreePet.bind(o))}},o=this;for(a=0;a<e.length;a++)n(a)},t.prototype.onSelectBtnClick=function(e,t){this.state=Number(t),this.refreshUi();for(var a=0;a<4;a++){var n=this.node.getChildByName("scroll"+a);n.active=!1,a==this.state&&(n.active=!0,this.content=n.getComponent(cc.ScrollView).content)}var o;switch(this.state){case d.PetType.All:o=this.all_list;break;case d.PetType.Power:o=this.power_list;break;case d.PetType.Agile:o=this.agile_list;break;case d.PetType.Intelligence:o=this.intelligence_list}this.content.childrenCount!=o.length&&this.refreshScroll()},t.prototype.onClickSetFreePet=function(){this.refreshScroll()},t.prototype.onClickGetBtn=function(){c.default.getInstance().followEvent(s.Follow_Type.\u4ece\u5ba0\u7269\u754c\u9762\u70b9\u51fb\u83b7\u53d6\u7684\u6b21\u6570),p.UIManager.getInstance().showUiDialog(u.UIPath.TakeEgg,u.UILayerLevel.One,{onCompleted:function(e){e.getComponent(g.default).init(null)}})},t.prototype.onClickSetFreePetBtn=function(){var e=this.node.getChildByName("bottom");this.pet_list_state=r.SetFree,e.getChildByName("Release_Bg_1").active=!0,e.getChildByName("Sprite_Btn_Tab_1").getComponent(cc.Sprite).spriteFrame=this.pet_list_ui.getSpriteFrame("Sprite_Btn_Tab_0"),e.getChildByName("Sprite_Btn_Tab_0").getComponent(cc.Sprite).spriteFrame=this.pet_list_ui.getSpriteFrame("Sprite_Btn_Tab_1"),this.refreshUi(),this.refreshScroll()},t.prototype.onClickPetBtn=function(){var e=this.node.getChildByName("bottom");this.pet_list_state=r.List,e.getChildByName("Release_Bg_1").active=!1,e.getChildByName("Sprite_Btn_Tab_1").getComponent(cc.Sprite).spriteFrame=this.pet_list_ui.getSpriteFrame("Sprite_Btn_Tab_1"),e.getChildByName("Sprite_Btn_Tab_0").getComponent(cc.Sprite).spriteFrame=this.pet_list_ui.getSpriteFrame("Sprite_Btn_Tab_0"),this.refreshUi(),this.refreshScroll()},t.prototype.onClickSetFreeBtn=function(){var e=this;if(0!=this.choose_list.size){var t=[];this.choose_list.forEach(function(e){t.push(e)}),p.UIManager.getInstance().showPetSetFreeUi({onClose:function(){e.refreshUi(),e.refreshScroll()}.bind(this)},t)}},i([_(cc.Prefab)],t.prototype,"item",void 0),i([_(cc.SpriteAtlas)],t.prototype,"pet_list_ui",void 0),i([f],t)}(cc.Component);a.default=m,cc._RF.pop()},{"../../TakeEgg/TakeEggUi":"TakeEggUi","../../UI/UIConfig":"UIConfig","../../UI/UIManager":"UIManager","../../multiLanguage/FollowConstants":"FollowConstants","../../multiLanguage/FollowManager":"FollowManager","../../multiLanguage/LanguageManager":"LanguageManager","../PetConfig":"PetConfig"}],PetManager:[function(e,t,a){"use strict";cc._RF.push(t,"e3814ZCIjpHno6z/wd90uS/","PetManager"),Object.defineProperty(a,"__esModule",{value:!0}),a.PetManager=a.SpiritType=void 0;var n=e("../Hero/Data/CombatEffectiveness"),o=e("../Hero/Data/HeroManager"),i=e("../Hero/Game/HeroConfig"),r=e("../Prop/PropConfig"),s=e("../Prop/PropManager"),c=e("./Data/SpiritAttribute"),l=e("./Data/SpiritCultivate"),g=e("./Data/SpiritMessage"),u=e("./Data/SpiritSkill"),p=e("./PetConfig"),d=e("./Ui/PetItem");(function(e){e[e.strength=1]="strength",e[e.agility=2]="agility",e[e.intelligence=3]="intelligence"})(a.SpiritType||(a.SpiritType={}));var h=function(){function e(){this.item_pet=null}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){c.SpiritAttributeManager.getInstance(),l.SpiritCultivateManager.getInstance(),g.SpiritMessageManager.getInstance(),u.SpiritSkillManager.getInstance(),this.loadPrefab()},e.prototype.loadPrefab=function(){var e=this;cc.resources.load("pet/ui/petItem",cc.Prefab,function(t,a){t?console.log(t):(console.log("\u52a0\u8f7dprefab_equip\u6210\u529f"),a.addRef(),e.item_pet=a)})},e.prototype.getPetNodeByInfo=function(e,t,a){void 0===t&&(t=r.PropAction.Look),void 0===a&&(a=i.Hero_Type.NULL);var n=cc.instantiate(this.item_pet);return n.getComponent(d.default).init(a,e,t),n},e.prototype.getPetNodeById=function(e,t,a){void 0===t&&(t=r.PropAction.Look),void 0===a&&(a=i.Hero_Type.NULL);var n=cc.instantiate(this.item_pet),o=new p.PetMessage;return o.pet_id=e,o.pet_num=1,n.getComponent(d.default).init(a,o,t),n},e.prototype.getPetZhanLi=function(e){var t=0,a=c.SpiritAttributeManager.getInstance().getJsonSpiritAttribute(e);return t=a.Health*n.CombatEffectivenessManager.getInstance().getConversionFactor(1)+a.Attack*n.CombatEffectivenessManager.getInstance().getConversionFactor(2)+a.Defense*n.CombatEffectivenessManager.getInstance().getConversionFactor(3)+a.Hit*n.CombatEffectivenessManager.getInstance().getConversionFactor(4)+a.Miss*n.CombatEffectivenessManager.getInstance().getConversionFactor(5)+a.Critical*n.CombatEffectivenessManager.getInstance().getConversionFactor(6)+a.AntiCritical*n.CombatEffectivenessManager.getInstance().getConversionFactor(7)+a.ExtraCritical*n.CombatEffectivenessManager.getInstance().getConversionFactor(8)+a.AntiExtraCritical*n.CombatEffectivenessManager.getInstance().getConversionFactor(9),Math.round(t)},e.prototype.getPetQualityTextColor=function(e){var t=cc.color();switch(e){case 1:t=cc.color(113,229,132);break;case 2:case 3:t=cc.color(105,183,255);break;case 4:case 5:t=cc.color(226,126,255);break;case 6:case 7:t=cc.color(255,193,74);break;case 8:case 9:t=cc.color(255,74,74);break;default:t=cc.color(255,255,255)}return t},e.prototype.checkRedTip=function(e){var t=o.HeroManager.getInstance().getHeroInfo(e).pet_id,a=s.PropManager.getInstance().getPetList();if(0!=t){var n=c.SpiritAttributeManager.getInstance().getJsonSpiritAttribute(t),i=g.SpiritMessageManager.getInstance().getJsonSpiritMessage(n.SpiritType);if(n.Stage>=i.StageLimit)return!1;var u=l.SpiritCultivateManager.getInstance().getJsonSpiritCultivate(n.Stage);if(0==u.CoinSpirit)return s.PropManager.getInstance().getPropNum(r.PropId.AnimalFood)>=u.FoodCost&&s.PropManager.getInstance().getPropNum(r.PropId.Coin)>=u.CoinCost;var p=c.SpiritAttributeManager.getInstance().getTypeFirstJsonData(n.SpiritType);return s.PropManager.getInstance().getPropNum(p.SpiritItem)>=u.CoinSpirit&&s.PropManager.getInstance().getPropNum(r.PropId.Gem)>=u.DiamondCost}for(var d=0;d<a.length;d++){var h=a[d],f=o.HeroManager.getInstance().getWearPetHeroList(h);if(h.pet_num-f.length>0)return!0}return!1},e._instance=null,e}();a.PetManager=h,cc._RF.pop()},{"../Hero/Data/CombatEffectiveness":"CombatEffectiveness","../Hero/Data/HeroManager":"HeroManager","../Hero/Game/HeroConfig":"HeroConfig","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","./Data/SpiritAttribute":"SpiritAttribute","./Data/SpiritCultivate":"SpiritCultivate","./Data/SpiritMessage":"SpiritMessage","./Data/SpiritSkill":"SpiritSkill","./PetConfig":"PetConfig","./Ui/PetItem":"PetItem"}],PetReductionUi:[function(e,t,a){"use strict";cc._RF.push(t,"a5866gbp5BJqKCxE8Lc9fgc","PetReductionUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Ads/ApkManager"),s=e("../../GameManager"),c=e("../../multiLanguage/FollowConstants"),l=e("../../multiLanguage/FollowManager"),g=e("../../Prop/PropConfig"),u=e("../../Prop/PropManager"),p=e("../../Sound/AudioConstants"),d=e("../../UI/UIComponent"),h=cc._decorator,f=h.ccclass,_=(h.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pet_info=null,t}return o(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t)},t.prototype.initData=function(e){this.pet_info=e,this.refreshUi()},t.prototype.refreshUi=function(){},t.prototype.onClickSureBtn=function(){s.default.getInstance().sound_manager.playSound(p.SoundIndex.click),u.PropManager.getInstance().changePropNum(g.PropId.Gem,-50)&&(l.default.getInstance().followEvent(c.Follow_Type.\u5ba0\u7269\u8fd8\u539f\u603b\u6b21\u6570),l.default.getInstance().followEvent(c.Follow_Type.\u4e0d\u540c\u5ba0\u7269\u7684\u8fd8\u539f\u6b21\u6570+this.pet_info.pet_id))},t.prototype.clickBtnClose=function(){s.default.getInstance().sound_manager.playSound(p.SoundIndex.click),this.destroySelf()},t.prototype.destroySelf=function(){e.prototype.onClose.call(this),r.default.getInstance().closeBanner()},i([f],t)}(d.default));a.default=_,cc._RF.pop()},{"../../Ads/ApkManager":"ApkManager","../../GameManager":"GameManager","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../UI/UIComponent":"UIComponent","../../multiLanguage/FollowConstants":"FollowConstants","../../multiLanguage/FollowManager":"FollowManager"}],PetSetFreeUi:[function(e,t,a){"use strict";cc._RF.push(t,"2f22bJPCmtDVLFJv5XyUHzT","PetSetFreeUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Ads/ApkManager"),s=e("../../GameManager"),c=e("../../Prop/PropManager"),l=e("../../Sound/AudioConstants"),g=e("../../UI/UIComponent"),u=e("./BtnPet"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pet_info_list=[],t.reward_list=[],t.pet_item=null,t}return o(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t)},t.prototype.initData=function(e){this.pet_info_list=e,this.refreshUi()},t.prototype.refreshUi=function(){var e=this,t=this.node.getChildByName("petScroll").getComponent(cc.ScrollView).content,a=this.node.getChildByName("rewardScroll").getComponent(cc.ScrollView).content;this.pet_info_list.forEach(function(){}),this.pet_info_list.forEach(function(a){var n=cc.instantiate(e.pet_item);n.getComponent(u.default).init(a),t.addChild(n)}),this.reward_list.forEach(function(e){var t=c.PropManager.getInstance().createPropItem(e.reward_id,e.reward_num);a.addChild(t)})},t.prototype.onClickSureBtn=function(){var e=this;s.default.getInstance().sound_manager.playSound(l.SoundIndex.click),this.pet_info_list.forEach(function(){}),this.reward_list.forEach(function(e){c.PropManager.getInstance().changePropNum(e.reward_id,e.reward_num)});var t=[];this.reward_list.forEach(function(e){var a=c.PropManager.getInstance().createPropItem(e.reward_id,e.reward_num);t.push(a)}),s.default.getInstance().showMultipleGetTip(t,function(){e.destroySelf()}.bind(this)),s.default.getInstance().sound_manager.playSound(l.SoundIndex.YX_Fangsheng)},t.prototype.clickBtnClose=function(){s.default.getInstance().sound_manager.playSound(l.SoundIndex.click),this.destroySelf()},t.prototype.destroySelf=function(){e.prototype.onClose.call(this),r.default.getInstance().closeBanner()},i([h(cc.Prefab)],t.prototype,"pet_item",void 0),i([d],t)}(g.default);a.default=f,cc._RF.pop()},{"../../Ads/ApkManager":"ApkManager","../../GameManager":"GameManager","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../UI/UIComponent":"UIComponent","./BtnPet":"BtnPet"}],PetUpgradeUi:[function(e,t,a){"use strict";cc._RF.push(t,"c3cdabe1eFMcYQM/JL9Ls/F","PetUpgradeUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Ads/ApkManager"),s=e("../../GameManager"),c=e("../../multiLanguage/LanguageManager"),l=e("../../Prop/PropConfig"),g=e("../../Prop/PropManager"),u=e("../../Sound/AudioConstants"),p=e("../../Tools/MyTool"),d=e("../../UI/UIComponent"),h=e("../../UI/UIManager"),f=e("../../UI/UIConfig"),_=e("../../UI/home/AtrributeUi"),m=cc._decorator,y=m.ccclass,I=m.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pet_upgrade_ui=null,t.pet_info=null,t}return o(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t)},t.prototype.initUi=function(e){this.pet_info=e;var t=this.node.getChildByName("spRoot"),a=cc.find("Canvas");this.node.getChildByName("top").getComponent(cc.Widget).target=a,this.node.getChildByName("bottom").getComponent(cc.Widget).target=a,this.loadPrefab(""+this.pet_info.pet_id,t),this.refreshUi()},t.prototype.refreshUi=function(){var e=this.node.getChildByName("top"),t=this.node.getChildByName("bottom");e.getChildByName("topCoinNum").getComponent(cc.Label).string=p.default.getCoinDanwei(g.PropManager.getInstance().getPropNum(l.PropId.Coin),1),e.getChildByName("topGemNum").getComponent(cc.Label).string=p.default.getCoinDanwei(g.PropManager.getInstance().getPropNum(l.PropId.AnimalFood),1),t.getChildByName("upgradeBtn").getComponentInChildren(cc.Label).string=c.default.getInstance().getStrByTextId(640004),t.getChildByName("advanceLabel").getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(640005),t.getChildByName("awakeningLabel").getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(640006),t.getChildByName("reduction").getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(640007),t.getChildByName("discarded").getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(640008),t.getChildByName("typeIcon").getComponent(cc.Sprite).spriteFrame=this.pet_upgrade_ui.getSpriteFrame("Sprite_Hero_"+this.pet_info.hero_type),t.getChildByName("levelNum").getComponent(cc.Label).string="LV."+String(this.pet_info.pet_level)},t.prototype.onSkillClick=function(e,t){t=Number(t)},t.prototype.onUpgradeBtnClick=function(){s.default.getInstance().sound_manager.playSound(u.SoundIndex.click)},t.prototype.onAttributeBtnClick=function(){var e=this;s.default.getInstance().sound_manager.playSound(u.SoundIndex.click),h.UIManager.getInstance().showUiDialog(f.UIPath.Attribute,f.UILayerLevel.One,{onCompleted:function(t){t.getComponent(_.default).init(null),t.getComponent(_.default).initPetInfo(e.pet_info)}})},t.prototype.onClickResetBtn=function(){var e=this;s.default.getInstance().sound_manager.playSound(u.SoundIndex.click),this.pet_info.pet_level<=1||h.UIManager.getInstance().showPetResetUi({onClose:function(){e.refreshUi()}.bind(this)},this.pet_info)},t.prototype.clickBtnClose=function(){s.default.getInstance().sound_manager.playSound(u.SoundIndex.click),this.destroySelf()},t.prototype.destroySelf=function(){e.prototype.onClose.call(this),r.default.getInstance().closeBanner()},t.prototype.loadPrefab=function(e,t){cc.resources.load("pet/ui/pet_"+e,cc.Prefab,function(e,a){if(e)cc.log(e);else{var n=cc.instantiate(a);n.parent=t;var o=n.getChildByName("Sprite_Up_Shadow");o.parent=t,o.scale=n.scale,n.zIndex=1,n.setPosition(cc.v2(0,0)),n.getComponent(sp.Skeleton).setAnimation(0,"Side_Idle",!0)}})},i([I(cc.SpriteAtlas)],t.prototype,"pet_upgrade_ui",void 0),i([y],t)}(d.default);a.default=v,cc._RF.pop()},{"../../Ads/ApkManager":"ApkManager","../../GameManager":"GameManager","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../Tools/MyTool":"MyTool","../../UI/UIComponent":"UIComponent","../../UI/UIConfig":"UIConfig","../../UI/UIManager":"UIManager","../../UI/home/AtrributeUi":"AtrributeUi","../../multiLanguage/LanguageManager":"LanguageManager"}],Pet:[function(e,t,a){"use strict";cc._RF.push(t,"d60d9q73ftFp6hf88WEhgEV","Pet");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Game/GameEffectsManager"),s=e("../../Hero/Data/HeroData"),c=e("../../Hero/Game/HeroConfig"),l=e("../Data/PetData"),g=e("../Data/SpiritAttribute"),u=e("../Data/SpiritSkill"),p=e("../PetConfig"),d=cc._decorator,h=d.ccclass,f=(d.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.is_load_ok=!1,t.cur_load_num=0,t.need_load_num=0,t.spine=null,t.hero_type=c.Hero_Type.NULL,t.hero_data=null,t.pet_type=0,t.pet_id=0,t.pet_quality=0,t.pet_data=null,t.cd_time=0,t.attack_callback=null,t.inited_callback=null,t}var a;return o(t,e),a=t,t.prototype.onLoad=function(){this.spine=this.node.getComponent(sp.Skeleton),this.spine.setAnimation(0,"Idle",!0)},t.prototype.preLoadRes=function(){switch(this.pet_type){case 1:this.addLoadByGameEffectId(r.GameEffectId.pet1_attack),this.addLoadByGameEffectId(r.GameEffectId.pet1_attack_hit);break;case 2:this.addLoadByGameEffectId(r.GameEffectId.pet2_attack),this.addLoadByGameEffectId(r.GameEffectId.pet2_attack_hit),this.addLoadByGameEffectId(r.GameEffectId.pet2_skill);break;case 3:this.addLoadByGameEffectId(r.GameEffectId.pet3_skill_back),this.addLoadByGameEffectId(r.GameEffectId.pet3_skill_front);break;case 4:this.addLoadByGameEffectId(r.GameEffectId.pet4_skill)}},t.prototype.addAttackListen=function(e){this.attack_callback=e},t.prototype.addInitedListen=function(e){this.inited_callback=e},t.prototype.addLoadByGameEffectId=function(e,t){var n=this;void 0===t&&(t=1),1==r.GameEffectsManager.getInstance().addEffectPoolById(e,t,function(){n.cur_load_num++,n.cur_load_num>=n.need_load_num&&(n.is_load_ok=!0,a.cur_loaded_num++)})&&this.need_load_num++},t.prototype.init=function(e,t,a){this.pet_id=e,this.pet_type=g.SpiritAttributeManager.getInstance().getSpiritType(this.pet_id),this.pet_quality=g.SpiritAttributeManager.getInstance().getQuality(this.pet_id),this.hero_type=t,this.node.setPosition(a),this.preLoadRes(),this.initData(),this.inited_callback&&this.inited_callback()},t.prototype.setHeroData=function(e){this.hero_data=e},t.prototype.initData=function(){this.pet_data=new l.PetData,this.pet_data.SkillValue_x=new Map,this.pet_data.SkillValue_y=new Map,this.pet_data.SkillValue_z=new Map,this.pet_data.ColdDown=new Map;for(var e=1;e<=1;e++){var t=u.SpiritSkillManager.getInstance().getSkillId(this.pet_type,this.pet_quality-2),a=u.SpiritSkillManager.getInstance().getJsonSpiritSkill(t);null!=a&&(this.pet_data.SkillValue_x.set(e,a.SkillParameter_1),this.pet_data.SkillValue_y.set(e,a.SkillParameter_2),this.pet_data.SkillValue_z.set(e,a.SkillParameter_3),this.pet_data.ColdDown.set(e,a.CoolDown))}this.cd_time=this.pet_data.getSkillColdDown(p.PetSkillType.Active)},t.prototype.getGongJiData=function(e,t){var a=new s.GongJiData;return a.hero_type=this.hero_type,a.hero_data=cc.instantiate(this.hero_data),a.skill_damage_rate=t,a.damage_type=c.DamageType.Skill,a.is_bullet=e,a},t.prototype.playSpinAnimaton=function(e,t,a,n){void 0===t&&(t=!1);var o=this.spine.setAnimation(0,e,t);a&&this.spine.setTrackEventListener(o,function(e,t){t.data.name==a.name&&a.callback()}),n&&this.spine.setTrackCompleteListener(o,function(){o.listener=null,n()})},t.prototype.setAttTarget=function(){},t.prototype.onHeroHitMonster=function(){},t.prototype.startReleaseSkill=function(e){this.cd_time<=0&&(this.cd_time=this.pet_data.getSkillColdDown(p.PetSkillType.Active),this.attack_callback(e))},t.max_load_num=0,t.cur_loaded_num=0,a=i([h],t)}(cc.Component));a.default=f,cc._RF.pop()},{"../../Game/GameEffectsManager":"GameEffectsManager","../../Hero/Data/HeroData":"HeroData","../../Hero/Game/HeroConfig":"HeroConfig","../Data/PetData":"PetData","../Data/SpiritAttribute":"SpiritAttribute","../Data/SpiritSkill":"SpiritSkill","../PetConfig":"PetConfig"}],PlayerLevelUp:[function(e,t,a){"use strict";cc._RF.push(t,"bfa3dZfuB5EIIQjnO5cjEGi","PlayerLevelUp"),Object.defineProperty(a,"__esModule",{value:!0}),a.PlayerLevelUpManager=a.JsonPlayerLevelUp=void 0;var n=e("../Loading/LoadManager"),o=function(){this.PlayerLevel=0,this.PlayerExpCost=0};a.JsonPlayerLevelUp=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("PlayerLevelUp",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonPlayerLevelUp\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.PlayerLevel,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonPlayerLevelUp=function(e){return this.data.get(e)},e.prototype.getPlayerExpCost=function(e){return this.data.get(e).PlayerExpCost},e.getMaxPlayerLevel=function(){return 100},e._instance=null,e}();a.PlayerLevelUpManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],Player:[function(e,t,a){"use strict";cc._RF.push(t,"ba452nnVcJMPYIauwJ4Favx","Player");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("./Joystick"),s=cc._decorator,c=s.ccclass,l=s.property,g=e("./Joystick"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rigidbody=!1,t.moveDir=cc.v2(0,1),t._speedType=r.SpeedType.STOP,t._moveSpeed=0,t.stopSpeed=0,t.normalSpeed=100,t.fastSpeed=200,t}return o(t,e),t.prototype.onLoad=function(){this.rigidbody&&(cc.director.getPhysicsManager().enabled=!0,this._body=this.getComponent(cc.RigidBody)),g.instance.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),g.instance.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),g.instance.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},t.prototype.onTouchStart=function(){},t.prototype.onTouchMove=function(e,t){this._speedType=t.speedType,this.moveDir=t.moveDistance},t.prototype.onTouchEnd=function(e,t){this._speedType=t.speedType},t.prototype.move=function(){if(this.node.angle=cc.misc.radiansToDegrees(Math.atan2(this.moveDir.y,this.moveDir.x))-90,this.rigidbody)this._body.applyForceToCenter(cc.v2(200*this.moveDir.x,200*this.moveDir.y),!0);else{var e=cc.v2();this.node.getPosition(e);var t=e.add(this.moveDir.mul(this._moveSpeed/120));this.node.setPosition(t)}},t.prototype.update=function(){switch(this._speedType){case r.SpeedType.STOP:this._moveSpeed=this.stopSpeed;break;case r.SpeedType.NORMAL:this._moveSpeed=this.normalSpeed;break;case r.SpeedType.FAST:this._moveSpeed=this.fastSpeed}this._speedType!==r.SpeedType.STOP&&this.move()},i([l({displayName:"\u521a\u4f53\u6a21\u5f0f",tooltip:"\u4e0d\u4f1a\u7acb\u5373\u505c\u6b62"})],t.prototype,"rigidbody",void 0),i([l({displayName:"Move Dir",tooltip:"\u79fb\u52a8\u65b9\u5411"})],t.prototype,"moveDir",void 0),i([l({displayName:"Speed Type",tooltip:"\u901f\u5ea6\u7ea7\u522b"})],t.prototype,"_speedType",void 0),i([l({type:cc.Integer,displayName:"Move Speed",tooltip:"\u79fb\u52a8\u901f\u5ea6"})],t.prototype,"_moveSpeed",void 0),i([l({type:cc.Integer,displayName:"Stop Speed",tooltip:"\u505c\u6b62\u65f6\u901f\u5ea6"})],t.prototype,"stopSpeed",void 0),i([l({type:cc.Integer,tooltip:"\u6b63\u5e38\u901f\u5ea6"})],t.prototype,"normalSpeed",void 0),i([l({type:cc.Integer,tooltip:"\u6700\u5feb\u901f\u5ea6"})],t.prototype,"fastSpeed",void 0),i([c],t)}(cc.Component);a.default=u,cc._RF.pop()},{"./Joystick":"Joystick"}],PressButton:[function(e,t,a){"use strict";cc._RF.push(t,"140a8h4pO5G55+CfKrXL/8d","PressButton");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.press_events=[],t.interval=.1,t.is_can_press=!0,t.is_click=!1,t.is_press=!1,t}return o(t,e),t.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.interval<=0&&(this.interval=.1)},t.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},t.prototype.onTouchStart=function(e){this.is_can_press&&(this.is_press=!0,cc.tween(e.currentTarget).to(.1,{scale:.9}).start(),this.is_click=!1,this.onClick(e),this.schedule(this.onClick,this.interval))},t.prototype.onTouchEnd=function(e){this.is_press&&(this.is_press=!1,cc.tween(e.currentTarget).to(.1,{scale:1}).start(),this.unschedule(this.onClick),this.is_click||this.onClick(e))},t.prototype.onClick=function(){this.is_click=!0;for(var e=0;e<this.press_events.length;e++)this.press_events[e].emit([this.node])},t.prototype.setIsCanPress=function(e){this.is_can_press=e,this.setMat()},t.prototype.getIsCanPress=function(){return this.is_can_press},t.prototype.setMat=function(){var e=cc.Material.getBuiltinMaterial("2d-sprite"),t=cc.Material.getBuiltinMaterial("2d-gray-sprite");this.node.getComponent(cc.Sprite).setMaterial(0,this.is_can_press?e:t),0==this.is_can_press&&this.unschedule(this.onClick)},i([c([cc.Component.EventHandler])],t.prototype,"press_events",void 0),i([c()],t.prototype,"interval",void 0),i([s],t)}(cc.Component);a.default=l,cc._RF.pop()},{}],PrivilegedCardInformation:[function(e,t,a){"use strict";cc._RF.push(t,"259886z+JxH6ZIGjNTrCQzq","PrivilegedCardInformation"),Object.defineProperty(a,"__esModule",{value:!0}),a.PrivilegedCardInformationManager=a.JsonPrivilegedCardInformation=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.PrivilegedCardID=0,this.PrivilegedCard=0,this.PrivilegedCardText=0,this.GetDiamondsNowNum=0,this.ReceiveDiamondsEveryDayNum=0,this.CumulativeGetDiamonds=0,this.GainPrivileges=[],this.PrivilegeParameters=[],this.PrivilegeText=[],this.ProductId=""};a.JsonPrivilegedCardInformation=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("PrivilegedCardInformation",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonPrivilegedCardInformation\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.PrivilegedCardID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonPrivilegedCardInformation=function(e){return this.data.get(e)},e.prototype.getPrivilegedCard=function(e){return this.data.get(e).PrivilegedCard},e.prototype.getPrivilegedCardText=function(e){return this.data.get(e).PrivilegedCardText},e.prototype.getGetDiamondsNowNum=function(e){return this.data.get(e).GetDiamondsNowNum},e.prototype.getReceiveDiamondsEveryDayNum=function(e){return this.data.get(e).ReceiveDiamondsEveryDayNum},e.prototype.getCumulativeGetDiamonds=function(e){return this.data.get(e).CumulativeGetDiamonds},e.prototype.getGainPrivileges=function(e){return this.data.get(e).GainPrivileges},e.prototype.getPrivilegeParameters=function(e){return this.data.get(e).PrivilegeParameters},e.prototype.getPrivilegeText=function(e){return this.data.get(e).PrivilegeText},e.prototype.getProductId=function(e){return this.data.get(e).ProductId},e.getMaxPrivilegedCardID=function(){return 2001},e.prototype.getData=function(){return this.data},e._instance=null,e}();a.PrivilegedCardInformationManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],ProbabilityTipUi:[function(e,t,a){"use strict";cc._RF.push(t,"3ad22mNA6pKhqAkXhXVKdPO","ProbabilityTipUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Ads/ApkManager"),s=e("../GameManager"),c=e("../multiLanguage/FollowConstants"),l=e("../multiLanguage/FollowManager"),g=e("../multiLanguage/TextLanguage"),u=e("../Sound/AudioConstants"),p=e("../Tools/MyTool"),d=e("../UI/UIComponent"),h=e("./DrawCardProbability"),f=cc._decorator,_=f.ccclass,m=(f.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t)},t.prototype.initUi=function(){this.refreshUi(),l.default.getInstance().followEvent(c.Follow_Type.\u8bb0\u5f55\u70b9\u51fb\u62db\u52df\u6982\u7387\u5f39\u7a97\u7684\u6b21\u6570)},t.prototype.refreshUi=function(){for(var e=h.DrawCardProbabilityManager.getInstance().getData(),t=this.node.getChildByName("background"),a=0;a<e.length;a++){var n;n=p.default.numberFormat(100*e[a].PropbabilityNum,2)+"%",t.getChildByName("bg"+(a+1)).getChildByName("rate"+(a+1)).getComponent(cc.Label).string=n,t.getChildByName("bg"+(a+1)).getChildByName("rateLabel"+(a+1)).getComponent(g.default).setTextId(e[a].PropbabilityText)}},t.prototype.refreshWishingUi=function(){},t.prototype.refreshTakeEggUi=function(){},t.prototype.clickBtnClose=function(){s.default.getInstance().sound_manager.playSound(u.SoundIndex.click),this.destroySelf()},t.prototype.destroySelf=function(){e.prototype.onClose.call(this),r.default.getInstance().closeBanner()},t.prototype.priceFormat=function(e,t){if(!isNaN(e)){var a=e.toFixed(t);if(-1!=a.indexOf(".")){for(var n=!1,o=a.indexOf(".")+1;o<=a.indexOf(".")+t;o++)o<a.length&&"0"!=a[o]&&(n=!0);return n?a:Number(a)}return a}},i([_],t)}(d.default));a.default=m,cc._RF.pop()},{"../Ads/ApkManager":"ApkManager","../GameManager":"GameManager","../Sound/AudioConstants":"AudioConstants","../Tools/MyTool":"MyTool","../UI/UIComponent":"UIComponent","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/TextLanguage":"TextLanguage","./DrawCardProbability":"DrawCardProbability"}],PropConfig:[function(e,t,a){"use strict";cc._RF.push(t,"e86ccmVf7ZEXqbDsA1Yeoor","PropConfig"),Object.defineProperty(a,"__esModule",{value:!0}),a.PropAction=a.PropId=void 0,function(e){e[e.Coin=10001]="Coin",e[e.Gem=10002]="Gem",e[e.LongJing=10003]="LongJing",e[e.HeroExp=20001]="HeroExp",e[e.HeroStone=20002]="HeroStone",e[e.AnimalFood=20003]="AnimalFood",e[e.Essence1=20004]="Essence1",e[e.Essence2=20005]="Essence2",e[e.Essence3=20006]="Essence3",e[e.UserExp=20007]="UserExp",e[e.ExclusiveWeaponMasterKeyC=20008]="ExclusiveWeaponMasterKeyC",e[e.ExclusiveWeaponMasterKeyB=20009]="ExclusiveWeaponMasterKeyB",e[e.ExclusiveWeaponMasterKeyA=20010]="ExclusiveWeaponMasterKeyA",e[e.ExclusiveWeaponMasterKeyS=20011]="ExclusiveWeaponMasterKeyS",e[e.ExclusiveWeaponMasterKeySS=20012]="ExclusiveWeaponMasterKeySS",e[e.ExclusiveWeaponMasterKeySSS=20013]="ExclusiveWeaponMasterKeySSS",e[e.MazeToolkit=40003]="MazeToolkit",e[e.OrdinaryWishingCoin=40004]="OrdinaryWishingCoin",e[e.PremiumWishingCoin=40005]="PremiumWishingCoin",e[e.OrdinaryTakeEgg=40006]="OrdinaryTakeEgg",e[e.PremiumTakeEgg=40007]="PremiumTakeEgg",e[e.MazeCoin=60001]="MazeCoin",e[e.DungeonCoin=60002]="DungeonCoin",e[e.RoleChestKey=10002]="RoleChestKey",e[e.EquipChestKey=10003]="EquipChestKey",e[e.FreeBox=80001]="FreeBox",e[e.EquipBox=80002]="EquipBox",e[e.FragmentBox=80003]="FragmentBox",e[e.SuperBox=80004]="SuperBox",e[e.BattleFreePassBox=80005]="BattleFreePassBox",e[e.BossTicket=40001]="BossTicket",e[e.EndlessChallenge=40002]="EndlessChallenge",e[e.RedPotion=40007]="RedPotion",e[e.BluePotion=40008]="BluePotion",e[e.GreenPotion=40009]="GreenPotion",e[e.HeroMasterKeyC=101001]="HeroMasterKeyC",e[e.HeroMasterKeyB=101002]="HeroMasterKeyB",e[e.HeroMasterKeyA=101003]="HeroMasterKeyA",e[e.HeroMasterKeyS=101004]="HeroMasterKeyS",e[e.HeroMasterKeySS=101005]="HeroMasterKeySS",e[e.HeroMasterKeySSS=101006]="HeroMasterKeySSS"}(a.PropId||(a.PropId={})),function(e){e[e.Null=0]="Null",e[e.Look=1]="Look",e[e.Use=2]="Use",e[e.Buy=3]="Buy",e[e.Num=4]="Num"}(a.PropAction||(a.PropAction={})),cc._RF.pop()},{}],PropInfoUi:[function(e,t,a){"use strict";cc._RF.push(t,"72d747omMJB8osy4BaV7drt","PropInfoUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../GameManager"),s=e("./Data/Item"),c=e("../multiLanguage/LanguageManager"),l=e("../Sound/AudioConstants"),g=e("../UI/UIComponent"),u=e("./PropManager"),p=e("./PropConfig"),d=e("../Tools/MyTool"),h=e("../Tools/PressButton"),f=e("../JsonData/OfflineRevenue"),_=cc._decorator,m=_.ccclass,y=(_.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prop_data=null,t.prop_action=p.PropAction.Null,t.use_num=1,t.buy_callback=null,t.use_callback=null,t}return o(t,e),t.prototype.addBuyListen=function(e){this.buy_callback=e},t.prototype.addUseListen=function(e){this.use_callback=e},t.prototype.initData=function(e,t){this.prop_data=e,this.prop_action=t,this.use_num=this.prop_data.prop_num,this.initUi()},t.prototype.initUi=function(){var e=c.default.getInstance(),t=u.PropManager.getInstance().createPropItem(this.prop_data.prop_id,0,p.PropAction.Null);this.node.getChildByName("propRoot").addChild(t),t.setPosition(cc.v2(0,0));var a=s.ItemManager.getInstance().getJsonItem(this.prop_data.prop_id),n=this.node.getChildByName("propName"),o=e.getStrByTextId(a.NameTextId),i=this.node.getChildByName("propDetail"),r=e.getStrByTextId(a.DiscripitionTextId);if(5==a.Type){var l=24,g=a.ItemID%10-1;g<4&&(l=Math.pow(2,g)),o=o.replace("~",l.toString()),r=r.replace("~",l.toString())}n.getComponent(cc.Label).string=o,i.getComponent(cc.Label).string=r,this.node.getChildByName("propNum").getComponent(cc.Label).string=""+this.prop_data.prop_num,this.node.getChildByName("titleLabel").getComponent(cc.Label).string=e.getStrByTextId(100040),this.showAciton()},t.prototype.showAciton=function(){for(var e=p.PropAction.Use;e<p.PropAction.Num;e++)this.node.getChildByName("action"+e).active=this.prop_action==e,this.prop_action==e?(this.node.getChildByName("bbg").height=649,this.node.getChildByName("bbg").y=32):(this.node.getChildByName("bbg").height=580,this.node.getChildByName("bbg").y=69);switch(this.prop_action){case p.PropAction.Use:this.showResNum();break;case p.PropAction.Buy:var t=this.node.getChildByName("action"+this.prop_action);t.getChildByName("num").getComponent(cc.Label).string=d.default.getCoinDanwei(this.prop_data.prop_price);var a=t.getChildByName("btnYes"),n=u.PropManager.getInstance().getPropNum(this.prop_data.prop_cost_id)>=this.prop_data.prop_price;a.getComponent(cc.Button).interactable=n,t.getChildByName("gem").getComponent(cc.Sprite).spriteFrame=u.PropManager.getInstance().getSpByName("Item_"+this.prop_data.prop_cost_id)}},t.prototype.showResNum=function(){this.node.getChildByName("action2").getChildByName("editbox").getChildByName("newNum").getComponent(cc.Label).string=""+this.use_num},t.prototype.onEditFinish=function(e){var t=parseInt(e.string);t?(t>this.prop_data.prop_num&&(t=this.prop_data.prop_num),t<1&&(t=1),this.use_num=t,this.showResNum()):(this.use_num=1,this.showResNum())},t.prototype.onEditStart=function(e){e.string=this.use_num+""},t.prototype.setSubAddBtn=function(){var e=this.node.getChildByName("action2"),t=e.getChildByName("btnAdd"),a=this.use_num,n=a<this.prop_data.prop_num;t.getComponent(h.default).setIsCanPress(n);var o=e.getChildByName("btnSub"),i=(a=this.use_num)>1;o.getComponent(h.default).setIsCanPress(i)},t.prototype.clickBtnAdd=function(){r.default.getInstance().sound_manager.playSound(l.SoundIndex.click);var e=this.use_num+1;e<=this.prop_data.prop_num&&(this.use_num=e,this.showResNum(),this.setSubAddBtn())},t.prototype.clickBtnSub=function(){r.default.getInstance().sound_manager.playSound(l.SoundIndex.click);var e=this.use_num-1;e>=1&&(this.use_num=e,this.showResNum(),this.setSubAddBtn())},t.prototype.clickBtnBuy=function(){if(r.default.getInstance().sound_manager.playSound(l.SoundIndex.click),u.PropManager.getInstance().changePropNum(this.prop_data.prop_cost_id,-this.prop_data.prop_price)){u.PropManager.getInstance().changePropNum(this.prop_data.prop_id,this.prop_data.prop_num);var t=u.PropManager.getInstance().createPropItem(this.prop_data.prop_id,this.prop_data.prop_num);r.default.getInstance().showGetTip(t),r.default.getInstance().refreshGemShow(),r.default.getInstance().refreshCoinShow(),this.buy_callback&&this.buy_callback(),e.prototype.onClose.call(this)}else r.default.getInstance().showMessage(c.default.getInstance().getStrByTextId(100041))},t.prototype.clickBtnUse=function(){switch(r.default.getInstance().sound_manager.playSound(l.SoundIndex.click),this.prop_data.prop_id){case 50011:var t=f.OfflineRevenueManager.getInstance().getOfflineReward60()*this.use_num;u.PropManager.getInstance().changePropNum(this.prop_data.prop_id,-this.use_num),u.PropManager.getInstance().changePropNum(p.PropId.Coin,t);var a=u.PropManager.getInstance().createPropItem(p.PropId.Coin,t);r.default.getInstance().showGetTip(a);break;case 50012:t=f.OfflineRevenueManager.getInstance().getOfflineReward60()*this.use_num*2,u.PropManager.getInstance().changePropNum(this.prop_data.prop_id,-this.use_num),u.PropManager.getInstance().changePropNum(p.PropId.Coin,t),a=u.PropManager.getInstance().createPropItem(p.PropId.Coin,t),r.default.getInstance().showGetTip(a);break;case 50013:t=f.OfflineRevenueManager.getInstance().getOfflineReward60()*this.use_num*4,u.PropManager.getInstance().changePropNum(this.prop_data.prop_id,-this.use_num),u.PropManager.getInstance().changePropNum(p.PropId.Coin,t),a=u.PropManager.getInstance().createPropItem(p.PropId.Coin,t),r.default.getInstance().showGetTip(a);break;case 50014:t=f.OfflineRevenueManager.getInstance().getOfflineReward60()*this.use_num*8,u.PropManager.getInstance().changePropNum(this.prop_data.prop_id,-this.use_num),u.PropManager.getInstance().changePropNum(p.PropId.Coin,t),a=u.PropManager.getInstance().createPropItem(p.PropId.Coin,t),r.default.getInstance().showGetTip(a);break;case 50015:t=f.OfflineRevenueManager.getInstance().getOfflineReward60()*this.use_num*24,u.PropManager.getInstance().changePropNum(this.prop_data.prop_id,-this.use_num),u.PropManager.getInstance().changePropNum(p.PropId.Coin,t),a=u.PropManager.getInstance().createPropItem(p.PropId.Coin,t),r.default.getInstance().showGetTip(a);break;case 50021:t=f.OfflineRevenueManager.getInstance().getOfflineHeroExp60()*this.use_num,u.PropManager.getInstance().changePropNum(this.prop_data.prop_id,-this.use_num),u.PropManager.getInstance().changePropNum(p.PropId.HeroExp,t),a=u.PropManager.getInstance().createPropItem(p.PropId.HeroExp,t),r.default.getInstance().showGetTip(a);break;case 50022:t=f.OfflineRevenueManager.getInstance().getOfflineHeroExp60()*this.use_num*2,u.PropManager.getInstance().changePropNum(this.prop_data.prop_id,-this.use_num),u.PropManager.getInstance().changePropNum(p.PropId.HeroExp,t),a=u.PropManager.getInstance().createPropItem(p.PropId.HeroExp,t),r.default.getInstance().showGetTip(a);break;case 50023:t=f.OfflineRevenueManager.getInstance().getOfflineHeroExp60()*this.use_num*4,u.PropManager.getInstance().changePropNum(this.prop_data.prop_id,-this.use_num),u.PropManager.getInstance().changePropNum(p.PropId.HeroExp,t),a=u.PropManager.getInstance().createPropItem(p.PropId.HeroExp,t),r.default.getInstance().showGetTip(a);break;case 50024:t=f.OfflineRevenueManager.getInstance().getOfflineHeroExp60()*this.use_num*8,u.PropManager.getInstance().changePropNum(this.prop_data.prop_id,-this.use_num),u.PropManager.getInstance().changePropNum(p.PropId.HeroExp,t),a=u.PropManager.getInstance().createPropItem(p.PropId.HeroExp,t),r.default.getInstance().showGetTip(a);break;case 50025:t=f.OfflineRevenueManager.getInstance().getOfflineHeroExp60()*this.use_num*24,u.PropManager.getInstance().changePropNum(this.prop_data.prop_id,-this.use_num),u.PropManager.getInstance().changePropNum(p.PropId.HeroExp,t),a=u.PropManager.getInstance().createPropItem(p.PropId.HeroExp,t),r.default.getInstance().showGetTip(a);break;case 50031:t=f.OfflineRevenueManager.getInstance().getOfflineHeroStone60()*this.use_num,u.PropManager.getInstance().changePropNum(this.prop_data.prop_id,-this.use_num),u.PropManager.getInstance().changePropNum(p.PropId.HeroStone,t),a=u.PropManager.getInstance().createPropItem(p.PropId.HeroStone,t),r.default.getInstance().showGetTip(a);break;case 50032:t=f.OfflineRevenueManager.getInstance().getOfflineHeroStone60()*this.use_num*2,u.PropManager.getInstance().changePropNum(this.prop_data.prop_id,-this.use_num),u.PropManager.getInstance().changePropNum(p.PropId.HeroStone,t),a=u.PropManager.getInstance().createPropItem(p.PropId.HeroStone,t),r.default.getInstance().showGetTip(a);break;case 50033:t=f.OfflineRevenueManager.getInstance().getOfflineHeroStone60()*this.use_num*4,u.PropManager.getInstance().changePropNum(this.prop_data.prop_id,-this.use_num),u.PropManager.getInstance().changePropNum(p.PropId.HeroStone,t),a=u.PropManager.getInstance().createPropItem(p.PropId.HeroStone,t),r.default.getInstance().showGetTip(a);break;case 50034:t=f.OfflineRevenueManager.getInstance().getOfflineHeroStone60()*this.use_num*8,u.PropManager.getInstance().changePropNum(this.prop_data.prop_id,-this.use_num),u.PropManager.getInstance().changePropNum(p.PropId.HeroStone,t),a=u.PropManager.getInstance().createPropItem(p.PropId.HeroStone,t),r.default.getInstance().showGetTip(a);break;case 50035:t=f.OfflineRevenueManager.getInstance().getOfflineHeroStone60()*this.use_num*24,u.PropManager.getInstance().changePropNum(this.prop_data.prop_id,-this.use_num),u.PropManager.getInstance().changePropNum(p.PropId.HeroStone,t),a=u.PropManager.getInstance().createPropItem(p.PropId.HeroStone,t),r.default.getInstance().showGetTip(a);break;case 50041:t=f.OfflineRevenueManager.getInstance().getOfflineAnimalFood60()*this.use_num,u.PropManager.getInstance().changePropNum(this.prop_data.prop_id,-this.use_num),u.PropManager.getInstance().changePropNum(p.PropId.AnimalFood,t),a=u.PropManager.getInstance().createPropItem(p.PropId.AnimalFood,t),r.default.getInstance().showGetTip(a);break;case 50042:t=f.OfflineRevenueManager.getInstance().getOfflineAnimalFood60()*this.use_num*2,u.PropManager.getInstance().changePropNum(this.prop_data.prop_id,-this.use_num),u.PropManager.getInstance().changePropNum(p.PropId.AnimalFood,t),a=u.PropManager.getInstance().createPropItem(p.PropId.AnimalFood,t),r.default.getInstance().showGetTip(a);break;case 50043:t=f.OfflineRevenueManager.getInstance().getOfflineAnimalFood60()*this.use_num*4,u.PropManager.getInstance().changePropNum(this.prop_data.prop_id,-this.use_num),u.PropManager.getInstance().changePropNum(p.PropId.AnimalFood,t),a=u.PropManager.getInstance().createPropItem(p.PropId.AnimalFood,t),r.default.getInstance().showGetTip(a);break;case 50044:t=f.OfflineRevenueManager.getInstance().getOfflineAnimalFood60()*this.use_num*8,u.PropManager.getInstance().changePropNum(this.prop_data.prop_id,-this.use_num),u.PropManager.getInstance().changePropNum(p.PropId.AnimalFood,t),a=u.PropManager.getInstance().createPropItem(p.PropId.AnimalFood,t),r.default.getInstance().showGetTip(a);break;case 50045:t=f.OfflineRevenueManager.getInstance().getOfflineAnimalFood60()*this.use_num*24,u.PropManager.getInstance().changePropNum(this.prop_data.prop_id,-this.use_num),u.PropManager.getInstance().changePropNum(p.PropId.AnimalFood,t),a=u.PropManager.getInstance().createPropItem(p.PropId.AnimalFood,t),r.default.getInstance().showGetTip(a)}this.use_callback&&this.use_callback(),e.prototype.onClose.call(this)},t.prototype.clickBtnClose=function(){r.default.getInstance().sound_manager.playSound(l.SoundIndex.click),e.prototype.onClose.call(this)},i([m],t)}(g.default));a.default=y,cc._RF.pop()},{"../GameManager":"GameManager","../JsonData/OfflineRevenue":"OfflineRevenue","../Sound/AudioConstants":"AudioConstants","../Tools/MyTool":"MyTool","../Tools/PressButton":"PressButton","../UI/UIComponent":"UIComponent","../multiLanguage/LanguageManager":"LanguageManager","./Data/Item":"Item","./PropConfig":"PropConfig","./PropManager":"PropManager"}],PropManager:[function(e,t,a){"use strict";cc._RF.push(t,"5d6ddQS7ixBcbPznrJxBIIi","PropManager");var n=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))(function(o,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function s(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(r,s)}c((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var a,n,o,i,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,n=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(s){i=[6,s],n=0}finally{a=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(a,"__esModule",{value:!0}),a.PropManager=void 0;var i=e(".././NetWork/HttpManager"),r=e("../Equipment/Data/EquipmentAttribute"),s=e("../Equipment/EquipConfig"),c=e("../Equipment/EquipmentManager"),l=e("../GameManager"),g=e("../Hero/Data/HeroManager"),u=e("../multiLanguage/FollowConstants"),p=e("../multiLanguage/FollowManager"),d=e("../multiLanguage/LanguageManager"),h=e("../Pet/PetConfig"),f=e("../Storage/StorageConfig"),_=e("../Storage/StorageManager"),m=e("../Tools/EventManager"),y=e("../UserData"),I=e("./Data/Item"),v=e("./Prop"),M=e("./PropConfig"),C=function(){function e(){this.map_prop_num=null,this.prop_item=null,this.prop_sale_item=null,this.item_atlas=null}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){I.ItemManager.getInstance(),this.loadItemPrefab(),this.loadSaleItemPrefab(),this.loadSp()},e.prototype.loadItemPrefab=function(){var e=this;this.prop_item||cc.resources.load("prop/item",cc.Prefab,function(t,a){t?console.log(t):e.prop_item=a})},e.prototype.loadSaleItemPrefab=function(){var e=this;this.prop_sale_item||cc.resources.load("prop/saleItem",cc.Prefab,function(t,a){t?console.log(t):e.prop_sale_item=a})},e.prototype.loadSp=function(){var e=this;this.item_atlas||cc.resources.load("prop/item_list",cc.SpriteAtlas,function(t,a){t?console.log(t):e.item_atlas=a})},e.prototype.getSpByName=function(e){return this.item_atlas.getSpriteFrame(e)},e.prototype.getSpByPropId=function(e){var t="Item_"+I.ItemManager.getInstance().getQuoteIcon(e);return this.getSpByName(t)},e.prototype.getEquipIcon=function(e){var t="Weapon_"+e;return this.getSpByName(t)},e.prototype.getSpTypeByType=function(e){var t="Hero_Type_"+e;return this.getSpByName(t)},e.prototype.getSpFrameByPropType=function(e){var t="Item_frame_"+I.ItemManager.getInstance().getQuality(e);return this.getSpByName(t)},e.prototype.getSpheadPortraitType=function(e){var t="Item_"+(11e4+e);return this.getSpByName(t)},e.prototype.createPropItem=function(e,t,a,n){void 0===a&&(a=M.PropAction.Look),void 0===n&&(n=0);var o=null;switch(I.ItemManager.getInstance().getType(e)){case 3:var i=new s.EquipInfo;i.equip_id=e,i.equip_num=t,o=c.EquipmentManager.getInstance().getEquipNodeByInfo(i,a);break;default:(o=cc.instantiate(this.prop_item)).getComponent(v.default).init(e,t,a)}return o},e.prototype.createSalePropItem=function(e,t,a){void 0===a&&(a=M.PropAction.Look);var n=null;return 3==I.ItemManager.getInstance().getType(e)?n=c.EquipmentManager.getInstance().getSaleEquipNodeById(e,a):(n=cc.instantiate(this.prop_sale_item)).getComponent(v.default).init(e,t,a),n},e.prototype.getPropQualityName=function(e){var t=110005;switch(e){case 1:t=110005;break;case 2:t=110007;break;case 3:t=110009;break;case 4:t=110011;break;case 5:case 6:t=110013}return d.default.getInstance().getStrByTextId(t)},e.prototype.getPropQualityTextColor=function(e){var t=cc.color();switch(e){case 0:t=cc.color(254,246,233);break;case 1:t=cc.color(156,226,150);break;case 2:t=cc.color(86,149,225);break;case 3:t=cc.color(205,158,255);break;case 4:t=cc.color(255,249,158);break;case 5:t=cc.color(251,95,98);break;case 6:t=cc.color(255,255,255)}return t},e.prototype.getPropQualityTextOutlineColor=function(){return cc.color(37,49,71)},e.prototype.getHeroIcon=function(e){var t="Equipped_Hero_"+e;return this.getSpByName(t)},e.prototype.getHeroIconb=function(e){var t="Head_Hero_S_"+e;return this.getSpByName(t)},e.prototype.loadPropData=function(){if(!this.map_prop_num){this.map_prop_num=new Map;for(var e=I.ItemManager.getInstance().getPropIdList(),t=e.length,a=0;a<t;a++){var n=e[a],o=_.TheStorageManager.getInstance().getInt(f.StorageKey.PropNum+n,0);n==M.PropId.Coin&&0==o&&(o=2e3),this.setPropNum(n,o)}}y.default.getInstance().getUserID()&&this.HttpSyncPropData(!1)},e.prototype.changePropNum=function(t,a){if(11==I.ItemManager.getInstance().getType(t))return null==g.HeroManager.getInstance().getHeroInfo(t%11e4)?(g.HeroManager.getInstance().addHero(t%11e4),!0):(e.getInstance().changePropNum(t-1e4,20),!0);var n=this.getPropNum(t)+a;return n>=0&&(a>0&&p.default.getInstance().followEvent(u.Follow_Type.\u5bf9\u5e94\u9053\u5177ID\u7684\u83b7\u5f97\u6b21\u6570+t),a<0&&p.default.getInstance().followEvent(u.Follow_Type.\u5bf9\u5e94\u9053\u5177ID\u7684\u4f7f\u7528\u6b21\u6570+t),this.setPropNum(t,n),M.PropId.Coin==t&&a<0&&l.default.getInstance().refreshCoinShow(),M.PropId.Gem==t&&a<0&&l.default.getInstance().refreshGemShow(),M.PropId.OrdinaryWishingCoin==t&&a>0&&m.EventManager.postRedEvent(m.RedEventString.RED_CHECK,m.RedEventType.Btn_Shop),!0)},e.prototype.getPropNum=function(e){return this.map_prop_num.get(e)},e.prototype.setPropNum=function(e,t,a){switch(void 0===a&&(a=!1),this.map_prop_num.set(e,t),_.TheStorageManager.getInstance().setItem(f.StorageKey.PropNum+e,t),e){case M.PropId.Coin:m.EventManager.postAssetsEvent(m.AssetsEventType.COIN);break;case M.PropId.Gem:m.EventManager.postAssetsEvent(m.AssetsEventType.GEM);break;case M.PropId.HeroExp:m.EventManager.postAssetsEvent(m.AssetsEventType.HERO_EXP);break;case M.PropId.HeroStone:m.EventManager.postAssetsEvent(m.AssetsEventType.HERO_STONE);break;case M.PropId.AnimalFood:m.EventManager.postAssetsEvent(m.AssetsEventType.Animal_Food);break;case 40004:case 40005:case 40006:cc.director.emit("onRefreshInstanceItem")}a&&_.TheStorageManager.getInstance().setItem(f.StorageKey.PropNum+e,t)},e.prototype.getEquipmentList=function(e){var t=r.EquipmentAttributeManager.getInstance(),a=I.ItemManager.getInstance(),n=new Array;return this.map_prop_num.forEach(function(o,i){if(o>0&&3==a.getType(i)){var r=t.getEquipmentPosition(i);if(e==r){var c=new s.EquipInfo;c.equip_id=i,c.equip_num=o,n.push(c)}}}),n.length>0&&n.sort(function(e,t){var a=r.EquipmentAttributeManager.getInstance().getStage(e.equip_id);return r.EquipmentAttributeManager.getInstance().getStage(t.equip_id)-a}),n},e.prototype.getPetList=function(){var e=I.ItemManager.getInstance(),t=new Array;return this.map_prop_num.forEach(function(a,n){if(a>0&&7==e.getType(n)){var o=new h.PetMessage;o.pet_id=n,o.pet_num=a,t.push(o)}}),t.length,t},e.prototype.saveEquipmentList=function(e){for(var t=0;t<e.length;t++){var a=e[t];this.map_prop_num.set(a.equip_id,a.equip_num)}},e.prototype.saveAllPropNum=function(e){void 0===e&&(e=!0);var t=[];this.map_prop_num.forEach(function(e,a){_.TheStorageManager.getInstance().setItem(f.StorageKey.PropNum+a,e);var n=new i.PropObject;n.itemsId=a,n.itemsNum=e,t.push(n)}),e&&this.HttpSetPropData(t)},e.prototype.getSortPropList=function(){var e=new Array;return this.map_prop_num.forEach(function(t,a){var n={prop_id:a,prop_num:t};t>0&&e.push(n)}),e.sort(function(e,t){return I.ItemManager.getInstance().getQuality(e.prop_id)-I.ItemManager.getInstance().getQuality(t.prop_id)}),e},e.prototype.changePropServerTest=function(){JSON.stringify({uid:"fb123456",name:"props_change",value:[{id:10001,num:20},{id:10002,num:-30}]}),JSON.stringify({uid:"fb123456",name:"props_issue",value:[{id:10001,num:120},{id:10002,num:130}]})},e.prototype.HttpSyncPropData=function(e){var t=this;void 0===e&&(e=!0),i.HttpManager.post(i.AccessName.getProp,this.getPropJsonString(null)).then(function(a){if(a){for(var n=a.length,o=0;o<n;o++){var i=a[o];t.setPropNum(i.itemsId,i.itemsNum)}e&&l.default.getInstance().refreshGemShow(),t.saveAllPropNum(!1)}}).catch(function(e){cc.error(e)})},e.prototype.HttpSetPropData=function(e){return n(this,void 0,Promise,function(){return o(this,function(){return i.HttpManager.post(i.AccessName.setProp,this.getPropJsonString(e)).then(function(){cc.log("\u4e0a\u62a5\u6210\u529f")}).catch(function(e){cc.log(e)}),[2]})})},e.prototype.getPropJsonString=function(e){var t=y.default.getInstance().getUserID();return JSON.stringify({uid:t,gameUserItemNewList:e})},e._instance=null,e}();a.PropManager=C,cc._RF.pop()},{".././NetWork/HttpManager":"HttpManager","../Equipment/Data/EquipmentAttribute":"EquipmentAttribute","../Equipment/EquipConfig":"EquipConfig","../Equipment/EquipmentManager":"EquipmentManager","../GameManager":"GameManager","../Hero/Data/HeroManager":"HeroManager","../Pet/PetConfig":"PetConfig","../Storage/StorageConfig":"StorageConfig","../Storage/StorageManager":"StorageManager","../Tools/EventManager":"EventManager","../UserData":"UserData","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/LanguageManager":"LanguageManager","./Data/Item":"Item","./Prop":"Prop","./PropConfig":"PropConfig"}],Prop:[function(e,t,a){"use strict";cc._RF.push(t,"82f5dUoabtCfJx0sxQntCYK","Prop");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Tools/MyTool"),s=e("./PropManager"),c=e("../Prop/PropConfig"),l=e("../UI/UIManager"),g=e("../GameManager"),u=e("../Sound/AudioConstants"),p=e("./Data/Item"),d=cc._decorator,h=d.ccclass,f=(d.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prop_id=c.PropId.Coin,t.prop_num=0,t.prop_action=c.PropAction.Null,t.prop_price=0,t.prop_cost=c.PropId.Coin,t.buy_callback=null,t.use_callback=null,t}return o(t,e),t.prototype.addBuyListen=function(e){this.buy_callback=e},t.prototype.addUseListen=function(e){this.use_callback=e},t.prototype.init=function(e,t,a){this.prop_id=e,this.prop_num=t,this.prop_action=a,this.refreshData()},t.prototype.initSaleItem=function(e,t,a){void 0===a&&(a=0),this.prop_price=t,this.prop_cost=e,0==a?(this.node.getChildByName("discountBg").active=!1,this.node.getChildByName("discountNum").active=!1,this.node.getChildByName("discount").active=!1):this.node.getChildByName("discountNum").getComponent(cc.Label).string=a+"%",this.node.getChildByName("priceIcon").getComponent(cc.Sprite).spriteFrame=s.PropManager.getInstance().getSpByPropId(e),this.node.getChildByName("price").getComponent(cc.Label).string=r.default.getCoinDanwei(t)},t.prototype.soldOut=function(){this.node.getComponent(cc.Button).interactable=!1,this.node.getChildByName("mask").getChildByName("icon").getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),this.node.getChildByName("discountBg").active=!1,this.node.getChildByName("discountNum").active=!1,this.node.getChildByName("discount").active=!1,this.node.getChildByName("priceIcon").active=!1,this.node.getChildByName("priceTitleBg").active=!1,this.node.getChildByName("price").active=!1,this.node.getChildByName("shop_Bg_SoldOut").active=!0,this.node.getChildByName("saleOut").active=!0},t.prototype.refreshData=function(){var e=this.node.getChildByName("num");e.getComponent(cc.Label).string=r.default.getCoinDanwei(this.prop_num),e.active=0!=this.prop_num,this.node.getComponent(cc.Sprite).spriteFrame=s.PropManager.getInstance().getSpFrameByPropType(this.prop_id),this.node.getChildByName("mask").getChildByName("icon").getComponent(cc.Sprite).spriteFrame=s.PropManager.getInstance().getSpByPropId(p.ItemManager.getInstance().getQuoteIcon(this.prop_id))},t.prototype.onClick=function(){var e=this;g.default.getInstance().sound_manager.playSound(u.SoundIndex.click),this.prop_action!=c.PropAction.Null&&l.UIManager.getInstance().showPropInfo({onClose:function(){if(e.prop_action==c.PropAction.Use){var t=s.PropManager.getInstance().getPropNum(e.prop_id);t!=e.prop_num&&e.init(e.prop_id,t,e.prop_action)}}},this.prop_action,{prop_id:this.prop_id,prop_num:this.prop_num,prop_price:this.prop_price,prop_cost_id:this.prop_cost},this.buy_callback,this.use_callback)},i([h],t)}(cc.Component));a.default=f,cc._RF.pop()},{"../GameManager":"GameManager","../Prop/PropConfig":"PropConfig","../Sound/AudioConstants":"AudioConstants","../Tools/MyTool":"MyTool","../UI/UIManager":"UIManager","./Data/Item":"Item","./PropManager":"PropManager"}],PublicMethods:[function(e,t,a){"use strict";cc._RF.push(t,"c5ba12D3d1KF5iZsApG2mE8","PublicMethods");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var a;return o(t,e),a=t,t.timeconversions=function(e){var t=e/24/3600,a=e/3600%24,n=e%3600/60,o=e%60;return t=Math.floor(t),((a=Math.floor(a))<10?"0"+a:a)+":"+((n=Math.floor(n))<10?"0"+n:n)+":"+(o<10?"0"+o:o)},t.timeconversion=function(e){var t=e/24/3600,a=e/3600%24,n=e%3600/60,o=e%60;return((t=Math.floor(t))<10?"0"+t:t)+":"+((a=Math.floor(a))<10?"0"+a:a)+":"+((n=Math.floor(n))<10?"0"+n:n)+":"+(o<10?"0"+o:o)},t.setCurrentTime=function(){a.setValueInLocal("LastTime",a.getCurrentLocalTime())},t.getLastTime=function(){var e=a.getValueWithLocal("LastTime",a.getCurrentLocalTime());return Number(e)},t.getCurrentLocalTime=function(){return Date.now()/1e3},t.setValueInLocal=function(e,t){try{cc.sys.localStorage.setItem(e,String(t))}catch(a){console.log("---------------------- \u5367\u69fd\uff0c\u5b58\u6587\u4ef6\u7684\u65f6\u5019\u70b8\u88c2\u4e86\uff01")}},t.getValueWithLocal=function(e,t){return cc.sys.localStorage.getItem(e)||t},a=i([s],t)}(cc.Component));a.default=c,cc._RF.pop()},{}],PurchaseCoins:[function(e,t,a){"use strict";cc._RF.push(t,"6f2881UqRJLI6l32ZjtcACS","PurchaseCoins"),Object.defineProperty(a,"__esModule",{value:!0}),a.PurchaseCoinsManager=a.JsonPurchaseCoins=void 0;var n=e("../Loading/LoadManager"),o=function(){this.CoinPurchaseID=0,this.Chapter=0,this.DisplayPosition=0,this.DisplayPositionTextID=0,this.ConsumeDiamondsNum=0,this.GetCoinNum=0,this.AdReward=0,this.AdPlayableTimes=0};a.JsonPurchaseCoins=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("PurchaseCoins",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonPurchaseCoins\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.CoinPurchaseID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonPurchaseCoins=function(e){return this.data.get(e)},e.prototype.getChapter=function(e){return this.data.get(e).Chapter},e.prototype.getDisplayPosition=function(e){return this.data.get(e).DisplayPosition},e.prototype.getDisplayPositionTextID=function(e){return this.data.get(e).DisplayPositionTextID},e.prototype.getConsumeDiamondsNum=function(e){return this.data.get(e).ConsumeDiamondsNum},e.prototype.getGetCoinNum=function(e){return this.data.get(e).GetCoinNum},e.prototype.getAdReward=function(e){return this.data.get(e).AdReward},e.prototype.getAdPlayableTimes=function(e){return this.data.get(e).AdPlayableTimes},e.getMaxCoinPurchaseID=function(){return 1003},e.prototype.getJsonDataByChapter=function(e){var t=[];return this.data.forEach(function(a){a.Chapter==e&&t.push(a)}),t},e._instance=null,e}();a.PurchaseCoinsManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],QuarterCard:[function(e,t,a){"use strict";cc._RF.push(t,"3b7a1/QAfdAPK5FZzMgTGH+","QuarterCard");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Activity/ActivityManager"),s=e("../Ads/ApkManager"),c=e("../GameManager"),l=e("../multiLanguage/FollowConstants"),g=e("../multiLanguage/FollowManager"),u=e("../multiLanguage/TextLanguage"),p=e("../Prop/PropConfig"),d=e("../Prop/PropManager"),h=e("../Sound/AudioConstants"),f=e("./Data/PrivilegedCardInformation"),_=e("./DingYueManager"),m=e("./PayManager"),y=cc._decorator,I=y.ccclass,v=(y.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.car_id=2001,t}return o(t,e),t.prototype.start=function(){this.initUi()},t.prototype.initUi=function(){for(var e=f.PrivilegedCardInformationManager.getInstance().getJsonPrivilegedCardInformation(this.car_id),t=e.GetDiamondsNowNum,a=e.ReceiveDiamondsEveryDayNum,n=e.CumulativeGetDiamonds,o=e.GainPrivileges,i=e.PrivilegeParameters,r=e.PrivilegeText,s=this.node.getChildByName("textScrollView").getComponent(cc.ScrollView).content,c=0;c<r.length;c++){var l=s.children[c].getComponent(u.default);l.setPrefix(o[c]+". "),l.setTextId(r[c]),l.setReplaceValue("~",this.getParametersStr(o[c],i[c]))}this.node.getChildByName("nowNumLabel").getComponent(cc.Label).string=""+t;var g=d.PropManager.getInstance().createPropItem(p.PropId.Gem,a);g.scale=.8,this.node.getChildByName("dailyRoot").addChild(g);var h=d.PropManager.getInstance().createPropItem(p.PropId.Gem,n);h.scale=.8,this.node.getChildByName("totalRoot").addChild(h),this.node.getChildByName("btnGet"),this.node.getChildByName("btnBuy"),this.node.getChildByName("shouyiText").getComponent(u.default).setReplaceValue("~","50%"),this.node.getChildByName("stateText").getComponent(u.default),this.showBtnState()},t.prototype.getParametersStr=function(e,t){switch(e){case 1:return 100*t+"%";case 2:case 3:return t+"";case 4:return 100*t+"%";default:return t+""}},t.prototype.showBtnState=function(){this.node.getChildByName("btnGet"),this.node.getChildByName("btnBuy"),this.node.getChildByName("shouyiText").getComponent(u.default).setReplaceValue("~","500%"),this.node.getChildByName("stateText").getComponent(u.default)},t.prototype.clickBtnBuy=function(){var e=this;c.default.getInstance().sound_manager.playSound(h.SoundIndex.click),g.default.getInstance().followEvent(l.Follow_Type.\u5b63\u5361\u70b9\u51fb\u8d2d\u4e70\u6b21\u6570),s.default.getInstance().showDingYue({result:function(t){if(t){m.PayManager.getInstance().addPayNum(f.PrivilegedCardInformationManager.getInstance().getProductId(e.car_id));var a=f.PrivilegedCardInformationManager.getInstance().getGetDiamondsNowNum(e.car_id);d.PropManager.getInstance().changePropNum(p.PropId.Gem,a),c.default.getInstance().showGetTip(d.PropManager.getInstance().createPropItem(p.PropId.Gem,a),null),r.ActivityManager.getInstance().changeTicket(r.ActivityType.Endless,2),r.ActivityManager.getInstance().changeTicket(r.ActivityType.Boss,2),e.initUi()}}},f.PrivilegedCardInformationManager.getInstance().getProductId(this.car_id))},t.prototype.clickBtnGet=function(){if(c.default.getInstance().sound_manager.playSound(h.SoundIndex.click),!_.DingYueManager.getInstance().getTodayIsGet(this.car_id)){_.DingYueManager.getInstance().saveTodayGet(this.car_id,!0);var e=f.PrivilegedCardInformationManager.getInstance().getReceiveDiamondsEveryDayNum(this.car_id);d.PropManager.getInstance().changePropNum(p.PropId.Gem,e),c.default.getInstance().showGetTip(d.PropManager.getInstance().createPropItem(p.PropId.Gem,e),null),this.showBtnState()}},i([I],t)}(cc.Component));a.default=v,cc._RF.pop()},{"../Activity/ActivityManager":"ActivityManager","../Ads/ApkManager":"ApkManager","../GameManager":"GameManager","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/TextLanguage":"TextLanguage","./Data/PrivilegedCardInformation":"PrivilegedCardInformation","./DingYueManager":"DingYueManager","./PayManager":"PayManager"}],RabateManager:[function(e,t,a){"use strict";cc._RF.push(t,"f58baBz6elAT7Ymm8xF6YX5","RabateManager"),Object.defineProperty(a,"__esModule",{value:!0}),a.RabateManager=a.RabateData=a.RabateType=void 0;var n,o=e("../JsonData/CustomsClearanceRebate"),i=e("../JsonData/LevelJsonData"),r=e("../JsonData/LevelUpRebate"),s=e("../Level/LevelManager"),c=e("../Level/MissionLevel"),l=e("../Payment/PayManager"),g=e("../Prop/PropConfig"),u=e("../thirdParty/ThirdParty"),p=e("../UserData");(function(e){e[e.Campaign=0]="Campaign",e[e.Growth=1]="Growth"})(n=a.RabateType||(a.RabateType={}));var d=function(){this.is_complete=!1,this.is_claimed=!1,this.is_buy=!1,this.is_can_click=!1,this.need_num=0,this.cur_num=0};a.RabateData=d;var h=function(){function e(){}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,u.PayId.Campaign,console.log("RabateManager null"),this._instance.init()),this._instance},e.prototype.init=function(){},e.getClaimState=function(e,t){var a=cc.sys.localStorage.getItem("rabate_claim_state_"+e+"_"+t);return""!=a&&null!=a?parseInt(a):0},e.saveClaimState=function(e,t,a){cc.sys.localStorage.setItem("rabate_claim_state_"+e+"_"+t,a)},e.getRabateData=function(e,t){var a=new d;switch(a.is_buy=l.PayManager.getInstance().getPayNum("b401")>0,a.is_claimed=this.getClaimState(e,t)>0,e){case n.Campaign:var i=s.LevelManager.getInstance().finish_level;c.MissionLevelManager.getId(i,1),a.cur_num=s.LevelManager.getInstance().getFinishChapter(),a.need_num=o.CustomsClearanceRebateManager.getInstance().getCompleteChapter(t),a.is_complete=a.cur_num>=a.need_num;break;case n.Growth:a.cur_num=p.default.getInstance().getUserLevel(),a.need_num=r.LevelUpRebateManager.getInstance().getUnlockUserLevel(t),a.is_complete=a.cur_num>=a.need_num}return a},e.getIsCanClaim=function(e){var t=0;switch(e){case n.Campaign:t=o.CustomsClearanceRebateManager.getMaxRewardID();break;case n.Growth:t=r.LevelUpRebateManager.getMaxRewardID()}for(var a=1;a<=t;a++){var i=this.getRabateData(e,a);if(i.is_buy&&i.is_complete&&!i.is_claimed)return!0}return!1},e.claimAll=function(e){var t=0,a=new i.RewardData;switch(a.reward_id=2,e){case n.Campaign:t=o.CustomsClearanceRebateManager.getMaxRewardID();break;case n.Growth:t=r.LevelUpRebateManager.getMaxRewardID()}for(var s=1;s<=t;s++){var c=this.claimOnce(e,s);a.reward_num+=c.reward_num}return a},e.claimOnce=function(e,t){var a=new i.RewardData;a.reward_id=g.PropId.Gem;var n=this.getRabateData(e,t),r=0;return n.is_buy&&n.is_complete&&!n.is_claimed&&(this.saveClaimState(e,t,1),r=o.CustomsClearanceRebateManager.getInstance().getGetGem(t),a.reward_num=r),a},e._instance=null,e}();a.RabateManager=h,cc._RF.pop()},{"../JsonData/CustomsClearanceRebate":"CustomsClearanceRebate","../JsonData/LevelJsonData":"LevelJsonData","../JsonData/LevelUpRebate":"LevelUpRebate","../Level/LevelManager":"LevelManager","../Level/MissionLevel":"MissionLevel","../Payment/PayManager":"PayManager","../Prop/PropConfig":"PropConfig","../UserData":"UserData","../thirdParty/ThirdParty":"ThirdParty"}],RabateUi:[function(e,t,a){"use strict";cc._RF.push(t,"299a75/TOFASZCk/cnXK6SG","RabateUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Ads/ApkManager"),s=e("../GameManager"),c=e("../JsonData/CustomsClearanceRebate"),l=e("../multiLanguage/LanguageManager"),g=e("../multiLanguage/TextLanguage"),u=e("../Prop/PropConfig"),p=e("../Prop/PropManager"),d=e("../Sound/AudioConstants"),h=e("../thirdParty/ThirdParty"),f=e("../Tools/EventManager"),_=e("../UI/UIComponent"),m=e("./PayManager"),y=e("./RabateManager"),I=cc._decorator,v=I.ccclass,M=(I.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cur_show_index=y.RabateType.Campaign,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.loadLevelItem(),this.node.getChildByName("item").removeFromParent(),this.refreshUi()},t.prototype.start=function(){m.PayManager.getInstance().addTodayShow(h.PayUiIndex.FanLi),f.EventManager.postRedEvent(f.RedEventString.RED_CHECK,f.RedEventType.Btn_Main_Shop_FanLi),this.adaptation()},t.prototype.adaptation=function(){var e=this.node.parent.getChildByName("bottom"),t=e.height,a=e.y,n=this.node.parent.getChildByName("top"),o=n.height,i=n.y,r=i-o-(a+t),s=i-n.height-this.node.getChildByName("icon").height,c=this.node.getChildByName("scrollView");c.height=r-this.node.getChildByName("icon").height,c.y=s,c.getChildByName("view").height=r-this.node.getChildByName("icon").height,this.node.getChildByName("icon").y=n.y-n.height},t.prototype.loadLevelItem=function(){var e=this.node.getChildByName("item"),t=c.CustomsClearanceRebateManager.getMaxRewardID(),a=this.node.getChildByName("scrollView").getComponent(cc.ScrollView).content;this.node.getChildByName("icon").getChildByName("richLabel").getComponent(cc.RichText).string=l.default.getInstance().getStrByTextId(920007);for(var n=c.CustomsClearanceRebateManager.getInstance(),o=1;o<=t;o++){var i=cc.instantiate(e);i.x=0,i.name="item"+o,a.addChild(i);var r=y.RabateManager.getRabateData(y.RabateType.Campaign,o),s=n.getGetGem(o);p.PropManager.getInstance().createPropItem(u.PropId.Gem,s).setParent(i.getChildByName("kuang")),i.getChildByName("contentLabel").getComponent(g.default).setReplaceValue("~",r.need_num+"");var d=i.getChildByName("completeLabel").getComponent(cc.Label);d.string=r.cur_num+"/"+r.need_num,d.node.color=r.is_complete?cc.color(131,110,77):cc.color(213,53,16),i.getChildByName("finish").active=r.is_claimed,r.is_complete?r.is_claimed?i.getChildByName("btnYes").active=!0:(i.getChildByName("btnClam").active=!0,i.getChildByName("btnClam").getComponent(cc.Button).clickEvents[0].customEventData=""+o):i.getChildByName("btnNo").active=!0,r.is_claimed&&(i.zIndex=1)}},t.prototype.refreshUi=function(){switch(this.cur_show_index){case y.RabateType.Campaign:this.showLevelUi()}},t.prototype.showLevelUi=function(){this.cur_show_index=y.RabateType.Campaign,this.node.getChildByName("bottom").y=-cc.winSize.height/2,this.node.getChildByName("titleText").getComponent(g.default).setTextId(900001),this.node.getChildByName("level").active=!0,this.node.getChildByName("user").active=!1;for(var e=c.CustomsClearanceRebateManager.getMaxRewardID(),t=this.node.getChildByName("scrollView").getComponent(cc.ScrollView).content,a=!1,n=1;n<=e;n++){var o=t.getChildByName("item"+n),i=y.RabateManager.getRabateData(y.RabateType.Campaign,n);o.getChildByName("btnClam").active=!i.is_claimed,o.getChildByName("finish").active=i.is_claimed,i.is_complete?i.is_claimed?o.getChildByName("btnYes").active=!0:(o.getChildByName("btnClam").active=!0,a=!0,o.getChildByName("btnClam").getComponent(cc.Button).clickEvents[0].customEventData=""+n):o.getChildByName("btnNo").active=!0,i.is_claimed&&(o.zIndex=1)}var r=this.node.getChildByName("icon").getChildByName("btnBuy").getComponent(cc.Button),s=this.node.getChildByName("icon").getChildByName("priceText").getComponent(cc.Label);if(m.PayManager.getInstance().getPayNum("b401")>0)s.string=l.default.getInstance().getStrByTextId(100012),r.interactable=a;else{var u=m.PayManager.getInstance().getPayInfo("b401");s.string=u.price,r.interactable=!0}r.interactable?s.node.getComponent(cc.Label).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")):s.node.getComponent(cc.Label).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite"))},t.prototype.clickBtnLevel=function(){s.default.getInstance().sound_manager.playSound(d.SoundIndex.click),this.cur_show_index=y.RabateType.Campaign,this.refreshUi()},t.prototype.clickBtnUser=function(){s.default.getInstance().sound_manager.playSound(d.SoundIndex.click),this.cur_show_index=y.RabateType.Growth,this.refreshUi()},t.prototype.clickBtnClaim=function(e,t){var a=this,n=parseInt(t);switch(s.default.getInstance().sound_manager.playSound(d.SoundIndex.click),this.cur_show_index){case y.RabateType.Campaign:var o=m.PayManager.getInstance().getPayNum("b401"),i=m.PayManager.getInstance().getPayInfo("b401");if(o>0){var c=y.RabateManager.claimOnce(y.RabateType.Campaign,n);if(c.reward_num>0){p.PropManager.getInstance().changePropNum(u.PropId.Gem,c.reward_num);var g=p.PropManager.getInstance().createPropItem(u.PropId.Gem,c.reward_num);s.default.getInstance().showGetTip(g),this.refreshUi()}}else s.default.getInstance().showBuyDialog(l.default.getInstance().getStrByTextId(920004),function(){r.default.getInstance().showPay({result:function(e){e&&(m.PayManager.getInstance().addPayNum("b401"),a.refreshUi())}},"b401")},null,2,i.price,i.currency);break;case y.RabateType.Growth:}},t.prototype.clickBtnBuy=function(){var e=this;switch(s.default.getInstance().sound_manager.playSound(d.SoundIndex.click),this.cur_show_index){case y.RabateType.Campaign:if(m.PayManager.getInstance().getPayNum("b401")>0){var t=y.RabateManager.claimAll(y.RabateType.Campaign);if(t.reward_num>0){p.PropManager.getInstance().changePropNum(u.PropId.Gem,t.reward_num);var a=p.PropManager.getInstance().createPropItem(u.PropId.Gem,t.reward_num);s.default.getInstance().showGetTip(a),this.refreshUi()}}else r.default.getInstance().showPay({result:function(t){t&&(m.PayManager.getInstance().addPayNum("b401"),e.refreshUi())}},"b401");break;case y.RabateType.Growth:}},t.prototype.clickBtnClose=function(){s.default.getInstance().sound_manager.playSound(d.SoundIndex.click),e.prototype.onClose.call(this)},i([v],t)}(_.default));a.default=M,cc._RF.pop()},{"../Ads/ApkManager":"ApkManager","../GameManager":"GameManager","../JsonData/CustomsClearanceRebate":"CustomsClearanceRebate","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../Tools/EventManager":"EventManager","../UI/UIComponent":"UIComponent","../multiLanguage/LanguageManager":"LanguageManager","../multiLanguage/TextLanguage":"TextLanguage","../thirdParty/ThirdParty":"ThirdParty","./PayManager":"PayManager","./RabateManager":"RabateManager"}],RankJsonData:[function(e,t,a){"use strict";cc._RF.push(t,"c6db62QM2NI/ZgUwHoEz1rE","RankJsonData"),Object.defineProperty(a,"__esModule",{value:!0}),a.RankJsonData=void 0,a.RankJsonData=["Afghanistan","Albania","Algeria","Andorra","Angola","Anguilla","Antigua","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bonaire","Bosniahercegovina","Botswana","Brazil","Brunei","Bulgaria","Burkinafaso","Burundi","Cambodia(Kampuchea)","Cameroon","Canada","Canary Islands","Cape Verde","Caymanislands","C\xc3\xb4te d'Ivoire","Central African Republ","Chad","Chile","China","Colombia","Comoros","Congo","Congo, The Democratic","Cook Islands","Costa Rica","Croatia","Cuba","Curacao","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","East Timor","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Falklandislands","Faroe Islands","Fiji","Finland","France","Frenchguiana","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea Republic","Guinea-Bissau","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jersey Island","Jordan","Kazakhstan","Kenya","Kiribati","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macau","Macedonia, Republic Of","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshallislands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Moldova Republic Of ","Mongolia","Montenegro","Monteserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru Republic Of","Nepal","Netherlands","Nevis","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","North Korea","Norway","Oman","Pakistan","Panama","Papua New Guinea","Paraguay","Peru ","Philippines","Poland","Portugal","Puerto Rico","Qatar","Reunion Island Of","Romania","Russian Federation","Rwanda","Saipan","Samoa","San Marino","Sano Tome&Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Soloman Islands","Somalia","Somaliland Republic Of","South Africa","South Korea","Spain","Sri Lanka","Ssamoa","St. Barthelemy","St.Eustatius","St.Kitts","St.Lucia","St.Maarten","St.Vincent","Sudan","Suriname","Swaziland","Sweden","Switzerland","Syrian","Tahiti","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad & Tobago","Tunisia","Turkey","Turks&Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States of America","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","Virgin Islands(British","Virgin Islands(U.S)","Yemen","Zambia","Zimbabwe"],cc._RF.pop()},{}],RankingList:[function(e,t,a){"use strict";cc._RF.push(t,"5a135pn3oxJOJUVlLqUR/Oa","RankingList");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e(".././NetWork/HttpManager"),s=e("../Activity/BossChallenge"),c=e("../Activity/EndlessLevels"),l=e("../copy/endlesschallenges/rankingrewarddisplay"),g=e("../GameManager"),u=e("../Hero/Data/HeroManager"),p=e("../multiLanguage/TextLanguage"),d=e("../Prop/PropManager"),h=e("../Sound/AudioConstants"),f=e("../UI/UIComponent"),_=e("../UI/UIConfig"),m=e("../UI/UIManager"),y=e("../UserData"),I=cc._decorator,v=I.ccclass,M=I.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Rankingitme=null,t.RankingSelf=null,t.content=null,t.ScrollView=null,t.ToggleContainer=null,t.Ranking_Bg_0=null,t.Ranking=[],t.max=100,t.bgsprite=[],t.namecolor=[new cc.Color(94,62,41),new cc.Color(50,75,105),new cc.Color(108,68,54)],t.tag=1,t.text=[100126,100128,100129],t.btnViewAwards=null,t.winText=null,t.myselfranking=-1,t}return o(t,e),t.prototype.initUi=function(e){for(var t=this,a=this.Ranking.length;a<this.max;a++){var n=cc.instantiate(this.Rankingitme);n.parent=this.content,this.Ranking.push(n)}var o=this.RankingSelf.getChildByName("SerialNo"),i=this.RankingSelf.getChildByName("name"),s=this.RankingSelf.getChildByName("headPortrait").getChildByName("btnAvatar");o.active=!1,this.RankingSelf.getChildByName("Notlisted").active=!0;var c=y.default.getInstance().getUserName(),l=y.default.getInstance().getUserAvatar();i.getComponent(cc.Label).string=""+c,s.getComponent(cc.Sprite).spriteFrame=d.PropManager.getInstance().getSpheadPortraitType(l),2==e?(this.tag=2,this.ToggleContainer.active=!1,this.btnViewAwards.active=!1,this.ScrollView.y=60,this.RankingSelf.y=-330,this.Ranking_Bg_0.y=60,this.winText.getComponent(p.default).setTextId(800003)):3==e?(this.tag=3,this.ToggleContainer.active=!1,this.btnViewAwards.active=!0,this.ScrollView.y=90,this.RankingSelf.y=-298,this.Ranking_Bg_0.y=90,this.winText.getComponent(p.default).setTextId(800013)):1==e&&(this.tag=1,this.ToggleContainer.children[0].getComponent(cc.Toggle).isChecked=!0,this.ToggleContainer.active=!0,this.btnViewAwards.active=!1,this.ScrollView.y=0,this.RankingSelf.y=-380,this.Ranking_Bg_0.y=0,this.winText.getComponent(p.default).setTextId(200006)),r.HttpManager.post(r.AccessName.leaderboardByUser,this.getLeaderboardByUserJsonString(this.tag),!0).then(function(e){t.Refresh(e)})},t.prototype.Refresh=function(e){this.ScrollView.getComponent(cc.ScrollView).scrollToTop(1);var t=-1;this.max=e.length;for(var a=0;a<this.Ranking.length;a++)if(a<this.max){var n=this.Ranking[a].getChildByName("CombatPower"),o=this.Ranking[a].getChildByName("SerialNo"),i=this.Ranking[a].getChildByName("name"),r=this.Ranking[a].getChildByName("headPortrait").getChildByName("btnAvatar");n.getComponent(p.default).setTextId(this.text[this.tag-1]),n.getComponent(p.default).setReplaceValue("~",e[a].value+""),o.getComponent(cc.Label).string=""+(a+1),i.getComponent(cc.Label).string=e[a].name,r.getComponent(cc.Sprite).spriteFrame=d.PropManager.getInstance().getSpheadPortraitType(e[a].avatarId),a<3?(o.active=!1,this.Ranking[a].getComponent(cc.Sprite).spriteFrame=this.bgsprite[a],i.color=this.namecolor[a]):o.active=!0,e[a].uid==y.default.getInstance().getUserID()&&(t=a+1),this.Ranking[a].active=!0}else this.Ranking[a].active=!1;var l=0;1==this.tag&&(l=u.HeroManager.getInstance().getAllHeroZhanli()),2==this.tag&&(l=c.EndlessLevelsManager.getInstance().getMaxWave()),3==this.tag&&(l=s.BossChallengeManager.getInstance().getMaxDamageNumber());var g=this.RankingSelf.getChildByName("CombatPower"),h=this.RankingSelf.getChildByName("SerialNo"),f=this.RankingSelf.getChildByName("name"),_=this.RankingSelf.getChildByName("headPortrait").getChildByName("btnAvatar");g.getComponent(p.default).setTextId(this.text[this.tag-1]),g.getComponent(p.default).setReplaceValue("~",l+""),this.myselfranking=t,-1==t?(h.active=!1,this.RankingSelf.getChildByName("Notlisted").active=!0):(h.getComponent(cc.Label).string=""+t,h.active=!0,this.RankingSelf.getChildByName("Notlisted").active=!1);var m=y.default.getInstance().getUserName(),I=y.default.getInstance().getUserAvatar();f.getComponent(cc.Label).string=""+m,_.getComponent(cc.Sprite).spriteFrame=d.PropManager.getInstance().getSpheadPortraitType(I)},t.prototype.clickBtnToggle=function(e,t){var a=this;this.tag=t,r.HttpManager.post(r.AccessName.leaderboardByUser,this.getLeaderboardByUserJsonString(this.tag),!0).then(function(e){a.Refresh(e)})},t.prototype.clickBtnClose=function(){for(var e=0;e<this.Ranking.length;e++)this.Ranking[e].active=!1;g.default.getInstance().sound_manager.playSound(h.SoundIndex.click),this.onClose()},t.prototype.getLeaderboardByUserJsonString=function(e){return y.default.getInstance().getUserID(),JSON.stringify({limit:100,type:e})},t.prototype.clickBtnRewardDisplay=function(){var e=this;m.UIManager.getInstance().showUiDialog(_.UIPath.RankingRewardDisplay,_.UILayerLevel.Three,{onCompleted:function(t){t.getComponent(l.default).init({onClose:function(){}}),t.getComponent(l.default).initUi(e.myselfranking)}})},i([M(cc.Node)],t.prototype,"Rankingitme",void 0),i([M(cc.Node)],t.prototype,"RankingSelf",void 0),i([M(cc.Node)],t.prototype,"content",void 0),i([M(cc.Node)],t.prototype,"ScrollView",void 0),i([M(cc.Node)],t.prototype,"ToggleContainer",void 0),i([M(cc.Node)],t.prototype,"Ranking_Bg_0",void 0),i([M(cc.SpriteFrame)],t.prototype,"bgsprite",void 0),i([M(cc.Node)],t.prototype,"btnViewAwards",void 0),i([M(cc.Node)],t.prototype,"winText",void 0),i([v],t)}(f.default);a.default=C,cc._RF.pop()},{".././NetWork/HttpManager":"HttpManager","../Activity/BossChallenge":"BossChallenge","../Activity/EndlessLevels":"EndlessLevels","../GameManager":"GameManager","../Hero/Data/HeroManager":"HeroManager","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../UI/UIComponent":"UIComponent","../UI/UIConfig":"UIConfig","../UI/UIManager":"UIManager","../UserData":"UserData","../copy/endlesschallenges/rankingrewarddisplay":"rankingrewarddisplay","../multiLanguage/TextLanguage":"TextLanguage"}],RayPet:[function(e,t,a){"use strict";cc._RF.push(t,"33a89gf8xVHuq7Z8lUd+LZ+","RayPet");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Game/GameEffectsManager"),s=e("../../Hero/Game/LeiShen/ChainLightning"),c=e("../../Monster/Monster"),l=e("../../Monster/MonsterManager"),g=e("../PetConfig"),u=e("./Pet"),p=cc._decorator,d=p.ccclass,h=(p.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shandian_monster=[],t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.addAttackListen(this.onAttack),this.addInitedListen(this.onPetInited)},t.prototype.onPetInited=function(){this.cd_time=0},t.prototype.onAttack=function(e){Math.random()<this.pet_data.getSkillValue1(g.PetSkillType.Active)&&(this.shandian_monster=new Array,this.createShanDian(null,e.getComponent(c.default)),this.cd_time=0)},t.prototype.createShanDian=function(e,t){this.shandian_monster.push(t.uuid),r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.pet4_skill,this.node.getPosition()).getComponent(s.default).init(r.GameEffectId.pet4_skill,e,t,this.onEndMonster.bind(this));var a=this.getGongJiData(!1,this.pet_data.getSkillValue3(g.PetSkillType.Active));t.beFlashInjured(a)},t.prototype.onEndMonster=function(e){var t=this.pet_data.getSkillValue2(g.PetSkillType.Active);if(this.shandian_monster.length<t){var a=this.getMonster(e.getCenterPos());a&&this.createShanDian(e,a)}},t.prototype.getIsTanShe=function(e){return this.shandian_monster.indexOf(e)>=0},t.prototype.getMonster=function(e){var t=l.default.getInstance();if(t.node.childrenCount<=0)return null;for(var a=new Array,n=0,o=t.node.children;n<o.length;n++){var i=o[n].getComponent(c.default);if(i&&1==i.getIsCanCheck()){var r=e.sub(i.getCenterPos()).mag();0==this.getIsTanShe(i.uuid)&&r<=500&&a.push(i)}}return a.length<=0?null:1==a.length?a[0]:(a.sort(function(t,a){return t.getCenterPos().sub(e).mag()-a.getCenterPos().sub(e).mag()}),a[0])},i([d],t)}(u.default));a.default=h,cc._RF.pop()},{"../../Game/GameEffectsManager":"GameEffectsManager","../../Hero/Game/LeiShen/ChainLightning":"ChainLightning","../../Monster/Monster":"Monster","../../Monster/MonsterManager":"MonsterManager","../PetConfig":"PetConfig","./Pet":"Pet"}],RedTip:[function(e,t,a){"use strict";cc._RF.push(t,"d86ceFBrd5KFKGsYJnTJoUj","RedTip");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Activity/ActivityManager"),s=e("../Constants"),c=e("../Equipment/EquipmentManager"),l=e("../GameData"),g=e("../GameManager"),u=e("../Hero/Data/HeroManager"),p=e("../JsonData/FunctionDefinition"),d=e("../JsonData/OfflineRevenue"),h=e("./EventManager"),f=e("../Equipment/EquipConfig"),_=e("../Payment/PayManager"),m=e("../Storage/StorageManager"),y=e("../Prop/PropManager"),I=e("../Maze/MazeManager"),v=e("../Storage/StorageConfig"),M=e("../BattlePass/BattlePassData"),C=e("../Task/TaskManager"),S=e("../Payment/DingYueManager"),P=e("../AccumulatedRecharge/CumulativeRecharges"),k=e("../Pet/PetManager"),b=cc._decorator,T=b.ccclass,B=b.property,w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.self_red_type=h.RedEventType.Btn_Main_SignIn,t.super_red_type=[h.RedEventType.Btn_Main],t.child_red_type=[h.RedEventType.Btn_Main],t.is_video_btn=!1,t.is_check_self=!1,t.show_num=0,t.is_show_red=!1,t.false_red_type=[],t.tip_num=[],t}return o(t,e),t.prototype.onLoad=function(){this.registerEvent()},t.prototype.start=function(){this.is_check_self&&this.checkSelf(!0)},t.prototype.onDestroy=function(){this.cancelEvent()},t.prototype.registerEvent=function(){h.EventManager.addRedEvent(h.RedEventString.RED_TIP,this.self_red_type,this.onChangeTip,this),h.EventManager.addRedEvent(h.RedEventString.RED_CHECK,this.self_red_type,this.onCheck,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node._touchListener&&this.node._touchListener.setSwallowTouches(!1)},t.prototype.cancelEvent=function(){h.EventManager.removeRedEvent(h.RedEventString.RED_TIP,this.self_red_type,this.onChangeTip,this),h.EventManager.removeRedEvent(h.RedEventString.RED_CHECK,this.self_red_type,this.onCheck,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},t.prototype.onTouchEnd=function(){this.is_show_red&&(this.show_num++,this.is_video_btn&&this.onChangeTip(!1,this.self_red_type))},t.prototype.changeRedType=function(e){e!=this.self_red_type&&(this.cancelEvent(),this.self_red_type=e,this.registerEvent())},t.prototype.onChangeTip=function(e,t){this.self_red_type,h.RedEventType.Btn_Main,this.is_show_red=e,t&&(this.tip_num.includes(t)||this.tip_num.push(t)),1==e?(this.addTip(),this.super_red_type.forEach(function(e){h.EventManager.postRedEvent(h.RedEventString.RED_TIP,e,!0)})):t&&t!=this.self_red_type?(this.false_red_type.includes(t)||this.false_red_type.push(t),this.false_red_type.length>=this.child_red_type.length&&this.removeTip()):this.removeTip(),this.tip_num.length>=this.child_red_type.length&&(this.false_red_type=new Array,this.tip_num=new Array)},t.prototype.onCheck=function(){this.child_red_type.length>0?(this.false_red_type=new Array,this.tip_num=new Array,this.child_red_type.forEach(function(e){h.EventManager.postRedEvent(h.RedEventString.RED_CHECK,e,!0)})):this.checkSelf(!0)},t.prototype.checkSelf=function(e,t){var a=this;void 0===t&&(t=this.self_red_type);var n=!1;switch(t){case h.RedEventType.Btn_Shop:var o=l.default.getInstance();n=o.getHeroRecruitingRedTip();break;case h.RedEventType.Btn_Task:this.child_red_type.forEach(function(e){a.checkSelf(!1,e)&&(n=!0)});break;case h.RedEventType.Btn_Task_Daily:n=C.default.getInstance().getDailyTaskIsCanGet();break;case h.RedEventType.Btn_Task_Achievenment:n=C.default.getInstance().getAchievenmentTaskIsCanGet();break;case h.RedEventType.Btn_Role:for(var i=0;i<this.child_red_type.length&&1!=(n=this.checkSelf(!1,this.child_red_type[i]));i++);break;case h.RedEventType.Btn_Role_List_1:case h.RedEventType.Btn_Role_List_2:case h.RedEventType.Btn_Role_List_3:case h.RedEventType.Btn_Role_List_4:case h.RedEventType.Btn_Role_List_5:case h.RedEventType.Btn_Role_List_6:case h.RedEventType.Btn_Role_List_7:case h.RedEventType.Btn_Role_List_8:case h.RedEventType.Btn_Role_List_9:case h.RedEventType.Btn_Role_List_10:case h.RedEventType.Btn_Role_List_11:case h.RedEventType.Btn_Role_List_12:var y=u.HeroManager.getInstance(),b=u.HeroManager.getHeroTypeByRedType(t);if(null!=y.getHeroInfo(b)){if((n=u.HeroManager.getInstance().checkUpgrade(b).is_can_up)||(n=u.HeroManager.getInstance().checkUpStar(b)),!n)for(i=1;i<f.EquipType.Num&&!(n=c.EquipmentManager.getInstance().checkWear(b,i));i++);n||(n=k.PetManager.getInstance().checkRedTip(b)),n||(n=u.HeroManager.getInstance().checkExUp(b))}else n=u.HeroManager.getInstance().checkUnlock(b);break;case h.RedEventType.Btn_Role_Info_UpgradeAll:y=u.HeroManager.getInstance();var T=u.HeroManager.getInstance().getHeroList();for(i=0;i<T.length;i++);break;case h.RedEventType.Btn_Role_Equip_WearAll:var B=c.EquipmentManager.getInstance();for(T=u.HeroManager.getInstance().getHeroList(),i=0;i<T.length;i++)if(u.HeroManager.getInstance().getHeroLevel(T[i].hero_type)>0&&B.checkQuickWear(T[i].hero_type,!1)){n=!0;break}break;case h.RedEventType.Btn_Main:this.child_red_type.forEach(function(e){a.checkSelf(!1,e)&&(n=!0)});break;case h.RedEventType.Btn_Main_Spin:if(!p.FunctionDefinitionManager.getInstance().getIsUnlock(s.FuncType.ZhuanPan)){n=!1;break}n=1==m.TheStorageManager.getInstance().getNumber(v.StorageKey.TurmtableFreeYes,0);break;case h.RedEventType.Btn_Main_Task:if(!p.FunctionDefinitionManager.getInstance().getIsUnlock(s.FuncType.MeiRiRenWu)){n=!1;break}break;case h.RedEventType.Btn_Main_Rank:if(!p.FunctionDefinitionManager.getInstance().getIsUnlock(s.FuncType.PaiHangBang)){n=!1;break}break;case h.RedEventType.Btn_Main_SignIn:case h.RedEventType.Btn_Main_SignIn_BtnGet:if(!p.FunctionDefinitionManager.getInstance().getIsUnlock(s.FuncType.QianDao)){n=!1;break}n=l.default.getInstance().getIsSignToday();break;case h.RedEventType.Btn_Main_Guaji:(n=this.checkSelf(!1,h.RedEventType.Btn_Main_Guaji_Btn_GuaJi))||(n=this.checkSelf(!1,h.RedEventType.Btn_Main_Guaji_Btn_Fast));break;case h.RedEventType.Btn_Main_Guaji_Btn_Fast:case h.RedEventType.Btn_Main_Guaji_Btn_Fast_Ad:n=d.OfflineRevenueManager.getInstance().isCanAdFastGuaJi();break;case h.RedEventType.Btn_Main_Guaji_Btn_GuaJi:n=d.OfflineRevenueManager.getInstance().isCanGuaJiRedTip();break;case h.RedEventType.Btn_Map_Team_0:case h.RedEventType.Btn_Map_Team_1:case h.RedEventType.Btn_Map_Team_2:case h.RedEventType.Btn_Map_Team_3:case h.RedEventType.Btn_Map_Team_4:if(g.default.getInstance().cur_game_mode!=s.GameMode.Main){n=!1;break}var w=u.HeroManager.getInstance().getTeamList(s.GameMode.Main),N=0;for(i=0;i<w.length;i++)w[i]>0&&N++;var L=0;for(T=u.HeroManager.getInstance().getHeroList(),i=0;i<T.length;i++)u.HeroManager.getInstance().getHeroLevel(T[i].hero_type)>0&&L++;N<w.length&&N<L?(b=w[t-h.RedEventType.Btn_Map_Team_0])<=0&&(n=!0):n=!1;break;case h.RedEventType.Btn_Main_Vip:if(!p.FunctionDefinitionManager.getInstance().getIsUnlock(s.FuncType.VIP)){n=!1;break}var D=m.TheStorageManager.getInstance().getNumber(v.StorageKey.VipIdentity,0);if(0==D&&_.PayManager.getInstance().getFuncTodayShow(s.FuncType.VIP)<=0){n=!0;break}for(var E=m.TheStorageManager.getInstance().getNumber(v.StorageKey.AllActivityNum,0),R=0;R<15;R++){var G=R+1;if(M.BattlePassDataManager.getInstance().getRequiredExp(G)<=E){var x=m.TheStorageManager.getInstance().getNumber(v.StorageKey.VipFreeRewardStatus+G,0),A=m.TheStorageManager.getInstance().getNumber(v.StorageKey.VipAdvancedRewardStatus+G,0);if(0==x){n=!0;break}if(0==A&&1==D){n=!0;break}}}break;case h.RedEventType.Btn_Main_ShouChong:if(!p.FunctionDefinitionManager.getInstance().getIsUnlock(s.FuncType.FirstCharge)||_.PayManager.getInstance().getPayNum("c301")>0){n=!1;break}n=_.PayManager.getInstance().getFuncTodayShow(s.FuncType.FirstCharge)<=0;break;case h.RedEventType.Btn_Main_WeekCard:if(!p.FunctionDefinitionManager.getInstance().getIsUnlock(s.FuncType.WeekCard)){n=!1;break}n=_.PayManager.getInstance().getFuncTodayShow(s.FuncType.WeekCard)<=0||S.DingYueManager.getInstance().getWeekInfo()&&S.DingYueManager.getInstance().getWeekInfo().is_buy&&m.TheStorageManager.getInstance().getInt(v.StorageKey.WeekCardIsReceiveToday,0)<=0;break;case h.RedEventType.Btn_Main_LeiChong:if(!p.FunctionDefinitionManager.getInstance().getIsUnlock(s.FuncType.AccumulatedRecharge)){n=!1;break}if(!(n=_.PayManager.getInstance().getFuncTodayShow(s.FuncType.AccumulatedRecharge)<=0)){var O=!1;P.CumulativeRechargesManager.getInstance().rewardMap.forEach(function(e){0==O&&1==e&&(O=!0)}),n=O}break;case h.RedEventType.Btn_Activity:n=p.FunctionDefinitionManager.getInstance().getIsUnlock(s.FuncType.WuJinTiaoZhan)&&m.TheStorageManager.getInstance().getInt(v.StorageKey.UnlimitedChallengeTimes,0)>0||p.FunctionDefinitionManager.getInstance().getIsUnlock(s.FuncType.GeRenBoss)&&m.TheStorageManager.getInstance().getInt(v.StorageKey.BossChallengeTimes,0)>0;break;case h.RedEventType.Btn_Activity_Endless:if(!p.FunctionDefinitionManager.getInstance().getIsUnlock(s.FuncType.WuJinTiaoZhan)){n=!1;break}n=r.ActivityManager.getInstance().getTicket(r.ActivityType.Endless)>0;break;case h.RedEventType.Btn_Activity_Boss:if(!p.FunctionDefinitionManager.getInstance().getIsUnlock(s.FuncType.GeRenBoss)){n=!1;break}n=r.ActivityManager.getInstance().getTicket(r.ActivityType.Boss)>0;break;case h.RedEventType.Btn_Activity_Maze:if(!p.FunctionDefinitionManager.getInstance().getIsUnlock(s.FuncType.MiGong)){n=!1;break}n=I.MazeManager.getInstance().checkDate()}return e&&h.EventManager.postRedEvent(h.RedEventString.RED_TIP,this.self_red_type,n),n},t.prototype.addTip=function(){var e=this.node.getChildByName("tanhao");e||((e=new cc.Node("tanhao")).addComponent(cc.Sprite).spriteFrame=y.PropManager.getInstance().getSpByName("Common_Icon_RedDot"),this.node.addChild(e),e.x=this.node.width/2,e.y=this.node.height/2,e.opacity=0,this.node.scale<1&&(e.scale=1/this.node.scale),cc.tween(e).to(.2,{opacity:255}).start())},t.prototype.removeTip=function(){var e=this;this.super_red_type.forEach(function(t){h.EventManager.postRedEvent(h.RedEventString.RED_TIP,t,!1,e.self_red_type)});var t=this.node.getChildByName("tanhao");t&&t.removeFromParent(),this.false_red_type=new Array},i([B({type:cc.Enum(h.RedEventType),tooltip:"\u5f53\u524d\u6309\u94ae\u81ea\u5df1\u7684\u7ea2\u70b9\u7c7b\u578b"})],t.prototype,"self_red_type",void 0),i([B({type:[cc.Enum(h.RedEventType)],tooltip:"\u5f53\u524d\u6309\u94ae\u6240\u6709\u4e0a\u7ea7\u7684\u7ea2\u70b9\u7c7b\u578b,\u9759\u6001\u8282\u70b9\u6302\u8f7d\u6709redtip\u7684"})],t.prototype,"super_red_type",void 0),i([B({type:[cc.Enum(h.RedEventType)],tooltip:"\u5f53\u524d\u6309\u94ae\u6240\u6709\u4e0b\u7ea7\u7684\u7ea2\u70b9\u7c7b\u578b,\u9759\u6001\u8282\u70b9\u6302\u8f7d\u6709redtip\u7684"})],t.prototype,"child_red_type",void 0),i([B()],t.prototype,"is_video_btn",void 0),i([B()],t.prototype,"is_check_self",void 0),i([T],t)}(cc.Component);a.default=w,cc._RF.pop()},{"../AccumulatedRecharge/CumulativeRecharges":"CumulativeRecharges","../Activity/ActivityManager":"ActivityManager","../BattlePass/BattlePassData":"BattlePassData","../Constants":"Constants","../Equipment/EquipConfig":"EquipConfig","../Equipment/EquipmentManager":"EquipmentManager","../GameData":"GameData","../GameManager":"GameManager","../Hero/Data/HeroManager":"HeroManager","../JsonData/FunctionDefinition":"FunctionDefinition","../JsonData/OfflineRevenue":"OfflineRevenue","../Maze/MazeManager":"MazeManager","../Payment/DingYueManager":"DingYueManager","../Payment/PayManager":"PayManager","../Pet/PetManager":"PetManager","../Prop/PropManager":"PropManager","../Storage/StorageConfig":"StorageConfig","../Storage/StorageManager":"StorageManager","../Task/TaskManager":"TaskManager","./EventManager":"EventManager"}],RenZhe:[function(e,t,a){"use strict";cc._RF.push(t,"26489rHNaxMH6HhqtxTTS+e","RenZhe");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Constants"),s=e("../../../Game/FightingManager"),c=e("../../../Game/SkillManager"),l=e("../../../GameManager"),g=e("../../../Monster/Monster"),u=e("../../../Monster/MonsterData"),p=e("../../../Monster/MonsterManager"),d=e("../../../Sound/AudioConstants"),h=e("../../../Wall/WallManager"),f=e("../Hero"),_=e("../HeroConfig"),m=e("./ActiveDart"),y=e("./Dart"),I=e("./EllipseMove"),v=e("./FeiBiao"),M=cc._decorator,C=M.ccclass,S=(M.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cur_feibiao=[],t.no_paopao_num=0,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.addSkillListen(this.useSkill),this.addAttackListen(this.normalAttack),this.addXuanYunListen(this.onXuanYunResult),this.addHitListen(this.onHitMonster),this.addResetListen(this.onResetState)},t.prototype.onResetState=function(){this.cur_feibiao.length},t.prototype.onXuanYunResult=function(e){e?this.unscheduleAllCallbacks():this.setHeroState(_.Hero_State.idle,_.GongJi_FangXiang.zhong)},t.prototype.onHitMonster=function(e,t){if(t&&e==_.DamageType.Normal&&!p.default.getInstance().checkWallMonster(300)){var a=this.hero_data.getSkillValue2(_.SkillType.Passive_2);a&&Math.random()<a&&h.default.getInstance().getMainWall().addImmunityShield(_.ShieldId.RenZhe_Skill2,_.ShieldType.Skill,5,5)}},t.prototype.normalAttack=function(e){l.default.getInstance().cur_game_state==r.GameState.Game_Playing&&(this.is_can_gongji=!1,this.startAttack(e))},t.prototype.startAttack=function(t){var a=this,n=t.getComponent(g.default).getSheShouPos(),o=this.getFangXiangByPos(n),i=new u.KeyFrameData;i.name="Attack",i.callback=function(){var o=a.getCreateBulletPos(),i=n.sub(o),r=(Math.atan2(i.y,i.x),e.prototype.getGongJiData.call(a,_.DamageType.Normal,!0,_.SkillType.Null));if(p.default.getInstance().checkWallMonster(300)||(r.hero_data.Hit+=r.hero_data.getSkillValue1(_.SkillType.Passive_2)),a.cur_feibiao.length>0){a.cur_feibiao.pop();for(var s=a.cur_feibiao.length,c=s>0?360/s:0,l=0;l<s;l++)a.cur_feibiao[l].getComponent(I.default).refreshAngle(l*c)}else{var g=a.hero_data.getSkillValue1(_.SkillType.Passive_1);a.hero_data.ExclusiveWeaponSkillValue_1>0&&a.no_paopao_num>=a.hero_data.ExclusiveWeaponSkillValue_1&&(g=1),g&&Math.random()<g?(a.createFeiBiao(0,o,a.bullet_speed,t,r),a.no_paopao_num=0):a.no_paopao_num++}},e.prototype.setHeroState.call(this,_.Hero_State.attack,o,[i],function(){a.setHeroState(_.Hero_State.idle,a.cur_fangxiang)})},t.prototype.createDart=function(e,t,a,n,o){s.default.getInstance().createGameEffectById(e,t).getComponent(y.default).init(e,a,n,o),l.default.getInstance().sound_manager.playSound(d.SoundIndex.YX_RenzheAttack)},t.prototype.createActiveDart=function(e,t,a,n,o){s.default.getInstance().createGameEffectById(e,t).getComponent(m.default).init(e,a,n,o)},t.prototype.createFeiBiao=function(e,t,a,n,o){s.default.getInstance().createGameEffectById(e,t).getComponent(v.default).init(e,o,a,n,5),l.default.getInstance().sound_manager.playSound(d.SoundIndex.YX_RenzheAttack)},t.prototype.useSkill=function(){var e=this;return c.default.getInstance().releaseSkill(function(){e.startSelfXuLi()},this.node),0},t.prototype.startSelfXuLi=function(){},t.prototype.startLaunch=function(){},i([C],t)}(f.default));a.default=S,cc._RF.pop()},{"../../../Constants":"Constants","../../../Game/FightingManager":"FightingManager","../../../Game/SkillManager":"SkillManager","../../../GameManager":"GameManager","../../../Monster/Monster":"Monster","../../../Monster/MonsterData":"MonsterData","../../../Monster/MonsterManager":"MonsterManager","../../../Sound/AudioConstants":"AudioConstants","../../../Wall/WallManager":"WallManager","../Hero":"Hero","../HeroConfig":"HeroConfig","./ActiveDart":"ActiveDart","./Dart":"Dart","./EllipseMove":"EllipseMove","./FeiBiao":"FeiBiao"}],RewardSSUi:[function(e,t,a){"use strict";cc._RF.push(t,"72db3uva4xAFqg3rC7emOB+","RewardSSUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Constants"),s=e("../GameManager"),c=e("../Hero/Data/HeroManager"),l=e("../Hero/Game/HeroConfig"),g=e("../Level/MissionLevel"),u=e("../multiLanguage/FollowConstants"),p=e("../multiLanguage/FollowManager"),d=e("../multiLanguage/TextLanguage"),h=e("../Multilingual/ImagerLanguage"),f=e("../Prop/PropManager"),_=e("../Sound/AudioConstants"),m=e("../Store/StoreHeroShowUi"),y=e("../UI/UIComponent"),I=e("../UI/UIConfig"),v=e("../UI/UIManager"),M=e("./TutorailsManager"),C=cc._decorator,S=C.ccclass,P=(C.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cur_mode=0,t.select_node=null,t.cur_select_index=-1,t.ss_id=[l.Hero_Type.LeiShen,l.Hero_Type.ANuBiSi,l.Hero_Type.MeiMo],t}return o(t,e),t.prototype.initData=function(e){this.cur_mode=e;var t=this.node.getChildByName("btnOk").getChildByName("TextLanguage").getComponent(d.default),a=this.node.getChildByName("titleImg").getComponent(h.default),n=this.node.getChildByName("tipText").getComponent(d.default);switch(this.cur_mode){case 0:t.setTextId(310004),a.setTextId(15),n.setTextId(310005);break;case 1:t.setTextId(100001),a.setTextId(16),n.setTextId(310003)}},t.prototype.start=function(){this.select_node=this.node.getChildByName("select"),this.select_node.active=!1,this.refreshUi()},t.prototype.refreshUi=function(){switch(this.cur_mode){case 0:this.select_node.active=!1;for(var e=0;e<3;e++)(t=this.node.getChildByName("card"+(e+1))).scale=.84;break;case 1:for(this.node.getChildByName("btnOk").active=this.cur_select_index>=0,e=0;e<3;e++){var t=this.node.getChildByName("card"+(e+1));this.cur_select_index==e?(t.scale=1,this.select_node.active=!0,this.select_node.setPosition(t.getPosition())):t.scale=.84}}},t.prototype.onBtnCardClick=function(e,t){var a=parseInt(t);switch(this.cur_mode){case 0:this.showHero(this.ss_id[a]);break;case 1:this.cur_select_index!=a&&(this.cur_select_index=a,this.refreshUi())}},t.prototype.onBtnOkClick=function(){switch(this.cur_mode){case 0:M.default.getInstance().saveTutorials(204),p.default.getInstance().followEvent(u.Follow_Type.\u65b0\u624b\u5f15\u5bfc+204),s.default.getInstance().fighting_info=g.MissionLevelManager.getInstance().getFightingInfo(1),s.default.getInstance().sound_manager.playSound(_.SoundIndex.click),cc.director.loadScene(r.GameScene.game);break;case 1:if(this.cur_select_index>=0){var e=this.ss_id[this.cur_select_index];if(f.PropManager.getInstance().changePropNum(e+11e4,1),s.default.getInstance().cur_game_scene==r.GameScene.game)for(var t=c.HeroManager.getInstance().getTeamList(r.GameMode.Main),a=0;a<t.length;a++)if(t[a]<l.Hero_Type.NULL&&-1==t.indexOf(e)){t[a]=e,c.HeroManager.getInstance().saveTeamList(r.GameMode.Main,t),c.HeroManager.getInstance().loadHeroData(e),s.default.getInstance().loadGameHeroData(),s.default.getInstance().game.loadHero(e,a);break}c.HeroManager.getInstance().reportHeroList(),M.default.getInstance().saveTutorials(205),p.default.getInstance().followEvent(u.Follow_Type.\u65b0\u624b\u5f15\u5bfc+205),this.onClose()}}},t.prototype.showHero=function(e){v.UIManager.getInstance().showUiDialog(I.UIPath.StoreHeroShowUi,I.UILayerLevel.Three,{onCompleted:function(t){t.getComponent(m.default).init({onClose:function(){}}),t.getComponent(m.default).initData(e,!1)}})},i([S],t)}(y.default));a.default=P,cc._RF.pop()},{"../Constants":"Constants","../GameManager":"GameManager","../Hero/Data/HeroManager":"HeroManager","../Hero/Game/HeroConfig":"HeroConfig","../Level/MissionLevel":"MissionLevel","../Multilingual/ImagerLanguage":"ImagerLanguage","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../Store/StoreHeroShowUi":"StoreHeroShowUi","../UI/UIComponent":"UIComponent","../UI/UIConfig":"UIConfig","../UI/UIManager":"UIManager","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/TextLanguage":"TextLanguage","./TutorailsManager":"TutorailsManager"}],Rock:[function(e,t,a){"use strict";cc._RF.push(t,"44ed5HShSpDIqmHbb+rBL/N","Rock");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r,s,c,l=e("../Enemy/EnemyConfig"),g=e("../Game/GameEffectsManager"),u=e("../GameManager"),p=e("../Constants"),d=e("../Monster/MonsterManager"),h=e("../Sound/AudioConstants"),f=e("../Monster/MonsterData"),_=e("../UI/home/FixedPos"),m=e("../Game/FightingManager"),y=e("../Game/GroundManager"),I=e("./Boss"),v=e("../Hero/Game/Hero"),M=e("../Hero/Game/HeroConfig"),C=e("../Hero/Game/BuffData");(function(e){e.Idle="idle",e.attack1="attack1",e.run="run",e.hurt1="hurt1",e.skill1="skill1",e.skill2="skill2",e.skill3="skill3",e.dead="dead"})(r||(r={})),function(e){e[e.start=0]="start",e[e.sprinting=1]="sprinting",e[e.end=2]="end"}(s||(s={})),function(e){e[e.blue=0]="blue",e[e.red=1]="red",e[e.all=2]="all"}(c||(c={}));var S=cc._decorator,P=S.ccclass,k=(S.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prev_pos=null,t.red_range=null,t.blue_range=null,t.move_range=null,t.acceleration=20,t.cur_sprint_speed=10,t.sprint_state=s.start,t.att_jishu=0,t.skill_jishu=0,t.skill_move_effect=null,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),g.GameEffectsManager.getInstance().addEffectPoolById(g.GameEffectId.boss2_att_end,2),g.GameEffectsManager.getInstance().addEffectPoolById(g.GameEffectId.boss2_skill_end,2),g.GameEffectsManager.getInstance().addEffectPoolById(g.GameEffectId.boss2_skill_move,2),g.GameEffectsManager.getInstance().addEffectPoolById(g.GameEffectId.xuanyun,2),this.addDeathCallback(this.onDeath),this.addXuanYunListen(this.onXuanYunResult),this.addBossInitedListen(this.onBossInited),this.initMovingRange(),this.cur_sprint_speed=this.cur_move_speed},t.prototype.initMovingRange=function(){var e=u.default.getInstance().getFightCenter();this.red_range=cc.rect(e.x-256,e.y,512,320),this.blue_range=cc.rect(e.x-256,e.y-160,512,160),this.move_range=cc.rect(this.blue_range.x,this.blue_range.y,512,480)},t.prototype.onBossInited=function(){this.startIdle()},t.prototype.setTargetPos=function(e,t){this.move_target_pos=e,this.move_end_callback=t},t.prototype.startIdle=function(){e.prototype.setEnemyState.call(this,l.Enemy_State.standby),e.prototype.playSpinAnimaton.call(this,r.Idle,!0),this.scheduleOnce(this.startMove,1)},t.prototype.onXuanYunResult=function(t){t?this.startXuanYun():e.prototype.getIsDie.call(this)||this.startIdle()},t.prototype.startXuanYun=function(){var t=this;e.prototype.playSpinAnimaton.call(this,r.hurt1,!1,null,function(){e.prototype.isHaveDeBuffType.call(t,M.BuffType.Vertigo)&&!e.prototype.getIsDie.call(t)&&(t.spine.paused=!0)})},t.prototype.startMove=function(t,a){var n=this;e.prototype.setEnemyState.call(this,l.Enemy_State.move),e.prototype.playSpinAnimaton.call(this,r.run,!0),a=a||this.getRandomPos(c.all),this.prev_pos=this.node.getPosition(),this.setTargetPos(a,function(){n.node.x<-128&&(n.node.scaleX=n.setup_scale),n.node.x>128&&(n.node.scaleX=-n.setup_scale),n.node.getPosition().sub(n.prev_pos).mag()>=200?n.startIdle():n.startMove(0,n.getRandomPos(c.all))}),this.skill_move_effect&&(g.GameEffectsManager.getInstance().destroyGameEffectById(g.GameEffectId.boss2_skill_move,this.skill_move_effect),this.skill_move_effect=null)},t.prototype.startAttack=function(){var t=this;if(this.getEnemyState()!=l.Enemy_State.skill)if(this.move_range.contains(this.node.getPosition())){this.att_jishu=0,this.unschedule(this.startMove),e.prototype.setEnemyState.call(this,l.Enemy_State.att);var a=new f.KeyFrameData;a.name="attack1_Start",a.callback=function(){t.startLaunch()},e.prototype.playSpinAnimaton.call(this,r.attack1,!1,a,function(){t.startIdle()})}else this.startMove(0,this.getRandomPos(c.all))},t.prototype.startSkill=function(){var t=this;this.red_range.contains(this.node.getPosition())?(this.skill_jishu=0,this.cur_toughness=1,this.unschedule(this.startMove),this.skill_jishu=0,e.prototype.setEnemyState.call(this,l.Enemy_State.skill),this.cur_sprint_speed=this.cur_move_speed,this.sprint_state=s.start,e.prototype.playSpinAnimaton.call(this,r.skill1,!1,null,function(){e.prototype.playSpinAnimaton.call(t,r.skill2,!0,null,null),t.releaseSkill()})):this.startMove(0,this.getRandomPos(c.red))},t.prototype.releaseSkill=function(){this.sprint_state=s.sprinting,this.skill_move_effect=y.default.getInstance().createGameEffectById(g.GameEffectId.boss2_skill_move,this.node.getPosition().add(cc.v2(10,150))),this.skill_move_effect.getComponent(_.default).init(this.node,cc.v2(10,150))},t.prototype.getRandomPos=function(e){var t=cc.v2(0,0),a=this.move_range;switch(e){case c.blue:a=this.blue_range;break;case c.red:a=this.red_range;break;case c.all:a=this.move_range}return t.x=a.x+Math.random()*a.width,t.y=a.y+Math.random()*a.height,t},t.prototype.startLaunch=function(){g.GameEffectsManager.getInstance().createGameEffectById(g.GameEffectId.boss2_att_end,cc.v2(512*Math.random()-256,u.default.getInstance().enemy_att_y)),e.prototype.injureWall.call(this,this.cur_att,M.DamageType.Normal)},t.prototype.onDeath=function(){var t=this;this.skill_move_effect&&(g.GameEffectsManager.getInstance().destroyGameEffectById(g.GameEffectId.boss2_skill_move,this.skill_move_effect),this.skill_move_effect=null),e.prototype.playDeadAnimaton.call(this,r.dead,function(){d.default.getInstance().destroyMonster(t.node,t.monster_type)}),this.unscheduleAllCallbacks(),u.default.getInstance().sound_manager.playSound(h.SoundIndex.rewardBox2)},t.prototype.onSprintEnd=function(){var t=this;this.skill_move_effect&&(g.GameEffectsManager.getInstance().destroyGameEffectById(g.GameEffectId.boss2_skill_move,this.skill_move_effect),this.skill_move_effect=null),e.prototype.playSpinAnimaton.call(this,r.skill3,!0,null,function(){t.startMove(0,t.getRandomPos(c.blue)),t.cur_toughness=0}),cc.tween(this.node).then(cc.jumpBy(20/60,0,80,64,1)).start(),e.prototype.injureWall.call(this,this.cur_att,M.DamageType.Skill),m.default.getInstance().createGameEffectById(g.GameEffectId.boss2_skill_end,this.node.getPosition().add(cc.v2(10,32)));var a=cc.find("Canvas/Hero_Root"),n=new C.BuffData;n.buff_type=M.BuffType.Vertigo,n.buff_id=M.BuffId.Monster_XuanYun,n.remain_time=2;for(var o=0;o<a.childrenCount;o++){var i=a.children[o].getComponent(v.default);i&&i.addDeBuff(n)}},t.prototype.update=function(t){if(u.default.getInstance().cur_game_state==p.GameState.Game_Playing&&!this.getIsDie())if(e.prototype.update.call(this,t),this.att_jishu+=t,this.skill_jishu+=t,this.att_jishu>=this.att_jiange&&this.move_range.contains(this.node.getPosition())&&this.startAttack(),this.skill_jishu>=10&&this.red_range.contains(this.node.getPosition())&&this.startSkill(),this.getEnemyState()==l.Enemy_State.move)this.checkMove(t);else if(this.getEnemyState()==l.Enemy_State.skill)switch(this.sprint_state){case s.sprinting:this.sprinting(t);break;case s.end:}},t.prototype.checkMove=function(t){if(!e.prototype.isHaveDeBuffType.call(this,M.BuffType.Vertigo)){var a=this.cur_move_speed*t;if(this.move_target_pos){var n=this.move_target_pos.sub(this.node.getPosition());if(this.node.scaleX=n.x>0?this.setup_scale:-this.setup_scale,n.mag()<a)this.move_end_callback&&(this.move_end_callback(),this.move_end_callback=null);else{var o=2*Math.PI;this.move_direction=(Math.atan2(n.y,n.x)+o)%o,this.moving(t)}}}},t.prototype.moving=function(e){var t=this.node.x,a=this.node.y,n=this.cur_move_speed*e;t+=n*Math.cos(this.move_direction),a+=n*Math.sin(this.move_direction),this.node.x=t,this.node.y=a,this.node.x>320&&(this.node.x=320),this.node.x<-320&&(this.node.x=-320),this.node.y<this.wall_yy&&(this.node.y=this.wall_yy)},t.prototype.sprinting=function(e){var t=this.node.x,a=this.node.y;this.cur_sprint_speed+=this.acceleration;var n=this.cur_sprint_speed*e;this.move_direction=3*Math.PI/2,a+=n*Math.sin(this.move_direction),this.node.x=t,this.node.y=a,this.node.x>320&&(this.node.x=320),this.node.x<-320&&(this.node.x=-320),this.node.y<this.wall_yy-100&&(this.node.y=this.wall_yy-100,this.sprint_state=s.end,this.onSprintEnd())},i([P],t)}(I.default));a.default=k,cc._RF.pop()},{"../Constants":"Constants","../Enemy/EnemyConfig":"EnemyConfig","../Game/FightingManager":"FightingManager","../Game/GameEffectsManager":"GameEffectsManager","../Game/GroundManager":"GroundManager","../GameManager":"GameManager","../Hero/Game/BuffData":"BuffData","../Hero/Game/Hero":"Hero","../Hero/Game/HeroConfig":"HeroConfig","../Monster/MonsterData":"MonsterData","../Monster/MonsterManager":"MonsterManager","../Sound/AudioConstants":"AudioConstants","../UI/home/FixedPos":"FixedPos","./Boss":"Boss"}],RogueBuff:[function(e,t,a){"use strict";cc._RF.push(t,"bf497XVUbRLfI+3HvYqelbV","RogueBuff"),Object.defineProperty(a,"__esModule",{value:!0}),a.RogueBuffManager=a.JsonRogueBuff=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.RogueBuff_ID=0,this.RogueBuff_Quality=0,this.RogueBuff_Name=0,this.RogueBuffText_ID=0,this.RogueBuff_Type=0,this.RogueBuff1_Value=0,this.RogueBuff2_Value=0,this.RogueBuff3_Value=0};a.JsonRogueBuff=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("RogueBuff",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonRogueBuff\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.RogueBuff_ID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonRogueBuff=function(e){return this.data.get(e)},e.prototype.getRogueBuff_Quality=function(e){return this.data.get(e).RogueBuff_Quality},e.prototype.getRogueBuff_Name=function(e){return this.data.get(e).RogueBuff_Name},e.prototype.getRogueBuffText_ID=function(e){return this.data.get(e).RogueBuffText_ID},e.prototype.getRogueBuff_Type=function(e){return this.data.get(e).RogueBuff_Type},e.prototype.getRogueBuff1_Value=function(e){return this.data.get(e).RogueBuff1_Value},e.prototype.getRogueBuff2_Value=function(e){return this.data.get(e).RogueBuff2_Value},e.prototype.getRogueBuff3_Value=function(e){return this.data.get(e).RogueBuff3_Value},e.getMaxRogueBuff_ID=function(){return 9003},e.prototype.getBuffArr=function(e){var t=[[],[],[]];return this.data.forEach(function(a){-1==e.indexOf(a.RogueBuff_ID)&&t[a.RogueBuff_Quality-1].push(a.RogueBuff_ID)}),t},e.prototype.getBuffIdList=function(){var e=[];return this.data.forEach(function(t){e.push(t.RogueBuff_ID)}),e},e.prototype.getData=function(){return this.data},e._instance=null,e}();a.RogueBuffManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],RogueConfiguration:[function(e,t,a){"use strict";cc._RF.push(t,"10689yRIAZKgKeg2q9W+bWc","RogueConfiguration"),Object.defineProperty(a,"__esModule",{value:!0}),a.RogueConfigurationManager=a.JsonRogueConfiguration=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.MainlineLevel=0,this.FirstfightHexagon=0};a.JsonRogueConfiguration=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("RogueConfiguration",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonRogueConfiguration\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.MainlineLevel,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonRogueConfiguration=function(e){return this.data.get(e)},e.prototype.getFirstfightHexagon=function(e){return this.data.get(e).FirstfightHexagon},e.getMaxMainlineLevel=function(){return 100},e._instance=null,e}();a.RogueConfigurationManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],RogueGiftInformation:[function(e,t,a){"use strict";cc._RF.push(t,"dbc16YMQRlNZ7Sny29YbulM","RogueGiftInformation"),Object.defineProperty(a,"__esModule",{value:!0}),a.RogueGiftInformationManager=a.JsonRogueGiftInformation=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.ChapterLevel=0,this.PropID_1=0,this.PropID_2=0,this.PropID_3=0};a.JsonRogueGiftInformation=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("RogueGiftInformation",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonRogueGiftInformation\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.ChapterLevel,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonRogueGiftInformation=function(e){return this.data.get(e)},e.prototype.getPropID_1=function(e){return this.data.get(e).PropID_1},e.prototype.getPropID_2=function(e){return this.data.get(e).PropID_2},e.prototype.getPropID_3=function(e){return this.data.get(e).PropID_3},e.getMaxChapterLevel=function(){return 8},e._instance=null,e}();a.RogueGiftInformationManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],RogueHexagonTypes:[function(e,t,a){"use strict";cc._RF.push(t,"a5b65rOZx9PZJO4J9ZqCyY0","RogueHexagonTypes"),Object.defineProperty(a,"__esModule",{value:!0}),a.RogueHexagonTypesManager=a.JsonRogueHexagonTypes=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.Hexagon_ID=0,this.Layers=0,this.Rows=0,this.Position=0,this.HexagonType=0,this.RogueProp1_ID=0,this.RogueProp1_Sum=0,this.RogueProp2_ID=0,this.RogueProp2_Sum=0};a.JsonRogueHexagonTypes=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("RogueHexagonTypes",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonRogueHexagonTypes\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.Hexagon_ID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonRogueHexagonTypes=function(e){return this.data.get(e)},e.prototype.getLayers=function(e){return this.data.get(e).Layers},e.prototype.getRows=function(e){return this.data.get(e).Rows},e.prototype.getPosition=function(e){return this.data.get(e).Position},e.prototype.getHexagonType=function(e){return this.data.get(e).HexagonType},e.prototype.getRogueProp1_ID=function(e){return this.data.get(e).RogueProp1_ID},e.prototype.getRogueProp1_Sum=function(e){return this.data.get(e).RogueProp1_Sum},e.prototype.getRogueProp2_ID=function(e){return this.data.get(e).RogueProp2_ID},e.prototype.getRogueProp2_Sum=function(e){return this.data.get(e).RogueProp2_Sum},e.getMaxHexagon_ID=function(){return 80092},e.getId=function(e,t,a){return 1e4*e+10*t+a},e.prototype.getData=function(){return this.data},e.prototype.getAllLayerId=function(e){var t=[];return this.data.forEach(function(a){a.Layers==e&&t.push(a.Hexagon_ID)}),t},e._instance=null,e}();a.RogueHexagonTypesManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],RogueLevel:[function(e,t,a){"use strict";cc._RF.push(t,"818adHLZe9AWIbcD/1WUABK","RogueLevel"),Object.defineProperty(a,"__esModule",{value:!0}),a.RogueLevelManager=a.JsonRogueLevel=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.Level=0,this.MonsterGroupConfigure=[],this.MaxWave=0,this.MonsterTideWave=[],this.TimeInterval=[],this.MonsterLevel=[],this.HpCoefficient=[]};a.JsonRogueLevel=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("RogueLevel",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonRogueLevel\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.Level,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonRogueLevel=function(e){return this.data.get(e)},e.prototype.getMonsterGroupConfigure=function(e){return this.data.get(e).MonsterGroupConfigure},e.prototype.getMaxWave=function(e){return this.data.get(e).MaxWave},e.prototype.getMonsterTideWave=function(e){return this.data.get(e).MonsterTideWave},e.prototype.getTimeInterval=function(e){return this.data.get(e).TimeInterval},e.prototype.getMonsterLevel=function(e){return this.data.get(e).MonsterLevel},e.prototype.getHpCoefficient=function(e){return this.data.get(e).HpCoefficient},e.getMaxLevel=function(){return 80092},e._instance=null,e}();a.RogueLevelManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],RoguePetsLease:[function(e,t,a){"use strict";cc._RF.push(t,"8053d2YNzNAeIUCVbhwcByU","RoguePetsLease"),Object.defineProperty(a,"__esModule",{value:!0}),a.RoguePetsLeaseManager=a.JsonRoguePetsLease=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.Chapter=0,this.PetsLeaseID=[],this.PetsWeight=[],this.PetsQuality=[]};a.JsonRoguePetsLease=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("RoguePetsLease",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonRoguePetsLease\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.Chapter,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonRoguePetsLease=function(e){return this.data.get(e)},e.prototype.getPetsLeaseID=function(e){return this.data.get(e).PetsLeaseID},e.prototype.getPetsWeight=function(e){return this.data.get(e).PetsWeight},e.prototype.getPetsQuality=function(e){return this.data.get(e).PetsQuality},e.getMaxChapter=function(){return 10},e._instance=null,e}();a.RoguePetsLeaseManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],RogueReward:[function(e,t,a){"use strict";cc._RF.push(t,"d8e69deS61BY6W5AraQ4oU2","RogueReward"),Object.defineProperty(a,"__esModule",{value:!0}),a.RogueRewardManager=a.JsonRogueReward=void 0;var n=e("../../JsonData/LevelJsonData"),o=e("../../Loading/LoadManager"),i=e("../../Prop/PropConfig"),r=function(){this.Hexagon_ID=0,this.RogueProp1_ID=0,this.RogueProp1_Sum=0,this.RogueProp2_ID=0,this.RogueProp2_Sum=0,this.RogueProp3_ID=0,this.RogueProp3_Sum=0,this.ExploreCoins_Sum=0};a.JsonRogueReward=r;var s=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;o.LoadManager.loadJson("RogueReward",o.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonRogueReward\u6210\u529f"),e.data=new Map;for(var n=a.json,o=0;o<n.length;o++){var i=new r;i=n[o],e.data.set(i.Hexagon_ID,i)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonRogueReward=function(e){return this.data.get(e)},e.prototype.getRogueProp1_ID=function(e){return this.data.get(e).RogueProp1_ID},e.prototype.getRogueProp1_Sum=function(e){return this.data.get(e).RogueProp1_Sum},e.prototype.getRogueProp2_ID=function(e){return this.data.get(e).RogueProp2_ID},e.prototype.getRogueProp2_Sum=function(e){return this.data.get(e).RogueProp2_Sum},e.prototype.getRogueProp3_ID=function(e){return this.data.get(e).RogueProp3_ID},e.prototype.getRogueProp3_Sum=function(e){return this.data.get(e).RogueProp3_Sum},e.prototype.getExploreCoins_Sum=function(e){return this.data.get(e).ExploreCoins_Sum},e.getMaxHexagon_ID=function(){return 30091},e.prototype.getRewardDatas=function(e){var t=new Array,a=this.getJsonRogueReward(e),o=new n.RewardData;o.reward_id=i.PropId.MazeCoin,o.reward_num=a.ExploreCoins_Sum,t.push(o);for(var r=1;r<=3;r++){var s=new n.RewardData;s.reward_id=a["RogueProp"+r+"_ID"],s.reward_num=a["RogueProp"+r+"_Sum"],s.reward_id>0&&s.reward_num&&t.push(s)}return t},e._instance=null,e}();a.RogueRewardManager=s,cc._RF.pop()},{"../../JsonData/LevelJsonData":"LevelJsonData","../../Loading/LoadManager":"LoadManager","../../Prop/PropConfig":"PropConfig"}],RogueShop:[function(e,t,a){"use strict";cc._RF.push(t,"908bfXkOhhCeofEZ1BFgDUu","RogueShop"),Object.defineProperty(a,"__esModule",{value:!0}),a.RogueShopManager=a.JsonRogueShop=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.ShowLoacl=0,this.Prop_ID=0,this.Prop_Num=0,this.CostNum=0};a.JsonRogueShop=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("RogueShop",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonRogueShop\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.ShowLoacl,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonRogueShop=function(e){return this.data.get(e)},e.prototype.getProp_ID=function(e){return this.data.get(e).Prop_ID},e.prototype.getProp_Num=function(e){return this.data.get(e).Prop_Num},e.prototype.getCostNum=function(e){return this.data.get(e).CostNum},e.getMaxShowLoacl=function(){return 13},e._instance=null,e}();a.RogueShopManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],RogueText:[function(e,t,a){"use strict";cc._RF.push(t,"fd03834GBJHsLTINBhwCG34","RogueText"),Object.defineProperty(a,"__esModule",{value:!0}),a.RogueTextManager=a.JsonRogueText=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.HexagonType=0,this.Roguetitle_ID=0,this.RogueText_ID=0};a.JsonRogueText=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("RogueText",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonRogueText\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.HexagonType,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonRogueText=function(e){return this.data.get(e)},e.prototype.getRoguetitle_ID=function(e){return this.data.get(e).Roguetitle_ID},e.prototype.getRogueText_ID=function(e){return this.data.get(e).RogueText_ID},e.getMaxHexagonType=function(){return 5},e._instance=null,e}();a.RogueTextManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],RoguefastPass:[function(e,t,a){"use strict";cc._RF.push(t,"c48ba8LtMpMZIfbcwuHEv3I","RoguefastPass"),Object.defineProperty(a,"__esModule",{value:!0}),a.RoguefastPassManager=a.JsonRoguefastPass=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.ChapterLevel=0,this.PropID_1=0,this.PropNum_1=0,this.PropID_2=0,this.PropNum_2=0};a.JsonRoguefastPass=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("RoguefastPass",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonRoguefastPass\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.ChapterLevel,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonRoguefastPass=function(e){return this.data.get(e)},e.prototype.getPropID_1=function(e){return this.data.get(e).PropID_1},e.prototype.getPropNum_1=function(e){return this.data.get(e).PropNum_1},e.prototype.getPropID_2=function(e){return this.data.get(e).PropID_2},e.prototype.getPropNum_2=function(e){return this.data.get(e).PropNum_2},e.getMaxChapterLevel=function(){return 8},e._instance=null,e}();a.RoguefastPassManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],RoleUi:[function(e,t,a){"use strict";cc._RF.push(t,"85c32l9KMRCQpIi0dKoNYjX","RoleUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r,s=e("../../Ads/ApkManager"),c=e("../../CoinPop"),l=e("../../Equipment/Data/EquipmentAttribute"),g=e("../../Equipment/Data/EquipmentMerge"),u=e("../../Equipment/EquipConfig"),p=e("../../Equipment/EquipmentManager"),d=e("../../Equipment/Ui/EquipInfoUi"),h=e("../../Equipment/Ui/EquipItem"),f=e("../../ExclusiveInfoUi/ExclusiveInfoUi"),_=e("../../GameManager"),m=e("../../Hero/Data/HeroBaseInfo"),y=e("../../Hero/Data/HeroManager"),I=e("../../Hero/Data/HeroTitle"),v=e("../../Hero/Data/SkillLevelUnlock"),M=e("../../Hero/Game/HeroConfig"),C=e("../../Home"),S=e("../../JsonData/EWUnlockCost"),P=e("../../JsonData/ExclusiveEnhancement"),k=e("../../Level/LevelManager"),b=e("../../multiLanguage/FollowConstants"),T=e("../../multiLanguage/FollowManager"),B=e("../../multiLanguage/LanguageManager"),w=e("../../multiLanguage/TextLanguage"),N=e("../../Pet/PetManager"),L=e("../../Pet/Ui/PetExchangeUi"),D=e("../../Pet/Ui/PetInfoUi"),E=e("../../Pet/Ui/PetItem"),R=e("../../Prop/Prop"),G=e("../../Prop/PropConfig"),x=e("../../Prop/PropManager"),A=e("../../Sound/AudioConstants"),O=e("../../Store/StoreHeroShowUi"),H=e("../../Task/TaskEnum"),F=e("../../Task/TaskManager"),j=e("../../Tools/EventManager"),U=e("../../Tools/MyTool"),J=e("../../Tools/NumberLabel"),W=e("../../Tutorials/TutorailsManager"),V=e("../../UI/GetAssetsUi"),q=e("../../UI/home/AtrributeUi"),z=e("../../UI/UIComponent"),K=e("../../UI/UIConfig"),Y=e("../../UI/UIManager"),X=e("../Data/HeroAttribute"),Z=e("../Data/HeroQuality"),Q=e("../Data/LevelUp"),$=e("./ExclusiveWeaponsStrengtheningUi"),ee=e("./ExclusiveWeaponsUi"),te=e("./HeroSkillUi"),ae=cc._decorator,ne=ae.ccclass,oe=ae.property;(function(e){e[e.Preview=0]="Preview",e[e.Level=1]="Level",e[e.Star=2]="Star"})(r||(r={}));var ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.role_ui=null,t.hero_avatar_light=null,t.cur_hero=null,t.hero_skeleton_data=[],t.hero_type=-1,t.state=r.Level,t.sqrtList=[],t}return o(t,e),t.prototype.init=function(e){this.ui_aciton=e},t.prototype.initData=function(e,t){void 0===t&&(t=[]),this.hero_type=e;var a=y.HeroManager.getInstance().getHeroInfo(e);if(this.sqrtList=t,0==this.sqrtList.length)this.sqrtList=m.HeroBaseInfoManager.getInstance().getArrayData();else{var n=this.node.getChildByName("bottom");n.getChildByName("arrow_right").active=!0,n.getChildByName("arrow_left").active=!0}null==a?(this.state=r.Preview,this.previewRefresh(!1)):(this.infoRefresh(),this.state=r.Level,this.upgradeRefresh(!1))},t.prototype.start=function(){var e=this;this.scheduleOnce(function(){if(0==W.default.getInstance().isShowTutorials(301)&&W.default.getInstance().isShowTutorials(302)&&1==W.default.getInstance().is_tutorails_state){var t=(n=e.node.getChildByName("bottom").getChildByName("level").getChildByName("upgradeBtn")).parent.convertToWorldSpaceAR(n.getPosition()),a=cc.find("Canvas/Ui_Root").convertToNodeSpaceAR(t);W.default.getInstance().showTutorials(302,null,function(){W.default.getInstance().saveTutorials(302)},!0,null,a)}else if(0==W.default.getInstance().isShowTutorials(311)&&W.default.getInstance().isShowTutorials(312)){var n;e.onStarBtnClick(),t=(n=e.node.getChildByName("bottom").getChildByName("star").getChildByName("upstarBtn")).parent.convertToWorldSpaceAR(n.getPosition()),a=cc.find("Canvas/Ui_Root").convertToNodeSpaceAR(t),W.default.getInstance().showTutorials(312,null,function(){W.default.getInstance().saveTutorials(312)},!0,null,a)}},.02)},t.prototype.infoRefresh=function(){var e=this.node.getChildByName("top"),t=X.HeroAttributeManager.getInstance().getStarByHeroTypeAndStage(this.hero_type,y.HeroManager.getInstance().getHeroStage(this.hero_type));e.getChildByName("coinLabel").getComponent(cc.Label).string=U.default.getCoinDanwei(x.PropManager.getInstance().getPropNum(G.PropId.Coin)),e.getChildByName("gemLabel").getComponent(cc.Label).string=U.default.getCoinDanwei(x.PropManager.getInstance().getPropNum(G.PropId.Gem)),e.getChildByName("name").getComponent(cc.Label).string=B.default.getInstance().getStrByTextId(m.HeroBaseInfoManager.getInstance().getNameText_ID(this.hero_type)),e.getChildByName("nickname").getComponent(cc.Label).string=B.default.getInstance().getStrByTextId(I.HeroTitleManager.getInstance().getHeroTitleTextIdByHeroTypeAndHeroStar(this.hero_type,t)),e.getChildByName("quality").getComponent(cc.Sprite).spriteFrame=this.role_ui.getSpriteFrame("Hero_Title_"+m.HeroBaseInfoManager.getInstance().getQuality(this.hero_type)+"_0"),e.getChildByName("nameBg").getComponent(cc.Sprite).spriteFrame=this.role_ui.getSpriteFrame("Hero_Title_"+m.HeroBaseInfoManager.getInstance().getQuality(this.hero_type)+"_1"),0==t?e.getChildByName("star").active=!1:(e.getChildByName("star").active=!0,e.getChildByName("star").getComponent(cc.Sprite).spriteFrame=this.role_ui.getSpriteFrame("Hero_Star_"+t));var a=this.node.getChildByName("bottom").getChildByName("heroSp").getComponent(sp.Skeleton);a.skeletonData=this.hero_skeleton_data[this.hero_type-1],a.setAnimation(0,"Idle",!0),a.setCompleteListener(function(){var e,t=Math.random();e=t<.6?"Idle":t<.8?"Attack":"Idle2",a.setAnimation(0,e,!0)})},t.prototype.upgradeRefresh=function(e){void 0===e&&(e=!0);var t=y.HeroManager.getInstance(),a=this.node.getChildByName("top"),n=m.HeroBaseInfoManager.getInstance().getJsonHeroBaseInfo(this.hero_type);a.getChildByName("coinLabel").getComponent(cc.Label).string=U.default.getCoinDanwei(x.PropManager.getInstance().getPropNum(G.PropId.Coin)),a.getChildByName("gemLabel").getComponent(cc.Label).string=U.default.getCoinDanwei(x.PropManager.getInstance().getPropNum(G.PropId.Gem));var o=this.node.getChildByName("bottom"),i=o.getChildByName("level"),s=t.getHeroInfo(this.hero_type),c=t.getHeroData(this.hero_type),d=t.getHeroZhanli(this.hero_type),f=i.getChildByName("equipRoot"),_=f.getChildByName("zbRoot");if(s.exclusive_equip_stage<1)(I=_.getChildByName("equip5")).getComponent(h.default).init(this.hero_type,n.FirstExclusiveWeaponID,G.PropAction.Null),I.children[0].getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),I.children[1].getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),_.getChildByName("haveNum").active=!0,_.getChildByName("needNum").active=!0,_.getChildByName("haveNum").getComponent(cc.Label).string=U.default.getCoinDanwei(x.PropManager.getInstance().getPropNum(n.ExclusiveWeaponFragment)),_.getChildByName("needNum").getComponent(cc.Label).string="/"+U.default.getCoinDanwei(S.EWUnlockCostManager.getInstance().getCostFragment(n.Quality)),x.PropManager.getInstance().getPropNum(n.ExclusiveWeaponFragment)>S.EWUnlockCostManager.getInstance().getCostFragment(n.Quality)?_.getChildByName("haveNum").color=cc.color(255,255,255):_.getChildByName("haveNum").color=cc.color(255,74,74);else{var I=_.getChildByName("equip5");_.getChildByName("haveNum").active=!1,_.getChildByName("needNum").active=!1,I.children[0].getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),I.children[1].getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),I.getComponent(h.default).init(this.hero_type,n.FirstExclusiveWeaponID+P.ExclusiveEnhancementManager.getInstance().getJsonDataByHeroTypeAndStage(this.hero_type,s.exclusive_equip_stage).Star,G.PropAction.Null)}o.getChildByName("levelIcon").active=!0,o.getChildByName("starIcon").active=!0,t.getHeroLevel(this.hero_type)>1?a.getChildByName("revertIcon").active=!0:a.getChildByName("revertIcon").active=!1,o.getChildByName("preview").active=this.state==r.Preview,o.getChildByName("level").active=this.state==r.Level,o.getChildByName("star").active=this.state==r.Star,o.getChildByName("levelIcon").getComponent(cc.Sprite).spriteFrame=this.role_ui.getSpriteFrame("Hero_Tab_Btn_0_1"),o.getChildByName("starIcon").getComponent(cc.Sprite).spriteFrame=this.role_ui.getSpriteFrame("Hero_Tab_Btn_1"),i.active=!0;for(var M=!1,C=!1,b=u.EquipType.WuQi;b<u.EquipType.Num;b++){var T,B=y.HeroManager.getInstance().getWearEquipment(this.hero_type,b),L=_.getChildByName("equip"+b),D=!1;if(0!=B){L.active=!0;var R=new u.EquipInfo;R.equip_id=B,L.getComponent(h.default).init(this.hero_type,R,G.PropAction.Null),l.EquipmentAttributeManager.getInstance().getIsMaxStage(B)||(D=p.EquipmentManager.getInstance().checkAEquipMerge(g.EquipmentMergeManager.getInstance().getTargetEquipment_id(B),[]))}else L.active=!1;var A=f.getChildByName("red"+b);(T=p.EquipmentManager.getInstance().checkWear(this.hero_type,b))&&(M=!0),D&&(C=!0),A.active=D||T}if(0==y.HeroManager.getInstance().getWearPet(this.hero_type))_.getChildByName("pet").active=!1;else{var O=_.getChildByName("pet");O.active=!0,O.getComponent(E.default).init(this.hero_type,y.HeroManager.getInstance().getWearPet(this.hero_type),G.PropAction.Null)}o.getChildByName("levelNum").getComponent(cc.Label).string="LV."+s.hero_level,e?o.getChildByName("fightNum").getComponent(J.default).setTarget(d,.5,!0):o.getChildByName("fightNum").getComponent(J.default).init(d,!0),i.getChildByName("hpLabel").getComponent(cc.Label).string=U.default.numberFormat(c.total_hp),i.getChildByName("damageLabel").getComponent(cc.Label).string=U.default.numberFormat(c.total_attack),i.getChildByName("defenseLabel").getComponent(cc.Label).string=U.default.numberFormat(c.total_defense),i.getChildByName("atkSpeedLabel").getComponent(cc.Label).string=U.default.numberFormat(c.atkSpeed,1);var H=i.getChildByName("skillRoot"),F=n.SkillNum;for(b=1;b<=4;b++)if(b<=F){var j=H.getChildByName("btnSkill"+b);j.active=!0;var W=v.SkillLevelUnlockManager.getInstance().getHeroLevel(b);s.hero_level<W?(j.getComponent(cc.Sprite).spriteFrame=this.role_ui.getSpriteFrame("Hero_"+this.hero_type+"_Skill_"+(b-1)),j.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),j.children[0].active=!1):(j.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),j.getComponent(cc.Sprite).spriteFrame=this.role_ui.getSpriteFrame("Hero_"+this.hero_type+"_Skill_"+(b-1)),j.children[0].active=!0,j.children[0].getComponentInChildren(cc.Label).string=""+(X.HeroAttributeManager.getInstance().getStarByHeroTypeAndStage(this.hero_type,s.hero_stage)+1).toString())}else H.getChildByName("btnSkill"+b).active=!1;var V=i.getChildByName("upgradeBtn"),q=!1,z=!1,K=!1;if(y.HeroManager.getInstance().getHeroLevel(this.hero_type)>=n.MaxLevel)i.getChildByName("coinBg").active=!1,i.getChildByName("gemBg").active=!1,V.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),V.getComponentInChildren(cc.Label).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),V.getComponentInChildren(w.default).setTextId(120010),V.getChildByName("red").active=!1;else{var Y=x.PropManager.getInstance().getPropNum(G.PropId.Coin),Z=Q.LevelUpManager.getInstance().getCostCoin(s.hero_level),$=x.PropManager.getInstance().getPropNum(G.PropId.Gem),ee=Q.LevelUpManager.getInstance().getCostGem(s.hero_level);i.getChildByName("coinBg").active=!0,i.getChildByName("gemBg").active=!0,V.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),V.getComponentInChildren(cc.Label).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),V.getComponentInChildren(w.default).setTextId(100018),i.getChildByName("coinBg").getChildByName("haveNum").getComponent(cc.Label).string=U.default.getCoinDanwei(Y),i.getChildByName("coinBg").getChildByName("needNum").getComponent(cc.Label).string="/"+U.default.getCoinDanwei(Z),i.getChildByName("gemBg").getChildByName("haveNum").getComponent(cc.Label).string=U.default.getCoinDanwei($),i.getChildByName("gemBg").getChildByName("needNum").getComponent(cc.Label).string="/"+U.default.getCoinDanwei(ee),Y<Z?i.getChildByName("coinBg").getChildByName("haveNum").color=cc.color(254,76,76):(i.getChildByName("coinBg").getChildByName("haveNum").color=cc.color(222,199,166),z=!0),$<ee?i.getChildByName("gemBg").getChildByName("haveNum").color=cc.color(254,76,76):(i.getChildByName("gemBg").getChildByName("haveNum").color=cc.color(222,199,166),K=!0),0==ee?(i.getChildByName("coinBg").x=0,i.getChildByName("gemBg").active=!1):(i.getChildByName("coinBg").x=150,i.getChildByName("gemBg").active=!0),k.LevelManager.getInstance().finish_level<Q.LevelUpManager.getInstance().getLevelLimit(s.hero_level)?(V.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),V.getComponentInChildren(cc.Label).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),q=!1):(V.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),V.getComponentInChildren(cc.Label).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),q=!0)}var te=N.PetManager.getInstance().checkRedTip(this.hero_type);f.getChildByName("redPet").active=te;var ae=y.HeroManager.getInstance().checkExUp(this.hero_type);f.getChildByName("redEx").active=ae;var ne=z&&q&&K;V.getChildByName("red").active=ne,o.getChildByName("levelIcon").getChildByName("red").active=M||ne||C||te||ae,o.getChildByName("starIcon").getChildByName("red").active=y.HeroManager.getInstance().checkUpStar(this.hero_type)||y.HeroManager.getInstance().checkAllPurposeFragment(this.hero_type),f.getChildByName("btnWear").getChildByName("red").active=M},t.prototype.upstarRefresh=function(e){void 0===e&&(e=!0);var t=y.HeroManager.getInstance(),a=this.node.getChildByName("bottom"),n=this.node.getChildByName("top"),o=a.getChildByName("star"),i=t.getHeroStage(this.hero_type)%6,s=t.getHeroData(this.hero_type);if(t.getHeroLevel(this.hero_type)>1?n.getChildByName("revertIcon").active=!0:n.getChildByName("revertIcon").active=!1,a.getChildByName("levelIcon").getComponent(cc.Sprite).spriteFrame=this.role_ui.getSpriteFrame("Hero_Tab_Btn_0"),a.getChildByName("starIcon").getComponent(cc.Sprite).spriteFrame=this.role_ui.getSpriteFrame("Hero_Tab_Btn_1_1"),y.HeroManager.getInstance().getHeroStage(this.hero_type)==m.HeroBaseInfoManager.getInstance().getMaxStage(this.hero_type)){o.getChildByName("Hero_Arrow").active=!1,o.getChildByName("targetHpNum").active=!1,o.getChildByName("targetAtkNum").active=!1,o.getChildByName("targetDefanceNum").active=!1,o.getChildByName("Hero_Bg_1").active=!1,o.getChildByName("Hero_Bg_2").active=!1,o.getChildByName("Hero_Bg_3").active=!1,o.getChildByName("costIcon").active=!1,o.getChildByName("coinBg").active=!1,o.getChildByName("needNum").active=!1,o.getChildByName("haveNum").active=!1,o.getChildByName("universalBtn").active=!1,o.getChildByName("upstarBtn").active=!1,o.getChildByName("Hero_Icon_1").active=!1,o.getChildByName("Hero_Icon_2").active=!1,o.getChildByName("Hero_Icon_3").active=!1,o.getChildByName("Hero_Evolve_0_1").active=!0,o.getChildByName("Hero_Evolve_0_2").active=!0,o.getChildByName("Hero_Evolve_0_3").active=!0,o.getChildByName("Hero_Evolve_0_4").active=!0,o.getChildByName("Hero_Evolve_2_1").active=!0,o.getChildByName("Hero_Evolve_2_2").active=!0,o.getChildByName("Hero_Evolve_2_3").active=!0,o.getChildByName("Hero_Evolve_2_4").active=!0,o.getChildByName("Hero_Evolve_2_5").active=!0,o.getChildByName("tipLabel").active=!0;var c=t.getHeroZhanli(this.hero_type);return a.getChildByName("fightNum").getComponent(J.default).setTarget(c,.5,!0),o.getChildByName("hpNum").getComponent(cc.Label).string=U.default.numberFormat(s.total_hp),o.getChildByName("atkNum").getComponent(cc.Label).string=U.default.numberFormat(s.total_attack),void(o.getChildByName("defanceNum").getComponent(cc.Label).string=U.default.numberFormat(s.total_defense))}var l=t.getTargetHeroData(this.hero_type,t.getHeroStage(this.hero_type)+1,t.getHeroLevel(this.hero_type));switch(o.getChildByName("tipLabel").active=!1,o.getChildByName("Hero_Arrow").active=!0,o.getChildByName("targetHpNum").active=!0,o.getChildByName("targetAtkNum").active=!0,o.getChildByName("targetDefanceNum").active=!0,o.getChildByName("Hero_Bg_1").active=!0,o.getChildByName("Hero_Bg_2").active=!0,o.getChildByName("Hero_Bg_3").active=!0,o.getChildByName("costIcon").active=!0,o.getChildByName("coinBg").active=!0,o.getChildByName("needNum").active=!0,o.getChildByName("haveNum").active=!0,o.getChildByName("universalBtn").active=!0,o.getChildByName("upstarBtn").active=!0,o.getChildByName("Hero_Icon_1").active=!0,o.getChildByName("Hero_Icon_2").active=!0,o.getChildByName("Hero_Icon_3").active=!0,a.getChildByName("levelIcon").active=!0,a.getChildByName("starIcon").active=!0,a.getChildByName("preview").active=this.state==r.Preview,a.getChildByName("level").active=this.state==r.Level,a.getChildByName("star").active=this.state==r.Star,a.getChildByName("level").active=!1,i){case 0:for(var g=1;g<6;g++)null!=(u=o.getChildByName("Hero_Evolve_0_"+g))&&(u.active=!1),(u=o.getChildByName("Hero_Evolve_2_"+g)).active=!1;break;case 1:case 2:case 3:case 4:case 5:for(g=1;g<6;g++){var u;g<=i?(3==g&&(o.getChildByName("Hero_Evolve_0_1").active=!0),4==g&&(o.getChildByName("Hero_Evolve_0_2").active=!0),5==g&&(o.getChildByName("Hero_Evolve_0_3").active=!0,o.getChildByName("Hero_Evolve_0_4").active=!0)):(3==g&&(o.getChildByName("Hero_Evolve_0_1").active=!1),4==g&&(o.getChildByName("Hero_Evolve_0_2").active=!1),5==g&&(o.getChildByName("Hero_Evolve_0_3").active=!1,o.getChildByName("Hero_Evolve_0_4").active=!1)),(u=o.getChildByName("Hero_Evolve_2_"+g)).active=g<=i}}var p=t.getHeroZhanli(this.hero_type);e?a.getChildByName("fightNum").getComponent(J.default).setTarget(p,.5,!0):a.getChildByName("fightNum").getComponent(J.default).init(p,!0),o.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame=x.PropManager.getInstance().getSpByPropId(m.HeroBaseInfoManager.getInstance().getHeroFragment(this.hero_type)),o.getChildByName("hpNum").getComponent(cc.Label).string=U.default.numberFormat(s.total_hp),o.getChildByName("atkNum").getComponent(cc.Label).string=U.default.numberFormat(s.total_attack),o.getChildByName("defanceNum").getComponent(cc.Label).string=U.default.numberFormat(s.total_defense),o.getChildByName("targetHpNum").getComponent(cc.Label).string=U.default.numberFormat(l.total_hp),o.getChildByName("targetAtkNum").getComponent(cc.Label).string=U.default.numberFormat(l.total_attack),o.getChildByName("targetDefanceNum").getComponent(cc.Label).string=U.default.numberFormat(l.total_defense);var d=x.PropManager.getInstance().getPropNum(m.HeroBaseInfoManager.getInstance().getHeroFragment(this.hero_type)),h=Z.HeroQualityManager.getInstance().getCostDebrisByHeroQualityAndStage(m.HeroBaseInfoManager.getInstance().getQuality(this.hero_type),t.getHeroStage(this.hero_type));o.getChildByName("haveNum").getComponent(cc.Label).string=U.default.getCoinDanwei(d),o.getChildByName("needNum").getComponent(cc.Label).string="/"+U.default.getCoinDanwei(h),o.getChildByName("haveNum").color=d<h?cc.color(254,76,76):cc.color(222,199,166);var f=0;switch(m.HeroBaseInfoManager.getInstance().getQuality(this.hero_type)){case 1:f=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyC);break;case 2:f=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyB);break;case 3:f=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyA);break;case 4:f=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyS);break;case 5:f=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeySS);break;case 6:f=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeySSS)}var _=!1;f<1?(o.getChildByName("universalBtn").getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),o.getChildByName("universalBtn").getComponentInChildren(cc.Label).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),_=!1):(o.getChildByName("universalBtn").getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),o.getChildByName("universalBtn").getComponentInChildren(cc.Label).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),_=y.HeroManager.getInstance().checkAllPurposeFragment(this.hero_type)),o.getChildByName("universalBtn").getChildByName("red").active=_,a.getChildByName("levelIcon").getChildByName("red").active=y.HeroManager.getInstance().checkUpgrade(this.hero_type).is_can_up,a.getChildByName("starIcon").getChildByName("red").active=d>=h||_,o.getChildByName("upstarBtn").getChildByName("red").active=d>=h},t.prototype.previewRefresh=function(e){void 0===e&&(e=!0);var t=y.HeroManager.getInstance(),a=this.node.getChildByName("bottom"),n=a.getChildByName("preview"),o=m.HeroBaseInfoManager.getInstance().getJsonHeroBaseInfo(this.hero_type),i=o.MaxLevel,s=o.MaxStage,c=t.getTargetHeroData(this.hero_type,s,i),l=t.getTargetHeroZhanli(this.hero_type,s,i),g=this.node.getChildByName("top");a.getChildByName("levelIcon").active=!1,g.getChildByName("revertIcon").active=!1,a.getChildByName("starIcon").active=!1,a.getChildByName("preview").active=this.state==r.Preview,a.getChildByName("level").active=this.state==r.Level,a.getChildByName("star").active=this.state==r.Star,n.getChildByName("equip5").getComponent(h.default).init(this.hero_type,o.FirstExclusiveWeaponID,G.PropAction.Null),n.getChildByName("eHaveNum").getComponent(cc.Label).string=U.default.getCoinDanwei(x.PropManager.getInstance().getPropNum(o.ExclusiveWeaponFragment)),n.getChildByName("eNeedNum").getComponent(cc.Label).string="/"+U.default.getCoinDanwei(S.EWUnlockCostManager.getInstance().getCostFragment(o.Quality)),x.PropManager.getInstance().getPropNum(o.ExclusiveWeaponFragment)>S.EWUnlockCostManager.getInstance().getCostFragment(o.Quality)?n.getChildByName("eHaveNum").color=cc.color(255,255,255):n.getChildByName("eHaveNum").color=cc.color(255,74,74);var u=X.HeroAttributeManager.getInstance().getStarByHeroTypeAndStage(this.hero_type,s);g.getChildByName("coinLabel").getComponent(cc.Label).string=U.default.getCoinDanwei(x.PropManager.getInstance().getPropNum(G.PropId.Coin)),g.getChildByName("gemLabel").getComponent(cc.Label).string=U.default.getCoinDanwei(x.PropManager.getInstance().getPropNum(G.PropId.Gem)),g.getChildByName("name").getComponent(cc.Label).string=B.default.getInstance().getStrByTextId(o.NameText_ID),g.getChildByName("nickname").getComponent(cc.Label).string=B.default.getInstance().getStrByTextId(I.HeroTitleManager.getInstance().getHeroTitleTextIdByHeroTypeAndHeroStar(this.hero_type,u)),g.getChildByName("quality").getComponent(cc.Sprite).spriteFrame=this.role_ui.getSpriteFrame("Hero_Title_"+o.Quality+"_0"),g.getChildByName("nameBg").getComponent(cc.Sprite).spriteFrame=this.role_ui.getSpriteFrame("Hero_Title_"+o.Quality+"_1"),0==u?g.getChildByName("star").active=!1:(g.getChildByName("star").active=!0,g.getChildByName("star").getComponent(cc.Sprite).spriteFrame=this.role_ui.getSpriteFrame("Hero_Star_"+u));var p=this.node.getChildByName("bottom").getChildByName("heroSp").getComponent(sp.Skeleton);p.skeletonData=this.hero_skeleton_data[this.hero_type-1],p.setAnimation(0,"Idle",!0),p.setCompleteListener(function(){var e,t=Math.random();e=t<.6?"Idle":t<.8?"Attack":"Idle2",p.setAnimation(0,e,!0)}),a.getChildByName("levelNum").getComponent(cc.Label).string="LV."+i,e?a.getChildByName("fightNum").getComponent(J.default).setTarget(l,.5,!0):a.getChildByName("fightNum").getComponent(J.default).init(l,!0),n.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame=x.PropManager.getInstance().getSpByPropId(o.HeroFragment),n.getChildByName("hpLabel").getComponent(cc.Label).string=U.default.numberFormat(c.total_hp),n.getChildByName("damageLabel").getComponent(cc.Label).string=U.default.numberFormat(c.total_attack),n.getChildByName("defenseLabel").getComponent(cc.Label).string=U.default.numberFormat(c.total_defense),n.getChildByName("atkSpeedLabel").getComponent(cc.Label).string=U.default.numberFormat(c.atkSpeed,1);for(var d=n.getChildByName("skillRoot"),f=o.SkillNum,_=1;_<=4;_++)if(_<=f){var v=d.getChildByName("btnSkill"+_);v.active=!0,v.getComponent(cc.Sprite).spriteFrame=this.role_ui.getSpriteFrame("Hero_"+this.hero_type+"_Skill_"+(_-1)),v.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),v.children[0].active=!0,v.children[0].getComponentInChildren(cc.Label).string=""+(X.HeroAttributeManager.getInstance().getStarByHeroTypeAndStage(this.hero_type,s)+1).toString()}else d.getChildByName("btnSkill"+_).active=!1;var M=x.PropManager.getInstance().getPropNum(o.HeroFragment),C=o.UnlockFragmentNum;n.getChildByName("haveNum").getComponent(cc.Label).string=U.default.getCoinDanwei(M),n.getChildByName("needNum").getComponent(cc.Label).string="/"+U.default.getCoinDanwei(C);var P=n.getChildByName("upgradeBtn"),k=n.getChildByName("upgradeBtn").getChildByName("red");M<C?(n.getChildByName("haveNum").color=cc.color(254,76,76),P.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),P.getComponentInChildren(cc.Label).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),k.active=!1):(n.getChildByName("haveNum").color=cc.color(222,199,166),P.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),P.getComponentInChildren(cc.Label).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),k.active=!0);var b=0;switch(o.Quality){case 1:b=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyC);break;case 2:b=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyB);break;case 3:b=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyA);break;case 4:b=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyS);break;case 5:b=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeySS);break;case 6:b=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeySSS)}var T=n.getChildByName("universalBtn"),w=T.getChildByName("red");if(b<1)T.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),T.getComponentInChildren(cc.Label).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),w.active=!1;else{T.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),T.getComponentInChildren(cc.Label).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite"));var N=C-M,L=x.PropManager.getInstance().getPropNum(y.HeroManager.getInstance().getHeroFragmentId(this.hero_type))>=N;w.active=N>0&&L}},t.prototype.showGetAssetsUi=function(){var e=this;_.default.getInstance().sound_manager.playSound(A.SoundIndex.click),this.node.getChildByName("reduction").active=!1,this.node.getChildByName("exchange").active=!1,Y.UIManager.getInstance().showUiDialog(K.UIPath.CoinPop,K.UILayerLevel.Two,{onCompleted:function(t){t.getComponent(c.default).init({onClose:function(){e.infoRefresh(),e.state==r.Level?e.upgradeRefresh():e.upstarRefresh()}}),t.getComponent(c.default).initUi(G.PropId.Coin)}})},t.prototype.onBtnCoin=function(){var e=this;_.default.getInstance().sound_manager.playSound(A.SoundIndex.click),Y.UIManager.getInstance().showUiDialog(K.UIPath.CoinPop,K.UILayerLevel.Two,{onCompleted:function(t){t.getComponent(c.default).init({onClose:function(){e.infoRefresh(),e.state==r.Level?e.upgradeRefresh():e.upstarRefresh()}}),t.getComponent(c.default).initUi(G.PropId.Coin)}})},t.prototype.onBtnGem=function(){var e=this;_.default.getInstance().sound_manager.playSound(A.SoundIndex.click),Y.UIManager.getInstance().showUiDialog(K.UIPath.CoinPop,K.UILayerLevel.Two,{onCompleted:function(t){t.getComponent(c.default).init({onClose:function(){e.infoRefresh(),e.state==r.Level?e.upgradeRefresh():e.upstarRefresh()}}),t.getComponent(c.default).initUi(G.PropId.Gem)}})},t.prototype.showExchangeUi=function(){_.default.getInstance().sound_manager.playSound(A.SoundIndex.click);var e=this.node.getChildByName("exchange");e.active=!0;var t=0,a=0;switch(m.HeroBaseInfoManager.getInstance().getQuality(this.hero_type)){case 1:t=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyC),a=G.PropId.HeroMasterKeyC;break;case 2:t=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyB),a=G.PropId.HeroMasterKeyB;break;case 3:t=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyA),a=G.PropId.HeroMasterKeyA;break;case 4:t=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyS),a=G.PropId.HeroMasterKeyS;break;case 5:t=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeySS),a=G.PropId.HeroMasterKeySS;break;case 6:t=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeySSS),a=G.PropId.HeroMasterKeySSS}var n=x.PropManager.getInstance().createPropItem(a,0),o=x.PropManager.getInstance().createPropItem(m.HeroBaseInfoManager.getInstance().getHeroFragment(this.hero_type),0);e.getChildByName("slider").getComponent(cc.Slider).progress=0,e.getChildByName("slider").getComponent(cc.ProgressBar).progress=0,e.getChildByName("num").getComponent(cc.Label).string=(e.getChildByName("slider").getComponent(cc.Slider).progress*t).toFixed()+"/"+t,e.getChildByName("Item_1").addChild(n),e.getChildByName("Item_2").addChild(o)},t.prototype.showPreviewExchangeUi=function(){_.default.getInstance().sound_manager.playSound(A.SoundIndex.click);var e=this.node.getChildByName("previewExchange");e.active=!0;var t=0,a=0;switch(m.HeroBaseInfoManager.getInstance().getQuality(this.hero_type)){case 1:t=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyC),a=G.PropId.HeroMasterKeyC;break;case 2:t=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyB),a=G.PropId.HeroMasterKeyB;break;case 3:t=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyA),a=G.PropId.HeroMasterKeyA;break;case 4:t=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyS),a=G.PropId.HeroMasterKeyS;break;case 5:t=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeySS),a=G.PropId.HeroMasterKeySS;break;case 6:t=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeySSS),a=G.PropId.HeroMasterKeySSS}var n=x.PropManager.getInstance().createPropItem(a,0),o=x.PropManager.getInstance().createPropItem(m.HeroBaseInfoManager.getInstance().getHeroFragment(this.hero_type),0);e.getChildByName("slider").getComponent(cc.Slider).progress=0,e.getChildByName("slider").getComponent(cc.ProgressBar).progress=0,e.getChildByName("num").getComponent(cc.Label).string=(e.getChildByName("slider").getComponent(cc.Slider).progress*t).toFixed()+"/"+t,e.getChildByName("Item_1").addChild(n),e.getChildByName("Item_2").addChild(o)},t.prototype.onCloseUpStarTipBtnClick=function(){this.node.getChildByName("upStarTip").active=!1},t.prototype.showUpStarTip=function(){var e=y.HeroManager.getInstance(),t=e.getHeroData(this.hero_type),a=e.getTargetHeroData(this.hero_type,e.getHeroStage(this.hero_type)-1,e.getHeroLevel(this.hero_type)),n=X.HeroAttributeManager.getInstance().getStarByHeroTypeAndStage(this.hero_type,e.getHeroStage(this.hero_type)),o=X.HeroAttributeManager.getInstance().getStarByHeroTypeAndStage(this.hero_type,e.getHeroStage(this.hero_type)-1),i=I.HeroTitleManager.getInstance().getHeroTitleTextIdByHeroTypeAndHeroStar(this.hero_type,n),r=I.HeroTitleManager.getInstance().getHeroTitleTextIdByHeroTypeAndHeroStar(this.hero_type,o),s=this.node.getChildByName("upStarTip");s.active=!0,s.getChildByName("oldStar").getComponent(cc.Sprite).spriteFrame=this.role_ui.getSpriteFrame("Hero_Star_"+o),s.getChildByName("oldNickname").getComponent(w.default).setTextId(r),s.getChildByName("oldSkill").getComponent(w.default).startTranslation(),s.getChildByName("oldSkill").getComponent(w.default).string+="LV"+(o+1),s.getChildByName("oldHpNum").getComponent(cc.Label).string=U.default.numberFormat(a.total_hp),s.getChildByName("oldAtkNum").getComponent(cc.Label).string=U.default.numberFormat(a.total_attack),s.getChildByName("oldDefanceNum").getComponent(cc.Label).string=U.default.numberFormat(a.total_defense),s.getChildByName("star").getComponent(cc.Sprite).spriteFrame=this.role_ui.getSpriteFrame("Hero_Star_"+n),s.getChildByName("nickname").getComponent(w.default).setTextId(i),s.getChildByName("skillNum").getComponent(cc.Label).string="LV"+(n+1),s.getChildByName("hpNum").getComponent(cc.Label).string=U.default.numberFormat(t.total_hp),s.getChildByName("atkNum").getComponent(cc.Label).string=U.default.numberFormat(t.total_attack),s.getChildByName("defanceNum").getComponent(cc.Label).string=U.default.numberFormat(t.total_defense)},t.prototype.sliderMoveResponce=function(e){var t=this.node.getChildByName("exchange"),a=0;switch(m.HeroBaseInfoManager.getInstance().getQuality(this.hero_type)){case 1:a=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyC);break;case 2:a=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyB);break;case 3:a=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyA);break;case 4:a=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyS);break;case 5:a=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeySS);break;case 6:a=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeySSS)}t.getChildByName("slider").getComponent(cc.ProgressBar).progress=e.progress,t.getChildByName("num").getComponent(cc.Label).string=(e.progress*a).toFixed()+"/"+a},t.prototype.previewSliderMoveResponce=function(e){var t=this.node.getChildByName("previewExchange"),a=0;switch(m.HeroBaseInfoManager.getInstance().getQuality(this.hero_type)){case 1:a=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyC);break;case 2:a=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyB);break;case 3:a=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyA);break;case 4:a=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyS);break;case 5:a=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeySS);break;case 6:a=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeySSS)}t.getChildByName("slider").getComponent(cc.ProgressBar).progress=e.progress,t.getChildByName("num").getComponent(cc.Label).string=(e.progress*a).toFixed()+"/"+a},t.prototype.onSkillClick=function(e,t){var a=this;_.default.getInstance().sound_manager.playSound(A.SoundIndex.click),Y.UIManager.getInstance().showUiDialog(K.UIPath.HeroSkill,K.UILayerLevel.Two,{onCompleted:function(e){e.getComponent(te.default).init(null),e.getComponent(te.default).initData(a.hero_type,t)}})},t.prototype.onEquipmentClick=function(e,t){var a=this;_.default.getInstance().sound_manager.playSound(A.SoundIndex.click),T.default.getInstance().followEvent(b.Follow_Type.\u88c5\u5907\u680f\u70b9\u51fb\u6b21\u6570);var n=parseInt(t);switch(n){case 1:T.default.getInstance().followEvent(b.Follow_Type.\u82f1\u96c4_\u6b66\u5668\u680f\u70b9\u51fb\u6b21\u6570);break;case 2:T.default.getInstance().followEvent(b.Follow_Type.\u82f1\u96c4_\u62a4\u7532\u680f\u70b9\u51fb\u6b21\u6570);break;case 3:T.default.getInstance().followEvent(b.Follow_Type.\u82f1\u96c4_\u9879\u94fe\u680f\u70b9\u51fb\u6b21\u6570);break;case 4:T.default.getInstance().followEvent(b.Follow_Type.\u82f1\u96c4_\u978b\u5b50\u680f\u70b9\u51fb\u6b21\u6570)}var o=y.HeroManager.getInstance().getWearEquipment(this.hero_type,n);o?Y.UIManager.getInstance().showUiDialog(K.UIPath.EquipInfo,K.UILayerLevel.Two,{onCompleted:function(e){e.getComponent(d.default).initData(a.hero_type,o,G.PropAction.Use,{prop_id:o,prop_num:1,prop_price:0,prop_cost_id:0},null,function(){a.upgradeRefresh()})}}):Y.UIManager.getInstance().showEquipExchangeUi({onClose:function(){a.upgradeRefresh()}},o,this.hero_type,n)},t.prototype.onTakeOffClick=function(){var e=y.HeroManager.getInstance().getHeroZhanli(this.hero_type),t=y.HeroManager.getInstance().getDeepHeroData(this.hero_type);_.default.getInstance().sound_manager.playSound(A.SoundIndex.click),T.default.getInstance().followEvent(b.Follow_Type.\u8131\u88c5\u70b9\u51fb\u6b21\u6570),p.EquipmentManager.getInstance().checkQuickUnload(this.hero_type,!0)&&(y.HeroManager.getInstance().refreshHeroData(this.hero_type),this.upgradeRefresh());var a=y.HeroManager.getInstance().getHeroZhanli(this.hero_type),n=y.HeroManager.getInstance().getDeepHeroData(this.hero_type);e!=a&&Y.UIManager.getInstance().showCombatChangeEffect(e,a,t,n)},t.prototype.onWearClick=function(){var e=y.HeroManager.getInstance().getHeroZhanli(this.hero_type),t=y.HeroManager.getInstance().getDeepHeroData(this.hero_type);_.default.getInstance().sound_manager.playSound(A.SoundIndex.click),T.default.getInstance().followEvent(b.Follow_Type.\u4e00\u952e\u7a7f\u6234\u70b9\u51fb\u6b21\u6570),T.default.getInstance().followEvent(b.Follow_Type.\u4e0d\u540c\u82f1\u96c4\u70b9\u51fb\u4e00\u952e\u7a7f\u6234\u7684\u6b21\u6570+this.hero_type),p.EquipmentManager.getInstance().checkQuickWear(this.hero_type,!0)&&(y.HeroManager.getInstance().refreshHeroData(this.hero_type),this.upgradeRefresh());var a=y.HeroManager.getInstance().getHeroZhanli(this.hero_type),n=y.HeroManager.getInstance().getDeepHeroData(this.hero_type);e!=a&&Y.UIManager.getInstance().showCombatChangeEffect(e,a,t,n)},t.prototype.onLevelBtnClick=function(){_.default.getInstance().sound_manager.playSound(A.SoundIndex.click),this.state=r.Level,this.infoRefresh(),this.upgradeRefresh();var e=this.node.getChildByName("bottom");e.getChildByName("level").active=!0,e.getChildByName("star").active=!1,e.getChildByName("levelIcon").getComponent(cc.Sprite).spriteFrame=this.role_ui.getSpriteFrame("Hero_Tab_Btn_0_1"),e.getChildByName("starIcon").getComponent(cc.Sprite).spriteFrame=this.role_ui.getSpriteFrame("Hero_Tab_Btn_1")},t.prototype.onStarBtnClick=function(){_.default.getInstance().sound_manager.playSound(A.SoundIndex.click),this.state=r.Star,this.infoRefresh(),this.upstarRefresh(!1);var e=this.node.getChildByName("bottom");e.getChildByName("level").active=!1,e.getChildByName("star").active=!0,e.getChildByName("levelIcon").getComponent(cc.Sprite).spriteFrame=this.role_ui.getSpriteFrame("Hero_Tab_Btn_0"),e.getChildByName("starIcon").getComponent(cc.Sprite).spriteFrame=this.role_ui.getSpriteFrame("Hero_Tab_Btn_1_1")},t.prototype.onUpgradeBtnClick=function(){var e=this;if(_.default.getInstance().sound_manager.playSound(A.SoundIndex.click),y.HeroManager.getInstance().getHeroLevel(this.hero_type)>=m.HeroBaseInfoManager.getInstance().getMaxLevel(this.hero_type)){var t=B.default.getInstance().getStrByTextId(120024);_.default.getInstance().showMessage(t)}else{var a=k.LevelManager.getInstance().finish_level,n=Q.LevelUpManager.getInstance().getLevelLimit(y.HeroManager.getInstance().getHeroLevel(this.hero_type));if(a<n)return t=(t=B.default.getInstance().getStrByTextId(720002)).replace("~",n.toString()),void _.default.getInstance().showMessage(t);var o=x.PropManager.getInstance().getPropNum(G.PropId.Coin),i=Q.LevelUpManager.getInstance().getCostCoin(y.HeroManager.getInstance().getHeroLevel(this.hero_type));if(o<i)return this.showGetAssetsUi(),void T.default.getInstance().followEvent(b.Follow_Type.\u82f1\u96c4\u5347\u7ea7\u7f3a\u5c11\u91d1\u5e01\u7684\u6b21\u6570);var s=x.PropManager.getInstance().getPropNum(G.PropId.Gem),l=Q.LevelUpManager.getInstance().getCostGem(y.HeroManager.getInstance().getHeroLevel(this.hero_type));if(s<l)return T.default.getInstance().followEvent(b.Follow_Type.\u82f1\u96c4\u5347\u7ea7\u7f3a\u5c11\u94bb\u77f3\u7684\u6b21\u6570),void Y.UIManager.getInstance().showUiDialog(K.UIPath.CoinPop,K.UILayerLevel.Two,{onCompleted:function(t){t.getComponent(c.default).init({onClose:function(){e.infoRefresh(),e.state==r.Level?e.upgradeRefresh():e.upstarRefresh()}}),t.getComponent(c.default).initUi(G.PropId.Gem)}});if(x.PropManager.getInstance().changePropNum(G.PropId.Coin,-i)&&x.PropManager.getInstance().changePropNum(G.PropId.Gem,-l)){var g=y.HeroManager.getInstance().getHeroZhanli(this.hero_type),u=y.HeroManager.getInstance().getDeepHeroData(this.hero_type);y.HeroManager.getInstance().addHeroLevel(this.hero_type);var p=y.HeroManager.getInstance().getHeroZhanli(this.hero_type),d=y.HeroManager.getInstance().getDeepHeroData(this.hero_type);Y.UIManager.getInstance().showCombatChangeEffect(g,p,u,d),F.default.getInstance().emitTask(H.TaskItem.\u5347\u7ea71\u6b21\u82f1\u96c4),_.default.getInstance().sound_manager.playSound(A.SoundIndex.YX_Level),this.infoRefresh(),this.upgradeRefresh();var h=this.node.getChildByName("bottom");Y.UIManager.getInstance().showEffectDialog(K.EffectPath.HeroUpgrade0,h.getChildByName("effect1"),"LevelUp_Back"),Y.UIManager.getInstance().showEffectDialog(K.EffectPath.HeroUpgrade0,h.getChildByName("effect2"),"LevelUp_Front"),T.default.getInstance().followEvent(b.Follow_Type.\u4e0d\u540c\u82f1\u96c4\u7684\u5347\u7ea7\u6b21\u6570+this.hero_type)}else console.log("\u6263\u8d39\u5931\u8d25")}},t.prototype.onUpStageBtnClick=function(){_.default.getInstance().sound_manager.playSound(A.SoundIndex.click);var e=x.PropManager.getInstance().getPropNum(m.HeroBaseInfoManager.getInstance().getHeroFragment(this.hero_type)),t=Z.HeroQualityManager.getInstance().getCostDebrisByHeroQualityAndStage(m.HeroBaseInfoManager.getInstance().getQuality(this.hero_type),y.HeroManager.getInstance().getHeroStage(this.hero_type));if(e<t)return T.default.getInstance().followEvent(b.Follow_Type.\u82f1\u96c4\u5347\u661f\u7f3a\u5c11\u788e\u7247\u7684\u6b21\u6570),T.default.getInstance().followEvent(b.Follow_Type.\u4e0d\u540c\u82f1\u96c4\u5347\u661f\u662f\u7f3a\u5c11\u788e\u7247\u7684\u6b21\u6570+this.hero_type),void Y.UIManager.getInstance().showUiDialog(K.UIPath.GetAssetsTip,K.UILayerLevel.Two,{onCompleted:function(e){e.getComponent(V.default).initData(V.GetAssetsType.Hero)}});if(x.PropManager.getInstance().changePropNum(m.HeroBaseInfoManager.getInstance().getHeroFragment(this.hero_type),-t)){var a=y.HeroManager.getInstance().getHeroZhanli(this.hero_type),n=y.HeroManager.getInstance().getDeepHeroData(this.hero_type);y.HeroManager.getInstance().addHeroStage(this.hero_type);var o=y.HeroManager.getInstance().getHeroZhanli(this.hero_type),i=y.HeroManager.getInstance().getDeepHeroData(this.hero_type);if(Y.UIManager.getInstance().showCombatChangeEffect(a,o,n,i),F.default.getInstance().emitTask(H.TaskItem.\u5347\u661f1\u6b21\u82f1\u96c4),T.default.getInstance().followEvent(b.Follow_Type.\u4e0d\u540c\u82f1\u96c4\u7684\u5347\u661f\u6b21\u6570+this.hero_type),_.default.getInstance().sound_manager.playSound(A.SoundIndex.YX_Advanced),y.HeroManager.getInstance().getHeroStage(this.hero_type)%6==0)this.showUpStarTip();else{var r=y.HeroManager.getInstance().getHeroStage(this.hero_type)%6;this.node.getChildByName("bottom").getChildByName("star").getChildByName("starEffect").getComponent(sp.Skeleton).animation="ShengXing"+r}this.infoRefresh(),this.upstarRefresh()}else console.log("\u6263\u8d39\u5931\u8d25")},t.prototype.onMasterKeyBtnClick=function(){_.default.getInstance().sound_manager.playSound(A.SoundIndex.click);var e=0,t=0;switch(m.HeroBaseInfoManager.getInstance().getQuality(this.hero_type)){case 1:e=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyC),t=120014;break;case 2:e=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyB),t=120015;break;case 3:e=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyA),t=120016;break;case 4:e=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyS),t=120017;break;case 5:e=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeySS),t=120018;break;case 6:e=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeySSS),t=120019}e<1?_.default.getInstance().showMessage(B.default.getInstance().getStrByTextId(t)):this.showExchangeUi()},t.prototype.onPreviewMasterKeyBtnClick=function(){_.default.getInstance().sound_manager.playSound(A.SoundIndex.click);var e=0,t=0;switch(m.HeroBaseInfoManager.getInstance().getQuality(this.hero_type)){case 1:e=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyC),t=120014;break;case 2:e=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyB),t=120015;break;case 3:e=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyA),t=120016;break;case 4:e=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyS),t=120017;break;case 5:e=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeySS),t=120018;break;case 6:e=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeySSS),t=120019}e<1?_.default.getInstance().showMessage(B.default.getInstance().getStrByTextId(t)):this.showPreviewExchangeUi()},t.prototype.onUnlockBtnClick=function(){var e=this;_.default.getInstance().sound_manager.playSound(A.SoundIndex.click);var t=x.PropManager.getInstance().getPropNum(m.HeroBaseInfoManager.getInstance().getHeroFragment(this.hero_type)),a=m.HeroBaseInfoManager.getInstance().getUnlockFragmentNum(this.hero_type);t<a?Y.UIManager.getInstance().showUiDialog(K.UIPath.GetAssetsTip,K.UILayerLevel.Two,{onCompleted:function(e){e.getComponent(V.default).initData(V.GetAssetsType.Hero)}}):(this.state=r.Level,x.PropManager.getInstance().changePropNum(m.HeroBaseInfoManager.getInstance().getHeroFragment(this.hero_type),-a),y.HeroManager.getInstance().addHero(this.hero_type),this.infoRefresh(),this.upgradeRefresh(),Y.UIManager.getInstance().showUiDialog(K.UIPath.StoreHeroShowUi,K.UILayerLevel.Two,{onCompleted:function(t){t.getComponent(O.default).initData(e.hero_type)}}))},t.prototype.onExChangeBtnClick=function(){_.default.getInstance().sound_manager.playSound(A.SoundIndex.click),this.node.getChildByName("exchange").active=!1;var e=this.node.getChildByName("exchange"),t=0,a=0;switch(m.HeroBaseInfoManager.getInstance().getQuality(this.hero_type)){case 1:t=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyC),a=G.PropId.HeroMasterKeyC;break;case 2:t=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyB),a=G.PropId.HeroMasterKeyB;break;case 3:t=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyA),a=G.PropId.HeroMasterKeyA;break;case 4:t=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyS),a=G.PropId.HeroMasterKeyS;break;case 5:t=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeySS),a=G.PropId.HeroMasterKeySS;break;case 6:t=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeySSS),a=G.PropId.HeroMasterKeySSS}var n=Number((e.getChildByName("slider").getComponent(cc.ProgressBar).progress*t).toFixed());if(0!=n){x.PropManager.getInstance().changePropNum(a,-n),x.PropManager.getInstance().changePropNum(m.HeroBaseInfoManager.getInstance().getHeroFragment(this.hero_type),n),T.default.getInstance().addTotal(b.Follow_Type.\u4e0d\u540c\u82f1\u96c4\u901a\u8fc7\u4e07\u80fd\u788e\u7247\u8f6c\u6362\u83b7\u5f97\u7684\u788e\u7247\u603b\u6570+this.hero_type,n);var o=x.PropManager.getInstance().createPropItem(m.HeroBaseInfoManager.getInstance().getHeroFragment(this.hero_type),n);_.default.getInstance().showGetTip(o),T.default.getInstance().followEvent(b.Follow_Type.\u4e07\u80fd\u788e\u7247\u8f6c\u5316\u4e0d\u540c\u82f1\u96c4\u6b21\u6570+this.hero_type),this.upstarRefresh(!1)}},t.prototype.onPreviewExChangeBtnClick=function(){_.default.getInstance().sound_manager.playSound(A.SoundIndex.click),this.node.getChildByName("previewExchange").active=!1;var e=this.node.getChildByName("previewExchange"),t=0,a=0;switch(m.HeroBaseInfoManager.getInstance().getQuality(this.hero_type)){case 1:t=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyC),a=G.PropId.HeroMasterKeyC;break;case 2:t=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyB),a=G.PropId.HeroMasterKeyB;break;case 3:t=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyA),a=G.PropId.HeroMasterKeyA;break;case 4:t=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyS),a=G.PropId.HeroMasterKeyS;break;case 5:t=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeySS),a=G.PropId.HeroMasterKeySS;break;case 6:t=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeySSS),a=G.PropId.HeroMasterKeySSS}var n=Number((e.getChildByName("slider").getComponent(cc.ProgressBar).progress*t).toFixed());if(0!=n){x.PropManager.getInstance().changePropNum(a,-n),x.PropManager.getInstance().changePropNum(m.HeroBaseInfoManager.getInstance().getHeroFragment(this.hero_type),n);var o=x.PropManager.getInstance().createPropItem(m.HeroBaseInfoManager.getInstance().getHeroFragment(this.hero_type),n);T.default.getInstance().addTotal(b.Follow_Type.\u4e0d\u540c\u82f1\u96c4\u901a\u8fc7\u4e07\u80fd\u788e\u7247\u8f6c\u6362\u83b7\u5f97\u7684\u788e\u7247\u603b\u6570+this.hero_type,n),_.default.getInstance().showGetTip(o),T.default.getInstance().followEvent(b.Follow_Type.\u4e07\u80fd\u788e\u7247\u8f6c\u5316\u4e0d\u540c\u82f1\u96c4\u6b21\u6570+this.hero_type),this.previewRefresh()}},t.prototype.onChangeExchangeBtnClick=function(e,t){_.default.getInstance().sound_manager.playSound(A.SoundIndex.click),t=Number(t);var a=this.node.getChildByName("exchange"),n=0;switch(m.HeroBaseInfoManager.getInstance().getQuality(this.hero_type)){case 1:n=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyC);break;case 2:n=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyB);break;case 3:n=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyA);break;case 4:n=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyS);break;case 5:n=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeySS);break;case 6:n=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeySSS)}var o=a.getChildByName("slider").getComponent(cc.Slider);o.progress=(o.progress*n+1*t)/n,o.progress>1&&(o.progress=1),o.progress<0&&(o.progress=0),a.getChildByName("slider").getComponent(cc.ProgressBar).progress=o.progress,a.getChildByName("num").getComponent(cc.Label).string=(o.progress*n).toFixed()+"/"+n},t.prototype.onPreviewChangeExchangeBtnClick=function(e,t){_.default.getInstance().sound_manager.playSound(A.SoundIndex.click),t=Number(t);var a=this.node.getChildByName("previewExchange"),n=0;switch(m.HeroBaseInfoManager.getInstance().getQuality(this.hero_type)){case 1:n=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyC);break;case 2:n=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyB);break;case 3:n=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyA);break;case 4:n=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeyS);break;case 5:n=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeySS);break;case 6:n=x.PropManager.getInstance().getPropNum(G.PropId.HeroMasterKeySSS)}var o=a.getChildByName("slider").getComponent(cc.Slider);o.progress=(o.progress*n+1*t)/n,o.progress>1&&(o.progress=1),o.progress<0&&(o.progress=0),a.getChildByName("slider").getComponent(cc.ProgressBar).progress=o.progress,a.getChildByName("num").getComponent(cc.Label).string=(o.progress*n).toFixed()+"/"+n},t.prototype.onCloseExchangeBtnClick=function(){_.default.getInstance().sound_manager.playSound(A.SoundIndex.click),this.node.getChildByName("exchange").active=!1},t.prototype.onClosePreviewExchangeBtnClick=function(){_.default.getInstance().sound_manager.playSound(A.SoundIndex.click),this.node.getChildByName("previewExchange").active=!1},t.prototype.onCloseReductionBtnClick=function(){_.default.getInstance().sound_manager.playSound(A.SoundIndex.click),this.node.getChildByName("reduction").active=!1},t.prototype.onShowReductionBtnClick=function(){_.default.getInstance().sound_manager.playSound(A.SoundIndex.click);var e=this.node.getChildByName("reduction"),t=Q.LevelUpManager.getInstance().getNowLevelAllCostCoin(y.HeroManager.getInstance().getHeroLevel(this.hero_type)),a=e.getChildByName("itemRoot");a.children[0].getComponent(R.default).init(G.PropId.Coin,t[0],G.PropAction.Look),0==t[1]?a.children[1].active=!1:(a.children[1].active=!0,a.children[1].getComponent(R.default).init(G.PropId.Gem,t[1],G.PropAction.Look)),e.active=!0,e.getChildByName("richText").getComponent(cc.RichText).string=B.default.getInstance().getStrByTextId(100098)},t.prototype.onReductionBtnClick=function(){var e=this;if(_.default.getInstance().sound_manager.playSound(A.SoundIndex.click),x.PropManager.getInstance().changePropNum(G.PropId.Gem,-200)){var t=y.HeroManager.getInstance().getHeroZhanli(this.hero_type),a=y.HeroManager.getInstance().getDeepHeroData(this.hero_type),n=Q.LevelUpManager.getInstance().getNowLevelAllCostCoin(y.HeroManager.getInstance().getHeroLevel(this.hero_type));x.PropManager.getInstance().changePropNum(G.PropId.Coin,n[0]),x.PropManager.getInstance().changePropNum(G.PropId.Gem,n[1]),_.default.getInstance().showMultipleGetTip([x.PropManager.getInstance().createPropItem(G.PropId.Coin,n[0]),x.PropManager.getInstance().createPropItem(G.PropId.Gem,n[1])]),y.HeroManager.getInstance().resetHeroLvel(this.hero_type);var o=y.HeroManager.getInstance().getHeroZhanli(this.hero_type),i=y.HeroManager.getInstance().getDeepHeroData(this.hero_type);Y.UIManager.getInstance().showCombatChangeEffect(t,o,a,i),this.node.getChildByName("reduction").active=!1,this.infoRefresh(),this.state==r.Level?this.upgradeRefresh():this.upstarRefresh(),T.default.getInstance().followEvent(b.Follow_Type.\u4e0d\u540c\u82f1\u96c4\u8fd8\u539f\u7684\u6b21\u6570+this.hero_type)}else this.node.getChildByName("reduction").active=!1,Y.UIManager.getInstance().showUiDialog(K.UIPath.CoinPop,K.UILayerLevel.Two,{onCompleted:function(t){t.getComponent(c.default).init({onClose:function(){e.infoRefresh(),e.state==r.Level?e.upgradeRefresh():e.upstarRefresh()}}),t.getComponent(c.default).initUi(G.PropId.Gem)}})},t.prototype.onAttributeBtnClick=function(){var e=this;_.default.getInstance().sound_manager.playSound(A.SoundIndex.click),T.default.getInstance().followEvent(b.Follow_Type.\u67e5\u770b\u82f1\u96c4\u5c5e\u6027\u8be6\u60c5),Y.UIManager.getInstance().showUiDialog(K.UIPath.Attribute,K.UILayerLevel.Two,{onCompleted:function(t){t.getComponent(q.default).init(null),t.getComponent(q.default).initHeroType(e.hero_type)}})},t.prototype.onPreviewAttributeBtnClick=function(){var e=this;_.default.getInstance().sound_manager.playSound(A.SoundIndex.click),T.default.getInstance().followEvent(b.Follow_Type.\u67e5\u770b\u82f1\u96c4\u5c5e\u6027\u8be6\u60c5),Y.UIManager.getInstance().showUiDialog(K.UIPath.Attribute,K.UILayerLevel.Two,{onCompleted:function(t){t.getComponent(q.default).init(null),t.getComponent(q.default).initPreviewHeroType(e.hero_type,m.HeroBaseInfoManager.getInstance().getMaxStage(e.hero_type),m.HeroBaseInfoManager.getInstance().getMaxLevel(e.hero_type))}})},t.prototype.onBtnExclusiveEquipmentClick=function(){var e=this;Y.UIManager.getInstance().showUiDialog(K.UIPath.ExclusiveInfoUi,K.UILayerLevel.Two,{onCompleted:function(t){t.getComponent(f.default).init({onClose:function(){e.upgradeRefresh()}}),t.getComponent(f.default).initData(e.hero_type)}})},t.prototype.onBtnPetClick=function(){var e=this;_.default.getInstance().sound_manager.playSound(A.SoundIndex.click),T.default.getInstance().followEvent(b.Follow_Type.\u82f1\u96c4\u754c\u9762\u5ba0\u7269\u680f\u70b9\u51fb\u6b21\u6570),T.default.getInstance().followEvent(b.Follow_Type.\u82f1\u96c4_\u7075\u5ba0\u680f\u70b9\u51fb\u6b21\u6570),0==y.HeroManager.getInstance().getWearPet(this.hero_type)?Y.UIManager.getInstance().showUiDialog(K.UIPath.PetList,K.UILayerLevel.Two,{onCompleted:function(t){t.getComponent(L.default).init({onClose:function(){e.upgradeRefresh()}}),t.getComponent(L.default).initData(y.HeroManager.getInstance().getWearPet(e.hero_type),e.hero_type)}}):Y.UIManager.getInstance().showUiDialog(K.UIPath.PetInfo,K.UILayerLevel.Two,{onCompleted:function(t){t.getComponent(D.default).init({onClose:function(){e.upgradeRefresh()}}),t.getComponent(D.default).initData(e.hero_type)}})},t.prototype.onBtnExclusiveEquipAddClick=function(){var e=this;_.default.getInstance().sound_manager.playSound(A.SoundIndex.click),Y.UIManager.getInstance().showUiDialog(K.UIPath.ExclusiveStrengthening,K.UILayerLevel.One,{onCompleted:function(t){t.getComponent($.default).init({onClose:function(){}}),t.getComponent($.default).initData(e.hero_type,!0)}})},t.prototype.onBtnExclusiveEquipStrengtheningUi=function(){var e=this;_.default.getInstance().sound_manager.playSound(A.SoundIndex.click),Y.UIManager.getInstance().showUiDialog(K.UIPath.Exclusive,K.UILayerLevel.One,{onCompleted:function(t){t.getComponent(ee.default).init({onClose:function(){}}),t.getComponent(ee.default).initData(e.hero_type)}})},t.prototype.onClickExclusiveWeapon=function(){y.HeroManager.getInstance().getHeroLevel(this.hero_type)<=100&&_.default.getInstance().showMessage(B.default.getInstance().getStrByTextId(130005))},t.prototype.onClickArrowBtn=function(e,t){if(_.default.getInstance().sound_manager.playSound(A.SoundIndex.click),t=Number(t),null==this.sqrtList){var a=this.hero_type+t;a<=M.Hero_Type.NULL&&(a=M.Hero_Type.Hero_Num-1),a>=M.Hero_Type.Hero_Num&&(a=M.Hero_Type.NULL+1),this.initData(a)}else{var n=this.sqrtList.indexOf(m.HeroBaseInfoManager.getInstance().getJsonHeroBaseInfo(this.hero_type));(n+=t)>=this.sqrtList.length&&(n=0),n<0&&(n=this.sqrtList.length-1),this.initData(this.sqrtList[n].Hero_ID,this.sqrtList)}},t.prototype.getHeroAttributeId=function(e,t){return 1e4*e+t},t.prototype.clickBtnClose=function(){_.default.getInstance().sound_manager.playSound(A.SoundIndex.click),this.destroySelf(),y.HeroManager.getInstance().reportHeroList(),x.PropManager.getInstance().saveAllPropNum(!0),cc.find("Canvas").getComponent(C.default).refreshTop()},t.prototype.destroySelf=function(){e.prototype.onClose.call(this),s.default.getInstance().closeBanner(),j.EventManager.postRedEvent(j.RedEventString.RED_CHECK,y.HeroManager.getRedTypeByHeroType(this.hero_type))},i([oe(cc.SpriteAtlas)],t.prototype,"role_ui",void 0),i([oe(cc.Node)],t.prototype,"hero_avatar_light",void 0),i([oe(cc.Node)],t.prototype,"cur_hero",void 0),i([oe({type:[sp.SkeletonData]})],t.prototype,"hero_skeleton_data",void 0),i([ne],t)}(z.default);a.default=ie,cc._RF.pop()},{"../../Ads/ApkManager":"ApkManager","../../CoinPop":"CoinPop","../../Equipment/Data/EquipmentAttribute":"EquipmentAttribute","../../Equipment/Data/EquipmentMerge":"EquipmentMerge","../../Equipment/EquipConfig":"EquipConfig","../../Equipment/EquipmentManager":"EquipmentManager","../../Equipment/Ui/EquipInfoUi":"EquipInfoUi","../../Equipment/Ui/EquipItem":"EquipItem","../../ExclusiveInfoUi/ExclusiveInfoUi":"ExclusiveInfoUi","../../GameManager":"GameManager","../../Hero/Data/HeroBaseInfo":"HeroBaseInfo","../../Hero/Data/HeroManager":"HeroManager","../../Hero/Data/HeroTitle":"HeroTitle","../../Hero/Data/SkillLevelUnlock":"SkillLevelUnlock","../../Hero/Game/HeroConfig":"HeroConfig","../../Home":"Home","../../JsonData/EWUnlockCost":"EWUnlockCost","../../JsonData/ExclusiveEnhancement":"ExclusiveEnhancement","../../Level/LevelManager":"LevelManager","../../Pet/PetManager":"PetManager","../../Pet/Ui/PetExchangeUi":"PetExchangeUi","../../Pet/Ui/PetInfoUi":"PetInfoUi","../../Pet/Ui/PetItem":"PetItem","../../Prop/Prop":"Prop","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../Store/StoreHeroShowUi":"StoreHeroShowUi","../../Task/TaskEnum":"TaskEnum","../../Task/TaskManager":"TaskManager","../../Tools/EventManager":"EventManager","../../Tools/MyTool":"MyTool","../../Tools/NumberLabel":"NumberLabel","../../Tutorials/TutorailsManager":"TutorailsManager","../../UI/GetAssetsUi":"GetAssetsUi","../../UI/UIComponent":"UIComponent","../../UI/UIConfig":"UIConfig","../../UI/UIManager":"UIManager","../../UI/home/AtrributeUi":"AtrributeUi","../../multiLanguage/FollowConstants":"FollowConstants","../../multiLanguage/FollowManager":"FollowManager","../../multiLanguage/LanguageManager":"LanguageManager","../../multiLanguage/TextLanguage":"TextLanguage","../Data/HeroAttribute":"HeroAttribute","../Data/HeroQuality":"HeroQuality","../Data/LevelUp":"LevelUp","./ExclusiveWeaponsStrengtheningUi":"ExclusiveWeaponsStrengtheningUi","./ExclusiveWeaponsUi":"ExclusiveWeaponsUi","./HeroSkillUi":"HeroSkillUi"}],SettingUi:[function(e,t,a){"use strict";cc._RF.push(t,"a878e/cdbhOHIPn6OB8VKwT","SettingUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../.././NetWork/HttpManager"),s=e("../../Ads/ApkManager"),c=e("../../Constants"),l=e("../../GameData"),g=e("../../GameManager"),u=e("../../multiLanguage/LanguageConstants"),p=e("../../multiLanguage/LanguageManager"),d=e("../../Prop/PropManager"),h=e("../../Sound/AudioConstants"),f=e("../../UserData"),_=e("../UIComponent"),m=e("../UIConfig"),y=e("../UIManager"),I=e("./AvatarUi"),v=e("./MainUi"),M=cc._decorator,C=M.ccclass,S=M.property,P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sound_sp=[],t.muisc_sp=[],t.music_slider=null,t.sound_slider=null,t.music_progress=null,t.sound_progress=null,t.music_sprite=null,t.sound_sprite=null,t.sprite_atlas=null,t.cur_select_lan=u.LanguageType.en,t}return o(t,e),t.prototype.onEnable=function(){this.showName(),this.showId(),this.setMusic(),this.setSound(),this.setVersion(),this.showAvatar(),this.showLan(),this.setBtnLogin(),s.default.getInstance().showBanner()},t.prototype.setBtnLogin=function(){this.node.getChildByName("btnFb").active=c.IsTestServer,this.node.getChildByName("btnGoogle").active=c.IsTestServer},t.prototype.showName=function(){var e=this.node.getChildByName("info").getChildByName("nameEditBox").getComponent(cc.EditBox);e.string=f.default.getInstance().getUserName(),e.enabled=!1},t.prototype.setVersion=function(){this.node.getChildByName("verStr").getComponent(cc.Label).string=p.default.getInstance().getString(u.LanguageIndex.Version)+" "+s.default.getInstance().app_ver},t.prototype.showAvatar=function(){var e=this.node.getChildByName("info").getChildByName("headPortrait").getChildByName("btnAvatar"),t=f.default.getInstance().getUserAvatar();e.getComponent(cc.Sprite).spriteFrame=d.PropManager.getInstance().getSpheadPortraitType(t)},t.prototype.getAvatar=function(e){return this.sprite_atlas.getSpriteFrame(e)},t.prototype.showAvatarRoot=function(){var e=this;y.UIManager.getInstance().showUiDialog(m.UIPath.AvatarRoot,m.UILayerLevel.Two,{onCompleted:function(t){t.getComponent(I.default).init({onClose:function(){e.showAvatar()}})}})},t.prototype.showId=function(){this.node.getChildByName("info").getChildByName("idStr").getComponent(cc.Label).string=f.default.getInstance().getUserID()},t.prototype.clickBtnAvatar=function(){g.default.getInstance().sound_manager.playSound(h.SoundIndex.click),this.showAvatarRoot()},t.prototype.clickBtnRename=function(){g.default.getInstance().sound_manager.playSound(h.SoundIndex.click);var e=this.node.getChildByName("info").getChildByName("nameEditBox").getComponent(cc.EditBox);e.enabled=!0,e.focus()},t.prototype.onRenameFinish=function(e){""!=e.string&&(f.default.getInstance().saveUserName(e.string),this.showName())},t.prototype.onClose=function(){cc.log("SettingUi")},t.prototype.clickBtnClose=function(){g.default.getInstance().sound_manager.playSound(h.SoundIndex.click),g.default.getInstance().saveSound(),g.default.getInstance().refreshTopShow(),r.HttpManager.post(r.AccessName.updateAvatar,this.getNameAndIconJsonString()),e.prototype.onClose.call(this),s.default.getInstance().closeBanner()},t.prototype.showLan=function(){this.cur_select_lan=p.default.getInstance().getCurLanguageType()},t.prototype.clickSelectLan=function(e,t){g.default.getInstance().sound_manager.playSound(h.SoundIndex.click);var a=parseInt(t);a!=this.cur_select_lan&&(this.cur_select_lan=a,this.showSelectLan())},t.prototype.showSelectLan=function(){var e=this.node.getChildByName("lanSelectRoot");e.active=!0;var t=e.getChildByName("lanRoot"),a=e.getChildByName("select"),n=this.cur_select_lan,o=t.children[n];a.x=o.x+t.x,a.y=o.y+t.y},t.prototype.closeSelectLan=function(){this.node.getChildByName("lanSelectRoot").active=!1,p.default.getInstance().setLanguage(this.cur_select_lan),cc.find("Canvas/main_ui").getComponent(v.default).onEnable(),this.onEnable()},t.prototype.clickBtnLan=function(){g.default.getInstance().sound_manager.playSound(h.SoundIndex.click),this.showSelectLan()},t.prototype.clickBtnOkLan=function(){this.scheduleOnce(function(){cc.find("Canvas/main_ui").getComponent(v.default).refreshMainTaskUi()},.02),g.default.getInstance().sound_manager.playSound(h.SoundIndex.click),this.closeSelectLan()},t.prototype.clickBtnEmail=function(){g.default.getInstance().sound_manager.playSound(h.SoundIndex.click),s.default.getInstance().showCallMe()},t.prototype.clickBtnFb=function(){g.default.getInstance().sound_manager.playSound(h.SoundIndex.click),g.default.getInstance().showMessage(p.default.getInstance().getStrByTextId(100113))},t.prototype.clickBtnGoogle=function(){g.default.getInstance().sound_manager.playSound(h.SoundIndex.click),g.default.getInstance().showMessage(p.default.getInstance().getStrByTextId(100113))},t.prototype.clickBtnExit=function(){g.default.getInstance().sound_manager.playSound(h.SoundIndex.click),g.default.getInstance().showDialog(p.default.getInstance().getString(u.LanguageIndex.Do_you_really_want_to_quit_game),function(){g.default.getInstance().sound_manager.playSound(h.SoundIndex.click),l.default.getInstance().saveExitTime(),cc.game.end()},function(){g.default.getInstance().sound_manager.playSound(h.SoundIndex.click)},0)},t.prototype.clickBtnSound=function(){g.default.getInstance().sound_manager.playSound(h.SoundIndex.click),g.default.getInstance().sound_manager.volume>0&&(g.default.getInstance().sound_manager.mute=!g.default.getInstance().sound_manager.mute,this.setSound())},t.prototype.clickBtnMusic=function(){g.default.getInstance().sound_manager.playSound(h.SoundIndex.click),g.default.getInstance().music_manager.volume>0&&(g.default.getInstance().music_manager.mute=!g.default.getInstance().music_manager.mute,this.setMusic())},t.prototype.touchSoundSlider=function(e){g.default.getInstance().sound_manager.volume=e.progress,e.progress>0?g.default.getInstance().sound_manager.mute=!1:g.default.getInstance().sound_manager.mute=!0,this.setSound()},t.prototype.touchSoundSliderEnd=function(){g.default.getInstance().sound_manager.playSound(h.SoundIndex.click),g.default.getInstance().saveSound()},t.prototype.touchMusicSlider=function(e){g.default.getInstance().music_manager.volume=e.progress,e.progress>0?g.default.getInstance().music_manager.mute=!1:g.default.getInstance().music_manager.mute=!0,this.setMusic()},t.prototype.touchMusicSliderEnd=function(){g.default.getInstance().sound_manager.playSound(h.SoundIndex.click),g.default.getInstance().saveSound()},t.prototype.setSound=function(){var e=g.default.getInstance().sound_manager;this.sound_slider.progress=e.volume,this.sound_progress.width=360*e.volume,e.mute?this.sound_sprite.spriteFrame=this.sound_sp[0]:this.sound_sprite.spriteFrame=this.sound_sp[1]},t.prototype.setMusic=function(){var e=g.default.getInstance().music_manager;this.music_slider.getComponent(cc.Slider).progress=e.volume,this.music_progress.width=360*e.volume,e.mute?this.music_sprite.spriteFrame=this.muisc_sp[0]:this.music_sprite.spriteFrame=this.muisc_sp[1]},t.prototype.getNameAndIconJsonString=function(){var e=f.default.getInstance().getUserID(),t=f.default.getInstance().getUserAvatar(),a=f.default.getInstance().getUserName();return JSON.stringify({uid:e,avatarId:t,name:a})},i([S([cc.SpriteFrame])],t.prototype,"sound_sp",void 0),i([S([cc.SpriteFrame])],t.prototype,"muisc_sp",void 0),i([S(cc.Slider)],t.prototype,"music_slider",void 0),i([S(cc.Slider)],t.prototype,"sound_slider",void 0),i([S(cc.Node)],t.prototype,"music_progress",void 0),i([S(cc.Node)],t.prototype,"sound_progress",void 0),i([S(cc.Sprite)],t.prototype,"music_sprite",void 0),i([S(cc.Sprite)],t.prototype,"sound_sprite",void 0),i([S(cc.SpriteAtlas)],t.prototype,"sprite_atlas",void 0),i([C],t)}(_.default);a.default=P,cc._RF.pop()},{"../.././NetWork/HttpManager":"HttpManager","../../Ads/ApkManager":"ApkManager","../../Constants":"Constants","../../GameData":"GameData","../../GameManager":"GameManager","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../UserData":"UserData","../../multiLanguage/LanguageConstants":"LanguageConstants","../../multiLanguage/LanguageManager":"LanguageManager","../UIComponent":"UIComponent","../UIConfig":"UIConfig","../UIManager":"UIManager","./AvatarUi":"AvatarUi","./MainUi":"MainUi"}],ShaChenBao:[function(e,t,a){"use strict";cc._RF.push(t,"10fd1mIM2dG4oGI4E300Wlr","ShaChenBao");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Constants"),s=e("../../../Game/GameEffectsManager"),c=e("../../../GameManager"),l=e("../../../Monster/Monster"),g=e("../../../Monster/MonsterData"),u=e("../../../Monster/MonsterManager"),p=e("../../../Sound/AudioConstants"),d=e("../../../Tools/MyTool"),h=e("../GongJi"),f=e("../HeroConfig"),_=cc._decorator,m=_.ccclass,y=(_.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.remain_time=0,t.damage_time=0,t.damage_jiange=1,t.fanwei=100,t.qianyin_sudu=200,t.cur_rotation=0,t.ratating_speed=Math.PI,t.min_distance=100,t}return o(t,e),t.prototype.init=function(t,a,n,o){e.prototype.initData.call(this,t),this.remain_time=a,this.damage_jiange=n,this.damage_time=0,this.fanwei=o,this.node.scale=o/110,c.default.getInstance().sound_manager.playSound(p.SoundIndex.YX_ANBSSkill)},t.prototype.destroySelf=function(){s.GameEffectsManager.getInstance().destroyGameEffectById(s.GameEffectId.a_nu_bi_si_active_skill_1,this.node)},t.prototype.update=function(e){if(c.default.getInstance().cur_game_state==r.GameState.Game_Playing&&this.remain_time>0){this.cur_rotation+=e*this.ratating_speed,this.remain_time-=e;var t=!1;this.remain_time<0&&(this.remain_time=0,this.destroySelf(),t=!0);var a=u.default.getInstance().node.children,n=a.length;this.damage_time-=e;var o=!1;if(this.damage_time<0&&(this.damage_time=this.damage_jiange,o=!0),n<=0)return null;for(var i=0;i<n;i++){var s=a[i],p=s.getComponent(l.default);if(p&&p.getIsCanCheck()){var h=this.node.getPosition().sub(p.getCenterPos());if(h.mag()<=this.fanwei){if(o&&p.beFlashInjured(this.gongji_data),p.getStrengthType()!=g.StrengthType.Boss){var _=Math.atan2(h.y,h.x),m=Math.cos(_)*this.qianyin_sudu*e,y=Math.sin(_)*this.qianyin_sudu*e,I=s.x+m,v=s.y+y,M=cc.v2(I,v).sub(this.node.getPosition()),C=M.mag(),S=d.default.randomRangeInt(50,120);p.setQianYinMin(S),C<p.getQianYinMin()&&(C=p.getQianYinMin());var P=Math.atan2(M.y,M.x),k=(P=(P+2*Math.PI)%(2*Math.PI))+this.ratating_speed*e;k=(k+2*Math.PI)%(2*Math.PI),v=this.node.y+Math.sin(k)*C,I=this.node.x+Math.cos(k)*C,p.setX(I),p.setY(v),0==p.isHaveDeBuff(f.BuffId.Hero_MeiMo_Active_MeiHuo)&&(p.setMoveDir(_+Math.PI),p.setFlip(I>this.node.x)),t&&p.setMoveDir(3*Math.PI/2)}}else 0==p.isHaveDeBuff(f.BuffId.Hero_MeiMo_Active_MeiHuo)&&p.setMoveDir(3*Math.PI/2)}}}},i([m],t)}(h.default));a.default=y,cc._RF.pop()},{"../../../Constants":"Constants","../../../Game/GameEffectsManager":"GameEffectsManager","../../../GameManager":"GameManager","../../../Monster/Monster":"Monster","../../../Monster/MonsterData":"MonsterData","../../../Monster/MonsterManager":"MonsterManager","../../../Sound/AudioConstants":"AudioConstants","../../../Tools/MyTool":"MyTool","../GongJi":"GongJi","../HeroConfig":"HeroConfig"}],ShaDan:[function(e,t,a){"use strict";cc._RF.push(t,"ab69d4cxRVF5Ku4rYUwxYvp","ShaDan");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Game/GameEffectsManager"),s=e("../../../GameManager"),c=e("../../../Monster/Monster"),l=e("../../../Monster/MonsterManager"),g=e("../../../Sound/AudioConstants"),u=e("../BuffData"),p=e("../Bullect"),d=e("../HeroConfig"),h=cc._decorator,f=h.ccclass,_=(h.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addCollisionMonsterListen.call(this,this.onCollisionMonster)},t.prototype.onCollisionMonster=function(e){if(e){if(e.beFlashInjured(this.gongji_data).getDamageNum()>0&&(r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.a_nu_bi_si_attack_hit,this.node.getPosition()),Math.random()<this.gongji_data.hero_data.getSkillValue1(d.SkillType.Passive_1))){s.default.getInstance().sound_manager.playSound(g.SoundIndex.YX_ANBSAttack);var t=cc.instantiate(this.gongji_data);t.damage_type=d.DamageType.Skill,t.is_bullet=!1,t.skill_damage_rate=this.gongji_data.hero_data.getSkillValue2(d.SkillType.Passive_1),r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.a_nu_bi_si_beidong_skill_1,this.node.getPosition()).angle=this.node.angle;var a=this.move_direction-Math.PI/4,n=a+Math.PI/2,o=l.default.getInstance().getMonstersForRadian(-1,this.node.getPosition(),260,a,n);if(o)for(var i=0;i<o.length;i++){var p=o[i].getComponent(c.default);if(p.beFlashInjured(t).getDamageNum()>0){var h=new u.BuffData;h.buff_id=d.BuffId.Hero_ANuBiSi_Skill1_JianSu,h.buff_type=d.BuffType.Slowdown,h.buff_value=[.3],h.remain_time=3,p.addDeBuff(h,t)}}}this.destroySelf()}},i([f],t)}(p.default));a.default=_,cc._RF.pop()},{"../../../Game/GameEffectsManager":"GameEffectsManager","../../../GameManager":"GameManager","../../../Monster/Monster":"Monster","../../../Monster/MonsterManager":"MonsterManager","../../../Sound/AudioConstants":"AudioConstants","../BuffData":"BuffData","../Bullect":"Bullect","../HeroConfig":"HeroConfig"}],SheShou:[function(e,t,a){"use strict";cc._RF.push(t,"3de34DF8o5MSbwgxERAdtb9","SheShou");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Constants"),s=e("../../../Game/FightingManager"),c=e("../../../Game/GameEffectsManager"),l=e("../../../Game/SkillManager"),g=e("../../../GameManager"),u=e("../../../Monster/Monster"),p=e("../../../Monster/MonsterData"),d=e("../../../Monster/MonsterManager"),h=e("../../../Sound/AudioConstants"),f=e("../../../Tools/MyTool"),_=e("../Hero"),m=e("../HeroConfig"),y=e("./JianShi"),I=cc._decorator,v=I.ccclass,M=(I.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.jianyu_num=0,t.test_fenzhi=1,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.sheshou_jianshi_att,8),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.sheshou_jianshi_skill,8),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.sheshou_jianshi_att_hit,8),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.sheshou_attack_ctrl_hit,2),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.sheshou_jianshi_super_skill_1,16),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.sheshou_jianshi_super_skill_2,16),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.sheshou_jianshi_super_skill_3,16),this.addSkillListen(this.useSkill),this.addAttackListen(this.normalAttack),this.addXuanYunListen(this.onXuanYunResult),this.addHitListen(this.onHitMonster)},t.prototype.start=function(){e.prototype.start.call(this),this.is_need_check_distance=!0;var t=2*this.hero_data.getSkillValue1(m.SkillType.Active);e.prototype.setSkillTipSize.call(this,t,t)},t.prototype.onXuanYunResult=function(e){e?this.unscheduleAllCallbacks():this.setHeroState(m.Hero_State.idle,m.GongJi_FangXiang.zhong)},t.prototype.starteIdle=function(){this.setHeroState(m.Hero_State.idle,this.cur_fangxiang)},t.prototype.onHitMonster=function(){},t.prototype.createJianShi=function(e,t,a,n,o){var i=s.default.getInstance().createGameEffectById(e,t);return i.getComponent(y.default).init(e,a,n,o),i},t.prototype.getSJFXByPos=function(e,t){var a=m.GongJi_FangXiang.zhong,n=e.sub(t),o=2*Math.PI,i=(Math.atan2(n.y,n.x)+o)%o*180/Math.PI;return i<=75?a=m.GongJi_FangXiang.you:i>75&&i<105?a=m.GongJi_FangXiang.zhong:i>=105&&i<=180&&(a=m.GongJi_FangXiang.zuo),a},t.prototype.normalAttack=function(e){if(g.default.getInstance().cur_game_state==r.GameState.Game_Playing){var t=e.getComponent(u.default).getSheShouPos();0==this.checkSkill1(t)&&this.startAttack(e)}},t.prototype.startAttack=function(t){var a=this;this.is_can_gongji=!1;var n=this.getSJFXByPos(t.getPosition(),this.node.getPosition()),o=new p.KeyFrameData;o.name="Attack",o.callback=function(){var n=t.getComponent(u.default).getSheShouPos(),o=a.getCreateBulletPos(),i=n.sub(o),r=Math.atan2(i.y,i.x),s=e.prototype.getGongJiData.call(a,m.DamageType.Normal,!0,m.SkillType.Null);a.createJianShi(c.GameEffectId.sheshou_jianshi_att,o,a.bullet_speed,r,s),g.default.getInstance().sound_manager.playSound(h.SoundIndex.YX_GongjianshouAttack),a.is_double_attack?a.resetNormalAttack():a.gongji_jishu=0},e.prototype.setHeroState.call(this,m.Hero_State.attack,n,[o],function(){e.prototype.setHeroState.call(a,m.Hero_State.idle,n)})},t.prototype.checkSkill1=function(t){var a=this,n=this.hero_data.getSkillValue1(m.SkillType.Passive_1);if(this.jianyu_num>0&&(n=1,this.jianyu_num--),n&&Math.random()<n){this.is_can_gongji=!1;var o=new p.KeyFrameData;return o.name="Attack",o.callback=function(){a.gongji_jishu=0;var n=e.prototype.getCreateBulletPos.call(a),o=t.sub(n),i=2*Math.PI,r=(Math.atan2(o.y,o.x)+i)%i,s=Math.PI/60,l=a.hero_data.getSkillValue2(m.SkillType.Passive_1),u=Math.floor(l/10)+1;l%10==0&&u--;for(var p=Math.floor(l/u),d=p+l%u,f=e.prototype.getGongJiData.call(a,m.DamageType.Skill,!0,m.SkillType.Passive_1,a.hero_data.getSkillValue3(m.SkillType.Passive_1)),_=function(e){var t=0==e?d:p;a.scheduleOnce(function(){for(var e=0;e<t;e++){var o=r+(e-t/2)*s;a.createJianShi(c.GameEffectId.sheshou_jianshi_skill,n,a.bullet_speed,o,f)}},.2*e)},y=0;y<u;y++)_(y);g.default.getInstance().sound_manager.playSound(h.SoundIndex.YX_GongjianshouSkill)},e.prototype.setHeroState.call(this,m.Hero_State.attack,m.GongJi_FangXiang.zhong,[o],function(){e.prototype.setHeroState.call(a,m.Hero_State.idle,m.GongJi_FangXiang.zhong)}),!0}return!1},t.prototype.useSkill=function(e){var t=this;return l.default.getInstance().releaseSkill(function(){t.startSelfXuLi(e)},this.node),2},t.prototype.startSelfXuLi=function(e){var t=this,a=cc.find("Canvas/Hero_Root"),n=new p.KeyFrameData;n.name="FaShe",n.callback=function(){l.default.getInstance().setTimeStop(!1),t.node.parent=a,t.node.zIndex=2,t.startLaunch(e)},this.setHeroState(m.Hero_State.skill,m.GongJi_FangXiang.zhong,[n],function(){t.resetGongJiJiShu(),t.setHeroState(m.Hero_State.idle,m.GongJi_FangXiang.zhong)}),this.spine.timeScale=r.JiaSu},t.prototype.startLaunch=function(t){e.prototype.setAttSpineScale.call(this),this.resetGongJiJiShu(),g.default.getInstance().sound_manager.playSound(h.SoundIndex.YX_GongjianshouSkill);var a=e.prototype.getGongJiData.call(this,m.DamageType.Skill,!1,m.SkillType.Active,this.hero_data.getSkillValue2(m.SkillType.Active)),n=2*Math.PI,o=this.hero_data.getSkillValue1(m.SkillType.Active),i=function(){var e=Math.random()*o,a=Math.random()*n,i=t.x+Math.cos(a)*e,r=t.y+Math.sin(a)*e,s=cc.v2(i+Math.random()*o*2-o,1280+r),l=cc.v2(i,r),g=l.sub(s),u=f.default.radianToAngle(Math.atan2(g.y,g.x))+90,p=c.GameEffectsManager.getInstance().createGameEffectById(c.GameEffectId.sheshou_jianshi_super_skill_2,s);p.scale=2,p.angle=u,cc.tween(p).to(.3*Math.random()+.2,{x:l.x,y:l.y,scale:.3}).call(function(e){c.GameEffectsManager.getInstance().destroyGameEffectById(c.GameEffectId.sheshou_jianshi_super_skill_2,p);var t=c.GameEffectsManager.getInstance().createGameEffectById(c.GameEffectId.sheshou_jianshi_super_skill_3,e.getPosition());t.opacity=255,t.angle=u;var a=c.GameEffectsManager.getInstance().createGameEffectById(c.GameEffectId.sheshou_jianshi_super_skill_1,e.getPosition());a.opacity=255,a.scale=.4,a.getComponent(sp.Skeleton).setAnimation(0,"Skill_Hit",!1),cc.tween(a).delay(.9).to(.5,{opacity:0}).call(function(){c.GameEffectsManager.getInstance().destroyGameEffectById(c.GameEffectId.sheshou_jianshi_super_skill_1,a)}).start(),cc.tween(t).by(.1,{angle:10*Math.random()}).by(.1,{angle:-10*Math.random()}).by(.1,{angle:10*Math.random()}).by(.1,{angle:-10*Math.random()}).delay(.5).to(.5,{opacity:0}).call(function(){c.GameEffectsManager.getInstance().destroyGameEffectById(c.GameEffectId.sheshou_jianshi_super_skill_3,t)}).start()}).start()},r=0,s=this.hero_data.ExclusiveWeaponSkillValue_1;s&&s>0&&(r=s);for(var p=60+4*r,_=0;_<p;_++)this.scheduleOnce(function(){i()},3*Math.random()),this.scheduleOnce(function(){i()},3*_/p);var y=0,I=15+r;this.schedule(function(){0==y&&f.default.randomSceneShake(-5,5,.02,6),y++;var e=d.default.getInstance().getMonstersForCenterPos(-1,t,o);if(e)for(var n=0;n<e.length;n++)e[n].getComponent(u.default).beFlashInjured(a)},3/I,I-1),l.default.getInstance().setIsSkillState(!1)},i([v],t)}(_.default));a.default=M,cc._RF.pop()},{"../../../Constants":"Constants","../../../Game/FightingManager":"FightingManager","../../../Game/GameEffectsManager":"GameEffectsManager","../../../Game/SkillManager":"SkillManager","../../../GameManager":"GameManager","../../../Monster/Monster":"Monster","../../../Monster/MonsterData":"MonsterData","../../../Monster/MonsterManager":"MonsterManager","../../../Sound/AudioConstants":"AudioConstants","../../../Tools/MyTool":"MyTool","../Hero":"Hero","../HeroConfig":"HeroConfig","./JianShi":"JianShi"}],ShieldAttack2:[function(e,t,a){"use strict";cc._RF.push(t,"8ffdet1NHZIX5Co/I71jvYH","ShieldAttack2");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Game/GameEffectsManager"),s=e("../../GameManager"),c=e("../../Hero/Game/BuffData"),l=e("../../Hero/Game/HeroConfig"),g=e("../../Monster/MonsterData"),u=e("../../Sound/AudioConstants"),p=e("../../Tools/MyTool"),d=e("../../Wall/WallManager"),h=cc._decorator,f=h.ccclass,_=(h.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boss_pos=cc.v2(0,0),t}return o(t,e),t.prototype.setBossPos=function(e){this.boss_pos=e},t.prototype.onShieldAttack=function(){var e=this;d.default.getInstance().getAllWall().forEach(function(t){t.getWallMaxYY()<e.boss_pos.y&&t.beRealDamage(l.DamageType.Skill,g.StrengthType.Boss,.25*t.getMaxHp())}),r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.boss2_normal_skill_hit,cc.v2(this.node.x,s.default.getInstance().enemy_att_y)),s.default.getInstance().sound_manager.playSound(u.SoundIndex.YX_Boss2Skill),s.default.getInstance().all_hero.forEach(function(e){var t=new c.BuffData;t.buff_id=l.BuffId.Monster_XuanYun,t.game_effect_id=r.GameEffectId.xuanyun,t.remain_time=1,t.buff_type=l.BuffType.Vertigo,e.addDeBuff(t)}),p.default.randomSceneShakeBig()},i([f],t)}(cc.Component));a.default=_,cc._RF.pop()},{"../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../../Hero/Game/BuffData":"BuffData","../../Hero/Game/HeroConfig":"HeroConfig","../../Monster/MonsterData":"MonsterData","../../Sound/AudioConstants":"AudioConstants","../../Tools/MyTool":"MyTool","../../Wall/WallManager":"WallManager"}],Shield:[function(e,t,a){"use strict";cc._RF.push(t,"80586uDfGNIs5sPpF8U+m6C","Shield");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Constants"),s=e("../Game/GameEffectsManager"),c=e("../GameManager"),l=e("../Hero/Game/HeroConfig"),g=cc._decorator,u=g.ccclass,p=(g.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shield_id=0,t.remain_time=0,t.shield_value=0,t.shield_type=l.ShieldType.Normal,t.destroy_callback=null,t.game_effect_data=null,t}return o(t,e),t.prototype.init=function(e,t,a,n,o){this.shield_id=e,this.remain_time=a,this.shield_value=n,this.shield_type=t,this.destroy_callback=o,this.game_effect_data=new Map},t.prototype.changeShieldValue=function(e){var t=this.shield_value+e;return t<0?(this.shield_value=0,this.destroySelf()):this.shield_value=t,t},t.prototype.setGameEffectData=function(e,t){this.game_effect_data.set(e,t)},t.prototype.getShieldValue=function(){return this.shield_value},t.prototype.getRemainTime=function(){return this.remain_time},t.prototype.getShieldType=function(){return this.shield_type},t.prototype.refreshShield=function(e,t){this.remain_time=e,this.shield_value=t},t.prototype.getIsCanWithstand=function(e){return this.shield_type==l.ShieldType.All||this.shield_type==e.valueOf()},t.prototype.destroySelf=function(){this.game_effect_data.forEach(function(e,t){s.GameEffectsManager.getInstance().destroyGameEffectById(t,e)}),this.node.removeFromParent(),this.destroy_callback&&this.destroy_callback(this.shield_id)},t.prototype.update=function(e){c.default.getInstance().cur_game_state==r.GameState.Game_Playing&&this.remain_time>0&&(this.remain_time-=e,this.remain_time<0&&(this.remain_time=0,this.destroySelf()))},i([u],t)}(cc.Component));a.default=p,cc._RF.pop()},{"../Constants":"Constants","../Game/GameEffectsManager":"GameEffectsManager","../GameManager":"GameManager","../Hero/Game/HeroConfig":"HeroConfig"}],Shop:[function(e,t,a){"use strict";cc._RF.push(t,"547d0X6bHhGXKy71q2GNdOz","Shop");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../GameManager"),s=e("../../multiLanguage/LanguageManager"),c=e("../../multiLanguage/TextLanguage"),l=e("../../Prop/Data/Item"),g=e("../../Prop/PropConfig"),u=e("../../Prop/PropManager"),p=e("../../Sound/AudioConstants"),d=e("../../UI/UIComponent"),h=e("./RogueShop"),f=cc._decorator,_=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=null,t.num=null,t.Maze_Shop_Bg_1=null,t.item=[],t}return o(t,e),t.prototype.initUi=function(){var e=this,t=h.RogueShopManager.getMaxShowLoacl();this.Refresh();for(var a=function(t){var a=t+1,o=cc.instantiate(n.Maze_Shop_Bg_1),i=o.getChildByName("name"),r=o.getChildByName("num"),s=o.getChildByName("item"),g=h.RogueShopManager.getInstance().getProp_ID(a);r.getComponent(cc.Label).string=""+h.RogueShopManager.getInstance().getCostNum(a),i.getComponent(c.default).setTextId(l.ItemManager.getInstance().getNameTextId(g));var p=u.PropManager.getInstance().createPropItem(g,h.RogueShopManager.getInstance().getProp_Num(a));p.scale=.6,p.parent=s,o.on(cc.Node.EventType.TOUCH_END,function(){e.clickBtnitem(a)},n),o.active=!0,o.parent=n.content,n.item.push(o)},n=this,o=this.item.length;o<t;o++)a(o)},t.prototype.clickBtnitem=function(e){var t=u.PropManager.getInstance().getPropNum(g.PropId.MazeCoin),a=h.RogueShopManager.getInstance().getCostNum(e);if(t>=a){var n=h.RogueShopManager.getInstance().getProp_ID(e),o=h.RogueShopManager.getInstance().getProp_Num(e),i=u.PropManager.getInstance().createPropItem(n,o);u.PropManager.getInstance().changePropNum(n,o),r.default.getInstance().showGetTip(i),u.PropManager.getInstance().changePropNum(g.PropId.MazeCoin,-a),this.Refresh()}else r.default.getInstance().showMessage(s.default.getInstance().getStrByTextId(830030),3)},t.prototype.Refresh=function(){var e=u.PropManager.getInstance().getPropNum(g.PropId.MazeCoin);this.num.getComponent(cc.Label).string=""+e},t.prototype.clickBtnClose=function(){r.default.getInstance().sound_manager.playSound(p.SoundIndex.click),this.onClose()},i([m(cc.Node)],t.prototype,"content",void 0),i([m(cc.Node)],t.prototype,"num",void 0),i([m(cc.Node)],t.prototype,"Maze_Shop_Bg_1",void 0),i([_],t)}(d.default);a.default=y,cc._RF.pop()},{"../../GameManager":"GameManager","../../Prop/Data/Item":"Item","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../UI/UIComponent":"UIComponent","../../multiLanguage/LanguageManager":"LanguageManager","../../multiLanguage/TextLanguage":"TextLanguage","./RogueShop":"RogueShop"}],ShouWangJianShi:[function(e,t,a){"use strict";cc._RF.push(t,"260f4TkqS5Ej7yfCmFaCfyx","ShouWangJianShi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Game/GameEffectsManager"),s=e("../Bullect"),c=e("../HeroConfig"),l=cc._decorator,g=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.jianshi_type=c.JianShi_Type.putong,t.penetration_num=0,t.old_skill_rate=0,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addCollisionMonsterListen.call(this,this.onCollisionMonster),e.prototype.addInitFinishedListen.call(this,this.onInitFinished)},t.prototype.onInitFinished=function(){this.penetration_num=0,this.old_skill_rate=this.gongji_data.skill_damage_rate},t.prototype.onCollisionMonster=function(e){if(e)switch(this.jianshi_type){case c.JianShi_Type.putong:e.beFlashInjured(this.gongji_data).getDamageNum()>0&&r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.sheshou_jianshi_att_hit,this.getHeadPos()),this.is_att=!0,this.destroySelf();break;case c.JianShi_Type.jineng:0==this.penetration_num?this.gongji_data.skill_damage_rate=1:this.gongji_data.skill_damage_rate=this.old_skill_rate,this.is_att=!1,this.penetration_num++,e.beFlashInjured(this.gongji_data).getDamageNum()>0&&r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.shou_wang_jianshi_skill1_hit,this.getHeadPos())}},i([u({type:cc.Enum(c.JianShi_Type)})],t.prototype,"jianshi_type",void 0),i([g],t)}(s.default);a.default=p,cc._RF.pop()},{"../../../Game/GameEffectsManager":"GameEffectsManager","../Bullect":"Bullect","../HeroConfig":"HeroConfig"}],ShouWang:[function(e,t,a){"use strict";cc._RF.push(t,"28dabfmgFVK+K7MEWtJEH+a","ShouWang");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Constants"),s=e("../../../Game/FightingManager"),c=e("../../../Game/GameEffectsManager"),l=e("../../../Game/SkillManager"),g=e("../../../GameManager"),u=e("../../../Monster/Monster"),p=e("../../../Monster/MonsterData"),d=e("../../../Monster/MonsterManager"),h=e("../../../Sound/AudioConstants"),f=e("../../../Tools/MyTool"),_=e("../BuffData"),m=e("../Hero"),y=e("../HeroConfig"),I=e("./Bear"),v=e("./ShouWangJianShi"),M=cc._decorator,C=M.ccclass,S=M.property,P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.att_num=0,t.prefab_bear=null,t.all_bear=null,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.shou_wang_jianshi_attack,8),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.shou_wang_jianshi_skill1,8),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.sheshou_jianshi_att_hit,8),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.shou_wang_jianshi_skill1_hit,8),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.xuanyun,8),this.addSkillListen(this.useSkill),this.addAttackListen(this.normalAttack),this.addXuanYunListen(this.onXuanYunResult),this.addHitListen(this.onHitMonster),this.addGameWinListen(this.removeAllBear),this.all_bear=new Map},t.prototype.removeAllBear=function(){this.all_bear.forEach(function(e){e.startDestory()})},t.prototype.onBearDestory=function(e){this.all_bear.delete(e)},t.prototype.start=function(){e.prototype.start.call(this),this.is_need_check_distance=!0,e.prototype.setSkillTipSize.call(this,300,300)},t.prototype.onXuanYunResult=function(e){e?this.unscheduleAllCallbacks():this.setHeroState(y.Hero_State.idle,y.GongJi_FangXiang.zhong)},t.prototype.starteIdle=function(){this.setHeroState(y.Hero_State.idle,this.cur_fangxiang)},t.prototype.onHitMonster=function(){},t.prototype.createJianShi=function(e,t,a,n,o){var i=s.default.getInstance().createGameEffectById(e,t);return i.getComponent(v.default).init(e,a,n,o),i},t.prototype.getSJFXByPos=function(e,t){var a=y.GongJi_FangXiang.zhong,n=e.sub(t),o=2*Math.PI,i=(Math.atan2(n.y,n.x)+o)%o*180/Math.PI;return i<=75?a=y.GongJi_FangXiang.you:i>75&&i<105?a=y.GongJi_FangXiang.zhong:i>=105&&i<=180&&(a=y.GongJi_FangXiang.zuo),a},t.prototype.normalAttack=function(e){if(g.default.getInstance().cur_game_state==r.GameState.Game_Playing){var t=e.getComponent(u.default).getSheShouPos();0==this.checkSkill1(t)&&this.startAttack(e)}},t.prototype.startAttack=function(t){var a=this;this.is_can_gongji=!1;var n=this.getSJFXByPos(t.getPosition(),this.node.getPosition()),o=new p.KeyFrameData;o.name="Attack",o.callback=function(){var n=t.getComponent(u.default).getSheShouPos(),o=a.getCreateBulletPos(),i=n.sub(o),r=Math.atan2(i.y,i.x),s=e.prototype.getGongJiData.call(a,y.DamageType.Normal,!0,y.SkillType.Null);a.createJianShi(c.GameEffectId.shou_wang_jianshi_attack,o,a.bullet_speed,r,s),g.default.getInstance().sound_manager.playSound(h.SoundIndex.YX_GongjianshouAttack),a.att_num++,a.is_double_attack?a.resetNormalAttack():a.gongji_jishu=0},e.prototype.setHeroState.call(this,y.Hero_State.attack,n,[o],function(){e.prototype.setHeroState.call(a,y.Hero_State.idle,n)})},t.prototype.checkSkill1=function(t){var a=this,n=this.getSJFXByPos(t,this.node.getPosition());if(this.att_num>=3){this.is_can_gongji=!1;var o=new p.KeyFrameData;return o.name="Attack",o.callback=function(){a.gongji_jishu=0;var n=e.prototype.getCreateBulletPos.call(a),o=t.sub(n),i=2*Math.PI,r=(Math.atan2(o.y,o.x)+i)%i,s=e.prototype.getGongJiData.call(a,y.DamageType.Skill,!0,y.SkillType.Passive_1,a.hero_data.getSkillValue1(y.SkillType.Passive_1));a.createJianShi(c.GameEffectId.shou_wang_jianshi_skill1,n,1.25*a.bullet_speed,r,s),a.att_num=0},e.prototype.setHeroState.call(this,y.Hero_State.attack,n,[o],function(){e.prototype.setHeroState.call(a,y.Hero_State.idle,n)}),!0}return!1},t.prototype.useSkill=function(e){var t=this;return l.default.getInstance().releaseSkill(function(){t.startSelfXuLi(e)},this.node),2},t.prototype.startSelfXuLi=function(e){var t=this,a=cc.find("Canvas/Hero_Root"),n=new p.KeyFrameData;n.name="FaShe",n.callback=function(){l.default.getInstance().setTimeStop(!1),t.node.parent=a,t.node.zIndex=2,t.startLaunch(e)},this.setHeroState(y.Hero_State.skill,y.GongJi_FangXiang.zhong,[n],function(){t.resetGongJiJiShu(),t.setHeroState(y.Hero_State.idle,y.GongJi_FangXiang.zhong)}),this.spine.timeScale=r.JiaSu},t.prototype.startLaunch=function(t){var a=this.hero_data.ExclusiveWeaponSkillValue_1,n=0;a&&a>0&&(n=a),g.default.getInstance().sound_manager.playSound(h.SoundIndex.YX_ShouWangSkill1),e.prototype.setAttSpineScale.call(this);var o=e.prototype.getGongJiData.call(this,y.DamageType.Skill,!1,y.SkillType.Active,this.hero_data.getSkillValue3(y.SkillType.Active)),i=cc.instantiate(this.prefab_bear);d.default.getInstance().node.addChild(i),i.setPosition(t);var r=i.getComponent(I.default);r.init(o,this.hero_data.getSkillValue1(y.SkillType.Active),this.use_skill_num,n),r.addDestoryListen(this.onBearDestory.bind(this)),this.all_bear.set(this.use_skill_num,r),f.default.randomSceneShake(-5,5,.02,6);var s=d.default.getInstance().getMonstersForCenterPos(-1,t,150);if(s)for(var p=e.prototype.getGongJiData.call(this,y.DamageType.Skill,!1,y.SkillType.Active,this.hero_data.getSkillValue2(y.SkillType.Active)),m=0;m<s.length;m++){var v=s[m].getComponent(u.default),M=v.beFlashInjured(p);if(!M.is_die&&M.getDamageNum()>0){var C=new _.BuffData;C.buff_id=y.BuffId.Hero_XuanYun,C.buff_type=y.BuffType.Vertigo,C.buff_value=[0],C.remain_time=1,C.game_effect_id=c.GameEffectId.xuanyun,v.addDeBuff(C,p)}}l.default.getInstance().setIsSkillState(!1)},i([S(cc.Prefab)],t.prototype,"prefab_bear",void 0),i([C],t)}(m.default);a.default=P,cc._RF.pop()},{"../../../Constants":"Constants","../../../Game/FightingManager":"FightingManager","../../../Game/GameEffectsManager":"GameEffectsManager","../../../Game/SkillManager":"SkillManager","../../../GameManager":"GameManager","../../../Monster/Monster":"Monster","../../../Monster/MonsterData":"MonsterData","../../../Monster/MonsterManager":"MonsterManager","../../../Sound/AudioConstants":"AudioConstants","../../../Tools/MyTool":"MyTool","../BuffData":"BuffData","../Hero":"Hero","../HeroConfig":"HeroConfig","./Bear":"Bear","./ShouWangJianShi":"ShouWangJianShi"}],ShuangJuRen:[function(e,t,a){"use strict";cc._RF.push(t,"a67ed/AlFVEVI2PZb+//qgo","ShuangJuRen");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Enemy/EnemyConfig"),s=e("../../Game/GameEffectsManager"),c=e("../../GameManager"),l=e("../../Hero/Data/HeroManager"),g=e("../../Hero/Game/HeroConfig"),u=e("../MonsterData"),p=e("../MonsterNewNormal"),d=e("./EliteAtt65"),h=cc._decorator,f=h.ccclass,_=(h.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.addMonsterNormalAttack(this.onMonsterNormalAttack),s.GameEffectsManager.getInstance().addEffectPoolById(s.GameEffectId.xuanyun,2),s.GameEffectsManager.getInstance().addEffectPoolById(s.GameEffectId.monster65_shuangjuren_att),s.GameEffectsManager.getInstance().addEffectPoolById(s.GameEffectId.monster65_shuangjuren_att_hit),s.GameEffectsManager.getInstance().addEffectPoolById(s.GameEffectId.monster65_shuangjuren_att_hit_crit)},t.prototype.onMonsterNormalAttack=function(){var t=this;this.att_jishu=0,e.prototype.setEnemyState.call(this,r.Enemy_State.att);var a=new u.KeyFrameData;return a.name="OnDamaging",a.callback=function(){if(1!=t.getIsDie()){t.att_jishu=0;var a=e.prototype.getAttPos.call(t),n=s.GameEffectsManager.getInstance().createGameEffectById(s.GameEffectId.monster65_shuangjuren_att,a).getComponent(d.default),o=l.HeroManager.getInstance().getRandHeroId(c.default.getInstance().cur_game_mode);if(o!=g.Hero_Type.NULL){var i=c.default.getInstance().all_hero.get(o).node.getPosition().sub(a),r=2*Math.PI,u=(Math.atan2(i.y,i.x)+r)%r;n.setAttHero(o),n.init(e.prototype.getAttData.call(t,g.DamageType.Normal,!0,0),s.GameEffectId.monster65_shuangjuren_att,1e3,u,1280,270)}}},e.prototype.playSpinAnimaton.call(this,this.getAnimaName(u.MonsterActionName.Attack),!1,a,function(){e.prototype.setEnemyState.call(t,r.Enemy_State.move),t.startIdle(),t.att_wall&&(t.move_direction=Math.random()>.5?Math.PI:0)}),!0},i([f],t)}(p.default));a.default=_,cc._RF.pop()},{"../../Enemy/EnemyConfig":"EnemyConfig","../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../../Hero/Data/HeroManager":"HeroManager","../../Hero/Game/HeroConfig":"HeroConfig","../MonsterData":"MonsterData","../MonsterNewNormal":"MonsterNewNormal","./EliteAtt65":"EliteAtt65"}],ShuiJingJuXie:[function(e,t,a){"use strict";cc._RF.push(t,"aa5d4KyYaFEMYlw5Xg/iDUY","ShuiJingJuXie");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Enemy/EnemyConfig"),s=e("../../Tools/MyTool"),c=e("../MonsterNewNormal"),l=cc._decorator,g=l.ccclass,u=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addMonsterNormalInited.call(this,this.onMonsterNormalInited)},t.prototype.onMonsterNormalInited=function(){var t=this;this.unschedule(this.idleToMove),this.setEnemyState(r.Enemy_State.born),this.collider.enabled=!1,this.node.y=s.default.randomRangeInt(-100,100),e.prototype.playSpinAnimaton.call(this,"Side_Skill2",!1,null,function(){t.collider.enabled=!0,e.prototype.playSpinAnimaton.call(t,"Side_Skill",!1,null,function(){t.idleToMove()})})},i([g],t)}(c.default));a.default=u,cc._RF.pop()},{"../../Enemy/EnemyConfig":"EnemyConfig","../../Tools/MyTool":"MyTool","../MonsterNewNormal":"MonsterNewNormal"}],ShuiJingYouLong:[function(e,t,a){"use strict";cc._RF.push(t,"08463xU4FFIKreDYrfvjUlb","ShuiJingYouLong");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Enemy/EnemyConfig"),s=e("../../Game/GameEffectsManager"),c=e("../../Hero/Game/HeroConfig"),l=e("../MonsterData"),g=e("../MonsterNewNormal"),u=e("./EliteAtt67"),p=cc._decorator,d=p.ccclass,h=(p.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addMonsterNormalInited.call(this,this.onMonsterNormalInited),e.prototype.addMonsterNormalAttack.call(this,this.onMonsterNormalAttack),s.GameEffectsManager.getInstance().addEffectPoolById(s.GameEffectId.monster67_shuijingyoulong_att,1),s.GameEffectsManager.getInstance().addEffectPoolById(s.GameEffectId.monster67_shuijingyoulong_att_hit,1)},t.prototype.onMonsterNormalInited=function(){},t.prototype.onMonsterNormalAttack=function(){var t=this;this.att_jishu=0,e.prototype.setEnemyState.call(this,r.Enemy_State.att);var a=new l.KeyFrameData;return a.name="OnDamaging",a.callback=function(){if(t.att_jishu=0,!t.getIsDie()){var a=s.GameEffectsManager.getInstance().createGameEffectById(s.GameEffectId.monster67_shuijingyoulong_att,e.prototype.getAttPos.call(t)),n=e.prototype.getAttData.call(t,c.DamageType.Normal,!0);n.zengshang_rate+=t.skill_data.getSkillValue1(1),a.getComponent(u.default).init(n,s.GameEffectId.monster67_shuijingyoulong_att,1200,3*Math.PI/2,t.node.y)}},e.prototype.playSpinAnimaton.call(this,this.getAnimaName(l.MonsterActionName.Attack),!1,a,function(){t.startIdle(),e.prototype.setEnemyState.call(t,r.Enemy_State.move),t.att_wall&&(t.move_direction=Math.random()>.5?Math.PI:0)}),!0},i([d],t)}(g.default));a.default=h,cc._RF.pop()},{"../../Enemy/EnemyConfig":"EnemyConfig","../../Game/GameEffectsManager":"GameEffectsManager","../../Hero/Game/HeroConfig":"HeroConfig","../MonsterData":"MonsterData","../MonsterNewNormal":"MonsterNewNormal","./EliteAtt67":"EliteAtt67"}],SignInBuyUi:[function(e,t,a){"use strict";cc._RF.push(t,"954f1hEmxZIerjfvPFRvPRS","SignInBuyUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../.././NetWork/HttpManager"),s=e("../../Ads/ApkManager"),c=e("../../GameManager"),l=e("../../JsonData/SignIn"),g=e("../../multiLanguage/FollowConstants"),u=e("../../multiLanguage/FollowManager"),p=e("../../Payment/PayManager"),d=e("../../Prop/PropManager"),h=e("../../Sound/AudioConstants"),f=e("../../Storage/StorageConfig"),_=e("../../Storage/StorageManager"),m=e("../../UserData"),y=e("../UIComponent"),I=cc._decorator,v=I.ccclass,M=(I.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t)},t.prototype.iniData=function(){this.refreshUi()},t.prototype.refreshUi=function(){var e=_.TheStorageManager.getInstance().getNumber(f.StorageKey.NewPlayerSavenDaySignInNum,0),t=l.SignInManager.getInstance().getDataBySignInType(l.SignInType.SavenDay),a=this.node.getChildByName("scroll").getComponent(cc.ScrollView).content;a.removeAllChildren();for(var n=p.PayManager.getInstance().getPayInfo("c601"),o=new Map,i=0;i<t.length;i++)if(i<e)if(o.has(t[i].Item)){var r=o.get(t[i].Item);r+=4*t[i].Num,o.set(t[i].Item,r)}else o.set(t[i].Item,4*t[i].Num);else o.has(t[i].Item)?(r=o.get(t[i].Item),r+=5*t[i].Num,o.set(t[i].Item,r)):o.set(t[i].Item,5*t[i].Num);o.forEach(function(e,t){var n=d.PropManager.getInstance().createPropItem(t,e);a.addChild(n)}),this.node.getChildByName("sure").getComponentInChildren(cc.Label).string=n.price},t.prototype.onClickSureBtn=function(){var e=this;s.default.getInstance().showPay({result:function(t){if(t){u.default.getInstance().followEvent(g.Follow_Type.\u70b9\u51fb\u89e3\u95015\u500d\u5956\u52b1\u7684\u8d2d\u4e70\u6210\u529f\u6b21\u6570);for(var a=_.TheStorageManager.getInstance().getNumber(f.StorageKey.NewPlayerSavenDaySignInNum,0),n=l.SignInManager.getInstance().getDataBySignInType(l.SignInType.SavenDay),o=new Map,i=0;i<n.length;i++)if(i<a)if(o.has(n[i].Item)){var s=o.get(n[i].Item);s+=4*n[i].Num,o.set(n[i].Item,s)}else o.set(n[i].Item,4*n[i].Num);else o.has(n[i].Item)?(s=o.get(n[i].Item),s+=5*n[i].Num,o.set(n[i].Item,s)):o.set(n[i].Item,5*n[i].Num);var p=[];o.forEach(function(e,t){d.PropManager.getInstance().changePropNum(t,e);var a=d.PropManager.getInstance().createPropItem(t,e);p.push(a)}),c.default.getInstance().showMultipleGetTip(p),_.TheStorageManager.getInstance().setItem(f.StorageKey.NewPlayerSavenDaySignInOver,1),r.HttpManager.post(r.AccessName.updateSevenGift,e.getUserIdJsonString()),e.onClose()}}},"c601")},t.prototype.onClickBtnClose=function(){c.default.getInstance().sound_manager.playSound(h.SoundIndex.click),this.destroySelf()},t.prototype.destroySelf=function(){e.prototype.onClose.call(this),s.default.getInstance().closeBanner()},t.prototype.getUserIdJsonString=function(){var e=m.default.getInstance().getUserID();return JSON.stringify({uid:e})},i([v],t)}(y.default));a.default=M,cc._RF.pop()},{"../.././NetWork/HttpManager":"HttpManager","../../Ads/ApkManager":"ApkManager","../../GameManager":"GameManager","../../JsonData/SignIn":"SignIn","../../Payment/PayManager":"PayManager","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../Storage/StorageConfig":"StorageConfig","../../Storage/StorageManager":"StorageManager","../../UserData":"UserData","../../multiLanguage/FollowConstants":"FollowConstants","../../multiLanguage/FollowManager":"FollowManager","../UIComponent":"UIComponent"}],SignInGetTip:[function(e,t,a){"use strict";cc._RF.push(t,"55c80m4oZ5MIoGs4ITFrINz","SignInGetTip");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Ads/ApkManager"),s=e("../../Constants"),c=e("../../Prop/PropManager"),l=e("../UIComponent"),g=e("../UIConfig"),u=e("../UIManager"),p=cc._decorator,d=p.ccclass,h=(p.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.reward_info=null,t}return o(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t)},t.prototype.initData=function(e){this.reward_info=e;var t=c.PropManager.getInstance().createPropItem(e.reward_id,e.reward_num),a=this.node.getChildByName("itemRoot");a.removeAllChildren(),a.addChild(t)},t.prototype.onClickAdBtn=function(){var e=this;r.default.getInstance().showVideo(function(){u.UIManager.getInstance().closeAllUiDialog(g.UILayerLevel.Two),c.PropManager.getInstance().changePropNum(e.reward_info.reward_id,e.reward_info.reward_num)},s.VIDEO_TYPE.Equip)},i([d],t)}(l.default));a.default=h,cc._RF.pop()},{"../../Ads/ApkManager":"ApkManager","../../Constants":"Constants","../../Prop/PropManager":"PropManager","../UIComponent":"UIComponent","../UIConfig":"UIConfig","../UIManager":"UIManager"}],SignIn:[function(e,t,a){"use strict";cc._RF.push(t,"a2dcc9UBpJAubiz9vZ72sFm","SignIn"),Object.defineProperty(a,"__esModule",{value:!0}),a.SignInManager=a.SignInType=a.JsonSignIn=void 0;var n=e("../Loading/LoadManager"),o=function(){this.DayID=0,this.Day=0,this.Daytype=0,this.Item=0,this.Num=0};a.JsonSignIn=o,function(e){e[e.SavenDay=1]="SavenDay",e[e.Daily29=29]="Daily29",e[e.Daily30=30]="Daily30",e[e.Daily31=31]="Daily31",e[e.Daily28=28]="Daily28"}(a.SignInType||(a.SignInType={}));var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("SignIn",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonSignIn\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.DayID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonSignIn=function(e){return this.data.get(e)},e.prototype.getDay=function(e){return this.data.get(e).Day},e.prototype.getDaytype=function(e){return this.data.get(e).Daytype},e.prototype.getItem=function(e){return this.data.get(e).Item},e.prototype.getNum=function(e){return this.data.get(e).Num},e.getMaxDayID=function(){return 528},e.prototype.getDataBySignInType=function(e){var t=[];return this.data.forEach(function(a){a.Daytype==e&&t.push(a)}),t},e._instance=null,e}();a.SignInManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],SignNum:[function(e,t,a){"use strict";cc._RF.push(t,"09135Ac4a9LsL+x1qHyk71Y","SignNum"),Object.defineProperty(a,"__esModule",{value:!0}),a.SignNumManager=a.JsonSignNum=void 0;var n=e("../Loading/LoadManager"),o=function(){this.DayNumID=0,this.DayNum=0,this.Item=0,this.Num=0};a.JsonSignNum=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("SignNum",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonSignNum\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.DayNumID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonSignNum=function(e){return this.data.get(e)},e.prototype.getDayNum=function(e){return this.data.get(e).DayNum},e.prototype.getItem=function(e){return this.data.get(e).Item},e.prototype.getNum=function(e){return this.data.get(e).Num},e.getMaxDayNumID=function(){return 605},e.prototype.getJsonData=function(){var e=[];return this.data.forEach(function(t){e.push(t)}),e},e._instance=null,e}();a.SignNumManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],SignUiDaily:[function(e,t,a){"use strict";cc._RF.push(t,"533b1crXb5PY6FPWfFNph8L","SignUiDaily");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../.././NetWork/HttpManager"),s=e("../../Ads/ApkManager"),c=e("../../GameManager"),l=e("../../JsonData/SignIn"),g=e("../../JsonData/SignNum"),u=e("../../multiLanguage/FollowConstants"),p=e("../../multiLanguage/FollowManager"),d=e("../../multiLanguage/TextLanguage"),h=e("../../Prop/Prop"),f=e("../../Prop/PropManager"),_=e("../../Sound/AudioConstants"),m=e("../../Storage/StorageConfig"),y=e("../../Storage/StorageManager"),I=e("../../Tools/EventManager"),v=e("../../UserData"),M=e("../UIComponent"),C=e("../UIConfig"),S=e("../UIManager"),P=e("./SignInGetTip"),k=cc._decorator,b=k.ccclass,T=k.property,B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sign_in_item=null,t.sign_in_cumulative_item=null,t.sign_in_ui=null,t.today=null,t}return o(t,e),t.prototype.init=function(){p.default.getInstance().followEvent(u.Follow_Type.\u6bcf\u65e5\u7b7e\u5230\u70b9\u51fb\u6b21\u6570),this.refreshUi()},t.prototype.refreshUi=function(){var e=this,t=this.node.getChildByName("scroll").getComponent(cc.ScrollView).content,a=y.TheStorageManager.getInstance().getNumber(m.StorageKey.TomorowZeroTimeStamp)-86400,n=new Date(1e3*a),o=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),i=l.SignInManager.getInstance().getDataBySignInType(o);t.removeAllChildren(),i.forEach(function(a,o){var i=cc.instantiate(e.sign_in_item),r=f.PropManager.getInstance().createPropItem(a.Item,a.Num);r.name="reward",r.scale=.74,i.addChild(r),r.setPosition(cc.v2(0,-15)),i.getComponentInChildren(d.default).setReplaceValue("~",o+1+"");var s=new cc.Node,c=new cc.Node;s.name="bg",a.Day<n.getDate()?(s.addComponent(cc.Sprite).spriteFrame=e.sign_in_ui.getSpriteFrame("SignIn_Bg_1_Mask"),1==y.TheStorageManager.getInstance().getNumber(m.StorageKey.DailySignInDay+a.Day,0)&&(c.addComponent(cc.Sprite).spriteFrame=e.sign_in_ui.getSpriteFrame("SignIn_Got"),s.addChild(c),c.setPosition(cc.v2(0,-7))),i.addChild(s)):a.Day==n.getDate()&&(1==y.TheStorageManager.getInstance().getNumber(m.StorageKey.DailySignInDay+a.Day,0)?(s.addComponent(cc.Sprite).spriteFrame=e.sign_in_ui.getSpriteFrame("SignIn_Bg_1_Mask"),c.addComponent(cc.Sprite).spriteFrame=e.sign_in_ui.getSpriteFrame("SignIn_Got"),s.addChild(c),c.setPosition(cc.v2(0,-7)),i.addChild(s)):(e.today.parent=i,e.today.zIndex=-1,e.today.setPosition(cc.v2(0,-15)),e.scheduleOnce(function(){n.getDate()>12&&(n.getDate()>24?e.node.getChildByName("scroll").getComponent(cc.ScrollView).scrollToBottom(.2):cc.tween(t).to(.2,{y:-i.y}).start())},.2))),t.addChild(i)}),1==y.TheStorageManager.getInstance().getNumber(m.StorageKey.CanSignIn,0)?(this.today.active=!1,this.node.getChildByName("receiveBtn").active=!1):(this.today.active=!0,this.node.getChildByName("receiveBtn").active=!0,this.node.getChildByName("receiveBtn").getChildByName("RedTip").active=!0);var s=this.node.getChildByName("checkBoxScroll").getComponent(cc.ScrollView).content,u=g.SignNumManager.getInstance().getJsonData();s.removeAllChildren(),u.forEach(function(t,a){var n=cc.instantiate(e.sign_in_cumulative_item);n.name="item"+a,n.getChildByName("days").getComponentInChildren(d.default).setReplaceValue("~",t.DayNum+""),t.DayNum<=y.TheStorageManager.getInstance().getNumber(m.StorageKey.DailySignInNum)?n.getComponent(cc.ProgressBar).progress=1:a>0?t.DayNum>y.TheStorageManager.getInstance().getNumber(m.StorageKey.DailySignInNum)&&u[a-1].DayNum<=y.TheStorageManager.getInstance().getNumber(m.StorageKey.DailySignInNum)?n.getComponent(cc.ProgressBar).progress=(y.TheStorageManager.getInstance().getNumber(m.StorageKey.DailySignInNum)-u[a-1].DayNum)/(t.DayNum-u[a-1].DayNum):n.getComponent(cc.ProgressBar).progress=0:t.DayNum>y.TheStorageManager.getInstance().getNumber(m.StorageKey.DailySignInNum)?n.getComponent(cc.ProgressBar).progress=y.TheStorageManager.getInstance().getNumber(m.StorageKey.DailySignInNum)/t.DayNum:n.getComponent(cc.ProgressBar).progress=0,t.DayNum<=y.TheStorageManager.getInstance().getNumber(m.StorageKey.DailySignInNum,0)&&(1==y.TheStorageManager.getInstance().getNumber(m.StorageKey.DailySignInCumulativeDay+t.DayNum,0)?(n.getChildByName("light").active=!1,n.getChildByName("box").getComponent(cc.Sprite).spriteFrame=e.sign_in_ui.getSpriteFrame("SignIn_Chesk_1")):(n.getChildByName("light").active=!0,n.getChildByName("box").getComponent(cc.Sprite).spriteFrame=e.sign_in_ui.getSpriteFrame("SignIn_Chesk_0"))),n.on(cc.Node.EventType.TOUCH_END,function(){if(1==y.TheStorageManager.getInstance().getNumber(m.StorageKey.DailySignInCumulativeDay+t.DayNum,0)||t.DayNum>y.TheStorageManager.getInstance().getNumber(m.StorageKey.DailySignInNum)){c.default.getInstance().sound_manager.playSound(_.SoundIndex.click);var a=s.parent.parent.getChildByName("tip");a.active=!0;var o=a.getChildByName("itemRoot");o.removeAllChildren(),o.width=0;var i=cc.v2(s.getPosition().x+n.x+40,s.getPosition().y+n.y+70);if(o.setPosition(i),(u=f.PropManager.getInstance().createPropItem(t.Item,t.Num)).scale=.7,1==y.TheStorageManager.getInstance().getNumber(m.StorageKey.DailySignInCumulativeDay+t.DayNum,0)){var l=new cc.Node;l.addComponent(cc.Sprite).spriteFrame=f.PropManager.getInstance().getSpByName("Item_frame_Dark"),l.opacity=155,u.addChild(l);var g=new cc.Node;g.addComponent(cc.Sprite).spriteFrame=e.sign_in_ui.getSpriteFrame("SignIn_Got"),u.addChild(g),l.setPosition(cc.v2(0,0)),g.setPosition(cc.v2(0,0))}u.parent=o}if(0==y.TheStorageManager.getInstance().getNumber(m.StorageKey.DailySignInCumulativeDay+t.DayNum,0)&&t.DayNum<=y.TheStorageManager.getInstance().getNumber(m.StorageKey.DailySignInNum)){var u=f.PropManager.getInstance().createPropItem(t.Item,t.Num);f.PropManager.getInstance().changePropNum(t.Item,t.Num),c.default.getInstance().showGetTip(u),r.HttpManager.post(r.AccessName.addSignGift,e.getMonthJsonString(t.DayNum)),y.TheStorageManager.getInstance().setItem(m.StorageKey.DailySignInCumulativeDay+t.DayNum,1),e.refreshUi()}}),s.addChild(n)}),this.node.getChildByName("checkBoxScroll").getChildByName("cumulativeDays").getComponent(d.default).setReplaceValue("~",y.TheStorageManager.getInstance().getNumber(m.StorageKey.DailySignInNum)+"")},t.prototype.onSignInBtnClick=function(){var e=y.TheStorageManager.getInstance().getNumber(m.StorageKey.TomorowZeroTimeStamp)-86400,t=new Date(1e3*e),a=this.node.getChildByName("scroll").getComponent(cc.ScrollView).content,n=null;a.children.forEach(function(e){null==n&&null==e.getChildByName("bg")&&(n=e.getChildByName("reward").getComponent(h.default))}),f.PropManager.getInstance().changePropNum(n.prop_id,n.prop_num),c.default.getInstance().refreshGemShow(),c.default.getInstance().refreshCoinShow(),I.EventManager.postRedEvent(I.RedEventString.RED_TIP,I.RedEventType.Btn_Main_SignIn,!1,I.RedEventType.Btn_Main_SignIn_BtnGet),S.UIManager.getInstance().showUiDialog(C.UIPath.SignInGet,C.UILayerLevel.Two,{onCompleted:function(e){e.getComponent(P.default).init(null),e.getComponent(P.default).initData({reward_id:n.prop_id,reward_num:n.prop_num})}}),y.TheStorageManager.getInstance().setItem(m.StorageKey.CanSignIn,1),y.TheStorageManager.getInstance().setItem(m.StorageKey.DailySignInDay+t.getDate(),1),r.HttpManager.post(r.AccessName.monthSign,this.getUserIdJsonString());var o=y.TheStorageManager.getInstance().getNumber(m.StorageKey.DailySignInNum,0);o++,y.TheStorageManager.getInstance().setItem(m.StorageKey.DailySignInNum,o),this.refreshUi()},t.prototype.clickSignIn=function(){},t.prototype.supplementarySignIn=function(){},t.prototype.cumulativeReward=function(){},t.prototype.onClickTipBg=function(){this.node.getChildByName("checkBoxScroll").getChildByName("tip").active=!1},t.prototype.clickBtnClose=function(){c.default.getInstance().sound_manager.playSound(_.SoundIndex.click),this.destroySelf()},t.prototype.destroySelf=function(){e.prototype.onClose.call(this),s.default.getInstance().closeBanner(),I.EventManager.postRedEvent(I.RedEventString.RED_CHECK,I.RedEventType.Btn_Main_SignIn)},t.prototype.getUserIdJsonString=function(){var e=v.default.getInstance().getUserID();return JSON.stringify({uid:e})},t.prototype.getMonthJsonString=function(e){var t=v.default.getInstance().getUserID(),a=e;return JSON.stringify({uid:t,type:a})},i([T(cc.Prefab)],t.prototype,"sign_in_item",void 0),i([T(cc.Prefab)],t.prototype,"sign_in_cumulative_item",void 0),i([T(cc.SpriteAtlas)],t.prototype,"sign_in_ui",void 0),i([T(cc.Node)],t.prototype,"today",void 0),i([b],t)}(M.default);a.default=B,cc._RF.pop()},{"../.././NetWork/HttpManager":"HttpManager","../../Ads/ApkManager":"ApkManager","../../GameManager":"GameManager","../../JsonData/SignIn":"SignIn","../../JsonData/SignNum":"SignNum","../../Prop/Prop":"Prop","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../Storage/StorageConfig":"StorageConfig","../../Storage/StorageManager":"StorageManager","../../Tools/EventManager":"EventManager","../../UserData":"UserData","../../multiLanguage/FollowConstants":"FollowConstants","../../multiLanguage/FollowManager":"FollowManager","../../multiLanguage/TextLanguage":"TextLanguage","../UIComponent":"UIComponent","../UIConfig":"UIConfig","../UIManager":"UIManager","./SignInGetTip":"SignInGetTip"}],SignUi:[function(e,t,a){"use strict";cc._RF.push(t,"199d4jMcb1PxrnT7MaRKx4x","SignUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../.././NetWork/HttpManager"),s=e("../../Ads/ApkManager"),c=e("../../GameManager"),l=e("../../JsonData/SignIn"),g=e("../../multiLanguage/FollowConstants"),u=e("../../multiLanguage/FollowManager"),p=e("../../multiLanguage/LanguageManager"),d=e("../../multiLanguage/TextLanguage"),h=e("../../Prop/PropManager"),f=e("../../Sound/AudioConstants"),_=e("../../Storage/StorageConfig"),m=e("../../Storage/StorageManager"),y=e("../../Tools/EventManager"),I=e("../../UserData"),v=e("../UIComponent"),M=e("../UIConfig"),C=e("../UIManager"),S=e("./SignInBuyUi"),P=cc._decorator,k=P.ccclass,b=P.property,T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sign_in_ui=null,t.today=null,t}return o(t,e),t.prototype.init=function(t){u.default.getInstance().followEvent(g.Follow_Type.\u65b0\u624b\u7b7e\u5230\u70b9\u51fb\u6b21\u6570),e.prototype.init.call(this,t),this.refreshUi()},t.prototype.refreshUi=function(){var e=this.node.getChildByName("dayBgRoot"),t=this.node.getChildByName("itemRoot");t.removeAllChildren();for(var a=l.SignInManager.getInstance().getDataBySignInType(l.SignInType.SavenDay),n=0;n<a.length;n++){var o=e.getChildByName("day"+n);if(o.getComponentInChildren(d.default).setReplaceValue("~",n+1+""),(s=h.PropManager.getInstance().createPropItem(a[n].Item,a[n].Num)).name="item"+n,t.addChild(s),s.setPosition(cc.v2(o.x,o.y-15)),n<m.TheStorageManager.getInstance().getNumber(_.StorageKey.NewPlayerSavenDaySignInNum,0)){(r=new cc.Node).addComponent(cc.Sprite).spriteFrame=this.sign_in_ui.getSpriteFrame("SignIn7_Bg_2_Mask"),6==n&&(r.getComponent(cc.Sprite).spriteFrame=this.sign_in_ui.getSpriteFrame("SignIn7_Bg_3_Mask"));var i=new cc.Node;i.addComponent(cc.Sprite).spriteFrame=this.sign_in_ui.getSpriteFrame("SignIn_Got"),r.addChild(i),i.setPosition(cc.v2(0,-10)),r.setPosition(cc.v2(o.x,o.y)),t.addChild(r)}else if(n>m.TheStorageManager.getInstance().getNumber(_.StorageKey.NewPlayerSavenDaySignInNum,0))(r=new cc.Node).addComponent(cc.Sprite).spriteFrame=this.sign_in_ui.getSpriteFrame("SignIn7_Bg_2_Mask"),6==n&&(r.getComponent(cc.Sprite).spriteFrame=this.sign_in_ui.getSpriteFrame("SignIn7_Bg_3_Mask")),r.setPosition(cc.v2(o.x,o.y)),t.addChild(r);else{var r;0==m.TheStorageManager.getInstance().getNumber(_.StorageKey.CanSignIn,0)?s.getComponent(cc.Button).enabled=!1:((r=new cc.Node).addComponent(cc.Sprite).spriteFrame=this.sign_in_ui.getSpriteFrame("SignIn7_Bg_2_Mask"),6==n&&(r.getComponent(cc.Sprite).spriteFrame=this.sign_in_ui.getSpriteFrame("SignIn7_Bg_3_Mask")),r.setPosition(cc.v2(o.x,o.y)),t.addChild(r))}}if(1==m.TheStorageManager.getInstance().getNumber(_.StorageKey.CanSignIn,0))this.today.active=!1,this.node.getChildByName("receiveBtn").getChildByName("RedTip").active=!1;else{this.today.active=!0;var s=t.getChildByName("item"+m.TheStorageManager.getInstance().getNumber(_.StorageKey.NewPlayerSavenDaySignInNum,0));this.today.setPosition(s.x,s.y-5),this.node.getChildByName("receiveBtn").getChildByName("RedTip").active=!0}},t.prototype.onReceiveBtnClick=function(e,t){c.default.getInstance().sound_manager.playSound(f.SoundIndex.click);var a=m.TheStorageManager.getInstance().getNumber(_.StorageKey.NewPlayerSavenDaySignInNum,0);if(""!=t&&null!=t||(t=m.TheStorageManager.getInstance().getNumber(_.StorageKey.NewPlayerSavenDaySignInNum,0)+""),Number(t)==a)if(0==m.TheStorageManager.getInstance().getNumber(_.StorageKey.CanSignIn,0)){var n=l.SignInManager.getInstance().getDataBySignInType(l.SignInType.SavenDay),o=h.PropManager.getInstance().createPropItem(n[a].Item,n[a].Num);u.default.getInstance().followEvent(g.Follow_Type.\u65b0\u624b\u7b7e\u5230x\u5929\u7684\u70b9\u51fb\u6b21\u6570+a),h.PropManager.getInstance().changePropNum(n[a].Item,n[a].Num),c.default.getInstance().showGetTip(o),++a>6&&(m.TheStorageManager.getInstance().setItem(_.StorageKey.NewPlayerSavenDaySignInOver,1),r.HttpManager.post(r.AccessName.updateSevenGift,this.getUserIdJsonString())),m.TheStorageManager.getInstance().setItem(_.StorageKey.CanSignIn,1),m.TheStorageManager.getInstance().setItem(_.StorageKey.NewPlayerSavenDaySignInNum,a),this.refreshUi(),y.EventManager.postRedEvent(y.RedEventString.RED_TIP,y.RedEventType.Btn_Main_SignIn,!1,y.RedEventType.Btn_Main_SignIn_BtnGet),r.HttpManager.post(r.AccessName.sevenSign,this.getUserIdJsonString())}else c.default.getInstance().showMessage(p.default.getInstance().getStrByTextId(230008))},t.prototype.onClickBuyBtn=function(){this.onClose(),u.default.getInstance().followEvent(g.Follow_Type.\u70b9\u51fb\u89e3\u95015\u500d\u5956\u52b1\u6309\u94ae\u7684\u70b9\u51fb\u6b21\u6570),C.UIManager.getInstance().showUiDialog(M.UIPath.SignInBuy,M.UILayerLevel.One,{onCompleted:function(e){e.getComponent(S.default).init(null),e.getComponent(S.default).iniData()}})},t.prototype.clickBtnClose=function(){c.default.getInstance().sound_manager.playSound(f.SoundIndex.click),this.destroySelf()},t.prototype.destroySelf=function(){e.prototype.onClose.call(this),s.default.getInstance().closeBanner()},t.prototype.getUserIdJsonString=function(){var e=I.default.getInstance().getUserID();return JSON.stringify({uid:e})},i([b(cc.SpriteAtlas)],t.prototype,"sign_in_ui",void 0),i([b(cc.Node)],t.prototype,"today",void 0),i([k],t)}(v.default);a.default=T,cc._RF.pop()},{"../.././NetWork/HttpManager":"HttpManager","../../Ads/ApkManager":"ApkManager","../../GameManager":"GameManager","../../JsonData/SignIn":"SignIn","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../Storage/StorageConfig":"StorageConfig","../../Storage/StorageManager":"StorageManager","../../Tools/EventManager":"EventManager","../../UserData":"UserData","../../multiLanguage/FollowConstants":"FollowConstants","../../multiLanguage/FollowManager":"FollowManager","../../multiLanguage/LanguageManager":"LanguageManager","../../multiLanguage/TextLanguage":"TextLanguage","../UIComponent":"UIComponent","../UIConfig":"UIConfig","../UIManager":"UIManager","./SignInBuyUi":"SignInBuyUi"}],SignalFlare:[function(e,t,a){"use strict";cc._RF.push(t,"11b21o3Em5Kx5+OlbieOXm7","SignalFlare");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Constants"),s=e("../../../Game/GameEffectsManager"),c=e("../../../GameManager"),l=cc._decorator,g=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tuowei=null,t.game_effect_id=s.GameEffectId.Null,t.move_speed=700,t.move_direction=Math.PI/2,t.bomb_size=100,t.target_pos=null,t.tuo_wei=null,t.prev_pos=cc.v2(0,0),t.spread_time=.2,t.spread_pos=[],t.end_callback=null,t.is_arrive=!1,t}return o(t,e),t.prototype.init=function(e,t,a,n){this.game_effect_id=e,this.move_speed=t,this.target_pos=a,this.end_callback=n;var o=a.sub(this.node.getPosition());this.move_direction=Math.atan2(o.y,o.x);var i=o.mag(),r=this.move_speed/c.default.getInstance().getGameRate();this.spread_time=.02*c.default.getInstance().getGameRate();var s=i/r/c.default.getInstance().getGameRate();this.node.scale=.5,cc.tween(this.node).then(cc.spawn(cc.sequence(cc.scaleTo(s/4,1.1),cc.scaleTo(3*s/4,.8)),cc.jumpTo(s,a,i/2,1))).call(this.destroySelf,this).start(),this.tuo_wei=cc.instantiate(this.tuowei),this.tuo_wei.parent=this.node.parent,this.node.zIndex=2,this.prev_pos=this.node.getPosition();var l=this.tuo_wei.getComponent(cc.MotionStreak);l.fadeTime=l.fadeTime*c.default.getInstance().getGameRate(),this.spread_pos=new Array(4);for(var g=this.spread_pos.length,u=0;u<g;u++)this.spread_pos[u]=this.node.getPosition();this.is_arrive=!1},t.prototype.destroySelf=function(){var e=this;this.tuo_wei&&cc.tween(this.tuo_wei).delay(this.tuo_wei.getComponent(cc.MotionStreak).fadeTime/(10*c.default.getInstance().getGameRate())).to(.1,{opacity:0}).removeSelf().start(),this.spread_time=.6,this.end_callback&&this.end_callback(),this.node.zIndex=2,this.is_arrive=!0;var t=s.GameEffectsManager.getInstance().createGameEffectForParent(s.GameEffectId.paoshou_dazhao_xinhaodan_miaozhun,this.node.getPosition(),this.node.parent);t.getComponent(sp.Skeleton).setAnimation(0,"Skill_MiaoZhun",!1),t.zIndex=0;var a=s.GameEffectsManager.getInstance().createGameEffectForParent(s.GameEffectId.paoshou_dazhao_weiyan_end,this.node.getPosition(),this.node.parent);a.zIndex=1,a.opacity=255,a.getComponent(sp.Skeleton).setAnimation(0,"Skill_WeiYan",!1),cc.tween(a).to(1.3,{opacity:88}).start(),cc.tween(this.node).to(1.3,{opacity:168}).call(function(){s.GameEffectsManager.getInstance().destroyGameEffectById(e.game_effect_id,e.node),s.GameEffectsManager.getInstance().destroyGameEffectById(s.GameEffectId.paoshou_dazhao_xinhaodan_miaozhun,t),s.GameEffectsManager.getInstance().destroyGameEffectById(s.GameEffectId.paoshou_dazhao_weiyan_end,a)}).start()},t.prototype.setDirection=function(e){this.move_direction=e},t.prototype.createSpread=function(){var e=s.GameEffectsManager.getInstance().createGameEffectForParent(s.GameEffectId.paoshou_dazhao_weiyan,this.spread_pos[this.getPosIndex()],this.node.parent),t=e.getComponent(cc.Animation);t.play().speed=1/c.default.getInstance().getGameRate(),t.on(cc.Animation.EventType.FINISHED,function(){s.GameEffectsManager.getInstance().destroyGameEffectById(s.GameEffectId.paoshou_dazhao_weiyan,e)},this),e.zIndex=3,e.angle=360*Math.random(),e.scale=.5*Math.random()+.8},t.prototype.createEndSpread=function(){},t.prototype.getPosIndex=function(){var e=this.spread_pos.length-1,t=Math.floor(this.spread_pos.length/c.default.getInstance().getGameRate());return t>=e&&(t=e),t},t.prototype.update=function(e){if(c.default.getInstance().cur_game_state==r.GameState.Game_Playing&&null!=this.tuowei){var t=c.default.getInstance().getGameRate();t<1&&(t=1);var a=this.node.getPosition(),n=a.sub(this.prev_pos),o=4*n.mag()/t,i=Math.atan2(n.y,n.x),s=a.x+Math.cos(i)*o,l=a.y+Math.sin(i)*o;this.tuo_wei.setPosition(cc.v2(s,l)),this.prev_pos=this.node.getPosition(),this.spread_time-=e,this.update_locus_shadow(),this.spread_time<=0&&(this.spread_time=.02*c.default.getInstance().getGameRate(),0==this.is_arrive&&this.createSpread())}},t.prototype.update_locus_shadow=function(){0==this.is_arrive&&(this.spread_pos.unshift(this.node.getPosition()),this.spread_pos.pop())},i([u({type:cc.Prefab})],t.prototype,"tuowei",void 0),i([g],t)}(cc.Component);a.default=p,cc._RF.pop()},{"../../../Constants":"Constants","../../../Game/GameEffectsManager":"GameEffectsManager","../../../GameManager":"GameManager"}],SkillConfig:[function(e,t,a){"use strict";cc._RF.push(t,"10d29sOHFJIlo87uPKs8yS/","SkillConfig"),Object.defineProperty(a,"__esModule",{value:!0}),cc._RF.pop()},{}],SkillConfiguration:[function(e,t,a){"use strict";cc._RF.push(t,"8ecacTDIKZOjoAn3utO9WRn","SkillConfiguration"),Object.defineProperty(a,"__esModule",{value:!0}),a.SkillConfigurationManager=a.JsonSkillConfiguration=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.Skill=0,this.BindHero=0,this.SkillPosition=0,this.SkillLevel=0,this.ColdDown=0,this.SkillValue_1=0,this.SkillValue_2=0,this.SkillValue_3=0,this.SkillValue_4=0};a.JsonSkillConfiguration=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("SkillConfiguration",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonSkillConfiguration\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.Skill,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonSkillConfiguration=function(e){return this.data.get(e)},e.prototype.getBindHero=function(e){return this.data.get(e).BindHero},e.prototype.getSkillPosition=function(e){return this.data.get(e).SkillPosition},e.prototype.getSkillLevel=function(e){return this.data.get(e).SkillLevel},e.prototype.getColdDown=function(e){return this.data.get(e).ColdDown},e.prototype.getSkillValue_1=function(e){return this.data.get(e).SkillValue_1},e.prototype.getSkillValue_2=function(e){return this.data.get(e).SkillValue_2},e.prototype.getSkillValue_3=function(e){return this.data.get(e).SkillValue_3},e.prototype.getSkillValue_4=function(e){return this.data.get(e).SkillValue_4},e.getMaxSkill=function(){return 12306},e.prototype.getJsonDataByHeroTypeAndSkillPosAndSkillLevel=function(e,t,a){var n=null;return this.data.forEach(function(o){o.BindHero==e&&o.SkillPosition==t&&o.SkillLevel==a&&(n=o)}),n},e.GetSkillId=function(e,t,a){return 1e3*e+100*t+a},e._instance=null,e}();a.SkillConfigurationManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],SkillInfoUi:[function(e,t,a){"use strict";cc._RF.push(t,"6f57bxOo4RJf43fCudxAPq2","SkillInfoUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../multiLanguage/LanguageManager"),s=cc._decorator,c=s.ccclass,l=s.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sp_avatar=[],t}return o(t,e),t.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this)},t.prototype.init=function(e){r.default.getInstance().getCurLanguageType();var t=this.node.getChildByName("textRoot"),a=t.getChildByName("avaIcon");a.getComponent(cc.Sprite).spriteFrame=this.sp_avatar[e],a.getChildByName("name"),t.getChildByName("skillName"),t.getChildByName("skillDes")},t.prototype.onTouchStart=function(){this.node.removeFromParent()},t.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this)},i([l([cc.SpriteFrame])],t.prototype,"sp_avatar",void 0),i([c],t)}(cc.Component);a.default=g,cc._RF.pop()},{"../../multiLanguage/LanguageManager":"LanguageManager"}],SkillLevelUnlock:[function(e,t,a){"use strict";cc._RF.push(t,"f9c9cQ4RWFMbKL3034zXKl+","SkillLevelUnlock"),Object.defineProperty(a,"__esModule",{value:!0}),a.SkillLevelUnlockManager=a.JsonSkillLevelUnlock=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.SkillPosition=0,this.HeroLevel=0};a.JsonSkillLevelUnlock=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("SkillLevelUnlock",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonSkillLevelUnlock\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.SkillPosition,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonSkillLevelUnlock=function(e){return this.data.get(e)},e.prototype.getHeroLevel=function(e){return this.data.get(e).HeroLevel},e.getMaxSkillPosition=function(){return 4},e.getId=function(e,t){return 100*e+t},e._instance=null,e}();a.SkillLevelUnlockManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],SkillManager:[function(e,t,a){"use strict";cc._RF.push(t,"2c805VbwANFr7ZWBcHfQncr","SkillManager");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("./GameEffectsManager"),s=e("./MapNodePool"),c=e("../GameManager"),l=e("../UI/UIManager"),g=e("../Constants"),u=e("../Sound/AudioConstants"),p=e("../Hero/Game/DamageRecord"),d=cc._decorator,h=d.ccclass,f=(d.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.is_skill_state=!1,t.damage_record=null,t.record_root=null,t.skill_range=null,t.de_lu_yi_ex=0,t}var a;return o(t,e),a=t,t.getInstance=function(){return this._instance},t.prototype.onLoad=function(){a._instance=this,this.damage_record=new Map,this.record_root=this.node.getChildByName("record_root"),this.skill_range=this.node.getChildByName("skill_range")},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this),this.damage_record.clear(),a._instance=null},t.prototype.createGameEffectById=function(e,t){return r.GameEffectsManager.getInstance().createGameEffectForParent(e,t,this.node)},t.prototype.releaseSkill=function(e,t){c.default.getInstance().sound_manager.playSound(u.SoundIndex.YX_Xuli),this.setTimeStop(!0);var a=this.createGameEffectById(r.GameEffectId.hero_skill_common,t.getPosition().add(cc.v2(0,100))).getComponent(cc.Animation);a.node.zIndex=3,a.play().speed=g.JiaSu,a.on(cc.Animation.EventType.FINISHED,function(){a.off(cc.Animation.EventType.FINISHED),r.GameEffectsManager.getInstance().destroyGameEffectById(r.GameEffectId.hero_skill_common,a.node),e()});var n=l.UIManager.getInstance().node.getChildByName("ui_touch");if(n){var o=n.getComponent(cc.Animation).getAnimationState("ui_touch");o&&(o.speed=g.JiaSu)}t.setParent(this.node),t.zIndex=2},t.prototype.startBaiPing=function(){var e=this.node.getChildByName("bai");e.active=!0,e.opacity=255,cc.tween(e).to(.2*c.default.getInstance().getGameRate(),{opacity:0}).start()},t.prototype.setTimeStop=function(e){this.node.getChildByName("bg").active=e,e?(c.default.getInstance().setFightingRate(1/g.JiaSu),this.node.getChildByName("bai").opacity=0,this.setIsSkillState(!0)):c.default.getInstance().setFightingRate(1)},t.prototype.setIsSkillState=function(e){this.is_skill_state=e},t.prototype.getIsSkillState=function(){return this.is_skill_state},t.prototype.releaseSkillResult=function(e){this.node.getChildByName("bg").active=!e,c.default.getInstance().setFightingRate(e?1:1/g.SkillSpeedRate)},t.prototype.recordDamage=function(e,t){var a=this;if(this.damage_record.has(e))this.damage_record.get(e).refreshValue(t);else{var n=r.GameEffectsManager.getInstance().createGameEffectForParent(r.GameEffectId.skill_damage_record,cc.v2(0,-320),this.record_root),o=n.getComponent(p.default);o.init(r.GameEffectId.skill_damage_record,e,t,function(e){a.damage_record.delete(e)}),this.damage_record.set(e,o),cc.tween(n).to(.2,{x:0}).start()}},t.prototype.showSkillRange=function(e,t){this.skill_range.stopAllActions(),this.skill_range.y=e,this.skill_range.height=t,this.skill_range.opacity=255,this.setSkillRange(!0)},t.prototype.setSkillRange=function(e){this.skill_range.color=e?cc.Color.WHITE:cc.Color.RED},t.prototype.hideSkillRange=function(){this.skill_range.stopAllActions(),this.skill_range.opacity=0},t.prototype.setDeLuYiEx=function(e){this.de_lu_yi_ex=e},t.prototype.getDeLuYiEx=function(){return this.de_lu_yi_ex},t._instance=null,a=i([h],t)}(s.default));a.default=f,cc._RF.pop()},{"../Constants":"Constants","../GameManager":"GameManager","../Hero/Game/DamageRecord":"DamageRecord","../Sound/AudioConstants":"AudioConstants","../UI/UIManager":"UIManager","./GameEffectsManager":"GameEffectsManager","./MapNodePool":"MapNodePool"}],SkillTip:[function(e,t,a){"use strict";cc._RF.push(t,"bfe8c8jEfFCt7VVbKrlPqG1","SkillTip");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Game/SkillManager"),s=e("./HeroConfig"),c=cc._decorator,l=c.ccclass,g=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sp_tip=[],t.skill_tip_type=s.SkillTipType.Full,t.self_sp=null,t}return o(t,e),t.prototype.onLoad=function(){this.self_sp=this.node.getComponent(cc.Sprite)},t.prototype.setIsCanRelease=function(e){this.self_sp&&(this.self_sp.spriteFrame=this.sp_tip[e?1:0]),r.default.getInstance().setSkillRange(e)},t.prototype.getSkillTipType=function(){return this.skill_tip_type},i([g([cc.SpriteFrame])],t.prototype,"sp_tip",void 0),i([g({type:cc.Enum(s.SkillTipType)})],t.prototype,"skill_tip_type",void 0),i([l],t)}(cc.Component);a.default=u,cc._RF.pop()},{"../../Game/SkillManager":"SkillManager","./HeroConfig":"HeroConfig"}],SkyManager:[function(e,t,a){"use strict";cc._RF.push(t,"0008dEc+FNAt6apMAvD+zAY","SkyManager");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r,s=e("./GameEffectsManager"),c=e("./MapNodePool");(function(e){e[e.shadow=1]="shadow"})(r||(r={}));var l=cc._decorator,g=l.ccclass,u=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var a;return o(t,e),a=t,t.getInstance=function(){return this._instance},t.prototype.onLoad=function(){a._instance=this},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this),a._instance=null},t.prototype.createGameEffectById=function(e,t){return s.GameEffectsManager.getInstance().createGameEffectForParent(e,t,this.node)},t._instance=null,a=i([g],t)}(c.default));a.default=u,cc._RF.pop()},{"./GameEffectsManager":"GameEffectsManager","./MapNodePool":"MapNodePool"}],Sound:[function(e,t,a){"use strict";cc._RF.push(t,"c36ed4sGjtBZ7Q910n5tc8D","Sound");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../GameManager"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cur_play_audio=null,t.map_audio=new Map,t.volume=0,t.mute=!1,t}return o(t,e),t.prototype.onLoad=function(){r.default.getInstance().sound_manager=this,this.loadVolume(),this.loadMute(),this.loadAllAudioAsset()},t.prototype.onDestroy=function(){r.default.getInstance().sound_manager=null},t.prototype.loadAllAudioAsset=function(){var e=this;cc.resources.loadDir("sounds/"+r.default.getInstance().cur_game_scene,cc.AudioClip,function(t,a){if(t)console.log(t);else for(var n=a.length,o=0;o<n;o++){var i=a[o];e.map_audio.set(i.name,i)}})},t.prototype.loadVolume=function(){var e=cc.sys.localStorage.getItem("sound_volume");null!==e&&""!==e||(e=1),this.saveSoundVolume(parseFloat(e))},t.prototype.saveSoundVolume=function(e){null!=e&&(this.volume=e),cc.sys.localStorage.setItem("sound_volume",this.volume)},t.prototype.loadMute=function(){var e=cc.sys.localStorage.getItem("sound_mute");null===e||""===e?e=!1:"false"===e?e=!1:"true"===e&&(e=!0),this.saveSoundMute(e)},t.prototype.saveSoundMute=function(e){null!=e&&(this.mute=e),cc.sys.localStorage.setItem("sound_mute",this.mute)},t.prototype.playSound=function(e){var t=this,a=0;if(0==this.mute&&this.volume>0){var n=this.map_audio.get(e);n?this.cur_play_audio!=n&&(this.cur_play_audio=n,a=cc.audioEngine.play(this.cur_play_audio,!1,this.volume)):cc.resources.load("sounds/"+r.default.getInstance().cur_game_scene+"/"+e,cc.AudioClip,function(e,n){e?console.log(e):(t.cur_play_audio=n,a=cc.audioEngine.play(t.cur_play_audio,!1,t.volume))})}return a},t.prototype.lateUpdate=function(){this.cur_play_audio=null},i([c],t)}(cc.Component));a.default=l,cc._RF.pop()},{"../GameManager":"GameManager"}],SpeciesWarning:[function(e,t,a){"use strict";cc._RF.push(t,"72351DSzbZJGLZy+8GZihSn","SpeciesWarning");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Constants"),s=e("../GameManager"),c=e("../Sound/AudioConstants"),l=cc._decorator,g=l.ccclass,u=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(e){s.default.getInstance().sound_manager.playSound(c.SoundIndex.boss),this.loadEnemyDes(e)},t.prototype.loadEnemyDes=function(e){this.setBossInfo(e)},t.prototype.setBossInfo=function(){},t.prototype.clickBtnContinue=function(){s.default.getInstance().sound_manager.playSound(c.SoundIndex.click),s.default.getInstance().cur_game_state=r.GameState.Game_Playing,this.node.removeFromParent(),s.default.getInstance().showBossWarning()},i([g],t)}(cc.Component));a.default=u,cc._RF.pop()},{"../Constants":"Constants","../GameManager":"GameManager","../Sound/AudioConstants":"AudioConstants"}],SpeedUp:[function(e,t,a){"use strict";cc._RF.push(t,"0ca409lwtJMuZjL0LUftyrp","SpeedUp");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Ads/AdManager"),s=e("../../Constants"),c=e("../../GameManager"),l=e("../../multiLanguage/LanguageConstants"),g=e("../../multiLanguage/LanguageManager"),u=e("../../Sound/AudioConstants"),p=e("../Game"),d=cc._decorator,h=d.ccclass,f=(d.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.clickBtnSpeedUp=function(){var e=this;c.default.getInstance().sound_manager.playSound(u.SoundIndex.click),r.default.getInstance().showVideo(function(t){if(t){var a=cc.find("Canvas").getComponent(p.default);a.is_unlock_rate=!0,a.setBtnRateShow()}else c.default.getInstance().showMessage(g.default.getInstance().getString(l.LanguageIndex.The_ad_failed_to_play_and_the_reward_cannot_be_obtained));e.destroySelf()},s.VIDEO_TYPE.Coin)},t.prototype.clickBtnNo=function(){c.default.getInstance().sound_manager.playSound(u.SoundIndex.click),this.destroySelf()},t.prototype.destroySelf=function(){c.default.getInstance().cur_game_state=s.GameState.Game_Playing,cc.director.resume(),this.node.removeFromParent()},i([h],t)}(cc.Component));a.default=f,cc._RF.pop()},{"../../Ads/AdManager":"AdManager","../../Constants":"Constants","../../GameManager":"GameManager","../../Sound/AudioConstants":"AudioConstants","../../multiLanguage/LanguageConstants":"LanguageConstants","../../multiLanguage/LanguageManager":"LanguageManager","../Game":"Game"}],SpiritAptitude:[function(e,t,a){"use strict";cc._RF.push(t,"faa44fMLnZCSYwR2eftg3QS","SpiritAptitude"),Object.defineProperty(a,"__esModule",{value:!0}),a.SpiritAptitudeManager=a.JsonSpiritAptitude=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.Aptitude=0,this.SpiritId=0,this.CurrentQuality=0,this.Cooperation=0,this.defend=0,this.OneHeart=0,this.Hit=0,this.Miss=0,this.Critical=0,this.ExtraCritical=0,this.AntiCritical=0,this.AntiExtraCritical=0};a.JsonSpiritAptitude=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("SpiritAptitude",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonSpiritAptitude\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.Aptitude,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonSpiritAptitude=function(e){return this.data.get(e)},e.prototype.getSpiritId=function(e){return this.data.get(e).SpiritId},e.prototype.getCurrentQuality=function(e){return this.data.get(e).CurrentQuality},e.prototype.getCooperation=function(e){return this.data.get(e).Cooperation},e.prototype.getdefend=function(e){return this.data.get(e).defend},e.prototype.getOneHeart=function(e){return this.data.get(e).OneHeart},e.prototype.getHit=function(e){return this.data.get(e).Hit},e.prototype.getMiss=function(e){return this.data.get(e).Miss},e.prototype.getCritical=function(e){return this.data.get(e).Critical},e.prototype.getExtraCritical=function(e){return this.data.get(e).ExtraCritical},e.prototype.getAntiCritical=function(e){return this.data.get(e).AntiCritical},e.prototype.getAntiExtraCritical=function(e){return this.data.get(e).AntiExtraCritical},e.getMaxAptitude=function(){return 2110},e.getId=function(e,t){return 100*e+t},e._instance=null,e}();a.SpiritAptitudeManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],SpiritAttribute:[function(e,t,a){"use strict";cc._RF.push(t,"0683fIVNg1FP5zJkD3Q8IP3","SpiritAttribute"),Object.defineProperty(a,"__esModule",{value:!0}),a.SpiritAttributeManager=a.JsonSpiritAttribute=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.SpiritItem=0,this.SpiritType=0,this.Stage=0,this.Quality=0,this.Star=0,this.Health=0,this.Attack=0,this.Defense=0,this.Hit=0,this.Miss=0,this.Critical=0,this.ExtraCritical=0,this.AntiCritical=0,this.AntiExtraCritical=0};a.JsonSpiritAttribute=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("SpiritAttribute",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonSpiritAttribute\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.SpiritItem,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonSpiritAttribute=function(e){return this.data.get(e)},e.prototype.getSpiritType=function(e){return this.data.get(e).SpiritType},e.prototype.getStage=function(e){return this.data.get(e).Stage},e.prototype.getQuality=function(e){return this.data.get(e).Quality},e.prototype.getStar=function(e){return this.data.get(e).Star},e.prototype.getHealth=function(e){return this.data.get(e).Health},e.prototype.getAttack=function(e){return this.data.get(e).Attack},e.prototype.getDefense=function(e){return this.data.get(e).Defense},e.prototype.getHit=function(e){return this.data.get(e).Hit},e.prototype.getMiss=function(e){return this.data.get(e).Miss},e.prototype.getCritical=function(e){return this.data.get(e).Critical},e.prototype.getExtraCritical=function(e){return this.data.get(e).ExtraCritical},e.prototype.getAntiCritical=function(e){return this.data.get(e).AntiCritical},e.prototype.getAntiExtraCritical=function(e){return this.data.get(e).AntiExtraCritical},e.getMaxSpiritItem=function(){return 70413},e.prototype.getTypeFirstJsonData=function(e){var t=null;return this.data.forEach(function(a){e==a.SpiritType&&1==a.Stage&&(t=a)}),t},e._instance=null,e}();a.SpiritAttributeManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],SpiritCultivate:[function(e,t,a){"use strict";cc._RF.push(t,"8b4c6sF9sJOTZkxddPU+Jsp","SpiritCultivate"),Object.defineProperty(a,"__esModule",{value:!0}),a.SpiritCultivateManager=a.JsonSpiritCultivate=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.Stage=0,this.FoodCost=0,this.CoinCost=0,this.CoinSpirit=0,this.DiamondCost=0};a.JsonSpiritCultivate=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("SpiritCultivate",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonSpiritCultivate\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.Stage,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonSpiritCultivate=function(e){return this.data.get(e)},e.prototype.getFoodCost=function(e){return this.data.get(e).FoodCost},e.prototype.getCoinCost=function(e){return this.data.get(e).CoinCost},e.prototype.getCoinSpirit=function(e){return this.data.get(e).CoinSpirit},e.prototype.getDiamondCost=function(e){return this.data.get(e).DiamondCost},e.getMaxStage=function(){return 13},e._instance=null,e}();a.SpiritCultivateManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],SpiritLevelUp:[function(e,t,a){"use strict";cc._RF.push(t,"7a73cnRWIdFIJsMtTuGS2v9","SpiritLevelUp"),Object.defineProperty(a,"__esModule",{value:!0}),a.SpiritLevelUpManager=a.JsonSpiritLevelUp=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.Spirit=0,this.FoodCost=0,this.CoinCost=0,this.PassiveSkillLevel_1=0,this.ActiveSkillLevel=0,this.PassiveSkillLevel_2=0};a.JsonSpiritLevelUp=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("SpiritLevelUp",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonSpiritLevelUp\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.Spirit,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonSpiritLevelUp=function(e){return this.data.get(e)},e.prototype.getFoodCost=function(e){return this.data.get(e).FoodCost},e.prototype.getCoinCost=function(e){return this.data.get(e).CoinCost},e.prototype.getPassiveSkillLevel_1=function(e){return this.data.get(e).PassiveSkillLevel_1},e.prototype.getActiveSkillLevel=function(e){return this.data.get(e).ActiveSkillLevel},e.prototype.getPassiveSkillLevel_2=function(e){return this.data.get(e).PassiveSkillLevel_2},e.getMaxSpirit=function(){return 200},e.prototype.getNowLevelAllCostCoin=function(e){e-=1;for(var t=0;e>0;e--)t+=this.data.get(e).CoinCost;return t},e.prototype.getNowLevelAllCostFood=function(e){e-=1;for(var t=0;e>0;e--)t+=this.data.get(e).FoodCost;return t},e._instance=null,e}();a.SpiritLevelUpManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],SpiritMessage:[function(e,t,a){"use strict";cc._RF.push(t,"9a8dbX10URMS46yECvHTzNX","SpiritMessage"),Object.defineProperty(a,"__esModule",{value:!0}),a.SpiritMessageManager=a.JsonSpiritMessage=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.SpiritType=0,this.SpiritName=0,this.InitialQuality=0,this.StageLimit=0,this.ActiveSkillsIntro=0,this.SpiritSkillName=0};a.JsonSpiritMessage=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("SpiritMessage",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonSpiritMessage\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.SpiritType,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonSpiritMessage=function(e){return this.data.get(e)},e.prototype.getSpiritName=function(e){return this.data.get(e).SpiritName},e.prototype.getInitialQuality=function(e){return this.data.get(e).InitialQuality},e.prototype.getStageLimit=function(e){return this.data.get(e).StageLimit},e.prototype.getActiveSkillsIntro=function(e){return this.data.get(e).ActiveSkillsIntro},e.prototype.getSpiritSkillName=function(e){return this.data.get(e).SpiritSkillName},e.getMaxSpiritType=function(){return 7},e._instance=null,e}();a.SpiritMessageManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],SpiritQualityAdvanced:[function(e,t,a){"use strict";cc._RF.push(t,"30b65L9aNhF4LMwBvfPZuTG","SpiritQualityAdvanced"),Object.defineProperty(a,"__esModule",{value:!0}),a.SpiritQualityAdvancedManager=a.JsonSpiritQualityAdvanced=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.CurrentQuality=0,this.TargetQuality=0,this.CostItselfNum=0,this.CostItselfQuality=0,this.CostSameTypeNum=0,this.CostSameTypeQuality=0};a.JsonSpiritQualityAdvanced=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("SpiritQualityAdvanced",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonSpiritQualityAdvanced\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.CurrentQuality,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonSpiritQualityAdvanced=function(e){return this.data.get(e)},e.prototype.getTargetQuality=function(e){return this.data.get(e).TargetQuality},e.prototype.getCostItselfNum=function(e){return this.data.get(e).CostItselfNum},e.prototype.getCostItselfQuality=function(e){return this.data.get(e).CostItselfQuality},e.prototype.getCostSameTypeNum=function(e){return this.data.get(e).CostSameTypeNum},e.prototype.getCostSameTypeQuality=function(e){return this.data.get(e).CostSameTypeQuality},e.getMaxCurrentQuality=function(){return 9},e._instance=null,e}();a.SpiritQualityAdvancedManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],SpiritQualityMessage:[function(e,t,a){"use strict";cc._RF.push(t,"7b31b76PJVGd4iKrY5mBW2z","SpiritQualityMessage"),Object.defineProperty(a,"__esModule",{value:!0}),a.SpiritQualityMessageManager=a.JsonSpiritQualityMessage=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.SpiritQuality=0,this.SpiritQualityName=0,this.SpiritQualityframe=0,this.SpiritQualityStar=0};a.JsonSpiritQualityMessage=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("SpiritQualityMessage",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonSpiritQualityMessage\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.SpiritQuality,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonSpiritQualityMessage=function(e){return this.data.get(e)},e.prototype.getSpiritQualityName=function(e){return this.data.get(e).SpiritQualityName},e.prototype.getSpiritQualityframe=function(e){return this.data.get(e).SpiritQualityframe},e.prototype.getSpiritQualityStar=function(e){return this.data.get(e).SpiritQualityStar},e.getMaxSpiritQuality=function(){return 15},e._instance=null,e}();a.SpiritQualityMessageManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],SpiritRelease:[function(e,t,a){"use strict";cc._RF.push(t,"13c49Sb/ctNua/rP21zSB5x","SpiritRelease"),Object.defineProperty(a,"__esModule",{value:!0}),a.SpiritReleaseManager=a.JsonSpiritRelease=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.ReleaseId=0,this.SpiritRarity=0,this.SpiritQuality=0,this.GetItem=0,this.GetNum=0};a.JsonSpiritRelease=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("SpiritRelease",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonSpiritRelease\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.ReleaseId,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonSpiritRelease=function(e){return this.data.get(e)},e.prototype.getSpiritRarity=function(e){return this.data.get(e).SpiritRarity},e.prototype.getSpiritQuality=function(e){return this.data.get(e).SpiritQuality},e.prototype.getGetItem=function(e){return this.data.get(e).GetItem},e.prototype.getGetNum=function(e){return this.data.get(e).GetNum},e.getMaxReleaseId=function(){return 415},e.prototype.getDataByQualityAndRarity=function(e,t){var a;return this.data.forEach(function(n){n.SpiritQuality==e&&n.SpiritRarity==t&&(a=n)}),a},e._instance=null,e}();a.SpiritReleaseManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],SpiritSkillConfig:[function(e,t,a){"use strict";cc._RF.push(t,"a588cWRCllDD63lWOqf4Xkx","SpiritSkillConfig"),Object.defineProperty(a,"__esModule",{value:!0}),a.SpiritSkillConfigManager=a.JsonSpiritSkillConfig=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.SkillId=0,this.SpiritId=0,this.SkillPosition=0,this.CoolDown=0,this.SkillRange=0,this.SkillLevel=0,this.SkillParameter_1=0,this.SkillParameter_2=0,this.SkillParameter_3=0};a.JsonSpiritSkillConfig=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("SpiritSkillConfig",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonSpiritSkillConfig\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.SkillId,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonSpiritSkillConfig=function(e){return this.data.get(e)},e.prototype.getSpiritId=function(e){return this.data.get(e).SpiritId},e.prototype.getSkillPosition=function(e){return this.data.get(e).SkillPosition},e.prototype.getCoolDown=function(e){return this.data.get(e).CoolDown},e.prototype.getSkillRange=function(e){return this.data.get(e).SkillRange},e.prototype.getSkillLevel=function(e){return this.data.get(e).SkillLevel},e.prototype.getSkillParameter_1=function(e){return this.data.get(e).SkillParameter_1},e.prototype.getSkillParameter_2=function(e){return this.data.get(e).SkillParameter_2},e.prototype.getSkillParameter_3=function(e){return this.data.get(e).SkillParameter_3},e.getMaxSkillId=function(){return 2143},e.getId=function(e,t,a){return 100*e+10*t+a},e._instance=null,e}();a.SpiritSkillConfigManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],SpiritSkill:[function(e,t,a){"use strict";cc._RF.push(t,"8eedaEMXZ5GKrRMs54qyGka","SpiritSkill"),Object.defineProperty(a,"__esModule",{value:!0}),a.SpiritSkillManager=a.JsonSpiritSkill=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.SpiritSkill=0,this.SpiritType=0,this.SkillLevel=0,this.CoolDown=0,this.SkillParameter_1=0,this.SkillParameter_2=0,this.SkillParameter_3=0};a.JsonSpiritSkill=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("SpiritSkill",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonSpiritSkill\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.SpiritSkill,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonSpiritSkill=function(e){return this.data.get(e)},e.prototype.getSpiritType=function(e){return this.data.get(e).SpiritType},e.prototype.getSkillLevel=function(e){return this.data.get(e).SkillLevel},e.prototype.getCoolDown=function(e){return this.data.get(e).CoolDown},e.prototype.getSkillParameter_1=function(e){return this.data.get(e).SkillParameter_1},e.prototype.getSkillParameter_2=function(e){return this.data.get(e).SkillParameter_2},e.prototype.getSkillParameter_3=function(e){return this.data.get(e).SkillParameter_3},e.getMaxSpiritSkill=function(){return 403},e.prototype.getJsonByTypeAndLevel=function(e,t){var a=null;return this.data.forEach(function(n){e==n.SpiritType&&t==n.SkillLevel&&(a=n)}),a},e.prototype.getSkillId=function(e,t){return 100*e+t},e._instance=null,e}();a.SpiritSkillManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],StarVeinsAttribute:[function(e,t,a){"use strict";cc._RF.push(t,"8d4c2DwPopAibcb9KmXbo1x","StarVeinsAttribute"),Object.defineProperty(a,"__esModule",{value:!0}),a.StarVeinsAttributeManager=a.JsonStarVeinsAttribute=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.Node=0,this.StarVeinsId=0,this.NodeOrdinal=0,this.CostItem=0,this.CostNum=0,this.Attack=0,this.Defense=0,this.Health=0,this.ExtraAttackSpeed=0,this.Hit=0,this.Miss=0,this.Critical=0,this.ExtraCritical=0,this.AntiCritical=0,this.AntiExtraCritical=0,this.SpiritPercentageAttack=0,this.SpiritPercentageDefense=0,this.SpiritPercentageHealth=0};a.JsonStarVeinsAttribute=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("StarVeinsAttribute",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonStarVeinsAttribute\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.Node,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonStarVeinsAttribute=function(e){return this.data.get(e)},e.prototype.getStarVeinsId=function(e){return this.data.get(e).StarVeinsId},e.prototype.getNodeOrdinal=function(e){return this.data.get(e).NodeOrdinal},e.prototype.getCostItem=function(e){return this.data.get(e).CostItem},e.prototype.getCostNum=function(e){return this.data.get(e).CostNum},e.prototype.getAttack=function(e){return this.data.get(e).Attack},e.prototype.getDefense=function(e){return this.data.get(e).Defense},e.prototype.getHealth=function(e){return this.data.get(e).Health},e.prototype.getExtraAttackSpeed=function(e){return this.data.get(e).ExtraAttackSpeed},e.prototype.getHit=function(e){return this.data.get(e).Hit},e.prototype.getMiss=function(e){return this.data.get(e).Miss},e.prototype.getCritical=function(e){return this.data.get(e).Critical},e.prototype.getExtraCritical=function(e){return this.data.get(e).ExtraCritical},e.prototype.getAntiCritical=function(e){return this.data.get(e).AntiCritical},e.prototype.getAntiExtraCritical=function(e){return this.data.get(e).AntiExtraCritical},e.prototype.getSpiritPercentageAttack=function(e){return this.data.get(e).SpiritPercentageAttack},e.prototype.getSpiritPercentageDefense=function(e){return this.data.get(e).SpiritPercentageDefense},e.prototype.getSpiritPercentageHealth=function(e){return this.data.get(e).SpiritPercentageHealth},e.getMaxNode=function(){return 0},e._instance=null,e}();a.StarVeinsAttributeManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],StarVeins:[function(e,t,a){"use strict";cc._RF.push(t,"84e55bTdQVKp4yBNUKBF1N0","StarVeins"),Object.defineProperty(a,"__esModule",{value:!0}),a.StarVeinsManager=a.JsonStarVeins=void 0;var n=e("../../Loading/LoadManager"),o=function(){this.StarVeinsId=0,this.StarVeinsName=0,this.Quality=0,this.NodeNum=0};a.JsonStarVeins=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("StarVeins",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonStarVeins\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.StarVeinsId,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonStarVeins=function(e){return this.data.get(e)},e.prototype.getStarVeinsName=function(e){return this.data.get(e).StarVeinsName},e.prototype.getQuality=function(e){return this.data.get(e).Quality},e.prototype.getNodeNum=function(e){return this.data.get(e).NodeNum},e.getMaxStarVeinsId=function(){return 0},e._instance=null,e}();a.StarVeinsManager=i,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager"}],StatsUi:[function(e,t,a){"use strict";cc._RF.push(t,"9ea4bU0cfRGOrjuWHcOzI0m","StatsUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),i([s],t)}(cc.Component));a.default=c,cc._RF.pop()},{}],StorageConfig:[function(e,t,a){"use strict";cc._RF.push(t,"e8923OWA7NOroLGGHOHE6O5","StorageConfig"),Object.defineProperty(a,"__esModule",{value:!0}),a.StorageKey=void 0,function(e){e.PropNum="prop_num_",e.MazePassId="maze_pass_id",e.MazeFightingId="maze_fighting_id",e.MazePassingId="maze_passing_id",e.MazeUnSelectSpoils="maze_un_select_spoils",e.MazeShopList="maze_shop_list",e.MazeBuffList="maze_buff_list",e.MazeBuffStage="maze_buff_stage_",e.MazeBoxIdList="maze_box_id_list",e.MazeSubHp="maze_sub_hp",e.MazeFloor="maze_floor",e.MazeLeasePetList="maze_lease_pet_list",e.MazeRandPetList="maze_rand_pet_list_",e.MazeStartDate="maze_start_date",e.PetList="pet_list",e.HeroList="hero_list",e.PetNum="pet_num",e.EquipNum="equip_num",e.BossChallengeStage="boss_challenge_stage_",e.DingYueGetState="ding_yue_get_state_",e.TowerPassNum="tower_pass_num",e.PayNum="pay_num_",e.PayUiShowNum="pay_ui_show_num_",e.FuncUiShowNum="func_ui_show_num_",e.PaySelectIds="pay_select_ids_",e.TotalLongJingNum="total_long_jing_num",e.TotalLongJingGetState="total_long_jing_get_state_",e.FirstPayGetState="first_pay_get_state",e.AutoFighting="auto_fighting",e.HeroExclusiveEquip="Hero_Exclusive_Equip_",e.LevelStar="level_star_",e.TomorowZeroTimeStamp="tomorow_zero_time_stamp",e.NextWeekZeroTimeStamp="next_week_zero_time_stamp",e.NextMonthZeroTimeStamp="next_month_zero_time_stamp",e.StoreChapterItem="store_chapter_item_",e.StoreGemItem="store_gem_item_",e.StoreCoinItem="store_coin_item_",e.StoreDailyShopId="store_daily_shop_id",e.StoreDailyShopDiscount="store_daily_shop_discount_",e.StoreDailyShopNum="store_daily_shop_num",e.StoreMysteryPetFreeTime="store_mystery_pet_free_time",e.StoreMysteryEquipFreeTime="store_mystery_weapon_free_time",e.StoreHeroID="store_hero_id_",e.NewPlayerSavenDaySignInNum="new_player_saven_day_sign_in_num",e.NewPlayerSavenDaySignInOver="new_player_saven_day_sign_in_over",e.CanSignIn="can_sign_in",e.DailySignInNum="daily_sign_in_num",e.DailySignInDay="daily_sign_in_day_",e.DailySignInCumulativeDay="daily_sign_in_cumulative_day_",e.CanFastOffline="game_can_fast_offline",e.CanAdFastOffline="game_can_ad_fast_offline",e.CoinPopAd="coin_pop_ad",e.TaskId="task_id_",e.TaskState="task_state_",e.TaskNum="task_num_",e.AllActivityNum="all_activity_num",e.TaskDailyActivityNum="task_daily_activity_num",e.TaskWeekActivityNum="task_week_activity_num",e.TaskDailyActivityState="task_daily_activity_state_",e.TaskWeeklyActivityState="task_weekly_activity_state_",e.TaskMainShowIndex="task_main_show_index",e.TaskMainIndex="task_main_index_",e.TaskMainNum="task_main_num_",e.TaskAchievementNum="task_achievement_num_",e.TaskAchievementIndex="task_achievement_index_",e.TurmtableAd="turmtable_ad",e.TurmtableFree="turmtable_free",e.TurmtableFreeTime="turmtable_free_time",e.TurmtableFreeYes="turmtable_free_yes",e.VipFreeRewardStatus="vip_free_reward_status_",e.VipAdvancedRewardStatus="vip_advanced_reward_status_",e.VipIdentity="vip_identity",e.VipDailyCollectionStatus="vip_daily_collection_status",e.BossChallengeTimes="boss_challenge_times",e.UnlimitedChallengeTimes="unlimited_challenge_times",e.VoidCrackChallengeTimes="void_crack_challenge_times",e.BuyBossChallengeTimes="buy_boss_challenge_times",e.BuyUnlimitedChallengeTimes="buy_unlimited_challenge_times",e.BuyVoidCrackChallengeTimes="buy_void_crack_challenge_times",e.TotalBossChallengeTimes="total_boss_challenge_times",e.TotalUnlimitedChallengeTimes="total_unlimited_challenge_times",e.TotalVoidCrackChallengeTimes="total_void_crack_challenge_times",e.BossChallengeDamage="boss_challenge_damage",e.UnlimitedChallengeDamage="unlimited_challenge_damage",e.VoidCrackChallengeDamage="void_crack_challenge_damage",e.WeekCardIsReceiveToday="week_card_is_receive_today",e.WeekCardOverTime="week_card_over_time",e.WeekCardIsFirstBuy="week_card_is_first_buy",e.WeekCardFreeAdNum="week_card_free_ad_num",e.TodayIsFirstLogIn="today_is_first_log_in",e.try_auto_fight_remain="try_auto_fight",e.try_rate_fight_remain="try_rate_fight"}(a.StorageKey||(a.StorageKey={})),cc._RF.pop()},{}],StorageManager:[function(e,t,a){"use strict";cc._RF.push(t,"b00eemPx+5BPqivD60JtxhZ","StorageManager"),Object.defineProperty(a,"__esModule",{value:!0}),a.TheStorageManager=void 0;var n=function(){function e(){this.secret_key=""}return e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance},e.prototype.setItem=function(e,t){cc.sys.localStorage.setItem(e,t)},e.prototype.setJson=function(e,t){this.setItem(e,JSON.stringify(t))},e.prototype.getItem=function(e){return cc.sys.localStorage.getItem(e)},e.prototype.removeItem=function(e){cc.sys.localStorage.removeItem(e)},e.prototype.getString=function(e,t){var a=this.getItem(e);return""!==a&&null!==a||(a=t),a},e.prototype.getNumber=function(e,t){var a=this.getItem(e);return""===a||null===a?t:Number(a)},e.prototype.getInt=function(e,t){var a=this.getItem(e);return""===a||null===a?t:parseInt(a)},e.prototype.getFloat=function(e,t){var a=this.getItem(e);return""===a||null===a?t:parseFloat(a)},e.prototype.getIntList=function(e,t){var a=[],n=this.getItem(e);if(""===n||null===n)a=t;else for(var o=n.split(","),i=0;i<o.length;i++){var r=parseInt(o[i]);a.push(r)}return a},e.prototype.getJson=function(e,t){var a=this.getItem(e);return a?JSON.parse(a):t},e._instance=null,e}();a.TheStorageManager=n,cc._RF.pop()},{}],StoreHeroIconItem:[function(e,t,a){"use strict";cc._RF.push(t,"5a5b3hTVq1OJrXyEykBjsHD","StoreHeroIconItem");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.callBack=null,t}return o(t,e),t.prototype.init=function(e){this.callBack=e},t.prototype.showHero=function(){this.callBack()},i([s],t)}(cc.Component));a.default=c,cc._RF.pop()},{}],StoreHeroShowUi:[function(e,t,a){"use strict";cc._RF.push(t,"0ae513CVmhFy6y1FNDb8Wr0","StoreHeroShowUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../GameManager"),s=e("../Hero/Data/HeroBaseInfo"),c=e("../Hero/Data/HeroManager"),l=e("../Hero/Data/SkillLevelUnlock"),g=e("../Hero/Game/HeroConfig"),u=e("../Hero/Ui/HeroSkillUi"),p=e("../Level/LevelManager"),d=e("../multiLanguage/LanguageManager"),h=e("../Sound/AudioConstants"),f=e("../Storage/StorageConfig"),_=e("../Storage/StorageManager"),m=e("../Tutorials/TutorailsManager"),y=e("../UI/UIComponent"),I=e("../UI/UIConfig"),v=e("../UI/UIManager"),M=cc._decorator,C=M.ccclass,S=M.property,P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hero_type=null,t.hero_skeleton_data=[],t.role_ui=null,t}return o(t,e),t.prototype.init=function(t){var a=this;e.prototype.init.call(this,t),this.node.getChildByName("bbg").on(cc.Node.EventType.TOUCH_START,function(){1==m.default.getInstance().is_tutorails_state&&p.LevelManager.getInstance().finish_level<=3&&a.hero_type==g.Hero_Type.DeLuYi?v.UIManager.getInstance().closeAllUiDialog(I.UILayerLevel.One):e.prototype.onClose.call(a)},this)},t.prototype.initData=function(e,t){void 0===t&&(t=!0),this.hero_type=e,t&&_.TheStorageManager.getInstance().setItem(f.StorageKey.StoreHeroID+e%11e4,"1"),this.refreshUi()},t.prototype.refreshUi=function(){this.node.getChildByName("name").getComponent(cc.Label).string=d.default.getInstance().getStrByTextId(s.HeroBaseInfoManager.getInstance().getNameText_ID(this.hero_type)),this.node.getChildByName("position").getComponent(cc.Label).string=d.default.getInstance().getStrByTextId(s.HeroBaseInfoManager.getInstance().getHeroPositioning(this.hero_type)),this.node.getChildByName("quality").getComponent(cc.Sprite).spriteFrame=c.HeroManager.getInstance().getSpriteFrameByNames("Hero_Title_"+s.HeroBaseInfoManager.getInstance().getQuality(this.hero_type)+"_0"),this.node.getChildByName("nameBg").getComponent(cc.Sprite).spriteFrame=c.HeroManager.getInstance().getSpriteFrameByNames("Hero_Title_"+s.HeroBaseInfoManager.getInstance().getQuality(this.hero_type)+"_1");for(var e=this.node.getChildByName("heroSp").getComponent(sp.Skeleton),t=this.node.getChildByName("skillRoot"),a=s.HeroBaseInfoManager.getInstance().getSkillNum(this.hero_type),n=1;n<=4;n++)if(n>a)t.getChildByName("btnSkill"+n).active=!1;else{var o=t.getChildByName("btnSkill"+n);o.active=!0;var i=l.SkillLevelUnlockManager.getInstance().getHeroLevel(n);c.HeroManager.getInstance().getHeroLevel(this.hero_type)<i?(o.getComponent(cc.Sprite).spriteFrame=this.role_ui.getSpriteFrame("Hero_"+this.hero_type+"_Skill_"+(n-1)),o.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),o.children[0].active=!1):(o.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),o.getComponent(cc.Sprite).spriteFrame=this.role_ui.getSpriteFrame("Hero_"+this.hero_type+"_Skill_"+(n-1)),o.children[0].active=!0,o.children[0].getComponentInChildren(cc.Label).string="1")}e.skeletonData=this.hero_skeleton_data[this.hero_type-1],e.setAnimation(0,"Attack",!0),e.setCompleteListener(function(){var t,a=Math.random();t=a<.6?"Idle":a<.8?"Attack":"Idle2",e.setAnimation(0,t,!0)})},t.prototype.onSkillClick=function(e,t){var a=this;r.default.getInstance().sound_manager.playSound(h.SoundIndex.click),v.UIManager.getInstance().showUiDialog(I.UIPath.HeroSkill,I.UILayerLevel.Four,{onCompleted:function(e){e.getComponent(u.default).init(null),e.getComponent(u.default).initData(a.hero_type,t)}})},i([S({type:[sp.SkeletonData]})],t.prototype,"hero_skeleton_data",void 0),i([S(cc.SpriteAtlas)],t.prototype,"role_ui",void 0),i([C],t)}(y.default);a.default=P,cc._RF.pop()},{"../GameManager":"GameManager","../Hero/Data/HeroBaseInfo":"HeroBaseInfo","../Hero/Data/HeroManager":"HeroManager","../Hero/Data/SkillLevelUnlock":"SkillLevelUnlock","../Hero/Game/HeroConfig":"HeroConfig","../Hero/Ui/HeroSkillUi":"HeroSkillUi","../Level/LevelManager":"LevelManager","../Sound/AudioConstants":"AudioConstants","../Storage/StorageConfig":"StorageConfig","../Storage/StorageManager":"StorageManager","../Tutorials/TutorailsManager":"TutorailsManager","../UI/UIComponent":"UIComponent","../UI/UIConfig":"UIConfig","../UI/UIManager":"UIManager","../multiLanguage/LanguageManager":"LanguageManager"}],StoreHeroUi:[function(e,t,a){"use strict";cc._RF.push(t,"e6c52wfvWtGfKYgLkSqFMx8","StoreHeroUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../GameData"),s=e("../GameManager"),c=e("../multiLanguage/LanguageManager"),l=e("../NetWork/HttpManager"),g=e("../Prop/Data/Item"),u=e("../Prop/PropConfig"),p=e("../Prop/PropManager"),d=e("../Sound/AudioConstants"),h=e("../Storage/StorageConfig"),f=e("../Storage/StorageManager"),_=e("../Tools/EventManager"),m=e("../Tools/MyTool"),y=e("../UI/UIComponent"),I=e("../UI/UIConfig"),v=e("../UI/UIManager"),M=e("../UserData"),C=e("./DrawCardInformation"),S=e("./StoreHeroIconItem"),P=e("./StoreHeroShowUi"),k=cc._decorator,b=k.ccclass,T=k.property,B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hero_icon_item=null,t.rewardList=[],t.index=0,t.content=null,t}return o(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t)},t.prototype.initData=function(e){var t=this;this.node.getChildByName("bgg").active=!0,this.rewardList=e,this.content=this.node.getChildByName("content"),this.content.getComponent(cc.Layout).enabled=!0,this.content.removeAllChildren();var a=this.node.getChildByName("showLatter");1==e.length?this.content.getComponent(cc.Layout).enabled=!1:this.content.getComponent(cc.Layout).enabled=!0,this.index=0;var n=C.DrawCardInformationManager.getInstance().getJsonDrawCardInformation(1001);p.PropManager.getInstance().getPropNum(n.OneDrawPropsID_1)>=n.OneDrawPropsSpend_1?(a.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=p.PropManager.getInstance().getSpByPropId(n.OneDrawPropsID_1),a.getChildByName("num1").getComponent(cc.Label).string="x"+n.OneDrawPropsSpend_1):(a.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=p.PropManager.getInstance().getSpByPropId(n.OneDrawPropsID_2),a.getChildByName("num1").getComponent(cc.Label).string="x"+n.OneDrawPropsSpend_2),p.PropManager.getInstance().getPropNum(n.OneDrawPropsID_1)>=n.TenDrawPropsSpend_1?(a.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=p.PropManager.getInstance().getSpByPropId(n.OneDrawPropsID_1),a.getChildByName("num10").getComponent(cc.Label).string="x"+n.TenDrawPropsSpend_1):(a.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=p.PropManager.getInstance().getSpByPropId(n.OneDrawPropsID_2),a.getChildByName("num10").getComponent(cc.Label).string="x"+n.TenDrawPropsSpend_2);var o=a.getChildByName("btn1"),i=a.getChildByName("btn10");i.getChildByName("red").active=r.default.getInstance().getHeroRecruitingRedTip(),o.off(cc.Node.EventType.TOUCH_END),i.off(cc.Node.EventType.TOUCH_END),o.off(cc.Node.EventType.TOUCH_START),i.off(cc.Node.EventType.TOUCH_START),o.on(cc.Node.EventType.TOUCH_START,function(){cc.tween(o).to(.2,{scale:.9}).to(.2,{scale:1}).start()}),i.on(cc.Node.EventType.TOUCH_START,function(){cc.tween(i).to(.2,{scale:.9}).to(.2,{scale:1}).start()}),o.on(cc.Node.EventType.TOUCH_END,function(){var e=0,a=0;if(p.PropManager.getInstance().getPropNum(n.OneDrawPropsID_1)>=n.OneDrawPropsSpend_1?(e=n.OneDrawPropsID_1,a=n.OneDrawPropsSpend_1):(e=n.OneDrawPropsID_2,a=n.OneDrawPropsSpend_2),p.PropManager.getInstance().getPropNum(e)<a)return v.UIManager.getInstance().closeAllUiDialog(I.UILayerLevel.One),s.default.getInstance().showMessage(c.default.getInstance().getStrByTextId(100041)),void cc.find("Canvas/store_ui/scroll").getComponent(cc.ScrollView).scrollToBottom(2);l.HttpManager.post(l.AccessName.tryPrize,t.getPrizeJsonString(1,1,e,a),!0).then(function(n){n&&(p.PropManager.getInstance().changePropNum(e,-a),s.default.getInstance().refreshGemShow(),p.PropManager.getInstance().changePropNum(n[0].dropId,n[0].dropNum),p.PropManager.getInstance().saveAllPropNum(),t.initData(n))})}),i.on(cc.Node.EventType.TOUCH_END,function(){var e=0,a=0;if(p.PropManager.getInstance().getPropNum(n.OneDrawPropsID_1)>=n.TenDrawPropsSpend_1?(e=n.OneDrawPropsID_1,a=n.TenDrawPropsSpend_1):(e=n.OneDrawPropsID_2,a=n.TenDrawPropsSpend_2),p.PropManager.getInstance().getPropNum(e)<a)return s.default.getInstance().showMessage(c.default.getInstance().getStrByTextId(100041)),void cc.find("Canvas/store_ui/scroll").getComponent(cc.ScrollView).scrollToBottom(2);l.HttpManager.post(l.AccessName.tryPrize,t.getPrizeJsonString(2,1,e,a),!0).then(function(n){if(n){p.PropManager.getInstance().changePropNum(e,-a),s.default.getInstance().refreshGemShow();for(var o=n.length,c=m.default.randomRangeInt(0,9),l=0;l<o;l++)p.PropManager.getInstance().changePropNum(n[l].dropId,n[l].dropNum);var g=n[9];n[9]=n[c],n[c]=g,p.PropManager.getInstance().saveAllPropNum(),t.initData(n),i.getChildByName("red").active=r.default.getInstance().getHeroRecruitingRedTip(),_.EventManager.postRedEvent(_.RedEventString.RED_CHECK,_.RedEventType.Btn_Shop)}})}),a.active=!1,this.showCard()},t.prototype.showCard=function(){var e=this,t=cc.instantiate(this.hero_icon_item);t.name="item"+this.index;var a=g.ItemManager.getInstance().getJsonItem(this.rewardList[this.index].dropId),n=t.getChildByName("cardBg");n.getComponent(cc.Sprite).spriteFrame=p.PropManager.getInstance().getSpFrameByPropType(a.ItemID),n.getChildByName("mask").getComponentInChildren(cc.Sprite).spriteFrame=p.PropManager.getInstance().getSpByPropId(a.ItemID),n.getChildByName("quality").getComponent(cc.Sprite).spriteFrame=p.PropManager.getInstance().getSpByName("Text_Quality_"+a.Quality),n.getChildByName("num").getComponent(cc.Label).string=this.rewardList[this.index].dropNum+"",t.getChildByName("frontLight").getComponent(cc.Sprite).spriteFrame=p.PropManager.getInstance().getSpByName("DiGuang_"+a.Quality);var o=t.getComponent(cc.Animation);if(a.Quality<3){var i=o.play("store_hero_C");s.default.getInstance().sound_manager.playSound(d.SoundIndex.YX_ChouKa1),1==this.rewardList.length?i.speed=1:i.speed=1.8}else 3==a.Quality?(i=o.play("store_hero_S"),s.default.getInstance().sound_manager.playSound(d.SoundIndex.YX_Chouka2),t.getChildByName("backLight").getComponent(cc.Sprite).spriteFrame=p.PropManager.getInstance().getSpByName("BeiGuang_S"),t.getChildByName("flowwingLight").getComponent(cc.Animation).play("store_hero_flowwing_light_S"),1==this.rewardList.length?i.speed=1:i.speed=1.8):(i=o.play("store_hero_SS"),s.default.getInstance().sound_manager.playSound(d.SoundIndex.YX_Chouka2),t.getChildByName("backLight").getComponent(cc.Sprite).spriteFrame=p.PropManager.getInstance().getSpByName("BeiGuang_SS"),t.getChildByName("flowwingLight").getComponent(cc.Animation).play("store_hero_flowwing_light_SS"),1==this.rewardList.length?i.speed=1:i.speed=1.8);this.content.addChild(t),t.getComponent(S.default).init(function(){e.showHero()}),this.index++,o.on("showHero",this.showHero,this),this.index<this.rewardList.length?o.on("finished",this.showCard,this):this.scheduleOnce(function(){e.node.getChildByName("showLatter").active=!0,e.node.getChildByName("bgg").active=!1,e.content.children.forEach(function(t,a){var n=t.addComponent(cc.Button);n.transition=cc.Button.Transition.SCALE,n.duration=.1,n.zoomScale=.9;var o=new cc.Component.EventHandler;o.target=e.node,o.component="StoreHeroUi",o.handler="onItemBtnClick",o.customEventData=a+"",n.clickEvents.push(o)})},.5)},t.prototype.showHero=function(){var e=this;if(this.rewardList[this.index-1].dropId>11e4&&0==f.TheStorageManager.getInstance().getNumber(h.StorageKey.StoreHeroID+this.rewardList[this.index-1].dropId%11e4,0)){var t=this.content.getChildByName("item"+(this.index-1));t.getComponent(cc.Animation).pause(),v.UIManager.getInstance().showUiDialog(I.UIPath.StoreHeroShowUi,I.UILayerLevel.Two,{onCompleted:function(a){a.getComponent(P.default).init({onClose:function(){t.getComponent(cc.Animation).resume()}}),a.getComponent(P.default).initData(e.rewardList[e.index-1].dropId%11e4)}})}},t.prototype.getPrizeJsonString=function(e,t,a,n){var o=M.default.getInstance().getUserID();return JSON.stringify({uid:o,type:e,drawType:t,itemsId:a,minusNum:n})},t.prototype.onItemBtnClick=function(e,t){var a=Number(t);v.UIManager.getInstance().showPropInfo({},u.PropAction.Look,{prop_id:this.rewardList[a].dropId,prop_num:this.rewardList[a].dropNum},null,null)},i([T(cc.Prefab)],t.prototype,"hero_icon_item",void 0),i([b],t)}(y.default);a.default=B,cc._RF.pop()},{"../GameData":"GameData","../GameManager":"GameManager","../NetWork/HttpManager":"HttpManager","../Prop/Data/Item":"Item","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../Storage/StorageConfig":"StorageConfig","../Storage/StorageManager":"StorageManager","../Tools/EventManager":"EventManager","../Tools/MyTool":"MyTool","../UI/UIComponent":"UIComponent","../UI/UIConfig":"UIConfig","../UI/UIManager":"UIManager","../UserData":"UserData","../multiLanguage/LanguageManager":"LanguageManager","./DrawCardInformation":"DrawCardInformation","./StoreHeroIconItem":"StoreHeroIconItem","./StoreHeroShowUi":"StoreHeroShowUi"}],StoreUi:[function(e,t,a){"use strict";cc._RF.push(t,"2c3a3IWd75Pb7xy3nheaKWn","StoreUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e(".././NetWork/HttpManager"),s=e("../AccumulatedRecharge/CumulativeRecharges"),c=e("../Ads/ApkManager"),l=e("../CoinPop"),g=e("../Constants"),u=e("../Equipment/Ui/EquipItem"),p=e("../GameData"),d=e("../GameManager"),h=e("../Hero/Data/HeroManager"),f=e("../Hero/Game/HeroConfig"),_=e("../JsonData/FunctionDefinition"),m=e("../JsonData/LevelJsonData"),y=e("../Level/LevelManager"),I=e("../Level/MissionLevel"),v=e("../multiLanguage/FollowConstants"),M=e("../multiLanguage/FollowManager"),C=e("../multiLanguage/LanguageConstants"),S=e("../multiLanguage/LanguageManager"),P=e("../multiLanguage/TextLanguage"),k=e("../Payment/PayManager"),b=e("../Prop/Data/Item"),T=e("../Prop/Prop"),B=e("../Prop/PropConfig"),w=e("../Prop/PropManager"),N=e("../Storage/StorageConfig"),L=e("../Storage/StorageManager"),D=e("../Task/TaskEnum"),E=e("../Task/TaskManager"),R=e("../Tools/EventManager"),G=e("../Tools/MyTool"),x=e("../Tutorials/TutorailsManager"),A=e("../UI/home/MainUi"),O=e("../UI/UIConfig"),H=e("../UI/UIManager"),F=e("../UserData"),j=e("../UserInfo/UserInfo"),U=e("./ChapterPack"),J=e("./CommodityInformation"),W=e("./DailyShop"),V=e("./DiamondsRecharge"),q=e("./DrawCardInformation"),z=e("./ProbabilityTipUi"),K=e("./PurchaseCoins"),Y=e("./StoreHeroUi"),X=cc._decorator,Z=X.ccclass,Q=X.property,$=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.store_title=null,t.store_chapter_item=null,t.store_hero_item=null,t.store_daily_item=null,t.store_pet_item=null,t.store_equip_item=null,t.store_gem_item=null,t.store_coin_item=null,t.store_ui=null,t.hero_instance=null,t.weapon_instance=null,t.pet_instance=null,t}return o(t,e),t.prototype.onLoad=function(){this.node.on(cc.Node.EventType.POSITION_CHANGED,this.onPositionChange,this),cc.director.on(C.OnLanguageChange,this.initStore,this),this.initStore()},t.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.POSITION_CHANGED,this.onPositionChange,this),cc.director.off(C.OnLanguageChange,this.initStore,this),cc.director.off("onRefreshInstanceItem")},t.prototype.onPositionChange=function(){0==this.node.x&&this.onEnable()},t.prototype.onEnable=function(){M.default.getInstance().followEvent(v.Follow_Type.\u5546\u57ce\u5546\u57ce\u9875\u70b9\u51fb\u6b21\u6570),this.refreshStore()},t.prototype.checkTutorails=function(){x.default.getInstance().is_tutorails_state&&x.default.getInstance().isShowTutorials(222)&&y.LevelManager.getInstance().finish_level>=3&&(x.default.getInstance().is_tutorails_state=!0,this.scheduleOnce(function(){var e=cc.find("Canvas/store_ui/scroll").getComponent(cc.ScrollView).content.getChildByName("heroRoot").getChildByName("heroItem").getChildByName("btn1"),t=e.parent.convertToWorldSpaceAR(e.getPosition()),a=cc.find("Canvas/Ui_Root").convertToNodeSpaceAR(t);a.x-=cc.find("Canvas/store_ui").x,x.default.getInstance().showTutorials(222,null,function(){if(w.PropManager.getInstance().changePropNum(40004,-1)&&null==h.HeroManager.getInstance().getHeroInfo(f.Hero_Type.DeLuYi)){var e=new Array,t=new m.RewardHeroData;t.dropId=110004,t.dropNum=1,e.push(t),h.HeroManager.getInstance().addHero(f.Hero_Type.DeLuYi),h.HeroManager.getInstance().reportHeroList();var a=h.HeroManager.getInstance().getTeamList(g.GameMode.Main);a[1]=f.Hero_Type.DeLuYi,h.HeroManager.getInstance().saveTeamList(g.GameMode.Main,a),x.default.getInstance().saveTutorials(222),x.default.getInstance().saveTutorials(223),H.UIManager.getInstance().showUiDialog(O.UIPath.StoreHeroUi,O.UILayerLevel.One,{onCompleted:function(t){t.getComponent(Y.default).init({onClose:function(){cc.find("Canvas/main_ui").getComponent(A.default).startGame()}}),t.getComponent(Y.default).initData(e)}})}},!1,null,a)},.1))},t.prototype.initStore=function(){var e=this,t=this.node.getChildByName("scroll").getComponent(cc.ScrollView).content;t.removeAllChildren(),cc.director.off("onRefreshInstanceItem"),cc.director.on("onRefreshInstanceItem",this.onRefreshInstanceItem,this);var a=cc.instantiate(this.store_title);a.getComponentInChildren(P.default).setTextId(1430001),a.name="chapterTitle",t.addChild(a);var n=new cc.Node;n.name="chapterRoot",n.height=this.store_chapter_item.data.height,n.width=3*(this.store_chapter_item.data.width+20);var o=new cc.Node,i=new cc.Node;o.addComponent(cc.Sprite).spriteFrame=this.store_ui.getSpriteFrame("Shop_Arrow"),i.addComponent(cc.Sprite).spriteFrame=this.store_ui.getSpriteFrame("Shop_Arrow"),i.scaleX=-1,n.addChild(o),n.addChild(i),o.x=345,i.x=-345,i.active=!1,U.ChapterPackManager.getInstance().getJsonData().forEach(function(a){if(""==L.TheStorageManager.getInstance().getString(N.StorageKey.StoreChapterItem+a.Chapter,"")&&y.LevelManager.getInstance().getFinishChapter()>=a.Chapter){var r=cc.instantiate(e.store_chapter_item);r.name="chapterItem"+a.Chapter,1==a.Chapter?r.getChildByName("title").getComponent(P.default).setTextId(1430002):(r.getChildByName("title").getComponent(P.default).setTextId(1430003),r.getChildByName("title").getComponent(P.default).setReplaceValue("~",a.Chapter+""));var s=k.PayManager.getInstance().getPayInfo(a.ProductId);r.getChildByName("originPrice").getComponent(cc.Label).string=s.currency+G.default.getNumberFromString(s.price)*a.InitialPrice,r.getChildByName("payBtn").getComponentInChildren(cc.Label).string=s.price;var l,g=r.getChildByName("itemRoot");0!=a.GetCoinNum&&((l=w.PropManager.getInstance().createPropItem(B.PropId.Coin,a.GetCoinNum)).scale=.75,g.addChild(l)),0!=a.GetGemNum&&((l=w.PropManager.getInstance().createPropItem(B.PropId.Gem,a.GetGemNum)).scale=.75,g.addChild(l)),0!=a.ItemId_1&&((l=w.PropManager.getInstance().createPropItem(a.ItemId_1,a.ItemNum_1)).scale=.75,g.addChild(l)),0!=a.ItemId_2&&((l=w.PropManager.getInstance().createPropItem(a.ItemId_2,a.ItemNum_2)).scale=.75,g.addChild(l)),n.addChild(r),3==n.childrenCount?n.children[2].x=0:n.children[n.childrenCount-1].x=2*n.children[n.childrenCount-1].width;var u=r.getChildByName("payBtn");u.addComponent(cc.Button).transition=cc.Button.Transition.SCALE,u.getComponent(cc.Button).duration=.1,u.getComponent(cc.Button).zoomScale=.9,u.on(cc.Node.EventType.TOUCH_END,function(){c.default.getInstance().showPay({result:function(e){if(e){M.default.getInstance().followEvent(v.Follow_Type.\u5546\u57ce\u7ae0\u8282\u793c\u5305x\u7ae0\u70b9\u51fb\u8d2d\u4e70\u6b21\u6570+a.Chapter);var s=[];if(0!=a.GetCoinNum){w.PropManager.getInstance().changePropNum(B.PropId.Coin,a.GetCoinNum);var c=w.PropManager.getInstance().createPropItem(B.PropId.Coin,a.GetCoinNum);s.push(c)}0!=a.GetGemNum&&(w.PropManager.getInstance().changePropNum(B.PropId.Gem,a.GetGemNum),c=w.PropManager.getInstance().createPropItem(B.PropId.Gem,a.GetGemNum),s.push(c)),0!=a.ItemId_1&&(w.PropManager.getInstance().changePropNum(a.ItemId_1,a.ItemNum_1),c=w.PropManager.getInstance().createPropItem(a.ItemId_1,a.ItemNum_1),s.push(c)),0!=a.ItemId_2&&(w.PropManager.getInstance().changePropNum(a.ItemId_2,a.ItemNum_2),c=w.PropManager.getInstance().createPropItem(a.ItemId_2,a.ItemNum_2),s.push(c)),d.default.getInstance().showMultipleGetTip(s),L.TheStorageManager.getInstance().setItem(N.StorageKey.StoreChapterItem+a.Chapter,"1"),n.removeChild(r),2==n.childrenCount?(t.getChildByName("chapterTitle").active=!1,i.active=!1,o.active=!1,n.active=!1):n.childrenCount<=3?(i.active=!1,o.active=!1,cc.tween(n.children[2]).to(.2,{position:cc.v3(0,0,0)}).start().call(function(){})):cc.tween(n.children[2]).to(.2,{position:cc.v3(0,0,0)}).start().call(function(){})}}},a.ProductId)})}}),i.addComponent(cc.Button).transition=cc.Button.Transition.SCALE,i.getComponent(cc.Button).duration=.1,i.getComponent(cc.Button).zoomScale=.9,o.addComponent(cc.Button).transition=cc.Button.Transition.SCALE,o.getComponent(cc.Button).duration=.1,o.getComponent(cc.Button).zoomScale=.9;var s=2;o.on(cc.Node.EventType.TOUCH_END,function(){++s>=n.childrenCount-1&&(s=n.childrenCount-1,o.active=!1),s>2&&(i.active=!0),cc.tween(n.children[s]).to(.2,{position:cc.v3(0,0,0)}).start().call(function(){}),cc.tween(n.children[s-1]).to(.2,{position:cc.v3(-800,0,0)}).start().call(function(){})}),i.on(cc.Node.EventType.TOUCH_END,function(){--s<=2&&(s=2,i.active=!1),s<n.childrenCount-1&&(o.active=!0),cc.tween(n.children[s]).to(.2,{position:cc.v3(0,0,0)}).start().call(function(){}),cc.tween(n.children[s+1]).to(.2,{position:cc.v3(800,0,0)}).start().call(function(){})}),n.childrenCount<=3&&(i.active=!1,o.active=!1),2==n.childrenCount?(t.getChildByName("chapterTitle").active=!1,n.active=!1):(t.getChildByName("chapterTitle").active=!0,n.active=!0),t.addChild(n),(a=cc.instantiate(this.store_title)).getComponentInChildren(P.default).setTextId(1460011),a.name="mysteryTitle",t.addChild(a);var f=new cc.Node;f.name="heroRoot",f.height=this.store_hero_item.data.height,f.width=3*(this.store_hero_item.data.width+20);var m=cc.instantiate(this.store_hero_item);this.hero_instance=m,m.name="heroItem",m.getChildByName("richBg").getComponentInChildren(cc.RichText).string=S.default.getInstance().getStrByTextId(1460002),m.getChildByName("IconNum").getComponent(cc.Label).string="X"+w.PropManager.getInstance().getPropNum(40004);var C=q.DrawCardInformationManager.getInstance().getJsonDrawCardInformation(1001);w.PropManager.getInstance().getPropNum(C.OneDrawPropsID_1)>=C.OneDrawPropsSpend_1?(m.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(C.OneDrawPropsID_1),m.getChildByName("num1").getComponent(cc.Label).string="x"+C.OneDrawPropsSpend_1):(m.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(C.OneDrawPropsID_2),m.getChildByName("num1").getComponent(cc.Label).string="x"+C.OneDrawPropsSpend_2),w.PropManager.getInstance().getPropNum(C.OneDrawPropsID_1)>=C.TenDrawPropsSpend_1?(m.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(C.OneDrawPropsID_1),m.getChildByName("num10").getComponent(cc.Label).string="x"+C.TenDrawPropsSpend_1):(m.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(C.OneDrawPropsID_2),m.getChildByName("num10").getComponent(cc.Label).string="x"+C.TenDrawPropsSpend_2);var x=m.getChildByName("name").getChildByName("tip");x.addComponent(cc.Button).transition=cc.Button.Transition.SCALE,x.getComponent(cc.Button).duration=.1,x.getComponent(cc.Button).zoomScale=.9,x.on(cc.Node.EventType.TOUCH_END,function(){H.UIManager.getInstance().showUiDialog(O.UIPath.ProbabilityTipUi,O.UILayerLevel.One,{onCompleted:function(e){e.getComponent(z.default).init(null),e.getComponent(z.default).initUi()}})});var A=m.getChildByName("btn1"),F=m.getChildByName("btn10");F.getChildByName("red").active=p.default.getInstance().getHeroRecruitingRedTip(),A.addComponent(cc.Button).transition=cc.Button.Transition.SCALE,A.getComponent(cc.Button).duration=.1,A.getComponent(cc.Button).zoomScale=.9,F.addComponent(cc.Button).transition=cc.Button.Transition.SCALE,F.getComponent(cc.Button).duration=.1,F.getComponent(cc.Button).zoomScale=.9,A.on(cc.Node.EventType.TOUCH_END,function(){var t=0,a=0;if(w.PropManager.getInstance().getPropNum(C.OneDrawPropsID_1)>=C.OneDrawPropsSpend_1?(t=C.OneDrawPropsID_1,a=C.OneDrawPropsSpend_1,M.default.getInstance().addTotal(v.Follow_Type.\u8bb0\u5f55\u62db\u52df\u6d88\u8017\u62db\u52df\u5377\u6570\u91cf,C.OneDrawPropsSpend_1)):(t=C.OneDrawPropsID_2,a=C.OneDrawPropsSpend_2,M.default.getInstance().addTotal(v.Follow_Type.\u8bb0\u5f55\u62db\u52df\u5377\u6d88\u8017\u94bb\u77f3\u6570\u91cf,a)),w.PropManager.getInstance().getPropNum(t)<a)return d.default.getInstance().showMessage(S.default.getInstance().getStrByTextId(100041)),void e.node.getChildByName("scroll").getComponent(cc.ScrollView).scrollToBottom(2);r.HttpManager.post(r.AccessName.tryPrize,e.getPrizeJsonString(1,1,t,a),!0).then(function(e){e&&(w.PropManager.getInstance().changePropNum(t,-a),d.default.getInstance().refreshGemShow(),M.default.getInstance().followEvent(v.Follow_Type.\u8bb0\u5f55\u5355\u6b21\u62db\u52df\u7684\u6b21\u6570),E.default.getInstance().emitTask(D.TaskItem.\u8fdb\u884c1\u6b21\u82f1\u96c4\u62db\u52df),E.default.getInstance().emitTask(D.TaskItem.\u8fdb\u884c10\u6b21\u82f1\u96c4\u62db\u52df),E.default.getInstance().emitTask(D.TaskItem.\u62db\u52dfX\u6b21\u82f1\u96c4),w.PropManager.getInstance().changePropNum(e[0].dropId,e[0].dropNum),h.HeroManager.getInstance().reportHeroList(),11==b.ItemManager.getInstance().getType(e[0].dropId)&&E.default.getInstance().emitTask(D.TaskItem.\u7d2f\u8ba1\u62db\u52dfX\u4e2a\u82f1\u96c4),w.PropManager.getInstance().saveAllPropNum(),H.UIManager.getInstance().showUiDialog(O.UIPath.StoreHeroUi,O.UILayerLevel.One,{onCompleted:function(t){t.getComponent(Y.default).init(null),t.getComponent(Y.default).initData(e)}}),w.PropManager.getInstance().getPropNum(C.OneDrawPropsID_1)>=C.OneDrawPropsSpend_1?(m.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(C.OneDrawPropsID_1),m.getChildByName("num1").getComponent(cc.Label).string="x"+C.OneDrawPropsSpend_1):(m.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(C.OneDrawPropsID_2),m.getChildByName("num1").getComponent(cc.Label).string="x"+C.OneDrawPropsSpend_2),w.PropManager.getInstance().getPropNum(C.OneDrawPropsID_1)>=C.TenDrawPropsSpend_1?(m.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(C.OneDrawPropsID_1),m.getChildByName("num10").getComponent(cc.Label).string="x"+C.TenDrawPropsSpend_1):(m.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(C.OneDrawPropsID_2),m.getChildByName("num10").getComponent(cc.Label).string="x"+C.TenDrawPropsSpend_2))})}),F.on(cc.Node.EventType.TOUCH_END,function(){var t=0,a=0;if(w.PropManager.getInstance().getPropNum(C.OneDrawPropsID_1)>=C.TenDrawPropsSpend_1?(t=C.OneDrawPropsID_1,a=C.TenDrawPropsSpend_1,M.default.getInstance().addTotal(v.Follow_Type.\u8bb0\u5f55\u62db\u52df\u6d88\u8017\u62db\u52df\u5377\u6570\u91cf,C.TenDrawPropsSpend_1)):(t=C.OneDrawPropsID_2,a=C.TenDrawPropsSpend_2,M.default.getInstance().addTotal(v.Follow_Type.\u8bb0\u5f55\u62db\u52df\u5377\u6d88\u8017\u94bb\u77f3\u6570\u91cf,a)),w.PropManager.getInstance().getPropNum(t)<a)return d.default.getInstance().showMessage(S.default.getInstance().getStrByTextId(100041)),void e.node.getChildByName("scroll").getComponent(cc.ScrollView).scrollToBottom(2);r.HttpManager.post(r.AccessName.tryPrize,e.getPrizeJsonString(2,1,t,a),!0).then(function(e){if(e){w.PropManager.getInstance().changePropNum(t,-a),d.default.getInstance().refreshGemShow(),M.default.getInstance().followEvent(v.Follow_Type.\u8bb0\u5f55\u5341\u6b21\u62db\u52df\u7684\u6b21\u6570);for(var n=e.length,o=0;o<n;o++)E.default.getInstance().emitTask(D.TaskItem.\u8fdb\u884c1\u6b21\u82f1\u96c4\u62db\u52df),E.default.getInstance().emitTask(D.TaskItem.\u8fdb\u884c10\u6b21\u82f1\u96c4\u62db\u52df),E.default.getInstance().emitTask(D.TaskItem.\u62db\u52dfX\u6b21\u82f1\u96c4),w.PropManager.getInstance().changePropNum(e[o].dropId,e[o].dropNum),11==b.ItemManager.getInstance().getType(e[o].dropId)&&E.default.getInstance().emitTask(D.TaskItem.\u7d2f\u8ba1\u62db\u52dfX\u4e2a\u82f1\u96c4);h.HeroManager.getInstance().reportHeroList();var i=G.default.randomRangeInt(0,9),r=e[9];e[9]=e[i],e[i]=r,w.PropManager.getInstance().saveAllPropNum(),H.UIManager.getInstance().showUiDialog(O.UIPath.StoreHeroUi,O.UILayerLevel.One,{onCompleted:function(t){t.getComponent(Y.default).init(null),t.getComponent(Y.default).initData(e)}}),w.PropManager.getInstance().getPropNum(C.OneDrawPropsID_1)>=C.OneDrawPropsSpend_1?(m.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(C.OneDrawPropsID_1),m.getChildByName("num1").getComponent(cc.Label).string="x"+C.OneDrawPropsSpend_1):(m.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(C.OneDrawPropsID_2),m.getChildByName("num1").getComponent(cc.Label).string="x"+C.OneDrawPropsSpend_2),w.PropManager.getInstance().getPropNum(C.OneDrawPropsID_1)>=C.TenDrawPropsSpend_1?(m.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(C.OneDrawPropsID_1),m.getChildByName("num10").getComponent(cc.Label).string="x"+C.TenDrawPropsSpend_1):(m.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(C.OneDrawPropsID_2),m.getChildByName("num10").getComponent(cc.Label).string="x"+C.TenDrawPropsSpend_2),F.getChildByName("red").active=p.default.getInstance().getHeroRecruitingRedTip(),R.EventManager.postRedEvent(R.RedEventString.RED_CHECK,R.RedEventType.Btn_Shop)}})}),f.addChild(m),t.addChild(f),(a=cc.instantiate(this.store_title)).getComponentInChildren(P.default).setTextId(1480001),a.name="dailyStoreTitle",t.addChild(a);var j=(new cc.Node).addComponent(P.default);j.node.color=cc.color(255,242,206),j.node.anchorX=1,j.verticalAlign=cc.Label.VerticalAlign.CENTER,j.horizontalAlign=cc.Label.HorizontalAlign.RIGHT,j.enableBold=!0,j.fontSize=24,j.setTextId(100045);var X=(new cc.Node).addComponent(cc.Label);X.node.color=cc.color(79,255,70),X.node.anchorX=0,X.verticalAlign=cc.Label.VerticalAlign.CENTER,X.horizontalAlign=cc.Label.HorizontalAlign.LEFT,X.enableBold=!0,X.fontSize=24;var Z=Date.now()/1e3,Q=L.TheStorageManager.getInstance().getNumber(N.StorageKey.TomorowZeroTimeStamp,0)-Z;Q<0&&(Q=(new Date((new Date).toLocaleDateString()).getTime()+864e4)/1e3-Z);var $=Math.floor(Q/3600);X.string=$<10?"0"+$+":":$+":";var ee=Math.floor(Q%3600/60);X.string+=ee<10?"0"+ee+":":ee+":";var te=Math.floor(Q%3600%60);X.string+=te<10?"0"+te:te;var ae=new cc.Node;ae.width=this.node.width,ae.height=20,ae.addChild(j.node),ae.addChild(X.node),t.addChild(ae);var ne=new cc.Node;ne.name="dailyStoreRoot",ne.height=2*this.store_daily_item.data.height+10,ne.width=this.node.width,t.addChild(ne);var oe,ie=ne.addComponent(cc.Layout);if(ie.type=cc.Layout.Type.GRID,ie.resizeMode=cc.Layout.ResizeMode.CONTAINER,ie.paddingRight=40,ie.paddingLeft=40,ie.spacingX=20,ie.spacingY=20,0==L.TheStorageManager.getInstance().getNumber(N.StorageKey.StoreDailyShopId,0)){var re=this.getRandomInt(1,4);oe=W.DailyShopManager.getInstance().getJsonDataByChapterAndInde(y.LevelManager.getInstance().getFinishChapter(),re),L.TheStorageManager.getInstance().setItem(N.StorageKey.StoreDailyShopId,oe.Shop_ID)}else oe=W.DailyShopManager.getInstance().getJsonDailyShop(L.TheStorageManager.getInstance().getNumber(N.StorageKey.StoreDailyShopId));console.log("\u6bcf\u65e5\u5546\u5e97ID:"+oe.Shop_ID),oe.Shoplist.forEach(function(e,t){console.log("\u6bcf\u65e5\u5546\u5e97\u9053\u5177"+t+":"+e)}),oe.Shoplist.forEach(function(t,a){var n=cc.instantiate(e.store_daily_item),o=J.CommodityInformationManager.getInstance().getJsonCommodityInformation(t);if(L.TheStorageManager.getInstance().getNumber(N.StorageKey.StoreDailyShopNum+a,0)<o.AdPlayableTimes)if(1==J.CommodityInformationManager.getInstance().getAdReward(t))n.getChildByName("discountIcon").active=!1,n.getChildByName("discountNum").active=!1,n.getChildByName("price").active=!1,n.getChildByName("free").active=!0,n.getChildByName("red").active=!0,n.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame=e.store_ui.getSpriteFrame("Shop_Icon_ADS"),n.getChildByName("name").getComponent(P.default).setTextId(b.ItemManager.getInstance().getNameTextId(o.GetItem)),(p=w.PropManager.getInstance().createPropItem(o.GetItem,o.GetNum)).name="reward",n.addChild(p),n.addComponent(cc.Button).transition=cc.Button.Transition.SCALE,n.getComponent(cc.Button).duration=.1,n.getComponent(cc.Button).zoomScale=.9,n.on(cc.Node.EventType.TOUCH_END,function(){c.default.getInstance().showVideo(function(e){if(e){E.default.getInstance().emitTask(D.TaskItem.\u5546\u5e97\u4e2d\u8d2d\u4e70\u7269\u54c11\u6b21),E.default.getInstance().emitTask(D.TaskItem.\u524d\u5f80\u5546\u57ce\u8d2d\u4e70X\u6b21\u5546\u54c1),w.PropManager.getInstance().changePropNum(o.GetItem,o.GetNum);var t=w.PropManager.getInstance().createPropItem(o.GetItem,o.GetNum),i=L.TheStorageManager.getInstance().getNumber(N.StorageKey.StoreDailyShopNum+a,0);i++,M.default.getInstance().followEvent(v.Follow_Type.\u5728\u6bcf\u65e5\u5546\u5e97\u4e2d\u4f7f\u7528\u5e7f\u544a\u8d2d\u4e70\u94bb\u77f3\u7684\u6b21\u6570),L.TheStorageManager.getInstance().setItem(N.StorageKey.StoreDailyShopNum+a,i),i>=o.AdPlayableTimes&&(n.getChildByName("costIcon").active=!1,n.getChildByName("free").active=!1,n.getChildByName("saleOut").zIndex=1,n.getChildByName("saleOut").active=!0,n.getChildByName("red").active=!1,R.EventManager.postRedEvent(R.RedEventString.RED_CHECK,R.RedEventType.Btn_Shop),3==b.ItemManager.getInstance().getType(o.GetItem)?n.getChildByName("reward").getComponent(u.default).prop_action=B.PropAction.Null:n.getChildByName("reward").getComponent(T.default).prop_action=B.PropAction.Null,n.off(cc.Node.EventType.TOUCH_END)),M.default.getInstance().followEvent(v.Follow_Type.\u6bcf\u65e5\u5546\u5e97\u4e2d\u6210\u529f\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570),d.default.getInstance().showGetTip(t)}else M.default.getInstance().followEvent(v.Follow_Type.\u6bcf\u65e5\u5546\u5e97\u4e2d\u8d2d\u4e70\u5931\u8d25\u7684\u6b21\u6570)},g.VIDEO_TYPE.Gem)});else if(0==L.TheStorageManager.getInstance().getNumber(N.StorageKey.StoreDailyShopDiscount+a,0)){var i=e.getRandomInt(4,9);L.TheStorageManager.getInstance().setItem(N.StorageKey.StoreDailyShopDiscount+a,i),n.getChildByName("free").active=!1,n.getChildByName("red").active=!1,R.EventManager.postRedEvent(R.RedEventString.RED_CHECK,R.RedEventType.Btn_Shop),n.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(o.CostItemID),n.getChildByName("price").getComponent(cc.Label).string="x"+G.default.getCoinDanwei(o.CostNum*i*.1),n.getChildByName("name").getComponent(P.default).setTextId(b.ItemManager.getInstance().getNameTextId(o.GetItem)),n.getChildByName("discountNum").getComponent(P.default).setReplaceValue("~",100-10*i+""),(p=w.PropManager.getInstance().createPropItem(o.GetItem,o.GetNum)).name="reward",n.addChild(p),n.addComponent(cc.Button).transition=cc.Button.Transition.SCALE,n.getComponent(cc.Button).duration=.1,n.getComponent(cc.Button).zoomScale=.9,n.on(cc.Node.EventType.TOUCH_END,function(){if(w.PropManager.getInstance().changePropNum(o.CostItemID,-o.CostNum*i*.1)){E.default.getInstance().emitTask(D.TaskItem.\u5546\u5e97\u4e2d\u8d2d\u4e70\u7269\u54c11\u6b21),E.default.getInstance().emitTask(D.TaskItem.\u524d\u5f80\u5546\u57ce\u8d2d\u4e70X\u6b21\u5546\u54c1),w.PropManager.getInstance().changePropNum(o.GetItem,o.GetNum),r.HttpManager.post(r.AccessName.saveGameTask,e.getSaveGameTaskJsonString(a));var t=w.PropManager.getInstance().createPropItem(o.GetItem,o.GetNum),s=L.TheStorageManager.getInstance().getNumber(N.StorageKey.StoreDailyShopNum+a,0);s++,o.CostItemID==B.PropId.Coin?(M.default.getInstance().addTotal(v.Follow_Type.\u5728\u6bcf\u65e5\u5546\u5e97\u4e2d\u6d88\u8017\u7684\u91d1\u5e01\u6570\u91cf,o.CostNum*i*.1),M.default.getInstance().followEvent(v.Follow_Type.\u5728\u6bcf\u65e5\u5546\u5e97\u4e2d\u4f7f\u7528\u91d1\u5e01\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570)):(M.default.getInstance().addTotal(v.Follow_Type.\u5728\u6bcf\u65e5\u5546\u5e97\u4e2d\u6d88\u8017\u7684\u94bb\u77f3\u6570\u91cf,o.CostNum*i*.1),M.default.getInstance().followEvent(v.Follow_Type.\u5728\u6bcf\u65e5\u5546\u5e97\u4e2d\u4f7f\u7528\u94bb\u77f3\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570)),L.TheStorageManager.getInstance().setItem(N.StorageKey.StoreDailyShopNum+a,s),s>=o.AdPlayableTimes&&(n.getChildByName("costIcon").active=!1,n.getChildByName("price").active=!1,n.getChildByName("discountNum").active=!1,n.getChildByName("discountIcon").active=!1,n.getChildByName("saleOut").zIndex=1,n.getChildByName("saleOut").active=!0,3==b.ItemManager.getInstance().getType(o.GetItem)?n.getChildByName("reward").getComponent(u.default).prop_action=B.PropAction.Null:n.getChildByName("reward").getComponent(T.default).prop_action=B.PropAction.Null,n.off(cc.Node.EventType.TOUCH_END)),M.default.getInstance().followEvent(v.Follow_Type.\u6bcf\u65e5\u5546\u5e97\u4e2d\u6210\u529f\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570),d.default.getInstance().showGetTip(t)}else o.CostItemID==B.PropId.Coin?H.UIManager.getInstance().showUiDialog(O.UIPath.CoinPop,O.UILayerLevel.Three,{onCompleted:function(e){e.getComponent(l.default).initUi(B.PropId.Coin)}}):H.UIManager.getInstance().showUiDialog(O.UIPath.CoinPop,O.UILayerLevel.Three,{onCompleted:function(e){e.getComponent(l.default).initUi(B.PropId.Gem)}}),M.default.getInstance().followEvent(v.Follow_Type.\u6bcf\u65e5\u5546\u5e97\u4e2d\u8d2d\u4e70\u5931\u8d25\u7684\u6b21\u6570)})}else{var s=L.TheStorageManager.getInstance().getNumber(N.StorageKey.StoreDailyShopDiscount+a);n.getChildByName("free").active=!1,n.getChildByName("red").active=!1,R.EventManager.postRedEvent(R.RedEventString.RED_CHECK,R.RedEventType.Btn_Shop),n.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(o.CostItemID),n.getChildByName("price").getComponent(cc.Label).string="x"+G.default.getCoinDanwei(o.CostNum*s*.1),n.getChildByName("name").getComponent(P.default).setTextId(b.ItemManager.getInstance().getNameTextId(o.GetItem)),n.getChildByName("discountNum").getComponent(P.default).setReplaceValue("~",100-10*s+""),(p=w.PropManager.getInstance().createPropItem(o.GetItem,o.GetNum)).name="reward",n.addChild(p),n.addComponent(cc.Button).transition=cc.Button.Transition.SCALE,n.getComponent(cc.Button).duration=.1,n.getComponent(cc.Button).zoomScale=.9,n.on(cc.Node.EventType.TOUCH_END,function(){if(w.PropManager.getInstance().changePropNum(o.CostItemID,-o.CostNum*s*.1)){E.default.getInstance().emitTask(D.TaskItem.\u5546\u5e97\u4e2d\u8d2d\u4e70\u7269\u54c11\u6b21),E.default.getInstance().emitTask(D.TaskItem.\u524d\u5f80\u5546\u57ce\u8d2d\u4e70X\u6b21\u5546\u54c1),w.PropManager.getInstance().changePropNum(o.GetItem,o.GetNum),r.HttpManager.post(r.AccessName.saveGameTask,e.getSaveGameTaskJsonString(a));var t=w.PropManager.getInstance().createPropItem(o.GetItem,o.GetNum),i=L.TheStorageManager.getInstance().getNumber(N.StorageKey.StoreDailyShopNum+a,0);i++,o.CostItemID==B.PropId.Coin?(M.default.getInstance().addTotal(v.Follow_Type.\u5728\u6bcf\u65e5\u5546\u5e97\u4e2d\u6d88\u8017\u7684\u91d1\u5e01\u6570\u91cf,o.CostNum*s*.1),M.default.getInstance().followEvent(v.Follow_Type.\u5728\u6bcf\u65e5\u5546\u5e97\u4e2d\u4f7f\u7528\u91d1\u5e01\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570)):(M.default.getInstance().addTotal(v.Follow_Type.\u5728\u6bcf\u65e5\u5546\u5e97\u4e2d\u6d88\u8017\u7684\u94bb\u77f3\u6570\u91cf,o.CostNum*s*.1),M.default.getInstance().followEvent(v.Follow_Type.\u5728\u6bcf\u65e5\u5546\u5e97\u4e2d\u4f7f\u7528\u94bb\u77f3\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570)),L.TheStorageManager.getInstance().setItem(N.StorageKey.StoreDailyShopNum+a,i),i>=o.AdPlayableTimes&&(n.getChildByName("costIcon").active=!1,n.getChildByName("price").active=!1,n.getChildByName("discountNum").active=!1,n.getChildByName("discountIcon").active=!1,n.getChildByName("saleOut").zIndex=1,n.getChildByName("saleOut").active=!0,3==b.ItemManager.getInstance().getType(o.GetItem)?n.getChildByName("reward").getComponent(u.default).prop_action=B.PropAction.Null:n.getChildByName("reward").getComponent(T.default).prop_action=B.PropAction.Null,n.off(cc.Node.EventType.TOUCH_END)),d.default.getInstance().showGetTip(t),M.default.getInstance().followEvent(v.Follow_Type.\u6bcf\u65e5\u5546\u5e97\u4e2d\u6210\u529f\u8d2d\u4e70\u7269\u54c1\u7684\u6b21\u6570)}else o.CostItemID==B.PropId.Coin?H.UIManager.getInstance().showUiDialog(O.UIPath.CoinPop,O.UILayerLevel.Three,{onCompleted:function(e){e.getComponent(l.default).initUi(B.PropId.Coin)}}):H.UIManager.getInstance().showUiDialog(O.UIPath.CoinPop,O.UILayerLevel.Three,{onCompleted:function(e){e.getComponent(l.default).initUi(B.PropId.Gem)}}),M.default.getInstance().followEvent(v.Follow_Type.\u6bcf\u65e5\u5546\u5e97\u4e2d\u8d2d\u4e70\u5931\u8d25\u7684\u6b21\u6570)})}else{n.getChildByName("costIcon").active=!1,n.getChildByName("price").active=!1,n.getChildByName("discountNum").active=!1,n.getChildByName("discountIcon").active=!1,n.getChildByName("free").active=!1,n.getChildByName("red").active=!1,R.EventManager.postRedEvent(R.RedEventString.RED_CHECK,R.RedEventType.Btn_Shop);var p=w.PropManager.getInstance().createPropItem(o.GetItem,o.GetNum,B.PropAction.Null);n.addChild(p),n.getChildByName("name").getComponent(P.default).setTextId(b.ItemManager.getInstance().getNameTextId(o.GetItem)),n.getChildByName("saleOut").zIndex=1,n.getChildByName("saleOut").active=!0}ne.addChild(n)}),(a=cc.instantiate(this.store_title)).getComponentInChildren(P.default).setTextId(1460011),a.name="mysteryTitle",t.addChild(a);var se=new cc.Node;se.name="mysteryRoot",se.height=this.store_equip_item.data.height+20,se.width=this.node.width;var ce=se.addComponent(cc.Layout);ce.type=cc.Layout.Type.HORIZONTAL,ce.resizeMode=cc.Layout.ResizeMode.CONTAINER,ce.paddingRight=40,ce.paddingLeft=40,ce.spacingX=20;var le=cc.instantiate(this.store_pet_item);le.getChildByName("richBg").children[1].children[1].getComponent(cc.Label).string="X"+w.PropManager.getInstance().getPropNum(40006),this.pet_instance=le,le.getChildByName("richBg").getComponentInChildren(cc.RichText).string=S.default.getInstance().getStrByTextId(1460005);var ge=q.DrawCardInformationManager.getInstance().getJsonDrawCardInformation(3001);w.PropManager.getInstance().getPropNum(ge.OneDrawPropsID_1)>=ge.OneDrawPropsSpend_1?(le.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(ge.OneDrawPropsID_1),le.getChildByName("num1").getComponent(cc.Label).string="x"+ge.OneDrawPropsSpend_1):(le.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(ge.OneDrawPropsID_2),le.getChildByName("num1").getComponent(cc.Label).string="x"+ge.OneDrawPropsSpend_2),w.PropManager.getInstance().getPropNum(ge.OneDrawPropsID_1)>=ge.TenDrawPropsSpend_1?(le.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(ge.OneDrawPropsID_1),le.getChildByName("num10").getComponent(cc.Label).string="x"+ge.TenDrawPropsSpend_1):(le.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(ge.OneDrawPropsID_2),le.getChildByName("num10").getComponent(cc.Label).string="x"+ge.TenDrawPropsSpend_2);var ue=Date.now();L.TheStorageManager.getInstance().getNumber(N.StorageKey.StoreMysteryPetFreeTime,0)+864e5-ue<=0?(le.getChildByName("num1").active=!1,le.getChildByName("free").active=!0,le.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=this.store_ui.getSpriteFrame("Shop_Icon_ADS")):(le.getChildByName("num1").active=!0,le.getChildByName("free").active=!1);var pe=le.getChildByName("btn1"),de=le.getChildByName("btn10");pe.getChildByName("red").active=p.default.getInstance().getPetRecruitingRedTip(),pe.addComponent(cc.Button).transition=cc.Button.Transition.SCALE,pe.getComponent(cc.Button).duration=.1,pe.getComponent(cc.Button).zoomScale=.9,de.addComponent(cc.Button).transition=cc.Button.Transition.SCALE,de.getComponent(cc.Button).duration=.1,de.getComponent(cc.Button).zoomScale=.9,pe.on(cc.Node.EventType.TOUCH_END,function(){if(0==_.FunctionDefinitionManager.getInstance().getIsUnlock(g.FuncType.PetParadise)){var t="";return t=1==_.FunctionDefinitionManager.getInstance().getUnlockConditionType(g.FuncType.PetParadise)?(t=S.default.getInstance().getStrByTextId(100051)).replace(".","."+_.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(g.FuncType.PetParadise)):(t=S.default.getInstance().getStrByTextId(100052)).replace("~",I.MissionLevelManager.getInstance().getLevelName(_.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(g.FuncType.PetParadise))+""),void d.default.getInstance().showMessage(t)}var a=0,n=0;w.PropManager.getInstance().getPropNum(ge.OneDrawPropsID_1)>=ge.OneDrawPropsSpend_1?(a=ge.OneDrawPropsID_1,n=ge.OneDrawPropsSpend_1):(a=ge.OneDrawPropsID_2,n=ge.OneDrawPropsSpend_2);var o=Date.now();if(L.TheStorageManager.getInstance().getNumber(N.StorageKey.StoreMysteryPetFreeTime,0)+864e5-o<=0)n=0,L.TheStorageManager.getInstance().setItem(N.StorageKey.StoreMysteryPetFreeTime,o),w.PropManager.getInstance().getPropNum(ge.OneDrawPropsID_1)>=ge.OneDrawPropsSpend_1?(le.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(ge.OneDrawPropsID_1),le.getChildByName("num1").getComponent(cc.Label).string="x"+ge.OneDrawPropsSpend_1):(le.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(ge.OneDrawPropsID_2),le.getChildByName("num1").getComponent(cc.Label).string="x"+ge.OneDrawPropsSpend_2),le.getChildByName("num1").active=!0,le.getChildByName("free").active=!1,c.default.getInstance().showVideo(function(t){t&&(n=0,L.TheStorageManager.getInstance().setItem(N.StorageKey.StoreMysteryPetFreeTime,o),w.PropManager.getInstance().getPropNum(ge.OneDrawPropsID_1)>=ge.OneDrawPropsSpend_1?(le.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(ge.OneDrawPropsID_1),le.getChildByName("num1").getComponent(cc.Label).string="x"+ge.OneDrawPropsSpend_1):(le.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(ge.OneDrawPropsID_2),le.getChildByName("num1").getComponent(cc.Label).string="x"+ge.OneDrawPropsSpend_2),le.getChildByName("num1").active=!0,le.getChildByName("free").active=!1,pe.getChildByName("red").active=p.default.getInstance().getPetRecruitingRedTip(),R.EventManager.postRedEvent(R.RedEventString.RED_CHECK,R.RedEventType.Btn_Shop),r.HttpManager.post(r.AccessName.tryPrize,e.getPrizeJsonString(1,3,a,n),!0).then(function(e){if(e){E.default.getInstance().emitTask(D.TaskItem.\u7d2f\u8ba1\u5b75\u5316\u7075\u5ba0\u86cbX\u6b21),E.default.getInstance().emitTask(D.TaskItem.\u524d\u5f80\u5546\u57ce\u5b75\u5316X\u6b21\u5ba0\u7269),E.default.getInstance().emitTask(D.TaskItem.\u8fdb\u884c1\u6b21\u5ba0\u7269\u62db\u52df),E.default.getInstance().emitTask(D.TaskItem.\u8fdb\u884c10\u6b21\u5ba0\u7269\u5b75\u5316);var t=w.PropManager.getInstance().createPropItem(e[0].dropId,e[0].dropNum);w.PropManager.getInstance().changePropNum(e[0].dropId,e[0].dropNum),w.PropManager.getInstance().saveAllPropNum(),d.default.getInstance().showGetTip(t),w.PropManager.getInstance().getPropNum(ge.OneDrawPropsID_1)>=ge.OneDrawPropsSpend_1?(le.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(ge.OneDrawPropsID_1),le.getChildByName("num1").getComponent(cc.Label).string="x"+ge.OneDrawPropsSpend_1):(le.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(ge.OneDrawPropsID_2),le.getChildByName("num1").getComponent(cc.Label).string="x"+ge.OneDrawPropsSpend_2),w.PropManager.getInstance().getPropNum(ge.OneDrawPropsID_1)>=ge.TenDrawPropsSpend_1?(le.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(ge.OneDrawPropsID_1),le.getChildByName("num10").getComponent(cc.Label).string="x"+ge.TenDrawPropsSpend_1):(le.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(ge.OneDrawPropsID_2),le.getChildByName("num10").getComponent(cc.Label).string="x"+ge.TenDrawPropsSpend_2),w.PropManager.getInstance().getPropNum(ge.OneDrawPropsID_1)>=ge.OneDrawPropsSpend_1?(le.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(ge.OneDrawPropsID_1),le.getChildByName("num1").getComponent(cc.Label).string="x"+ge.OneDrawPropsSpend_1):(le.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(ge.OneDrawPropsID_2),le.getChildByName("num1").getComponent(cc.Label).string="x"+ge.OneDrawPropsSpend_2)}}))},g.VIDEO_TYPE.Equip);else{if(w.PropManager.getInstance().getPropNum(a)<n)return d.default.getInstance().showMessage(S.default.getInstance().getStrByTextId(100041)),void e.node.getChildByName("scroll").getComponent(cc.ScrollView).scrollToBottom(2);r.HttpManager.post(r.AccessName.tryPrize,e.getPrizeJsonString(1,3,a,n),!0).then(function(e){if(e){E.default.getInstance().emitTask(D.TaskItem.\u7d2f\u8ba1\u5b75\u5316\u7075\u5ba0\u86cbX\u6b21),E.default.getInstance().emitTask(D.TaskItem.\u524d\u5f80\u5546\u57ce\u5b75\u5316X\u6b21\u5ba0\u7269),E.default.getInstance().emitTask(D.TaskItem.\u8fdb\u884c1\u6b21\u5ba0\u7269\u62db\u52df),E.default.getInstance().emitTask(D.TaskItem.\u8fdb\u884c10\u6b21\u5ba0\u7269\u5b75\u5316),w.PropManager.getInstance().changePropNum(a,-n),d.default.getInstance().refreshGemShow();var t=w.PropManager.getInstance().createPropItem(e[0].dropId,e[0].dropNum);w.PropManager.getInstance().changePropNum(e[0].dropId,e[0].dropNum),w.PropManager.getInstance().saveAllPropNum(),d.default.getInstance().showGetTip(t),w.PropManager.getInstance().getPropNum(ge.OneDrawPropsID_1)>=ge.OneDrawPropsSpend_1?(le.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(ge.OneDrawPropsID_1),le.getChildByName("num1").getComponent(cc.Label).string="x"+ge.OneDrawPropsSpend_1):(le.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(ge.OneDrawPropsID_2),le.getChildByName("num1").getComponent(cc.Label).string="x"+ge.OneDrawPropsSpend_2),w.PropManager.getInstance().getPropNum(ge.OneDrawPropsID_1)>=ge.TenDrawPropsSpend_1?(le.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(ge.OneDrawPropsID_1),le.getChildByName("num10").getComponent(cc.Label).string="x"+ge.TenDrawPropsSpend_1):(le.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(ge.OneDrawPropsID_2),le.getChildByName("num10").getComponent(cc.Label).string="x"+ge.TenDrawPropsSpend_2),w.PropManager.getInstance().getPropNum(ge.OneDrawPropsID_1)>=ge.OneDrawPropsSpend_1?(le.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(ge.OneDrawPropsID_1),le.getChildByName("num1").getComponent(cc.Label).string="x"+ge.OneDrawPropsSpend_1):(le.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(ge.OneDrawPropsID_2),le.getChildByName("num1").getComponent(cc.Label).string="x"+ge.OneDrawPropsSpend_2)}})}}),de.on(cc.Node.EventType.TOUCH_END,function(){if(0==_.FunctionDefinitionManager.getInstance().getIsUnlock(g.FuncType.PetParadise)){var t="";return t=1==_.FunctionDefinitionManager.getInstance().getUnlockConditionType(g.FuncType.PetParadise)?(t=S.default.getInstance().getStrByTextId(100051)).replace(".","."+_.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(g.FuncType.PetParadise)):(t=S.default.getInstance().getStrByTextId(100052)).replace("~",I.MissionLevelManager.getInstance().getLevelName(_.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(g.FuncType.PetParadise))+""),void d.default.getInstance().showMessage(t)}var a=0,n=0;if(w.PropManager.getInstance().getPropNum(ge.OneDrawPropsID_1)>=ge.TenDrawPropsSpend_1?(a=ge.OneDrawPropsID_1,n=ge.TenDrawPropsSpend_1):(a=ge.OneDrawPropsID_2,n=ge.TenDrawPropsSpend_2),w.PropManager.getInstance().getPropNum(a)<n)return d.default.getInstance().showMessage(S.default.getInstance().getStrByTextId(100041)),void e.node.getChildByName("scroll").getComponent(cc.ScrollView).scrollToBottom(2);r.HttpManager.post(r.AccessName.tryPrize,e.getPrizeJsonString(2,3,a,n),!0).then(function(e){if(e){w.PropManager.getInstance().changePropNum(a,-n),d.default.getInstance().refreshGemShow();var t=e.length,o=[],i=G.default.randomRangeInt(0,9),r=e[9];e[9]=e[i],e[i]=r;for(var s=0;s<t;s++){var c=w.PropManager.getInstance().createPropItem(e[s].dropId,e[s].dropNum);w.PropManager.getInstance().changePropNum(e[s].dropId,e[s].dropNum),o.push(c),E.default.getInstance().emitTask(D.TaskItem.\u524d\u5f80\u5546\u57ce\u5b75\u5316X\u6b21\u5ba0\u7269),E.default.getInstance().emitTask(D.TaskItem.\u8fdb\u884c1\u6b21\u5ba0\u7269\u62db\u52df),E.default.getInstance().emitTask(D.TaskItem.\u8fdb\u884c10\u6b21\u5ba0\u7269\u5b75\u5316),E.default.getInstance().emitTask(D.TaskItem.\u7d2f\u8ba1\u5b75\u5316\u7075\u5ba0\u86cbX\u6b21)}w.PropManager.getInstance().saveAllPropNum(),d.default.getInstance().showMultipleGetTip(o)}})}),se.addChild(le);var he=cc.instantiate(this.store_equip_item);he.getChildByName("richBg").children[1].children[1].getComponent(cc.Label).string="X"+w.PropManager.getInstance().getPropNum(40005),this.weapon_instance=he,he.getChildByName("richBg").getComponentInChildren(cc.RichText).string=S.default.getInstance().getStrByTextId(1460006);var fe=q.DrawCardInformationManager.getInstance().getJsonDrawCardInformation(2001);w.PropManager.getInstance().getPropNum(fe.OneDrawPropsID_1)>=fe.OneDrawPropsSpend_1?(he.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(fe.OneDrawPropsID_1),he.getChildByName("num1").getComponent(cc.Label).string="x"+fe.OneDrawPropsSpend_1):(he.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(fe.OneDrawPropsID_2),he.getChildByName("num1").getComponent(cc.Label).string="x"+fe.OneDrawPropsSpend_2),w.PropManager.getInstance().getPropNum(fe.OneDrawPropsID_1)>=fe.TenDrawPropsSpend_1?(he.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(fe.OneDrawPropsID_1),he.getChildByName("num10").getComponent(cc.Label).string="x"+fe.TenDrawPropsSpend_1):(he.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(fe.OneDrawPropsID_2),he.getChildByName("num10").getComponent(cc.Label).string="x"+fe.TenDrawPropsSpend_2),ue=Date.now(),L.TheStorageManager.getInstance().getNumber(N.StorageKey.StoreMysteryEquipFreeTime,0)+864e5-ue<=0?(he.getChildByName("num1").active=!1,he.getChildByName("free").active=!0,he.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=this.store_ui.getSpriteFrame("Shop_Icon_ADS")):(he.getChildByName("num1").active=!0,he.getChildByName("free").active=!1);var _e=he.getChildByName("btn1"),me=he.getChildByName("btn10");_e.getChildByName("red").active=p.default.getInstance().getEquipFreeRedTip(),_e.addComponent(cc.Button).transition=cc.Button.Transition.SCALE,_e.getComponent(cc.Button).duration=.1,_e.getComponent(cc.Button).zoomScale=.9,me.addComponent(cc.Button).transition=cc.Button.Transition.SCALE,me.getComponent(cc.Button).duration=.1,me.getComponent(cc.Button).zoomScale=.9,_e.on(cc.Node.EventType.TOUCH_END,function(){var t=0,a=0;w.PropManager.getInstance().getPropNum(fe.OneDrawPropsID_1)>=fe.OneDrawPropsSpend_1?(t=fe.OneDrawPropsID_1,a=fe.OneDrawPropsSpend_1,M.default.getInstance().addTotal(v.Follow_Type.\u8bb0\u5f55\u6d88\u8017\u7684\u94a5\u5319\u6570\u91cf,fe.OneDrawPropsSpend_1)):(t=fe.OneDrawPropsID_2,a=fe.OneDrawPropsSpend_2,M.default.getInstance().addTotal(v.Follow_Type.\u8bb0\u5f55\u6d88\u8017\u5b9d\u77f3\u6570\u91cf,a));var n=Date.now();if(L.TheStorageManager.getInstance().getNumber(N.StorageKey.StoreMysteryEquipFreeTime,0)+864e5-n<=0)c.default.getInstance().showVideo(function(o){o?(a=0,L.TheStorageManager.getInstance().setItem(N.StorageKey.StoreMysteryEquipFreeTime,n),_e.getChildByName("red").active=p.default.getInstance().getEquipFreeRedTip(),R.EventManager.postRedEvent(R.RedEventString.RED_CHECK,R.RedEventType.Btn_Shop),he.getChildByName("num1").active=!0,he.getChildByName("free").active=!1,r.HttpManager.post(r.AccessName.tryPrize,e.getPrizeJsonString(1,2,t,a),!0).then(function(e){if(e){M.default.getInstance().followEvent(v.Follow_Type.\u8bb0\u5f55\u5f00\u542f1\u6b21\u88c5\u5907\u7684\u6b21\u6570),E.default.getInstance().emitTask(D.TaskItem.\u8fdb\u884c1\u6b21\u5f00\u542f\u88c5\u5907),E.default.getInstance().emitTask(D.TaskItem.\u8fdb\u884c10\u6b21\u5f00\u542f\u88c5\u5907),E.default.getInstance().emitTask(D.TaskItem.\u7d2f\u8ba1\u83b7\u5f97X\u4ef6\u88c5\u5907);var t=w.PropManager.getInstance().createPropItem(e[0].dropId,e[0].dropNum);w.PropManager.getInstance().changePropNum(e[0].dropId,e[0].dropNum),w.PropManager.getInstance().saveAllPropNum(),d.default.getInstance().showGetTip(t),w.PropManager.getInstance().getPropNum(fe.OneDrawPropsID_1)>=fe.OneDrawPropsSpend_1?(he.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(fe.OneDrawPropsID_1),he.getChildByName("num1").getComponent(cc.Label).string="x"+fe.OneDrawPropsSpend_1):(he.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(fe.OneDrawPropsID_2),he.getChildByName("num1").getComponent(cc.Label).string="x"+fe.OneDrawPropsSpend_2),w.PropManager.getInstance().getPropNum(fe.OneDrawPropsID_1)>=fe.TenDrawPropsSpend_1?(he.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(fe.OneDrawPropsID_1),he.getChildByName("num10").getComponent(cc.Label).string="x"+fe.TenDrawPropsSpend_1):(he.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(fe.OneDrawPropsID_2),he.getChildByName("num10").getComponent(cc.Label).string="x"+fe.TenDrawPropsSpend_2)}})):d.default.getInstance().showMessage(S.default.getInstance().getStrByTextId(1))},g.VIDEO_TYPE.Equip);else{if(w.PropManager.getInstance().getPropNum(t)<a)return d.default.getInstance().showMessage(S.default.getInstance().getStrByTextId(100041)),void e.node.getChildByName("scroll").getComponent(cc.ScrollView).scrollToBottom(2);r.HttpManager.post(r.AccessName.tryPrize,e.getPrizeJsonString(1,2,t,a),!0).then(function(o){if(o){w.PropManager.getInstance().changePropNum(t,-a),d.default.getInstance().refreshGemShow(),M.default.getInstance().followEvent(v.Follow_Type.\u8bb0\u5f55\u5f00\u542f1\u6b21\u88c5\u5907\u7684\u6b21\u6570),E.default.getInstance().emitTask(D.TaskItem.\u8fdb\u884c1\u6b21\u5f00\u542f\u88c5\u5907),E.default.getInstance().emitTask(D.TaskItem.\u8fdb\u884c10\u6b21\u5f00\u542f\u88c5\u5907),E.default.getInstance().emitTask(D.TaskItem.\u7d2f\u8ba1\u83b7\u5f97X\u4ef6\u88c5\u5907);var i=w.PropManager.getInstance().createPropItem(o[0].dropId,o[0].dropNum);w.PropManager.getInstance().changePropNum(o[0].dropId,o[0].dropNum),w.PropManager.getInstance().saveAllPropNum(),d.default.getInstance().showGetTip(i),w.PropManager.getInstance().getPropNum(fe.OneDrawPropsID_1)>=fe.OneDrawPropsSpend_1?(he.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(fe.OneDrawPropsID_1),he.getChildByName("num1").getComponent(cc.Label).string="x"+fe.OneDrawPropsSpend_1):(he.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(fe.OneDrawPropsID_2),he.getChildByName("num1").getComponent(cc.Label).string="x"+fe.OneDrawPropsSpend_2),w.PropManager.getInstance().getPropNum(fe.OneDrawPropsID_1)>=fe.TenDrawPropsSpend_1?(he.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(fe.OneDrawPropsID_1),he.getChildByName("num10").getComponent(cc.Label).string="x"+fe.TenDrawPropsSpend_1):(he.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(fe.OneDrawPropsID_2),he.getChildByName("num10").getComponent(cc.Label).string="x"+fe.TenDrawPropsSpend_2),L.TheStorageManager.getInstance().getNumber(N.StorageKey.StoreMysteryEquipFreeTime,0)+864e5-n<=0?(he.getChildByName("num1").active=!1,he.getChildByName("free").active=!0,he.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=e.store_ui.getSpriteFrame("Shop_Icon_ADS")):(he.getChildByName("num1").active=!0,he.getChildByName("free").active=!1)}})}}),me.on(cc.Node.EventType.TOUCH_END,function(){var t=0,a=0;if(w.PropManager.getInstance().getPropNum(fe.OneDrawPropsID_1)>=fe.TenDrawPropsSpend_1?(w.PropManager.getInstance().changePropNum(fe.OneDrawPropsID_1,-fe.TenDrawPropsSpend_1),t=fe.OneDrawPropsID_2,a=0,M.default.getInstance().addTotal(v.Follow_Type.\u8bb0\u5f55\u6d88\u8017\u7684\u94a5\u5319\u6570\u91cf,fe.TenDrawPropsSpend_1)):(t=fe.OneDrawPropsID_2,a=fe.TenDrawPropsSpend_2,M.default.getInstance().addTotal(v.Follow_Type.\u8bb0\u5f55\u6d88\u8017\u5b9d\u77f3\u6570\u91cf,a)),w.PropManager.getInstance().getPropNum(t)<a)return d.default.getInstance().showMessage(S.default.getInstance().getStrByTextId(100041)),void e.node.getChildByName("scroll").getComponent(cc.ScrollView).scrollToBottom(2);r.HttpManager.post(r.AccessName.tryPrize,e.getPrizeJsonString(2,2,t,a),!0).then(function(n){if(n){w.PropManager.getInstance().changePropNum(t,-a),d.default.getInstance().refreshGemShow(),M.default.getInstance().followEvent(v.Follow_Type.\u8bb0\u5f55\u5f00\u542f10\u6b21\u88c5\u5907\u7684\u6b21\u6570);var o=n.length,i=[],r=G.default.randomRangeInt(0,9),s=n[9];n[9]=n[r],n[r]=s;for(var c=0;c<o;c++){E.default.getInstance().emitTask(D.TaskItem.\u8fdb\u884c1\u6b21\u5f00\u542f\u88c5\u5907),E.default.getInstance().emitTask(D.TaskItem.\u8fdb\u884c10\u6b21\u5f00\u542f\u88c5\u5907),E.default.getInstance().emitTask(D.TaskItem.\u7d2f\u8ba1\u83b7\u5f97X\u4ef6\u88c5\u5907);var l=w.PropManager.getInstance().createPropItem(n[c].dropId,n[c].dropNum);w.PropManager.getInstance().changePropNum(n[c].dropId,n[c].dropNum),i.push(l)}d.default.getInstance().showMultipleGetTip(i),w.PropManager.getInstance().saveAllPropNum(),w.PropManager.getInstance().getPropNum(fe.OneDrawPropsID_1)>=fe.OneDrawPropsSpend_1?(he.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(fe.OneDrawPropsID_1),he.getChildByName("num1").getComponent(cc.Label).string="x"+fe.OneDrawPropsSpend_1):(he.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(fe.OneDrawPropsID_2),he.getChildByName("num1").getComponent(cc.Label).string="x"+fe.OneDrawPropsSpend_2),w.PropManager.getInstance().getPropNum(fe.OneDrawPropsID_1)>=fe.TenDrawPropsSpend_1?(he.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(fe.OneDrawPropsID_1),he.getChildByName("num10").getComponent(cc.Label).string="x"+fe.TenDrawPropsSpend_1):(he.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(fe.OneDrawPropsID_2),he.getChildByName("num10").getComponent(cc.Label).string="x"+fe.TenDrawPropsSpend_2),L.TheStorageManager.getInstance().getNumber(N.StorageKey.StoreMysteryEquipFreeTime,0)+864e5-ue<=0?(he.getChildByName("num1").active=!1,he.getChildByName("free").active=!0,he.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=e.store_ui.getSpriteFrame("Shop_Icon_ADS")):(he.getChildByName("num1").active=!0,he.getChildByName("free").active=!1)}})}),se.addChild(he),t.addChild(se),(a=cc.instantiate(this.store_title)).getComponentInChildren(P.default).setTextId(400002),a.name="gemTitle",t.addChild(a);var ye=new cc.Node;ye.name="gemRoot",ye.height=2*this.store_gem_item.data.height+10,ye.width=this.node.width,t.addChild(ye);var Ie=ye.addComponent(cc.Layout);Ie.type=cc.Layout.Type.GRID,Ie.resizeMode=cc.Layout.ResizeMode.CONTAINER,Ie.paddingRight=40,Ie.paddingLeft=40,Ie.spacingX=20,Ie.spacingY=20,V.DiamondsRechargeManager.getInstance().getJsonData().forEach(function(t){var a=cc.instantiate(e.store_gem_item);a.name="gem"+t.RechargeID,a.getChildByName("title").getComponent(P.default).setTextId(400002),a.getChildByName("title").getComponent(P.default).string=t.DiamondsNum+a.getChildByName("title").getComponent(P.default).string;var n=k.PayManager.getInstance().getPayInfo(t.ProductId);a.getChildByName("num").getComponent(cc.Label).string=n.price,a.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=e.store_ui.getSpriteFrame("Shop_Icon_Gem_"+(t.RechargeID-1)),""==L.TheStorageManager.getInstance().getString(N.StorageKey.StoreGemItem+t.RechargeID,"")?(a.getChildByName("bg").active=!0,a.getChildByName("tip").active=!0,a.getChildByName("tip").getComponent(P.default).setTextId(1410004),a.getChildByName("tip").getComponent(P.default).setReplaceValue("~",t.GetDiamondsNum+"")):(a.getChildByName("bg").active=!1,a.getChildByName("tip").active=!1);var o=a.addComponent(cc.Button);o.transition=cc.Button.Transition.SCALE,o.duration=.1,o.zoomScale=.9;var i=new cc.Component.EventHandler;i.target=e.node,i.component="StoreUi",i.handler="onGemBtnClick",i.customEventData=t.RechargeID+"",o.clickEvents.push(i),ye.addChild(a)}),(a=cc.instantiate(this.store_title)).getComponentInChildren(P.default).setTextId(400001),a.name="coinTitle",t.addChild(a);var ve=new cc.Node;ve.name="coinRoot",ve.height=this.store_coin_item.data.height+10,ve.width=this.node.width,t.addChild(ve);var Me=ve.addComponent(cc.Layout);Me.type=cc.Layout.Type.HORIZONTAL,Me.resizeMode=cc.Layout.ResizeMode.CONTAINER,Me.paddingRight=40,Me.paddingLeft=40,Me.spacingX=20,K.PurchaseCoinsManager.getInstance().getJsonDataByChapter(y.LevelManager.getInstance().getFinishChapter()).forEach(function(t,a){var n=cc.instantiate(e.store_coin_item);n.getChildByName("title").getComponent(cc.Label).string=t.GetCoinNum+"",n.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=e.store_ui.getSpriteFrame("Shop_Icon_Coin_"+t.DisplayPosition),1==t.AdReward&&Number(L.TheStorageManager.getInstance().getInt(N.StorageKey.StoreCoinItem+a,0))<t.AdPlayableTimes?(n.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame=e.store_ui.getSpriteFrame("Shop_Icon_ADS"),n.getChildByName("num").active=!1,n.getChildByName("text").active=!0,n.getChildByName("red").active=!0):(n.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(B.PropId.Gem),n.getChildByName("num").active=!0,n.getChildByName("num").getComponent(cc.Label).string="x"+t.ConsumeDiamondsNum,n.getChildByName("text").active=!1,n.getChildByName("red").active=!1),n.addComponent(cc.Button).transition=cc.Button.Transition.SCALE,n.getComponent(cc.Button).duration=.1,n.getComponent(cc.Button).zoomScale=.9,ve.addChild(n),n.on(cc.Node.EventType.TOUCH_END,function(){if(1==t.AdReward)if(Number(L.TheStorageManager.getInstance().getInt(N.StorageKey.StoreCoinItem+a,0))<t.AdPlayableTimes)c.default.getInstance().showVideo(function(e){if(e){E.default.getInstance().emitTask(D.TaskItem.\u8d2d\u4e701\u6b21\u5546\u5e97\u4e2d\u7684\u91d1\u5e01),M.default.getInstance().followEvent(v.Follow_Type.x\u91d1\u5e01\u70b9\u51fb\u8d2d\u4e70\u6b21\u6570+t.CoinPurchaseID),w.PropManager.getInstance().changePropNum(B.PropId.Coin,t.GetCoinNum);var o=w.PropManager.getInstance().createPropItem(B.PropId.Coin,t.GetCoinNum),i=L.TheStorageManager.getInstance().getInt(N.StorageKey.StoreCoinItem+a,0)+1;L.TheStorageManager.getInstance().setItem(N.StorageKey.StoreCoinItem+a,i),d.default.getInstance().showGetTip(o),i>=t.AdPlayableTimes&&(n.getChildByName("costIcon").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(B.PropId.Gem),n.getChildByName("num").active=!0,n.getChildByName("num").getComponent(cc.Label).string="x"+t.ConsumeDiamondsNum,n.getChildByName("text").active=!1,n.getChildByName("red").active=!1,R.EventManager.postRedEvent(R.RedEventString.RED_CHECK,R.RedEventType.Btn_Shop))}},g.VIDEO_TYPE.Coin);else if(w.PropManager.getInstance().changePropNum(B.PropId.Gem,-t.ConsumeDiamondsNum)){E.default.getInstance().emitTask(D.TaskItem.\u8d2d\u4e701\u6b21\u5546\u5e97\u4e2d\u7684\u91d1\u5e01),M.default.getInstance().followEvent(v.Follow_Type.x\u91d1\u5e01\u70b9\u51fb\u8d2d\u4e70\u6b21\u6570+t.CoinPurchaseID),w.PropManager.getInstance().changePropNum(B.PropId.Coin,t.GetCoinNum);var e=w.PropManager.getInstance().createPropItem(B.PropId.Coin,t.GetCoinNum);d.default.getInstance().showGetTip(e)}else H.UIManager.getInstance().showUiDialog(O.UIPath.CoinPop,O.UILayerLevel.Three,{onCompleted:function(e){e.getComponent(l.default).initUi(B.PropId.Gem)}});else w.PropManager.getInstance().changePropNum(B.PropId.Gem,-t.ConsumeDiamondsNum)?(E.default.getInstance().emitTask(D.TaskItem.\u8d2d\u4e701\u6b21\u5546\u5e97\u4e2d\u7684\u91d1\u5e01),M.default.getInstance().followEvent(v.Follow_Type.x\u91d1\u5e01\u70b9\u51fb\u8d2d\u4e70\u6b21\u6570+t.CoinPurchaseID),w.PropManager.getInstance().changePropNum(B.PropId.Coin,t.GetCoinNum),e=w.PropManager.getInstance().createPropItem(B.PropId.Coin,t.GetCoinNum),d.default.getInstance().showGetTip(e)):H.UIManager.getInstance().showUiDialog(O.UIPath.CoinPop,O.UILayerLevel.Three,{onCompleted:function(e){e.getComponent(l.default).initUi(B.PropId.Gem)}})})}),this.schedule(function(){Z=Date.now()/1e3;var t=L.TheStorageManager.getInstance().getNumber(N.StorageKey.TomorowZeroTimeStamp,0)-Z;t<0&&(t=(new Date((new Date).toLocaleDateString()).getTime()+864e4)/1e3-Z);var a=Math.floor(t/3600);X.string=a<10?"0"+a+":":a+":";var n=Math.floor(t%3600/60);X.string+=n<10?"0"+n+":":n+":";var o=Math.floor(t%3600%60);X.string+=o<10?"0"+o:o,ue=Date.now(),L.TheStorageManager.getInstance().getNumber(N.StorageKey.StoreMysteryPetFreeTime,0)+864e5-ue<=0&&1==le.getChildByName("num1").active&&(le.getChildByName("num1").active=!1,le.getChildByName("free").active=!0,le.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=e.store_ui.getSpriteFrame("Shop_Icon_ADS")),L.TheStorageManager.getInstance().getNumber(N.StorageKey.StoreMysteryEquipFreeTime,0)+864e5-ue<=0&&1==le.getChildByName("num1").active&&(he.getChildByName("num1").active=!1,he.getChildByName("free").active=!0,he.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=e.store_ui.getSpriteFrame("Shop_Icon_ADS"))},1,cc.macro.REPEAT_FOREVER,0)},t.prototype.onGemBtnClick=function(e,t){var a=this,n=this.node.getChildByName("scroll").getComponent(cc.ScrollView).content.getChildByName("gemRoot").getChildByName("gem"+t),o=V.DiamondsRechargeManager.getInstance().getJsonDiamondsRecharge(Number(t));c.default.getInstance().showPay({result:function(e){if(e)if(M.default.getInstance().followEvent(v.Follow_Type.x\u94bb\u77f3\u70b9\u51fb\u8d2d\u4e70\u6b21\u6570+o.ProductId),""==L.TheStorageManager.getInstance().getString(N.StorageKey.StoreGemItem+o.RechargeID,"")){var t=w.PropManager.getInstance().createPropItem(B.PropId.Gem,o.DiamondsNum+o.GetDiamondsNum);w.PropManager.getInstance().changePropNum(B.PropId.Gem,o.DiamondsNum+o.GetDiamondsNum),L.TheStorageManager.getInstance().setItem(N.StorageKey.StoreGemItem+o.RechargeID,"1"),j.UserInfo.getInstance().payGem+=o.DiamondsNum,r.HttpManager.post(r.AccessName.updateUserInfo,a.setCumulativeRechargeJsonString(o.DiamondsNum)).then(function(){j.UserInfo.getInstance().refreshData(),s.CumulativeRechargesManager.getInstance().refreshData()}),n.getChildByName("bg").active=!1,n.getChildByName("tip").active=!1,d.default.getInstance().showGetTip(t)}else t=w.PropManager.getInstance().createPropItem(B.PropId.Gem,o.DiamondsNum),w.PropManager.getInstance().changePropNum(B.PropId.Gem,o.DiamondsNum),j.UserInfo.getInstance().payGem+=o.DiamondsNum,r.HttpManager.post(r.AccessName.updateUserInfo,a.setCumulativeRechargeJsonString(o.DiamondsNum)).then(function(){j.UserInfo.getInstance().refreshData(),s.CumulativeRechargesManager.getInstance().refreshData()}),d.default.getInstance().showGetTip(t)}},o.ProductId)},t.prototype.refreshStore=function(){var e=this,t=this.node.getChildByName("scroll").getComponent(cc.ScrollView).content.getChildByName("gemRoot");V.DiamondsRechargeManager.getInstance().getJsonData().forEach(function(a){var n=t.getChildByName("gem"+a.RechargeID);n.getChildByName("title").getComponent(P.default).setTextId(400002),n.getChildByName("title").getComponent(P.default).string=a.DiamondsNum+n.getChildByName("title").getComponent(P.default).string;var o=k.PayManager.getInstance().getPayInfo(a.ProductId);n.getChildByName("num").getComponent(cc.Label).string=o.price,n.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=e.store_ui.getSpriteFrame("Shop_Icon_Gem_"+(a.RechargeID-1)),""==L.TheStorageManager.getInstance().getString(N.StorageKey.StoreGemItem+a.RechargeID,"")?(n.getChildByName("bg").active=!0,n.getChildByName("tip").active=!0,n.getChildByName("tip").getComponent(P.default).setTextId(1410004),n.getChildByName("tip").getComponent(P.default).setReplaceValue("~",a.GetDiamondsNum+"")):(n.getChildByName("bg").active=!1,n.getChildByName("tip").active=!1)})},t.prototype.getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},t.prototype.getPrizeJsonString=function(e,t,a,n){var o=F.default.getInstance().getUserID();return JSON.stringify({uid:o,type:e,drawType:t,itemsId:a,minusNum:n})},t.prototype.onRefreshInstanceItem=function(){var e=q.DrawCardInformationManager.getInstance().getJsonDrawCardInformation(1001);w.PropManager.getInstance().getPropNum(e.OneDrawPropsID_1)>=e.OneDrawPropsSpend_1?(this.hero_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(e.OneDrawPropsID_1),this.hero_instance.getChildByName("num1").getComponent(cc.Label).string="x"+e.OneDrawPropsSpend_1):(this.hero_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(e.OneDrawPropsID_2),this.hero_instance.getChildByName("num1").getComponent(cc.Label).string="x"+e.OneDrawPropsSpend_2),w.PropManager.getInstance().getPropNum(e.OneDrawPropsID_1)>=e.TenDrawPropsSpend_1?(this.hero_instance.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(e.OneDrawPropsID_1),this.hero_instance.getChildByName("num10").getComponent(cc.Label).string="x"+e.TenDrawPropsSpend_1):(this.hero_instance.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(e.OneDrawPropsID_2),this.hero_instance.getChildByName("num10").getComponent(cc.Label).string="x"+e.TenDrawPropsSpend_2),this.hero_instance.getChildByName("IconNum").getComponent(cc.Label).string="X"+w.PropManager.getInstance().getPropNum(40004);var t=q.DrawCardInformationManager.getInstance().getJsonDrawCardInformation(3001);w.PropManager.getInstance().getPropNum(t.OneDrawPropsID_1)>=t.OneDrawPropsSpend_1?(this.pet_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(t.OneDrawPropsID_1),this.pet_instance.getChildByName("num1").getComponent(cc.Label).string="x"+t.OneDrawPropsSpend_1):(this.pet_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(t.OneDrawPropsID_2),this.pet_instance.getChildByName("num1").getComponent(cc.Label).string="x"+t.OneDrawPropsSpend_2),this.pet_instance.getChildByName("richBg").children[1].children[1].getComponent(cc.Label).string="X"+w.PropManager.getInstance().getPropNum(40006),w.PropManager.getInstance().getPropNum(t.OneDrawPropsID_1)>=t.TenDrawPropsSpend_1?(this.pet_instance.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(t.OneDrawPropsID_1),this.pet_instance.getChildByName("num10").getComponent(cc.Label).string="x"+t.TenDrawPropsSpend_1):(this.pet_instance.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(t.OneDrawPropsID_2),this.pet_instance.getChildByName("num10").getComponent(cc.Label).string="x"+t.TenDrawPropsSpend_2);var a=Date.now(),n=q.DrawCardInformationManager.getInstance().getJsonDrawCardInformation(2001);w.PropManager.getInstance().getPropNum(n.OneDrawPropsID_1)>=n.OneDrawPropsSpend_1?(this.weapon_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(n.OneDrawPropsID_1),this.weapon_instance.getChildByName("num1").getComponent(cc.Label).string="x"+n.OneDrawPropsSpend_1):(this.weapon_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(n.OneDrawPropsID_2),this.weapon_instance.getChildByName("num1").getComponent(cc.Label).string="x"+n.OneDrawPropsSpend_2),w.PropManager.getInstance().getPropNum(n.OneDrawPropsID_1)>=n.TenDrawPropsSpend_1?(this.weapon_instance.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(n.OneDrawPropsID_1),this.weapon_instance.getChildByName("num10").getComponent(cc.Label).string="x"+n.TenDrawPropsSpend_1):(this.weapon_instance.getChildByName("costIcon10").getComponent(cc.Sprite).spriteFrame=w.PropManager.getInstance().getSpByPropId(n.OneDrawPropsID_2),this.weapon_instance.getChildByName("num10").getComponent(cc.Label).string="x"+n.TenDrawPropsSpend_2),this.weapon_instance.getChildByName("richBg").children[1].children[1].getComponent(cc.Label).string="X"+w.PropManager.getInstance().getPropNum(40005),L.TheStorageManager.getInstance().getNumber(N.StorageKey.StoreMysteryEquipFreeTime,0)+864e5-a<=0?(this.weapon_instance.getChildByName("num1").active=!1,this.weapon_instance.getChildByName("free").active=!0,this.weapon_instance.getChildByName("costIcon1").getComponent(cc.Sprite).spriteFrame=this.store_ui.getSpriteFrame("Shop_Icon_ADS")):(this.weapon_instance.getChildByName("num1").active=!0,this.weapon_instance.getChildByName("free").active=!1)},t.prototype.setCumulativeRechargeJsonString=function(e){var t=F.default.getInstance().getUserID(),a=e;return JSON.stringify({type:8,uid:t,value:a})},t.prototype.getSaveGameTaskJsonString=function(e){var t=F.default.getInstance().getUserID(),a=e;return JSON.stringify({uid:t,playLevel:a,rewardType:10})},i([Q(cc.Prefab)],t.prototype,"store_title",void 0),i([Q(cc.Prefab)],t.prototype,"store_chapter_item",void 0),i([Q(cc.Prefab)],t.prototype,"store_hero_item",void 0),i([Q(cc.Prefab)],t.prototype,"store_daily_item",void 0),i([Q(cc.Prefab)],t.prototype,"store_pet_item",void 0),i([Q(cc.Prefab)],t.prototype,"store_equip_item",void 0),i([Q(cc.Prefab)],t.prototype,"store_gem_item",void 0),i([Q(cc.Prefab)],t.prototype,"store_coin_item",void 0),i([Q(cc.SpriteAtlas)],t.prototype,"store_ui",void 0),i([Z],t)}(cc.Component);a.default=$,cc._RF.pop()},{".././NetWork/HttpManager":"HttpManager","../AccumulatedRecharge/CumulativeRecharges":"CumulativeRecharges","../Ads/ApkManager":"ApkManager","../CoinPop":"CoinPop","../Constants":"Constants","../Equipment/Ui/EquipItem":"EquipItem","../GameData":"GameData","../GameManager":"GameManager","../Hero/Data/HeroManager":"HeroManager","../Hero/Game/HeroConfig":"HeroConfig","../JsonData/FunctionDefinition":"FunctionDefinition","../JsonData/LevelJsonData":"LevelJsonData","../Level/LevelManager":"LevelManager","../Level/MissionLevel":"MissionLevel","../Payment/PayManager":"PayManager","../Prop/Data/Item":"Item","../Prop/Prop":"Prop","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","../Storage/StorageConfig":"StorageConfig","../Storage/StorageManager":"StorageManager","../Task/TaskEnum":"TaskEnum","../Task/TaskManager":"TaskManager","../Tools/EventManager":"EventManager","../Tools/MyTool":"MyTool","../Tutorials/TutorailsManager":"TutorailsManager","../UI/UIConfig":"UIConfig","../UI/UIManager":"UIManager","../UI/home/MainUi":"MainUi","../UserData":"UserData","../UserInfo/UserInfo":"UserInfo","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/LanguageConstants":"LanguageConstants","../multiLanguage/LanguageManager":"LanguageManager","../multiLanguage/TextLanguage":"TextLanguage","./ChapterPack":"ChapterPack","./CommodityInformation":"CommodityInformation","./DailyShop":"DailyShop","./DiamondsRecharge":"DiamondsRecharge","./DrawCardInformation":"DrawCardInformation","./ProbabilityTipUi":"ProbabilityTipUi","./PurchaseCoins":"PurchaseCoins","./StoreHeroUi":"StoreHeroUi"}],SuperManTeng:[function(e,t,a){"use strict";cc._RF.push(t,"4528csXbi9Cvptzn0HwvYBM","SuperManTeng");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Game/GameEffectsManager"),s=e("../../../GameManager"),c=e("../../../Sound/AudioConstants"),l=e("../BuffData"),g=e("../Bullect"),u=e("../HeroConfig"),p=cc._decorator,d=p.ccclass,h=(p.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addCollisionMonsterListen.call(this,this.onCollisionMonster),this.addInitFinishedListen(this.onInitFinished)},t.prototype.onInitFinished=function(){this.move_speed=100,this.acceleration=10},t.prototype.onCollisionMonster=function(e){if(e){if(e.beFlashInjured(this.gongji_data).getDamageNum()>0){s.default.getInstance().sound_manager.playSound(c.SoundIndex.YX_FashiSkiill2);var t=r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.deluyi_active_skill_hit,e.node.getPosition());t.getComponent(cc.Animation).play();var a=new l.BuffData;a.buff_id=u.BuffId.Hero_XuanYun,a.buff_type=u.BuffType.Vertigo,a.remain_time=this.gongji_data.hero_data.getSkillValue2(u.SkillType.Active),a.game_effect_id=r.GameEffectId.xuanyun,e.addDeBuff(a,this.gongji_data),cc.tween(t).delay(a.remain_time).call(function(){r.GameEffectsManager.getInstance().destroyGameEffectById(r.GameEffectId.deluyi_active_skill_hit,t)}).start();var n=this.gongji_data.hero_data.ExclusiveWeaponSkillValue_1;if(n&&n>0){var o=new l.BuffData;o.buff_id=u.BuffId.Hero_DeLuYi_Ex,o.buff_type=u.BuffType.Normal,o.remain_time=5,e.addDeBuff(o,this.gongji_data)}}this.is_att=!1}},i([d],t)}(g.default));a.default=h,cc._RF.pop()},{"../../../Game/GameEffectsManager":"GameEffectsManager","../../../GameManager":"GameManager","../../../Sound/AudioConstants":"AudioConstants","../BuffData":"BuffData","../Bullect":"Bullect","../HeroConfig":"HeroConfig"}],SynthesisSucceeded:[function(e,t,a){"use strict";cc._RF.push(t,"0c421Kl+M1F4pTVcG4Z+F9P","SynthesisSucceeded");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Prop/PropManager"),s=e("../Data/EquipmentAttribute"),c=e("../EquipmentManager"),l=e("./EquipInfoUi"),g=e("./MergeUi"),u=e("../Data/EquipmentLevelUpCost"),p=e("../../GameManager"),d=e("../../Prop/PropConfig"),h=e("../../Task/TaskEnum"),f=e("../../Task/TaskManager"),_=cc._decorator,m=_.ccclass,y=_.property,I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.txt1=null,t.txt2=null,t.skillNum1=null,t.skillNum2=null,t.oldHpNum1=null,t.oldAtkNum1=null,t.oldDefanceNum1=null,t.oldHpNum2=null,t.oldAtkNum2=null,t.oldDefanceNum2=null,t.equip_info1=null,t.equip_info2=null,t.EqfiUI=null,t.EquipList=new Array,t.Coin=[],t}return o(t,e),t.prototype.onEnable=function(){if(this.Coin=[],this.equip_info1){var e=s.EquipmentAttributeManager.getInstance().getQuality(this.equip_info1),t=s.EquipmentAttributeManager.getInstance().getQuality(this.equip_info2),a=c.EquipmentManager.getInstance().getAttributes(this.equip_info1),n=c.EquipmentManager.getInstance().getAttributes(this.equip_info2);this.oldHpNum1.parent.active=!0,this.oldHpNum2.parent.active=!0,this.oldAtkNum1.parent.active=!0,this.oldAtkNum2.parent.active=!0,this.oldDefanceNum1.parent.active=!0,this.oldDefanceNum2.parent.active=!0,this.oldHpNum1.getComponent(cc.Label).string=""+a[2],this.oldHpNum2.getComponent(cc.Label).string=""+n[2],0==n[2]&&(this.oldHpNum1.parent.active=!1,this.oldHpNum2.parent.active=!1),this.oldAtkNum1.getComponent(cc.Label).string=""+a[0],this.oldAtkNum2.getComponent(cc.Label).string=""+n[0],0==n[0]&&(this.oldAtkNum1.parent.active=!1,this.oldAtkNum2.parent.active=!1),this.oldDefanceNum1.getComponent(cc.Label).string=""+a[1],this.oldDefanceNum2.getComponent(cc.Label).string=""+n[1],0==n[1]&&(this.oldDefanceNum1.parent.active=!1,this.oldDefanceNum2.parent.active=!1),this.skillNum1.getComponent(cc.Label).string="Lv"+e,this.skillNum2.getComponent(cc.Label).string="Lv"+t,6==t&&f.default.getInstance().emitTask(h.TaskItem.\u7d2f\u8ba1X\u4ef6\u88c5\u5907\u5230\u8fbe\u54c1\u8d286),f.default.getInstance().emitTask(h.TaskItem.\u5408\u6210X\u6b21\u88c5\u5907),f.default.getInstance().emitTask(h.TaskItem.\u5347\u7ea71\u6b21\u88c5\u5907\u54c1\u7ea7);var o=r.PropManager.getInstance();this.txt1.getComponent(cc.Label).string="["+o.getPropQualityName(e)+"]",this.txt1.color=o.getPropQualityTextColor(e-1),this.txt2.getComponent(cc.Label).string="["+o.getPropQualityName(t)+"]",this.txt2.color=o.getPropQualityTextColor(t-1)}},t.prototype.clickBtnClose=function(){for(var e=0,t=0;t<this.Coin.length;t++)e+=u.EquipmentLevelUpCostManager.getInstance().getCoinCostAll(this.Coin[t]);e>0&&(console.log(e,this.Coin),r.PropManager.getInstance().changePropNum(d.PropId.Coin,e),p.default.getInstance().showGetTip(r.PropManager.getInstance().createPropItem(d.PropId.Coin,e))),this.EqfiUI.getComponent(l.default).refreshInfo(this.equip_info1),this.node.active=!1,this.node.parent.getComponent(g.default).clickBtnClose()},i([y(cc.Node)],t.prototype,"txt1",void 0),i([y(cc.Node)],t.prototype,"txt2",void 0),i([y(cc.Node)],t.prototype,"skillNum1",void 0),i([y(cc.Node)],t.prototype,"skillNum2",void 0),i([y(cc.Node)],t.prototype,"oldHpNum1",void 0),i([y(cc.Node)],t.prototype,"oldAtkNum1",void 0),i([y(cc.Node)],t.prototype,"oldDefanceNum1",void 0),i([y(cc.Node)],t.prototype,"oldHpNum2",void 0),i([y(cc.Node)],t.prototype,"oldAtkNum2",void 0),i([y(cc.Node)],t.prototype,"oldDefanceNum2",void 0),i([m],t)}(cc.Component);a.default=I,cc._RF.pop()},{"../../GameManager":"GameManager","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Task/TaskEnum":"TaskEnum","../../Task/TaskManager":"TaskManager","../Data/EquipmentAttribute":"EquipmentAttribute","../Data/EquipmentLevelUpCost":"EquipmentLevelUpCost","../EquipmentManager":"EquipmentManager","./EquipInfoUi":"EquipInfoUi","./MergeUi":"MergeUi"}],TakeEggUi:[function(e,t,a){"use strict";cc._RF.push(t,"0b87cRJwXNOjY83FQDj/hHo","TakeEggUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.TakeEggState=void 0;var r,s=e("../Ads/ApkManager"),c=e("../GameManager"),l=e("./EggCumulative"),g=e("../JsonData/Jackpot"),u=e("../JsonData/JackpotCollection"),p=e("../multiLanguage/FollowConstants"),d=e("../multiLanguage/FollowManager"),h=e("../multiLanguage/LanguageManager"),f=e("../Pet/Ui/BtnPet"),_=e("../Prop/Data/Item"),m=e("../Prop/PropConfig"),y=e("../Prop/PropManager"),I=e("../Sound/AudioConstants"),v=e("../Tools/MyTool"),M=e("../UI/UIComponent"),C=e("../UI/UIManager"),S=e("./EggInformation"),P=e("../UI/UIConfig"),k=cc._decorator,b=k.ccclass,T=k.property;(function(e){e[e.Odinary=1]="Odinary",e[e.Premium=2]="Premium"})(r=a.TakeEggState||(a.TakeEggState={}));var B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.take_egg_state=r.Odinary,t.show_cumulative_tip=!1,t.take_egg_ui=null,t.wishing_ui=null,t.pet_icon=null,t.animation_name=[],t.isPlay=!1,t.pet_reward_list=[],t}return o(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t);var a=cc.find("Canvas");this.node.getChildByName("takeEggBg").getComponent(cc.Widget).target=a,this.node.getChildByName("top").getComponent(cc.Widget).target=a,this.node.getChildByName("bottom").getComponent(cc.Widget).target=a;var n=this.node.getChildByName("bottom");this.node.getChildByName("top").getChildByName("cumulativeTipsLabel").getComponent(cc.Label).string=h.default.getInstance().getStrByTextId(840021),n.getChildByName("Common_Btn_3").getComponentInChildren(cc.Label).string=h.default.getInstance().getStrByTextId(840026),n.getChildByName("Common_Btn_3 copy").getComponentInChildren(cc.Label).string=h.default.getInstance().getStrByTextId(840027),n.getChildByName("freeTime").getComponent(cc.Label).string=h.default.getInstance().getStrByTextId(840014),n.getChildByName("ordinaryWishing").getComponent(cc.Label).string=h.default.getInstance().getStrByTextId(840032),n.getChildByName("premiumWishing").getComponent(cc.Label).string=h.default.getInstance().getStrByTextId(840033),this.onClickRewardBtn(!0),this.refreshUi(),d.default.getInstance().followEvent(p.Follow_Type.\u9f99\u5de2\u6253\u5f00\u6b21\u6570)},t.prototype.refreshUi=function(){var e=this,t=this.node.getChildByName("top"),a=this.node.getChildByName("bottom");t.getChildByName("gemNum").getComponent(cc.Label).string=v.default.getCoinDanwei(y.PropManager.getInstance().getPropNum(m.PropId.LongJing),1),t.getChildByName("ordinaryWishingCoinNum").getComponent(cc.Label).string=v.default.getCoinDanwei(y.PropManager.getInstance().getPropNum(m.PropId.OrdinaryTakeEgg),1),t.getChildByName("premiumWishingCoinNum").getComponent(cc.Label).string=v.default.getCoinDanwei(y.PropManager.getInstance().getPropNum(m.PropId.PremiumTakeEgg),1),this.take_egg_state==r.Odinary?a.getChildByName("tipLabel").getComponent(cc.RichText).string=h.default.getInstance().getStrByTextId(840029):a.getChildByName("tipLabel").getComponent(cc.RichText).string=h.default.getInstance().getStrByTextId(840028),this.take_egg_state==r.Odinary?t.getChildByName("Wish_Bar_0_1").getComponent(cc.Sprite).spriteFrame=this.wishing_ui.getSpriteFrame("Wish_Bar_0_1"):t.getChildByName("Wish_Bar_0_1").getComponent(cc.Sprite).spriteFrame=this.wishing_ui.getSpriteFrame("Wish_Bar_0_2"),this.take_egg_state==r.Odinary?(y.PropManager.getInstance().getPropNum(S.EggInformationManager.getInstance().getEggPropID_1(this.getTakeEggSpendId(this.take_egg_state)))>0?(a.getChildByName("wishingCostIcon1").getComponent(cc.Sprite).spriteFrame=y.PropManager.getInstance().getSpByName("Item_40006"),a.getChildByName("wishingSingleCostNum").getComponent(cc.Label).string="\xd7"+S.EggInformationManager.getInstance().getEggPropNum_1(this.getTakeEggSpendId(this.take_egg_state))):(a.getChildByName("wishingCostIcon1").getComponent(cc.Sprite).spriteFrame=y.PropManager.getInstance().getSpByName("Item_10003"),a.getChildByName("wishingSingleCostNum").getComponent(cc.Label).string="\xd7"+S.EggInformationManager.getInstance().getEggPropNum_2(this.getTakeEggSpendId(this.take_egg_state))),y.PropManager.getInstance().getPropNum(S.EggInformationManager.getInstance().getEggPropID_1(this.getTakeEggSpendId(this.take_egg_state)))>9?(a.getChildByName("wishingCostIcon2").getComponent(cc.Sprite).spriteFrame=y.PropManager.getInstance().getSpByName("Item_40006"),a.getChildByName("wishingTenCostNum").getComponent(cc.Label).string="\xd7"+S.EggInformationManager.getInstance().getTenEggProp_1(this.getTakeEggSpendId(this.take_egg_state))):(a.getChildByName("wishingCostIcon2").getComponent(cc.Sprite).spriteFrame=y.PropManager.getInstance().getSpByName("Item_10003"),a.getChildByName("wishingTenCostNum").getComponent(cc.Label).string="\xd7"+S.EggInformationManager.getInstance().getTenEggProp_2(this.getTakeEggSpendId(this.take_egg_state)))):(y.PropManager.getInstance().getPropNum(S.EggInformationManager.getInstance().getEggPropID_1(this.getTakeEggSpendId(this.take_egg_state)))>0?(a.getChildByName("wishingCostIcon1").getComponent(cc.Sprite).spriteFrame=y.PropManager.getInstance().getSpByName("Item_40007"),a.getChildByName("wishingSingleCostNum").getComponent(cc.Label).string="\xd7"+S.EggInformationManager.getInstance().getEggPropNum_1(this.getTakeEggSpendId(this.take_egg_state))):(a.getChildByName("wishingCostIcon1").getComponent(cc.Sprite).spriteFrame=y.PropManager.getInstance().getSpByName("Item_10003"),a.getChildByName("wishingSingleCostNum").getComponent(cc.Label).string="\xd7"+S.EggInformationManager.getInstance().getEggPropNum_2(this.getTakeEggSpendId(this.take_egg_state))),y.PropManager.getInstance().getPropNum(S.EggInformationManager.getInstance().getEggPropID_1(this.getTakeEggSpendId(this.take_egg_state)))>9?(a.getChildByName("wishingCostIcon2").getComponent(cc.Sprite).spriteFrame=y.PropManager.getInstance().getSpByName("Item_40007"),a.getChildByName("wishingTenCostNum").getComponent(cc.Label).string="\xd7"+S.EggInformationManager.getInstance().getTenEggProp_1(this.getTakeEggSpendId(this.take_egg_state))):(a.getChildByName("wishingCostIcon2").getComponent(cc.Sprite).spriteFrame=y.PropManager.getInstance().getSpByName("Item_10003"),a.getChildByName("wishingTenCostNum").getComponent(cc.Label).string="\xd7"+S.EggInformationManager.getInstance().getTenEggProp_2(this.getTakeEggSpendId(this.take_egg_state))));var n=l.EggCumulativeManager.getInstance().getTakeEggRewardList(this.take_egg_state),o=Number(cc.sys.localStorage.getItem("TakeEggFree"+this.take_egg_state)),i=a.getChildByName("freeTimeCountdown"),s=a.getChildByName("freeTime"),c=a.getChildByName("wishingSingleCostNum");if(1==o){var g,u=parseInt(cc.sys.localStorage.getItem("TakeEggFreeTime"+this.take_egg_state)),p=(new Date).getTime(),d=Math.floor((p-u)/1e3),f=86400-d;g=function(){var t=(new Date).getTime();d=Math.floor((t-u)/1e3),f=86400-d,i.getComponent(cc.Label).string=v.default.getTimeStr(f),f<=0&&(e.unscheduleAllCallbacks(),cc.sys.localStorage.setItem("TakeEggFree"+e.take_egg_state,0),e.refreshUi())},this.unscheduleAllCallbacks(),i.active=!0,s.active=!0,f<=0&&(this.unscheduleAllCallbacks(),cc.sys.localStorage.setItem("TakeEggFree"+this.take_egg_state,0),this.refreshUi()),i.getComponent(cc.Label).string=v.default.getTimeStr(f),this.unscheduleAllCallbacks(),this.schedule(g,1,cc.macro.REPEAT_FOREVER,0)}else i.active=!1,s.active=!1,c.color=cc.color(145,255,119),c.getComponent(cc.Label).string=h.default.getInstance().getStrByTextId(840014);if(t.getChildByName("cumulativeNum").getComponent(cc.Label).string=Number(cc.sys.localStorage.getItem("NowTakeEggCumulativeNum"+this.take_egg_state))+"/"+n[Number(cc.sys.localStorage.getItem("TakeEggCumulativeRewardIndex"+this.take_egg_state))].CumulativeEggsDrawingTimes,t.getChildByName("cumulativeBar").getComponent(cc.ProgressBar).progress=Number(cc.sys.localStorage.getItem("NowTakeEggCumulativeNum"+this.take_egg_state))/n[Number(cc.sys.localStorage.getItem("TakeEggCumulativeRewardIndex"+this.take_egg_state))].CumulativeEggsDrawingTimes,this.take_egg_state==r.Odinary){this.node.getChildByName("takeEggBg").getComponent(cc.Sprite).spriteFrame=this.take_egg_ui.getSpriteFrame("Hatch_Bg_0"),a.getChildByName("ordinaryWishingBtn").getComponent(cc.Sprite).spriteFrame=this.take_egg_ui.getSpriteFrame("Hatch_Btn_Tab_0"),a.getChildByName("premiumWishingBtn").getComponent(cc.Sprite).spriteFrame=this.take_egg_ui.getSpriteFrame("Hatch_Btn_Tab_1_1");var _=a.getChildByName("ordinaryWishing"),I=a.getChildByName("premiumWishing");_.color=cc.color(168,179,200),_.getComponent(cc.LabelOutline).color=cc.color(28,36,54),I.color=cc.color(126,135,151),I.getComponent(cc.LabelOutline).color=cc.color(20,26,39)}else this.node.getChildByName("takeEggBg").getComponent(cc.Sprite).spriteFrame=this.take_egg_ui.getSpriteFrame("Hatch_Bg_1"),a.getChildByName("ordinaryWishingBtn").getComponent(cc.Sprite).spriteFrame=this.take_egg_ui.getSpriteFrame("Hatch_Btn_Tab_0_1"),a.getChildByName("premiumWishingBtn").getComponent(cc.Sprite).spriteFrame=this.take_egg_ui.getSpriteFrame("Hatch_Btn_Tab_1"),_=a.getChildByName("ordinaryWishing"),(I=a.getChildByName("premiumWishing")).color=cc.color(168,179,200),I.getComponent(cc.LabelOutline).color=cc.color(28,36,54),_.color=cc.color(126,135,151),_.getComponent(cc.LabelOutline).color=cc.color(20,26,39)},t.prototype.onClickRewardBtn=function(e){if(void 0===e&&(e=!1),0==e){c.default.getInstance().sound_manager.playSound(I.SoundIndex.click);var t=l.EggCumulativeManager.getInstance().getTakeEggRewardList(this.take_egg_state);if(Number(cc.sys.localStorage.getItem("NowTakeEggCumulativeNum"+this.take_egg_state))>=t[Number(cc.sys.localStorage.getItem("TakeEggCumulativeRewardIndex"+this.take_egg_state))].CumulativeEggsDrawingTimes){var a=Number(cc.sys.localStorage.getItem("NowTakeEggCumulativeNum"+this.take_egg_state))-t[Number(cc.sys.localStorage.getItem("TakeEggCumulativeRewardIndex"+this.take_egg_state))].CumulativeEggsDrawingTimes;cc.sys.localStorage.setItem("NowTakeEggCumulativeNum"+this.take_egg_state,a);var n=cc.sys.localStorage.getItem("TakeEggCumulativeRewardIndex"+this.take_egg_state)||-1;++n>=t.length&&(n=0),cc.sys.localStorage.setItem("TakeEggCumulativeRewardIndex"+this.take_egg_state,n);var o=c.default.getInstance(),i=y.PropManager.getInstance().createPropItem(t[n].ItemID,t[n].RewardNum);o.showGetTip(i),this.refreshUi()}}else{var s=l.EggCumulativeManager.getInstance().getTakeEggRewardList(r.Odinary),g=l.EggCumulativeManager.getInstance().getTakeEggRewardList(r.Premium),u=(o=c.default.getInstance(),null),p=null;Number(cc.sys.localStorage.getItem("NowTakeEggCumulativeNum"+r.Odinary)||0)>=s[Number(cc.sys.localStorage.getItem("TakeEggCumulativeRewardIndex"+r.Odinary)||0)].CumulativeEggsDrawingTimes&&(a=Number(cc.sys.localStorage.getItem("NowTakeEggCumulativeNum"+r.Odinary)||0)-s[Number(cc.sys.localStorage.getItem("TakeEggCumulativeRewardIndex"+r.Odinary)||0)].CumulativeEggsDrawingTimes,cc.sys.localStorage.setItem("NowTakeEggCumulativeNum"+r.Odinary,a),n=cc.sys.localStorage.getItem("TakeEggCumulativeRewardIndex"+r.Odinary)||0,++n>=s.length&&(n=0),cc.sys.localStorage.setItem("TakeEggCumulativeRewardIndex"+r.Odinary,n),u=y.PropManager.getInstance().createPropItem(s[n].ItemID,s[n].RewardNum),y.PropManager.getInstance().setPropNum(s[n].ItemID,s[n].RewardNum)),Number(cc.sys.localStorage.getItem("NowTakeEggCumulativeNum"+r.Premium)||0)>=g[Number(cc.sys.localStorage.getItem("TakeEggCumulativeRewardIndex"+r.Premium)||0)].CumulativeEggsDrawingTimes&&(a=Number(cc.sys.localStorage.getItem("NowTakeEggCumulativeNum"+r.Premium)||0)-g[Number(cc.sys.localStorage.getItem("TakeEggCumulativeRewardIndex"+r.Premium)||0)].CumulativeEggsDrawingTimes,cc.sys.localStorage.setItem("NowTakeEggCumulativeNum"+r.Premium,a),n=cc.sys.localStorage.getItem("TakeEggCumulativeRewardIndex"+r.Premium)||0,++n>=g.length&&(n=0),cc.sys.localStorage.setItem("TakeEggCumulativeRewardIndex"+r.Premium,n),p=y.PropManager.getInstance().createPropItem(g[n].ItemID,g[n].RewardNum),y.PropManager.getInstance().setPropNum(g[n].ItemID,g[n].RewardNum)),null!=u&&null!=p?o.showMultipleGetTip([u,p]):(null!=u&&o.showGetTip(u),null!=p&&o.showGetTip(p)),this.refreshUi()}},t.prototype.ondClickTypeBtn=function(e,t){c.default.getInstance().sound_manager.playSound(I.SoundIndex.click),t=Number(t),this.take_egg_state=t,this.refreshUi()},t.prototype.checkCanWishing=function(e){var t=y.PropManager.getInstance(),a=S.EggInformationManager.getInstance();return 1==e?this.take_egg_state==r.Odinary?t.getPropNum(a.getEggPropID_1(this.getTakeEggSpendId(this.take_egg_state)))>=a.getEggPropNum_1(this.getTakeEggSpendId(this.take_egg_state))?(t.changePropNum(a.getEggPropID_1(this.getTakeEggSpendId(this.take_egg_state)),-a.getEggPropNum_1(this.getTakeEggSpendId(this.take_egg_state))),d.default.getInstance().addTotal(p.Follow_Type.\u8bb0\u5f55\u666e\u901a\u5f00\u86cb\u6d88\u8017\u7684\u666e\u901a\u5ba0\u7269\u86cb\u6570\u91cf,a.getEggPropNum_1(this.getTakeEggSpendId(this.take_egg_state))),!0):t.getPropNum(a.getEggPropID_2(this.getTakeEggSpendId(this.take_egg_state)))>=a.getEggPropNum_2(this.getTakeEggSpendId(this.take_egg_state))&&(t.changePropNum(a.getEggPropID_2(this.getTakeEggSpendId(this.take_egg_state)),-a.getEggPropNum_2(this.getTakeEggSpendId(this.take_egg_state))),d.default.getInstance().addTotal(p.Follow_Type.\u8bb0\u5f55\u666e\u901a\u5f00\u86cb\u6d88\u8017\u7684\u9f99\u6676\u6570\u91cf,a.getEggPropNum_2(this.getTakeEggSpendId(this.take_egg_state))),!0):t.getPropNum(a.getEggPropID_1(this.getTakeEggSpendId(this.take_egg_state)))>=a.getEggPropNum_1(this.getTakeEggSpendId(this.take_egg_state))?(t.changePropNum(a.getEggPropID_1(this.getTakeEggSpendId(this.take_egg_state)),-a.getEggPropNum_1(this.getTakeEggSpendId(this.take_egg_state))),d.default.getInstance().addTotal(p.Follow_Type.\u8bb0\u5f55\u9ad8\u7ea7\u5f00\u86cb\u6d88\u8017\u7684\u9ad8\u7ea7\u5ba0\u7269\u86cb\u6570\u91cf,a.getEggPropNum_1(this.getTakeEggSpendId(this.take_egg_state))),!0):t.getPropNum(a.getEggPropID_2(this.getTakeEggSpendId(this.take_egg_state)))>=a.getEggPropNum_2(this.getTakeEggSpendId(this.take_egg_state))&&(t.changePropNum(a.getEggPropID_2(this.getTakeEggSpendId(this.take_egg_state)),-a.getEggPropNum_2(this.getTakeEggSpendId(this.take_egg_state))),d.default.getInstance().addTotal(p.Follow_Type.\u8bb0\u5f55\u9ad8\u7ea7\u5f00\u86cb\u6d88\u8017\u7684\u9f99\u6676\u6570\u91cf,a.getEggPropNum_2(this.getTakeEggSpendId(this.take_egg_state))),!0):this.take_egg_state==r.Odinary?t.getPropNum(a.getEggPropID_1(this.getTakeEggSpendId(this.take_egg_state)))>=a.getTenEggProp_1(this.getTakeEggSpendId(this.take_egg_state))?(t.changePropNum(a.getEggPropID_1(this.getTakeEggSpendId(this.take_egg_state)),-a.getTenEggProp_1(this.getTakeEggSpendId(this.take_egg_state))),d.default.getInstance().addTotal(p.Follow_Type.\u8bb0\u5f55\u666e\u901a\u5f00\u86cb\u6d88\u8017\u7684\u666e\u901a\u5ba0\u7269\u86cb\u6570\u91cf,a.getTenEggProp_1(this.getTakeEggSpendId(this.take_egg_state))),!0):t.getPropNum(a.getEggPropID_2(this.getTakeEggSpendId(this.take_egg_state)))>=a.getTenEggProp_2(this.getTakeEggSpendId(this.take_egg_state))&&(t.changePropNum(a.getEggPropID_2(this.getTakeEggSpendId(this.take_egg_state)),-a.getTenEggProp_2(this.getTakeEggSpendId(this.take_egg_state))),d.default.getInstance().addTotal(p.Follow_Type.\u8bb0\u5f55\u666e\u901a\u5f00\u86cb\u6d88\u8017\u7684\u9f99\u6676\u6570\u91cf,a.getTenEggProp_2(this.getTakeEggSpendId(this.take_egg_state))),!0):t.getPropNum(a.getEggPropID_1(this.getTakeEggSpendId(this.take_egg_state)))>=a.getTenEggProp_1(this.getTakeEggSpendId(this.take_egg_state))?(t.changePropNum(a.getEggPropID_1(this.getTakeEggSpendId(this.take_egg_state)),-a.getTenEggProp_1(this.getTakeEggSpendId(this.take_egg_state))),d.default.getInstance().addTotal(p.Follow_Type.\u8bb0\u5f55\u9ad8\u7ea7\u5f00\u86cb\u6d88\u8017\u7684\u9ad8\u7ea7\u5ba0\u7269\u86cb\u6570\u91cf,a.getTenEggProp_1(this.getTakeEggSpendId(this.take_egg_state))),!0):t.getPropNum(a.getEggPropID_2(this.getTakeEggSpendId(this.take_egg_state)))>=a.getTenEggProp_2(this.getTakeEggSpendId(this.take_egg_state))&&(t.changePropNum(a.getEggPropID_2(this.getTakeEggSpendId(this.take_egg_state)),-a.getTenEggProp_2(this.getTakeEggSpendId(this.take_egg_state))),d.default.getInstance().addTotal(p.Follow_Type.\u8bb0\u5f55\u9ad8\u7ea7\u5f00\u86cb\u6d88\u8017\u7684\u9f99\u6676\u6570\u91cf,a.getTenEggProp_2(this.getTakeEggSpendId(this.take_egg_state))),!0)},t.prototype.onClickWishingBtn=function(e,t){var a=this;if(1==(t=Number(t)))if(1==Number(cc.sys.localStorage.getItem("TakeEggFree"+this.take_egg_state))){if(0==this.checkCanWishing(t))return;cc.sys.localStorage.setItem("NowTakeEggCumulativeNum"+this.take_egg_state,Number(cc.sys.localStorage.getItem("NowTakeEggCumulativeNum"+this.take_egg_state))+1)}else{var n=new Date;cc.sys.localStorage.setItem("NowTakeEggCumulativeNum"+this.take_egg_state,Number(cc.sys.localStorage.getItem("NowTakeEggCumulativeNum"+this.take_egg_state))+1),cc.sys.localStorage.setItem("TakeEggFree"+this.take_egg_state,1),cc.sys.localStorage.setItem("TakeEggFreeTime"+this.take_egg_state,n.getTime())}else{if(0==this.checkCanWishing(t))return;cc.sys.localStorage.setItem("NowTakeEggCumulativeNum"+this.take_egg_state,Number(cc.sys.localStorage.getItem("NowTakeEggCumulativeNum"+this.take_egg_state))+10)}var o=[];if(1==t){this.take_egg_state==r.Odinary?d.default.getInstance().followEvent(p.Follow_Type.\u8bb0\u5f55\u5355\u6b21\u666e\u901a\u5f00\u86cb\u7684\u6b21\u6570):d.default.getInstance().followEvent(p.Follow_Type.\u8bb0\u5f55\u5355\u6b21\u9ad8\u7ea7\u5f00\u86cb\u7684\u6b21\u6570);var i=S.EggInformationManager.getInstance().getEggsReward(this.getTakeEggSpendId(this.take_egg_state)),s=u.JackpotCollectionManager.getInstance().getJackpotIdByJCId(i);o.push(g.JackpotManager.getInstance().getRewardDataById(s))}else{this.take_egg_state==r.Odinary?d.default.getInstance().followEvent(p.Follow_Type.\u8bb0\u5f55\u5341\u8fde\u666e\u901a\u5f00\u86cb\u7684\u6b21\u6570):d.default.getInstance().followEvent(p.Follow_Type.\u8bb0\u5f55\u5341\u8fde\u9ad8\u7ea7\u5f00\u86cb\u7684\u6b21\u6570);for(var l=0;l<10;l++)i=S.EggInformationManager.getInstance().getEggsReward(this.getTakeEggSpendId(this.take_egg_state)),s=u.JackpotCollectionManager.getInstance().getJackpotIdByJCId(i),o.push(g.JackpotManager.getInstance().getRewardDataById(s));var h=0,f=10;for(l=0;l<o.length;l++)_.ItemManager.getInstance().getQuality(o[l].reward_id)<f&&(f=_.ItemManager.getInstance().getQuality(o[l].reward_id),h=l);if(this.take_egg_state==r.Odinary){var m=g.JackpotManager.getInstance().getRewardDataById(30002);o[h]=m}else m=g.JackpotManager.getInstance().getRewardDataById(30003),o[h]=m}var y=1;for(this.pet_reward_list=[],l=0;l<o.length;l++)_.ItemManager.getInstance().getQuality(o[l].reward_id)>y&&(y=_.ItemManager.getInstance().getQuality(o[l].reward_id));var v=this.node.getChildByName("Hatch_Bg_2");v.active=!0;var M,C=v.children[0];this.isPlay=!0,M=1==t?C.getComponent(sp.Skeleton).setAnimation(0,this.animation_name[y-1],!1):C.getComponent(sp.Skeleton).setAnimation(0,this.animation_name[y-1+4],!1),C.getComponent(sp.Skeleton).setTrackEventListener(M,function(e,t){"OpenEgg"==t.data.name&&a.onShowLight()}),c.default.getInstance().sound_manager.playSound(I.SoundIndex.YX_KaiDan1),this.refreshUi()},t.prototype.onShowLight=function(){var e=this,t=this.node.getChildByName("Hatch_Bg_2");c.default.getInstance().sound_manager.playSound(I.SoundIndex.YX_Kaidan2),t.children[1].active=!0,cc.tween(t.children[1]).to(.5,{opacity:255}).to(.5,{opacity:0}).call(function(){t.children[1].active=!1,e.showGet()}).start()},t.prototype.showGet=function(){for(var e=this,t=[],a=0;a<this.pet_reward_list.length;a++){var n=cc.instantiate(this.pet_icon);n.getComponent(f.default).init(this.pet_reward_list[a]),t.push(n)}t.length>1?c.default.getInstance().showMultipleGetTip(t,function(){e.isPlay=!1,e.onClickTakeEggBg(),e.onClickRewardBtn(!0)}.bind(this)):c.default.getInstance().showGetTip(t[0],function(){e.isPlay=!1,e.onClickTakeEggBg(),e.onClickRewardBtn(!0)}.bind(this))},t.prototype.onClickTakeEggBg=function(){0==this.isPlay&&(this.node.getChildByName("Hatch_Bg_2").active=!1)},t.prototype.onClickTipBtn=function(){this.getTakeEggSpendId(this.take_egg_state),C.UIManager.getInstance().showUiDialog(P.UIPath.WishingTips,P.UILayerLevel.Two,{onCompleted:function(){}})},t.prototype.onClickCumulativeTipBtn=function(){var e=this;if(1!=this.show_cumulative_tip){this.show_cumulative_tip=!0;var t=this.node.getChildByName("top").getChildByName("cumulativeTipsLabel"),a=this.node.getChildByName("top").getChildByName("cumulativeTips");t.active=!0,a.active=!0,this.scheduleOnce(function(){t.active=!1,a.active=!1,e.show_cumulative_tip=!1},2)}},t.prototype.getTakeEggSpendId=function(e){return 1e4*e+1},t.prototype.clickBtnClose=function(){c.default.getInstance().sound_manager.playSound(I.SoundIndex.click),this.destroySelf()},t.prototype.destroySelf=function(){e.prototype.onClose.call(this),s.default.getInstance().closeBanner()},i([T(cc.SpriteAtlas)],t.prototype,"take_egg_ui",void 0),i([T(cc.SpriteAtlas)],t.prototype,"wishing_ui",void 0),i([T(cc.Prefab)],t.prototype,"pet_icon",void 0),i([T([cc.String])],t.prototype,"animation_name",void 0),i([b],t)}(M.default);a.default=B,cc._RF.pop()},{"../Ads/ApkManager":"ApkManager","../GameManager":"GameManager","../JsonData/Jackpot":"Jackpot","../JsonData/JackpotCollection":"JackpotCollection","../Pet/Ui/BtnPet":"BtnPet","../Prop/Data/Item":"Item","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../Tools/MyTool":"MyTool","../UI/UIComponent":"UIComponent","../UI/UIConfig":"UIConfig","../UI/UIManager":"UIManager","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/LanguageManager":"LanguageManager","./EggCumulative":"EggCumulative","./EggInformation":"EggInformation"}],TargetData:[function(e,t,a){"use strict";cc._RF.push(t,"168deaaxPdOnJe0aAOBa5KO","TargetData");var n=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("./Game/HeroConfig"),i=cc._decorator,r=i.ccclass,s=(i.property,function(){function e(){this.enemy_node=null,this.target_fangxiang=o.GongJi_FangXiang.zhong}return n([r],e)}());a.default=s,cc._RF.pop()},{"./Game/HeroConfig":"HeroConfig"}],TaskEnum:[function(e,t,a){"use strict";cc._RF.push(t,"418ebeKsYRBgbbVD91Eepd4","TaskEnum"),Object.defineProperty(a,"__esModule",{value:!0}),a.TaskState=a.TaskItem=void 0,function(e){e[e["\u5347\u7ea71\u6b21\u82f1\u96c4"]=11001]="\u5347\u7ea71\u6b21\u82f1\u96c4",e[e["\u5347\u661f1\u6b21\u82f1\u96c4"]=12001]="\u5347\u661f1\u6b21\u82f1\u96c4",e[e["\u5347\u7ea71\u6b21\u88c5\u5907"]=13001]="\u5347\u7ea71\u6b21\u88c5\u5907",e[e["\u5347\u7ea71\u6b21\u88c5\u5907\u54c1\u7ea7"]=14001]="\u5347\u7ea71\u6b21\u88c5\u5907\u54c1\u7ea7",e[e["\u5347\u7ea71\u6b21\u5ba0\u7269"]=15001]="\u5347\u7ea71\u6b21\u5ba0\u7269",e[e["\u5347\u7ea71\u6b21\u4e13\u6b66"]=16001]="\u5347\u7ea71\u6b21\u4e13\u6b66",e[e["\u6311\u62181\u6b21\u5173\u5361"]=21001]="\u6311\u62181\u6b21\u5173\u5361",e[e["\u6311\u62181\u6b21\u65e0\u5c3d\u6311\u6218"]=22001]="\u6311\u62181\u6b21\u65e0\u5c3d\u6311\u6218",e[e["\u6311\u62181\u6b21BOSS\u72e9\u730e"]=23001]="\u6311\u62181\u6b21BOSS\u72e9\u730e",e[e["\u6311\u62181\u6b21\u722c\u5854"]=24001]="\u6311\u62181\u6b21\u722c\u5854",e[e["\u6311\u62181\u6b21\u51b0\u6cb3\u63a2\u9669"]=25001]="\u6311\u62181\u6b21\u51b0\u6cb3\u63a2\u9669",e[e["\u6311\u62183\u6b21\u5173\u5361"]=21002]="\u6311\u62183\u6b21\u5173\u5361",e[e["\u6311\u62183\u6b21\u65e0\u5c3d\u6311\u6218"]=22002]="\u6311\u62183\u6b21\u65e0\u5c3d\u6311\u6218",e[e["\u6311\u62183\u6b21BOSS\u72e9\u730e"]=23002]="\u6311\u62183\u6b21BOSS\u72e9\u730e",e[e["\u6311\u62183\u6b21\u722c\u5854"]=24002]="\u6311\u62183\u6b21\u722c\u5854",e[e["\u8fdb\u884c1\u6b21\u5f00\u542f\u88c5\u5907"]=31001]="\u8fdb\u884c1\u6b21\u5f00\u542f\u88c5\u5907",e[e["\u8fdb\u884c10\u6b21\u5f00\u542f\u88c5\u5907"]=31002]="\u8fdb\u884c10\u6b21\u5f00\u542f\u88c5\u5907",e[e["\u8fdb\u884c1\u6b21\u5ba0\u7269\u62db\u52df"]=32001]="\u8fdb\u884c1\u6b21\u5ba0\u7269\u62db\u52df",e[e["\u8fdb\u884c10\u6b21\u5ba0\u7269\u5b75\u5316"]=32002]="\u8fdb\u884c10\u6b21\u5ba0\u7269\u5b75\u5316",e[e["\u8fdb\u884c1\u6b21\u82f1\u96c4\u62db\u52df"]=33001]="\u8fdb\u884c1\u6b21\u82f1\u96c4\u62db\u52df",e[e["\u8fdb\u884c10\u6b21\u82f1\u96c4\u62db\u52df"]=33002]="\u8fdb\u884c10\u6b21\u82f1\u96c4\u62db\u52df",e[e["\u5546\u5e97\u4e2d\u8d2d\u4e70\u7269\u54c11\u6b21"]=34001]="\u5546\u5e97\u4e2d\u8d2d\u4e70\u7269\u54c11\u6b21",e[e["\u8d2d\u4e701\u6b21\u5546\u5e97\u4e2d\u7684\u91d1\u5e01"]=35001]="\u8d2d\u4e701\u6b21\u5546\u5e97\u4e2d\u7684\u91d1\u5e01",e[e["\u767b\u5f55\u6e38\u620f1\u6b21"]=41001]="\u767b\u5f55\u6e38\u620f1\u6b21",e[e["\u9886\u53d6\u6302\u673a\u5956\u52b12\u6b21"]=42001]="\u9886\u53d6\u6302\u673a\u5956\u52b12\u6b21",e[e["\u9886\u53d6\u5feb\u901f\u6302\u673a1\u6b21"]=43001]="\u9886\u53d6\u5feb\u901f\u6302\u673a1\u6b21",e[e["\u89c2\u770b\u4efb\u610f1\u6b21\u5e7f\u544a"]=44001]="\u89c2\u770b\u4efb\u610f1\u6b21\u5e7f\u544a",e[e["\u89c2\u770b\u4efb\u610f3\u6b21\u5e7f\u544a"]=44002]="\u89c2\u770b\u4efb\u610f3\u6b21\u5e7f\u544a",e[e["\u8f6c\u52a8\u8f6c\u76d81\u6b21"]=45001]="\u8f6c\u52a8\u8f6c\u76d81\u6b21",e[e["\u901a\u5173X"]=10000001]="\u901a\u5173X",e[e["\u91ca\u653eX\u6b21\u4eba\u7269\u6280\u80fd"]=20000001]="\u91ca\u653eX\u6b21\u4eba\u7269\u6280\u80fd",e[e["\u4e0a\u9635X\u540d\u82f1\u96c4"]=30000001]="\u4e0a\u9635X\u540d\u82f1\u96c4",e[e["\u62db\u52dfX\u6b21\u82f1\u96c4"]=40000001]="\u62db\u52dfX\u6b21\u82f1\u96c4",e[e["\u5c06\u4efb\u610fX\u540d\u82f1\u96c4\u5347\u523010\u7ea7"]=50000001]="\u5c06\u4efb\u610fX\u540d\u82f1\u96c4\u5347\u523010\u7ea7",e[e["\u4e3a\u4efb\u610fX\u540d\u82f1\u96c4\u7a7f\u62341\u4ef6\u88c5\u5907"]=60000001]="\u4e3a\u4efb\u610fX\u540d\u82f1\u96c4\u7a7f\u62341\u4ef6\u88c5\u5907",e[e["\u5c06\u70ae\u624b\u5347\u81f31\u5927\u661f"]=70000001]="\u5c06\u70ae\u624b\u5347\u81f31\u5927\u661f",e[e["\u5b8c\u6210X\u6b21\u6bcf\u65e5\u4efb\u52a1"]=80000001]="\u5b8c\u6210X\u6b21\u6bcf\u65e5\u4efb\u52a1",e[e["\u5b8c\u6210X\u6b21\u6210\u5c31\u4efb\u52a1"]=90000001]="\u5b8c\u6210X\u6b21\u6210\u5c31\u4efb\u52a1",e[e["\u524d\u5f80\u5546\u57ce\u8d2d\u4e70X\u6b21\u5546\u54c1"]=100000001]="\u524d\u5f80\u5546\u57ce\u8d2d\u4e70X\u6b21\u5546\u54c1",e[e["\u524d\u5f80\u5546\u57ce\u5b75\u5316X\u6b21\u5ba0\u7269"]=110000001]="\u524d\u5f80\u5546\u57ce\u5b75\u5316X\u6b21\u5ba0\u7269",e[e["\u5408\u6210X\u6b21\u88c5\u5907"]=120000001]="\u5408\u6210X\u6b21\u88c5\u5907",e[e["\u767b\u5f55X\u6b21\u6e38\u620f"]=130000001]="\u767b\u5f55X\u6b21\u6e38\u620f",e[e["\u8f6c\u76d8X\u6b21"]=140000001]="\u8f6c\u76d8X\u6b21",e[e["\u5347\u7ea7X\u6b21\u7075\u5ba0"]=150000001]="\u5347\u7ea7X\u6b21\u7075\u5ba0",e[e["\u6311\u6218X\u6b21\u65e0\u5c3d\u6311\u6218"]=160000001]="\u6311\u6218X\u6b21\u65e0\u5c3d\u6311\u6218",e[e["\u6311\u6218X\u6b21boss\u72e9\u730e"]=170000001]="\u6311\u6218X\u6b21boss\u72e9\u730e",e[e["\u8fdb\u884c\u8d26\u53f7\u7ed1\u5b9a"]=180000001]="\u8fdb\u884c\u8d26\u53f7\u7ed1\u5b9a",e[e["\u7d2f\u8ba1\u901a\u8fc7X\u5173"]=100001]="\u7d2f\u8ba1\u901a\u8fc7X\u5173",e[e["\u7d2f\u8ba11\u4e2a\u82f1\u96c4\u5347\u5230X\u7ea7"]=200001]="\u7d2f\u8ba11\u4e2a\u82f1\u96c4\u5347\u5230X\u7ea7",e[e["\u7d2f\u8ba1\u6536\u96c6X\u4e2a\u82f1\u96c4"]=300001]="\u7d2f\u8ba1\u6536\u96c6X\u4e2a\u82f1\u96c4",e[e["\u7d2f\u8ba11\u4e2a\u82f1\u96c4\u5347\u5230X\u661f"]=400001]="\u7d2f\u8ba11\u4e2a\u82f1\u96c4\u5347\u5230X\u661f",e[e["\u7d2f\u8ba1\u83b7\u5f97X\u4ef6\u88c5\u5907"]=500001]="\u7d2f\u8ba1\u83b7\u5f97X\u4ef6\u88c5\u5907",e[e["\u7d2f\u8ba1X\u4ef6\u88c5\u5907\u5230\u8fbe\u54c1\u8d286"]=600001]="\u7d2f\u8ba1X\u4ef6\u88c5\u5907\u5230\u8fbe\u54c1\u8d286",e[e["\u7d2f\u8ba1\u62db\u52dfX\u4e2a\u82f1\u96c4"]=700001]="\u7d2f\u8ba1\u62db\u52dfX\u4e2a\u82f1\u96c4",e[e["\u901a\u8fc7\u7b2cX\u7ae0"]=800001]="\u901a\u8fc7\u7b2cX\u7ae0",e[e["\u7d2f\u8ba1\u767b\u5f55X\u5929"]=900001]="\u7d2f\u8ba1\u767b\u5f55X\u5929",e[e["\u7d2f\u8ba1\u5b75\u5316\u7075\u5ba0\u86cbX\u6b21"]=1000001]="\u7d2f\u8ba1\u5b75\u5316\u7075\u5ba0\u86cbX\u6b21",e[e["\u7d2f\u8ba1\u5c06X\u53ea\u5ba0\u7269\u5347\u81f3\u6700\u9ad8\u54c1\u8d28"]=1100001]="\u7d2f\u8ba1\u5c06X\u53ea\u5ba0\u7269\u5347\u81f3\u6700\u9ad8\u54c1\u8d28",e[e["\u65e0\u5c3d\u6311\u6218\u5206\u6570\u5230\u8fbeX\u6ce2\u6b21"]=1200001]="\u65e0\u5c3d\u6311\u6218\u5206\u6570\u5230\u8fbeX\u6ce2\u6b21",e[e["boss\u72e9\u730e\u5206\u6570\u5230\u8fbeX\u4f24\u5bb3"]=1300001]="boss\u72e9\u730e\u5206\u6570\u5230\u8fbeX\u4f24\u5bb3",e[e["\u865a\u7a7a\u63a2\u9669\u901a\u8fc7\u7b2cX\u7ae0"]=1400002]="\u865a\u7a7a\u63a2\u9669\u901a\u8fc7\u7b2cX\u7ae0"}(a.TaskItem||(a.TaskItem={})),function(e){e[e.Ongoing=0]="Ongoing",e[e.Completed=1]="Completed",e[e.Received=2]="Received"}(a.TaskState||(a.TaskState={})),cc._RF.pop()},{}],TaskInformation:[function(e,t,a){"use strict";cc._RF.push(t,"97dc45oqjJEGZdEHKS8O5uO","TaskInformation"),Object.defineProperty(a,"__esModule",{value:!0}),a.TaskInformationManager=a.JsonTaskInformation=void 0;var n=e("../.././NetWork/HttpManager"),o=e("../../Level/LevelManager"),i=e("../../Loading/LoadManager"),r=e("../../Storage/StorageConfig"),s=e("../../Storage/StorageManager"),c=e("../../Tools/MyTool"),l=e("../../UserData"),g=e("../../UserInfo/UserInfo"),u=function(){this.TaskID=0,this.TaskType=0,this.Unlocklevel=0,this.TaskDescription=0,this.TaskParameters=0,this.RewardPropID=0,this.RewardPropNum=0,this.weights=0};a.JsonTaskInformation=u;var p=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;i.LoadManager.loadJson("TaskInformation",i.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonTaskInformation\u6210\u529f"),e.data=new Map;for(var n=a.json,o=0;o<n.length;o++){var i=new u;i=n[o],e.data.set(i.TaskID,i)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonTaskInformation=function(e){return this.data.get(e)},e.prototype.getTaskType=function(e){return this.data.get(e).TaskType},e.prototype.getUnlocklevel=function(e){return this.data.get(e).Unlocklevel},e.prototype.getTaskDescription=function(e){return this.data.get(e).TaskDescription},e.prototype.getTaskParameters=function(e){return this.data.get(e).TaskParameters},e.prototype.getRewardPropID=function(e){return this.data.get(e).RewardPropID},e.prototype.getRewardPropNum=function(e){return this.data.get(e).RewardPropNum},e.prototype.getweights=function(e){return this.data.get(e).weights},e.getMaxTaskID=function(){return 44004},e.prototype.getUnlockJsonData=function(){var e=[],t=o.LevelManager.getInstance().finish_level;return this.data.forEach(function(a){a.Unlocklevel<=t&&e.push(a)}),e},e.prototype.getDailyTaskData=function(){var e=[];if(0==g.UserInfo.getInstance().dailyTaskList.length){for(var t=[],a=this.getUnlockJsonData(),n=0;n<a.length;n++)t.push(a[n].weights);var o=c.default.getWeightIndexs(t,12);for(n=0;n<o.length;n++)e.push(a[o[n]]),s.TheStorageManager.getInstance().setItem(r.StorageKey.TaskId+n,a[o[n]].TaskID),s.TheStorageManager.getInstance().setItem(r.StorageKey.TaskState+a[o[n]].TaskID,0),s.TheStorageManager.getInstance().setItem(r.StorageKey.TaskNum+a[o[n]].TaskID,0),this.reportDailyTask(a[o[n]].TaskID)}else for(n=0;n<12;n++)e.push(this.getJsonTaskInformation(s.TheStorageManager.getInstance().getNumber(r.StorageKey.TaskId+n)));return e},e.prototype.reportDailyTask=function(e){n.HttpManager.post(n.AccessName.saveGameAchievementTask,this.getTaskInfoJsonString(e))},e.prototype.getTaskInfoJsonString=function(e){var t=l.default.getInstance().getUserID(),a=g.UserInfo.getInstance().getNowDay();return JSON.stringify({uid:t,today:a,dimension:1,taskId:e,status:0,emit:0})},e._instance=null,e}();a.TaskInformationManager=p,cc._RF.pop()},{"../.././NetWork/HttpManager":"HttpManager","../../Level/LevelManager":"LevelManager","../../Loading/LoadManager":"LoadManager","../../Storage/StorageConfig":"StorageConfig","../../Storage/StorageManager":"StorageManager","../../Tools/MyTool":"MyTool","../../UserData":"UserData","../../UserInfo/UserInfo":"UserInfo"}],TaskItemUi:[function(e,t,a){"use strict";cc._RF.push(t,"8e468oEC5VMapCgo3V7/Gqd","TaskItemUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../multiLanguage/TextLanguage"),s=e("../Prop/Prop"),c=e("../Prop/PropConfig"),l=e("../Prop/PropManager"),g=e("../Storage/StorageConfig"),u=e("../Storage/StorageManager"),p=e("./Data/AchievenmentTask"),d=e("./Data/TaskInformation"),h=cc._decorator,f=h.ccclass,_=(h.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.call_back=null,t.message=null,t}return o(t,e),t.prototype.initGoingItem=function(e,t,a){void 0===a&&(a=!1),this.message=e,this.call_back=t;var n=this.node.getChildByName("root");n.opacity=255,this.node.getChildByName("over").active=!1,n.getChildByName("contentLabel").getComponent(r.default).setTextId(e.TaskDescription),n.getChildByName("contentLabel").getComponent(r.default).setReplaceValue("~",e.TaskParameters+"");var o=n.getChildByName("itemRoot").getChildByName("reward")||null;if(null==o?((o=l.PropManager.getInstance().createPropItem(e.RewardPropID,e.RewardPropNum)).name="reward",o.scale=.9,n.getChildByName("itemRoot").addChild(o)):o.getComponent(s.default).init(e.RewardPropID,e.RewardPropNum,c.PropAction.Look),a){n.getChildByName("progress1").active=!1,(f=n.getChildByName("progress2")).active=!0;var i=p.AchievenmentTaskManager.getInstance().getJsonAchievenmentTask(e.TaskID),h=u.TheStorageManager.getInstance().getNumber(g.StorageKey.TaskAchievementNum+i.AchievenmentTaskType,0);n.getChildByName("num").getComponent(cc.Label).string=h+"/"+i.TaskParameters,f.children[0].getComponent(cc.Sprite).fillRange=h/i.TaskParameters}else{var f=n.getChildByName("progress1");n.getChildByName("progress2").active=!1,f.active=!0,i=d.TaskInformationManager.getInstance().getJsonTaskInformation(e.TaskID),h=u.TheStorageManager.getInstance().getNumber(g.StorageKey.TaskNum+e.TaskID,0),n.getChildByName("num").getComponent(cc.Label).string=h+"/"+i.TaskParameters,f.children[0].getComponent(cc.Sprite).fillRange=h/i.TaskParameters}n.getChildByName("finishBtn").active=!1,n.getChildByName("goingBtn").active=!0},t.prototype.initFinishItem=function(e,t,a){void 0===a&&(a=!1),this.message=e,this.call_back=t;var n=this.node.getChildByName("root");n.opacity=255,this.node.getChildByName("over").active=!1,n.getChildByName("contentLabel").getComponent(r.default).setTextId(e.TaskDescription),n.getChildByName("contentLabel").getComponent(r.default).setReplaceValue("~",e.TaskParameters+"");var o=n.getChildByName("itemRoot").getChildByName("reward")||null;if(null==o?((o=l.PropManager.getInstance().createPropItem(e.RewardPropID,e.RewardPropNum)).name="reward",o.scale=.9,n.getChildByName("itemRoot").addChild(o)):o.getComponent(s.default).init(e.RewardPropID,e.RewardPropNum,c.PropAction.Look),a){n.getChildByName("progress1").active=!1,(f=n.getChildByName("progress2")).active=!0;var i=p.AchievenmentTaskManager.getInstance().getJsonAchievenmentTask(e.TaskID),h=u.TheStorageManager.getInstance().getNumber(g.StorageKey.TaskAchievementNum+i.AchievenmentTaskType,0);n.getChildByName("num").getComponent(cc.Label).string=h+"/"+i.TaskParameters,f.children[0].getComponent(cc.Sprite).fillRange=h/i.TaskParameters}else{var f=n.getChildByName("progress1");n.getChildByName("progress2").active=!1,f.active=!0,i=d.TaskInformationManager.getInstance().getJsonTaskInformation(e.TaskID),h=u.TheStorageManager.getInstance().getNumber(g.StorageKey.TaskNum+e.TaskID,0),n.getChildByName("num").getComponent(cc.Label).string=i.TaskParameters+"/"+i.TaskParameters,f.children[0].getComponent(cc.Sprite).fillRange=i.TaskParameters/i.TaskParameters}n.getChildByName("finishBtn").active=!0,n.getChildByName("goingBtn").active=!1},t.prototype.initReceivedItem=function(e,t){void 0===t&&(t=!1),this.message=e;var a=this.node.getChildByName("root");a.opacity=180,this.node.getChildByName("over").active=!0,a.getChildByName("contentLabel").getComponent(r.default).setTextId(e.TaskDescription),a.getChildByName("contentLabel").getComponent(r.default).setReplaceValue("~",e.TaskParameters+"");var n=a.getChildByName("itemRoot").getChildByName("reward")||null;if(null==n?((n=l.PropManager.getInstance().createPropItem(e.RewardPropID,e.RewardPropNum)).name="reward",n.scale=.9,a.getChildByName("itemRoot").addChild(n)):n.getComponent(s.default).init(e.RewardPropID,e.RewardPropNum,c.PropAction.Look),t){a.getChildByName("progress1").active=!1,(h=a.getChildByName("progress2")).active=!0;var o=p.AchievenmentTaskManager.getInstance().getJsonAchievenmentTask(e.TaskID),i=u.TheStorageManager.getInstance().getNumber(g.StorageKey.TaskAchievementNum+o.AchievenmentTaskType,0);a.getChildByName("num").getComponent(cc.Label).string=i+"/"+o.TaskParameters,h.children[0].getComponent(cc.Sprite).fillRange=i/o.TaskParameters}else{var h=a.getChildByName("progress1");a.getChildByName("progress2").active=!1,h.active=!0,o=d.TaskInformationManager.getInstance().getJsonTaskInformation(e.TaskID),i=u.TheStorageManager.getInstance().getNumber(g.StorageKey.TaskNum+e.TaskID,0),a.getChildByName("num").getComponent(cc.Label).string=o.TaskParameters+"/"+o.TaskParameters,h.children[0].getComponent(cc.Sprite).fillRange=o.TaskParameters/o.TaskParameters}a.getChildByName("finishBtn").active=!1,a.getChildByName("goingBtn").active=!1},t.prototype.onClickBtn=function(){this.call_back()},i([f],t)}(cc.Component));a.default=_,cc._RF.pop()},{"../Prop/Prop":"Prop","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","../Storage/StorageConfig":"StorageConfig","../Storage/StorageManager":"StorageManager","../multiLanguage/TextLanguage":"TextLanguage","./Data/AchievenmentTask":"AchievenmentTask","./Data/TaskInformation":"TaskInformation"}],TaskMainItemUi:[function(e,t,a){"use strict";cc._RF.push(t,"6646dqq97lG85yrdb/0c6Ny","TaskMainItemUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.call_back=null,t.message=null,t}return o(t,e),t.prototype.initGoingItem=function(){},t.prototype.initFinishItem=function(){},t.prototype.onClickBtn=function(){},i([s],t)}(cc.Component));a.default=c,cc._RF.pop()},{}],TaskManager:[function(e,t,a){"use strict";cc._RF.push(t,"dace8ZNkz5PzKmbxNSuCGHE","TaskManager");var n=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("./Data/TaskInformation"),i=e("./Data/ThreadTaskInformation"),r=e("./TaskEnum"),s=e("../Storage/StorageConfig"),c=e("../Storage/StorageManager"),l=e("./Data/AchievenmentTask"),g=e("../Tools/EventManager"),u=e("./Data/AccumulatedInformation"),p=e(".././NetWork/HttpManager"),d=e("../UserInfo/UserInfo"),h=e("../UserData"),f=cc._decorator,_=f.ccclass,m=(f.property,function(){function e(){this.daily_task_list=null,this.main_task_data=null,this.achievement_task_list=null}var t;return t=e,e.getInstance=function(){return null==this._instance&&(this._instance=new t,this._instance.init()),this._instance},e.prototype.init=function(){var e=this;this.daily_task_list=o.TaskInformationManager.getInstance().getDailyTaskData(),this.main_task_data=i.ThreadTaskInformationManager.getInstance().getMainTaskData(),this.achievement_task_list=l.AchievenmentTaskManager.getInstance().getAchievenmentTaskData(),this.daily_task_list.forEach(function(t){null!=t&&e.checkTask(t.TaskID)}),this.achievement_task_list.forEach(function(t){null!=t&&e.checkTask(t.TaskID)})},e.prototype.getDailyTaskIsCanGet=function(){for(var e=this.daily_task_list,t=0;t<e.length;t++)if(1==c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskState+e[t].TaskID,0))return!0;var a=c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskWeekActivityNum,0),n=c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskDailyActivityNum,0),o=u.AccumulatedInformationManager.getInstance().getRewardByTaskType(2),i=u.AccumulatedInformationManager.getInstance().getRewardByTaskType(1),r=!1;return o.forEach(function(e){0==r&&a>=e.AccumulatedPoints&&0==c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskWeeklyActivityState+e.AccumulatedPoints,0)&&(r=!0)}),0==r&&i.forEach(function(e){0==r&&n>=e.AccumulatedPoints&&0==c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskDailyActivityState+e.AccumulatedPoints,0)&&(r=!0)}),r},e.prototype.getMainTaskIsCanGet=function(){return 1==c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskState+this.main_task_data.ThreadTaskID,0)},e.prototype.getAchievenmentTaskIsCanGet=function(){for(var e=this.achievement_task_list,t=0;t<e.length;t++)if(null!=e[t]&&1==c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskState+e[t].TaskID,0))return!0;return!1},e.prototype.getDailyTaskList=function(){return this.daily_task_list},e.prototype.getMainTaskData=function(){return this.main_task_data},e.prototype.getAchievementTaskData=function(){return this.achievement_task_list},e.prototype.emitTask=function(e){if(e<1e5){var t=c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskNum+e,0);t++,c.TheStorageManager.getInstance().setItem(s.StorageKey.TaskNum+e,t),p.HttpManager.post(p.AccessName.changeGameAchievementTask,this.getChangeDailyTaskInfoEmitJsonString(e,t)),t>=o.TaskInformationManager.getInstance().getJsonTaskInformation(e).TaskParameters&&0==c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskState+e,0)&&(c.TheStorageManager.getInstance().setItem(s.StorageKey.TaskState+e,1),p.HttpManager.post(p.AccessName.changeGameAchievementTask,this.getChangeDailyTaskInfoStatusJsonString(e,1))),g.EventManager.postRedEvent(g.RedEventString.RED_CHECK,g.RedEventType.Btn_Task_Daily)}else if(e<1e6){var a=Math.floor(e/1e5);if(null==(n=l.AchievenmentTaskManager.getInstance().getAchievenmentTaskDataByTypeAndIndex(a,c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskAchievementIndex+a,0)+1)))return;t=c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskAchievementNum+n.AchievenmentTaskType,0),t++,c.TheStorageManager.getInstance().setItem(s.StorageKey.TaskAchievementNum+n.AchievenmentTaskType,t),p.HttpManager.post(p.AccessName.changeGameAchievementTask,this.getChangeAchievementTaskInfoEmitJsonString(a,t)),t>=n.TaskParameters&&0==c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskState+n.TaskID,0)&&(c.TheStorageManager.getInstance().setItem(s.StorageKey.TaskState+n.TaskID,1),p.HttpManager.post(p.AccessName.changeGameAchievementTask,this.getChangeAchievementTaskInfoStatusJsonString(a,1))),g.EventManager.postRedEvent(g.RedEventString.RED_CHECK,g.RedEventType.Btn_Task_Achievenment)}else{var n;if(a=Math.floor(e/1e7),null==(n=i.ThreadTaskInformationManager.getInstance().getMainTaskDataByTypeAndIndex(a,c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskMainIndex+a,0)+1)))return;t=c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskMainNum+n.TaskType,0),t++,c.TheStorageManager.getInstance().setItem(s.StorageKey.TaskMainNum+n.TaskType,t),p.HttpManager.post(p.AccessName.changeGameAchievementTask,this.getChangeMainTaskInfoEmitJsonString(n.TaskType,t)),t>=n.TaskParameters&&0==c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskState+n.ThreadTaskID,0)&&(c.TheStorageManager.getInstance().setItem(s.StorageKey.TaskState+n.ThreadTaskID,1),p.HttpManager.post(p.AccessName.changeGameAchievementTask,this.getChangeMainTaskInfoStageJsonString(n.TaskType,1)))}},e.prototype.getTaskNowProgress=function(e){var t=0;if(e<1e5);else if(e<1e6){var a=Math.floor(e/1e5);t=c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskAchievementNum+a,0)}else a=Math.floor(e/1e7),t=c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskMainNum+a,0);return t},e.prototype.overTask=function(e){if(e<1e5){c.TheStorageManager.getInstance().setItem(s.StorageKey.TaskState+e,2),p.HttpManager.post(p.AccessName.changeGameAchievementTask,this.getChangeDailyTaskInfoStatusJsonString(e,2));var t=o.TaskInformationManager.getInstance().getJsonTaskInformation(e),a=c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskDailyActivityNum,0),n=c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskWeekActivityNum,0),g=c.TheStorageManager.getInstance().getNumber(s.StorageKey.AllActivityNum,0);a+=t.RewardPropNum,n+=t.RewardPropNum,g+=t.RewardPropNum,c.TheStorageManager.getInstance().setItem(s.StorageKey.TaskDailyActivityNum,a),c.TheStorageManager.getInstance().setItem(s.StorageKey.TaskWeekActivityNum,n),c.TheStorageManager.getInstance().setItem(s.StorageKey.AllActivityNum,g),this.emitTask(r.TaskItem.\u5b8c\u6210X\u6b21\u6bcf\u65e5\u4efb\u52a1),p.HttpManager.post(p.AccessName.saveGameTask,d.UserInfo.getInstance().getSaveGameTaskJsonString(a,8)),p.HttpManager.post(p.AccessName.saveGameTask,d.UserInfo.getInstance().getSaveGameTaskJsonString(n,9))}else if(e<1e6){c.TheStorageManager.getInstance().setItem(s.StorageKey.TaskState+e,2),t=l.AchievenmentTaskManager.getInstance().getJsonAchievenmentTask(e);var u=c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskAchievementIndex+t.AchievenmentTaskType,0);u++,c.TheStorageManager.getInstance().setItem(s.StorageKey.TaskAchievementIndex+t.AchievenmentTaskType,u),p.HttpManager.post(p.AccessName.changeGameAchievementTask,this.getChangeAchievementTaskInfoStageJsonString(t.AchievenmentTaskType,u)),p.HttpManager.post(p.AccessName.changeGameAchievementTask,this.getChangeAchievementTaskInfoStatusJsonString(t.AchievenmentTaskType,0)),this.achievement_task_list=l.AchievenmentTaskManager.getInstance().getAchievenmentTaskData(),this.emitTask(r.TaskItem.\u5b8c\u6210X\u6b21\u6210\u5c31\u4efb\u52a1)}else{c.TheStorageManager.getInstance().setItem(s.StorageKey.TaskState+e,2);var h=c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskMainShowIndex,0);h++,c.TheStorageManager.getInstance().setItem(s.StorageKey.TaskMainShowIndex,h),t=i.ThreadTaskInformationManager.getInstance().getJsonThreadTaskInformation(e),u=c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskMainIndex+t.TaskType,0),p.HttpManager.post(p.AccessName.changeGameAchievementTask,this.getChangeMainTaskInfoProgressJsonString(h)),u++,c.TheStorageManager.getInstance().setItem(s.StorageKey.TaskMainIndex+t.TaskType,u),p.HttpManager.post(p.AccessName.changeGameAchievementTask,this.getChangeMainTaskInfoStageJsonString(t.TaskType,u)),p.HttpManager.post(p.AccessName.changeGameAchievementTask,this.getChangeMainTaskInfoStatusJsonString(t.TaskType,0)),this.main_task_data=i.ThreadTaskInformationManager.getInstance().getMainTaskData()}this.checkTask(e)},e.prototype.checkTask=function(e){if(e<1e5)c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskNum+e,0)>=o.TaskInformationManager.getInstance().getJsonTaskInformation(e).TaskParameters&&0==c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskState+e,0)&&(c.TheStorageManager.getInstance().setItem(s.StorageKey.TaskState+e,1),p.HttpManager.post(p.AccessName.changeGameAchievementTask,this.getChangeDailyTaskInfoStatusJsonString(e,1)));else if(e<1e6){var t=l.AchievenmentTaskManager.getInstance().getJsonAchievenmentTask(e),a=l.AchievenmentTaskManager.getInstance().getNowAchievenmentTaskDataByType(t.AchievenmentTaskType);if(null==a)return;c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskAchievementNum+t.AchievenmentTaskType,0)>=a.TaskParameters&&0==c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskState+a.TaskID,0)&&(c.TheStorageManager.getInstance().setItem(s.StorageKey.TaskState+a.TaskID,1),p.HttpManager.post(p.AccessName.changeGameAchievementTask,this.getChangeAchievementTaskInfoStatusJsonString(t.AchievenmentTaskType,1)))}else{if(null==this.main_task_data)return;c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskMainNum+this.main_task_data.TaskType,0)>=this.main_task_data.TaskParameters&&0==c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskState+this.main_task_data.ThreadTaskID,0)&&(c.TheStorageManager.getInstance().setItem(s.StorageKey.TaskState+this.main_task_data.ThreadTaskID,1),p.HttpManager.post(p.AccessName.changeGameAchievementTask,this.getChangeMainTaskInfoStatusJsonString(this.main_task_data.TaskType,1)))}},e.prototype.sortDailyTask=function(){var e=[],t=[],a=[];this.daily_task_list.forEach(function(n){1==c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskState+n.TaskID)?e.push(n):2==c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskState+n.TaskID)?a.push(n):t.push(n)});var n=[];n=n.concat(e,t,a),this.daily_task_list=n},e.prototype.sortAchievementTask=function(){var e=[],t=[],a=[],n=[];this.achievement_task_list.forEach(function(o){null!=o?1==c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskState+o.TaskID)?e.push(o):2==c.TheStorageManager.getInstance().getNumber(s.StorageKey.TaskState+o.TaskID)?a.push(o):t.push(o):n.push(o)});var o=[];o=o.concat(e,t,a),this.achievement_task_list=o},e.prototype.getChangeDailyTaskInfoEmitJsonString=function(e,t){var a=h.default.getInstance().getUserID(),n=d.UserInfo.getInstance().getNowDay();return JSON.stringify({uid:a,today:n,dimension:1,taskId:e,emit:t})},e.prototype.getChangeDailyTaskInfoStatusJsonString=function(e,t){var a=h.default.getInstance().getUserID(),n=d.UserInfo.getInstance().getNowDay();return JSON.stringify({uid:a,today:n,dimension:1,taskId:e,status:t})},e.prototype.getChangeAchievementTaskInfoStageJsonString=function(e,t){var a=h.default.getInstance().getUserID();return JSON.stringify({uid:a,dimension:2,taskType:e,taskId:1e5*e+1,stage:t})},e.prototype.getChangeAchievementTaskInfoEmitJsonString=function(e,t){var a=h.default.getInstance().getUserID();return JSON.stringify({uid:a,dimension:2,taskType:e,taskId:1e5*e+1,emit:t})},e.prototype.getChangeAchievementTaskInfoStatusJsonString=function(e,t){var a=h.default.getInstance().getUserID();return JSON.stringify({uid:a,dimension:2,taskType:e,taskId:1e5*e+1,status:t})},e.prototype.getChangeMainTaskInfoProgressJsonString=function(e){var t=h.default.getInstance().getUserID();return JSON.stringify({uid:t,dimension:3,progress:e})},e.prototype.getChangeMainTaskInfoStatusJsonString=function(e,t){var a=h.default.getInstance().getUserID();return JSON.stringify({uid:a,dimension:3,taskType:e,taskId:1e7*e+1,status:t})},e.prototype.getChangeMainTaskInfoStageJsonString=function(e,t){var a=h.default.getInstance().getUserID();return JSON.stringify({uid:a,dimension:3,taskType:e,taskId:1e7*e+1,stage:t})},e.prototype.getChangeMainTaskInfoEmitJsonString=function(e,t){var a=h.default.getInstance().getUserID();return JSON.stringify({uid:a,dimension:3,taskType:e,taskId:1e7*e+1,emit:t})},e._instance=null,t=n([_],e)}());a.default=m,cc._RF.pop()},{".././NetWork/HttpManager":"HttpManager","../Storage/StorageConfig":"StorageConfig","../Storage/StorageManager":"StorageManager","../Tools/EventManager":"EventManager","../UserData":"UserData","../UserInfo/UserInfo":"UserInfo","./Data/AccumulatedInformation":"AccumulatedInformation","./Data/AchievenmentTask":"AchievenmentTask","./Data/TaskInformation":"TaskInformation","./Data/ThreadTaskInformation":"ThreadTaskInformation","./TaskEnum":"TaskEnum"}],TaskUi:[function(e,t,a){"use strict";cc._RF.push(t,"20c52EM2/FFMaajyQZKaIMG","TaskUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r,s=e(".././NetWork/HttpManager"),c=e("../Constants"),l=e("../Equipment/Ui/EquipItem"),g=e("../GameManager"),u=e("../GuaJi/ChallengeRoundPop"),p=e("../GuaJi/MapManager"),d=e("../Hero/Game/HeroConfig"),h=e("../Home"),f=e("../Level/LevelManager"),_=e("../multiLanguage/FollowConstants"),m=e("../multiLanguage/FollowManager"),y=e("../Prop/Data/Item"),I=e("../Prop/Prop"),v=e("../Prop/PropConfig"),M=e("../Prop/PropManager"),C=e("../Storage/StorageConfig"),S=e("../Storage/StorageManager"),P=e("../Tools/EventManager"),k=e("../Turntable/Turmtable"),b=e("../UI/home/MainUi"),T=e("../UI/UIConfig"),B=e("../UI/UIManager"),w=e("../UserInfo/UserInfo"),N=e("./Data/AccumulatedInformation"),L=e("./TaskEnum"),D=e("./TaskItemUi"),E=e("./TaskManager"),R=cc._decorator,G=R.ccclass,x=R.property;(function(e){e[e.Daily=0]="Daily",e[e.Achievement=1]="Achievement"})(r||(r={}));var A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.task_item=null,t.task_ui=null,t.state=r.Daily,t}return o(t,e),t.prototype.onLoad=function(){this.node.on(cc.Node.EventType.POSITION_CHANGED,this.onPositionChange,this)},t.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.POSITION_CHANGED,this.onPositionChange,this)},t.prototype.onPositionChange=function(){0==this.node.x&&(this.refreshAchievementTask(),this.refreshDailyTask())},t.prototype.start=function(){this.onInitUi()},t.prototype.onInitUi=function(){var e=this;this.state=r.Daily;var t=this.node.getChildByName("content"),a=this.node.getChildByName("top"),n=a.getChildByName("daily"),o=t.getChildByName("daily");a.children[0].getChildByName("tag1").getComponent(cc.Sprite).spriteFrame=this.task_ui.getSpriteFrame("Task_Bg_2"),a.children[0].getChildByName("tag2").getComponent(cc.Sprite).spriteFrame=this.task_ui.getSpriteFrame("Task_Bg_3"),a.children[0].getChildByName("tagLabel1").color=cc.color(116,82,55),a.children[0].getChildByName("tagLabel2").color=cc.color(91,69,52);var i=t.getChildByName("achievement"),c=S.TheStorageManager.getInstance().getNumber(C.StorageKey.TaskWeekActivityNum,0),u=S.TheStorageManager.getInstance().getNumber(C.StorageKey.TaskDailyActivityNum,0);n.getChildByName("weekActivityNum").getComponent(cc.Label).string=c+"",n.getChildByName("dailyActivityNum").getComponent(cc.Label).string=u+"",n.getChildByName("weekActivity1").getComponent(cc.Sprite).fillRange=c/500,n.getChildByName("weekActivity2").active=c>=500,n.getChildByName("dailyActivity1").getComponent(cc.Sprite).fillRange=u/100,n.getChildByName("dailyActivity2").active=u>=100;var p=N.AccumulatedInformationManager.getInstance().getRewardByTaskType(2),h=N.AccumulatedInformationManager.getInstance().getRewardByTaskType(1);p.forEach(function(e,t){var a,o=n.getChildByName("week"+(t+1));if(c>=e.AccumulatedPoints&&0==S.TheStorageManager.getInstance().getNumber(C.StorageKey.TaskWeeklyActivityState+e.AccumulatedPoints,0))a=M.PropManager.getInstance().createPropItem(e.PropID_1,e.PropNum_1,v.PropAction.Null),o.children[0].active=!0,a.on(cc.Node.EventType.TOUCH_END,function t(){m.default.getInstance().followEvent(_.Follow_Type.\u5468\u6d3b\u8dc3\u6bcf\u4e00\u6863\u5956\u52b1\u7684\u9886\u53d6\u6b21\u6570+e.AccumulatedPointsID),o.children[0].active=!1,M.PropManager.getInstance().changePropNum(e.PropID_1,e.PropNum_1),S.TheStorageManager.getInstance().setItem(C.StorageKey.TaskWeeklyActivityState+e.AccumulatedPoints,1),g.default.getInstance().showGetTip(a),a.off(cc.Node.EventType.TOUCH_END,t),3==y.ItemManager.getInstance().getType(e.PropID_1)?a.getComponent(l.default).init(d.Hero_Type.NULL,e.PropID_1,v.PropAction.Look):a.getComponent(I.default).init(e.PropID_1,e.PropNum_1,v.PropAction.Look);var n=new cc.Node;n.opacity=150,n.addComponent(cc.Sprite).spriteFrame=M.PropManager.getInstance().getSpByName("Item_frame_Dark");var i=new cc.Node;i.addComponent(cc.Sprite).spriteFrame=M.PropManager.getInstance().getSpByName("SignIn_Got"),n.addChild(i),a.addChild(n),P.EventManager.postRedEvent(P.RedEventString.RED_CHECK,P.RedEventType.Btn_Task),s.HttpManager.post(s.AccessName.saveGameTask,w.UserInfo.getInstance().getSaveGameTaskJsonString(e.AccumulatedPoints,5))});else if(c>=e.AccumulatedPoints&&1==S.TheStorageManager.getInstance().getNumber(C.StorageKey.TaskWeeklyActivityState+e.AccumulatedPoints,0)){a=M.PropManager.getInstance().createPropItem(e.PropID_1,e.PropNum_1),o.children[0].active=!1;var i=new cc.Node;i.opacity=150,i.addComponent(cc.Sprite).spriteFrame=M.PropManager.getInstance().getSpByName("Item_frame_Dark");var r=new cc.Node;r.addComponent(cc.Sprite).spriteFrame=M.PropManager.getInstance().getSpByName("SignIn_Got"),i.addChild(r),a.addChild(i)}else c<e.AccumulatedPoints&&(o.children[0].active=!1,a=M.PropManager.getInstance().createPropItem(e.PropID_1,e.PropNum_1));a.scale=.7,o.addChild(a)}),h.forEach(function(e,t){var a,o=n.getChildByName("daily"+(t+1));if(u>=e.AccumulatedPoints&&0==S.TheStorageManager.getInstance().getNumber(C.StorageKey.TaskDailyActivityState+e.AccumulatedPoints,0))a=M.PropManager.getInstance().createPropItem(e.PropID_1,e.PropNum_1,v.PropAction.Null),o.children[0].active=!0,a.on(cc.Node.EventType.TOUCH_END,function t(){m.default.getInstance().followEvent(_.Follow_Type.\u65e5\u6d3b\u8dc3\u6bcf\u4e00\u6863\u5956\u52b1\u7684\u9886\u53d6\u6b21\u6570+e.AccumulatedPointsID),o.children[0].active=!1,M.PropManager.getInstance().changePropNum(e.PropID_1,e.PropNum_1),S.TheStorageManager.getInstance().setItem(C.StorageKey.TaskDailyActivityState+e.AccumulatedPoints,1),g.default.getInstance().showGetTip(a),a.off(cc.Node.EventType.TOUCH_END,t),3==y.ItemManager.getInstance().getType(e.PropID_1)?a.getComponent(l.default).init(d.Hero_Type.NULL,e.PropID_1,v.PropAction.Look):a.getComponent(I.default).init(e.PropID_1,e.PropNum_1,v.PropAction.Look);var n=new cc.Node;n.opacity=150,n.addComponent(cc.Sprite).spriteFrame=M.PropManager.getInstance().getSpByName("Item_frame_Dark");var i=new cc.Node;i.addComponent(cc.Sprite).spriteFrame=M.PropManager.getInstance().getSpByName("SignIn_Got"),n.addChild(i),a.addChild(n),P.EventManager.postRedEvent(P.RedEventString.RED_CHECK,P.RedEventType.Btn_Task),s.HttpManager.post(s.AccessName.saveGameTask,w.UserInfo.getInstance().getSaveGameTaskJsonString(e.AccumulatedPoints,4))});else if(u>=e.AccumulatedPoints&&1==S.TheStorageManager.getInstance().getNumber(C.StorageKey.TaskDailyActivityState+e.AccumulatedPoints,0)){o.children[0].active=!1,a=M.PropManager.getInstance().createPropItem(e.PropID_1,e.PropNum_1);var i=new cc.Node;i.opacity=150,i.addComponent(cc.Sprite).spriteFrame=M.PropManager.getInstance().getSpByName("Item_frame_Dark");var r=new cc.Node;r.addComponent(cc.Sprite).spriteFrame=M.PropManager.getInstance().getSpByName("SignIn_Got"),i.addChild(r),a.addChild(i)}else u<e.AccumulatedPoints&&(o.children[0].active=!1,a=M.PropManager.getInstance().createPropItem(e.PropID_1,e.PropNum_1));a.scale=.7,o.addChild(a)}),E.default.getInstance().sortDailyTask();var f=E.default.getInstance().getDailyTaskList(),k=o.getChildByName("scroll").getComponent(cc.ScrollView).content;f.forEach(function(t,a){var n=cc.instantiate(e.task_item);switch(n.name="task"+a,S.TheStorageManager.getInstance().getNumber(C.StorageKey.TaskState+t.TaskID,0)){case L.TaskState.Ongoing:n.getComponent(D.default).initGoingItem(t,function(){e.onClickGoBtn(t.TaskID)});break;case L.TaskState.Completed:n.getComponent(D.default).initFinishItem(t,function(){e.onClickDailyTaskFinish(n,t)});break;case L.TaskState.Received:n.getComponent(D.default).initReceivedItem(t)}k.addChild(n)});var b=E.default.getInstance().getAchievementTaskData(),T=i.getChildByName("scroll").getComponent(cc.ScrollView).content;b.forEach(function(t,a){if(null!=t){var n=cc.instantiate(e.task_item);switch(n.name="task"+a,S.TheStorageManager.getInstance().getNumber(C.StorageKey.TaskState+t.TaskID,0)){case L.TaskState.Ongoing:n.getComponent(D.default).initGoingItem(t,function(){var a=1e5*t.AchievenmentTaskType+1;e.onClickGoBtn(a)},!0);break;case L.TaskState.Completed:n.getComponent(D.default).initFinishItem(t,function(){e.onClickAchievementTaskFinish(n,t)},!0);break;case L.TaskState.Received:n.getComponent(D.default).initReceivedItem(t,!0)}T.addChild(n)}})},t.prototype.refreshDailyTask=function(){var e=this,t=this.node.getChildByName("content"),a=this.node.getChildByName("top").getChildByName("daily"),n=t.getChildByName("daily"),o=S.TheStorageManager.getInstance().getNumber(C.StorageKey.TaskWeekActivityNum,0),i=S.TheStorageManager.getInstance().getNumber(C.StorageKey.TaskDailyActivityNum,0);a.getChildByName("weekActivityNum").getComponent(cc.Label).string=o+"",a.getChildByName("dailyActivityNum").getComponent(cc.Label).string=i+"",a.getChildByName("weekActivity1").getComponent(cc.Sprite).fillRange=o/500,a.getChildByName("weekActivity2").active=o>=500,a.getChildByName("dailyActivity1").getComponent(cc.Sprite).fillRange=i/100,a.getChildByName("dailyActivity2").active=i>=100;var r=N.AccumulatedInformationManager.getInstance().getRewardByTaskType(2),c=N.AccumulatedInformationManager.getInstance().getRewardByTaskType(1);r.forEach(function(e,t){var n,i=a.getChildByName("week"+(t+1));if(o>=e.AccumulatedPoints&&0==S.TheStorageManager.getInstance().getNumber(C.StorageKey.TaskWeeklyActivityState+e.AccumulatedPoints,0)){i.children[0].active=!0,n=i.children[1];var r=y.ItemManager.getInstance().getType(e.PropID_1);3==r?n.getComponent(l.default).init(d.Hero_Type.NULL,e.PropID_1,v.PropAction.Null):n.getComponent(I.default).init(e.PropID_1,e.PropNum_1,v.PropAction.Null),n.off(cc.Node.EventType.TOUCH_END),n.on(cc.Node.EventType.TOUCH_END,function t(){m.default.getInstance().followEvent(_.Follow_Type.\u5468\u6d3b\u8dc3\u6bcf\u4e00\u6863\u5956\u52b1\u7684\u9886\u53d6\u6b21\u6570+e.AccumulatedPointsID),i.children[0].active=!1,M.PropManager.getInstance().changePropNum(e.PropID_1,e.PropNum_1),S.TheStorageManager.getInstance().setItem(C.StorageKey.TaskWeeklyActivityState+e.AccumulatedPoints,1),g.default.getInstance().showGetTip(n),n.off(cc.Node.EventType.TOUCH_END,t),3==r?(n.getComponent(l.default).init(d.Hero_Type.NULL,e.PropID_1,v.PropAction.Look),n.on(cc.Node.EventType.TOUCH_END,function(){n.getComponent(l.default).onClick()})):(n.getComponent(I.default).init(e.PropID_1,e.PropNum_1,v.PropAction.Look),n.on(cc.Node.EventType.TOUCH_END,function(){n.getComponent(I.default).onClick()}));var a=new cc.Node;a.opacity=150,a.addComponent(cc.Sprite).spriteFrame=M.PropManager.getInstance().getSpByName("Item_frame_Dark");var o=new cc.Node;o.addComponent(cc.Sprite).spriteFrame=M.PropManager.getInstance().getSpByName("SignIn_Got"),a.addChild(o),n.addChild(a),P.EventManager.postRedEvent(P.RedEventString.RED_CHECK,P.RedEventType.Btn_Task),s.HttpManager.post(s.AccessName.saveGameTask,w.UserInfo.getInstance().getSaveGameTaskJsonString(e.AccumulatedPoints,5))})}else i.children[0].active=!1}),c.forEach(function(e,t){var n,o=a.getChildByName("daily"+(t+1));if(i>=e.AccumulatedPoints&&0==S.TheStorageManager.getInstance().getNumber(C.StorageKey.TaskDailyActivityState+e.AccumulatedPoints,0)){o.children[0].active=!0,n=o.children[1];var r=y.ItemManager.getInstance().getType(e.PropID_1);3==r?n.getComponent(l.default).init(d.Hero_Type.NULL,e.PropID_1,v.PropAction.Null):n.getComponent(I.default).init(e.PropID_1,e.PropNum_1,v.PropAction.Null),n.off(cc.Node.EventType.TOUCH_END),n.on(cc.Node.EventType.TOUCH_END,function t(){m.default.getInstance().followEvent(_.Follow_Type.\u65e5\u6d3b\u8dc3\u6bcf\u4e00\u6863\u5956\u52b1\u7684\u9886\u53d6\u6b21\u6570+e.AccumulatedPointsID),o.children[0].active=!1,M.PropManager.getInstance().changePropNum(e.PropID_1,e.PropNum_1),S.TheStorageManager.getInstance().setItem(C.StorageKey.TaskDailyActivityState+e.AccumulatedPoints,1),g.default.getInstance().showGetTip(n),n.off(cc.Node.EventType.TOUCH_END,t),3==r?(n.getComponent(l.default).init(d.Hero_Type.NULL,e.PropID_1,v.PropAction.Look),n.on(cc.Node.EventType.TOUCH_END,function(){n.getComponent(l.default).onClick()})):(n.getComponent(I.default).init(e.PropID_1,e.PropNum_1,v.PropAction.Look),n.on(cc.Node.EventType.TOUCH_END,function(){n.getComponent(I.default).onClick()}));var a=new cc.Node;a.opacity=150,a.addComponent(cc.Sprite).spriteFrame=M.PropManager.getInstance().getSpByName("Item_frame_Dark");var i=new cc.Node;i.addComponent(cc.Sprite).spriteFrame=M.PropManager.getInstance().getSpByName("SignIn_Got"),a.addChild(i),n.addChild(a),P.EventManager.postRedEvent(P.RedEventString.RED_CHECK,P.RedEventType.Btn_Task),s.HttpManager.post(s.AccessName.saveGameTask,w.UserInfo.getInstance().getSaveGameTaskJsonString(e.AccumulatedPoints,4))})}else o.children[0].active=!1}),E.default.getInstance().sortDailyTask();var u=E.default.getInstance().getDailyTaskList(),p=n.getChildByName("scroll").getComponent(cc.ScrollView).content;0==p.childrenCount?u.forEach(function(t,a){var n=cc.instantiate(e.task_item);switch(n.name="task"+a,S.TheStorageManager.getInstance().getNumber(C.StorageKey.TaskState+t.TaskID,0)){case L.TaskState.Ongoing:n.getComponent(D.default).initGoingItem(t,function(){e.onClickGoBtn(t.TaskID)});break;case L.TaskState.Completed:n.getComponent(D.default).initFinishItem(t,function(){e.onClickDailyTaskFinish(n,t)});break;case L.TaskState.Received:n.getComponent(D.default).initReceivedItem(t)}p.addChild(n)}):u.forEach(function(t,a){var n=p.getChildByName("task"+a);switch(S.TheStorageManager.getInstance().getNumber(C.StorageKey.TaskState+t.TaskID,0)){case L.TaskState.Ongoing:n.getComponent(D.default).initGoingItem(t,function(){e.onClickGoBtn(t.TaskID)});break;case L.TaskState.Completed:n.getComponent(D.default).initFinishItem(t,function(){e.onClickDailyTaskFinish(n,t)});break;case L.TaskState.Received:n.getComponent(D.default).initReceivedItem(t)}})},t.prototype.refreshAchievementTask=function(){var e=this,t=this.node.getChildByName("content").getChildByName("achievement");E.default.getInstance().sortAchievementTask();var a=E.default.getInstance().getAchievementTaskData(),n=t.getChildByName("scroll").getComponent(cc.ScrollView).content;a.forEach(function(t,a){var o=n.getChildByName("task"+a);if(null!=o)if(null!=t)switch(S.TheStorageManager.getInstance().getNumber(C.StorageKey.TaskState+t.TaskID,0)){case L.TaskState.Ongoing:o.getComponent(D.default).initGoingItem(t,function(){var a=1e5*t.AchievenmentTaskType+1;e.onClickGoBtn(a)},!0);break;case L.TaskState.Completed:o.getComponent(D.default).initFinishItem(t,function(){e.onClickAchievementTaskFinish(o,t)},!0);break;case L.TaskState.Received:n.removeChild(o)}else n.removeChild(o)})},t.prototype.onClickDailyTaskFinish=function(e,t){E.default.getInstance().overTask(t.TaskID),m.default.getInstance().followEvent(_.Follow_Type.\u6bcf\u65e5\u4efb\u52a1\u5b8c\u6210\u6570\u91cf+t.TaskID),this.refreshDailyTask(),P.EventManager.postRedEvent(P.RedEventString.RED_CHECK,P.RedEventType.Btn_Task)},t.prototype.onClickAchievementTaskFinish=function(e,t){E.default.getInstance().overTask(t.TaskID),M.PropManager.getInstance().changePropNum(t.RewardPropID,t.RewardPropNum);var a=M.PropManager.getInstance().createPropItem(t.RewardPropID,t.RewardPropNum);g.default.getInstance().showGetTip(a),m.default.getInstance().followEvent(_.Follow_Type.\u6210\u5c31\u4efb\u52a1\u5b8c\u6210\u6570\u91cf+t.TaskID),this.refreshAchievementTask(),P.EventManager.postRedEvent(P.RedEventString.RED_CHECK,P.RedEventType.Btn_Task)},t.prototype.onClickGoBtn=function(e){switch(e){case L.TaskItem.\u5347\u7ea71\u6b21\u82f1\u96c4:case L.TaskItem.\u5347\u661f1\u6b21\u82f1\u96c4:case L.TaskItem.\u5347\u7ea71\u6b21\u88c5\u5907:case L.TaskItem.\u5347\u7ea71\u6b21\u88c5\u5907\u54c1\u7ea7:case L.TaskItem.\u5347\u7ea71\u6b21\u5ba0\u7269:case L.TaskItem.\u5347\u7ea71\u6b21\u4e13\u6b66:case L.TaskItem.\u5c06\u4efb\u610fX\u540d\u82f1\u96c4\u5347\u523010\u7ea7:case L.TaskItem.\u4e3a\u4efb\u610fX\u540d\u82f1\u96c4\u7a7f\u62341\u4ef6\u88c5\u5907:case L.TaskItem.\u5c06\u70ae\u624b\u5347\u81f31\u5927\u661f:case L.TaskItem.\u5408\u6210X\u6b21\u88c5\u5907:case L.TaskItem.\u7d2f\u8ba11\u4e2a\u82f1\u96c4\u5347\u5230X\u7ea7:case L.TaskItem.\u7d2f\u8ba11\u4e2a\u82f1\u96c4\u5347\u5230X\u661f:case L.TaskItem.\u7d2f\u8ba1X\u4ef6\u88c5\u5907\u5230\u8fbe\u54c1\u8d286:case L.TaskItem.\u5347\u7ea7X\u6b21\u7075\u5ba0:case L.TaskItem.\u7d2f\u8ba1\u5c06X\u53ea\u5ba0\u7269\u5347\u81f3\u6700\u9ad8\u54c1\u8d28:g.default.getInstance().game_to_home=c.Go_Type.Role,g.default.getInstance().jumoAndShowUi();break;case L.TaskItem.\u6311\u62181\u6b21\u5173\u5361:case L.TaskItem.\u6311\u62183\u6b21\u5173\u5361:case L.TaskItem.\u767b\u5f55\u6e38\u620f1\u6b21:case L.TaskItem.\u89c2\u770b\u4efb\u610f1\u6b21\u5e7f\u544a:case L.TaskItem.\u767b\u5f55X\u6b21\u6e38\u620f:case L.TaskItem.\u91ca\u653eX\u6b21\u4eba\u7269\u6280\u80fd:case L.TaskItem.\u4e0a\u9635X\u540d\u82f1\u96c4:case L.TaskItem.\u7d2f\u8ba1\u901a\u8fc7X\u5173:case L.TaskItem.\u8f6c\u52a8\u8f6c\u76d81\u6b21:case L.TaskItem.\u901a\u8fc7\u7b2cX\u7ae0:case L.TaskItem.\u7d2f\u8ba1\u767b\u5f55X\u5929:g.default.getInstance().game_to_home=c.Go_Type.Main,g.default.getInstance().jumoAndShowUi();break;case L.TaskItem.\u8f6c\u76d8X\u6b21:B.UIManager.getInstance().showUiDialog(T.UIPath.Turntable,T.UILayerLevel.One,{onCompleted:function(e){e.getComponent(k.default).initUi()}});break;case L.TaskItem.\u901a\u5173X:p.default.ChallengeRoundPops.getComponent(u.default).init(f.LevelManager.getInstance().finish_level+1);break;case L.TaskItem.\u6311\u62181\u6b21\u65e0\u5c3d\u6311\u6218:case L.TaskItem.\u6311\u6218X\u6b21\u65e0\u5c3d\u6311\u6218:case L.TaskItem.\u6311\u62181\u6b21BOSS\u72e9\u730e:case L.TaskItem.\u6311\u6218X\u6b21boss\u72e9\u730e:case L.TaskItem.\u6311\u62181\u6b21\u722c\u5854:case L.TaskItem.\u6311\u62181\u6b21\u51b0\u6cb3\u63a2\u9669:case L.TaskItem.\u6311\u62183\u6b21\u65e0\u5c3d\u6311\u6218:case L.TaskItem.\u6311\u62183\u6b21BOSS\u72e9\u730e:case L.TaskItem.\u6311\u62183\u6b21\u722c\u5854:g.default.getInstance().game_to_home=c.Go_Type.Activity,g.default.getInstance().jumoAndShowUi();break;case L.TaskItem.\u8fdb\u884c1\u6b21\u5f00\u542f\u88c5\u5907:case L.TaskItem.\u8fdb\u884c1\u6b21\u5ba0\u7269\u62db\u52df:case L.TaskItem.\u8fdb\u884c1\u6b21\u82f1\u96c4\u62db\u52df:case L.TaskItem.\u5546\u5e97\u4e2d\u8d2d\u4e70\u7269\u54c11\u6b21:case L.TaskItem.\u8d2d\u4e701\u6b21\u5546\u5e97\u4e2d\u7684\u91d1\u5e01:case L.TaskItem.\u62db\u52dfX\u6b21\u82f1\u96c4:case L.TaskItem.\u524d\u5f80\u5546\u57ce\u8d2d\u4e70X\u6b21\u5546\u54c1:case L.TaskItem.\u524d\u5f80\u5546\u57ce\u5b75\u5316X\u6b21\u5ba0\u7269:case L.TaskItem.\u7d2f\u8ba1\u6536\u96c6X\u4e2a\u82f1\u96c4:case L.TaskItem.\u7d2f\u8ba1\u83b7\u5f97X\u4ef6\u88c5\u5907:case L.TaskItem.\u7d2f\u8ba1\u62db\u52dfX\u4e2a\u82f1\u96c4:case L.TaskItem.\u7d2f\u8ba1\u5b75\u5316\u7075\u5ba0\u86cbX\u6b21:case L.TaskItem.\u8fdb\u884c10\u6b21\u5f00\u542f\u88c5\u5907:case L.TaskItem.\u8fdb\u884c10\u6b21\u5ba0\u7269\u5b75\u5316:case L.TaskItem.\u8fdb\u884c10\u6b21\u82f1\u96c4\u62db\u52df:g.default.getInstance().game_to_home=c.Go_Type.City,g.default.getInstance().jumoAndShowUi();break;case L.TaskItem.\u5b8c\u6210X\u6b21\u6bcf\u65e5\u4efb\u52a1:this.onClickTagBtn(null,r.Daily),g.default.getInstance().game_to_home=c.Go_Type.PetList,g.default.getInstance().jumoAndShowUi();break;case L.TaskItem.\u5b8c\u6210X\u6b21\u6210\u5c31\u4efb\u52a1:this.onClickTagBtn(null,r.Achievement),g.default.getInstance().game_to_home=c.Go_Type.PetList,g.default.getInstance().jumoAndShowUi();break;case L.TaskItem.\u9886\u53d6\u6302\u673a\u5956\u52b12\u6b21:case L.TaskItem.\u9886\u53d6\u5feb\u901f\u6302\u673a1\u6b21:g.default.getInstance().game_to_home=c.Go_Type.Main,g.default.getInstance().jumoAndShowUi();break;case L.TaskItem.\u8fdb\u884c\u8d26\u53f7\u7ed1\u5b9a:cc.find("Canvas").getComponent(h.default).clickBtnSetting()}},t.prototype.onClickTagBtn=function(e,t){var a=this.node.getChildByName("content"),n=this.node.getChildByName("top");switch(t=Number(t)){case r.Daily:this.state=r.Daily,m.default.getInstance().followEvent(_.Follow_Type.\u4efb\u52a1_\u65e5\u5e38\u9875\u7b7e\u70b9\u51fb\u6b21\u6570),n.children[0].getChildByName("tag1").getComponent(cc.Sprite).spriteFrame=this.task_ui.getSpriteFrame("Task_Bg_2"),n.children[0].getChildByName("tag2").getComponent(cc.Sprite).spriteFrame=this.task_ui.getSpriteFrame("Task_Bg_3"),n.children[0].getChildByName("tagLabel1").color=cc.color(116,82,55),n.children[0].getChildByName("tagLabel2").color=cc.color(91,69,52),a.getChildByName("achievement").active=!1,a.getChildByName("daily").active=!0,n.getChildByName("daily").active=!0;break;case r.Achievement:this.state=r.Achievement,m.default.getInstance().followEvent(_.Follow_Type.\u4efb\u52a1_\u6210\u5c31\u9875\u7b7e\u70b9\u51fb\u6b21\u6570),n.children[0].getChildByName("tag2").getComponent(cc.Sprite).spriteFrame=this.task_ui.getSpriteFrame("Task_Bg_2"),n.children[0].getChildByName("tag1").getComponent(cc.Sprite).spriteFrame=this.task_ui.getSpriteFrame("Task_Bg_3"),n.children[0].getChildByName("tagLabel2").color=cc.color(116,82,55),n.children[0].getChildByName("tagLabel1").color=cc.color(91,69,52),a.getChildByName("achievement").active=!0,a.getChildByName("daily").active=!1,n.getChildByName("daily").active=!1}},t.prototype.onClickMainTaskUi=function(){var e=E.default.getInstance().getMainTaskData();switch(S.TheStorageManager.getInstance().getNumber(C.StorageKey.TaskState+e.ThreadTaskID,0)){case 0:var t=1e3*Math.floor(e.ThreadTaskID/1e3)+1;return void this.onClickGoBtn(t);case 1:E.default.getInstance().overTask(e.ThreadTaskID),M.PropManager.getInstance().changePropNum(e.PropID_1,e.PropNum_1),M.PropManager.getInstance().changePropNum(e.PropID_2,e.PropNum_2);var a=M.PropManager.getInstance().createPropItem(e.PropID_1,e.PropNum_1),n=M.PropManager.getInstance().createPropItem(e.PropID_2,e.PropNum_2);return g.default.getInstance().showMultipleGetTip([a,n]),m.default.getInstance().followEvent(_.Follow_Type.\u4e3b\u7ebf\u4efb\u52a1\u5b8c\u6210\u4eba\u6570\u6570\u91cf_x+e.ThreadTaskID),void this.scheduleOnce(function(){cc.find("Canvas/main_ui").getComponent(b.default).refreshMainTaskUi()},.01)}},i([x(cc.Prefab)],t.prototype,"task_item",void 0),i([x(cc.SpriteAtlas)],t.prototype,"task_ui",void 0),i([G],t)}(cc.Component);a.default=A,cc._RF.pop()},{".././NetWork/HttpManager":"HttpManager","../Constants":"Constants","../Equipment/Ui/EquipItem":"EquipItem","../GameManager":"GameManager","../GuaJi/ChallengeRoundPop":"ChallengeRoundPop","../GuaJi/MapManager":"MapManager","../Hero/Game/HeroConfig":"HeroConfig","../Home":"Home","../Level/LevelManager":"LevelManager","../Prop/Data/Item":"Item","../Prop/Prop":"Prop","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","../Storage/StorageConfig":"StorageConfig","../Storage/StorageManager":"StorageManager","../Tools/EventManager":"EventManager","../Turntable/Turmtable":"Turmtable","../UI/UIConfig":"UIConfig","../UI/UIManager":"UIManager","../UI/home/MainUi":"MainUi","../UserInfo/UserInfo":"UserInfo","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","./Data/AccumulatedInformation":"AccumulatedInformation","./TaskEnum":"TaskEnum","./TaskItemUi":"TaskItemUi","./TaskManager":"TaskManager"}],TestAnima:[function(e,t,a){"use strict";cc._RF.push(t,"26306PBCTtKiL7sfp8xh1q/","TestAnima");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),i([s],t)}(cc.Component));a.default=c,cc._RF.pop()},{}],TestTest:[function(e,t,a){"use strict";cc._RF.push(t,"cfa68YYSVlNkb522iNcYOz1","TestTest");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Constants"),s=e("../Equipment/EquipConfig"),c=e("../Equipment/EquipmentManager"),l=e("../GameManager"),g=e("../Hero/Data/HeroManager"),u=e("../Hero/Game/HeroConfig"),p=e("../Level/LevelManager"),d=e("../Level/MissionLevel"),h=e("../Tutorials/TutorailsManager"),f=cc._decorator,_=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.goto_scene=r.GameScene.game,t.all_sp=[],t}return o(t,e),t.prototype.start=function(){l.default.getInstance().cur_game_scene=r.GameScene.load},t.prototype.clickStart=function(){this.goto_scene=r.GameScene.game,this.cheakLoadToScene()},t.prototype.clickBtnHome=function(){this.goto_scene=r.GameScene.home,this.cheakLoadToScene()},t.prototype.clickBtnTest=function(){cc.director.loadScene("zhengxing")},t.prototype.cheakLoadToScene=function(){var e=this.node.getChildByName("levelEditBox").getComponent(cc.EditBox).string,t=parseInt(e);if(h.default.getInstance().saveTutorials(201),h.default.getInstance().saveTutorials(202),h.default.getInstance().saveTutorials(203),h.default.getInstance().saveTutorials(204),h.default.getInstance().saveTutorials(205),h.default.getInstance().saveTutorials(206),h.default.getInstance().saveTutorials(207),h.default.getInstance().saveTutorials(208),h.default.getInstance().saveTutorials(209),h.default.getInstance().saveTutorials(210),h.default.getInstance().saveTutorials(211),h.default.getInstance().saveTutorials(212),h.default.getInstance().saveTutorials(213),h.default.getInstance().saveTutorials(214),h.default.getInstance().saveTutorials(215),h.default.getInstance().saveTutorials(216),h.default.getInstance().saveTutorials(217),h.default.getInstance().saveTutorials(218),h.default.getInstance().saveTutorials(219),h.default.getInstance().saveTutorials(220),h.default.getInstance().saveTutorials(221),h.default.getInstance().saveTutorials(222),h.default.getInstance().saveTutorials(223),h.default.getInstance().saveTutorials(224),t>0){var a=this.node.getChildByName("qualityEditBox").getComponent(cc.EditBox).string,n=(parseInt(a),this.node.getChildByName("equipEditBox").getComponent(cc.EditBox).string);if(parseInt(n)>0){c.EquipmentManager.getInstance();for(var o=s.EquipType.WuQi;o<s.EquipType.Num;o++)for(var i=u.Hero_Type.ChangMaoShou;i<u.Hero_Type.Hero_Num;i++);}else for(i=u.Hero_Type.ChangMaoShou;i<u.Hero_Type.Hero_Num;i++)c.EquipmentManager.getInstance().checkQuickUnload(i,!0);var r=this.node.getChildByName("heroRoot"),f=new Array;for(o=0;o<r.childrenCount;o++)r.children[o].getComponent(cc.Toggle).isChecked&&f.push(o+1);var _=this.node.getChildByName("heroLevelEditBox").getComponent(cc.EditBox).string,m=(parseInt(_),new Array(5)),y=0,I=[2,1,3,0,4];for(o=0;o<5;o++)o<f.length?(m[I[y]]=f[o],y++):(m[I[y]]=-1,y++);g.HeroManager.getInstance().saveTeamList(l.default.getInstance().cur_game_mode,m);var v=g.HeroManager.getInstance().getHeroList();for(o=0;o<v.length;o++);for(o=0;o<v.length;o++)g.HeroManager.getInstance().refreshHeroData(v[o].hero_type);this.node.getChildByName("bg_loading").active=!0,p.LevelManager.getInstance().start_level=t,l.default.getInstance().fighting_info=d.MissionLevelManager.getInstance().getFightingInfo(t),cc.director.loadScene(this.goto_scene)}else l.default.getInstance().showMessage("\u5173\u5361\u9700\u8981\u5927\u4e8e0\u6216\u8005\u4e0d\u80fd\u4e3a\u7a7a")},i([m([cc.SpriteFrame])],t.prototype,"all_sp",void 0),i([_],t)}(cc.Component);a.default=y,cc._RF.pop()},{"../Constants":"Constants","../Equipment/EquipConfig":"EquipConfig","../Equipment/EquipmentManager":"EquipmentManager","../GameManager":"GameManager","../Hero/Data/HeroManager":"HeroManager","../Hero/Game/HeroConfig":"HeroConfig","../Level/LevelManager":"LevelManager","../Level/MissionLevel":"MissionLevel","../Tutorials/TutorailsManager":"TutorailsManager"}],TestUi:[function(e,t,a){"use strict";cc._RF.push(t,"7cabctQApZG+pKb6EKca4nM","TestUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("./UIComponent"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),i([c],t)}(r.default));a.default=l,cc._RF.pop()},{"./UIComponent":"UIComponent"}],Test:[function(e,t,a){"use strict";cc._RF.push(t,"63522y+iFpGfK65tq1TN93l","Test");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},t.prototype.start=function(){},t.prototype.onTouchStart=function(e){var t=cc.find("Canvas").convertToNodeSpaceAR(e.getLocation());this.node.setPosition(t)},t.prototype.onTouchMove=function(e){var t=cc.find("Canvas").convertToNodeSpaceAR(e.getLocation());this.node.setPosition(t)},t.prototype.onTouchEnd=function(e){var t=cc.find("Canvas").convertToNodeSpaceAR(e.getLocation());this.node.setPosition(t)},i([s],t)}(cc.Component));a.default=c,cc._RF.pop()},{}],TextInfo:[function(e,t,a){"use strict";cc._RF.push(t,"9f8daeiV29DVqRoaVhW8CTI","TextInfo");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Tools/MyTool"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=null,t.title=null,t.bg=null,t.xian=null,t.top=22,t.bottom=22,t.xian_height=36,t}return o(t,e),t.prototype.onLoad=function(){var e=this;this.bg=this.node.getChildByName("bg"),this.xian=this.node.getChildByName("xian"),this.content=this.node.getChildByName("content").getComponent(cc.RichText),this.title=this.node.getChildByName("title").getComponent(cc.Label),this.node.on(cc.Node.EventType.TOUCH_START,function(){r.default.allFadeOut(e.node,function(){e.node.removeFromParent()})},this),this.node._touchListener.setSwallowTouches(!1)},t.prototype.start=function(){this.node.zIndex=9999},t.prototype.showInfo=function(e,t){var a=this;this.title.string=e,this.content.string=t,this.node.opacity=0,this.content.enabled=!1,this.scheduleOnce(function(){a.node.opacity=255,a.content.enabled=!0,a.bg.height=a.top+a.title.node.height+a.xian_height+a.bottom+a.content.node.height,a.title.node.y=a.bg.height/2-a.title.node.height/2-a.top,a.xian.y=a.title.node.y-a.title.node.height/2-a.xian_height/2,a.content.node.y=a.xian.y-a.xian_height/2,r.default.allFadeIn(a.node)},cc.director.getDeltaTime())},i([c],t)}(cc.Component));a.default=l,cc._RF.pop()},{"../Tools/MyTool":"MyTool"}],TextLanguage:[function(e,t,a){"use strict";cc._RF.push(t,"c16e5sVZrZAYKAJue79QfaF","TextLanguage");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../JsonData/TextManagement"),s=e("./LanguageConstants"),c=e("./LanguageManager"),l=cc._decorator,g=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cur_text_id=0,t.original_text_id=0,t.cur_language_type=s.LanguageType.en,t.replace_str=[],t.replace_value=[],t.link_str=[],t.prefix_str="",t.is_translation=!1,t}return o(t,e),t.prototype.onLoad=function(){this.original_text_id=this.cur_text_id,this.is_translation||this.startTranslation(),this.addListen()},t.prototype.setTextId=function(e,t){void 0===t&&(t=[]),this.cur_text_id=e,"string"==typeof t?this.link_str[0]=t:this.link_str=t,this.startTranslation()},t.prototype.getTextId=function(){return this.cur_text_id},t.prototype.setReplaceValue=function(e,t){"string"==typeof e?this.replace_str[0]=e:this.replace_str=e,"string"==typeof t?this.replace_value[0]=t:this.replace_value=t,this.startTranslation(),this.startReplace()},t.prototype.getOriginalTextId=function(){return this.original_text_id},t.prototype.startTranslation=function(){if(this.cur_language_type=c.default.getInstance().getCurLanguageType(),0!=this.cur_text_id&&r.TextManagementManager.getInstance().getIsLoadCompleted())if(this.is_translation=!0,"number"==typeof this.cur_text_id)this.setString(c.default.getInstance().getStrByTextId(this.cur_text_id));else{for(var e="",t=0;t<this.cur_text_id.length;t++){var a=this.cur_text_id[t];0!=a&&(e+=c.default.getInstance().getStrByTextId(a),t<this.link_str.length&&(e+=this.link_str[t]))}this.setString(e)}},t.prototype.setPrefix=function(e){this.prefix_str=e},t.prototype.startReplace=function(){for(var e=0;e<this.replace_str.length;e++){var t=this.replace_str[e];if(""!=t){var a=this.string;this.setString(a.replace(t,this.replace_value[e]))}}},t.prototype.setString=function(e){""!=this.prefix_str?this.string.substring(0,this.prefix_str.length)==this.prefix_str?this.string=e:this.string=this.prefix_str+e:this.string=e},t.prototype.addListen=function(){cc.director.on(s.OnLanguageChange,this.onLanguageChange,this)},t.prototype.removeListen=function(){cc.director.off(s.OnLanguageChange,this.onLanguageChange,this)},t.prototype.onLanguageChange=function(){this.cur_language_type!=c.default.getInstance().getCurLanguageType()&&(this.startTranslation(),this.startReplace())},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this),this.removeListen()},i([u({tooltip:"\u5f53\u524d\u7684\u6587\u672cid,\u4f7f\u7528\u6587\u672c\u8868\u5185\u9884\u8bbe\u7684id"})],t.prototype,"cur_text_id",void 0),i([g],t)}(cc.Label);a.default=p,cc._RF.pop()},{"../JsonData/TextManagement":"TextManagement","./LanguageConstants":"LanguageConstants","./LanguageManager":"LanguageManager"}],TextManagement:[function(e,t,a){"use strict";cc._RF.push(t,"e32d11+9YtOtotlGh9P0XGw","TextManagement"),Object.defineProperty(a,"__esModule",{value:!0}),a.TextManagementManager=a.JsonTextManagement=void 0;var n=e("../Constants"),o=e("../Loading/LoadManager"),i=e("../multiLanguage/LanguageManager"),r=e("../UserData"),s=function(){this.Text_ID=0,this.English="",this.Chinese="",this.Indonesian="",this.Russian="",this.Thai="",this.Korea=""};a.JsonTextManagement=s;var c=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;o.LoadManager.loadJson("TextManagement",o.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonTextManagement\u6210\u529f"),e.data=new Map;for(var n=a.json,o=0;o<n.length;o++){var i=new s;i=n[o],e.data.set(i.Text_ID,i)}e.is_load_completed=!0,r.default.getInstance().HttpPostCheckVersion()}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonTextManagement=function(e){return this.data.get(e)},e.prototype.getEnglish=function(e){return this.data.get(e).English},e.prototype.getChinese=function(e){return this.data.get(e).Chinese},e.prototype.getIndonesian=function(e){return this.data.get(e).Indonesian},e.prototype.getRussian=function(e){return this.data.get(e).Russian},e.prototype.getThai=function(e){return this.data.get(e).Thai},e.prototype.getKorea=function(e){return this.data.get(e).Korea},e.getMaxText_ID=function(){return 1600010},e.getRichString=function(e,t,a){var n=i.default.getInstance().getStrByTextId(e),o=this.getValueUnit(t,a);return o=this.getColorStr(o),n.replace("~",o)},e.getValueUnit=function(e,t){switch(t){case n.ValueType.None:return e.toFixed(1)+n.ValueUnit.None;case n.ValueType.Percent:return(100*e).toFixed(1)+n.ValueUnit.Percent;case n.ValueType.Thousandths:return(100*e).toFixed(1)+n.ValueUnit.Thousandths;case n.ValueType.Second:return e.toFixed(1)+n.ValueUnit.Second}},e.getColorStr=function(e){return"<color=green>"+e+"</color>"},e._instance=null,e}();a.TextManagementManager=c,cc._RF.pop()},{"../Constants":"Constants","../Loading/LoadManager":"LoadManager","../UserData":"UserData","../multiLanguage/LanguageManager":"LanguageManager"}],ThirdParty:[function(e,t,a){"use strict";cc._RF.push(t,"6cc4fWY2PpK24bW0FWF5mCg","ThirdParty"),Object.defineProperty(a,"__esModule",{value:!0}),a.PayUiIndex=a.PayInfo=a.PayId=a.DingYue_Type=void 0,function(e){e[e.Week=0]="Week",e[e.Month=1]="Month",e[e.Year=2]="Year"}(a.DingYue_Type||(a.DingYue_Type={})),function(e){e[e.Campaign=101]="Campaign",e[e.Growth=102]="Growth",e[e.BattlePass=103]="BattlePass",e[e.Gem100=201]="Gem100",e[e.Gem500=202]="Gem500",e[e.Gem1200=203]="Gem1200",e[e.Gem6500=205]="Gem6500",e[e.Gem14000=206]="Gem14000",e[e.SuperRole1=301]="SuperRole1",e[e.SuperRole10=302]="SuperRole10",e[e.MasterEquip1=311]="MasterEquip1",e[e.MasterEquip10=312]="MasterEquip10",e[e.LimitedGift1=1001]="LimitedGift1",e[e.LimitedGift2=1002]="LimitedGift2",e[e.HotGift1=2001]="HotGift1",e[e.HotGift2=2002]="HotGift2",e[e.HotGift3=2003]="HotGift3",e[e.HotGift4=2004]="HotGift4",e[e.HotGift5=2005]="HotGift5",e[e.HotGift6=2006]="HotGift6",e[e.HotGift7=2007]="HotGift7",e[e.DailyGift1=3002]="DailyGift1",e[e.DailyGift2=3003]="DailyGift2",e[e.DailyGift3=3004]="DailyGift3",e[e.DailyGift4=3005]="DailyGift4",e[e.DailyGift5=3006]="DailyGift5",e[e.TimeGift1=4001]="TimeGift1",e[e.TimeGift2=4002]="TimeGift2",e[e.TimeGift3=4003]="TimeGift3"}(a.PayId||(a.PayId={}));a.PayInfo=function(){this.pay_id="b201",this.des="60 Crystal",this.price="1",this.currency="USD",this.is_buy=!1},function(e){e[e.ZuXiang=1]="ZuXiang",e[e.LongJing=2]="LongJing",e[e.Gift=3]="Gift",e[e.FanLi=4]="FanLi",e[e.Total=5]="Total",e[e.ZhanLing=6]="ZhanLing",e[e.WeekCard=7]="WeekCard",e[e.ShouChong=26]="ShouChong"}(a.PayUiIndex||(a.PayUiIndex={})),cc._RF.pop()},{}],ThreadTaskInformation:[function(e,t,a){"use strict";cc._RF.push(t,"409beCh1VZGL6N1LTdeiZ3m","ThreadTaskInformation"),Object.defineProperty(a,"__esModule",{value:!0}),a.ThreadTaskInformationManager=a.JsonThreadTaskInformation=void 0;var n=e("../../Loading/LoadManager"),o=e("../../Storage/StorageConfig"),i=e("../../Storage/StorageManager"),r=function(){this.ThreadTaskID=0,this.DisplayOrder=0,this.ThreadTaskDescription=0,this.PropID_1=0,this.PropNum_1=0,this.PropID_2=0,this.PropNum_2=0,this.TaskType=0,this.TaskPhase=0,this.TaskParameters=0};a.JsonThreadTaskInformation=r;var s=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("ThreadTaskInformation",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonThreadTaskInformation\u6210\u529f"),e.data=new Map;for(var n=a.json,o=0;o<n.length;o++){var i=new r;i=n[o],e.data.set(i.ThreadTaskID,i)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonThreadTaskInformation=function(e){return this.data.get(e)},e.prototype.getDisplayOrder=function(e){return this.data.get(e).DisplayOrder},e.prototype.getThreadTaskDescription=function(e){return this.data.get(e).ThreadTaskDescription},e.prototype.getPropID_1=function(e){return this.data.get(e).PropID_1},e.prototype.getPropNum_1=function(e){return this.data.get(e).PropNum_1},e.prototype.getPropID_2=function(e){return this.data.get(e).PropID_2},e.prototype.getPropNum_2=function(e){return this.data.get(e).PropNum_2},e.prototype.getTaskType=function(e){return this.data.get(e).TaskType},e.prototype.getTaskPhase=function(e){return this.data.get(e).TaskPhase},e.prototype.getTaskParameters=function(e){return this.data.get(e).TaskParameters},e.getMaxThreadTaskID=function(){return 12001020},e.prototype.getMainTaskData=function(){var e=null,t=i.TheStorageManager.getInstance().getNumber(o.StorageKey.TaskMainShowIndex,0)+1;return this.data.forEach(function(a){a.DisplayOrder==t&&(e=a)}),e},e.prototype.getMainTaskDataByTypeAndIndex=function(e,t){var a=null;return this.data.forEach(function(n){n.TaskPhase==t&&n.TaskType==e&&(a=n)}),a},e._instance=null,e}();a.ThreadTaskInformationManager=s,cc._RF.pop()},{"../../Loading/LoadManager":"LoadManager","../../Storage/StorageConfig":"StorageConfig","../../Storage/StorageManager":"StorageManager"}],Times:[function(e,t,a){"use strict";cc._RF.push(t,"8ede9OobuNKTpY4e4TFsF44","Times");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Storage/StorageConfig"),s=e("../Storage/StorageManager"),c=e("./PublicMethods"),l=e("./Turmtable"),g=cc._decorator,u=g.ccclass,p=(g.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var a;return o(t,e),a=t,t.prototype.onLoad=function(){var e=cc.macro.REPEAT_FOREVER;cc.game.addPersistRootNode(this.node),this.schedule(this.Management,1,e,0)},t.prototype.Management=function(){if(0==s.TheStorageManager.getInstance().getNumber(r.StorageKey.TurmtableFreeYes,0)){var e=s.TheStorageManager.getInstance().getNumber(r.StorageKey.TurmtableFreeTime,900);e-=1,s.TheStorageManager.getInstance().setItem(r.StorageKey.TurmtableFreeTime,""+e),null!=a.timetxt&&""!=a.timetxt._name&&(a.timetxt.getComponent(cc.Label).string=""+c.default.timeconversions(e)),0==e&&(s.TheStorageManager.getInstance().setItem(r.StorageKey.TurmtableFreeYes,1),null!=a.Turmtablenode&&""!=a.Turmtablenode._name&&a.Turmtablenode.getComponent(l.default).Refresh())}},t.timetxt=null,t.Turmtablenode=null,t.voidsensid=0,a=i([u],t)}(cc.Component));a.default=p,cc._RF.pop()},{"../Storage/StorageConfig":"StorageConfig","../Storage/StorageManager":"StorageManager","./PublicMethods":"PublicMethods","./Turmtable":"Turmtable"}],ToPlayMainUi:[function(e,t,a){"use strict";cc._RF.push(t,"fca21hI+2REmJyugmQolB/4","ToPlayMainUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Activity/BossChallenge"),s=e("../../Activity/EndlessLevels"),c=e("../../Ads/ApkManager"),l=e("../../Constants"),g=e("../../copy/endlesschallenges/endlesschallenges"),u=e("../../GameManager"),p=e("../../GuaJi/MapManager"),d=e("../../Hero/Data/HeroManager"),h=e("../../Hero/Game/HeroConfig"),f=e("../../Hero/Ui/HeroItem"),_=e("../../Level/LevelManager"),m=e("../../Level/MissionLevel"),y=e("../../Level/TutorialLevel"),I=e("../../Maze/MazeManager"),v=e("../../Monster/Data/MonsterConfigure"),M=e("../../Monster/MonsterData"),C=e("../../multiLanguage/FollowConstants"),S=e("../../multiLanguage/FollowManager"),P=e("../../multiLanguage/LanguageManager"),k=e("../../multiLanguage/TextLanguage"),b=e("../../Prop/PropConfig"),T=e("../../Prop/PropManager"),B=e("../../Sound/AudioConstants"),w=e("../../Storage/StorageConfig"),N=e("../../Storage/StorageManager"),L=e("../../Task/TaskEnum"),D=e("../../Task/TaskManager"),E=e("../../Tower/TowerLevel"),R=e("../../Tower/TowerManager"),G=e("../../Turntable/Times"),x=e("../../Tutorials/TutorailsManager"),A=e("../../UserInfo/UserInfo"),O=e("../UIComponent"),H=e("../UIConfig"),F=e("../UIManager"),j=e("./MainUi"),U=e("./MonsterDetails"),J=cc._decorator,W=J.ccclass,V=J.property,q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hero_item=null,t.Monster=null,t.Chariot=null,t.pos=null,t.heroShadow=null,t.leveltxt=null,t.guaiwuarr=[],t.MonsterDetailsarr=[],t.komwei=null,t.content=null,t.sp=[],t.hero_team_rect=[],t.ScrollViewrect=null,t.ScrollVie=null,t.ScrollViews=null,t.hero_team_pos=[],t.Mouse=null,t.Mouseitem=null,t.clickheroposition=-1,t.putdownheroposition=-1,t.Common_Btn_0=null,t.jdt=null,t.greybuttonjudgment=0,t.bj=[],t.wall=[],t.mybj=null,t.mywall=null,t.bg_Endless=null,t.Prepare_Btn_Monster=null,t.Common_Btn_Back=null,t.Mazeid=0,t.bg_Maze=null,t.bg_wall=null,t}return o(t,e),t.prototype.start=function(){for(var e=0;e<this.komwei.children.length;e++){this.komwei.children[e].on(cc.Node.EventType.TOUCH_START,this.onHeroTouchStart,this),this.komwei.children[e].on(cc.Node.EventType.TOUCH_MOVE,this.onHeroTouchMove,this),this.komwei.children[e].on(cc.Node.EventType.TOUCH_END,this.onHeroTouchEnd,this),this.komwei.children[e].on(cc.Node.EventType.TOUCH_CANCEL,this.onHeroTouchCancel,this);var t=this.komwei.children[e].getContentSize(),a=this.komwei.children[e].getPosition();this.hero_team_rect.push(cc.rect(a.x-t.width/2,a.y-t.height/2,t.width,t.height)),this.hero_team_pos.push(a)}var n=this.ScrollVie.getPosition(),o=this.ScrollVie.getContentSize();this.ScrollViewrect=cc.rect(n.x-o.width/2,n.y-o.height/2,o.width,o.height)},t.prototype.onHeroTouchStart=function(e){var t=e.getCurrentTarget(),a=this.komwei.convertToNodeSpaceAR(e.getLocation()),n=Number(t.name);this.clickheroposition=n;var o=d.HeroManager.getInstance().getTeamList(u.default.getInstance().cur_game_mode);o[n]!=h.Hero_Type.NULL&&-1!=o[n]&&(this.komwei.children[this.clickheroposition].getChildByName("hero").active=!1,this.komwei.children[this.clickheroposition].getChildByName("Prepare_Void").active=!0,this.komwei.children[this.clickheroposition].getChildByName("winText").active=!0,this.komwei.children[this.clickheroposition].getChildByName("heroShadow").active=!1,this.Mouse.setPosition(a),this.Mouse.getChildByName("hero").getComponent(sp.Skeleton).skeletonData=this.sp[o[n]-1],this.Mouse.getChildByName("hero").getComponent(sp.Skeleton).animation="Idle",this.Mouse.active=!0)},t.prototype.onHeroTouchMove=function(e){if(-1!=this.clickheroposition){e.getCurrentTarget();var t=this.komwei.convertToNodeSpaceAR(e.getLocation());this.Mouse.setPosition(t)}},t.prototype.Selfposition=function(e){var t=d.HeroManager.getInstance().getTeamList(u.default.getInstance().cur_game_mode);1==this.Mouse.active&&(this.Mouse.active=!1),1==this.Mouseitem.active&&(this.Mouseitem.active=!1),t[e]!=h.Hero_Type.NULL&&-1!=t[e]?(this.komwei.children[e].getChildByName("hero").active=!0,this.komwei.children[e].getChildByName("Prepare_Void").active=!1,this.komwei.children[e].getChildByName("winText").active=!1,this.komwei.children[e].getChildByName("heroShadow").active=!0,this.komwei.children[e].getChildByName("hero").getComponent(sp.Skeleton).skeletonData=this.sp[t[e]-1],this.komwei.children[e].getChildByName("hero").getComponent(sp.Skeleton).animation="Idle"):(this.komwei.children[e].getChildByName("hero").active=!1,this.komwei.children[e].getChildByName("Prepare_Void").active=!0,this.komwei.children[e].getChildByName("winText").active=!0,this.komwei.children[e].getChildByName("heroShadow").active=!1)},t.prototype.onHeroTouchEnd=function(){-1!=this.clickheroposition&&this.Selfposition(this.clickheroposition)},t.prototype.onHeroTouchCancel=function(e){e.getCurrentTarget();for(var t=this.ScrollVie.parent.convertToNodeSpaceAR(e.getLocation()),a=this.komwei.convertToNodeSpaceAR(e.getLocation()),n=d.HeroManager.getInstance().getTeamList(u.default.getInstance().cur_game_mode),o=0;o<this.hero_team_rect.length;o++)if(1==this.hero_team_rect[o].contains(a)){this.putdownheroposition=o,this.Mouse.active=!1;var i=n[this.putdownheroposition],r=n[this.clickheroposition];return n[this.putdownheroposition]=r,n[this.clickheroposition]=i,d.HeroManager.getInstance().saveTeamList(u.default.getInstance().cur_game_mode,n),this.Selfposition(this.putdownheroposition),void this.Selfposition(this.clickheroposition)}1==this.ScrollViewrect.contains(t)?(this.Mouse.active=!1,n[this.clickheroposition]=-1,d.HeroManager.getInstance().saveTeamList(u.default.getInstance().cur_game_mode,n),this.Refreshheroitmestatus()):this.Selfposition(this.clickheroposition)},t.prototype.init=function(t){var a=this;e.prototype.init.call(this,t);var n=p.default.Currentlevel,o=null;switch(this.Common_Btn_Back.active=!0,u.default.getInstance().cur_game_mode){case l.GameMode.Main:o=m.MissionLevelManager.getInstance().getFightingInfo(n);break;case l.GameMode.Endless:var i=N.TheStorageManager.getInstance().getNumber(w.StorageKey.UnlimitedChallengeDamage,0),c=s.EndlessLevelsManager.getInstance().getRound(i);o=s.EndlessLevelsManager.getInstance().getFightingInfo(c);break;case l.GameMode.Boss_Challenge:o=r.BossChallengeManager.getInstance().getFightingInfo(r.BossChallengeManager.getInstance().cur_challenge_mode);break;case l.GameMode.Maze:o=I.MazeManager.getInstance().getFightingInfo(this.Mazeid);break;case l.GameMode.Tower:o=E.TowerLevelManager.getInstance().getFightingInfo(R.default.getTowerLevel())}this.Prepare_Btn_Monster.active=!0;var g=o.getOnlyMonsterDataList();if(this.leveltxt.getComponent(cc.Label).string=""+o.title_name,u.default.getInstance().cur_game_mode==l.GameMode.Main){var d=m.MissionLevelManager.getInstance().getChapter(n)-1;this.mybj.getComponent(cc.Sprite).spriteFrame=this.bj[d],this.mywall.getComponent(cc.Sprite).spriteFrame=this.wall[d]}if(u.default.getInstance().cur_game_mode==l.GameMode.Endless&&(this.mybj.getComponent(cc.Sprite).spriteFrame=this.bg_Endless,this.mywall.getComponent(cc.Sprite).spriteFrame=this.wall[4],this.Prepare_Btn_Monster.active=!1,g=[]),u.default.getInstance().cur_game_mode==l.GameMode.Boss_Challenge){var h=1e3*A.UserInfo.getInstance().RotationOrder+1,f=r.BossChallengeManager.getInstance().getChapterScene(h);this.mybj.getComponent(cc.Sprite).spriteFrame=this.bj[f],this.mywall.getComponent(cc.Sprite).spriteFrame=this.wall[f]}u.default.getInstance().cur_game_mode==l.GameMode.Maze&&(this.mybj.getComponent(cc.Sprite).spriteFrame=this.bg_Maze,this.mywall.getComponent(cc.Sprite).spriteFrame=this.bg_wall,this.Common_Btn_Back.active=!1);for(var _=[],y=[],C=[],S=0;S<g.length;S++)3==v.MonsterConfigureManager.getInstance().getStrengthType(g[S].id)&&_.push(g[S]),2==v.MonsterConfigureManager.getInstance().getStrengthType(g[S].id)&&y.push(g[S]),1==v.MonsterConfigureManager.getInstance().getStrengthType(g[S].id)&&C.push(g[S]);this.MonsterDetailsarr.length=0,this.MonsterDetailsarr.splice.apply(this.MonsterDetailsarr,[this.MonsterDetailsarr.length,0].concat(_)),this.MonsterDetailsarr.splice.apply(this.MonsterDetailsarr,[this.MonsterDetailsarr.length,0].concat(y)),this.MonsterDetailsarr.splice.apply(this.MonsterDetailsarr,[this.MonsterDetailsarr.length,0].concat(C));for(var P=function(e){var t=0,n=0;if(e<_.length?(n=_[e].id,t=v.MonsterConfigureManager.getInstance().getMonsterClass(n)):e<_.length+y.length?(n=y[e-_.length].id,t=v.MonsterConfigureManager.getInstance().getMonsterClass(n)):e<_.length+y.length+C.length&&(n=C[e-_.length-y.length].id,t=v.MonsterConfigureManager.getInstance().getMonsterClass(n)),k.heroShadow.children[e].active=!1,t>0){var o="monster/ui/Monster_"+t,i=null;cc.resources.load(o,cc.Prefab,function(t,o){if(t)cc.log(t);else{(i=cc.instantiate(o)).setPosition(0,0,0),i.scale=v.MonsterConfigureManager.getInstance().getScale(n);var r=v.MonsterConfigureManager.getInstance().getStrengthType(n);i.parent=a.pos.children[e],a.heroShadow.children[e].active=!0,3==r&&(a.heroShadow.children[e].setScale(1.3,1.3),i.scale=.5*v.MonsterConfigureManager.getInstance().getScale(n),i.getComponent(sp.Skeleton).setAnimation(0,M.MonsterActionName.Idle,!0)),2==r&&(a.heroShadow.children[e].setScale(.7,.7),i.scale=.6*v.MonsterConfigureManager.getInstance().getScale(n),i.getComponent(sp.Skeleton).setSkin(M.MonsterFaceName.SideR+v.MonsterConfigureManager.getInstance().getSkin(n)),i.getComponent(sp.Skeleton).setAnimation(0,M.MonsterFaceName.SideR+"_"+M.MonsterActionName.Idle,!0)),1==r&&(a.heroShadow.children[e].setScale(.4,.4),i.scale=.8*v.MonsterConfigureManager.getInstance().getScale(n),i.getComponent(sp.Skeleton).setSkin(M.MonsterFaceName.SideR+v.MonsterConfigureManager.getInstance().getSkin(n)),i.getComponent(sp.Skeleton).setAnimation(0,M.MonsterFaceName.SideR+"_"+M.MonsterActionName.Idle,!0))}})}},k=this,b=0;b<this.pos.children.length;b++)P(b);this.Refreshheroitmestatus();var T=cc.find("Canvas");this.node.getComponent(cc.Widget).target=T,this.Monster.active=!1,this.Chariot.active=!1},t.prototype.Refreshheroitmestatus=function(){for(var e,t,a=d.HeroManager.getInstance().getHeroList(),n=[],o=a,i=this.guaiwuarr.length;i<a.length;i++){var r=cc.instantiate(this.hero_item);r.name=""+i,r.setScale(.75,.75),r.parent=this.content,this.guaiwuarr.push(r),r.on(cc.Node.EventType.TOUCH_END,this.onHeroItemTouchEnd,this)}for(var s=0;s<a.length;s++){var c=d.HeroManager.getInstance().getHeroData(a[s].hero_type);n.push(c.total_attack)}for(var l=0;l<n.length;l++)for(var g=0;g<n.length-1;g++)n[g+1]>n[g]&&(e=n[g],n[g]=n[g+1],n[g+1]=e,t=o[g],o[g]=o[g+1],o[g+1]=t);var p=d.HeroManager.getInstance().getTeamList(u.default.getInstance().cur_game_mode);this.greybuttonjudgment=0;for(var h=0,_=0;_<p.length;_++){var m=p[_];m>0?(h++,this.greybuttonjudgment=1,this.komwei.children[_].getChildByName("Prepare_Void").active=!1,this.komwei.children[_].getChildByName("winText").active=!1,this.komwei.children[_].getChildByName("heroShadow").active=!0,this.komwei.children[_].getChildByName("hero").active=!0,this.komwei.children[_].getChildByName("hero").getComponent(sp.Skeleton).skeletonData=this.sp[m-1],this.komwei.children[_].getChildByName("hero").getComponent(sp.Skeleton).animation="Idle"):(this.komwei.children[_].getChildByName("winText").active=!0,this.komwei.children[_].getChildByName("heroShadow").active=!1,this.komwei.children[_].getChildByName("Prepare_Void").active=!0,this.komwei.children[_].getChildByName("hero").active=!1)}for(l=0;l<h;l++)h>D.default.getInstance().getTaskNowProgress(L.TaskItem.\u4e0a\u9635X\u540d\u82f1\u96c4)&&D.default.getInstance().emitTask(L.TaskItem.\u4e0a\u9635X\u540d\u82f1\u96c4);0==this.greybuttonjudgment?(this.Common_Btn_0.getChildByName("Label").getComponent(k.default).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),this.Common_Btn_0.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite"))):(this.Common_Btn_0.getChildByName("Label").getComponent(k.default).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),this.Common_Btn_0.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")));for(var y=0,I=0;I<o.length;I++){this.guaiwuarr[I].getComponent(f.default).RefreshHeroesItem(o[I].hero_type);for(var v=0;v<p.length;v++)p[v]==o[I].hero_type&&(this.guaiwuarr[I].getChildByName("shangzheng").active=!0)}for(var M=0;M<p.length;M++)p[M]>0&&(y+=d.HeroManager.getInstance().getHeroData(p[M]).total_hp);y=Math.round(y/5),this.jdt.getComponent(cc.Label).string=y+"/"+y},t.prototype.onHeroItemTouchEnd=function(e){var t=e.getCurrentTarget();if(this.ScrollViews.getComponent(cc.ScrollView).enabled=!0,0==t.getChildByName("shangzheng").active){for(var a=d.HeroManager.getInstance().getTeamList(u.default.getInstance().cur_game_mode),n=0;n<a.length;n++)if(-1==a[n]||a[n]==h.Hero_Type.NULL)return a[n]=t.getComponent(f.default).hero_type,d.HeroManager.getInstance().saveTeamList(u.default.getInstance().cur_game_mode,a),void this.Refreshheroitmestatus();u.default.getInstance().showMessage(P.default.getInstance().getStrByTextId(130013))}else u.default.getInstance().showMessage(P.default.getInstance().getStrByTextId(100091))},t.prototype.clickBtnStart=function(){if(0!=this.greybuttonjudgment){this.des();var t=u.default.getInstance();S.default.getInstance().followEvent(C.Follow_Type.\u70b9\u51fb\u5f00\u59cb\u6311\u6218\u7528\u6237\u6570),t.sound_manager.playSound(B.SoundIndex.click);var a=null;switch(u.default.getInstance().cur_game_mode){case l.GameMode.Main:a=x.default.getInstance().is_finish_game?m.MissionLevelManager.getInstance().getFightingInfo(p.default.Currentlevel):y.TutorialLevelManager.getInstance().getFightingInfo(p.default.Currentlevel),_.LevelManager.getInstance().start_level=p.default.Currentlevel;break;case l.GameMode.Endless:T.PropManager.getInstance().changePropNum(b.PropId.EndlessChallenge,-1),a=s.EndlessLevelsManager.getInstance().getFightingInfo(1);break;case l.GameMode.Boss_Challenge:T.PropManager.getInstance().changePropNum(b.PropId.BossTicket,-1),a=r.BossChallengeManager.getInstance().getFightingInfo(r.BossChallengeManager.getInstance().cur_challenge_mode);break;case l.GameMode.Maze:if(G.default.voidsensid=this.Mazeid,a=I.MazeManager.getInstance().getFightingInfo(this.Mazeid),t.cur_game_scene==l.GameScene.game)return e.prototype.onRefresh.call(this),e.prototype.onClose.call(this),void t.startNextLevel();break;case l.GameMode.Tower:}u.default.getInstance().fighting_info=a,t.refreshUserExpShow();var n=F.UIManager.getInstance().getLoadingNode();n.active=!0;var o=n.getChildByName("ProgressBar").getComponent(cc.ProgressBar),i=o.node.getChildByName("loadLabel").getComponent(cc.Label);cc.director.preloadScene(l.GameScene.game,function(e,a){var n=e/a/2;o.progress=n,i.string=(100*o.progress).toFixed(0)+"%",t.cur_load_progress=n},function(){cc.director.loadScene(l.GameScene.game)})}else u.default.getInstance().showMessage(P.default.getInstance().getStrByTextId(130006))},t.prototype.des=function(){for(var e=0;e<this.pos.children.length;e++)this.pos.children[e].children.length>0&&this.pos.children[e].children[0].destroy()},t.prototype.clickBtnMonster=function(){this.Monster.getComponent(U.default).MonsterDetailsarr=this.MonsterDetailsarr,this.Monster.active=!0},t.prototype.clickBtnChariot=function(){this.Chariot.active=!0},t.prototype.clickBtnClose=function(){cc.find("Canvas/main_ui").getComponent(j.default).refreshMainTaskUi(),u.default.getInstance().sound_manager.playSound(B.SoundIndex.click),this.des(),this.destroySelf(),u.default.getInstance().cur_game_mode==l.GameMode.Endless?F.UIManager.getInstance().showUiDialog(H.UIPath.VndlessChallenges,H.UILayerLevel.One,{onCompleted:function(e){e.getComponent(g.default).init({onClose:function(){}}),e.getComponent(g.default).initUi(2)}}):u.default.getInstance().cur_game_mode==l.GameMode.Boss_Challenge&&F.UIManager.getInstance().showUiDialog(H.UIPath.VndlessChallenges,H.UILayerLevel.One,{onCompleted:function(e){e.getComponent(g.default).init({onClose:function(){}}),e.getComponent(g.default).initUi(3)}})},t.prototype.destroySelf=function(){e.prototype.onClose.call(this),c.default.getInstance().closeBanner()},i([V(cc.Prefab)],t.prototype,"hero_item",void 0),i([V(cc.Node)],t.prototype,"Monster",void 0),i([V(cc.Node)],t.prototype,"Chariot",void 0),i([V(cc.Node)],t.prototype,"pos",void 0),i([V(cc.Node)],t.prototype,"heroShadow",void 0),i([V(cc.Node)],t.prototype,"leveltxt",void 0),i([V(cc.Node)],t.prototype,"komwei",void 0),i([V(cc.Node)],t.prototype,"content",void 0),i([V(sp.SkeletonData)],t.prototype,"sp",void 0),i([V(cc.Node)],t.prototype,"ScrollVie",void 0),i([V(cc.Node)],t.prototype,"ScrollViews",void 0),i([V(cc.Node)],t.prototype,"Mouse",void 0),i([V(cc.Node)],t.prototype,"Mouseitem",void 0),i([V(cc.Node)],t.prototype,"Common_Btn_0",void 0),i([V(cc.Node)],t.prototype,"jdt",void 0),i([V(cc.SpriteFrame)],t.prototype,"bj",void 0),i([V(cc.SpriteFrame)],t.prototype,"wall",void 0),i([V(cc.Node)],t.prototype,"mybj",void 0),i([V(cc.Node)],t.prototype,"mywall",void 0),i([V(cc.SpriteFrame)],t.prototype,"bg_Endless",void 0),i([V(cc.Node)],t.prototype,"Prepare_Btn_Monster",void 0),i([V(cc.Node)],t.prototype,"Common_Btn_Back",void 0),i([V(cc.SpriteFrame)],t.prototype,"bg_Maze",void 0),i([V(cc.SpriteFrame)],t.prototype,"bg_wall",void 0),i([W],t)}(O.default);a.default=q,cc._RF.pop()},{"../../Activity/BossChallenge":"BossChallenge","../../Activity/EndlessLevels":"EndlessLevels","../../Ads/ApkManager":"ApkManager","../../Constants":"Constants","../../GameManager":"GameManager","../../GuaJi/MapManager":"MapManager","../../Hero/Data/HeroManager":"HeroManager","../../Hero/Game/HeroConfig":"HeroConfig","../../Hero/Ui/HeroItem":"HeroItem","../../Level/LevelManager":"LevelManager","../../Level/MissionLevel":"MissionLevel","../../Level/TutorialLevel":"TutorialLevel","../../Maze/MazeManager":"MazeManager","../../Monster/Data/MonsterConfigure":"MonsterConfigure","../../Monster/MonsterData":"MonsterData","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../Storage/StorageConfig":"StorageConfig","../../Storage/StorageManager":"StorageManager","../../Task/TaskEnum":"TaskEnum","../../Task/TaskManager":"TaskManager","../../Tower/TowerLevel":"TowerLevel","../../Tower/TowerManager":"TowerManager","../../Turntable/Times":"Times","../../Tutorials/TutorailsManager":"TutorailsManager","../../UserInfo/UserInfo":"UserInfo","../../copy/endlesschallenges/endlesschallenges":"endlesschallenges","../../multiLanguage/FollowConstants":"FollowConstants","../../multiLanguage/FollowManager":"FollowManager","../../multiLanguage/LanguageManager":"LanguageManager","../../multiLanguage/TextLanguage":"TextLanguage","../UIComponent":"UIComponent","../UIConfig":"UIConfig","../UIManager":"UIManager","./MainUi":"MainUi","./MonsterDetails":"MonsterDetails"}],ToPlayPreviewUi:[function(e,t,a){"use strict";cc._RF.push(t,"773c7M29RtHwJMZTD20ktG9","ToPlayPreviewUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Activity/BossChallenge"),s=e("../../Activity/EndlessLevels"),c=e("../../Constants"),l=e("../../GameManager"),g=e("../../Level/LevelManager"),u=e("../../Level/MissionLevel"),p=e("../../Maze/MazeManager"),d=e("../../Monster/Data/MonsterConfigure"),h=e("../../Monster/MonsterData"),f=e("../../Tower/TowerLevel"),_=e("../../Tower/TowerManager"),m=e("../UIComponent"),y=cc._decorator,I=y.ccclass,v=y.property,M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.to_play_ui=null,t.index=0,t.bossIndex=0,t}return o(t,e),t.prototype.start=function(){this.refreshUi()},t.prototype.init=function(t){e.prototype.init.call(this,t),this.refreshUi()},t.prototype.refreshUi=function(){var e=this,t=g.LevelManager.getInstance().start_level,a=new c.FightingInfo;switch(l.default.getInstance().cur_game_mode){case c.GameMode.Main:a=u.MissionLevelManager.getInstance().getFightingInfo(t);break;case c.GameMode.Endless:a=s.EndlessLevelsManager.getInstance().getFightingInfo(1);break;case c.GameMode.Boss_Challenge:a=r.BossChallengeManager.getInstance().getFightingInfo(r.BossChallengeManager.getInstance().cur_challenge_mode);break;case c.GameMode.Maze:a=p.MazeManager.getInstance().getFightingInfo();break;case c.GameMode.Tower:a=f.TowerLevelManager.getInstance().getFightingInfo(_.default.getTowerLevel())}l.default.getInstance().fighting_info=a;var n=this.node.getChildByName("bg1");this.node.getChildByName("levelLabel").getComponent(cc.Label).string=a.title_name,cc.resources.load(a.bg_name,cc.SpriteFrame,function(e,t){e?console.log(e):n.getComponent(cc.Sprite).spriteFrame=t}),a.getOnlyMonsterDataList().forEach(function(t){d.MonsterConfigureManager.getInstance().getJsonMonsterConfigure(t.id)||cc.log(t.id);var a=d.MonsterConfigureManager.getInstance().getMonsterClass(t.id);e.loadPrefab(""+a,t.id,t.level)})},t.prototype.loadPrefab=function(e,t,a){var n=this,o="monster/ui/Monster_"+e,i=null;cc.resources.load(o,cc.Prefab,function(e,o){if(e)cc.log(e);else{i=cc.instantiate(o);var r=new cc.Node;r.addComponent(cc.Sprite).spriteFrame=n.to_play_ui.getSpriteFrame("Prepare_Level_Bg");var s=new cc.Node;if(s.addComponent(cc.Label).string="Lv."+a,s.getComponent(cc.Label).fontSize=28,s.color=cc.color(255,255,255),s.getComponent(cc.Label).enableBold=!0,s.addComponent(cc.LabelOutline).color=cc.color(27,35,52),s.getComponent(cc.LabelOutline).width=2,s.parent=r,s.setPosition(cc.v2(0,0)),s.anchorY=.4,3!=d.MonsterConfigureManager.getInstance().getStrengthType(t))i.parent=n.node.getChildByName("pos"+n.index),r.parent=n.node.getChildByName("pos"+n.index),i.setPosition(cc.v2(0,0)),r.setPosition(cc.v2(0,0)),n.index++,r.scale=.7,i.getComponent(sp.Skeleton).setSkin(h.MonsterFaceName.Front+d.MonsterConfigureManager.getInstance().getSkin(t)),i.getComponent(sp.Skeleton).setAnimation(0,h.MonsterFaceName.Front+"_"+h.MonsterActionName.Idle,!0);else{var c=new cc.Node;c.addComponent(cc.Sprite).spriteFrame=n.to_play_ui.getSpriteFrame("Prepare_Icon_Boss"),c.parent=r,c.setPosition(cc.v2(-60,0)),c.anchorY=0,i.parent=n.node.getChildByName("bossPos"+n.bossIndex),r.parent=n.node.getChildByName("bossPos"+n.bossIndex),r.setPosition(cc.v2(0,0)),i.setPosition(cc.v2(0,0)),n.bossIndex++,i.getComponent(sp.Skeleton).setAnimation(0,"idle",!0)}r.anchorY=0,i.scale=d.MonsterConfigureManager.getInstance().getScale(t),r.setPosition(cc.v2((i.getPosition().x+i.getChildByName("hp").getPosition().x)*i.scale,(i.getPosition().y+i.getChildByName("hp").getPosition().y)*i.scale))}})},i([v(cc.SpriteAtlas)],t.prototype,"to_play_ui",void 0),i([I],t)}(m.default);a.default=M,cc._RF.pop()},{"../../Activity/BossChallenge":"BossChallenge","../../Activity/EndlessLevels":"EndlessLevels","../../Constants":"Constants","../../GameManager":"GameManager","../../Level/LevelManager":"LevelManager","../../Level/MissionLevel":"MissionLevel","../../Maze/MazeManager":"MazeManager","../../Monster/Data/MonsterConfigure":"MonsterConfigure","../../Monster/MonsterData":"MonsterData","../../Tower/TowerLevel":"TowerLevel","../../Tower/TowerManager":"TowerManager","../UIComponent":"UIComponent"}],ToPlayUi:[function(e,t,a){"use strict";cc._RF.push(t,"53b11DCIS9Evqic9TrYV6tx","ToPlayUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../GameManager"),c=e("../../Hero/Data/HeroManager"),l=e("../../Hero/Game/HeroConfig"),g=e("../../Hero/Ui/BtnHero"),u=e("../../JsonData/FunctionDefinition"),p=e("../../multiLanguage/LanguageManager"),d=e("../../Pet/PetConfig"),h=e("../../Pet/Ui/BtnPet"),f=e("../../Sound/AudioConstants"),_=cc._decorator,m=_.ccclass,y=_.property,I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.item=null,t.hero_team_rect=[],t.pet_team_rect=[],t.hero_touch_icon=null,t.pet_touch_icon=null,t.pet_list_touch_icon=null,t.hero_select=null,t.pet_select=null,t.hero_team_pos=[],t.pet_team_pos=[],t.offset_x=0,t.offset_y=0,t.state=d.PetType.All,t.content=null,t}return o(t,e),t.prototype.start=function(){this.initSelectPart(),this.content=this.node.getChildByName("scroll0").getComponent(cc.ScrollView).content,this.refreshScroll()},t.prototype.initSelectPart=function(){this.hero_select=this.node.getChildByName("heroSelect"),this.pet_select=this.node.getChildByName("petSelect"),this.node.getChildByName("tipLabel1").getComponent(cc.Label).string=p.default.getInstance().getStrByTextId(130002),this.node.getChildByName("tipLabel2").getComponent(cc.Label).string=p.default.getInstance().getStrByTextId(640009),this.hero_select.active=!1,this.pet_select.active=!1;for(var e=c.HeroManager.getInstance().getTeamList(s.default.getInstance().cur_game_mode),t=1;t<l.Hero_Type.Hero_Num;t++){var a=this.node.getChildByName("btn_hero"+t),n=a.getContentSize(),o=a.getPosition();this.hero_team_rect.push(cc.rect(o.x-n.width/2,o.y-n.height/2,n.width,n.height)),this.hero_team_pos.push(o);var i=this.node.getChildByName("btn_pet"+t),r=i.getPosition(),u=i.getContentSize();if(this.pet_team_rect.push(cc.rect(r.x-u.width/2,r.y-u.height/2,u.width,u.height)),this.pet_team_pos.push(r),c.HeroManager.getInstance().getHeroLevel(e[t-1])>0){if(e[t-1]<l.Hero_Type.ChangMaoShou)continue;a.getComponent(g.default).init(e[t-1]),a.on(cc.Node.EventType.TOUCH_START,this.onHeroTouchStart,this),a.on(cc.Node.EventType.TOUCH_MOVE,this.onHeroTouchMove,this),a.on(cc.Node.EventType.TOUCH_END,this.onHeroTouchEnd,this),a.on(cc.Node.EventType.TOUCH_CANCEL,this.onHeroTouchCancel,this)}}},t.prototype.refreshScroll=function(){this.node.getChildByName("selectTypeBg").setPosition(this.node.getChildByName("type"+this.state).position),this.content.removeAllChildren()},t.prototype.refreshSelectPart=function(){for(var e=c.HeroManager.getInstance().getTeamList(s.default.getInstance().cur_game_mode),t=1;t<l.Hero_Type.Hero_Num;t++)if(!(e[t-1]<l.Hero_Type.ChangMaoShou)){this.node.getChildByName("btn_hero"+t).getComponent(g.default).init(e[t-1]);var a=this.node.getChildByName("btn_pet"+t);null!=c.HeroManager.getInstance().getHeroData(e[t-1]).pet_info?a.getComponent(h.default).init(c.HeroManager.getInstance().getHeroData(e[t-1]).pet_info):u.FunctionDefinitionManager.getInstance().getIsUnlock(r.FuncType.ChongWuXiTong)&&a.getComponent(h.default).showNull()}},t.prototype.onHeroTouchStart=function(e){var t=e.getCurrentTarget().getComponent(g.default),a=c.HeroManager.getInstance().getTeamList(s.default.getInstance().cur_game_mode)[t.team_index],n=this.node.getChildByName("btn_pet"+(t.team_index+1)).getComponent(h.default);if(null!=this.hero_touch_icon&&(this.hero_touch_icon.removeFromParent(),this.hero_touch_icon=null),null!=this.pet_touch_icon&&(this.pet_touch_icon.removeFromParent(),this.pet_touch_icon=null),a>=l.Hero_Type.ChangMaoShou){var o=t.icon;this.hero_touch_icon=cc.instantiate(o),this.hero_touch_icon.anchorY=.5,s.default.getInstance().sound_manager.playSound(f.SoundIndex.click);var i=this.node.convertToNodeSpaceAR(e.getLocation());if(this.hero_touch_icon.parent=this.node,this.hero_touch_icon.setPosition(i),null!=c.HeroManager.getInstance().getHeroData(a).pet_info){var r=n.icon;this.pet_touch_icon=cc.instantiate(r),this.pet_touch_icon.anchorY=.5,this.offset_x=t.node.x-n.node.x,this.offset_y=t.node.y-n.node.y;var u=cc.v2(this.hero_touch_icon.x-this.offset_x,this.hero_touch_icon.y-this.offset_y);this.pet_touch_icon.parent=this.node,this.pet_touch_icon.setPosition(u)}}},t.prototype.onHeroTouchMove=function(e){if(this.hero_touch_icon){var t=e.getCurrentTarget().getComponent(g.default),a=c.HeroManager.getInstance().getTeamList(s.default.getInstance().cur_game_mode),n=t.team_index,o=this.node.convertToNodeSpaceAR(e.getLocation());if(this.hero_touch_icon.setPosition(o),this.pet_touch_icon){var i=cc.v2(this.hero_touch_icon.x-this.offset_x,this.hero_touch_icon.y-this.offset_y);this.pet_touch_icon.setPosition(i)}for(var r=-1,l=!1,u=0;u<this.hero_team_rect.length;u++)if(1==this.hero_team_rect[u].contains(o)){r=u;break}if(r>=0&&n!=r){if(l=!0,a[r]<1)return;this.hero_select.setPosition(this.hero_team_pos[r]),this.pet_team_pos[r]&&this.pet_select.setPosition(this.pet_team_pos[r])}this.hero_select.active=l,this.pet_touch_icon&&(this.pet_select.active=l)}},t.prototype.onHeroTouchEnd=function(e){if(this.hero_touch_icon){var t=c.HeroManager.getInstance().getTeamList(s.default.getInstance().cur_game_mode);this.hero_select.active=!1,this.pet_select.active=!1,this.hero_touch_icon.removeFromParent(),this.hero_touch_icon=null,this.pet_touch_icon&&(this.pet_touch_icon.removeFromParent(),this.pet_touch_icon=null);for(var a=e.getCurrentTarget().getComponent(g.default),n=this.node.convertToNodeSpaceAR(e.getLocation()),o=-1,i=0;i<this.hero_team_rect.length;i++)if(1==this.hero_team_rect[i].contains(n)){o=i;break}if(-1!=o){if(t[o]<1)return;c.HeroManager.getInstance().saveTeamList(s.default.getInstance().cur_game_mode,this.exchangeIndex(o,a.team_index,t)),this.refreshSelectPart()}}},t.prototype.onHeroTouchCancel=function(e){if(this.hero_touch_icon){var t=c.HeroManager.getInstance().getTeamList(s.default.getInstance().cur_game_mode);this.hero_select.active=!1,this.pet_select.active=!1,this.hero_touch_icon.removeFromParent(),this.hero_touch_icon=null,this.pet_touch_icon&&(this.pet_touch_icon.removeFromParent(),this.pet_touch_icon=null);for(var a=e.getCurrentTarget().getComponent(g.default),n=(a.team_index,this.node.convertToNodeSpaceAR(e.getLocation())),o=-1,i=0;i<this.hero_team_rect.length;i++)if(1==this.hero_team_rect[i].contains(n)){o=i;break}if(-1!=o){if(t[o]<1)return;c.HeroManager.getInstance().saveTeamList(s.default.getInstance().cur_game_mode,this.exchangeIndex(o,a.team_index,t)),this.refreshSelectPart()}}},t.prototype.onSelectBtnClick=function(e,t){this.state=Number(t);for(var a=0;a<4;a++){var n=this.node.getChildByName("scroll"+a);n.active=!1,a==this.state&&(n.active=!0,this.content=n.getComponent(cc.ScrollView).content)}this.node.getChildByName("selectTypeBg").setPosition(this.node.getChildByName("type"+this.state).position),0==this.content.childrenCount&&this.refreshScroll()},t.prototype.exchangeIndex=function(e,t,a){var n=a[e];return a[e]=a[t],a[t]=n,a},t.prototype.exchangePet=function(e,t){var a=c.HeroManager.getInstance().getHeroData(e).pet_info;c.HeroManager.getInstance().getHeroData(t).pet_info.changeBindHero(a,e)},t.prototype.onClickIndentationBtn=function(e,t){var a,n=this;a=1==t?cc.v3(0,this.node.y-this.node.getChildByName("Prepare_Bg_2").height-25,0):cc.v3(0,this.node.y+this.node.getChildByName("Prepare_Bg_2").height+25,0),cc.tween(this.node).to(.2,{position:a}).call(function(){1==t?(n.node.getChildByName("indentation1").active=!1,n.node.getChildByName("indentation2").active=!0):(n.node.getChildByName("indentation1").active=!0,n.node.getChildByName("indentation2").active=!1)}).start()},i([y(cc.Prefab)],t.prototype,"item",void 0),i([m],t)}(cc.Component);a.default=I,cc._RF.pop()},{"../../Constants":"Constants","../../GameManager":"GameManager","../../Hero/Data/HeroManager":"HeroManager","../../Hero/Game/HeroConfig":"HeroConfig","../../Hero/Ui/BtnHero":"BtnHero","../../JsonData/FunctionDefinition":"FunctionDefinition","../../Pet/PetConfig":"PetConfig","../../Pet/Ui/BtnPet":"BtnPet","../../Sound/AudioConstants":"AudioConstants","../../multiLanguage/LanguageManager":"LanguageManager"}],TotalLongJingItem:[function(e,t,a){"use strict";cc._RF.push(t,"feb63e/3EhPrp+1yLDpMTqI","TotalLongJingItem");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../GameManager"),s=e("../multiLanguage/TextLanguage"),c=e("../Prop/PropManager"),l=e("../Sound/AudioConstants"),g=e("../Tools/EventManager"),u=e("./Data/CumulativeRecharge"),p=e("./PayManager"),d=e("./PaymentUi"),h=cc._decorator,f=h.ccclass,_=(h.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.total_id=0,t}return o(t,e),t.prototype.onEnable=function(){this.init()},t.prototype.init=function(){this.refreshReward(),this.refreshBtn()},t.prototype.refreshReward=function(){var e=this,t=p.PayManager.getInstance().getTotalLongJingNum(),a=u.CumulativeRechargeManager.getInstance(),n=a.getData(),o=!1;if(n.forEach(function(t){var a=p.PayManager.getInstance().getTotalLongJingGetState(t.CumulativeRechargeID);o||1!=a||(o=!0,e.total_id=t.CumulativeRechargeID)}),0!=o||(this.total_id=a.getId(t),0!=this.total_id)){var i=this.node.getChildByName("itemScrollView").getComponent(cc.ScrollView).content;i.removeAllChildren();for(var r=a.getRewardData(this.total_id),l=0;l<r.length;l++){var g=r[l],d=c.PropManager.getInstance().createPropItem(g.reward_id,g.reward_num);i.addChild(d)}var h=a.getCumulativeRechargePrice(this.total_id);this.node.getChildByName("numLabel").getComponent(cc.Label).string=t+"/"+h,this.node.getChildByName("progressBar").getComponent(cc.ProgressBar).progress=t/h,this.node.getChildByName("numText").getComponent(s.default).setReplaceValue("~",""+h)}else this.node.removeFromParent()},t.prototype.refreshBtn=function(){var e=this.node.getChildByName("btnGet").getComponent(cc.Button),t=p.PayManager.getInstance().getTotalLongJingGetState(this.total_id);e.interactable=1==t,e.node.getChildByName("red").active=e.interactable},t.prototype.onClickGet=function(){if(r.default.getInstance().sound_manager.playSound(l.SoundIndex.click),1==p.PayManager.getInstance().getTotalLongJingGetState(this.total_id)){p.PayManager.getInstance().setTotalLongJingGetState(this.total_id,2);for(var e=u.CumulativeRechargeManager.getInstance().getRewardData(this.total_id),t=new Array,a=0;a<e.length;a++){var n=e[a],o=c.PropManager.getInstance().createPropItem(n.reward_id,n.reward_num);c.PropManager.getInstance().changePropNum(n.reward_id,n.reward_num),t.push(o)}r.default.getInstance().showMultipleGetTip(t),g.EventManager.postRedEvent(g.RedEventString.RED_CHECK,g.RedEventType.Btn_Main_Shop_LongJing),this.init()}},t.prototype.onClickBtnMore=function(){r.default.getInstance().sound_manager.playSound(l.SoundIndex.click),d.default._instance.showIndex(4)},i([f],t)}(cc.Component));a.default=_,cc._RF.pop()},{"../GameManager":"GameManager","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../Tools/EventManager":"EventManager","../multiLanguage/TextLanguage":"TextLanguage","./Data/CumulativeRecharge":"CumulativeRecharge","./PayManager":"PayManager","./PaymentUi":"PaymentUi"}],TouDan:[function(e,t,a){"use strict";cc._RF.push(t,"1159f461VdHIojYp3LicB3Y","TouDan");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Game/GameEffectsManager"),s=e("../../../GameManager"),c=e("../../../Monster/Monster"),l=e("../../../Monster/MonsterManager"),g=e("../../../Sound/AudioConstants"),u=e("../../../Tools/MyTool"),p=e("../GongJi"),d=e("../HeroConfig"),h=cc._decorator,f=h.ccclass,_=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.paodan_type=d.PaoDan_Type.skill,t.game_effect_id=r.GameEffectId.Null,t.target_pos=null,t}return o(t,e),t.prototype.init=function(t,a,n){e.prototype.initData.call(this,n),this.game_effect_id=t,this.target_pos=a,this.node.scale=3,this.node.x=a.x;var o=s.default.getInstance().enemy_att_y,i=1.5-(this.target_pos.y-o)/1e3;cc.tween(this.node).then(cc.spawn(cc.scaleTo(.6,i),cc.moveTo(.6,a))).call(this.destroySelf,this).start()},t.prototype.destroySelf=function(){this.createBomb(),s.default.getInstance().sound_manager.playSound(g.SoundIndex.YX_PaoShouSkill2),r.GameEffectsManager.getInstance().destroyGameEffectById(this.game_effect_id,this.node)},t.prototype.createBomb=function(){var e=r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.paoshou_paodan_hit,this.target_pos),t=this.gongji_data.hero_data.ExclusiveWeaponSkillValue_1,a=0;t&&t>0&&(a=t),u.default.randomSceneShake(-5,5,.02,6);var n=l.default.getInstance().getMonstersForCenterPos(-1,this.node.getPosition(),120*(1+a));if(n)for(var o=0;o<n.length;o++)n[o].getComponent(c.default).beFlashInjured(this.gongji_data);e.scale=1.75},i([_({type:cc.Enum(d.PaoDan_Type)})],t.prototype,"paodan_type",void 0),i([f],t)}(p.default);a.default=m,cc._RF.pop()},{"../../../Game/GameEffectsManager":"GameEffectsManager","../../../GameManager":"GameManager","../../../Monster/Monster":"Monster","../../../Monster/MonsterManager":"MonsterManager","../../../Sound/AudioConstants":"AudioConstants","../../../Tools/MyTool":"MyTool","../GongJi":"GongJi","../HeroConfig":"HeroConfig"}],TouchPlane:[function(e,t,a){"use strict";cc._RF.push(t,"24d5daFJVNHhI4qJNsEZxlO","TouchPlane");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.DirectionType=a.instance=void 0;var r,s=e("../../GameManager"),c=cc._decorator,l=c.ccclass;c.property,a.instance=new cc.EventTarget,function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(r=a.DirectionType||(a.DirectionType={}));var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.start=function(){},t.prototype.onLoad=function(){this._initTouchEvent()},t.prototype._initTouchEvent=function(){this.node.on(cc.Node.EventType.TOUCH_END,this._touchEndEvent,this)},t.prototype.onDestroy=function(){this._offTouchEvent()},t.prototype._offTouchEvent=function(){this.node.off(cc.Node.EventType.TOUCH_END,this._touchEndEvent,this)},t.prototype._touchEndEvent=function(e){var t=this.node.convertToNodeSpaceAR(e.getLocation()),n=r.LEFT,o=75*(s.default.getInstance().aniType-4);t.x>o?(n=r.RIGHT,s.default.getInstance().aniType<8&&s.default.getInstance().aniType++):s.default.getInstance().aniType>0&&s.default.getInstance().aniType--,a.instance.emit(cc.Node.EventType.TOUCH_END,e,{directionType:n})},i([l],t)}(cc.Component);a.default=g,cc._RF.pop()},{"../../GameManager":"GameManager"}],TowerFightingUi:[function(e,t,a){"use strict";cc._RF.push(t,"040d7VrFbhFLoEAAH9lkMKD","TowerFightingUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Ads/ApkManager"),s=e("../GameManager"),c=e("../Monster/MonsterIconManager"),l=e("../Prop/PropManager"),g=e("../Sound/AudioConstants"),u=e("../UI/UIComponent"),p=e("./TowerLevel"),d=e("./TowerReward"),h=cc._decorator,f=h.ccclass,_=(h.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t)},t.prototype.initData=function(e){var t=p.TowerLevelManager.getInstance().getFightingInfo(e),a=this.node.getChildByName("monsterScrollView").getComponent(cc.ScrollView).content;t.getOnlyMonsterDataList().forEach(function(e){var t=c.MonsterIconManager.getInstance().createMonsterIcon(e.id,e.level);a.addChild(t)});var n=d.TowerRewardManager.getInstance().getRewardDatas(e);a=this.node.getChildByName("rewardsScrollView").getComponent(cc.ScrollView).content,n.forEach(function(e){var t=l.PropManager.getInstance().createPropItem(e.reward_id,e.reward_num);a.addChild(t)})},t.prototype.clickBtnClose=function(){s.default.getInstance().sound_manager.playSound(g.SoundIndex.click),this.destroySelf()},t.prototype.destroySelf=function(){e.prototype.onClose.call(this),r.default.getInstance().closeBanner()},i([f],t)}(u.default));a.default=_,cc._RF.pop()},{"../Ads/ApkManager":"ApkManager","../GameManager":"GameManager","../Monster/MonsterIconManager":"MonsterIconManager","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../UI/UIComponent":"UIComponent","./TowerLevel":"TowerLevel","./TowerReward":"TowerReward"}],TowerGift:[function(e,t,a){"use strict";cc._RF.push(t,"278faZ+Fq5AjLCB2Tc9dtWV","TowerGift");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../GameManager"),s=e("../multiLanguage/LanguageManager"),c=e("../Sound/AudioConstants"),l=cc._decorator,g=l.ccclass,u=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.remain_sec=5,t}return o(t,e),t.prototype.start=function(){this.node.getChildByName("jobLabel").getComponent(cc.Label).string=s.default.getInstance().getStrByTextId(810006),this.schedule(this.countdown,1),this.showCountdown()},t.prototype.countdown=function(){this.remain_sec--,this.showCountdown(),this.remain_sec<0&&(this.unschedule(this.countdown),this.node.removeFromParent())},t.prototype.showCountdown=function(){this.node.getChildByName("btnVideo").getChildByName("text").getComponent(cc.Label).string=s.default.getInstance().getStrByTextId(100030)+"("+this.remain_sec+")"},t.prototype.clickBtnVideo=function(){r.default.getInstance().sound_manager.playSound(c.SoundIndex.click),this.unschedule(this.countdown)},i([g],t)}(cc.Component));a.default=u,cc._RF.pop()},{"../GameManager":"GameManager","../Sound/AudioConstants":"AudioConstants","../multiLanguage/LanguageManager":"LanguageManager"}],TowerLevel:[function(e,t,a){"use strict";cc._RF.push(t,"4027c+77ftP5ICsTamubh6V","TowerLevel"),Object.defineProperty(a,"__esModule",{value:!0}),a.TowerLevelManager=a.JsonTowerLevel=void 0;var n=e("../Constants"),o=e("../Level/MissionLevel"),i=e("../Loading/LoadManager"),r=e("../Monster/Data/MonsterGroupConfigure"),s=e("../multiLanguage/LanguageManager"),c=e("./TowerManager"),l=function(){this.Floor=0,this.MonsterGroup=0,this.MonsterLevel=0};a.JsonTowerLevel=l;var g=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;i.LoadManager.loadJson("TowerLevel",i.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonTowerLevel\u6210\u529f"),e.data=new Map;for(var n=a.json,o=0;o<n.length;o++){var i=new l;i=n[o],e.data.set(i.Floor,i)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonTowerLevel=function(e){return this.data.get(e)},e.prototype.getMonsterGroup=function(e){return this.data.get(e).MonsterGroup},e.prototype.getMonsterLevel=function(e){return this.data.get(e).MonsterLevel},e.getMaxFloor=function(){return 480},e.prototype.getFightingInfo=function(e){var t=new n.FightingInfo;t.title_name=s.default.getInstance().getStrByTextId(810001)+c.default.getTowerLevel()+" F",t.bg_name="bg/bg2";for(var a=new Array,i=new Array,l=this.getJsonTowerLevel(e),g=r.MonsterGroupConfigureManager.getInstance().getJsonMonsterGroupConfigure(l.MonsterGroup),u=0;u<g.MonsterId.length;u++){var p=new o.TableMonsterData;p.id=g.MonsterId[u],p.num=g.MonsterNum[u],p.level=l.MonsterLevel,i.push(p),t.total_monster_num+=p.num}return a.push(i),t.monster_datas=a,t},e._instance=null,e}();a.TowerLevelManager=g,cc._RF.pop()},{"../Constants":"Constants","../Level/MissionLevel":"MissionLevel","../Loading/LoadManager":"LoadManager","../Monster/Data/MonsterGroupConfigure":"MonsterGroupConfigure","../multiLanguage/LanguageManager":"LanguageManager","./TowerManager":"TowerManager"}],TowerManager:[function(e,t,a){"use strict";cc._RF.push(t,"20ba51raTtNpI0zFO6/QCD0","TowerManager");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Storage/StorageConfig"),s=e("../Storage/StorageManager"),c=cc._decorator,l=c.ccclass,g=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tower_atlas=null,t}var a;return o(t,e),a=t,t.getInstance=function(){return this._instance},t.prototype.onLoad=function(){a._instance=this,this.init()},t.prototype.onDestroy=function(){a._instance=null},t.prototype.init=function(){},t.prototype.getSpByName=function(e){return this.tower_atlas.getSpriteFrame(e)},t.getTowerLevel=function(){var e=cc.sys.localStorage.getItem("tower_level");return""===e||null===e?1:parseInt(e)},t.addTowerLevel=function(e){var t=this.getTowerLevel()+e;this.saveTowerLevel(t)},t.saveTowerLevel=function(e){cc.sys.localStorage.setItem("tower_level",e)},t.getTodayPassNum=function(){return s.TheStorageManager.getInstance().getInt(r.StorageKey.TowerPassNum,0)},t.addTodayPassNum=function(){s.TheStorageManager.getInstance().setItem(r.StorageKey.TowerPassNum,1+this.getTodayPassNum())},t.resetTodayPassNum=function(){s.TheStorageManager.getInstance().setItem(r.StorageKey.TowerPassNum,0)},t._instance=null,t.is_show_tower=!1,i([g(cc.SpriteAtlas)],t.prototype,"tower_atlas",void 0),a=i([l],t)}(cc.Component);a.default=u,cc._RF.pop()},{"../Storage/StorageConfig":"StorageConfig","../Storage/StorageManager":"StorageManager"}],TowerReward:[function(e,t,a){"use strict";cc._RF.push(t,"2c2ded/CwlCka/gYEp5gu+Q","TowerReward"),Object.defineProperty(a,"__esModule",{value:!0}),a.TowerRewardManager=a.JsonTowerReward=void 0;var n=e("../JsonData/LevelJsonData"),o=e("../Loading/LoadManager"),i=e("../Prop/PropConfig"),r=function(){this.Floor=0,this.Coin=0,this.HeroExp=0,this.Gem=0,this.ItemReward_1=0,this.Reward_1=0,this.ItemReward_2=0,this.Reward_2=0,this.ItemReward_3=0,this.Reward_3=0};a.JsonTowerReward=r;var s=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;o.LoadManager.loadJson("TowerReward",o.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonTowerReward\u6210\u529f"),e.data=new Map;for(var n=a.json,o=0;o<n.length;o++){var i=new r;i=n[o],e.data.set(i.Floor,i)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonTowerReward=function(e){return this.data.get(e)},e.prototype.getCoin=function(e){return this.data.get(e).Coin},e.prototype.getHeroExp=function(e){return this.data.get(e).HeroExp},e.prototype.getGem=function(e){return this.data.get(e).Gem},e.prototype.getItemReward_1=function(e){return this.data.get(e).ItemReward_1},e.prototype.getReward_1=function(e){return this.data.get(e).Reward_1},e.prototype.getItemReward_2=function(e){return this.data.get(e).ItemReward_2},e.prototype.getReward_2=function(e){return this.data.get(e).Reward_2},e.prototype.getItemReward_3=function(e){return this.data.get(e).ItemReward_3},e.prototype.getReward_3=function(e){return this.data.get(e).Reward_3},e.getMaxFloor=function(){return 480},e.prototype.getRewardDatas=function(e){for(var t=new Array,a=this.getJsonTowerReward(e),o=1;o<=3;o++){var r;a["ItemReward_"+o]>0&&a["Reward_"+o]>0&&((r=new n.RewardData).reward_id=a["ItemReward_"+o],r.reward_num=a["Reward_"+o],t.push(r))}return a.HeroExp>0&&((r=new n.RewardData).reward_id=i.PropId.HeroExp,r.reward_num=a.HeroExp,t.push(r)),a.Coin>0&&((r=new n.RewardData).reward_id=i.PropId.Coin,r.reward_num=a.Coin,t.push(r)),a.Gem>0&&((r=new n.RewardData).reward_id=i.PropId.Gem,r.reward_num=a.Gem,t.push(r)),t},e._instance=null,e}();a.TowerRewardManager=s,cc._RF.pop()},{"../JsonData/LevelJsonData":"LevelJsonData","../Loading/LoadManager":"LoadManager","../Prop/PropConfig":"PropConfig"}],TowerUi:[function(e,t,a){"use strict";cc._RF.push(t,"55f5dEp3pBK7qDLx82QOu7W","TowerUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Constants"),s=e("../GameManager"),c=e("../multiLanguage/FollowConstants"),l=e("../multiLanguage/FollowManager"),g=e("../Sound/AudioConstants"),u=e("../Tools/MyTool"),p=e("./BtnTower"),d=e("./TowerLevel"),h=e("./TowerManager"),f=e("../UI/home/FixedPos"),_=e("../UI/UIManager"),m=e("../UI/UIComponent"),y=e("../UI/home/ToPlayMainUi"),I=e("../UI/UIConfig"),v=cc._decorator,M=v.ccclass,C=v.property,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.item_btn_tower=null,t.sp_btn=[],t.sp_wupin=[],t.sp_kuang=[],t.prefab_num=null,t.content=null,t.cloud_root=null,t.gray_spine=null,t.cur_load_level=1,t.start_load_level=1,t.end_load_level=1,t.max_load_num=8,t.sword=null,t.btn_tower=null,t.win_width=cc.winSize.width/2,t}return o(t,e),t.prototype.onLoad=function(){var e=h.default.getTowerLevel()-2;e<1&&(e=1),this.start_load_level=this.cur_load_level=e,this.end_load_level=this.start_load_level+5;var t=d.TowerLevelManager.getMaxFloor();this.end_load_level>t&&(this.end_load_level=t,this.start_load_level=this.cur_load_level=this.end_load_level-6),this.loadTower(),this.adaptation()},t.prototype.adaptation=function(){var e=cc.winSize,t=this.node.getChildByName("bottom"),a=this.node.getChildByName("Tower_Bg_3");t.y=-e.height/2,t.zIndex=1,a.y=e.height/2-50},t.prototype.start=function(){var e=_.UIManager.getInstance().getLoadingNode();e&&(e.getChildByName("ProgressBar").getComponent(cc.ProgressBar).progress=.9)},t.prototype.loadTower=function(){var e=this;this.sword=this.node.getChildByName("sword");for(var t=h.default.getTowerLevel(),a=this.start_load_level;a<=this.end_load_level;a++,this.cur_load_level++){var n=cc.instantiate(this.item_btn_tower);if(n.name="btnTower"+this.cur_load_level,n.getComponent(p.default).init(this.cur_load_level),this.content.addChild(n),a==t){this.sword.parent=n,this.sword.y=160;var o=new cc.Node;o.addComponent(cc.Sprite).spriteFrame=h.default.getInstance().getSpByName("Tower_Arrow"),o.setPosition(cc.v2(0,120)),o.parent=n,cc.tween(o).to(.4,{position:cc.v3(0,125,0)}).to(.4,{position:cc.v3(0,115,0)}).union().repeatForever().start()}}this.scheduleOnce(function(){e.content.getComponent(cc.Layout).enabled=!1;for(var t=e.start_load_level;t<=e.end_load_level;t++)e.content.getChildByName("btnTower"+t).zIndex=e.end_load_level-t},.01),this.node.opacity=0,this.scheduleOnce(function(){if(e.node.opacity=255,t<=d.TowerLevelManager.getMaxFloor()){e.btn_tower=e.content.getChildByName("btnTower"+t);var a=0;h.default.is_show_tower&&t>1?(a=-e.content.getChildByName("btnTower"+(t-1)).y,a=e.getDisY(a),(new Date).getTime()):a=e.getDisY(-e.btn_tower.y);var n=0;n=-e.btn_tower.y,n=e.getDisY(n),e.content.y=a}else{var o=e.content.height-cc.winSize.height/2;e.content.y=-o}},cc.director.getDeltaTime());var i=this.node.getChildByName("bottom").getChildByName("btnStart").getComponent(cc.Button),r=t<=d.TowerLevelManager.getMaxFloor(),s=r?cc.Material.getBuiltinMaterial("2d-sprite"):this.gray_spine;i.getComponent(cc.Sprite).setMaterial(0,s),i.interactable=r},t.prototype.getDisY=function(e){var t=e,a=cc.winSize.height/2-109;t>-a&&(t=-a);var n=this.content.height-cc.winSize.height/2;return t<-n&&(t=-n),t},t.prototype.showRewardList=function(){h.default.getTowerLevel(),d.TowerLevelManager.getMaxFloor()},t.prototype.createWupin=function(e,t){var a=this.node.getChildByName("infoRoot").getChildByName("rewardScrollview").getComponent(cc.ScrollView).content,n=a.parent.getChildByName("num_root"),o=this.createKuang(e),i=new cc.Node;i.addComponent(cc.Sprite).spriteFrame=this.sp_wupin[e],o.addChild(i);var r=cc.instantiate(this.prefab_num);switch(r.getComponent(cc.Label).string=u.default.getCoinDanwei(t),r.setAnchorPoint(cc.v2(0,.5)),r.getComponent(f.default).init(o,cc.v2(-16,-32.5),a),n.addChild(r),a.addChild(o),e){case 0:o.name="coin",i.name="coin"}return i},t.prototype.createKuang=function(e){var t=new cc.Node;return t.addComponent(cc.Sprite).spriteFrame=this.sp_kuang[e],t},t.prototype.clickBtnHelp=function(){s.default.getInstance().sound_manager.playSound(g.SoundIndex.click),_.UIManager.getInstance().showHelpTipsUi(null,810001,[810002,810003])},t.prototype.clickBtnClose=function(){s.default.getInstance().sound_manager.playSound(g.SoundIndex.click),h.default.is_show_tower=!1,e.prototype.onClose.call(this)},t.prototype.clickBtnFormaiton=function(){s.default.getInstance().sound_manager.playSound(g.SoundIndex.click),_.UIManager.getInstance().showUiDialog(I.UIPath.ToPlay,I.UILayerLevel.One,{onCompleted:function(e){e.getComponent(y.default).init(null)}})},t.prototype.startGame=function(){l.default.getInstance().followEvent(c.Follow_Type.\u722c\u5854\u6bcf\u5c42\u6311\u6218\u6b21\u6570+h.default.getTowerLevel()),s.default.getInstance().fighting_info=d.TowerLevelManager.getInstance().getFightingInfo(h.default.getTowerLevel());var e=_.UIManager.getInstance().getLoadingNode();e.active=!0;var t=e.getChildByName("ProgressBar").getComponent(cc.ProgressBar),a=t.node.getChildByName("loadLabel").getComponent(cc.Label);cc.director.preloadScene(r.GameScene.game,function(e,n){var o=e/n/2;t.progress=o,a.string=(100*t.progress).toFixed(0)+"%",s.default.getInstance().cur_load_progress=o},function(){cc.director.loadScene(r.GameScene.game)})},t.prototype.clickBtnStart=function(){s.default.getInstance().sound_manager.playSound(g.SoundIndex.click),h.default.getTodayPassNum()>=20?s.default.getInstance().showMessage(""):h.default.getTowerLevel()<=d.TowerLevelManager.getMaxFloor()&&this.startGame()},i([C(cc.Prefab)],t.prototype,"item_btn_tower",void 0),i([C([cc.SpriteFrame])],t.prototype,"sp_btn",void 0),i([C([cc.SpriteFrame])],t.prototype,"sp_wupin",void 0),i([C([cc.SpriteFrame])],t.prototype,"sp_kuang",void 0),i([C(cc.Prefab)],t.prototype,"prefab_num",void 0),i([C(cc.Node)],t.prototype,"content",void 0),i([C(cc.Node)],t.prototype,"cloud_root",void 0),i([C(cc.Material)],t.prototype,"gray_spine",void 0),i([M],t)}(m.default);a.default=S,cc._RF.pop()},{"../Constants":"Constants","../GameManager":"GameManager","../Sound/AudioConstants":"AudioConstants","../Tools/MyTool":"MyTool","../UI/UIComponent":"UIComponent","../UI/UIConfig":"UIConfig","../UI/UIManager":"UIManager","../UI/home/FixedPos":"FixedPos","../UI/home/ToPlayMainUi":"ToPlayMainUi","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","./BtnTower":"BtnTower","./TowerLevel":"TowerLevel","./TowerManager":"TowerManager"}],TrackBullect:[function(e,t,a){"use strict";cc._RF.push(t,"54e34dRAxNE0ZYKTu6VBW7z","TrackBullect");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Constants"),s=e("../GameManager"),c=e("../Monster/Monster"),l=e("../Game/GameEffectsManager"),g=e("./Game/GongJi"),u=cc._decorator,p=u.ccclass,d=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.target_node=null,t.target_pos=cc.v2(0,0),t.move_speed=300,t.move_direction=Math.PI/2,t.follow_callback=null,t.offset_xx_angle=90,t.game_effect_id=0,t}return o(t,e),t.prototype.init=function(t,a,n,o,i){void 0===i&&(i=90),e.prototype.initData.call(this,o),this.game_effect_id=t,this.target_node=a,this.target_pos=a.getComponent(c.default).getJuJiPos();var r=2*Math.PI,s=this.target_pos.sub(this.node.getPosition()),l=(Math.atan2(s.y,s.x)+r)%r;this.node.scale=1,this.setDirection(l),this.move_speed=n,this.offset_xx_angle=i,this.node.stopAllActions()},t.prototype.addArriveListen=function(e){this.follow_callback=e},t.prototype.update=function(e){if(s.default.getInstance().cur_game_state==r.GameState.Game_Playing){var t=this.move_speed*e,a=this.node.x,n=this.node.y;if(this.target_node){var o=this.target_node.getComponent(c.default);if(this.target_pos=o.getJuJiPos(),(g=this.target_pos.sub(this.node.getPosition())).mag()<t)this.follow_callback&&this.follow_callback(o);else{var i=2*Math.PI,l=(Math.atan2(g.y,g.x)+i)%i;this.setDirection(l),a+=t*Math.cos(this.move_direction),n+=t*Math.sin(this.move_direction)}}else{var g;a+=t*Math.cos(this.move_direction),n+=t*Math.sin(this.move_direction),(g=this.target_pos.sub(this.node.getPosition())).mag()<t&&this.destroySelf()}this.node.x=a,this.node.y=n}},t.prototype.setDirection=function(e){this.move_direction=e,this.node.angle=180*e/Math.PI-this.offset_xx_angle},t.prototype.destroySelf=function(){l.GameEffectsManager.getInstance().destroyGameEffectById(this.game_effect_id,this.node)},i([p],t)}(g.default));a.default=d,cc._RF.pop()},{"../Constants":"Constants","../Game/GameEffectsManager":"GameEffectsManager","../GameManager":"GameManager","../Monster/Monster":"Monster","./Game/GongJi":"GongJi"}],Turmtable:[function(e,t,a){"use strict";cc._RF.push(t,"60c31a4NbxISYUgMMTC1Mt5","Turmtable");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e(".././NetWork/HttpManager"),s=e("../../Scripts/UI/UIComponent"),c=e("../Ads/ApkManager"),l=e("../Constants"),g=e("../GameManager"),u=e("../multiLanguage/FollowConstants"),p=e("../multiLanguage/FollowManager"),d=e("../multiLanguage/LanguageManager"),h=e("../Prop/PropManager"),f=e("../Sound/AudioConstants"),_=e("../Storage/StorageConfig"),m=e("../Storage/StorageManager"),y=e("../Task/TaskEnum"),I=e("../Task/TaskManager"),v=e("../Tools/EventManager"),M=e("../UI/home/MainUi"),C=e("../UserData"),S=e("./PublicMethods"),P=e("./Times"),k=e("./TurntableInformation"),b=cc._decorator,T=b.ccclass,B=b.property,w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.is_spining=!1,t.btnad=null,t.btnshow=null,t.btnClose=null,t.btn_action=null,t.gifts=null,t.spinlight=null,t.item=[],t}return o(t,e),t.prototype.initUi=function(){var e=this.btnad;this.btn_action=cc.tween(e).to(.8,{scale:1.1}).to(.8,{scale:1}).union().repeatForever().start(),this.spinlight.active=!1,this.node.getChildByName("B").active=!1,this.gifts.resumeAllActions(),this.gifts.angle=0;for(var t=this.item.length;t<this.gifts.getChildByName("itme").children.length;t++){var a=t+1,n=h.PropManager.getInstance().createPropItem(k.TurntableInformationManager.getInstance().getItemID(a),k.TurntableInformationManager.getInstance().getItemNum(a));n.scale=.73,n.parent=this.gifts.getChildByName("itme").children[t],this.item.push(n)}P.default.Turmtablenode=this.node,this.Refresh()},t.prototype.Refresh=function(){m.TheStorageManager.getInstance().getNumber(_.StorageKey.TurmtableFree,0)>4?(this.btnshow.active=!1,this.btnad.setPosition(0,-320,0)):(this.btnshow.active=!0,this.btnad.setPosition(-144,-320,0)),1==m.TheStorageManager.getInstance().getNumber(_.StorageKey.TurmtableFreeYes,0)?(this.btnshow.getComponent(cc.Button).interactable=!0,this.btnshow.getChildByName("time").active=!1,this.btnshow.getChildByName("text").active=!0,this.btnshow.getChildByName("red").active=!0):(this.btnshow.getComponent(cc.Button).interactable=!1,this.btnshow.getChildByName("text").active=!1,this.btnshow.getChildByName("time").active=!0,this.btnshow.getChildByName("red").active=!1),P.default.timetxt=this.btnshow.getChildByName("time");var e=m.TheStorageManager.getInstance().getNumber(_.StorageKey.TurmtableFreeTime,900);P.default.timetxt.getComponent(cc.Label).string=""+S.default.timeconversions(e),this.btnad.getChildByName("red").active=m.TheStorageManager.getInstance().getNumber(_.StorageKey.TurmtableAd,0)<10},t.prototype.start=function(){var e=this;this.btnad.on(cc.Node.EventType.TOUCH_START,function(){e.onClicbtnSpin(0)},this),this.btnshow.on(cc.Node.EventType.TOUCH_START,function(){e.onClicbtnSpin(1)},this),this.btnClose.on(cc.Node.EventType.TOUCH_START,function(){e.clickBtnClose()},this)},t.prototype.onClicbtnSpin=function(e){var t=this;0==e?m.TheStorageManager.getInstance().getNumber(_.StorageKey.TurmtableAd,0)>9?g.default.getInstance().showMessage(d.default.getInstance().getStrByTextId(1700004),3):c.default.getInstance().showVideo(function(e){e&&r.HttpManager.post(r.AccessName.userTurnPrize,t.getTurnPrizeJsonString(),!0).then(function(e){var a=m.TheStorageManager.getInstance().getNumber(_.StorageKey.TurmtableAd,0);a++,m.TheStorageManager.getInstance().setItem(_.StorageKey.TurmtableAd,a),p.default.getInstance().followEvent(u.Follow_Type.\u8f6c\u76d8\u5e7f\u544a\u62bd\u5956\u70b9\u51fb\u6b21\u6570),t.startSpin(e.index,0)}).catch(function(){var e=m.TheStorageManager.getInstance().getNumber(_.StorageKey.TurmtableAd,0);e++,m.TheStorageManager.getInstance().setItem(_.StorageKey.TurmtableAd,e),p.default.getInstance().followEvent(u.Follow_Type.\u8f6c\u76d8\u5e7f\u544a\u62bd\u5956\u70b9\u51fb\u6b21\u6570),t.startSpin(1,0)})},l.VIDEO_TYPE.Equip):1==e&&(m.TheStorageManager.getInstance().getNumber(_.StorageKey.TurmtableFree,0)>4?g.default.getInstance().showMessage(d.default.getInstance().getStrByTextId(1700003),3):r.HttpManager.post(r.AccessName.userTurnPrize,this.getTurnPrizeJsonString(),!0).then(function(e){var a=m.TheStorageManager.getInstance().getNumber(_.StorageKey.TurmtableFree,0);a++,m.TheStorageManager.getInstance().setItem(_.StorageKey.TurmtableFree,a),p.default.getInstance().followEvent(u.Follow_Type.\u8f6c\u76d8\u514d\u8d39\u62bd\u5956\u70b9\u51fb\u6b21\u6570),t.startSpin(e.index,1)}).catch(function(){var e=m.TheStorageManager.getInstance().getNumber(_.StorageKey.TurmtableFree,0);e++,m.TheStorageManager.getInstance().setItem(_.StorageKey.TurmtableFree,e),p.default.getInstance().followEvent(u.Follow_Type.\u8f6c\u76d8\u514d\u8d39\u62bd\u5956\u70b9\u51fb\u6b21\u6570),t.startSpin(1,1)}))},t.prototype.startSpin=function(e,t){var a=this;I.default.getInstance().emitTask(y.TaskItem.\u8f6c\u52a8\u8f6c\u76d81\u6b21),I.default.getInstance().emitTask(y.TaskItem.\u8f6c\u76d8X\u6b21),this.node.getChildByName("B").active=!0,this.is_spining=!0,this.spinlight.active=!1;var n=e;cc.tween(this.gifts).to(6,{angle:3600+60*(n-1)},{easing:"quintOut"}).call(function(){a.is_spining=!1,a.spinlight.parent.angle=-1*(3600+60*(n-1)),a.spinlight.active=!0;var e=a.btnad;a.btn_action=cc.tween(e).to(1,{scale:1.1}).to(1,{scale:1.1}).union().repeatForever().start(),cc.tween(a.spinlight).to(.2,{opacity:0}).to(.2,{opacity:255}).to(.2,{opacity:0}).to(.2,{opacity:255}).delay(.4).call(function(){h.PropManager.getInstance().changePropNum(k.TurntableInformationManager.getInstance().getItemID(n),k.TurntableInformationManager.getInstance().getItemNum(n)),g.default.getInstance().showGetTip(h.PropManager.getInstance().createPropItem(k.TurntableInformationManager.getInstance().getItemID(n),k.TurntableInformationManager.getInstance().getItemNum(n))),a.node.getChildByName("B").active=!1;var e=a.btnad;a.btn_action=cc.tween(e).to(.8,{scale:1.1}).to(.8,{scale:1}).union().repeatForever().start(),a.spinlight.active=!1,a.gifts.angle=0,1==t&&(m.TheStorageManager.getInstance().setItem(_.StorageKey.TurmtableFreeYes,0),m.TheStorageManager.getInstance().setItem(_.StorageKey.TurmtableFreeTime,900)),cc.find("Canvas/main_ui").getComponent(M.default).refreshMainTaskUi(),a.Refresh()}).start()}).start()},t.prototype.clickBtnClose=function(){g.default.getInstance().sound_manager.playSound(f.SoundIndex.click),v.EventManager.postRedEvent(v.RedEventString.RED_CHECK,v.RedEventType.Btn_Main_Spin),this.onClose()},t.prototype.getTurnPrizeJsonString=function(){var e=C.default.getInstance().getUserID();return JSON.stringify({drawType:5,uid:e})},i([B(cc.Node)],t.prototype,"btnad",void 0),i([B(cc.Node)],t.prototype,"btnshow",void 0),i([B(cc.Node)],t.prototype,"btnClose",void 0),i([B(cc.Node)],t.prototype,"gifts",void 0),i([B(cc.Node)],t.prototype,"spinlight",void 0),i([T],t)}(s.default);a.default=w,cc._RF.pop()},{"../../Scripts/UI/UIComponent":"UIComponent",".././NetWork/HttpManager":"HttpManager","../Ads/ApkManager":"ApkManager","../Constants":"Constants","../GameManager":"GameManager","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../Storage/StorageConfig":"StorageConfig","../Storage/StorageManager":"StorageManager","../Task/TaskEnum":"TaskEnum","../Task/TaskManager":"TaskManager","../Tools/EventManager":"EventManager","../UI/home/MainUi":"MainUi","../UserData":"UserData","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/LanguageManager":"LanguageManager","./PublicMethods":"PublicMethods","./Times":"Times","./TurntableInformation":"TurntableInformation"}],TurntableInformation:[function(e,t,a){"use strict";cc._RF.push(t,"55a8ffQEslKrqDrTSRuxViM","TurntableInformation"),Object.defineProperty(a,"__esModule",{value:!0}),a.TurntableInformationManager=a.JsonTurntableInformation=void 0;var n=e("../Loading/LoadManager"),o=function(){this.DisplayPosition=0,this.ItemID=0,this.ItemNum=0};a.JsonTurntableInformation=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("TurntableInformation",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonTurntableInformation\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.DisplayPosition,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonTurntableInformation=function(e){return this.data.get(e)},e.prototype.getItemID=function(e){return this.data.get(e).ItemID},e.prototype.getItemNum=function(e){return this.data.get(e).ItemNum},e.getMaxDisplayPosition=function(){return 6},e._instance=null,e}();a.TurntableInformationManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],TutorailsManager:[function(e,t,a){"use strict";cc._RF.push(t,"7e142obvVNNfZQCHHHqmP06","TutorailsManager");var n=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=e("./Tutorials"),i=cc._decorator.ccclass,r=function(){function e(){this.is_tutorails_state=!1,this.cur_tutorial=null,this.is_finish=!0,this.showing_id=-1,this.is_finish_game=!0}var t;return t=e,e.getInstance=function(){return null==this._instance&&(this._instance=new t,this._instance.init()),this._instance},e.prototype.init=function(){var e=cc.sys.localStorage.getItem("tutorials_finish");this.is_finish=""!==e&&null!==e;var t=cc.sys.localStorage.getItem("tutorials_finish_game");this.is_finish_game=""!==t&&null!==t||0==this.isShowTutorials(204)},e.prototype.isShowTutorials=function(e){var t=cc.sys.localStorage.getItem("tutorials_"+e);return""===t||null===t},e.prototype.saveTutorials=function(e){cc.sys.localStorage.setItem("tutorials_"+e,123)},e.prototype.saveFinish=function(){this.is_finish=!0,cc.sys.localStorage.setItem("tutorials_finish",123)},e.prototype.saveFinishFromGame=function(){this.is_finish_game=!0,cc.sys.localStorage.setItem("tutorials_finish_game",123)},e.prototype.showTutorials=function(e,t,a,n,i,r){var s=this;void 0===n&&(n=!0),this.isShowTutorials(e)&&this.showing_id!=e&&(this.is_tutorails_state=!0,t&&t(),cc.resources.load("tutorials/tutorials_root",cc.Prefab,function(t,c){if(t)console.log(t);else{var l=cc.instantiate(c),g=cc.find("Canvas/Ui_Root"),u=g.getChildByName("tutorials_root");u&&u.getComponent(o.default).onTutorialsComplete(),l.zIndex=6688,i?i.addChild(l):g.addChild(l),s.cur_tutorial=l.getComponent(o.default),s.cur_tutorial.showRuoTutorials(e,a,n,r),s.showing_id=e}}))},e._instance=null,t=n([i],e)}();a.default=r,cc._RF.pop()},{"./Tutorials":"Tutorials"}],TutorialLevel:[function(e,t,a){"use strict";cc._RF.push(t,"ab208po5IZPoaDGIFMQUgYj","TutorialLevel"),Object.defineProperty(a,"__esModule",{value:!0}),a.TutorialLevelManager=a.JsonTutorialLevel=void 0;var n=e("../Constants"),o=e("../Loading/LoadManager"),i=e("../Monster/Data/MonsterGroupConfigure"),r=e("../multiLanguage/LanguageManager"),s=e("./MissionLevel"),c=function(){this.LevelId=0,this.LevelTypes=0,this.Chapter=0,this.LevelNum=0,this.PosX=0,this.PosY=0,this.MonsterGroupConfigure=[],this.MaxWave=0,this.MonsterTideWave=[],this.TimeInterval=[],this.MonsterLevel=[],this.HpCoefficient=[],this.PassReward_Coin=0,this.RecommendedCombatPower=0};a.JsonTutorialLevel=c;var l=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;o.LoadManager.loadJson("MissionLevel",o.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonMissionLevel\u6210\u529f"),e.data=new Map;for(var n=a.json,o=0;o<n.length;o++){var i=new c;i=n[o],e.data.set(i.LevelId,i)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonTutorialLevel=function(e){return this.data.get(e)},e.prototype.getLevelTypes=function(e){return this.data.get(e).LevelTypes},e.prototype.getChapter=function(e){return this.data.get(e).Chapter},e.prototype.getLevelNum=function(e){return this.data.get(e).LevelNum},e.prototype.getPosX=function(e){return this.data.get(e).PosX},e.prototype.getPosY=function(e){return this.data.get(e).PosY},e.prototype.getMonsterGroupConfigure=function(e){return this.data.get(e).MonsterGroupConfigure},e.prototype.getMaxWave=function(e){return this.data.get(e).MaxWave},e.prototype.getMonsterTideWave=function(e){return this.data.get(e).MonsterTideWave},e.prototype.getTimeInterval=function(e){return this.data.get(e).TimeInterval},e.prototype.getMonsterLevel=function(e){return this.data.get(e).MonsterLevel},e.prototype.getHpCoefficient=function(e){return this.data.get(e).HpCoefficient},e.prototype.getPassReward_Coin=function(e){return this.data.get(e).PassReward_Coin},e.prototype.getRecommendedCombatPower=function(e){return this.data.get(e).RecommendedCombatPower},e.getMaxLevelId=function(){},e.prototype.getFightingInfo=function(e){var t=this.getJsonTutorialLevel(e),a=new n.FightingInfo;a.title_name=r.default.getInstance().getStrByTextId(130007)+" "+s.MissionLevelManager.getInstance().getLevelName(e),a.bg_name="bg/bg1",a.wall_name="bg/bg1_wall",a.wave_types=t.MonsterTideWave,a.wave_refresh_time=t.TimeInterval;for(var o=new Array,c=t.MonsterGroupConfigure,l=i.MonsterGroupConfigureManager.getInstance(),g=0;g<c.length;g++){for(var u=new Array,p=c[g],d=l.getJsonMonsterGroupConfigure(p),h=0;h<d.MonsterId.length;h++){var f=new s.TableMonsterData;f.id=d.MonsterId[h],f.num=d.MonsterNum[h],f.refresh_time=d.RefreshInterval[h],f.level=t.MonsterLevel[g],f.hp_rate=t.HpCoefficient[g],u.push(f),a.total_monster_num+=f.num}o.push(u)}return a.monster_datas=o,console.log("\u65b0\u624b\u6559\u7a0b\u5173\u5361-"+e+"\u6ce2\u6570:"+c.length),a},e._instance=null,e}();a.TutorialLevelManager=l,cc._RF.pop()},{"../Constants":"Constants","../Loading/LoadManager":"LoadManager","../Monster/Data/MonsterGroupConfigure":"MonsterGroupConfigure","../multiLanguage/LanguageManager":"LanguageManager","./MissionLevel":"MissionLevel"}],Tutorials:[function(e,t,a){"use strict";cc._RF.push(t,"a48c3KslNBA06ektipejIr+","Tutorials");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Constants"),s=e("../GameManager"),c=e("../Hero/Data/HeroBaseInfo"),l=e("../Hero/Data/HeroManager"),g=e("../Hero/Game/HeroConfig"),u=e("../Monster/MonsterManager"),p=e("../multiLanguage/FollowConstants"),d=e("../multiLanguage/FollowManager"),h=e("../multiLanguage/LanguageManager"),f=e("./CourseText"),_=e("./TutorailsManager"),m=cc._decorator,y=m.ccclass,I=(m.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.close_callback=null,t.ruo_time=5,t.t_num=0,t}return o(t,e),t.prototype.onTutorialsComplete=function(){d.default.getInstance().followEvent(p.Follow_Type.\u65b0\u624b\u5f15\u5bfc+_.default.getInstance().showing_id),_.default.getInstance().showing_id=-1,this.close_callback&&this.close_callback(),this.node.removeFromParent(),_.default.getInstance().cur_tutorial=null},t.prototype.showRuoTutorials=function(e,t,a,n){var o=this;void 0===a&&(a=!0);var i=s.default.getInstance();this.close_callback=t,this.node.removeAllChildren(),_.default.getInstance().is_tutorails_state=!0;var p="t"+e;cc.resources.load("tutorials/"+p,cc.Prefab,function(t,p){if(t)console.log(t);else{var d=cc.instantiate(p);d.parent=o.node;var m=f.CourseTextManager.getInstance().getJsonCourseText(e),y=m.hero_text_id,I=d.getChildByName("textScrollView").getComponent(cc.ScrollView),v=I.node.getChildByName("icon").getComponent(cc.Sprite);y!=g.Hero_Type.NULL?(v.node.active=!0,v.spriteFrame=l.HeroManager.getInstance().getHeroBody(y)):v.node.active=!1;var M=h.default.getInstance().getStrByTextId(m.guidance_text_id),C=I.content.getChildByName("desLabel").getComponent(cc.Label);C.string=M,I.scrollToBottom(.5);var S=h.default.getInstance().getStrByTextId(c.HeroBaseInfoManager.getInstance().getNameText_ID(y)),P=I.node.getChildByName("nameLabel").getComponent(cc.Label);P.string=S;var k=I.node.getChildByName("touchContinue"),b=k.getChildByName("TextLanguage"),T=k.getChildByName("clickIcon");a?(I.node.x=-cc.winSize.width/2,I.node.scaleX=1,C.node.scaleX=1,P.node.scaleX=1,b.scaleX=1,T.scaleX=1,T.zIndex=1,b.zIndex=2):(I.node.x=cc.winSize.width/2,I.node.scaleX=-1,C.node.scaleX=-1,P.node.scaleX=-1,b.scaleX=-1,T.scaleX=-1,T.zIndex=2,b.zIndex=1);var B=s.default.getInstance().getGameRate();cc.tween(T).repeatForever(cc.sequence(cc.moveBy(.2*B,cc.v2(0,10)),cc.moveBy(.2*B,cc.v2(0,-10)))).start();var w=d.getChildByName("touchNode"),N=d.getChildByName("bg");switch(N&&N._touchListener&&N.on(cc.Node.EventType.TOUCH_END,function(){if(o.onTutorialsComplete(),252==e){s.default.getInstance().all_hero.get(g.Hero_Type.GongJianShou).showHero();var t=u.default.getInstance().getMonstersForNearest(1,o.node.getPosition(),1e3);if(t){var a=t[0].getPosition();s.default.getInstance().all_hero.get(g.Hero_Type.GongJianShou).releaseSkill(a)}}},o),e){case 201:i.cur_game_scene==r.GameScene.home&&(s.default.getInstance().game_to_home=r.Go_Type.Main,s.default.getInstance().jumoAndShowUi(),w.setPosition(n),d.getChildByName("touchBg").setPosition(n),k.active=!1,(Z=d.getChildByName("finger")).setPosition(n),cc.tween(Z).repeatForever(cc.sequence(cc.moveBy(.3,cc.v2(0,100)),cc.moveBy(.3,cc.v2(0,-100)))).start(),w.on(cc.Node.EventType.TOUCH_START,function(){d.getChildByName("touchBg").scale=.9},o),w.on(cc.Node.EventType.TOUCH_END,function(){o.onTutorialsComplete()},o),w._touchListener&&w._touchListener.setSwallowTouches(!1));break;case 202:if(i.cur_game_scene==r.GameScene.game){k.active=!1;var L=(H=s.default.getInstance().all_hero.get(g.Hero_Type.ANuBiSi).node).y,D=H.x;w.x=D,s.default.getInstance().all_hero.get(g.Hero_Type.ANuBiSi).setCD(0);var E=d.getChildByName("finger");E.x=D,E.y=L+70,w.y=L;var R=d.getChildByName("bg1"),G=d.getChildByName("bg2");R.y=L+w.height*(1-w.anchorY),G.y=L-w.height*w.anchorY;var x=d.getChildByName("bg3"),A=d.getChildByName("bg4");x.x=D-w.width/2,x.y=L,A.y=L,A.x=D+w.width/2;var O=d.getChildByName("t11");O.setContentSize(s.default.getInstance().all_hero.get(g.Hero_Type.ANuBiSi).getSkillTipSize()),O.opacity=0,cc.tween(E).repeatForever(cc.sequence(cc.moveBy(1*B,cc.v2(0,640)),cc.callFunc(function(){E.x=D,E.y=L+70}),cc.delayTime(.2*B))).start(),w.on(cc.Node.EventType.TOUCH_START,function(e){I.node.active=!1,R.active=!1,G.active=!1,x.active=!1,A.active=!1,O.opacity=255;var t=o.node.convertToNodeSpaceAR(e.getLocation());O.setPosition(t)},o),w.on(cc.Node.EventType.TOUCH_MOVE,function(e){var t=o.node.convertToNodeSpaceAR(e.getLocation());O.setPosition(t)}),w.on(cc.Node.EventType.TOUCH_CANCEL,function(e){var t=o.node.convertToNodeSpaceAR(e.getLocation());t.y>s.default.getInstance().enemy_att_y?(o.onTutorialsComplete(),s.default.getInstance().all_hero.get(g.Hero_Type.ANuBiSi).releaseSkill(t)):(I.node.active=!0,R.active=!0,G.active=!0,x.active=!0,A.active=!0,O.opacity=0,E.x=D,E.y=L+70,E.stopAllActions(),cc.tween(E).repeatForever(cc.sequence(cc.moveBy(1*B,cc.v2(0,640)),cc.callFunc(function(){E.x=D,E.y=L+70}),cc.delayTime(.2*B))).start())},o),w.on(cc.Node.EventType.TOUCH_END,function(){I.node.active=!0,R.active=!0,G.active=!0,x.active=!0,A.active=!0,O.opacity=0,E.x=D,E.y=L+70,E.stopAllActions(),cc.tween(E).repeatForever(cc.sequence(cc.moveBy(1*B,cc.v2(0,640)),cc.callFunc(function(){E.x=D,E.y=L+70}),cc.delayTime(.2*B))).start()},o)}break;case 203:if(i.cur_game_scene==r.GameScene.game){var H,F=(H=s.default.getInstance().all_hero.get(g.Hero_Type.ShouWang).node).y,j=H.x;w.x=j,s.default.getInstance().all_hero.get(g.Hero_Type.ShouWang).setCD(0),k.active=!1,(Z=d.getChildByName("finger")).x=j,Z.y=F+70,w.y=F,d.getChildByName("bg1").y=F+w.height*(1-w.anchorY),d.getChildByName("bg2").y=F-w.height*w.anchorY;var U=d.getChildByName("bg3"),J=d.getChildByName("bg4");U.x=j-w.width/2,U.y=F,J.y=F,J.x=j+w.width/2,cc.tween(Z).repeatForever(cc.sequence(cc.moveBy(.3*B,cc.v2(0,100)),cc.moveBy(.3*B,cc.v2(0,-100)))).start(),w.on(cc.Node.EventType.TOUCH_START,function(){o.onTutorialsComplete(),s.default.getInstance().all_hero.get(g.Hero_Type.ShouWang).releaseSkill(n)},o)}break;case 204:i.cur_game_scene==r.GameScene.game&&(k.active=!1,(Z=d.getChildByName("finger")).active=!1,w.on(cc.Node.EventType.TOUCH_END,function(){o.onTutorialsComplete()},o),w._touchListener&&w._touchListener.setSwallowTouches(!1));break;case 211:case 212:case 213:i.cur_game_scene==r.GameScene.game&&k.on(cc.Node.EventType.TOUCH_END,function(){o.onTutorialsComplete()},o);break;case 214:i.cur_game_scene==r.GameScene.game&&(k.active=!1,(Z=d.getChildByName("finger")).active=!1,w.on(cc.Node.EventType.TOUCH_END,function(){o.onTutorialsComplete()},o),w._touchListener&&w._touchListener.setSwallowTouches(!1));break;case 221:i.cur_game_scene==r.GameScene.game&&(w.on(cc.Node.EventType.TOUCH_END,function(){o.onTutorialsComplete()},o),k.on(cc.Node.EventType.TOUCH_END,function(){o.onTutorialsComplete()},o),w._touchListener&&w._touchListener.setSwallowTouches(!1));break;case 211:i.cur_game_scene==r.GameScene.home&&(s.default.getInstance().game_to_home=r.Go_Type.Main,s.default.getInstance().jumoAndShowUi(),w.setPosition(n),d.getChildByName("touchBg").setPosition(n),k.active=!1,(Z=d.getChildByName("finger")).setPosition(n),cc.tween(Z).repeatForever(cc.sequence(cc.moveBy(.3,cc.v2(0,100)),cc.moveBy(.3,cc.v2(0,-100)))).start(),w.on(cc.Node.EventType.TOUCH_END,function(){o.onTutorialsComplete()},o),w._touchListener&&w._touchListener.setSwallowTouches(!1));break;case 222:i.cur_game_scene==r.GameScene.home&&(s.default.getInstance().game_to_home=r.Go_Type.City,s.default.getInstance().jumoAndShowUi(),w.setPosition(n),d.getChildByName("touchBg").setPosition(n),k.active=!1,(Z=d.getChildByName("finger")).setPosition(n),cc.tween(Z).repeatForever(cc.sequence(cc.moveBy(.3,cc.v2(0,100)),cc.moveBy(.3,cc.v2(0,-100)))).start(),w.on(cc.Node.EventType.TOUCH_END,function(){o.onTutorialsComplete()},o));break;case 231:i.cur_game_scene==r.GameScene.game&&(k.active=!1,(Z=d.getChildByName("finger")).active=!1,w.on(cc.Node.EventType.TOUCH_END,function(){o.onTutorialsComplete()},o),w._touchListener&&w._touchListener.setSwallowTouches(!1));break;case 241:if(i.cur_game_scene==r.GameScene.game){k.active=!1,w.x=-144;var W=s.default.getInstance().all_hero.get(g.Hero_Type.DeLuYi).node.y;s.default.getInstance().all_hero.get(g.Hero_Type.DeLuYi).setCD(0);var V=d.getChildByName("finger");V.x=-144,V.y=W+70,w.y=W;var q=d.getChildByName("bg1"),z=d.getChildByName("bg2");q.y=W+w.height*(1-w.anchorY),z.y=W-w.height*w.anchorY;var K=d.getChildByName("bg3"),Y=d.getChildByName("bg4");K.x=-144-w.width/2,K.y=W,Y.y=W,Y.x=w.width/2-144;var X=d.getChildByName("12");X.opacity=0,cc.tween(V).repeatForever(cc.sequence(cc.moveBy(1*B,cc.v2(0,800)),cc.callFunc(function(){V.x=-144,V.y=W+70}),cc.delayTime(.2*B))).start(),w.on(cc.Node.EventType.TOUCH_START,function(e){I.node.active=!1,q.active=!1,z.active=!1,K.active=!1,Y.active=!1,X.opacity=255;var t=o.node.convertToNodeSpaceAR(e.getLocation());X.setPosition(t)},o),w.on(cc.Node.EventType.TOUCH_MOVE,function(e){var t=o.node.convertToNodeSpaceAR(e.getLocation());X.setPosition(t)}),w.on(cc.Node.EventType.TOUCH_CANCEL,function(e){var t=o.node.convertToNodeSpaceAR(e.getLocation());X.getBoundingBox().contains(n)?(o.onTutorialsComplete(),s.default.getInstance().all_hero.get(g.Hero_Type.DeLuYi).releaseSkill(t)):(I.node.active=!0,q.active=!0,z.active=!0,K.active=!0,Y.active=!0,V.x=-144,V.y=W+70,V.stopAllActions(),cc.tween(V).repeatForever(cc.sequence(cc.moveBy(1*B,cc.v2(0,800)),cc.callFunc(function(){V.x=-144,V.y=W+70}),cc.delayTime(.2*B))).start(),X.opacity=0,X.setPosition(t))},o),w.on(cc.Node.EventType.TOUCH_END,function(e){var t=o.node.convertToNodeSpaceAR(e.getLocation());I.node.active=!0,q.active=!0,z.active=!0,K.active=!0,Y.active=!0,V.x=-144,V.y=W+70,V.stopAllActions(),cc.tween(V).repeatForever(cc.sequence(cc.moveBy(1*B,cc.v2(0,800)),cc.callFunc(function(){V.x=-144,V.y=W+70}),cc.delayTime(.2*B))).start(),X.opacity=0,X.setPosition(t)},o)}break;case 251:i.cur_game_scene==r.GameScene.game&&k.on(cc.Node.EventType.TOUCH_END,function(){o.onTutorialsComplete()},o);break;case 252:i.cur_game_scene==r.GameScene.game&&k.on(cc.Node.EventType.TOUCH_END,function(){o.onTutorialsComplete(),s.default.getInstance().all_hero.get(g.Hero_Type.GongJianShou).showHero();var e=u.default.getInstance().getMonstersForNearest(1,o.node.getPosition(),1e3);if(e){var t=e[0].getPosition();s.default.getInstance().all_hero.get(g.Hero_Type.GongJianShou).releaseSkill(t)}},o);break;case 253:i.cur_game_scene==r.GameScene.game&&k.on(cc.Node.EventType.TOUCH_END,function(){o.onTutorialsComplete()},o);break;case 261:i.cur_game_scene==r.GameScene.game&&(k.on(cc.Node.EventType.TOUCH_END,function(){o.onTutorialsComplete()},o),w._touchListener&&w._touchListener.setSwallowTouches(!1));break;case 219:i.cur_game_scene==r.GameScene.home&&(s.default.getInstance().game_to_home=r.Go_Type.Main,s.default.getInstance().jumoAndShowUi(),w.setPosition(n),d.getChildByName("touchBg").setPosition(n),k.active=!1,(Z=d.getChildByName("finger")).setPosition(n),cc.tween(Z).repeatForever(cc.sequence(cc.moveBy(.3,cc.v2(0,100)),cc.moveBy(.3,cc.v2(0,-100)))).start(),w.on(cc.Node.EventType.TOUCH_END,function(){o.onTutorialsComplete()},o),w._touchListener&&w._touchListener.setSwallowTouches(!1));break;case 301:if(i.cur_game_scene==r.GameScene.game){k.active=!1;var Z=d.getChildByName("finger");cc.tween(Z).repeatForever(cc.sequence(cc.moveBy(.3,cc.v2(0,-100)),cc.moveBy(.3,cc.v2(0,100)))).start(),w.on(cc.Node.EventType.TOUCH_END,function(){o.onTutorialsComplete()},o),w._touchListener&&w._touchListener.setSwallowTouches(!1)}break;case 302:i.cur_game_scene==r.GameScene.home&&(w.setPosition(n),d.getChildByName("touchBg").setPosition(n),k.active=!1,(Z=d.getChildByName("finger")).setPosition(n),cc.tween(Z).repeatForever(cc.sequence(cc.moveBy(.3,cc.v2(0,100)),cc.moveBy(.3,cc.v2(0,-100)))).start(),w.on(cc.Node.EventType.TOUCH_END,function(){l.HeroManager.getInstance().getHeroLevel(g.Hero_Type.ShouWang)>=1&&(o.onTutorialsComplete(),_.default.getInstance().is_tutorails_state=!1)},o),w._touchListener&&w._touchListener.setSwallowTouches(!1));break;case 221:i.cur_game_scene==r.GameScene.game&&(k.active=!1,Z=d.getChildByName("finger"),cc.tween(Z).repeatForever(cc.sequence(cc.moveBy(.3,cc.v2(0,100)),cc.moveBy(.3,cc.v2(0,-100)))).start(),w.on(cc.Node.EventType.TOUCH_END,function(){o.onTutorialsComplete()},o),w._touchListener&&w._touchListener.setSwallowTouches(!1));break;case 222:i.cur_game_scene==r.GameScene.home&&(w.setPosition(n),d.getChildByName("touchBg").setPosition(n),(Z=d.getChildByName("finger")).setPosition(n),cc.tween(Z).repeatForever(cc.sequence(cc.moveBy(.3,cc.v2(0,100)),cc.moveBy(.3,cc.v2(0,-100)))).start(),w.on(cc.Node.EventType.TOUCH_END,function(){o.onTutorialsComplete(),_.default.getInstance().is_tutorails_state=!1},o),w._touchListener&&w._touchListener.setSwallowTouches(!1),k.active=!1);break;case 223:i.cur_game_scene==r.GameScene.game&&(k.active=!1,Z=d.getChildByName("finger"),cc.tween(Z).repeatForever(cc.sequence(cc.moveBy(.3,cc.v2(0,100)),cc.moveBy(.3,cc.v2(0,-100)))).start(),w.on(cc.Node.EventType.TOUCH_END,function(){o.onTutorialsComplete()},o),w._touchListener&&w._touchListener.setSwallowTouches(!1));break;case 311:i.cur_game_scene==r.GameScene.game&&(k.active=!1,Z=d.getChildByName("finger"),cc.tween(Z).repeatForever(cc.sequence(cc.moveBy(.3,cc.v2(0,-100)),cc.moveBy(.3,cc.v2(0,100)))).start(),w.on(cc.Node.EventType.TOUCH_END,function(){o.onTutorialsComplete()},o),w._touchListener&&w._touchListener.setSwallowTouches(!1));break;case 312:i.cur_game_scene==r.GameScene.home&&(k.active=!1,w.setPosition(n),d.getChildByName("touchBg").setPosition(n),(Z=d.getChildByName("finger")).setPosition(n),cc.tween(Z).repeatForever(cc.sequence(cc.moveBy(.3,cc.v2(0,100)),cc.moveBy(.3,cc.v2(0,-100)))).start(),w.on(cc.Node.EventType.TOUCH_END,function(){l.HeroManager.getInstance().getHeroStage(g.Hero_Type.PaoShou)>=0&&(o.onTutorialsComplete(),_.default.getInstance().is_tutorails_state=!1,_.default.getInstance().saveFinish())},o),w._touchListener&&w._touchListener.setSwallowTouches(!1));break;case 331:i.cur_game_scene==r.GameScene.game&&k.on(cc.Node.EventType.TOUCH_END,function(){o.onTutorialsComplete()},o);break;case 225:i.cur_game_scene==r.GameScene.game&&(k.active=!1,Z=d.getChildByName("finger"),cc.tween(Z).repeatForever(cc.sequence(cc.moveBy(.3,cc.v2(0,100)),cc.moveBy(.3,cc.v2(0,-100)))).start(),w.on(cc.Node.EventType.TOUCH_END,function(){o.onTutorialsComplete()},o),w._touchListener&&w._touchListener.setSwallowTouches(!1));break;case 226:i.cur_game_scene==r.GameScene.home&&(w.setPosition(n),d.getChildByName("touchBg").setPosition(n),(Z=d.getChildByName("finger")).setPosition(n),cc.tween(Z).repeatForever(cc.sequence(cc.moveBy(.3,cc.v2(0,100)),cc.moveBy(.3,cc.v2(0,-100)))).start(),w.on(cc.Node.EventType.TOUCH_END,function(){o.onTutorialsComplete()},o),w._touchListener&&w._touchListener.setSwallowTouches(!1),k.active=!1);break;case 227:i.cur_game_scene==r.GameScene.home&&(w.setPosition(n),d.getChildByName("touchBg").setPosition(n),(Z=d.getChildByName("finger")).setPosition(n),cc.tween(Z).repeatForever(cc.sequence(cc.moveBy(.3,cc.v2(0,100)),cc.moveBy(.3,cc.v2(0,-100)))).start(),w.on(cc.Node.EventType.TOUCH_END,function(){o.onTutorialsComplete(),_.default.getInstance().saveFinish()},o),w._touchListener&&w._touchListener.setSwallowTouches(!1),k.active=!1)}}})},i([y],t)}(cc.Component));a.default=I,cc._RF.pop()},{"../Constants":"Constants","../GameManager":"GameManager","../Hero/Data/HeroBaseInfo":"HeroBaseInfo","../Hero/Data/HeroManager":"HeroManager","../Hero/Game/HeroConfig":"HeroConfig","../Monster/MonsterManager":"MonsterManager","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/LanguageManager":"LanguageManager","./CourseText":"CourseText","./TutorailsManager":"TutorailsManager"}],UIComponent:[function(e,t,a){"use strict";cc._RF.push(t,"cbffcTqaJtMUIHCN93uBmpK","UIComponent");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("./UIConfig"),s=e("./UIManager"),c=cc._decorator,l=c.ccclass,g=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ui_path="",t.ui_layer_level=r.UILayerLevel.One,t.ui_aciton=null,t}return o(t,e),t.prototype.onLoad=function(){var e=this,t=this.node.getChildByName("bg");t.width=800,t.height=1642,t.on(cc.Node.EventType.TOUCH_START,function(){e.onClose()},this)},t.prototype.init=function(e){this.ui_aciton=e},t.prototype.initUiData=function(e,t){this.ui_path=e,this.ui_layer_level=t},t.prototype.onRefresh=function(e){this.ui_aciton&&this.ui_aciton.onRefresh&&this.ui_aciton.onRefresh(e)},t.prototype.onClose=function(){this.ui_aciton&&this.ui_aciton.onClose&&this.ui_aciton.onClose(),s.UIManager.getInstance().closeUiDialog(this.ui_path,this.ui_layer_level,this.node)},i([l],t)}(cc.Component));a.default=g,cc._RF.pop()},{"./UIConfig":"UIConfig","./UIManager":"UIManager"}],UIConfig:[function(e,t,a){"use strict";var n,o;cc._RF.push(t,"6e135WtNTtBWpmX9H47RE/X","UIConfig"),Object.defineProperty(a,"__esModule",{value:!0}),a.GamePreLoad=a.HomePreLoad=a.EffectPath=a.UI_ZIndex=a.UILayerLevel=a.UIPath=void 0,function(e){e.Null="",e.SignIn="signIn/sign_ui",e.SignInDaily="signIn/sign_daily_ui",e.SignInGet="signIn/sign_get_tip",e.SignInBuy="signIn/sign_in_buy_ui",e.Bag="bag/bag_ui",e.ExclusiveStrengthening="exclusive/exclusive_weapons_strengthening_ui",e.Exclusive="exclusive/exclusive_weapons_ui",e.Set="set/setting_ui",e.AvatarRoot="set/avatarRoot",e.EquipSynthetic="equipment/equip_synthetic_ui",e.Mall="mall/gold_mall_ui",e.TakeEgg="takeEgg/take_egg_ui",e.Wishing="wishing/wishing_ui",e.WishingTips="wishing/wishing_tip_ui",e.Task="task/task_ui",e.ToPlay="toPlay/to_play_main_ui",e.TowerFightting="tower/tower_fighting_ui",e.Tower="tower_ui",e.FastGuaJi="guaji/fast_guaji_ui",e.Guaji="guaji/guaji_ui",e.UserLevel="userLevel/user_level_ui",e.Attribute="heros/attribute_ui",e.HeroSkill="heros/hero_skill_ui",e.HeroGrowth="heros/hero_ui",e.StoreHeroUi="store/store_hero_ui",e.StoreHeroShowUi="store/store_hero_show_ui",e.GameWin="ui/game/game_win",e.ProbabilityTipUi="store/probability_tip_ui",e.FirstCharge="payment/pay_first_charge_ui",e.GetAssetsTip="get_assets_ui",e.Dialog="dialog",e.CoinPop="CoinPop",e.Turntable="Turntable/Turntable",e.RankingList="RankingList/RankingList",e.BuyBattlePotion="ui/game/buy_battle_potion",e.VipSystem="vipsystem/VipSystem",e.VndlessChallenges="copy/endlesschallenges/endlesschallenges",e.PlayinsTructions="copy/endlesschallenges/playinstructions",e.RewardDisplay="copy/endlesschallenges/rewarddisplay",e.AccumulatedRecharge="accumulatedRecharge/accumulated_recharge_ui",e.RankingRewardDisplay="copy/endlesschallenges/rankingrewarddisplay",e.PurchasesNumbe="copy/endlesschallenges/purchasesnumbe",e.MoppingUp="copy/endlesschallenges/MoppingUp",e.MoppingVoid="copy/endlesschallenges/MoppingVoid",e.PetList="pet/ui/pet_exchange_ui",e.BuffDisplay="copy/endlesschallenges/BuffDisplay",e.Shop="copy/endlesschallenges/Shop",e.VoidScene="copy/endlesschallenges/VoidScene",e.Windfall="copy/endlesschallenges/Windfall",e.BattlePop="copy/endlesschallenges/BattlePop",e.PetInfo="pet/ui/pet_info_ui",e.WeekCard="weekCard/week_card_ui",e.ExclusiveInfoUi="exclusive/exclusive_info_ui",e.EquipInfo="equipment/equip_info_ui",e.RewardSSUI="tutorials/reward_ss_ui"}(n=a.UIPath||(a.UIPath={})),function(e){e[e.One=1]="One",e[e.Two=2]="Two",e[e.Three=3]="Three",e[e.Four=4]="Four"}(a.UILayerLevel||(a.UILayerLevel={})),function(e){e[e.Normal=0]="Normal",e[e.Loading=9997]="Loading",e[e.UiTouch=9998]="UiTouch",e[e.Front=9999]="Front"}(a.UI_ZIndex||(a.UI_ZIndex={})),function(e){e.HeroUpgrade0="effects/home/role_upgrade/role_upgrade_0",e.HeroUpgrade1="effects/home/role_upgrade/role_upgrade_1"}(o=a.EffectPath||(a.EffectPath={})),a.HomePreLoad=[n.ToPlay,n.HeroGrowth,o.HeroUpgrade0,n.VoidScene],a.GamePreLoad=[n.CoinPop],cc._RF.pop()},{}],UIManager:[function(e,t,a){"use strict";cc._RF.push(t,"95d9a0t1z5Dvok0YL+KFcW2","UIManager");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.UIManager=a.Combat=void 0;var r=e("../BattlePass/BattlePassHelpUi"),s=e("../Constants"),c=e("../Equipment/Ui/EquipExchangeUi"),l=e("../Equipment/Ui/EquipInfoUi"),g=e("../GameManager"),u=e("../Maze/HealingPotion"),p=e("../Maze/MazeBuffUi"),d=e("../Maze/MazeFightingUi"),h=e("../Maze/MazeLeaseUi"),f=e("../Maze/MazeShop"),_=e("../Maze/MazeShowBuffUi"),m=e("../Maze/MazeToolUi"),y=e("../Maze/MazeWallInfoUi"),I=e("../Payment/PayFirstChargeUi"),v=e("../Payment/PaymentUi"),M=e("../Pet/Ui/PetAdvanceShowUi"),C=e("../Pet/Ui/PetReductionUi"),S=e("../Pet/Ui/PetSetFreeUi"),P=e("../Pet/Ui/PetUpgradeUi"),k=e("../Prop/PropInfoUi"),b=e("../Sound/AudioConstants"),T=e("./ConsumptionTipUi"),B=e("./TextInfo"),w=e("./VideoTip"),N=e("../Hero/Ui/GetHeroUi"),L=e("./UIPool"),D=e("./UIConfig"),E=e("./UIComponent"),R=e("../NetWork/HttpManager"),G=e("../multiLanguage/LanguageManager"),x=e("../CombatNumEffect"),A=function(){};a.Combat=A;var O=cc._decorator,H=O.ccclass,F=(O.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.map_prefabs_old=null,t.cur_show_ui_path=null,t.combat_queue=new Array,t.is_play_combat_effect=!1,t}var a;return o(t,e),a=t,t.getInstance=function(){if(null==this._instance){var e=new cc.Node;cc.director.getScene().getChildByName("Canvas").addChild(e),this._instance=e.addComponent(a),console.error("UIManager = null!")}return this._instance},t.prototype.onLoad=function(){e.prototype.onLoad.call(this),console.log("UiManageron"),a._instance=this,this.map_prefabs_old=new Map,this.initUi()},t.prototype.start=function(){this.cur_show_ui_path=new Map,this.perloadUi()},t.prototype.onDestroy=function(){a._instance=null,this.map_prefabs_old&&(this.map_prefabs_old=null)},t.prototype.perloadUi=function(){var t=this;switch(g.default.getInstance().cur_game_scene){case s.GameScene.home:D.HomePreLoad.forEach(function(a){e.prototype.addNodePool.call(t,a,1)});break;case s.GameScene.game:D.GamePreLoad.forEach(function(a){e.prototype.addNodePool.call(t,a,1)})}},t.prototype.preloadUiByPath=function(t){e.prototype.addNodePool.call(this,t,1)},t.prototype.loadPrefab=function(e,t){var a=this;this.map_prefabs_old.get(e)||cc.resources.load(e,cc.Prefab,function(n,o){n?cc.log(n):a.map_prefabs_old&&(a.map_prefabs_old.set(e,o),t(o))})},t.prototype.getPrefab=function(e){return this.map_prefabs_old.get(e)},t.prototype.preloadPrefab=function(e){var t=this;this.map_prefabs_old.get(e)||cc.resources.load(e,cc.Prefab,function(a,n){a?cc.log(a):t.map_prefabs_old&&t.map_prefabs_old.set(e,n)})},t.prototype.initUi=function(){this.getLoadingNode().zIndex=D.UI_ZIndex.Loading,this.getTouchNode().zIndex=D.UI_ZIndex.UiTouch},t.prototype.getLoadingNode=function(){return this.node.getChildByName("bg_loading")},t.prototype.getTouchNode=function(){return this.node.getChildByName("uiTouch")},t.prototype.showUiDialog=function(t,a,n,o){var i=this;if(void 0===o&&(o=D.UI_ZIndex.Normal),this.cur_show_ui_path.has(a)&&this.cur_show_ui_path.get(a)!=D.UIPath.Null)n.onFail&&n.onFail();else{this.setCurShowUi(t,a);var r=e.prototype.getNodeById.call(this,t);r?(this.node.addChild(r),r.zIndex=o,n.onCompleted(r),r.getComponent(E.default).initUiData(t,a)):e.prototype.addNodePool.call(this,t,1,function(e){i.node.addChild(e),e.zIndex=o,n.onCompleted(e),e.getComponent(E.default).initUiData(t,a)})}},t.prototype.showEffectDialog=function(t,a,n){var o=this,i=e.prototype.getNodeById.call(this,t);if(i){a.addChild(i);var r=i.getComponent(sp.Skeleton);r.setAnimation(0,n,!1),r.setCompleteListener(function(){r.setCompleteListener(null),o.hideEffectDialog(t,i)})}else e.prototype.addNodePool.call(this,t,1,function(e){a.addChild(e);var i=e.getComponent(sp.Skeleton);i.setAnimation(0,n,!1),i.setCompleteListener(function(){i.setCompleteListener(null),o.hideEffectDialog(t,e)})})},t.prototype.hideEffectDialog=function(t,a){e.prototype.destroyNode.call(this,t,a)},t.prototype.startCombatEffect=function(){var e=this.combat_queue.shift(),t=cc.find("Canvas/Ui_Root/ZhanDouLi");t.zIndex=D.UI_ZIndex.Front,t.getComponent(x.default).startAnimation(e.oldCombatNum,e.newCombatNum,e.oldHeroData,e.newHeroData)},t.prototype.showCombatChangeEffect=function(e,t,a,n){var o=new A;o.oldHeroData=a,o.newHeroData=n,o.oldCombatNum=e,o.newCombatNum=t;var i=cc.find("Canvas/Ui_Root/ZhanDouLi");i.active=!0,i.zIndex=D.UI_ZIndex.Front,i.getComponent(x.default).startAnimation(o.oldCombatNum,o.newCombatNum,o.oldHeroData,o.newHeroData)},t.prototype.showWaitUiDialog=function(){var e=this,t=this.node.getChildByName("wait_ui");t.active=!0,t.children[0].active=!0,t.children[1].active=!1,t.children[2].active=!1,t.zIndex=D.UI_ZIndex.Front,this.scheduleOnce(function(){t.children[1].active=!0,t.children[2].active=!0},.2),this.scheduleOnce(function(){if(!R.HttpManager.isSuccessRes){e.closeWaitUiDialog();var t=G.default.getInstance().getStrByTextId(100112);g.default.getInstance().showMessage(t),R.HttpManager.isSuccessRes=!0}},5)},t.prototype.closeWaitUiDialog=function(){var e=this.node.getChildByName("wait_ui");e&&(e.active=!1)},t.prototype.showPayWaitingUi=function(){var e=this.node.getChildByName("wait_ui");e.active=!0,e.children[0].active=!0,e.children[1].active=!0,e.children[2].active=!0,e.zIndex=D.UI_ZIndex.Front},t.prototype.closePayWaitingUi=function(){var e=this.node.getChildByName("wait_ui");e&&(e.active=!1)},t.prototype.closeUiDialog=function(t,a,n){this.setCurShowUi(D.UIPath.Null,a),e.prototype.destroyNode.call(this,t,n),t==D.UIPath.Null&&n.removeFromParent(!1)},t.prototype.closeAllUiDialog=function(e){var t=this;this.cur_show_ui_path.forEach(function(a,n){if(n>=e){var o=a.lastIndexOf("/");if(-1!=o){var i=a.substring(o+1),r=t.node.getChildByName(i);if(r){var s=r.getComponent(E.default);s&&s.onClose()}}}})},t.prototype.setCurShowUi=function(e,t){this.cur_show_ui_path.set(t,e)},t.prototype.getCurShowUi=function(e){return this.cur_show_ui_path.get(e)},t.prototype.showTouchEffect=function(e){var t=this,a=this.getPrefab("ui/ui_touch");if(a){var n=cc.instantiate(a);this.node.addChild(n),n.zIndex=D.UI_ZIndex.UiTouch,n.setPosition(e);var o=n.getComponent(cc.Animation);o.play().speed=1/g.default.getInstance().getGameRate(),o.on(cc.Animation.EventType.FINISHED,function(){n.removeFromParent()},this)}else this.loadPrefab("ui/ui_touch",function(a){var n=cc.instantiate(a);t.node.addChild(n),n.zIndex=D.UI_ZIndex.UiTouch,n.setPosition(e);var o=n.getComponent(cc.Animation);o.play().speed=1/g.default.getInstance().getGameRate(),o.on(cc.Animation.EventType.FINISHED,function(){n.removeFromParent()},t)})},t.prototype.showTextInfo=function(e,t){var a=this,n=this.getPrefab("ui/info/info");if(n){var o=cc.instantiate(n);this.node.addChild(o),o.getComponent(B.default).showInfo(e,t)}else this.loadPrefab("ui/info/info",function(n){var o=cc.instantiate(n);a.node.addChild(o),o.getComponent(B.default).showInfo(e,t)})},t.prototype.showJinSheng0=function(e){var t=this;if(g.default.getInstance().cur_game_scene==s.GameScene.home){var a="effects/home/role_shengjie/role_shengjie_0",n=this.getPrefab(a);if(n){var o=cc.instantiate(n);o.parent=e,o.getComponent(cc.Animation).on(cc.Animation.EventType.FINISHED,function(){o.removeFromParent()},this)}else this.loadPrefab(a,function(a){var n=cc.instantiate(a);n.parent=e,n.getComponent(cc.Animation).on(cc.Animation.EventType.FINISHED,function(){n.removeFromParent()},t)})}},t.prototype.showJinSheng1=function(e){var t=this;if(g.default.getInstance().cur_game_scene==s.GameScene.home){var a="effects/home/role_shengjie/role_shengjie_1",n=this.getPrefab(a);if(n){var o=cc.instantiate(n);o.parent=e,o.getComponent(cc.Animation).on(cc.Animation.EventType.FINISHED,function(){o.removeFromParent()},this)}else this.loadPrefab(a,function(a){var n=cc.instantiate(a);n.parent=e,n.getComponent(cc.Animation).on(cc.Animation.EventType.FINISHED,function(){n.removeFromParent()},t)})}},t.prototype.showRoleStar=function(e,t){var a=this;if(g.default.getInstance().cur_game_scene==s.GameScene.home){var n="effects/home/role_star/role_star",o=this.getPrefab(n);if(o){var i=cc.instantiate(o);i.parent=e,i.setPosition(t),i.getComponent(cc.Animation).on(cc.Animation.EventType.FINISHED,function(){i.removeFromParent()},this)}else this.loadPrefab(n,function(n){var o=cc.instantiate(n);o.parent=e,o.setPosition(t),o.getComponent(cc.Animation).on(cc.Animation.EventType.FINISHED,function(){o.removeFromParent()},a)})}},t.prototype.showZhanDouli=function(e,t){var a=this;if(g.default.getInstance().cur_game_scene==s.GameScene.home){var n="effects/home/role_zhandouli/role_zhandouli",o=this.getPrefab(n);if(o){var i=cc.instantiate(o);i.parent=e,i.setPosition(t),i.getComponent(cc.Animation).on(cc.Animation.EventType.FINISHED,function(){i.removeFromParent()},this)}else this.loadPrefab(n,function(n){var o=cc.instantiate(n);o.parent=e,o.setPosition(t),o.getComponent(cc.Animation).on(cc.Animation.EventType.FINISHED,function(){o.removeFromParent()},a)})}},t.prototype.showWallUpgrade=function(e){var t=this,a="effects/home/wall_upgrade/wall_upgrade",n=this.getPrefab(a);if(n){var o=cc.instantiate(n);o.parent=e,o.getComponent(cc.Animation).on(cc.Animation.EventType.FINISHED,function(){o.removeFromParent()},this),g.default.getInstance().sound_manager.playSound(b.SoundIndex.YX_Level)}else this.loadPrefab(a,function(a){var n=cc.instantiate(a);n.parent=e,n.getComponent(cc.Animation).on(cc.Animation.EventType.FINISHED,function(){n.removeFromParent()},t),g.default.getInstance().sound_manager.playSound(b.SoundIndex.YX_Level)})},t.prototype.showEquipInfoUi=function(e,t,a,n,o,i){this.showUiDialog("equipment/equip_info_ui",D.UILayerLevel.Three,{onCompleted:function(r){r.getComponent(l.default).initData(e,t,a,n,o,i)}})},t.prototype.showGetHeroUi=function(e){var t=this,a="ui/game/get_hero_ui",n=this.getPrefab(a);if(n){var o=cc.instantiate(n);this.node.addChild(o),o.getComponent(N.default).initUi(e)}else this.loadPrefab(a,function(a){var n=cc.instantiate(a);t.node.addChild(n),n.getComponent(N.default).initUi(e)})},t.prototype.showUnlockHintUi=function(){var e=this,t="ui/game/unlock_hint",a=this.getPrefab(t);if(a){var n=cc.instantiate(a);this.node.addChild(n)}else this.loadPrefab(t,function(t){var a=cc.instantiate(t);e.node.addChild(a)})},t.prototype.showMazeUi=function(){var e=this,t=this.getPrefab("maze/maze_ui");if(t){var a=cc.instantiate(t);this.node.addChild(a)}else this.loadPrefab("maze/maze_ui",function(t){var a=cc.instantiate(t);e.node.addChild(a)})},t.prototype.showVideoTip=function(e,t){var a=this,n="ui/game/video_tip",o=this.getPrefab(n);if(o){var i=cc.instantiate(o);this.node.addChild(i),i.getComponent(w.default).init(e,t)}else this.loadPrefab(n,function(n){var o=cc.instantiate(n);a.node.addChild(o),o.getComponent(w.default).init(e,t)})},t.prototype.showMazeHealingPotionUi=function(e,t,a){var n=this,o="maze/maze_healing_potion_ui",i=this.getPrefab(o);if(i){var r=cc.instantiate(i);this.node.addChild(r);var s=r.getComponent(u.default);s.init(e),s.initData(t,a)}else this.loadPrefab(o,function(o){var i=cc.instantiate(o);n.node.addChild(i);var r=i.getComponent(u.default);r.init(e),r.initData(t,a)})},t.prototype.showMazeBuffUi=function(e,t,a){var n=this,o="maze/maze_buff_ui",i=this.getPrefab(o);if(i){var r=cc.instantiate(i);this.node.addChild(r);var s=r.getComponent(p.default);s.init(e),s.initData(t,a)}else this.loadPrefab(o,function(o){var i=cc.instantiate(o);n.node.addChild(i);var r=i.getComponent(p.default);r.init(e),r.initData(t,a)})},t.prototype.showMazeFightingUi=function(e,t,a){var n=this,o="maze/maze_fighting_ui",i=this.getPrefab(o);if(i){var r=cc.instantiate(i);this.node.addChild(r);var s=r.getComponent(d.default);s.init(e),s.initData(t,a)}else this.loadPrefab(o,function(o){var i=cc.instantiate(o);n.node.addChild(i);var r=i.getComponent(d.default);r.init(e),r.initData(t,a)})},t.prototype.showMazeShopUi=function(e,t,a){var n=this,o="maze/maze_shop",i=this.getPrefab(o);if(i){var r=cc.instantiate(i);this.node.addChild(r);var s=r.getComponent(f.default);s.init(e),s.initData(t,a)}else this.loadPrefab(o,function(o){var i=cc.instantiate(o);n.node.addChild(i);var r=i.getComponent(f.default);r.init(e),r.initData(t,a)})},t.prototype.showMazeToolUi=function(e){var t=this,a="maze/maze_tool_ui",n=this.getPrefab(a);if(n){var o=cc.instantiate(n);this.node.addChild(o),o.getComponent(m.default).init(e)}else this.loadPrefab(a,function(a){var n=cc.instantiate(a);t.node.addChild(n),n.getComponent(m.default).init(e)})},t.prototype.showMazeBagUi=function(){var e=this,t="maze/maze_bag_ui",a=this.getPrefab(t);if(a){var n=cc.instantiate(a);this.node.addChild(n)}else this.loadPrefab(t,function(t){var a=cc.instantiate(t);e.node.addChild(a)})},t.prototype.showMazeBuffInfo=function(e){var t=this,a="maze/maze_show_buff",n=this.getPrefab(a);if(n){var o=cc.instantiate(n);this.node.addChild(o),o.getComponent(_.default).initData(e)}else this.loadPrefab(a,function(a){var n=cc.instantiate(a);t.node.addChild(n),n.getComponent(_.default).initData(e)})},t.prototype.showMazeSendDoorUi=function(){var e=this,t="maze/maze_send_door_ui",a=this.getPrefab(t);if(a){var n=cc.instantiate(a);this.node.addChild(n)}else this.loadPrefab(t,function(t){var a=cc.instantiate(t);e.node.addChild(a)})},t.prototype.showMazeWallInfoUi=function(e){var t=this,a="maze/maze_wall_info",n=this.getPrefab(a);if(n){var o=cc.instantiate(n);this.node.addChild(o),o.getComponent(y.default).init(e)}else this.loadPrefab(a,function(a){var n=cc.instantiate(a);t.node.addChild(n),n.getComponent(y.default).init(e)})},t.prototype.showMazeLeaseUi=function(e,t,a){var n=this,o="maze/maze_lease_ui",i=this.getPrefab(o);if(i){var r=cc.instantiate(i);this.node.addChild(r);var s=r.getComponent(h.default);s.init(e),s.initData(t,a)}else this.loadPrefab(o,function(o){var i=cc.instantiate(o);n.node.addChild(i);var r=i.getComponent(h.default);r.init(e),r.initData(t,a)})},t.prototype.showPropInfo=function(e,t,a,n,o){var i=this,r="prop/prop_info_ui",s=this.getPrefab(r);if(s){var c=cc.instantiate(s);this.node.addChild(c);var l=c.getComponent(k.default);l.init(e),l.initData(a,t),l.addBuyListen(n),l.addUseListen(o)}else this.loadPrefab(r,function(r){var s=cc.instantiate(r);i.node.addChild(s);var c=s.getComponent(k.default);c.init(e),c.initData(a,t),c.addBuyListen(n),c.addUseListen(o)})},t.prototype.showConsumptionTipUi=function(e,t,a,n){var o=this,i="consumption_tip_ui",r=this.getPrefab(i);if(r){var s=cc.instantiate(r);this.node.addChild(s),s.getComponent(T.default).init(e),s.getComponent(T.default).initCallBack(t,a,n)}else this.loadPrefab(i,function(i){var r=cc.instantiate(i);o.node.addChild(r),r.getComponent(T.default).init(e),r.getComponent(T.default).initCallBack(t,a,n)})},t.prototype.showPetUpgradeUi=function(e,t){var a=this,n="pet/ui/pet_upgrade_ui",o=this.getPrefab(n);if(o){var i=cc.instantiate(o);this.node.addChild(i),i.getComponent(P.default).init(e),i.getComponent(P.default).initUi(t)}else this.loadPrefab(n,function(n){var o=cc.instantiate(n);a.node.addChild(o),o.getComponent(P.default).init(e),o.getComponent(P.default).initUi(t)})},t.prototype.showEquipExchangeUi=function(e,t,a,n){this.showUiDialog("equipment/equip_exchange_ui",D.UILayerLevel.Three,{onCompleted:function(o){o.getComponent(c.default).init(e),o.getComponent(c.default).initData(t,a,n)}})},t.prototype.showPetExchangeUi=function(){},t.prototype.showPayUi=function(e,t){this.showUiDialog("payment/payment_ui",D.UILayerLevel.One,{onCompleted:function(a){var n=a.getComponent(v.default);n.init(e),n.initData(t)}})},t.prototype.showPetAddvanceUi=function(){var e=this,t="pet/ui/pet_advance_ui",a=this.getPrefab(t);if(a){var n=cc.instantiate(a);this.node.addChild(n)}else this.loadPrefab(t,function(t){var a=cc.instantiate(t);e.node.addChild(a)})},t.prototype.showPetSetFreeUi=function(e,t){var a=this,n="pet/ui/pet_set_free_ui",o=this.getPrefab(n);if(o){var i=cc.instantiate(o);this.node.addChild(i),i.getComponent(S.default).init(e),i.getComponent(S.default).initData(t)}else this.loadPrefab(n,function(n){var o=cc.instantiate(n);a.node.addChild(o),o.getComponent(S.default).init(e),o.getComponent(S.default).initData(t)})},t.prototype.showPetResetUi=function(e,t){var a=this,n="pet/ui/pet_reduction_ui",o=this.getPrefab(n);if(o){var i=cc.instantiate(o);this.node.addChild(i),i.getComponent(C.default).init(e),i.getComponent(C.default).initData(t)}else this.loadPrefab(n,function(n){var o=cc.instantiate(n);a.node.addChild(o),o.getComponent(C.default).init(e),o.getComponent(C.default).initData(t)})},t.prototype.showPayFirstChargeUi=function(e){var t=this,a="payment/pay_first_charge_ui",n=this.getPrefab(a);if(n){var o=cc.instantiate(n);this.node.addChild(o),o.getComponent(I.default).init(e)}else this.loadPrefab(a,function(a){var n=cc.instantiate(a);t.node.addChild(n),n.getComponent(I.default).init(e)})},t.prototype.showHelpTipsUi=function(e,t,a){var n=this,o=this.getPrefab("help_ui");if(o){var i=cc.instantiate(o);this.node.addChild(i),i.getComponent(r.default).init(e),i.getComponent(r.default).initData(t,a)}else this.loadPrefab("help_ui",function(o){var i=cc.instantiate(o);n.node.addChild(i),i.getComponent(r.default).init(e),i.getComponent(r.default).initData(t,a)})},t.prototype.showPetAdvanceShowUi=function(e,t,a){var n=this,o="pet/ui/pet_advans_show_ui",i=this.getPrefab(o);if(i){var r=cc.instantiate(i);this.node.addChild(r),r.getComponent(M.default).init(e),r.getComponent(M.default).initData(t,a)}else this.loadPrefab(o,function(o){var i=cc.instantiate(o);n.node.addChild(i),i.getComponent(M.default).init(e),i.getComponent(M.default).initData(t,a)})},t.prototype.showGameLoseUi=function(){var e=this,t="ui/game/game_lose",a=this.getPrefab(t);if(a){var n=cc.instantiate(a);this.node.addChild(n)}else this.loadPrefab(t,function(t){var a=cc.instantiate(t);e.node.addChild(a)})},t.prototype.showGamePauseUi=function(){var e=this,t="ui/game/game_pause",a=this.getPrefab(t);if(a){var n=cc.instantiate(a);this.node.addChild(n)}else this.loadPrefab(t,function(t){var a=cc.instantiate(t);e.node.addChild(a)})},t.prototype.showDamageStatsUi=function(){var e=this;if(g.default.getInstance().cur_game_scene==s.GameScene.game){var t="ui/game/damage_stats_ui",a=this.getPrefab(t);if(a){var n=cc.instantiate(a);this.node.addChild(n)}else this.loadPrefab(t,function(t){var a=cc.instantiate(t);e.node.addChild(a)})}},t._instance=null,a=i([H],t)}(L.default));a.UIManager=F,cc._RF.pop()},{"../BattlePass/BattlePassHelpUi":"BattlePassHelpUi","../CombatNumEffect":"CombatNumEffect","../Constants":"Constants","../Equipment/Ui/EquipExchangeUi":"EquipExchangeUi","../Equipment/Ui/EquipInfoUi":"EquipInfoUi","../GameManager":"GameManager","../Hero/Ui/GetHeroUi":"GetHeroUi","../Maze/HealingPotion":"HealingPotion","../Maze/MazeBuffUi":"MazeBuffUi","../Maze/MazeFightingUi":"MazeFightingUi","../Maze/MazeLeaseUi":"MazeLeaseUi","../Maze/MazeShop":"MazeShop","../Maze/MazeShowBuffUi":"MazeShowBuffUi","../Maze/MazeToolUi":"MazeToolUi","../Maze/MazeWallInfoUi":"MazeWallInfoUi","../NetWork/HttpManager":"HttpManager","../Payment/PayFirstChargeUi":"PayFirstChargeUi","../Payment/PaymentUi":"PaymentUi","../Pet/Ui/PetAdvanceShowUi":"PetAdvanceShowUi","../Pet/Ui/PetReductionUi":"PetReductionUi","../Pet/Ui/PetSetFreeUi":"PetSetFreeUi","../Pet/Ui/PetUpgradeUi":"PetUpgradeUi","../Prop/PropInfoUi":"PropInfoUi","../Sound/AudioConstants":"AudioConstants","../multiLanguage/LanguageManager":"LanguageManager","./ConsumptionTipUi":"ConsumptionTipUi","./TextInfo":"TextInfo","./UIComponent":"UIComponent","./UIConfig":"UIConfig","./UIPool":"UIPool","./VideoTip":"VideoTip"}],UIPool:[function(e,t,a){"use strict";cc._RF.push(t,"db526gr645Edb3r8sXnIu4Q","UIPool");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.map_node_pools=null,t.map_prefabs=null,t.preload_path=[],t.test_pool=null,t.map_callback=null,t}return o(t,e),t.prototype.onLoad=function(){this.map_node_pools=new Map,this.map_prefabs=new Map,this.map_callback=new Map,this.preload_path=new Array,this.test_pool=new cc.NodePool},t.prototype.addNodePool=function(e,t,a){var n=this;if(this.map_node_pools.has(e))return a&&a(),!1;if(this.preload_path.includes(e)){var o=this.map_callback.get(e);return o?o.push(a):(o=new Array).push(a),this.map_callback.set(e,o),!1}return this.preload_path.push(e),cc.resources.load(e,cc.Prefab,function(o,i){if(o)console.log(o);else{n.map_prefabs.set(e,i);for(var r=new cc.NodePool,s=0;s<t;++s){var c=cc.instantiate(i);r.put(c)}n.map_node_pools.set(e,r);var l=r.get();a&&a(l);var g=n.map_callback.get(e);g&&g.forEach(function(e){e(l)})}}),!0},t.prototype.getNodeById=function(e){var t=null,a=this.map_node_pools.get(e);return a&&(t=a.size()>0?a.get():cc.instantiate(this.map_prefabs.get(e))),t},t.prototype.destroyNode=function(e,t){var a=this.map_node_pools.get(e);a&&a.put(t)},t.prototype.onDestroy=function(){this.map_node_pools&&(this.map_node_pools.forEach(function(e){e.clear()}),this.map_node_pools=null),this.map_prefabs&&(this.map_prefabs.forEach(function(){cc.log(cc.assetManager.assets.count)}),this.map_prefabs=null),this.preload_path&&(this.preload_path=null)},i([s],t)}(cc.Component));a.default=c,cc._RF.pop()},{}],UI:[function(e,t,a){"use strict";cc._RF.push(t,"df968oG9ClOtaKssOzeyetw","UI");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("./Joystick"),s=cc._decorator.ccclass,c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.useFixedType=function(){r.instance.emit("set_joystick_type",r.JoystickType.FIXED)},t.prototype.useFollowType=function(){r.instance.emit("set_joystick_type",r.JoystickType.FOLLOW)},i([s],t)}(cc.Component);a.default=c,cc._RF.pop()},{"./Joystick":"Joystick"}],UiInterface:[function(e,t,a){"use strict";cc._RF.push(t,"3c5ddpfSG1DfKnEYC9vTl4v","UiInterface"),Object.defineProperty(a,"__esModule",{value:!0}),cc._RF.pop()},{}],UiTouch:[function(e,t,a){"use strict";cc._RF.push(t,"6283aL0NMZNbaR8ROTANKLE","UiTouch");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Constants"),s=e("../GameManager"),c=e("../Sound/AudioConstants"),l=e("./UIManager"),g=cc._decorator,u=g.ccclass,p=(g.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_START,function(t){if(s.default.getInstance().cur_game_state!=r.GameState.Game_Pause){var a=t.getLocation(),n=e.node.convertToNodeSpaceAR(a);l.UIManager.getInstance().showTouchEffect(n),s.default.getInstance().sound_manager.playSound(c.SoundIndex.YX_ButtonClear)}},this),this.node._touchListener&&this.node._touchListener.setSwallowTouches(!1)},i([u],t)}(cc.Component));a.default=p,cc._RF.pop()},{"../Constants":"Constants","../GameManager":"GameManager","../Sound/AudioConstants":"AudioConstants","./UIManager":"UIManager"}],UnlockHint:[function(e,t,a){"use strict";cc._RF.push(t,"40bcfrxjr9OSrEl9Z8HtKHu","UnlockHint");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Constants"),s=e("../GameData"),c=e("../GameManager"),l=e("../multiLanguage/LanguageManager"),g=e("../Sound/AudioConstants"),u=cc._decorator,p=u.ccclass,d=(u.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.start=function(){this.node.getChildByName("hintText").getComponent(cc.Label).string=l.default.getInstance().getStrByTextId(3107),s.default.getInstance().saveSignUnlockHint()},t.prototype.clickBtnOk=function(){c.default.getInstance().sound_manager.playSound(g.SoundIndex.click),c.default.getInstance().game_to_home=r.Go_Type.Main_Sign,c.default.getInstance().backToHome()},i([p],t)}(cc.Component));a.default=d,cc._RF.pop()},{"../Constants":"Constants","../GameData":"GameData","../GameManager":"GameManager","../Sound/AudioConstants":"AudioConstants","../multiLanguage/LanguageManager":"LanguageManager"}],UnlockSkill:[function(e,t,a){"use strict";cc._RF.push(t,"f6b5eETtTBK76aVwKi533eo","UnlockSkill");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.yes_callback=null,t.no_callback=null,t}return o(t,e),t.prototype.init=function(e,t){this.yes_callback=e,this.no_callback=t},t.prototype.clickBtnYes=function(){this.yes_callback&&this.yes_callback(),this.node.removeFromParent()},t.prototype.clickBtnNo=function(){this.yes_callback&&this.no_callback(),this.node.removeFromParent()},i([s],t)}(cc.Component));a.default=c,cc._RF.pop()},{}],UserData:[function(e,t,a){"use strict";cc._RF.push(t,"a12cfJBpNBGsZe0dao+eOVS","UserData"),Object.defineProperty(a,"__esModule",{value:!0});var n=e("./NetWork/HttpManager"),o=e("./Constants"),i=e("./GameManager"),r=e("./JsonData/PlayerLevelUp"),s=e("./UI/UIConfig"),c=e("./UI/UIManager"),l=function(){function e(){this.is_load_ok=!1,this.version_is_ok=!1}return e.prototype.init=function(){this.getUserID()?this.is_load_ok=!0:this.HttpPostGetUserId(this.randomDeviceId(16),"Organic")},e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.randomLetter=function(e){for(var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",a="",n=0;n<e;n++)a+=t[Math.floor(Math.random()*t.length)];return a},e.prototype.randomDeviceId=function(e){for(var t="abcdefghijklmnopqrstuvwxyz0123456789",a="",n=0;n<e;n++)a+=t[Math.floor(Math.random()*t.length)];return a},e.prototype.addUserLevel=function(e){var t=this.getUserLevel()+e;return t>=0&&(this.saveUserLevel(t),!0)},e.prototype.getUserLevel=function(){var e=cc.sys.localStorage.getItem("user_level");return""===e||null===e?1:parseInt(e)},e.prototype.saveUserLevel=function(e){cc.sys.localStorage.setItem("user_level",e)},e.prototype.changeUserExp=function(e){var t=this.getUserExp()+e;return t>=0&&(this.saveUserExp(t),!0)},e.prototype.getUserExp=function(){var e=cc.sys.localStorage.getItem("user_exp");return""===e||null===e?0:parseInt(e)},e.prototype.saveUserExp=function(e){cc.sys.localStorage.setItem("user_exp",e);var t=this.getUserLevel(),a=r.PlayerLevelUpManager.getMaxPlayerLevel();i.default.getInstance().refreshUserExpShow(),t<a&&e>=r.PlayerLevelUpManager.getInstance().getPlayerExpCost(t)&&c.UIManager.getInstance().showUiDialog(s.UIPath.UserLevel,s.UILayerLevel.One,{onCompleted:function(){}})},e.prototype.getUserName=function(){var e=cc.sys.localStorage.getItem("user_name");return""!==e&&null!==e||(e=this.randomLetter(8),this.saveUserName(e)),e},e.prototype.saveUserName=function(e){cc.sys.localStorage.setItem("user_name",e)},e.prototype.getUserID=function(){var e=cc.sys.localStorage.getItem("user_id");return""!==e&&null!==e||(e="",this.saveUserID(e)),e},e.prototype.saveUserID=function(e){cc.sys.localStorage.setItem("user_id",e)},e.prototype.getVersion=function(){var e=cc.sys.localStorage.getItem("game_version");return""!==e&&null!==e||(e="1.2.2"),e},e.prototype.saveVersion=function(e){cc.sys.localStorage.setItem("game_version",e)},e.prototype.getUserAvatar=function(){var e=cc.sys.localStorage.getItem("user_avatar");return""!==e&&null!==e||(e=8,this.saveUserAvatar(e)),parseInt(e)},e.prototype.saveUserAvatar=function(e){cc.sys.localStorage.setItem("user_avatar",e)},e.prototype.HttpPostGetUserId=function(e,t){var a=this;if(!this.getUserID()){var o={uid:"",network:t,user:t,appVer:"",phoneModel:"HuaWei",pkg:"com.IdleHeroCastleDefense",sysVer:31,lang:"zh",maxLevel:"0",totalOnlineDur:"0",deviceId:e,name:"Test-"+this.randomLetter(4)};n.HttpManager.post(n.AccessName.userBasic,JSON.stringify(o)).then(function(e){e.uid&&(a.saveUserID(e.uid),a.is_load_ok=!0)}).catch(function(n){cc.error(n),a.HttpPostGetUserId(e,t)})}},e.prototype.HttpPostCheckVersion=function(){var e=this;cc.sys.isNative?n.HttpManager.post(n.AccessName.versionGet,JSON.stringify({})).then(function(t){t&&t>o.CurVersionCode?cc.resources.load("loading/version_tip",cc.Prefab,function(e,t){if(e)cc.log(e);else{var a=cc.instantiate(t);a.x=0,a.y=0,cc.find("Canvas").addChild(a)}}):e.version_is_ok=!0}).catch(function(t){cc.error(t),e.version_is_ok=!0}):this.version_is_ok=!0},e._instance=null,e}();a.default=l,cc._RF.pop()},{"./Constants":"Constants","./GameManager":"GameManager","./JsonData/PlayerLevelUp":"PlayerLevelUp","./NetWork/HttpManager":"HttpManager","./UI/UIConfig":"UIConfig","./UI/UIManager":"UIManager"}],UserInfo:[function(e,t,a){"use strict";cc._RF.push(t,"21ab1a/HWBE8qodJKVDdmMD","UserInfo"),Object.defineProperty(a,"__esModule",{value:!0}),a.UserInfo=void 0;var n=e(".././NetWork/HttpManager"),o=e("../Hero/Game/HeroConfig"),i=e("../Storage/StorageConfig"),r=e("../Storage/StorageManager"),s=e("../UserData"),c=function(){function e(){this.signInDays=0,this.isSignGift=0,this.lastSignTime=0,this.lastSignTimeTS=0,this.payGem=0,this.waveNumber=0,this.damageNumber=0,this.RotationOrder=1,this.heroList=[],this.dailyTaskList=[],this.achievementTaskList=[],this.mainTaskList=[],this.damageNumberLast=-1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.refreshData(),this.getHeroList(),this.getVIPData(),this.getTaskData()},e.prototype.refreshData=function(){var e=this;n.HttpManager.gameTimePost(n.AccessName.getServerTime,this.getUserInfoJsonString()).then(function(t){if(t.serverTime){var a=t.serverTime;e.getStoreData(1e3*a),n.HttpManager.post(n.AccessName.userInfo,e.getUserInfoJsonString()).then(function(t){if(e.signInDays=t.signDays,e.isSignGift=t.isSignGift,e.lastSignTime=t.lastSignTime,e.lastSignTimeTS=t.lastSignTimeTS,e.payGem=t.payGem,e.waveNumber=t.waveNumber,e.damageNumber=t.damageNumber,e.damageNumberLast=t.damageNumberLast,r.TheStorageManager.getInstance().setItem(i.StorageKey.NewPlayerSavenDaySignInNum,e.signInDays),r.TheStorageManager.getInstance().setItem(i.StorageKey.NewPlayerSavenDaySignInOver,e.isSignGift),0==e.isSignGift){var n=new Date(1e3*e.lastSignTimeTS);n.getDate(),new Date(1e3*a).getDate(),n.getDate()==new Date(1e3*a).getDate()?r.TheStorageManager.getInstance().setItem(i.StorageKey.CanSignIn,1):r.TheStorageManager.getInstance().setItem(i.StorageKey.CanSignIn,0)}else e.getSignInData(a)})}}),n.HttpManager.post(n.AccessName.getBoss,"").then(function(t){e.RotationOrder=t})},e.prototype.getSignInData=function(e){n.HttpManager.post(n.AccessName.getSignRecord,this.getUserInfoJsonString()).then(function(t){if(t)if(t.signGift.forEach(function(e){r.TheStorageManager.getInstance().setItem(i.StorageKey.DailySignInCumulativeDay+e.type,1)}),t.signDetail.forEach(function(e){r.TheStorageManager.getInstance().setItem(i.StorageKey.DailySignInDay+new Date(e.signDateTS).getDate(),1)}),t.signDetail.length>0){var a=t.signDetail[t.signDetail.length-1].signDateTS;new Date(e).getDate()==new Date(a).getDate()?r.TheStorageManager.getInstance().setItem(i.StorageKey.CanSignIn,1):r.TheStorageManager.getInstance().setItem(i.StorageKey.CanSignIn,0)}else r.TheStorageManager.getInstance().setItem(i.StorageKey.CanSignIn,0)})},e.prototype.getHeroList=function(){var e=this,t=r.TheStorageManager.getInstance().getJson(i.StorageKey.HeroList);if(t)for(var a=0;a<t.length;a++){var s=new n.HeroObject,c=t[a];s.heroId=c.hero_type,s.heroLevel=c.hero_level,s.heroStage=c.hero_stage,s.heroWeaponStage=c.exclusive_equip_stage,s.weapons=c.wear1,s.armor=c.wear2,s.accessories=c.wear3,s.shoes=c.wear4,s.pet=c.pet_id,this.heroList.push(s)}else(s=new n.HeroObject).heroId=o.Hero_Type.ShouWang,s.heroLevel=1,s.heroStage=0,s.heroWeaponStage=0,s.weapons=0,s.armor=0,s.accessories=0,s.shoes=0,s.pet=0,this.heroList.push(s),(s=new n.HeroObject).heroId=o.Hero_Type.PaoShou,s.heroLevel=1,s.heroStage=0,s.heroWeaponStage=0,s.weapons=0,s.armor=0,s.accessories=0,s.shoes=0,s.pet=0,this.heroList.push(s),(s=new n.HeroObject).heroId=o.Hero_Type.DeLuYi,s.heroLevel=1,s.heroStage=0,s.heroWeaponStage=0,s.weapons=0,s.armor=0,s.accessories=0,s.shoes=0,s.pet=0,this.heroList.push(s);n.HttpManager.post(n.AccessName.getHeroList,this.getUserInfoJsonString(),!1).then(function(t){if(t)if(e.heroList=[],0!=t.length)t.forEach(function(t){var a=new n.HeroObject;a.heroId=t.heroId,a.heroLevel=t.heroLevel,a.heroStage=t.heroStage,a.heroWeaponStage=t.heroWeaponStage,a.weapons=t.weapons,a.armor=t.armor,a.accessories=t.accessories,a.shoes=t.shoes,a.pet=t.pet,e.heroList.push(a)});else{var a=new n.HeroObject;a.heroId=o.Hero_Type.ShouWang,a.heroLevel=1,a.heroStage=0,a.heroWeaponStage=0,a.weapons=0,a.armor=0,a.accessories=0,a.shoes=0,a.pet=0,e.heroList.push(a),(a=new n.HeroObject).heroId=o.Hero_Type.PaoShou,a.heroLevel=1,a.heroStage=0,a.heroWeaponStage=0,a.weapons=0,a.armor=0,a.accessories=0,a.shoes=0,a.pet=0,e.heroList.push(a),(a=new n.HeroObject).heroId=o.Hero_Type.DeLuYi,a.heroLevel=1,a.heroStage=0,a.heroWeaponStage=0,a.weapons=0,a.armor=0,a.accessories=0,a.shoes=0,a.pet=0,e.heroList.push(a)}}).catch(function(){console.log("\u7f51\u7edc\u8bf7\u6c42\u51fa\u73b0\u95ee\u9898\uff0c\u8fd9\u91cc\u62ff\u672c\u5730\u6570\u636e\u4f5c\u4e3a\u6e38\u620f\u4f9d\u636e")})},e.prototype.getStoreData=function(e){n.HttpManager.post(n.AccessName.queryGameTask,this.getQueryGameTaskJsonString(10)).then(function(t){if(t){var a=new Date(e);t.forEach(function(e){new Date(e.createTime).getDate()==a.getDate()&&r.TheStorageManager.getInstance().setItem(i.StorageKey.StoreDailyShopNum+e.playLevel,1)})}})},e.prototype.getVIPData=function(){n.HttpManager.post(n.AccessName.queryGameTask,this.getQueryGameTaskJsonString(1)).then(function(e){e&&e.forEach(function(e){r.TheStorageManager.getInstance().setItem(i.StorageKey.VipFreeRewardStatus+e.playLevel,1)})}),n.HttpManager.post(n.AccessName.queryGameTask,this.getQueryGameTaskJsonString(2)).then(function(e){e&&e.forEach(function(e){r.TheStorageManager.getInstance().setItem(i.StorageKey.VipAdvancedRewardStatus+e.playLevel,1)})})},e.prototype.getTaskData=function(){var e=this;n.HttpManager.gameTimePost(n.AccessName.getServerTime,this.getUserInfoJsonString()).then(function(t){if(t.serverTime){var a=1e3*t.serverTime,o=new Date(a);e.dailyTaskList=[],n.HttpManager.post(n.AccessName.queryGameAchievementTask,e.getTaskInfoJsonString(1)).then(function(t){t&&(t.forEach(function(t){var a=new Date(t.createTime);if(o.getDate()==a.getDate()){var i=new n.TaskObject;i.taskId=t.taskId,i.dimension=t.dimension,i.status=t.status,i.emit=t.emit,e.dailyTaskList.push(i)}}),e.dailyTaskList.forEach(function(e,t){r.TheStorageManager.getInstance().setItem(i.StorageKey.TaskId+t,e.taskId),r.TheStorageManager.getInstance().setItem(i.StorageKey.TaskState+e.taskId,e.status),r.TheStorageManager.getInstance().setItem(i.StorageKey.TaskNum+e.taskId,e.emit)}))}),e.achievementTaskList=[],n.HttpManager.post(n.AccessName.queryGameAchievementTask,e.getTaskInfoJsonString(2)).then(function(t){if(t){if(t.forEach(function(t){var a=new n.TaskObject;a.status=t.status,a.emit=t.emit,a.stage=t.stage,a.taskType=t.taskType,e.achievementTaskList.push(a)}),0==e.achievementTaskList.length)for(var a=1;a<15;a++){var o=new n.TaskObject;o.dimension=2,o.taskType=a,o.taskId=1e5*a+1,o.status=0,o.stage=0,o.emit=0,e.achievementTaskList.push(o),n.HttpManager.post(n.AccessName.saveGameAchievementTask,e.getSaveGameAchievementTaskJson(o))}e.achievementTaskList.forEach(function(e){r.TheStorageManager.getInstance().setItem(i.StorageKey.TaskAchievementIndex+e.taskType,e.stage),r.TheStorageManager.getInstance().setItem(i.StorageKey.TaskAchievementNum+e.taskType,e.emit),r.TheStorageManager.getInstance().setItem(i.StorageKey.TaskState+(1e5*e.taskType+e.stage+1),e.status)})}}),e.mainTaskList=[],n.HttpManager.post(n.AccessName.queryGameAchievementTask,e.getTaskInfoJsonString(3)).then(function(t){if(t){if(t.forEach(function(t){var a=new n.TaskObject;a.status=t.status,a.emit=t.emit,a.progress=t.progress,a.stage=t.stage,a.taskType=t.taskType,e.mainTaskList.push(a)}),0==e.mainTaskList.length)for(var a=1;a<19;a++){var o=new n.TaskObject;o.dimension=3,o.taskType=a,o.taskId=1e5*a+1,o.status=0,o.stage=0,o.emit=0,o.progress=0,e.mainTaskList.push(o),n.HttpManager.post(n.AccessName.saveGameAchievementTask,e.getSaveGameAchievementTaskJson(o))}e.mainTaskList.forEach(function(e){r.TheStorageManager.getInstance().setItem(i.StorageKey.TaskMainIndex+e.taskType,e.stage),r.TheStorageManager.getInstance().setItem(i.StorageKey.TaskMainNum+e.taskType,e.emit),r.TheStorageManager.getInstance().setItem(i.StorageKey.TaskState+(1e7*e.taskType+e.stage+1),e.status),r.TheStorageManager.getInstance().setItem(i.StorageKey.TaskMainShowIndex,e.progress)})}}),n.HttpManager.post(n.AccessName.queryGameTask,e.getQueryGameTaskJsonString(4)).then(function(e){e&&e.forEach(function(e){var t=new Date(e.createTime);o.getDate()==t.getDate()&&r.TheStorageManager.getInstance().setItem(i.StorageKey.TaskDailyActivityState+e.playLevel,1)})}),n.HttpManager.post(n.AccessName.queryGameTask,e.getQueryGameTaskJsonString(5)).then(function(t){t&&t.forEach(function(t){var a=new Date(t.createTime);e.getYearWeek(o)==e.getYearWeek(a)&&r.TheStorageManager.getInstance().setItem(i.StorageKey.TaskWeeklyActivityState+t.playLevel,1)})}),n.HttpManager.post(n.AccessName.queryGameTask,e.getQueryGameTaskJsonString(8)).then(function(e){e&&e.forEach(function(e){var t=new Date(e.createTime);o.getDate()==t.getDate()&&r.TheStorageManager.getInstance().setItem(i.StorageKey.TaskDailyActivityNum,e.playLevel)})}),n.HttpManager.post(n.AccessName.queryGameTask,e.getQueryGameTaskJsonString(9)).then(function(t){t&&t.forEach(function(t){var a=new Date(t.createTime);e.getYearWeek(o)==e.getYearWeek(a)&&r.TheStorageManager.getInstance().setItem(i.StorageKey.TaskWeekActivityNum,t.playLevel)})})}})},e.prototype.getUserInfoJsonString=function(){var e=s.default.getInstance().getUserID();return JSON.stringify({uid:e})},e.prototype.getTaskInfoJsonString=function(e){var t=s.default.getInstance().getUserID();return JSON.stringify({uid:t,dimension:e})},e.prototype.getQueryGameTaskJsonString=function(e){var t=s.default.getInstance().getUserID();return JSON.stringify({uid:t,rewardType:e})},e.prototype.getYearWeek=function(e){var t=new Date(e.getFullYear(),0,1),a=e.getDay();0==a&&(a=7);var n=t.getDay();0==n&&(n=7);var o=e.getTime()-t.getTime(),i=Math.floor((o+864e5*(n-a))/864e5);return Math.ceil(i/7)+1},e.prototype.getSaveGameTaskJsonString=function(e,t){var a=s.default.getInstance().getUserID(),n=e;return JSON.stringify({uid:a,playLevel:n,rewardType:t})},e.prototype.getSaveGameAchievementTaskJson=function(e){var t=s.default.getInstance().getUserID();return JSON.stringify({uid:t,dimension:e.dimension,taskType:e.taskType,taskId:e.taskId,progress:e.progress,status:e.status,stage:e.stage,emit:e.emit})},e.prototype.getNowDay=function(){var e="",t=new Date;return e+=t.getFullYear(),t.getMonth()+1<10?e+="-0"+(t.getMonth()+1):e+="-"+(t.getMonth()+1),t.getDate()<10?e+="-0"+t.getDate():e+="-"+t.getDate(),e},e._instance=null,e}();a.UserInfo=c,cc._RF.pop()},{".././NetWork/HttpManager":"HttpManager","../Hero/Game/HeroConfig":"HeroConfig","../Storage/StorageConfig":"StorageConfig","../Storage/StorageManager":"StorageManager","../UserData":"UserData"}],UserLevelUi:[function(e,t,a){"use strict";cc._RF.push(t,"cacb8ea+WNGfbxSKQ1/lZeq","UserLevelUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../GameManager"),c=e("../../JsonData/FunctionDefinition"),l=e("../../JsonData/PlayerLevelUp"),g=e("../../multiLanguage/LanguageManager"),u=e("../../Prop/PropManager"),p=e("../../Prop/PropConfig"),d=e("../../Sound/AudioConstants"),h=e("../../Tools/MyTool"),f=e("../../UserData"),_=e("../UIComponent"),m=cc._decorator,y=m.ccclass,I=m.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.atlas=null,t.new_level=1,t.new_exp=1,t.total_level=1,t.is_show_compelete=!0,t}return o(t,e),t.prototype.start=function(){this.node.getChildByName("bbg").on(cc.Node.EventType.TOUCH_END,this.destroySelf,this),this.staring(),this.showLevel(),this.node.zIndex=2},t.prototype.staring=function(){for(var e=this.node.getChildByName("star_root"),t=0;t<e.childrenCount;t++){var a=e.children[t],n=a.scale,o=n+.5*Math.random()+.2,i=Math.random()+.5;cc.tween(a).repeatForever(cc.tween().to(i,{scale:o}).to(i,{scale:n})).start()}},t.prototype.showLevel=function(){for(var e=f.default.getInstance().getUserExp(),t=f.default.getInstance().getUserLevel(),a=l.PlayerLevelUpManager.getInstance().getPlayerExpCost(t),n=t,o=l.PlayerLevelUpManager.getMaxPlayerLevel();n<o&&e>=a;)e-=a,n++,a=l.PlayerLevelUpManager.getInstance().getPlayerExpCost(n);this.total_level=n-t,this.new_level=t+this.total_level;var i=this.new_level>=o;this.new_exp=e;var s=this.node.getChildByName("text_root"),d=s.getChildByName("nextLevel").getComponent(cc.Label),h=s.getChildByName("curLevel").getComponent(cc.Label),_=u.PropManager.getInstance().createPropItem(p.PropId.Gem,10*this.total_level);this.node.getChildByName("reward").addChild(_),_.setPosition(cc.v2(0,0)),i?(this.node.getChildByName("arrow").active=!1,this.node.getChildByName("bgl").active=!1,this.node.getChildByName("bgr").active=!1,s.getChildByName("ygTx").active=!1,d.node.active=!1):(h.string=""+t,d.string=""+this.new_level);for(var m=new Array,y=r.FuncType.LiChengBei;y<r.FuncType.Num;y++){var I=c.FunctionDefinitionManager.getInstance().getUnlockCondictionParameter(y);I>t&&I<=this.new_level&&m.push(y)}var v=m.length,M=this.node.getChildByName("unlockIcon"),C=this.node.getChildByName("scroll"),S=C.getComponent(cc.ScrollView).content;if(C.height=M.height*v,C.getChildByName("view").height=M.height*v,v>0)for(var P=1;P<=v;P++){y=m[P-1];var k=cc.instantiate(M);k.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.atlas.getSpriteFrame("func"+c.FunctionDefinitionManager.getIconIndex(y));var b=k.getChildByName("iconName").getComponent(cc.Label),T=c.FunctionDefinitionManager.getInstance().getTextID(y);b.string=g.default.getInstance().getStrByTextId(T),k.getComponent(cc.Button).clickEvents[0].customEventData=y+"",S.addChild(k)}else this.node.getChildByName("bgr").active=!1,this.node.getChildByName("bgl").active=!1,s.getChildByName("ygTx").active=!1;M.active=!1},t.prototype.clickBtnGo=function(e,t){var a=this;s.default.getInstance().sound_manager.playSound(d.SoundIndex.click);var n=parseInt(t);this.is_show_compelete&&h.default.allFadeOut(this.node,function(){a.goTo(n)})},t.prototype.goTo=function(e){var t=r.Go_Type.Main;switch(e){case r.FuncType.LiChengBei:t=r.Go_Type.Main_Milestone;break;case r.FuncType.GuaiWuTuJian:t=r.Go_Type.Main_EnemyInfo;break;case r.FuncType.ZhuanPan:t=r.Go_Type.Main_Spin;break;case r.FuncType.MeiRiRenWu:t=r.Go_Type.Main_Task;break;case r.FuncType.QianDao:t=r.Go_Type.Main_Sign;break;case r.FuncType.PaiHangBang:t=r.Go_Type.Main_Rank;break;case r.FuncType.ZhuangBeiHeCheng:t=r.Go_Type.City;break;case r.FuncType.GeRenBoss:case r.FuncType.ShiJieBoss:case r.FuncType.WuJinTiaoZhan:case r.FuncType.MiGong:case r.FuncType.PaTa:t=r.Go_Type.Activity;break;case r.FuncType.FanLi:case r.FuncType.LiBao:case r.FuncType.ZhanLing:case r.FuncType.ZhouLiBao:case r.FuncType.NeiGou:case r.FuncType.FirstCharge:t=r.Go_Type.Main;break;case r.FuncType.Shengtang:case r.FuncType.XuYuanChi:case r.FuncType.LongChao:case r.FuncType.ShangDian:case r.FuncType.TieJiangPu:case r.FuncType.ChongWuXiTong:t=r.Go_Type.City}s.default.getInstance().game_to_home=t,s.default.getInstance().cur_game_scene==r.GameScene.home?this.destroySelf():(s.default.getInstance().backToHome(),this.destroySelf())},t.prototype.startFly=function(e,t){if(s.default.getInstance().cur_game_scene==r.GameScene.home){var a=cc.v2(0,0),n=cc.find("Canvas/Top_Ui/top/iconGem"),o=n.parent.convertToWorldSpaceAR(n.getPosition()),i=cc.find("Canvas/Ui_Root");a=i.convertToNodeSpaceAR(o);for(var c=e.getPosition(),l=0;l<t;l++){var g=300*Math.random()-200+c.x,u=300*Math.random()-200+c.y,p=cc.v2(g,u),d=cc.instantiate(e);d.setPosition(p),i.addChild(d),cc.tween(d).then(h.default.getBezierAct(p,a)).removeSelf().start();var f=d.getChildByName("num");f&&(f.active=!1)}}},t.prototype.destroySelf=function(){var t=this;this.is_show_compelete&&(u.PropManager.getInstance().changePropNum(p.PropId.Gem,10*this.total_level),f.default.getInstance().saveUserLevel(this.new_level),f.default.getInstance().saveUserExp(this.new_exp),s.default.getInstance().refreshUserExpShow(),s.default.getInstance().jumoAndShowUi(),h.default.allFadeOut(this.node,function(){e.prototype.onClose.call(t)}))},i([I(cc.SpriteAtlas)],t.prototype,"atlas",void 0),i([y],t)}(_.default);a.default=v,cc._RF.pop()},{"../../Constants":"Constants","../../GameManager":"GameManager","../../JsonData/FunctionDefinition":"FunctionDefinition","../../JsonData/PlayerLevelUp":"PlayerLevelUp","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../Tools/MyTool":"MyTool","../../UserData":"UserData","../../multiLanguage/LanguageManager":"LanguageManager","../UIComponent":"UIComponent"}],VIPPrivileges:[function(e,t,a){"use strict";cc._RF.push(t,"38a7agGPrRJqYovIezWcXIA","VIPPrivileges");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Ads/ApkManager"),s=e("../GameManager"),c=e("../multiLanguage/FollowConstants"),l=e("../multiLanguage/FollowManager"),g=e("../Payment/PayManager"),u=e("../Prop/PropManager"),p=e("../Sound/AudioConstants"),d=e("../Storage/StorageConfig"),h=e("../Storage/StorageManager"),f=e("./VipSystem"),_=cc._decorator,m=_.ccclass,y=_.property,I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itme=[],t.id="c401",t.Gemnum=360,t.propid=[10002,40004,101004],t.num=[500,10,20],t.lanText=null,t}return o(t,e),t.prototype.start=function(){for(var e=0;e<this.itme.length;e++){var t=u.PropManager.getInstance().createPropItem(this.propid[e],this.num[e]);t.scale=.85,t.parent=this.itme[e]}},t.prototype.onEnable=function(){this.lanText.getComponent(cc.Label).string=""+g.PayManager.getInstance().getPayInfo(this.id).price},t.prototype.clickBtnbtnLan=function(){var e=this;r.default.getInstance().showPay({result:function(t){if(t){l.default.getInstance().followEvent(c.Follow_Type.\u6218\u4ee4\u8d2d\u4e70\u9ad8\u7ea7\u6218\u4ee4\u6210\u529f\u4eba\u6570);for(var a=[],n=0;n<e.itme.length;n++){u.PropManager.getInstance().changePropNum(e.propid[n],e.num[n]);var o=u.PropManager.getInstance().createPropItem(e.propid[n],e.num[n]);a.push(o)}s.default.getInstance().showMultipleGetTip(a),h.TheStorageManager.getInstance().setItem(d.StorageKey.VipIdentity,1),g.PayManager.getInstance().addPayNum(e.id),e.node.parent.getComponent(f.default).Refresh(),e.clickBtnClose()}}},this.id)},t.prototype.clickBtnClose=function(){s.default.getInstance().sound_manager.playSound(p.SoundIndex.click),this.node.active=!1},i([y(cc.Node)],t.prototype,"itme",void 0),i([y(cc.Node)],t.prototype,"lanText",void 0),i([m],t)}(cc.Component);a.default=I,cc._RF.pop()},{"../Ads/ApkManager":"ApkManager","../GameManager":"GameManager","../Payment/PayManager":"PayManager","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../Storage/StorageConfig":"StorageConfig","../Storage/StorageManager":"StorageManager","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","./VipSystem":"VipSystem"}],VersionTip:[function(e,t,a){"use strict";cc._RF.push(t,"ee1ba6O+J5FNatvv78/poLi","VersionTip");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Ads/ApkManager"),s=e("../GameManager"),c=e("../multiLanguage/TextLanguage"),l=e("../Sound/AudioConstants"),g=e("../UserData"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cur_dialog_index=0,t.arr_content_text=[],t.arr_left_text=[],t.arr_right_text=[],t.text_content=null,t.text_left=null,t.text_right=null,t}return o(t,e),t.prototype.start=function(){},t.prototype.refreshUi=function(){this.text_content?(this.text_content.setTextId(this.arr_content_text[this.cur_dialog_index]),this.text_left.setTextId(this.arr_left_text[this.cur_dialog_index]),this.text_right.setTextId(this.arr_right_text[this.cur_dialog_index])):(this.text_content=this.node.getChildByName("mytxt").getComponent(c.default),this.text_left=this.node.getChildByName("btnad").getChildByName("text").getComponent(c.default),this.text_right=this.node.getChildByName("btnGo").getChildByName("text").getComponent(c.default),this.text_content.setTextId(this.arr_content_text[this.cur_dialog_index]),this.text_left.setTextId(this.arr_left_text[this.cur_dialog_index]),this.text_right.setTextId(this.arr_right_text[this.cur_dialog_index]))},t.prototype.clickBtnLeft=function(){switch(s.default.getInstance().sound_manager.playSound(l.SoundIndex.click),this.cur_dialog_index){case 0:this.cur_dialog_index++,this.refreshUi();break;case 1:this.jumpToGP()}},t.prototype.clickBtnRight=function(){switch(s.default.getInstance().sound_manager.playSound(l.SoundIndex.click),this.cur_dialog_index){case 0:this.jumpToGP();break;case 1:g.default.getInstance().version_is_ok=!0,this.node.removeFromParent()}},t.prototype.jumpToGP=function(){r.default.getInstance().jumpToGP()},i([d([cc.Integer])],t.prototype,"arr_content_text",void 0),i([d([cc.Integer])],t.prototype,"arr_left_text",void 0),i([d([cc.Integer])],t.prototype,"arr_right_text",void 0),i([d(c.default)],t.prototype,"text_content",void 0),i([d(c.default)],t.prototype,"text_left",void 0),i([d(c.default)],t.prototype,"text_right",void 0),i([p],t)}(cc.Component);a.default=h,cc._RF.pop()},{"../Ads/ApkManager":"ApkManager","../GameManager":"GameManager","../Sound/AudioConstants":"AudioConstants","../UserData":"UserData","../multiLanguage/TextLanguage":"TextLanguage"}],VideoTip:[function(e,t,a){"use strict";cc._RF.push(t,"38d1aBeYBJDQJFjMYzfTxOW","VideoTip");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../multiLanguage/LanguageManager"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.remain_sec=5,t.yes_callback=null,t.no_callback=null,t}return o(t,e),t.prototype.init=function(e,t){this.yes_callback=e,this.no_callback=t,this.node.getChildByName("jobLabel").getComponent(cc.Label).string=r.default.getInstance().getStrByTextId(110008),this.node.getChildByName("btnVideo").getChildByName("text").getComponent(cc.Label).string=r.default.getInstance().getStrByTextId(100001)},t.prototype.clickBtnYes=function(){this.yes_callback&&this.yes_callback(),this.node.removeFromParent()},t.prototype.clickBtnNo=function(){this.no_callback&&this.no_callback(),this.node.removeFromParent()},i([c],t)}(cc.Component));a.default=l,cc._RF.pop()},{"../multiLanguage/LanguageManager":"LanguageManager"}],VipManager:[function(e,t,a){"use strict";var n,o;cc._RF.push(t,"0e869LNR/tLj6NDHpFmfw2K","VipManager"),Object.defineProperty(a,"__esModule",{value:!0}),a.VipManager=a.DYInfo=a.Vip_Type=a.DingYue_Type=void 0,function(e){e[e.Week=0]="Week",e[e.Month=1]="Month",e[e.Year=2]="Year"}(n=a.DingYue_Type||(a.DingYue_Type={})),function(e){e[e.A=0]="A",e[e.B=1]="B"}(o=a.Vip_Type||(a.Vip_Type={}));a.DYInfo=function(){this.des="vip",this.price="$1.0",this.currency="USD"};var i=function(){function e(){}return e.getIsVip=function(){var e=cc.sys.localStorage.getItem("vip_level");return(e=""===e||null===e?0:parseInt(e))>0},e.getVipStartTime=function(){var e=cc.sys.localStorage.getItem("vip_start_time");return""===e||null===e?0:parseInt(e)},e.saveVipStartTime=function(e,t){this.vip_type=t;var a=(new Date).getTime();cc.sys.localStorage.setItem("vip_start_time",a),this.saveTotalDay(e)},e.getVipTotalDay=function(){var e=cc.sys.localStorage.getItem("vip_total_day");return""===e||null===e?0:parseInt(e)},e.saveTotalDay=function(e){var t=7;switch(e){case n.Week:t=7;break;case n.Month:t=30;break;case n.Year:t=365}cc.sys.localStorage.setItem("vip_total_day",t)},e.getVipFreeNum=function(){var e=cc.sys.localStorage.getItem("vip_free_num");return""===e||null===e?0:parseInt(e)},e.subVipFreeNum=function(){if(1==this.getIsVip()&&this.getVipFreeNum()>0){var e=this.getVipFreeNum();if(--e>=0)return this.saveVipFreeNum(e),!0}return!1},e.saveVipFreeNum=function(e){cc.sys.localStorage.setItem("vip_free_num",e)},e.dy_info=[],e.vip_type=o.A,e}();a.VipManager=i,cc._RF.pop()},{}],VipSystem:[function(e,t,a){"use strict";cc._RF.push(t,"fedf20GX+NOgaBR4JROyu4Q","VipSystem");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e(".././NetWork/HttpManager"),s=e("../BattlePass/BattlePassData"),c=e("../GameManager"),l=e("../multiLanguage/FollowConstants"),g=e("../multiLanguage/FollowManager"),u=e("../multiLanguage/LanguageManager"),p=e("../multiLanguage/TextLanguage"),d=e("../Prop/PropConfig"),h=e("../Prop/PropManager"),f=e("../Sound/AudioConstants"),_=e("../Storage/StorageConfig"),m=e("../Storage/StorageManager"),y=e("../Tools/EventManager"),I=e("../UI/UIComponent"),v=e("../UserData"),M=cc._decorator,C=M.ccclass,S=M.property,P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=null,t.Vipitme=null,t.Vip=[],t.vipnum=15,t.VIPPrivileges=null,t.btnLan=null,t.VIP_Bar_2_1=null,t.jdt=null,t.Gemnum=360,t}return o(t,e),t.prototype.initUi=function(){var e=this;this.vipnum=s.BattlePassDataManager.getMaxBattlePassLevel();for(var t=function(t){var n=cc.instantiate(a.Vipitme),o=t+1,i=h.PropManager.getInstance().createPropItem(s.BattlePassDataManager.getInstance().getFreeRewardItem(o),s.BattlePassDataManager.getInstance().getFreeRewardNum(o));i.scale=.83,i.parent=n.getChildByName("itme0");var r=h.PropManager.getInstance().createPropItem(d.PropId.Coin,s.BattlePassDataManager.getInstance().getSeniorRewardGem(o));r.scale=.83,r.parent=n.getChildByName("itme1");var c=h.PropManager.getInstance().createPropItem(s.BattlePassDataManager.getInstance().getSeniorRewardItem(o),s.BattlePassDataManager.getInstance().getSeniorRewardNum(o));c.scale=.83,c.parent=n.getChildByName("itme2");var l=n.getChildByName("mf"),g=n.getChildByName("gj");n.getChildByName("num").getComponent(cc.Label).string=""+o,l.on(cc.Node.EventType.TOUCH_END,function(){e.Receivemf(i,o)},a),g.on(cc.Node.EventType.TOUCH_END,function(){e.Receivegj(o)},a),n.parent=a.content,a.Vip.push(n)},a=this,n=this.Vip.length;n<this.vipnum;n++)t(n);this.Refresh()},t.prototype.Receivemf=function(e,t){g.default.getInstance().followEvent(l.Follow_Type.\u6218\u4ee4\u514d\u8d39\u5956\u52b1\u9886\u53d6_x\u7ea7+t),h.PropManager.getInstance().changePropNum(s.BattlePassDataManager.getInstance().getFreeRewardItem(t),s.BattlePassDataManager.getInstance().getFreeRewardNum(t)),c.default.getInstance().showGetTip(e),m.TheStorageManager.getInstance().setItem(_.StorageKey.VipFreeRewardStatus+t,1),r.HttpManager.post(r.AccessName.saveGameTask,this.getSaveGameTaskJsonString(t,1)),this.Refresh()},t.prototype.Receivegj=function(e){g.default.getInstance().followEvent(l.Follow_Type.\u6218\u4ee4\u9ad8\u7ea7\u5956\u52b1\u9886\u53d6_x\u7ea7+e),h.PropManager.getInstance().changePropNum(d.PropId.Coin,s.BattlePassDataManager.getInstance().getSeniorRewardGem(e)),h.PropManager.getInstance().changePropNum(s.BattlePassDataManager.getInstance().getSeniorRewardItem(e),s.BattlePassDataManager.getInstance().getSeniorRewardNum(e));var t=h.PropManager.getInstance().createPropItem(d.PropId.Coin,s.BattlePassDataManager.getInstance().getSeniorRewardGem(e)),a=h.PropManager.getInstance().createPropItem(s.BattlePassDataManager.getInstance().getSeniorRewardItem(e),s.BattlePassDataManager.getInstance().getSeniorRewardNum(e));c.default.getInstance().showMultipleGetTip([t,a]),m.TheStorageManager.getInstance().setItem(_.StorageKey.VipAdvancedRewardStatus+e,1),r.HttpManager.post(r.AccessName.saveGameTask,this.getSaveGameTaskJsonString(e,2)),this.Refresh()},t.prototype.Refresh=function(){var e=0,t=m.TheStorageManager.getInstance().getNumber(_.StorageKey.AllActivityNum,0),a=m.TheStorageManager.getInstance().getNumber(_.StorageKey.VipIdentity,0),n=this.btnLan.getChildByName("winText");0==a?(this.btnLan.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),n.getComponent(p.default).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),n.getComponent(p.default).setTextId(1450002)):1==a&&n.getComponent(p.default).setTextId(1450012);for(var o=0;o<this.vipnum;o++){var i=o+1,r=this.Vip[o].getChildByName("VIP_Bar_down_0"),c=this.Vip[o].getChildByName("VIP_Bar_up_0"),u=this.Vip[o].getChildByName("VIP_Bar_up_1"),h=this.Vip[o].getChildByName("VIP_Bar_down_1"),f=this.Vip[o].getChildByName("VIP_Bar_1_1"),y=this.Vip[o].getChildByName("VIP_Lock1"),I=this.Vip[o].getChildByName("VIP_Lock2"),v=this.Vip[o].getChildByName("End_Tick_1"),M=this.Vip[o].getChildByName("End_Tick_2"),C=this.Vip[o].getChildByName("End_Tick_3"),S=this.Vip[o].getChildByName("hei"),P=this.Vip[o].getChildByName("mf"),k=this.Vip[o].getChildByName("gj"),b=this.Vip[o].getChildByName("mftoday"),T=this.Vip[o].getChildByName("gjtoday"),B=this.Vip[o].getChildByName("num"),w=m.TheStorageManager.getInstance().getNumber(_.StorageKey.VipFreeRewardStatus+i,0),N=m.TheStorageManager.getInstance().getNumber(_.StorageKey.VipAdvancedRewardStatus+i,0);S.active=!1,f.active=!1,y.active=!1,I.active=!1,v.active=!1,M.active=!1,C.active=!1,P.active=!1,k.active=!1,b.active=!1,T.active=!1,u.active=!1,h.active=!1,0==a&&(y.active=!0,I.active=!0);var L=s.BattlePassDataManager.getInstance().getRequiredExp(i);L<=t?(g.default.getInstance().getFirstDo(l.Follow_Type.\u6218\u4ee4\u89e3\u9501\u7b49\u7ea7_x\u7ea7+i)<=0&&(g.default.getInstance().addFirstDo(l.Follow_Type.\u6218\u4ee4\u89e3\u9501\u7b49\u7ea7_x\u7ea7+i),g.default.getInstance().followEvent(l.Follow_Type.\u6218\u4ee4\u89e3\u9501\u7b49\u7ea7_x\u7ea7+i)),o>0&&(this.Vip[o-1].getChildByName("VIP_Bar_down_1").active=!0),u.active=!0,f.active=!0,P.active=!0,b.active=!0,B.getComponent(cc.LabelOutline).enabled=!0,1==a&&(k.active=!0,T.active=!0)):(0==e&&(e=L),B.getComponent(cc.LabelOutline).enabled=!1,S.active=!0),1==w&&(P.active=!1,b.active=!1,v.active=!0),1==N&&(k.active=!1,T.active=!1,M.active=!0,C.active=!0),0==o&&(c.active=!1,u.active=!1),d.PropId.Gem,o==this.vipnum-1&&(r.active=!1,h.active=!1),this.Vip[o].active=!0}if(t>=e)this.jdt.getComponent(cc.Label).string="MAX",this.VIP_Bar_2_1.getComponent(cc.Sprite).fillRange=1;else{this.jdt.getComponent(cc.Label).string=t+"/"+e;var D=t/e;this.VIP_Bar_2_1.getComponent(cc.Sprite).fillRange=D}},t.prototype.onbtnLan=function(){var e=m.TheStorageManager.getInstance().getNumber(_.StorageKey.VipIdentity,0);if(0==e)this.VIPPrivileges.active=!0,g.default.getInstance().followEvent(l.Follow_Type.\u89e3\u9501\u9ad8\u7ea7\u6218\u4ee4\u7684\u6309\u94ae\u70b9\u51fb\u6b21\u6570);else if(1==e){for(var t=[],a=0;a<this.vipnum;a++){var n=a+1,o=this.Vip[a].getChildByName("mf"),i=this.Vip[a].getChildByName("gj");if(1==o.active){g.default.getInstance().followEvent(l.Follow_Type.\u6218\u4ee4\u514d\u8d39\u5956\u52b1\u9886\u53d6_x\u7ea7+n),m.TheStorageManager.getInstance().setItem(_.StorageKey.VipFreeRewardStatus+n,1),r.HttpManager.post(r.AccessName.saveGameTask,this.getSaveGameTaskJsonString(n,1));var p=h.PropManager.getInstance().createPropItem(s.BattlePassDataManager.getInstance().getFreeRewardItem(n),s.BattlePassDataManager.getInstance().getFreeRewardNum(n));h.PropManager.getInstance().changePropNum(s.BattlePassDataManager.getInstance().getFreeRewardItem(n),s.BattlePassDataManager.getInstance().getFreeRewardNum(n)),t.push(p)}if(1==i.active){g.default.getInstance().followEvent(l.Follow_Type.\u6218\u4ee4\u9ad8\u7ea7\u5956\u52b1\u9886\u53d6_x\u7ea7+n),m.TheStorageManager.getInstance().setItem(_.StorageKey.VipAdvancedRewardStatus+n,1),r.HttpManager.post(r.AccessName.saveGameTask,this.getSaveGameTaskJsonString(n,2)),p=h.PropManager.getInstance().createPropItem(d.PropId.Coin,s.BattlePassDataManager.getInstance().getSeniorRewardGem(n));var f=h.PropManager.getInstance().createPropItem(s.BattlePassDataManager.getInstance().getSeniorRewardItem(n),s.BattlePassDataManager.getInstance().getSeniorRewardNum(n));h.PropManager.getInstance().changePropNum(d.PropId.Coin,s.BattlePassDataManager.getInstance().getSeniorRewardGem(n)),h.PropManager.getInstance().changePropNum(s.BattlePassDataManager.getInstance().getSeniorRewardItem(n),s.BattlePassDataManager.getInstance().getSeniorRewardNum(n)),t.push(p),t.push(f)}}t.length>0?(c.default.getInstance().showMultipleGetTip(t),this.Refresh()):c.default.getInstance().showMessage(u.default.getInstance().getStrByTextId(1450013),3)}},t.prototype.clickBtnClose=function(){c.default.getInstance().sound_manager.playSound(f.SoundIndex.click),this.onClose(),y.EventManager.postRedEvent(y.RedEventString.RED_CHECK,y.RedEventType.Btn_Main_Vip)},t.prototype.getSaveGameTaskJsonString=function(e,t){var a=v.default.getInstance().getUserID(),n=e;return JSON.stringify({uid:a,playLevel:n,rewardType:t})},i([S(cc.Node)],t.prototype,"content",void 0),i([S(cc.Node)],t.prototype,"Vipitme",void 0),i([S(cc.Node)],t.prototype,"VIPPrivileges",void 0),i([S(cc.Node)],t.prototype,"btnLan",void 0),i([S(cc.Node)],t.prototype,"VIP_Bar_2_1",void 0),i([S(cc.Node)],t.prototype,"jdt",void 0),i([C],t)}(I.default);a.default=P,cc._RF.pop()},{".././NetWork/HttpManager":"HttpManager","../BattlePass/BattlePassData":"BattlePassData","../GameManager":"GameManager","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../Storage/StorageConfig":"StorageConfig","../Storage/StorageManager":"StorageManager","../Tools/EventManager":"EventManager","../UI/UIComponent":"UIComponent","../UserData":"UserData","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/LanguageManager":"LanguageManager","../multiLanguage/TextLanguage":"TextLanguage"}],VipUi:[function(e,t,a){"use strict";cc._RF.push(t,"1bd60gd70NK657y8lOe9AC7","VipUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Ads/ApkManager"),s=e("../Ads/VipManager"),c=e("../GameManager"),l=e("../multiLanguage/FollowConstants"),g=e("../multiLanguage/FollowManager"),u=e("../multiLanguage/LanguageConstants"),p=e("../multiLanguage/LanguageManager"),d=e("../Sound/AudioConstants"),h=e("./UIComponent"),f=cc._decorator,_=f.ccclass,m=(f.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.start=function(){r.default.getInstance().showBanner(),this.node.getChildByName("richText").getComponent(cc.RichText).string=p.default.getInstance().getString(u.LanguageIndex.DingYueTip);var e=this.node.getChildByName("textWeek"),t=p.default.getInstance();s.VipManager.dy_info.length>s.DingYue_Type.Week&&(e.getComponent(cc.Label).string=t.getString(u.LanguageIndex.Day3free_trial)+s.VipManager.dy_info[s.DingYue_Type.Week].price+" "+s.VipManager.dy_info[s.DingYue_Type.Week].currency+"/"+t.getString(u.LanguageIndex.Week)),s.VipManager.dy_info.length>s.DingYue_Type.Month&&(this.node.getChildByName("textMonth").getComponent(cc.Label).string=s.VipManager.dy_info[s.DingYue_Type.Month].price+" "+s.VipManager.dy_info[s.DingYue_Type.Month].currency+"/"+t.getString(u.LanguageIndex.Month)),s.VipManager.dy_info.length>s.DingYue_Type.Year&&(this.node.getChildByName("textYear").getComponent(cc.Label).string=s.VipManager.dy_info[s.DingYue_Type.Year].price+" "+s.VipManager.dy_info[s.DingYue_Type.Year].currency+"/"+t.getString(u.LanguageIndex.Year))},t.prototype.clickBtnClose=function(){c.default.getInstance().sound_manager.playSound(d.SoundIndex.click),e.prototype.onClose.call(this),r.default.getInstance().closeBanner()},t.prototype.clickBtnWeek=function(){c.default.getInstance().sound_manager.playSound(d.SoundIndex.click),g.default.getInstance().followEvent(l.Follow_Type.\u5468\u5361\u70b9\u51fb\u73a9\u5bb6\u6570),r.default.getInstance().showDingYue({result:function(e){e&&(s.VipManager.saveVip(1),s.VipManager.saveVipFreeNum(5),s.VipManager.saveVipStartTime(s.DingYue_Type.Week,s.Vip_Type.A))}},s.DingYue_Type.Week)},t.prototype.clickBtnMon=function(){c.default.getInstance().sound_manager.playSound(d.SoundIndex.click),g.default.getInstance().followEvent(l.Follow_Type.\u6708\u5361\u70b9\u51fb\u73a9\u5bb6\u6570),r.default.getInstance().showDingYue({result:function(e){e&&(s.VipManager.saveVip(1),s.VipManager.saveVipFreeNum(5),s.VipManager.saveVipStartTime(s.DingYue_Type.Month,s.Vip_Type.A))}},s.DingYue_Type.Month)},t.prototype.clickBtnYear=function(){c.default.getInstance().sound_manager.playSound(d.SoundIndex.click),g.default.getInstance().followEvent(l.Follow_Type.\u5e74\u5361\u70b9\u51fb\u73a9\u5bb6\u6570),r.default.getInstance().showDingYue({result:function(e){e&&(s.VipManager.saveVip(1),s.VipManager.saveVipFreeNum(5),s.VipManager.saveVipStartTime(s.DingYue_Type.Year,s.Vip_Type.A))}},s.DingYue_Type.Year)},t.prototype.clickBtnTiaoKuan=function(){c.default.getInstance().sound_manager.playSound(d.SoundIndex.click),r.default.getInstance().showTiaoKuan()},i([_],t)}(h.default));a.default=m,cc._RF.pop()},{"../Ads/ApkManager":"ApkManager","../Ads/VipManager":"VipManager","../GameManager":"GameManager","../Sound/AudioConstants":"AudioConstants","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/LanguageConstants":"LanguageConstants","../multiLanguage/LanguageManager":"LanguageManager","./UIComponent":"UIComponent"}],VoidScene:[function(e,t,a){"use strict";cc._RF.push(t,"d49268UqZRNvo/hFmeByidp","VoidScene");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../GameManager"),s=e("../../Sound/AudioConstants"),c=e("../../UI/UIComponent"),l=e("../../UI/UIConfig"),g=e("../../UI/UIManager"),u=e("../endlesschallenges/endlesschallenges"),p=e("../endlesschallenges/playinstructions"),d=e("../endlesschallenges/Shop"),h=e("./BattlePop"),f=e("./RogueHexagonTypes"),_=e("./Windfall"),m=cc._decorator,y=m.ccclass,I=m.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellnode=null,t.cell=null,t.Player=null,t.type=1,t.Rowsnumber=1,t.Positionnumber=2,t.pos=-620,t.jiange=117,t.cellnodeindex=[],t.HexagonType=[],t.HexagonTypeShadow=[],t.Tipspop=null,t}return o(t,e),t.prototype.initUi=function(e,t,a){var n=this;this.type=e,this.Rowsnumber=t,this.Positionnumber=a,this.Tipspop.active=!1;for(var o=this.cellnodeindex.length,i=function(e){var t=cc.instantiate(r.cellnode);t.y=r.pos+e*r.jiange,t.active=!0,t.name=""+e,r.cellnodeindex.push(t),t.parent=r.cell;for(var a=function(a){t.children[a].getChildByName("Maze_Bg_1_2").on(cc.Node.EventType.TOUCH_END,function(){n.clickBtnGoods(e,a+1)},r)},o=0;o<t.children.length;o++)a(o)},r=this,s=9;s>o;s--)i(s);for(var c=0;c<this.cellnodeindex.length;c++)for(s=0;s<this.cellnodeindex[c].children.length;s++){this.cellnodeindex[c].children[s].active=!1;for(var l=0;l<this.cellnodeindex[c].children[s].children.length;l++)this.cellnodeindex[c].children[s].children[l].active=!1}this.Refresh()},t.prototype.Refresh=function(){for(var e=f.RogueHexagonTypesManager.getInstance().getAllLayerId(this.type),t=function(t){var n=e[t],o=f.RogueHexagonTypesManager.getInstance().getRows(n),i=f.RogueHexagonTypesManager.getInstance().getPosition(n),r=f.RogueHexagonTypesManager.getInstance().getHexagonType(n),s=a.cell.getChildByName(""+o).children[i-1];if(s.active=!0,o==a.Rowsnumber&&i==a.Positionnumber)s.getChildByName("Maze_Bg_1_1").active=!1,s.getChildByName("Maze_Icon_1_1").active=!1,s.getChildByName("Maze_Icon_1").active=!1,s.getChildByName("Maze_Arrow").active=!1,s.getChildByName("Maze_Bg_1_2").active=!1,a.scheduleOnce(function(){this.Player.x=s.x,this.Player.y=s.parent.y+120},.01);else if(o==a.Rowsnumber)s.getChildByName("Maze_Bg_1_1").active=!0,s.getChildByName("Maze_Icon_1_1").active=!0,s.getChildByName("Maze_Icon_1").active=!0,s.getChildByName("Maze_Arrow").active=!1,s.getChildByName("Maze_Bg_1_2").active=!1;else if(o==a.Rowsnumber+1){for(var c=0,l=0;l<s.parent.children.length;l++)1==s.parent.children[l].active&&c++;var g=a.Positionnumber-i,u=0;c%2==0||1==a.Rowsnumber?g>=0&&Math.abs(g)<=1&&(u=1):g<=0&&Math.abs(g)<=1&&(u=1),1==u?(s.getChildByName("Maze_Bg_1_1").active=!1,s.getChildByName("Maze_Icon_1_1").active=!1,s.getChildByName("Maze_Bg_1_2").active=!0,s.getChildByName("Maze_Arrow").active=!0,s.getChildByName("Maze_Icon_1").active=!0):(s.getChildByName("Maze_Bg_1_1").active=!0,s.getChildByName("Maze_Icon_1_1").active=!0,s.getChildByName("Maze_Bg_1_2").active=!1,s.getChildByName("Maze_Arrow").active=!1,s.getChildByName("Maze_Icon_1").active=!0)}else o==a.Rowsnumber+2?(s.getChildByName("Maze_Bg_1_1").active=!0,s.getChildByName("Maze_Icon_1_1").active=!0,s.getChildByName("Maze_Bg_1_2").active=!1,s.getChildByName("Maze_Arrow").active=!1,s.getChildByName("Maze_Icon_1").active=!0):o>a.Rowsnumber?(s.getChildByName("Maze_Bg_1_1").active=!0,s.getChildByName("Maze_Bg_1_2").active=!1,s.getChildByName("Maze_Icon_1").active=!1,s.getChildByName("Maze_Arrow").active=!1):o<a.Rowsnumber&&(s.getChildByName("Maze_Bg_1_1").active=!0,s.getChildByName("Maze_Bg_1_2").active=!1,s.getChildByName("Maze_Icon_1_1").active=!0,s.getChildByName("Maze_Icon_1").active=!0,s.getChildByName("Maze_Arrow").active=!1);s.getChildByName("Maze_Icon_1_1").getComponent(cc.Sprite).spriteFrame=a.HexagonTypeShadow[r],s.getChildByName("Maze_Icon_1").getComponent(cc.Sprite).spriteFrame=a.HexagonType[r]},a=this,n=0;n<e.length;n++)t(n)},t.prototype.clickBtnGoods=function(e,t){var a=this,n=f.RogueHexagonTypesManager.getId(this.type,e,t),o=f.RogueHexagonTypesManager.getInstance().getHexagonType(n);1==o&&g.UIManager.getInstance().showUiDialog(l.UIPath.BattlePop,l.UILayerLevel.Two,{onCompleted:function(o){o.getComponent(h.default).init({onClose:function(){}}),o.getComponent(h.default).initUi(n,a.node,e,t)}}),2==o&&g.UIManager.getInstance().showUiDialog(l.UIPath.Windfall,l.UILayerLevel.Two,{onCompleted:function(o){o.getComponent(_.default).init({onClose:function(){}}),o.getComponent(_.default).initUi(n,a.node,e,t)}}),5==o&&g.UIManager.getInstance().showUiDialog(l.UIPath.BattlePop,l.UILayerLevel.Two,{onCompleted:function(o){o.getComponent(h.default).init({onClose:function(){}}),o.getComponent(h.default).initUi(n,a.node,e,t)}}),3==o&&g.UIManager.getInstance().showUiDialog(l.UIPath.BattlePop,l.UILayerLevel.Two,{onCompleted:function(o){o.getComponent(h.default).init({onClose:function(){}}),o.getComponent(h.default).initUi(n,a.node,e,t)}})},t.prototype.clickBtnShop=function(){g.UIManager.getInstance().showUiDialog(l.UIPath.Shop,l.UILayerLevel.Two,{onCompleted:function(e){e.getComponent(d.default).init({onClose:function(){}}),e.getComponent(d.default).initUi()}})},t.prototype.clickBtnPlayinstructions=function(){g.UIManager.getInstance().showUiDialog(l.UIPath.PlayinsTructions,l.UILayerLevel.Two,{onCompleted:function(e){e.getComponent(p.default).init({onClose:function(){}}),e.getComponent(p.default).initUi(4)}})},t.prototype.clickBtnClose=function(){this.Tipspop.active=!1,r.default.getInstance().sound_manager.playSound(s.SoundIndex.click),this.onClose(),g.UIManager.getInstance().showUiDialog(l.UIPath.VndlessChallenges,l.UILayerLevel.One,{onCompleted:function(e){e.getComponent(u.default).init({onClose:function(){}}),e.getComponent(u.default).initUi(4)}})},t.prototype.clickBtnTipspop=function(){this.Tipspop.active=!0},t.prototype.clickBtnTipspopClose=function(){this.Tipspop.active=!1},i([I(cc.Node)],t.prototype,"cellnode",void 0),i([I(cc.Node)],t.prototype,"cell",void 0),i([I(cc.Node)],t.prototype,"Player",void 0),i([I(cc.SpriteFrame)],t.prototype,"HexagonType",void 0),i([I(cc.SpriteFrame)],t.prototype,"HexagonTypeShadow",void 0),i([I(cc.Node)],t.prototype,"Tipspop",void 0),i([y],t)}(c.default);a.default=v,cc._RF.pop()},{"../../GameManager":"GameManager","../../Sound/AudioConstants":"AudioConstants","../../UI/UIComponent":"UIComponent","../../UI/UIConfig":"UIConfig","../../UI/UIManager":"UIManager","../endlesschallenges/Shop":"Shop","../endlesschallenges/endlesschallenges":"endlesschallenges","../endlesschallenges/playinstructions":"playinstructions","./BattlePop":"BattlePop","./RogueHexagonTypes":"RogueHexagonTypes","./Windfall":"Windfall"}],WXManager:[function(e,t,a){"use strict";cc._RF.push(t,"6708cxFXB1AuLNbaEG3y8/8","WXManager");var n=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,r=(o.property,function(){function e(){this.banner_id="ca-app-pub-2476175026271293/9535537102",this.interstitial_id="ca-app-pub-2476175026271293/5005582382",this.reward_id="ca-app-pub-2476175026271293/3339478623",this.perv_inst_time=0,this.perv_video_time=0}var t;return t=e,e.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance},e.prototype.init=function(){this.initAds()},e.prototype.initAds=function(){cc.sys.platform===cc.sys.WECHAT_GAME&&wx.showShareMenu({withShareTicket:!0})},e.prototype.showBanner=function(){},e.prototype.showInterstitial=function(){var e=(new Date).getTime();e-this.perv_inst_time>1e4&&(this.perv_inst_time=e)},e.prototype.showVideo=function(e){var t=(new Date).getTime(),a=cc.sys.localStorage.getItem("reward_time");if(""!=a&&null!=a){var n=t-(a=parseInt(a));n>=18e4?(e(!0),cc.sys.localStorage.setItem("reward_time",t)):(e(!1),Math.round((18e4-n)/1e3))}else e(!0),cc.sys.localStorage.setItem("reward_time",t)},e._instance=null,t=n([i],e)}());a.default=r,cc._RF.pop()},{}],WallConfig:[function(e,t,a){"use strict";cc._RF.push(t,"cb0c6Ra9hFD0aVpy4SRcPdv","WallConfig"),Object.defineProperty(a,"__esModule",{value:!0}),a.WallType=void 0,function(e){e[e.Null=0]="Null",e[e.Main=1]="Main",e[e.BingNvWall=2]="BingNvWall",e[e.BingNvTest=3]="BingNvTest"}(a.WallType||(a.WallType={})),cc._RF.pop()},{}],WallManager:[function(e,t,a){"use strict";cc._RF.push(t,"f09e1PW/d9OPKR1Lgrfc8pX","WallManager");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("./MainWall"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.map_wall=null,t.main_wall=null,t}var a;return o(t,e),a=t,t.getInstance=function(){return this._instance},t.prototype.onLoad=function(){a._instance=this,this.setMainWall(),this.map_wall=new Map},t.prototype.onDestroy=function(){this.map_wall.clear(),a._instance=null},t.prototype.addWall=function(e,t){var a=this.map_wall.get(e);a&&e&&a.destroyWall(),this.map_wall.set(e,t)},t.prototype.removeWall=function(e){this.map_wall.delete(e)},t.prototype.getAllWall=function(){return this.map_wall},t.prototype.getAWall=function(e){return this.map_wall.get(e)},t.prototype.setMainWall=function(){this.main_wall=cc.find("Canvas/wall_bg").getComponent(r.default)},t.prototype.getMainWall=function(){return this.main_wall},t._instance=null,a=i([c],t)}(cc.Component));a.default=l,cc._RF.pop()},{"./MainWall":"MainWall"}],Wall:[function(e,t,a){"use strict";cc._RF.push(t,"b211cIM19xJaadlf7dTCpdo","Wall");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Constants"),s=e("../Enemy/EnemyConfig"),c=e("../Game/BuffStateManager"),l=e("../Game/GameEffectsManager"),g=e("../Game/SkyManager"),u=e("../GameManager"),p=e("../Hero/Game/BuffTimer"),d=e("../Hero/Game/HeroConfig"),h=e("../Monster/MonsterData"),f=e("../Tools/MyTool"),_=e("./ImmunityShield"),m=e("./Shield"),y=e("./WallConfig"),I=cc._decorator,v=I.ccclass,M=(I.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.attribute_data=null,t.wall_type=y.WallType.Main,t.cur_hp=1e3,t.max_hp=1e3,t.hp_progress=null,t.shield_progress=null,t.hp_text=null,t.shield_text=null,t.wall_buff=null,t.wall_de_buff=null,t.map_buff_state=null,t.map_shield_value=null,t.map_immunity_shield_value=null,t.die_callback=null,t.hp_change_callback=null,t.hp_show_callback=null,t.damage_callback=null,t.wall_rect=null,t.wall_max_yy=0,t.is_die=!1,t.is_tutorail=!1,t}return o(t,e),t.prototype.initWall=function(e,t){this.attribute_data=e,this.wall_type=t,this.is_die=!1,this.cur_hp=this.max_hp=e.Health=Math.round(e.Health),this.map_shield_value||(this.map_shield_value=new Map),this.map_immunity_shield_value||(this.map_immunity_shield_value=new Map),this.wall_buff||(this.wall_buff=new Map),this.wall_de_buff||(this.wall_de_buff=new Map),this.removeAllBuff(),this.removeAllDeBuff(),this.removeAllShield(),this.showHp(),this.showShildProgress()},t.prototype.refreshWallData=function(e){this.attribute_data=e,this.max_hp=e.Health=Math.round(e.Health),this.showHp()},t.prototype.getAttributeData=function(){return this.attribute_data},t.prototype.setWallDieListen=function(e){this.die_callback=e},t.prototype.setHpChangeListen=function(e){this.hp_change_callback=e},t.prototype.setHpShowListen=function(e){this.hp_show_callback=e},t.prototype.setDamageListen=function(e){this.damage_callback=e},t.prototype.setWallRect=function(e){this.wall_rect=e,this.wall_max_yy=e.yMax},t.prototype.getWallRect=function(){return this.wall_rect},t.prototype.getWallMaxYY=function(){return this.wall_max_yy},t.prototype.getWallType=function(){return this.wall_type},t.prototype.beInjured=function(e,t,a){void 0===t&&(t=!1),void 0===a&&(a=0);var n=e.monster_attribute,o=new h.InjuredData,i=0,r=0,s=0;if(e.damage_type==d.DamageType.Normal)switch(i=h.InjuredData.calcMissRate(this.attribute_data.Miss,n.Hit),r=h.InjuredData.calcCritRate(n.Critical,this.attribute_data.AntiCritical),h.InjuredData.calcOnceType([i,r,1])){case 0:o.feedback_type=h.FeedBackType.ShanBi,o.setDamageNum(0);break;case 1:o.feedback_type=h.FeedBackType.BaoJi,s=t?h.InjuredData.calcNormalCritRealDamageNum(n.Attack,h.InjuredData.calcFinalExtraCrit(n.ExtraCritical,this.attribute_data.AntiExtraCritical)):h.InjuredData.calcNormalCritDamageNum(n.Attack,this.attribute_data.Defense,e.zengshang_rate,this.attribute_data.reduce_injury_rate,h.InjuredData.calcFinalExtraCrit(n.ExtraCritical,this.attribute_data.AntiExtraCritical)),o.setDamageNum(s),this.damage_callback&&this.damage_callback(e.monster_ts);break;case 2:o.feedback_type=h.FeedBackType.Null,s=t?h.InjuredData.calcNormalRealDamageNum(n.Attack):h.InjuredData.calcNormalDamageNum(n.Attack,this.attribute_data.Defense,e.zengshang_rate,this.attribute_data.reduce_injury_rate),o.setDamageNum(s),this.damage_callback&&this.damage_callback(e.monster_ts)}else e.damage_type==d.DamageType.Skill?(o.feedback_type=h.FeedBackType.Null,s=t?h.InjuredData.calcSkillRealDamageNum(n.Attack,e.skill_rate):h.InjuredData.calcSkillDamageNum(n.Attack,e.skill_rate,this.attribute_data.Defense,e.zengshang_rate,this.attribute_data.reduce_injury_rate),o.setDamageNum(s)):e.damage_type==d.DamageType.Ship&&(o.feedback_type=h.FeedBackType.Null,o.setDamageNum(a));if(o.getDamageNum()>0&&!this.checkMmmunityShield(1,e.damage_type)){var c=this.changeShieldValue(-o.getDamageNum(),e.damage_type);c<0&&(this.changeHp(c),this.wall_type==y.WallType.Main&&e.strength_type==h.StrengthType.Boss&&(e.damage_type==d.DamageType.Skill?e.is_big?f.default.randomSceneShakeBig():f.default.randomSceneShakeSmall():e.damage_type==d.DamageType.Normal&&f.default.randomSceneShakeSmall()))}return o},t.prototype.beRealDamage=function(e,t,a){var n=new h.InjuredData;if(n.setDamageNum(a),n.getDamageNum()>0&&!this.checkMmmunityShield(1,e)){var o=this.changeShieldValue(-n.getDamageNum(),e);o<0&&(this.changeHp(o),t==h.StrengthType.Boss&&(e==d.DamageType.Skill?f.default.randomSceneShakeBig():e==d.DamageType.Normal&&f.default.randomSceneShakeSmall()))}return n},t.prototype.changeHp=function(e){var t=u.default.getInstance();if(t.cur_game_state==r.GameState.Game_Lose||t.cur_game_state==r.GameState.Game_Pause||t.cur_game_state==r.GameState.Game_Win||this.is_die)return!0;e<0&&cc.tween(this.node).to(.1,{color:cc.Color.RED}).to(.1,{color:cc.Color.WHITE}).start();var a=this.cur_hp+e;return this.hp_change_callback&&this.hp_change_callback(e),this.setHp(a)},t.prototype.changeHpByEndless=function(e){var t=this.cur_hp+e;this.hp_change_callback&&this.hp_change_callback(e),this.setHp(t)},t.prototype.setHp=function(e){return e>this.max_hp?e=this.max_hp:e<=0&&(e=0,this.is_die=!0,this.die_callback&&this.die_callback()),this.cur_hp=e,this.showHp(),this.cur_hp<=0},t.prototype.showHp=function(){this.hp_progress&&this.hp_progress.changeProgress(this.cur_hp/this.max_hp),this.hp_text&&(this.hp_text.string=Math.floor(this.cur_hp)+"/"+this.max_hp),this.hp_show_callback&&this.hp_show_callback()},t.prototype.getMaxHp=function(){return this.max_hp},t.prototype.getCurHp=function(){return this.cur_hp},t.prototype.getCurHpPer=function(){return this.cur_hp/this.max_hp},t.prototype.addShield=function(e,t,a,n,o){if(this.map_shield_value.has(e))this.map_shield_value.get(e).refreshShield(a,n);else{var i=(new cc.Node).addComponent(m.default);if(i.init(e,t,a,n,this.onShieldDestroy.bind(this)),this.map_shield_value.set(e,i),this.node.addChild(i.node),o!=l.GameEffectId.Null){var r=g.default.getInstance().createGameEffectById(o,this.node.getPosition());i.setGameEffectData(o,r)}}this.showShildProgress()},t.prototype.onShieldDestroy=function(e){this.map_shield_value.delete(e),this.showShildProgress()},t.prototype.changeShieldValue=function(e,t){var a=new Array;this.map_shield_value.forEach(function(e){e.getIsCanWithstand(t)&&a.push(e)}),a.length>=2&&a.sort(function(e,t){return e.getRemainTime()-t.getRemainTime()});for(var n=e,o=0;o<a.length&&!((n=a[o].changeShieldValue(e))>0);o++);return this.showShildProgress(),n},t.prototype.showShildProgress=function(){var e=this.getShieldValue(),t=e/this.getMaxHp();t>1&&(t=1),this.shield_progress&&(this.shield_progress.node.active=e>0,this.shield_progress.progress=t),this.shield_text&&(this.shield_text.node.active=e>0,this.shield_text.string=e.toFixed(0))},t.prototype.getShieldValue=function(){var e=0;return this.map_shield_value.forEach(function(t){e+=t.getShieldValue()}),e},t.prototype.removeAllShield=function(){this.map_shield_value.forEach(function(e){e.destroySelf()})},t.prototype.addImmunityShield=function(e,t,a,n){var o=this;if(this.map_immunity_shield_value.has(e))this.map_immunity_shield_value.get(e).refreshShield(a,n);else{var i=(new cc.Node).addComponent(_.default);i.init(e,t,a,n,function(e){o.map_immunity_shield_value.delete(e)}),this.map_immunity_shield_value.set(e,i),this.node.addChild(i.node)}},t.prototype.checkMmmunityShield=function(e,t){var a=new Array;this.map_immunity_shield_value.forEach(function(e){e.getIsCanWithstand(t)&&a.push(e)}),a.length>=2&&a.sort(function(e,t){return e.getRemainTime()-t.getRemainTime()});for(var n=0;n<a.length;n++)if(a[n].changeShieldValue(e)>0)return!0;return!1},t.prototype.addBuff=function(e){var t=this,a=e.buff_id;if(this.isHaveBuff(a))return(n=this.wall_buff.get(a)).refreshBuff(e),this.addBuffState(a,e.remain_time),n;var n,o=new cc.Node(e.game_effect_id.toString());switch(this.node.addChild(o),(n=o.getComponent(p.default))||(n=o.addComponent(p.default)),n.init(e),n.addDestroyListen(this.onBuffDestory.bind(this)),e.recovery_jiange_time>0&&n.addRecoveryListen({doRecovery:function(e){t.changeHp(e);var a=cc.v2(600*Math.random()-300,t.node.y+200*Math.random()-100);u.default.getInstance().hp_text_manager.createHpTextHp(a,e,s.Enemy_Injured_Type.ZhiLiao),g.default.getInstance().createGameEffectById(l.GameEffectId.monster_zhiliao_halo_hit,a)}},n.getFirstBuffValue()),this.wall_buff.set(e.buff_id,n),a){case d.BuffId.Hero_ZhenDe_JiaXueJianShang:this.attribute_data.reduce_injury_rate+=e.buff_value[1]}return this.addBuffState(a,e.remain_time),n},t.prototype.subBuff=function(e){var t=this.wall_buff.get(e);return!!t&&(t.destroySelf(),!0)},t.prototype.onBuffDestory=function(e){switch(this.wall_buff.delete(e.buff_id),e.buff_id){case d.BuffId.Hero_ZhenDe_JiaXueJianShang:this.attribute_data.reduce_injury_rate-=e.buff_value[1]}},t.prototype.isHaveBuff=function(e){return this.wall_buff.has(e)},t.prototype.removeAllBuff=function(){var e=this;this.wall_buff.forEach(function(t){e.subBuff(t.getBuffId())})},t.prototype.addBuffState=function(e,t){for(var a=this,n=c.default.getInstance().getBuffType(e),o=function(e){var o=n[e];if(i.map_buff_state.has(o))i.map_buff_state.get(o).refreshTime(t);else{var r=c.default.getInstance().createBuffState(o,d.Hero_Type.Hero_Num);r.init(o,t,function(){a.map_buff_state.delete(o)}),i.map_buff_state.set(o,r)}},i=this,r=0;r<n.length;r++)o(r)},t.prototype.getBuffType=function(){return[]},t.prototype.addDeBuff=function(e,t){var a=this,n=e.buff_id;if(!this.isHaveDeBuff(n)){var o=new cc.Node(e.game_effect_id.toString());this.node.addChild(o);var i=o.getComponent(p.default);return i||(i=o.addComponent(p.default)),i.init(e),i.addDestroyListen(this.onDeBuffDestory.bind(this)),this.wall_de_buff.set(e.buff_id,i),e.damage_jiange_time>0&&t&&i.addDamageListen({doDamage:function(e){e.is_big=!1,a.beInjured(e)}},t),!0}return this.wall_de_buff.get(n).refreshBuff(e),!1},t.prototype.subDeBuff=function(e){var t=this.wall_de_buff.get(e);return!!t&&(t.destroySelf(),!0)},t.prototype.onDeBuffDestory=function(e){this.wall_de_buff.delete(e.buff_id),e.buff_id},t.prototype.isHaveDeBuff=function(e){return this.wall_de_buff.has(e)},t.prototype.removeAllDeBuff=function(){var e=this;this.wall_de_buff.forEach(function(t){e.subDeBuff(t.getBuffId())})},t.prototype.destroyWall=function(){this.die_callback&&this.die_callback()},i([v],t)}(cc.Component));a.default=M,cc._RF.pop()},{"../Constants":"Constants","../Enemy/EnemyConfig":"EnemyConfig","../Game/BuffStateManager":"BuffStateManager","../Game/GameEffectsManager":"GameEffectsManager","../Game/SkyManager":"SkyManager","../GameManager":"GameManager","../Hero/Game/BuffTimer":"BuffTimer","../Hero/Game/HeroConfig":"HeroConfig","../Monster/MonsterData":"MonsterData","../Tools/MyTool":"MyTool","./ImmunityShield":"ImmunityShield","./Shield":"Shield","./WallConfig":"WallConfig"}],WaveData:[function(e,t,a){"use strict";cc._RF.push(t,"3a575Ae7KFJTanVEU6DWUaE","WaveData"),Object.defineProperty(a,"__esModule",{value:!0});a.default=function(){this.id=1,this.monster_id=[],this.monster_num=[],this.level=[],this.is_boss=[],this.monster_score=[]},cc._RF.pop()},{}],WeekCardUi:[function(e,t,a){"use strict";cc._RF.push(t,"44ceeh9aIJJfKSMp0Ww//zr","WeekCardUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Ads/ApkManager"),s=e("../GameManager"),c=e("../JsonData/ConstantConfiguration"),l=e("../multiLanguage/FollowConstants"),g=e("../multiLanguage/FollowManager"),u=e("../multiLanguage/TextLanguage"),p=e("../Payment/DingYueManager"),d=e("../Payment/PayManager"),h=e("../Prop/Prop"),f=e("../Prop/PropConfig"),_=e("../Prop/PropManager"),m=e("../Sound/AudioConstants"),y=e("../Storage/StorageConfig"),I=e("../Storage/StorageManager"),v=e("../Tools/EventManager"),M=e("../UI/UIComponent"),C=cc._decorator,S=C.ccclass,P=(C.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.google_id_1="c502",t.google_id_2="c505",t.pay_info1=null,t.pay_info2=null,t}return o(t,e),t.prototype.refreshUi=function(){g.default.getInstance().followEvent(l.Follow_Type.\u5468\u5361\u7279\u6743\u5361\u9875\u9762\u5c55\u793a\u6b21\u6570);var e=this.node.getChildByName("itemRoot1").children[0];e.getComponent(h.default).init(f.PropId.Gem,Number(c.ConstantConfigurationManager.getInstance().getValue(6)),f.PropAction.Look),null!=e.getChildByName("bg")&&(e.getChildByName("bg").active=!1,e.getChildByName("gou").active=!1);var t=this.node.getChildByName("itemRoot2").children[0];t.getComponent(h.default).init(f.PropId.Gem,Number(c.ConstantConfigurationManager.getInstance().getValue(7)),f.PropAction.Look),this.pay_info1=p.DingYueManager.getInstance().getWeekInfo(),this.pay_info2=d.PayManager.getInstance().getPayInfo(this.google_id_2),this.node.getChildByName("price").getComponent(cc.Label).string=this.pay_info1.price;var a=this.node.getChildByName("dingYueBtn");if(this.pay_info1.is_buy){this.node.getChildByName("price").active=!1,this.node.getChildByName("dingYueBtn").active=!1;var n,o,i=this.node.getChildByName("receiveBtn");if(i.active=!0,0==I.TheStorageManager.getInstance().getNumber(y.StorageKey.WeekCardIsReceiveToday,0)?(i.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),i.getComponentInChildren(cc.Label).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),i.getComponentInChildren(u.default).setTextId(100011),null!=t.getChildByName("bg")&&(t.getChildByName("bg").active=!1,t.getChildByName("gou").active=!1)):(i.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),i.getComponentInChildren(cc.Label).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),i.getComponentInChildren(u.default).setTextId(100013),null!=t.getChildByName("bg")?(t.getChildByName("bg").active=!0,t.getChildByName("gou").active=!0):((n=new cc.Node).name="bg",n.addComponent(cc.Sprite).spriteFrame=_.PropManager.getInstance().getSpByName("Item_frame_Dark"),(o=new cc.Node).name="gou",o.addComponent(cc.Sprite).spriteFrame=_.PropManager.getInstance().getSpByName("SignIn_Got"),n.opacity=150,t.addChild(n),t.addChild(o))),null!=e.getChildByName("bg")?(e.getChildByName("bg").active=!0,e.getChildByName("gou").active=!0):((n=new cc.Node).name="bg",n.addComponent(cc.Sprite).spriteFrame=_.PropManager.getInstance().getSpByName("Item_frame_Dark"),(o=new cc.Node).name="gou",o.addComponent(cc.Sprite).spriteFrame=_.PropManager.getInstance().getSpByName("SignIn_Got"),n.opacity=150,e.addChild(n),e.addChild(o)),Date.now()>I.TheStorageManager.getInstance().getNumber(y.StorageKey.WeekCardOverTime,0)){var r=I.TheStorageManager.getInstance().getNumber(y.StorageKey.WeekCardOverTime);I.TheStorageManager.getInstance().setItem(y.StorageKey.WeekCardOverTime,r+6048e5),_.PropManager.getInstance().changePropNum(f.PropId.Gem,Number(c.ConstantConfigurationManager.getInstance().getValue(6)));var m=_.PropManager.getInstance().createPropItem(f.PropId.Gem,Number(c.ConstantConfigurationManager.getInstance().getValue(6)));s.default.getInstance().showGetTip(m)}}else this.node.getChildByName("price").active=!0,a.active=!0,this.node.getChildByName("receiveBtn").active=!1,null!=e.getChildByName("bg")&&(e.getChildByName("bg").active=!1,e.getChildByName("gou").active=!1);0==I.TheStorageManager.getInstance().getNumber(y.StorageKey.WeekCardIsFirstBuy,0)?(this.node.getChildByName("price").children[0].active=!0,a.getComponentInChildren(cc.Label).string=this.pay_info2.price,a.children[1].active=!0):(this.node.getChildByName("price").children[0].active=!1,a.getComponentInChildren(cc.Label).string=this.pay_info1.price,a.children[1].active=!1)},t.prototype.onClickDingYueBtn=function(){var e=this;s.default.getInstance().sound_manager.playSound(m.SoundIndex.click),r.default.getInstance().showDingYue({result:function(t){if(t){e.node.getChildByName("dingYueBtn").active=!1,e.node.getChildByName("receiveBtn").active=!0,I.TheStorageManager.getInstance().setItem(y.StorageKey.WeekCardIsFirstBuy,1),_.PropManager.getInstance().changePropNum(f.PropId.Gem,Number(c.ConstantConfigurationManager.getInstance().getValue(6)));var a=_.PropManager.getInstance().createPropItem(f.PropId.Gem,Number(c.ConstantConfigurationManager.getInstance().getValue(6)));s.default.getInstance().showGetTip(a),p.DingYueManager.getInstance().getWeekInfo().is_buy=!0;var n=Date.now();I.TheStorageManager.getInstance().setItem(y.StorageKey.WeekCardOverTime,n+6048e5);var o=e.node.getChildByName("itemRoot1").children[0];if(null!=o.getChildByName("bg"))o.getChildByName("bg").active=!0,o.getChildByName("gou").active=!0;else{var i=new cc.Node;i.name="bg",i.addComponent(cc.Sprite).spriteFrame=_.PropManager.getInstance().getSpByName("Item_frame_Dark");var r=new cc.Node;r.name="gou",r.addComponent(cc.Sprite).spriteFrame=_.PropManager.getInstance().getSpByName("SignIn_Got"),i.opacity=150,o.addChild(i),o.addChild(r)}}}},this.google_id_1)},t.prototype.onClickReceiveBtn=function(){if(s.default.getInstance().sound_manager.playSound(m.SoundIndex.click),0==I.TheStorageManager.getInstance().getNumber(y.StorageKey.WeekCardIsReceiveToday,0)){I.TheStorageManager.getInstance().setItem(y.StorageKey.WeekCardIsReceiveToday,1),_.PropManager.getInstance().changePropNum(f.PropId.Gem,Number(c.ConstantConfigurationManager.getInstance().getValue(7)));var e=_.PropManager.getInstance().createPropItem(f.PropId.Gem,Number(c.ConstantConfigurationManager.getInstance().getValue(7)));s.default.getInstance().showGetTip(e);var t=this.node.getChildByName("receiveBtn");t.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),t.getComponentInChildren(cc.Label).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),t.getComponentInChildren(u.default).setTextId(100013);var a=this.node.getChildByName("itemRoot2").children[0];if(null!=a.getChildByName("bg"))a.getChildByName("bg").active=!0,a.getChildByName("gou").active=!0;else{var n=new cc.Node;n.name="bg",n.addComponent(cc.Sprite).spriteFrame=_.PropManager.getInstance().getSpByName("Item_frame_Dark");var o=new cc.Node;o.name="gou",o.addComponent(cc.Sprite).spriteFrame=_.PropManager.getInstance().getSpByName("SignIn_Got"),n.opacity=150,a.addChild(n),a.addChild(o)}}},t.prototype.onClickCancelBtn=function(){s.default.getInstance().sound_manager.playSound(m.SoundIndex.click),this.node.getChildByName("Tipspop").active=!0},t.prototype.onHideCancel=function(){s.default.getInstance().sound_manager.playSound(m.SoundIndex.click),this.node.getChildByName("Tipspop").active=!1},t.prototype.onClickBtnClose=function(){e.prototype.onClose.call(this),s.default.getInstance().sound_manager.playSound(m.SoundIndex.click),v.EventManager.postRedEvent(v.RedEventString.RED_CHECK,v.RedEventType.Btn_Main_WeekCard)},i([S],t)}(M.default));a.default=P,cc._RF.pop()},{"../Ads/ApkManager":"ApkManager","../GameManager":"GameManager","../JsonData/ConstantConfiguration":"ConstantConfiguration","../Payment/DingYueManager":"DingYueManager","../Payment/PayManager":"PayManager","../Prop/Prop":"Prop","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../Storage/StorageConfig":"StorageConfig","../Storage/StorageManager":"StorageManager","../Tools/EventManager":"EventManager","../UI/UIComponent":"UIComponent","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/TextLanguage":"TextLanguage"}],WindPet:[function(e,t,a){"use strict";cc._RF.push(t,"492e151rJhMA6QyJlWXyHF5","WindPet");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../Game/GameEffectsManager"),c=e("../../GameManager"),l=e("../../Hero/Game/BuffData"),g=e("../../Hero/Game/HeroConfig"),u=e("../PetConfig"),p=e("./Pet"),d=cc._decorator,h=d.ccclass,f=(d.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buff_node_back=null,t.buff_node_front=null,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.addAttackListen(this.onAttack)},t.prototype.onAttack=function(){var e=new l.BuffData;e.buff_id=g.BuffId.Pet3_JiaSu,e.buff_value=[this.pet_data.getSkillValue1(u.PetSkillType.Active)],e.remain_time=this.pet_data.getSkillValue2(u.PetSkillType.Active),e.buff_type=g.BuffType.Gain;var t=c.default.getInstance().getHero(this.hero_type);t.addBuff(e).addDestroyListen(this.onBuffDestroy.bind(this));var a=t.node.getPosition();this.buff_node_back=s.GameEffectsManager.getInstance().createGameEffectForParent(s.GameEffectId.pet3_skill_back,a,cc.find("Canvas/Hero_Shadow_Root")),this.buff_node_front=s.GameEffectsManager.getInstance().createGameEffectForParent(s.GameEffectId.pet3_skill_front,a,cc.find("Canvas/Pet_Root"))},t.prototype.onBuffDestroy=function(){s.GameEffectsManager.getInstance().destroyGameEffectById(s.GameEffectId.pet3_skill_back,this.buff_node_back),s.GameEffectsManager.getInstance().destroyGameEffectById(s.GameEffectId.pet3_skill_front,this.buff_node_front)},t.prototype.update=function(e){c.default.getInstance().cur_game_state==r.GameState.Game_Playing&&this.checkSkill(e)},t.prototype.checkSkill=function(e){this.cd_time-=e,this.cd_time<0&&(this.cd_time=0)},i([h],t)}(p.default));a.default=f,cc._RF.pop()},{"../../Constants":"Constants","../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../../Hero/Game/BuffData":"BuffData","../../Hero/Game/HeroConfig":"HeroConfig","../PetConfig":"PetConfig","./Pet":"Pet"}],Windfall:[function(e,t,a){"use strict";cc._RF.push(t,"181348D4UJEvanbRfZEuum7","Windfall");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../GameManager"),s=e("../../JsonData/Jackpot"),c=e("../../Prop/PropManager"),l=e("../../Sound/AudioConstants"),g=e("../../UI/UIComponent"),u=e("./RogueHexagonTypes"),p=e("./VoidScene"),d=cc._decorator,h=d.ccclass,f=d.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.item=[],t.type=0,t.mynode=null,t.index=0,t.myindex=0,t}return o(t,e),t.prototype.initUi=function(e,t,a,n){this.type=e,this.mynode=t,this.index=a,this.myindex=n;var o=u.RogueHexagonTypesManager.getInstance().getRogueProp1_ID(this.type),i=u.RogueHexagonTypesManager.getInstance().getRogueProp1_Sum(this.type);c.PropManager.getInstance().createPropItem(o,i).parent=this.item[0];var r=u.RogueHexagonTypesManager.getInstance().getRogueProp2_ID(this.type);c.PropManager.getInstance().createPropItem(r,1).parent=this.item[1]},t.prototype.clickBtnShow=function(){var e=u.RogueHexagonTypesManager.getInstance().getRogueProp1_ID(this.type),t=u.RogueHexagonTypesManager.getInstance().getRogueProp1_Sum(this.type),a=u.RogueHexagonTypesManager.getInstance().getRogueProp2_ID(this.type),n=u.RogueHexagonTypesManager.getInstance().getRogueProp2_Sum(this.type),o=s.JackpotManager.getInstance().getRewardDataById(a),i=c.PropManager.getInstance().createPropItem(e,t),l=c.PropManager.getInstance().createPropItem(o.reward_id,n);c.PropManager.getInstance().changePropNum(e,t),c.PropManager.getInstance().changePropNum(o.reward_id,n);var g=[i,l];r.default.getInstance().showMultipleGetTip(g),this.mynode.getComponent(p.default).Rowsnumber=this.index,this.mynode.getComponent(p.default).Positionnumber=this.myindex,this.mynode.getComponent(p.default).Refresh(),this.clickBtnClose()},t.prototype.clickBtnClose=function(){this.item[0].children[0].destroy(),this.item[1].children[0].destroy(),r.default.getInstance().sound_manager.playSound(l.SoundIndex.click),this.onClose()},i([f(cc.Node)],t.prototype,"item",void 0),i([h],t)}(g.default);a.default=_,cc._RF.pop()},{"../../GameManager":"GameManager","../../JsonData/Jackpot":"Jackpot","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../UI/UIComponent":"UIComponent","./RogueHexagonTypes":"RogueHexagonTypes","./VoidScene":"VoidScene"}],WishSpend:[function(e,t,a){"use strict";cc._RF.push(t,"10dbcriB8pJg7M8Cq35skpH","WishSpend"),Object.defineProperty(a,"__esModule",{value:!0}),a.WishSpendManager=a.JsonWishSpend=void 0;var n=e("../Loading/LoadManager"),o=function(){this.WishID=0,this.WishType=0,this.Chapter=0,this.GetRewardID=0,this.OneDrawPropsID=0,this.OneDrawPropsSpend=0,this.OneDrawDiamondsSpend=0,this.TenDrawPropsSpend=0,this.TenDrawDiamondSpend=0};a.JsonWishSpend=o;var i=function(){function e(){this.data=null,this.is_load_completed=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this.data||this.loadJson()},e.prototype.loadJson=function(){var e=this;n.LoadManager.loadJson("WishSpend",n.LoadManager.load_mode,function(t,a){if(t)console.log(t);else{console.log("\u52a0\u8f7dJsonWishSpend\u6210\u529f"),e.data=new Map;for(var n=a.json,i=0;i<n.length;i++){var r=new o;r=n[i],e.data.set(r.WishID,r)}e.is_load_completed=!0}})},e.prototype.getIsLoadCompleted=function(){return this.is_load_completed},e.prototype.getJsonWishSpend=function(e){return this.data.get(e)},e.prototype.getWishType=function(e){return this.data.get(e).WishType},e.prototype.getChapter=function(e){return this.data.get(e).Chapter},e.prototype.getGetRewardID=function(e){return this.data.get(e).GetRewardID},e.prototype.getOneDrawPropsID=function(e){return this.data.get(e).OneDrawPropsID},e.prototype.getOneDrawPropsSpend=function(e){return this.data.get(e).OneDrawPropsSpend},e.prototype.getOneDrawDiamondsSpend=function(e){return this.data.get(e).OneDrawDiamondsSpend},e.prototype.getTenDrawPropsSpend=function(e){return this.data.get(e).TenDrawPropsSpend},e.prototype.getTenDrawDiamondSpend=function(e){return this.data.get(e).TenDrawDiamondSpend},e.getMaxWishID=function(){return 2010},e._instance=null,e}();a.WishSpendManager=i,cc._RF.pop()},{"../Loading/LoadManager":"LoadManager"}],WishingCardUi:[function(e,t,a){"use strict";cc._RF.push(t,"8bbb7swQNFAEYtUC+U/vtxL","WishingCardUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Prop/Data/Item"),s=e("./WishingItemUi"),c=cc._decorator,l=c.ccclass,g=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.item=null,t.wishing_ui=null,t.wishingItems=[],t}return o(t,e),t.prototype.initCard=function(e,t,a){var n=this,o=cc.find("Canvas");if(o.height/o.width<2&&(this.node.getChildByName("itemRoot").scale=o.height/o.width-1),this.node.getChildByName("itemRoot").getComponent(cc.Widget).target=o,this.node.getChildByName("btn").getComponent(cc.Widget).target=o,1==e)(c=cc.instantiate(this.item)).parent=this.node.getChildByName("itemRoot"),c.getComponent(s.default).initItem(t[0]),this.wishingItems.push(c.getComponent(s.default)),c.getChildByName("backEffect").getComponent(cc.Sprite).spriteFrame=this.wishing_ui.getSpriteFrame("CommonSpirit_BackLight_"+r.ItemManager.getInstance().getQuality(t[0].reward_id)),c.setPosition(cc.v3(0,0,0));else{for(var i=0;i<10;i++){var c=cc.instantiate(this.item),l=this.node.getChildByName("itemRoot");c.parent=l,c.scale=.78,c.getComponent(s.default).initItem(t[i]),c.getChildByName("backEffect").getComponent(cc.Sprite).spriteFrame=this.wishing_ui.getSpriteFrame("CommonSpirit_BackLight_"+r.ItemManager.getInstance().getQuality(t[i].reward_id)),this.wishingItems.push(c.getComponent(s.default)),c.setPosition(cc.v3(0,0,0));var g=l.getChildByName("pos"+i).getPosition();cc.tween(c).to(.5,{position:cc.v3(g.x,g.y,0)}).start()}this.node.getChildByName("btn").active=!0}this.node.getChildByName("bg").on(cc.Node.EventType.TOUCH_END,function(){for(var e=!0,t=0;t<n.wishingItems.length;t++)n.wishingItems[t].state!=s.WishingItemState.Opened&&(e=!1);e&&(a(),n.node.destroy())})},t.prototype.onClickBtn=function(){for(var e=0;e<this.wishingItems.length;e++)this.wishingItems[e].openCard();this.node.getChildByName("btn").active=!1},t.prototype.start=function(){},i([g(cc.Prefab)],t.prototype,"item",void 0),i([g(cc.SpriteAtlas)],t.prototype,"wishing_ui",void 0),i([l],t)}(cc.Component);a.default=u,cc._RF.pop()},{"../Prop/Data/Item":"Item","./WishingItemUi":"WishingItemUi"}],WishingEffectUi:[function(e,t,a){"use strict";cc._RF.push(t,"d0326tvIkNHJK5i8i1eWiqv","WishingEffectUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.start=function(){var e=this;this.node.getComponent(sp.Skeleton).setCompleteListener(function(){e.node.destroy()})},i([s],t)}(cc.Component));a.default=c,cc._RF.pop()},{}],WishingItemUi:[function(e,t,a){"use strict";cc._RF.push(t,"5f2a3ZXcqFL6JOb+OwGDFLi","WishingItemUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.WishingItemState=void 0;var r,s=e("../GameManager"),c=e("../multiLanguage/LanguageManager"),l=e("../Prop/Data/Item"),g=e("../Prop/PropConfig"),u=e("../Prop/PropManager"),p=e("../Sound/AudioConstants"),d=cc._decorator,h=d.ccclass;d.property,function(e){e[e.Close=1]="Close",e[e.Opened=2]="Opened",e[e.Openning=3]="Openning"}(r=a.WishingItemState||(a.WishingItemState={}));var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=r.Close,t.rewardData=null,t}return o(t,e),t.prototype.initItem=function(e){if(this.rewardData=e,this.state=r.Close,7==l.ItemManager.getInstance().getJsonItem(e.reward_id).Type)(t=this.node.getChildByName("name")).getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(l.ItemManager.getInstance().getNameTextId(e.reward_id)),t.color=u.PropManager.getInstance().getPropQualityTextColor(l.ItemManager.getInstance().getQuality(e.reward_id));else{var t;if(this.node.getChildByName("Sprite_Up_Quality_1").active=!1,(t=this.node.getChildByName("name")).getComponent(cc.Label).string=c.default.getInstance().getStrByTextId(l.ItemManager.getInstance().getNameTextId(e.reward_id)),5==l.ItemManager.getInstance().getJsonItem(e.reward_id).Type){var a=24,n=l.ItemManager.getInstance().getJsonItem(e.reward_id).ItemID%10-1;n<=4&&(a=Math.pow(2,n)),16==a&&(a=24),t.getComponent(cc.Label).string=t.getComponent(cc.Label).string.replace("~",a.toString())}t.color=u.PropManager.getInstance().getPropQualityTextColor(l.ItemManager.getInstance().getQuality(e.reward_id)),t.getComponent(cc.LabelOutline).color=u.PropManager.getInstance().getPropQualityTextOutlineColor();var o=u.PropManager.getInstance().createPropItem(e.reward_id,e.reward_num,g.PropAction.Null);3!=l.ItemManager.getInstance().getType(e.reward_id)?o.getComponent(cc.Sprite).enabled=!1:o.getChildByName("bg").getComponent(cc.Sprite).enabled=!1,o.parent=this.node.getChildByName("Card_Font"),o.scale=1.5,o.setPosition(cc.v3(0,0,0))}this.node.getChildByName("Card_Back").on(cc.Node.EventType.TOUCH_END,this.openCard,this)},t.prototype.openCard=function(){if(this.state==r.Close){this.state=r.Openning;var e=this.getComponent(cc.Animation);switch(e.enabled=!0,s.default.getInstance().sound_manager.playSound(p.SoundIndex.YX_Fanka),l.ItemManager.getInstance().getQuality(this.rewardData.reward_id)){case 0:e.play("card_common");break;case 1:e.play("card_green");break;case 2:e.play("card_blue");break;case 3:e.play("card_purple");break;case 4:e.play("card_sp");var t=this.node.getChildByName("backEffect").getComponent(cc.Animation);t.enabled=!0,t.play("card_sp_back");break;case 5:e.play("card_red");var a=this.node.getChildByName("backEffect").getComponent(cc.Animation);a.enabled=!0,a.play("card_red_back")}}},t.prototype.overOpen=function(){this.state=r.Opened},t.prototype.showBackEffect=function(){var e=this.node.getComponentInChildren(cc.Animation);e.enabled=!0,e.play("car_common_back")},i([h],t)}(cc.Component);a.default=f,cc._RF.pop()},{"../GameManager":"GameManager","../Prop/Data/Item":"Item","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../multiLanguage/LanguageManager":"LanguageManager"}],WishingUi:[function(e,t,a){"use strict";cc._RF.push(t,"e3e93MXLtpOcKB+yX3p5cis","WishingUi");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0}),a.WishingState=void 0;var r,s=e("../Ads/ApkManager"),c=e("../GameManager"),l=e("../JsonData/Jackpot"),g=e("../JsonData/JackpotCollection"),u=e("../JsonData/LevelJsonData"),p=e("../Level/LevelManager"),d=e("../multiLanguage/FollowConstants"),h=e("../multiLanguage/FollowManager"),f=e("../multiLanguage/LanguageManager"),_=e("../Prop/Data/Item"),m=e("../Prop/PropConfig"),y=e("../Prop/PropManager"),I=e("../Sound/AudioConstants"),v=e("../Tools/MyTool"),M=e("../Tutorials/TutorailsManager"),C=e("../UI/UIComponent"),S=e("../UI/UIConfig"),P=e("../UI/UIManager"),k=e("./CumulativeCard"),b=e("./WishingCardUi"),T=e("./WishSpend"),B=cc._decorator,w=B.ccclass,N=B.property;(function(e){e[e.Odinary=1]="Odinary",e[e.Premium=2]="Premium"})(r=a.WishingState||(a.WishingState={}));var L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wishing_state=r.Odinary,t.show_cumulative_tip=!1,t.wishing_ui=null,t.effect=null,t.wishing_card_ui=null,t}return o(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t);var a=cc.find("Canvas");this.node.getChildByName("wishingBg").getComponent(cc.Widget).target=a,this.node.getChildByName("top").getComponent(cc.Widget).target=a,this.node.getChildByName("bottom").getComponent(cc.Widget).target=a;var n=this.node.getChildByName("bottom");this.node.getChildByName("top").getChildByName("cumulativeTipsLabel").getComponent(cc.Label).string=f.default.getInstance().getStrByTextId(840021),n.getChildByName("Common_Btn_3").getComponentInChildren(cc.Label).string=f.default.getInstance().getStrByTextId(840020),n.getChildByName("Common_Btn_3 copy").getComponentInChildren(cc.Label).string=f.default.getInstance().getStrByTextId(840010),n.getChildByName("freeTime").getComponent(cc.Label).string=f.default.getInstance().getStrByTextId(840014),n.getChildByName("ordinaryWishing").getComponent(cc.Label).string=f.default.getInstance().getStrByTextId(840012),n.getChildByName("premiumWishing").getComponent(cc.Label).string=f.default.getInstance().getStrByTextId(840013),this.onClickRewardBtn(!0),this.refreshUi(),h.default.getInstance().followEvent(d.Follow_Type.\u8bb8\u613f\u6c60\u6253\u5f00\u6b21\u6570)},t.prototype.start=function(){!M.default.getInstance().isShowTutorials(209)&&M.default.getInstance().isShowTutorials(211)&&M.default.getInstance().showTutorials(211,null,function(){M.default.getInstance().saveTutorials(210),M.default.getInstance().saveTutorials(211)})},t.prototype.refreshUi=function(){var e=this,t=this.node.getChildByName("top"),a=this.node.getChildByName("bottom");t.getChildByName("gemNum").getComponent(cc.Label).string=v.default.getCoinDanwei(y.PropManager.getInstance().getPropNum(m.PropId.Gem),1),t.getChildByName("ordinaryWishingCoinNum").getComponent(cc.Label).string=v.default.getCoinDanwei(y.PropManager.getInstance().getPropNum(m.PropId.OrdinaryWishingCoin),1),t.getChildByName("premiumWishingCoinNum").getComponent(cc.Label).string=v.default.getCoinDanwei(y.PropManager.getInstance().getPropNum(m.PropId.PremiumWishingCoin),1),this.wishing_state==r.Odinary?a.getChildByName("tipLabel").getComponent(cc.RichText).string=f.default.getInstance().getStrByTextId(840030):a.getChildByName("tipLabel").getComponent(cc.RichText).string=f.default.getInstance().getStrByTextId(840011),this.wishing_state==r.Odinary?(t.getChildByName("Wish_Bar_0_1").getComponent(cc.Sprite).spriteFrame=this.wishing_ui.getSpriteFrame("Wish_Bar_0_1"),y.PropManager.getInstance().getPropNum(m.PropId.OrdinaryWishingCoin)>0?(a.getChildByName("wishingCostIcon1").getComponent(cc.Sprite).spriteFrame=y.PropManager.getInstance().getSpByName("Item_40005"),a.getChildByName("wishingSingleCostNum").getComponent(cc.Label).string="\xd7"+T.WishSpendManager.getInstance().getOneDrawPropsSpend(this.getWishSpendId(p.LevelManager.getInstance().getFinishChapter(),this.wishing_state))):(a.getChildByName("wishingCostIcon1").getComponent(cc.Sprite).spriteFrame=y.PropManager.getInstance().getSpByName("Item_10002"),a.getChildByName("wishingSingleCostNum").getComponent(cc.Label).string="\xd7"+T.WishSpendManager.getInstance().getOneDrawDiamondsSpend(this.getWishSpendId(p.LevelManager.getInstance().getFinishChapter(),this.wishing_state))),y.PropManager.getInstance().getPropNum(m.PropId.OrdinaryWishingCoin)>9?(a.getChildByName("wishingCostIcon2").getComponent(cc.Sprite).spriteFrame=y.PropManager.getInstance().getSpByName("Item_40005"),a.getChildByName("wishingTenCostNum").getComponent(cc.Label).string="\xd7"+T.WishSpendManager.getInstance().getTenDrawPropsSpend(this.getWishSpendId(p.LevelManager.getInstance().getFinishChapter(),this.wishing_state))):(a.getChildByName("wishingCostIcon2").getComponent(cc.Sprite).spriteFrame=y.PropManager.getInstance().getSpByName("Item_10002"),a.getChildByName("wishingTenCostNum").getComponent(cc.Label).string="\xd7"+T.WishSpendManager.getInstance().getTenDrawDiamondSpend(this.getWishSpendId(p.LevelManager.getInstance().getFinishChapter(),this.wishing_state)))):(t.getChildByName("Wish_Bar_0_1").getComponent(cc.Sprite).spriteFrame=this.wishing_ui.getSpriteFrame("Wish_Bar_0_2"),y.PropManager.getInstance().getPropNum(m.PropId.PremiumWishingCoin)>0?(a.getChildByName("wishingCostIcon1").getComponent(cc.Sprite).spriteFrame=y.PropManager.getInstance().getSpByName("Item_40004"),a.getChildByName("wishingSingleCostNum").getComponent(cc.Label).string="\xd7"+T.WishSpendManager.getInstance().getOneDrawPropsSpend(this.getWishSpendId(p.LevelManager.getInstance().getFinishChapter(),this.wishing_state))):(a.getChildByName("wishingCostIcon1").getComponent(cc.Sprite).spriteFrame=y.PropManager.getInstance().getSpByName("Item_10002"),a.getChildByName("wishingSingleCostNum").getComponent(cc.Label).string="\xd7"+T.WishSpendManager.getInstance().getOneDrawDiamondsSpend(this.getWishSpendId(p.LevelManager.getInstance().getFinishChapter(),this.wishing_state))),y.PropManager.getInstance().getPropNum(m.PropId.PremiumWishingCoin)>9?(a.getChildByName("wishingCostIcon2").getComponent(cc.Sprite).spriteFrame=y.PropManager.getInstance().getSpByName("Item_40004"),a.getChildByName("wishingTenCostNum").getComponent(cc.Label).string="\xd7"+T.WishSpendManager.getInstance().getTenDrawPropsSpend(this.getWishSpendId(p.LevelManager.getInstance().getFinishChapter(),this.wishing_state))):(a.getChildByName("wishingCostIcon2").getComponent(cc.Sprite).spriteFrame=y.PropManager.getInstance().getSpByName("Item_10002"),a.getChildByName("wishingTenCostNum").getComponent(cc.Label).string="\xd7"+T.WishSpendManager.getInstance().getTenDrawDiamondSpend(this.getWishSpendId(p.LevelManager.getInstance().getFinishChapter(),this.wishing_state))));var n=k.CumulativeCardManager.getInstance().getWishingRewardList(this.wishing_state),o=Number(cc.sys.localStorage.getItem("WishingFree"+this.wishing_state)),i=a.getChildByName("freeTimeCountdown"),s=a.getChildByName("freeTime"),c=a.getChildByName("wishingSingleCostNum");if(1==o){var l,g=parseInt(cc.sys.localStorage.getItem("WishingFreeTime"+this.wishing_state)),u=(new Date).getTime(),d=Math.floor((u-g)/1e3),h=86400-d;l=function(){var t=(new Date).getTime();d=Math.floor((t-g)/1e3),h=86400-d,i.getComponent(cc.Label).string=v.default.getTimeStr(h),h<=0&&(e.unscheduleAllCallbacks(),cc.sys.localStorage.setItem("WishingFree"+e.wishing_state,0),e.refreshUi())},this.unscheduleAllCallbacks(),i.active=!0,s.active=!0,h<=0&&(this.unscheduleAllCallbacks(),cc.sys.localStorage.setItem("WishingFree"+this.wishing_state,0),this.refreshUi()),i.getComponent(cc.Label).string=v.default.getTimeStr(h),this.unscheduleAllCallbacks(),this.schedule(l,1,cc.macro.REPEAT_FOREVER,0)}else i.active=!1,s.active=!1,c.color=cc.color(145,255,119),c.getComponent(cc.Label).string=f.default.getInstance().getStrByTextId(840014);if(t.getChildByName("cumulativeNum").getComponent(cc.Label).string=Number(cc.sys.localStorage.getItem("NowWishingCumulativeNum"+this.wishing_state))+"/"+n[Number(cc.sys.localStorage.getItem("WishingCumulativeRewardIndex"+this.wishing_state))].CumulativeCardDrawingTimes,t.getChildByName("cumulativeBar").getComponent(cc.ProgressBar).progress=Number(cc.sys.localStorage.getItem("NowWishingCumulativeNum"+this.wishing_state))/n[Number(cc.sys.localStorage.getItem("WishingCumulativeRewardIndex"+this.wishing_state))].CumulativeCardDrawingTimes,this.wishing_state==r.Odinary){this.node.getChildByName("wishingBg").getComponent(cc.Sprite).spriteFrame=this.wishing_ui.getSpriteFrame("Wish_Bg_0"),a.getChildByName("ordinaryWishingBtn").getComponent(cc.Sprite).spriteFrame=this.wishing_ui.getSpriteFrame("Wish_Btn_Tab_0"),a.getChildByName("premiumWishingBtn").getComponent(cc.Sprite).spriteFrame=this.wishing_ui.getSpriteFrame("Wish_Btn_Tab_1_1");var _=a.getChildByName("ordinaryWishing"),I=a.getChildByName("premiumWishing");_.color=cc.color(168,179,200),_.getComponent(cc.LabelOutline).color=cc.color(28,36,54),I.color=cc.color(126,135,151),I.getComponent(cc.LabelOutline).color=cc.color(20,26,39)}else this.node.getChildByName("wishingBg").getComponent(cc.Sprite).spriteFrame=this.wishing_ui.getSpriteFrame("Wish_Bg_1"),a.getChildByName("ordinaryWishingBtn").getComponent(cc.Sprite).spriteFrame=this.wishing_ui.getSpriteFrame("Wish_Btn_Tab_0_1"),a.getChildByName("premiumWishingBtn").getComponent(cc.Sprite).spriteFrame=this.wishing_ui.getSpriteFrame("Wish_Btn_Tab_1"),_=a.getChildByName("ordinaryWishing"),(I=a.getChildByName("premiumWishing")).color=cc.color(168,179,200),I.getComponent(cc.LabelOutline).color=cc.color(28,36,54),_.color=cc.color(126,135,151),_.getComponent(cc.LabelOutline).color=cc.color(20,26,39)},t.prototype.onClickRewardBtn=function(e){if(void 0===e&&(e=!1),0==e){c.default.getInstance().sound_manager.playSound(I.SoundIndex.click);var t=k.CumulativeCardManager.getInstance().getWishingRewardList(this.wishing_state);if(Number(cc.sys.localStorage.getItem("NowWishingCumulativeNum"+this.wishing_state))>=t[Number(cc.sys.localStorage.getItem("WishingCumulativeRewardIndex"+this.wishing_state))].CumulativeCardDrawingTimes){var a=Number(cc.sys.localStorage.getItem("NowWishingCumulativeNum"+this.wishing_state))-t[Number(cc.sys.localStorage.getItem("WishingCumulativeRewardIndex"+this.wishing_state))].CumulativeCardDrawingTimes;cc.sys.localStorage.setItem("NowWishingCumulativeNum"+this.wishing_state,a);var n=cc.sys.localStorage.getItem("WishingCumulativeRewardIndex"+this.wishing_state)||-1;++n>=t.length&&(n=0),cc.sys.localStorage.setItem("WishingCumulativeRewardIndex"+this.wishing_state,n);var o=c.default.getInstance(),i=y.PropManager.getInstance().createPropItem(t[n].ItemID,t[n].RewardNum);o.showGetTip(i),this.refreshUi()}}else{var s=k.CumulativeCardManager.getInstance().getWishingRewardList(r.Odinary),l=k.CumulativeCardManager.getInstance().getWishingRewardList(r.Premium),g=(o=c.default.getInstance(),null),u=null;Number(cc.sys.localStorage.getItem("NowWishingCumulativeNum"+r.Odinary)||0)>=s[Number(cc.sys.localStorage.getItem("WishingCumulativeRewardIndex"+r.Odinary)||0)].CumulativeCardDrawingTimes&&(a=Number(cc.sys.localStorage.getItem("NowWishingCumulativeNum"+r.Odinary)||0)-s[Number(cc.sys.localStorage.getItem("WishingCumulativeRewardIndex"+r.Odinary)||0)].CumulativeCardDrawingTimes,cc.sys.localStorage.setItem("NowWishingCumulativeNum"+r.Odinary,a),n=cc.sys.localStorage.getItem("WishingCumulativeRewardIndex"+r.Odinary)||0,++n>=s.length&&(n=0),cc.sys.localStorage.setItem("WishingCumulativeRewardIndex"+r.Odinary,n),g=y.PropManager.getInstance().createPropItem(s[n].ItemID,s[n].RewardNum),y.PropManager.getInstance().setPropNum(s[n].ItemID,s[n].RewardNum)),Number(cc.sys.localStorage.getItem("NowWishingCumulativeNum"+r.Premium)||0)>=l[Number(cc.sys.localStorage.getItem("WishingCumulativeRewardIndex"+r.Premium)||0)].CumulativeCardDrawingTimes&&(a=Number(cc.sys.localStorage.getItem("NowWishingCumulativeNum"+r.Premium)||0)-l[Number(cc.sys.localStorage.getItem("WishingCumulativeRewardIndex"+r.Premium)||0)].CumulativeCardDrawingTimes,cc.sys.localStorage.setItem("NowWishingCumulativeNum"+r.Premium,a),n=cc.sys.localStorage.getItem("WishingCumulativeRewardIndex"+r.Premium)||0,++n>=l.length&&(n=0),cc.sys.localStorage.setItem("WishingCumulativeRewardIndex"+r.Premium,n),u=y.PropManager.getInstance().createPropItem(l[n].ItemID,l[n].RewardNum),y.PropManager.getInstance().setPropNum(l[n].ItemID,l[n].RewardNum)),null!=g&&null!=u?o.showMultipleGetTip([g,u]):(null!=g&&o.showGetTip(g),null!=u&&o.showGetTip(u)),this.refreshUi()}},t.prototype.ondClickTypeBtn=function(e,t){c.default.getInstance().sound_manager.playSound(I.SoundIndex.click),t=Number(t),this.wishing_state=t,this.refreshUi()},t.prototype.checkCanWishing=function(e){var t=y.PropManager.getInstance(),a=T.WishSpendManager.getInstance(),n=p.LevelManager.getInstance();return 1==e?this.wishing_state==r.Odinary?t.getPropNum(m.PropId.OrdinaryWishingCoin)>=a.getOneDrawPropsSpend(this.getWishSpendId(n.getFinishChapter(),this.wishing_state))?(t.changePropNum(m.PropId.OrdinaryWishingCoin,-a.getOneDrawPropsSpend(this.getWishSpendId(n.getFinishChapter(),this.wishing_state))),h.default.getInstance().addTotal(d.Follow_Type.\u8bb0\u5f55\u666e\u901a\u8bb8\u613f\u6d88\u8017\u7684\u8bb8\u613f\u5e01,a.getOneDrawPropsSpend(this.getWishSpendId(n.getFinishChapter(),this.wishing_state))),!0):t.getPropNum(m.PropId.Gem)>=a.getOneDrawDiamondsSpend(this.getWishSpendId(n.getFinishChapter(),this.wishing_state))&&(t.changePropNum(m.PropId.Gem,-a.getOneDrawDiamondsSpend(this.getWishSpendId(n.getFinishChapter(),this.wishing_state))),h.default.getInstance().addTotal(d.Follow_Type.\u8bb0\u5f55\u666e\u901a\u8bb8\u613f\u6d88\u8017\u7684\u94bb\u77f3,a.getOneDrawDiamondsSpend(this.getWishSpendId(n.getFinishChapter(),this.wishing_state))),!0):t.getPropNum(m.PropId.PremiumWishingCoin)>=a.getOneDrawPropsSpend(this.getWishSpendId(n.getFinishChapter(),this.wishing_state))?(t.changePropNum(m.PropId.PremiumWishingCoin,-a.getOneDrawPropsSpend(this.getWishSpendId(n.getFinishChapter(),this.wishing_state))),h.default.getInstance().addTotal(d.Follow_Type.\u8bb0\u5f55\u9ad8\u7ea7\u8bb8\u613f\u6d88\u8017\u7684\u8bb8\u613f\u5e01,a.getOneDrawPropsSpend(this.getWishSpendId(n.getFinishChapter(),this.wishing_state))),!0):t.getPropNum(m.PropId.Gem)>=a.getOneDrawDiamondsSpend(this.getWishSpendId(n.getFinishChapter(),this.wishing_state))&&(t.changePropNum(m.PropId.Gem,-a.getOneDrawDiamondsSpend(this.getWishSpendId(n.getFinishChapter(),this.wishing_state))),h.default.getInstance().addTotal(d.Follow_Type.\u8bb0\u5f55\u9ad8\u7ea7\u8bb8\u613f\u6d88\u8017\u7684\u94bb\u77f3,a.getOneDrawDiamondsSpend(this.getWishSpendId(n.getFinishChapter(),this.wishing_state))),!0):this.wishing_state==r.Odinary?t.getPropNum(m.PropId.OrdinaryWishingCoin)>=a.getTenDrawPropsSpend(this.getWishSpendId(n.getFinishChapter(),this.wishing_state))?(t.changePropNum(m.PropId.OrdinaryWishingCoin,-a.getTenDrawPropsSpend(this.getWishSpendId(n.getFinishChapter(),this.wishing_state))),h.default.getInstance().addTotal(d.Follow_Type.\u8bb0\u5f55\u666e\u901a\u8bb8\u613f\u6d88\u8017\u7684\u8bb8\u613f\u5e01,a.getTenDrawPropsSpend(this.getWishSpendId(n.getFinishChapter(),this.wishing_state))),!0):t.getPropNum(m.PropId.Gem)>=a.getTenDrawDiamondSpend(this.getWishSpendId(n.getFinishChapter(),this.wishing_state))&&(t.changePropNum(m.PropId.Gem,-a.getTenDrawDiamondSpend(this.getWishSpendId(n.getFinishChapter(),this.wishing_state))),h.default.getInstance().addTotal(d.Follow_Type.\u8bb0\u5f55\u666e\u901a\u8bb8\u613f\u6d88\u8017\u7684\u94bb\u77f3,a.getTenDrawDiamondSpend(this.getWishSpendId(n.getFinishChapter(),this.wishing_state))),!0):t.getPropNum(m.PropId.PremiumWishingCoin)>=a.getTenDrawPropsSpend(this.getWishSpendId(n.getFinishChapter(),this.wishing_state))?(t.changePropNum(m.PropId.PremiumWishingCoin,-a.getTenDrawPropsSpend(this.getWishSpendId(n.getFinishChapter(),this.wishing_state))),h.default.getInstance().addTotal(d.Follow_Type.\u8bb0\u5f55\u9ad8\u7ea7\u8bb8\u613f\u6d88\u8017\u7684\u8bb8\u613f\u5e01,a.getTenDrawPropsSpend(this.getWishSpendId(n.getFinishChapter(),this.wishing_state))),!0):t.getPropNum(m.PropId.Gem)>=a.getTenDrawDiamondSpend(this.getWishSpendId(n.getFinishChapter(),this.wishing_state))&&(t.changePropNum(m.PropId.Gem,-a.getTenDrawDiamondSpend(this.getWishSpendId(n.getFinishChapter(),this.wishing_state))),h.default.getInstance().addTotal(d.Follow_Type.\u8bb0\u5f55\u9ad8\u7ea7\u8bb8\u613f\u6d88\u8017\u7684\u94bb\u77f3,a.getTenDrawDiamondSpend(this.getWishSpendId(n.getFinishChapter(),this.wishing_state))),!0)},t.prototype.onClickWishingBtn=function(e,t){var a=this;if(1==(t=Number(t)))if(1==Number(cc.sys.localStorage.getItem("WishingFree"+this.wishing_state))){if(0==this.checkCanWishing(t))return;cc.sys.localStorage.setItem("NowWishingCumulativeNum"+this.wishing_state,Number(cc.sys.localStorage.getItem("NowWishingCumulativeNum"+this.wishing_state))+1)}else{var n=new Date;cc.sys.localStorage.setItem("NowWishingCumulativeNum"+this.wishing_state,Number(cc.sys.localStorage.getItem("NowWishingCumulativeNum"+this.wishing_state))+1),cc.sys.localStorage.setItem("WishingFree"+this.wishing_state,1),cc.sys.localStorage.setItem("WishingFreeTime"+this.wishing_state,n.getTime())}else{if(0==this.checkCanWishing(t))return;cc.sys.localStorage.setItem("NowWishingCumulativeNum"+this.wishing_state,Number(cc.sys.localStorage.getItem("NowWishingCumulativeNum"+this.wishing_state))+10)}var o,i=cc.instantiate(this.effect),s=this.node.getChildByName("bottom").getChildByName("effectRoot");i.parent=s;var f=[];if(c.default.getInstance().sound_manager.playSound(I.SoundIndex.YX_YingBi),1==this.wishing_state){if(o=i.getComponent(sp.Skeleton).setAnimation(0,"CommonWish",!1),2==t)for(var m=1;m<10;m++)setTimeout(function(){var e=cc.instantiate(a.effect);e.parent=s;var t=e.getComponent(sp.Skeleton).setAnimation(0,"Common",!1);e.getComponent(sp.Skeleton).setTrackEventListener(t,function(e,t){"RuShui"==t.data.name&&a.RuShui()})},100*m)}else if(o=i.getComponent(sp.Skeleton).setAnimation(0,"SeniorWish",!1),2==t)for(m=1;m<10;m++)setTimeout(function(){var e=cc.instantiate(a.effect);e.parent=s;var t=e.getComponent(sp.Skeleton).setAnimation(0,"Senior",!1);e.getComponent(sp.Skeleton).setTrackEventListener(t,function(e,t){"RuShui"==t.data.name&&a.RuShui()})},100*m);if(1==t){this.wishing_state==r.Odinary?h.default.getInstance().addFirstDo(d.Follow_Type.\u8bb0\u5f55\u5355\u6b21\u666e\u901a\u8bb8\u613f\u7684\u6b21\u6570):h.default.getInstance().addFirstDo(d.Follow_Type.\u8bb0\u5f55\u5355\u6b21\u9ad8\u7ea7\u8bb8\u613f\u7684\u6b21\u6570);var v=p.LevelManager.getInstance().getFinishChapter(),C=T.WishSpendManager.getInstance().getGetRewardID(this.getWishSpendId(v,this.wishing_state)),S=g.JackpotCollectionManager.getInstance().getJackpotIdByJCId(C);if(M.default.getInstance().isShowTutorials(212)&&!M.default.getInstance().isShowTutorials(211)){var P=new u.RewardData;P.reward_id=70018,P.reward_num=1,f.push(P)}else f.push(l.JackpotManager.getInstance().getRewardDataById(S))}else{for(this.wishing_state==r.Odinary?h.default.getInstance().addFirstDo(d.Follow_Type.\u8bb0\u5f55\u5341\u8fde\u666e\u901a\u8bb8\u613f\u7684\u6b21\u6570):h.default.getInstance().addFirstDo(d.Follow_Type.\u8bb0\u5f55\u5341\u8fde\u9ad8\u7ea7\u8bb8\u613f\u7684\u6b21\u6570),m=0;m<10;m++)v=p.LevelManager.getInstance().getFinishChapter(),C=T.WishSpendManager.getInstance().getGetRewardID(this.getWishSpendId(v,this.wishing_state)),S=g.JackpotCollectionManager.getInstance().getJackpotIdByJCId(C),f.push(l.JackpotManager.getInstance().getRewardDataById(S));var k=0,b=10;for(m=0;m<f.length;m++)_.ItemManager.getInstance().getQuality(f[m].reward_id)<b&&(b=_.ItemManager.getInstance().getQuality(f[m].reward_id),k=m);if(this.wishing_state==r.Odinary){S=g.JackpotCollectionManager.getInstance().getJackpotIdByJCId(1010009);var B=l.JackpotManager.getInstance().getRewardDataById(S);f[k]=B}else S=g.JackpotCollectionManager.getInstance().getJackpotIdByJCId(1010010),B=l.JackpotManager.getInstance().getRewardDataById(S),f[k]=B}for(i.getComponent(sp.Skeleton).setTrackEventListener(o,function(e,n){"ShowCard"==n.data.name&&a.showCards(t,f),"RuShui"==n.data.name&&a.RuShui(),"FeiChu"==n.data.name&&a.TanChu()}),m=0;m<f.length;m++)7==_.ItemManager.getInstance().getJsonItem(f[m].reward_id).Type||y.PropManager.getInstance().changePropNum(f[m].reward_id,f[m].reward_num);this.refreshUi()},t.prototype.onClickTipBtn=function(){this.getWishSpendId(p.LevelManager.getInstance().getFinishChapter(),this.wishing_state),P.UIManager.getInstance().showUiDialog(S.UIPath.WishingTips,S.UILayerLevel.Two,{onCompleted:function(){}})},t.prototype.onClickCumulativeTipBtn=function(){var e=this;if(1!=this.show_cumulative_tip){this.show_cumulative_tip=!0;var t=this.node.getChildByName("top").getChildByName("cumulativeTipsLabel"),a=this.node.getChildByName("top").getChildByName("cumulativeTips");t.active=!0,a.active=!0,this.scheduleOnce(function(){t.active=!1,a.active=!1,e.show_cumulative_tip=!1},2)}},t.prototype.showCards=function(e,t){var a=this,n=cc.instantiate(this.wishing_card_ui);n.getComponent(b.default).initCard(e,t,function(){a.onClickRewardBtn()}.bind(this)),n.parent=this.node.getChildByName("bottom").getChildByName("cardRoot")},t.prototype.RuShui=function(){c.default.getInstance().sound_manager.playSound(I.SoundIndex.YX_RuShui)},t.prototype.TanChu=function(){c.default.getInstance().sound_manager.playSound(I.SoundIndex.YX_KaTanChu)},t.prototype.getWishSpendId=function(e,t){return 1e3*t+e},t.prototype.clickBtnClose=function(){c.default.getInstance().sound_manager.playSound(I.SoundIndex.click),this.destroySelf()},t.prototype.destroySelf=function(){e.prototype.onClose.call(this),s.default.getInstance().closeBanner()},i([N(cc.SpriteAtlas)],t.prototype,"wishing_ui",void 0),i([N(cc.Prefab)],t.prototype,"effect",void 0),i([N(cc.Prefab)],t.prototype,"wishing_card_ui",void 0),i([w],t)}(C.default);a.default=L,cc._RF.pop()},{"../Ads/ApkManager":"ApkManager","../GameManager":"GameManager","../JsonData/Jackpot":"Jackpot","../JsonData/JackpotCollection":"JackpotCollection","../JsonData/LevelJsonData":"LevelJsonData","../Level/LevelManager":"LevelManager","../Prop/Data/Item":"Item","../Prop/PropConfig":"PropConfig","../Prop/PropManager":"PropManager","../Sound/AudioConstants":"AudioConstants","../Tools/MyTool":"MyTool","../Tutorials/TutorailsManager":"TutorailsManager","../UI/UIComponent":"UIComponent","../UI/UIConfig":"UIConfig","../UI/UIManager":"UIManager","../multiLanguage/FollowConstants":"FollowConstants","../multiLanguage/FollowManager":"FollowManager","../multiLanguage/LanguageManager":"LanguageManager","./CumulativeCard":"CumulativeCard","./WishSpend":"WishSpend","./WishingCardUi":"WishingCardUi"}],WuNvDan:[function(e,t,a){"use strict";cc._RF.push(t,"1e0d5Re4L1Du62l+dP00en6","WuNvDan");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Game/GameEffectsManager"),s=e("../Bullect"),c=cc._decorator,l=c.ccclass,g=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addCollisionMonsterListen.call(this,this.onCollisionMonster),this.addInitFinishedListen(this.onInitFinished)},t.prototype.onInitFinished=function(){this.tuowei_space=1.5},t.prototype.destroySelf=function(){e.prototype.destroySelf.call(this)},t.prototype.onCollisionMonster=function(e){e&&(e.beFlashInjured(this.gongji_data).getDamageNum()>0&&r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.deluyi_skill_beidong_create,this.getHeadPos()),this.destroySelf())},i([l],t)}(s.default));a.default=g,cc._RF.pop()},{"../../../Game/GameEffectsManager":"GameEffectsManager","../Bullect":"Bullect"}],XueGuai:[function(e,t,a){"use strict";cc._RF.push(t,"a722aBuhxNHsqV79/q1S9ri","XueGuai");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../Game/GameEffectsManager"),c=e("../../Game/GroundManager"),l=e("../../GameManager"),g=e("../Monster"),u=e("../MonsterManager"),p=e("../MonsterNewNormal"),d=cc._decorator,h=d.ccclass,f=(d.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.light=null,t.is_loaded=!1,t.load_num=0,t}return o(t,e),t.prototype.onLoad=function(){var t=this;e.prototype.onLoad.call(this),e.prototype.addMonsterNormalInited.call(this,this.onMonsterNormalInited),e.prototype.addMonsterNormalDeath.call(this,this.onMonsterNormalDeath),s.GameEffectsManager.getInstance().addEffectPoolById(s.GameEffectId.monster_zhiliao_halo,1,function(){t.light||(t.light=c.default.getInstance().createGameEffectById(s.GameEffectId.monster_zhiliao_halo,t.node.getPosition())),t.load_num++,t.load_num>=2&&(t.is_loaded=!0)}),s.GameEffectsManager.getInstance().addEffectPoolById(s.GameEffectId.monster_zhiliao_halo_hit,8,function(){t.load_num++,t.load_num>=2&&(t.is_loaded=!0)})},t.prototype.onMonsterNormalInited=function(){this.is_loaded&&(this.light||(this.light=c.default.getInstance().createGameEffectById(s.GameEffectId.monster_zhiliao_halo,this.node.getPosition()))),this.skill_cold_down[0]=this.skill_data.getSkillValue1(1)},t.prototype.onMonsterNormalDeath=function(){this.light&&(s.GameEffectsManager.getInstance().destroyGameEffectById(s.GameEffectId.monster_zhiliao_halo,this.light),this.light=null)},t.prototype.update=function(t){l.default.getInstance().cur_game_state!=r.GameState.Game_Playing||this.getIsDie()||(e.prototype.update.call(this,t),this.checkSkill(t),this.light&&this.light.setPosition(this.getCenterPos()))},t.prototype.checkSkill=function(e){if(1==this.is_loaded)for(var t=0;t<this.skill_cold_down.length;t++){var a=!1;if(this.skill_cold_down[t]>0?(this.skill_cold_down[t]-=e,this.skill_cold_down[t]<=0&&(a=!0)):a=!0,a){this.skill_cold_down[t]=this.skill_data.getSkillValue1(1);var n=u.default.getInstance().node.children,o=n.length;if(o<=0)return null;for(var i=0;i<o;i++){var r=n[i].getComponent(g.default);if(r&&r.getIsCanCheck()){var c=r.getCenterPos();this.getCenterPos().sub(c).mag()<=200&&r.beHeal(this.getMaxHp()*this.skill_data.getSkillValue2(1))&&s.GameEffectsManager.getInstance().createGameEffectById(s.GameEffectId.monster_zhiliao_halo_hit,c)}}}}},i([h],t)}(p.default));a.default=f,cc._RF.pop()},{"../../Constants":"Constants","../../Game/GameEffectsManager":"GameEffectsManager","../../Game/GroundManager":"GroundManager","../../GameManager":"GameManager","../Monster":"Monster","../MonsterManager":"MonsterManager","../MonsterNewNormal":"MonsterNewNormal"}],XueRenBoss:[function(e,t,a){"use strict";cc._RF.push(t,"56273Y9tzRIeLG2bw9l2Y6x","XueRenBoss");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r,s=e("../../Constants"),c=e("../../Enemy/EnemyConfig"),l=e("../../Game/GameEffectsManager"),g=e("../../GameManager"),u=e("../../Hero/Game/BuffData"),p=e("../../Hero/Game/HeroConfig"),d=e("../../Monster/MonsterData"),h=e("../../Monster/MonsterManager"),f=e("../../Sound/AudioConstants"),_=e("../../Tools/MyTool"),m=e("../../Wall/WallManager"),y=e("../Boss"),I=e("./BossAtt3"),v=e("./XueYin");(function(e){e.Idle="Idle",e.attack1="Attack1",e.run="Run",e.hurt1="Hurt",e.skill1="Skill1",e.skill2_1="Skill2_1",e.skill2_2="Skill2_2",e.skill2_3="Skill2_3",e.dead="Dead"})(r||(r={}));var M=cc._decorator,C=M.ccclass,S=(M.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.xue_yin=null,t.is_active_skill_2=!1,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.xuanyun,2),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss3_normal_attack,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss3_normal_attack_hit,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss3_skill_1,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss3_skill_1_hit,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss3_skill_2,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss3_skill_2_hit,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss3_skill_2_xueyin,1),this.addDeathCallback(this.onDeath),this.addXuanYunListen(this.onXuanYunResult),this.addBossInitedListen(this.onBossInited),this.addChangeBossHpListen(this.onChangeHp)},t.prototype.onBossInited=function(){this.startIdle(),this.node.y=128},t.prototype.onChangeHp=function(){this.cur_hp<=this.max_hp/2&&0==this.is_active_skill_2&&(this.is_active_skill_2=!0,this.startSkill(2))},t.prototype.startIdle=function(){e.prototype.setEnemyState.call(this,c.Enemy_State.standby),e.prototype.playSpinAnimaton.call(this,r.Idle,!0)},t.prototype.startAttack=function(){var t=this;this.att_jishu=0,e.prototype.setEnemyState.call(this,c.Enemy_State.att);var a=new d.KeyFrameData;a.name="Attack",a.callback=function(){t.att_jishu=0,g.default.getInstance().sound_manager.playSound(f.SoundIndex.YX_Boss3Attack),l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.boss3_normal_attack,e.prototype.getAttPos.call(t)).getComponent(I.default).init(e.prototype.getAttData.call(t,p.DamageType.Normal,!0,0),l.GameEffectId.boss3_normal_attack,1200,3*Math.PI/2,t.node.y,270)},e.prototype.playSpinAnimaton.call(this,r.attack1,!1,a,function(){t.skill_queue.length>0?(e.prototype.setEnemyState.call(t,c.Enemy_State.standby),t.startSkill(t.skill_queue.shift())):t.startIdle()})},t.prototype.startSkill=function(e){switch(e){case 1:this.startSkill1();break;case 2:this.is_active_skill_2&&this.startSkill2()}},t.prototype.startSkill1=function(){var t=this;if(this.skill_cold_down[0]=this.skill_data.getSkillColdDown(1),e.prototype.getEnemyState.call(this)!=c.Enemy_State.att&&e.prototype.getEnemyState.call(this)!=c.Enemy_State.skill)if(e.prototype.isHaveDeBuff.call(this,p.BuffId.Hero_XuanYun))this.skill_queue.indexOf(1)<0&&this.skill_queue.push(1);else{e.prototype.setEnemyState.call(this,c.Enemy_State.skill),this.skill_cold_down[0]=this.skill_data.getSkillColdDown(1);var a=new d.KeyFrameData;a.name="Skill",a.callback=function(){t.att_jishu=0;var a=l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.boss3_skill_1,e.prototype.getAttPos.call(t)).getComponent(I.default);a.init(e.prototype.getAttData.call(t,p.DamageType.Skill,!0,t.skill_data.getSkillValue1(1)),l.GameEffectId.boss3_skill_1,1200,3*Math.PI/2,t.node.y,270),a.setBuffData(t.skill_data.getSkillValue3(1),t.skill_data.getSkillValue2(1))},e.prototype.playSpinAnimaton.call(this,r.skill1,!1,a,function(){t.skill_queue.length>0?(e.prototype.setEnemyState.call(t,c.Enemy_State.standby),t.startSkill(t.skill_queue.shift())):t.startIdle()})}else this.skill_queue.indexOf(1)<0&&this.skill_queue.push(1)},t.prototype.startSkill2=function(){var t=this;this.skill_cold_down[1]=this.skill_data.getSkillColdDown(2),e.prototype.getEnemyState.call(this)!=c.Enemy_State.att&&e.prototype.getEnemyState.call(this)!=c.Enemy_State.skill?e.prototype.isHaveDeBuff.call(this,p.BuffId.Hero_XuanYun)?this.skill_queue.indexOf(2)<0&&this.skill_queue.push(2):(g.default.getInstance().sound_manager.playSound(f.SoundIndex.YX_Boss3Skill1xuli),e.prototype.setEnemyState.call(this,c.Enemy_State.skill),this.skill_cold_down[1]=this.skill_data.getSkillColdDown(2),this.cur_toughness+=1,e.prototype.playSpinAnimaton.call(this,r.skill2_1,!1,null,function(){e.prototype.playSpinAnimaton.call(t,r.skill2_2,!0,null,null);var a=new u.BuffData;a.buff_id=p.BuffId.Boss3_MianYi_KongZhi,a.remain_time=5;var n=e.prototype.addBuff.call(t,a);n.addDestroyListen(t.onSkillBuffDestory.bind(t)),n.addFloorListen(t.onAddFloor.bind(t));var o=cc.find("Canvas/Ui_Root/top_ui/BossHpRoot");t.xue_yin=l.GameEffectsManager.getInstance().createGameEffectForParent(l.GameEffectId.boss3_skill_2_xueyin,cc.v2(0,0),o).getComponent(v.default),t.xue_yin.setFloor(0)})):this.skill_queue.indexOf(2)<0&&this.skill_queue.push(2)},t.prototype.onAddFloor=function(e){var t=e-1;this.xue_yin&&this.xue_yin.setFloor(t)},t.prototype.onSkillBuffDestory=function(t){var a=this;this.skill_cold_down[1]=this.skill_data.getSkillColdDown(2);var n=t.cur_floor-1;if(n>0){e.prototype.setEnemyState.call(this,c.Enemy_State.skill);var o=new d.KeyFrameData;o.name="Skill2",o.callback=function(){a.att_jishu=0,a.startSkill2Lanuch(n)},e.prototype.playSpinAnimaton.call(this,r.skill2_3,!1,o,function(){a.cur_toughness-=1,l.GameEffectsManager.getInstance().destroyGameEffectById(l.GameEffectId.boss3_skill_2_xueyin,a.xue_yin.node),a.xue_yin=null,a.skill_queue.length>0?(e.prototype.setEnemyState.call(a,c.Enemy_State.standby),a.startSkill(a.skill_queue.shift())):a.startIdle()})}else this.cur_toughness-=1,l.GameEffectsManager.getInstance().destroyGameEffectById(l.GameEffectId.boss3_skill_2_xueyin,this.xue_yin.node),this.xue_yin=null,this.skill_queue.length>0?(e.prototype.setEnemyState.call(this,c.Enemy_State.standby),this.startSkill(this.skill_queue.shift())):this.startIdle()},t.prototype.startSkill2Lanuch=function(e){var t=this;_.default.randomSceneShakeBig();for(var a=0,n=function(n){o.scheduleOnce(function(){var o=144*n-288,i=g.default.getInstance().enemy_att_y-200*Math.random()-100,r=cc.v2(o,1680+i),s=cc.v2(o,i),c=l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.boss3_skill_2,r);cc.tween(c).to(.2*Math.random()+.2,{x:s.x,y:s.y}).call(function(n){if(l.GameEffectsManager.getInstance().destroyGameEffectById(l.GameEffectId.boss3_skill_2,n),l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.boss3_skill_2_hit,n.getPosition()),3==++a){g.default.getInstance().all_hero.forEach(function(a){var n=new u.BuffData;n.buff_id=p.BuffId.Monster_XuanYun,n.game_effect_id=l.GameEffectId.xuanyun,n.remain_time=2+e*t.skill_data.getSkillValue3(1),n.buff_type=p.BuffType.Vertigo,a.addDeBuff(n)});var o=t.getAttData(p.DamageType.Skill,!1,t.skill_data.getSkillValue1(1));o.zengshang_rate=t.skill_data.getSkillValue2(1)*e,m.default.getInstance().getMainWall().beInjured(o)}}).start()},.2*Math.random()+.1)},o=this,i=0;i<5;i++)n(i)},t.prototype.onDeath=function(){var t=this;this.unscheduleAllCallbacks(),e.prototype.playDeadAnimaton.call(this,r.dead,function(){t.removeAllDeBuff(),t.removeAllBuff(),t.shadow&&cc.tween(t.shadow).to(.75,{opacity:0}).start(),cc.tween(t.node).to(.75,{opacity:0}).call(function(){t.removeAllDeBuff(),t.removeAllBuff(),h.default.getInstance().destroyMonster(t.node,t.monster_type)}).start()}),this.xue_yin&&l.GameEffectsManager.getInstance().destroyGameEffectById(l.GameEffectId.boss3_skill_2_xueyin,this.xue_yin.node)},t.prototype.onXuanYunResult=function(t){t?this.startXuanYun():e.prototype.isHaveDeBuffType.call(this,p.BuffType.Vertigo)||e.prototype.getIsDie.call(this)||(this.skill_queue.length>0?(e.prototype.setEnemyState.call(this,c.Enemy_State.standby),this.startSkill(this.skill_queue.shift())):this.startIdle())},t.prototype.startXuanYun=function(){var t=this;e.prototype.playSpinAnimaton.call(this,r.hurt1,!1,null,function(){e.prototype.isHaveDeBuffType.call(t,p.BuffType.Vertigo)&&!e.prototype.getIsDie.call(t)&&(t.spine.paused=!0)})},t.prototype.update=function(t){g.default.getInstance().cur_game_state!=s.GameState.Game_Playing||this.getIsDie()||(e.prototype.update.call(this,t),this.checkSkill(t),this.getEnemyState()!=c.Enemy_State.skill&&(this.isHaveDeBuff(p.BuffId.Hero_XuanYun)||this.checkAtt(t)))},t.prototype.checkSkill=function(e){for(var t=0;t<this.skill_cold_down.length;t++)1==t&&0==this.is_active_skill_2||this.skill_cold_down[t]>0&&(this.skill_cold_down[t]-=e,this.skill_cold_down[t]<0&&(this.skill_cold_down[t]=0,this.startSkill(t+1)))},t.prototype.checkAtt=function(e){this.att_jishu+=e,this.att_jishu>=this.att_jiange&&(this.att_jishu=this.att_jiange,this.startAttack())},i([C],t)}(y.default));a.default=S,cc._RF.pop()},{"../../Constants":"Constants","../../Enemy/EnemyConfig":"EnemyConfig","../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../../Hero/Game/BuffData":"BuffData","../../Hero/Game/HeroConfig":"HeroConfig","../../Monster/MonsterData":"MonsterData","../../Monster/MonsterManager":"MonsterManager","../../Sound/AudioConstants":"AudioConstants","../../Tools/MyTool":"MyTool","../../Wall/WallManager":"WallManager","../Boss":"Boss","./BossAtt3":"BossAtt3","./XueYin":"XueYin"}],XueYin:[function(e,t,a){"use strict";cc._RF.push(t,"b7ac9RDYgJBt6BeIB+qHp2v","XueYin");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sp_xueyin=[],t}return o(t,e),t.prototype.setFloor=function(e){for(var t=1;t<=5;t++)this.node.getChildByName(t.toString()).getComponent(cc.Sprite).spriteFrame=this.sp_xueyin[t<=e?1:0]},i([c([cc.SpriteFrame])],t.prototype,"sp_xueyin",void 0),i([s],t)}(cc.Component);a.default=l,cc._RF.pop()},{}],YaLongBoss:[function(e,t,a){"use strict";cc._RF.push(t,"001d2nktwJMcoRm9Ks2d3RK","YaLongBoss");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r,s=e("../../Constants"),c=e("../../Enemy/EnemyConfig"),l=e("../../Game/GameEffectsManager"),g=e("../../GameManager"),u=e("../../Hero/Game/HeroConfig"),p=e("../../Monster/MonsterData"),d=e("../../Monster/MonsterManager"),h=e("../../Sound/AudioConstants"),f=e("../../Wall/WallManager"),_=e("../Boss");(function(e){e.Idle="Idle",e.attack="Attack",e.run="Run",e.hurt1="Hurt",e.skill2="Skill2",e.skill1_1="Skill1_1",e.skill1_2="Skill1_2",e.skill1_3="Skill1_3",e.dead="Dead"})(r||(r={}));var m=cc._decorator,y=m.ccclass,I=m.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hands=[],t.is_active_skill_2=!1,t.attack_num=0,t.is_yindao=!0,t.fire_node=null,t.yindao_jishu=0,t.scale_speed=16,t.once_distance=0,t.yindao_time=1,t.kuangbao_value=[],t.is_kuang_bao=!1,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss4_normal_attack_hit,1),l.GameEffectsManager.getInstance().addEffectPoolById(l.GameEffectId.boss4_normal_skill_penhuo,1),this.addDeathCallback(this.onDeath),this.addXuanYunListen(this.onXuanYunResult),this.addBossInitedListen(this.onBossInited),this.addChangeBossHpListen(this.onChangeHp),this.setHands(!1)},t.prototype.onBossInited=function(){this.startIdle(),this.node.y=128,this.attack_num=0;var e=this.getAttPos().y-f.default.getInstance().getMainWall().getWallMaxYY();this.once_distance=e/5.3,this.kuangbao_value=[this.skill_data.getSkillValue1(2),this.skill_data.getSkillValue2(2),-this.skill_data.getSkillValue3(2)]},t.prototype.onChangeHp=function(){this.cur_hp<=this.max_hp/2?0==this.is_active_skill_2&&this.skill_cold_down[1]<=0&&(this.is_active_skill_2=!0,this.startSkill(2)):1==this.is_active_skill_2&&(this.is_active_skill_2=!1,this.setKuangBao(!1))},t.prototype.setHands=function(e){for(var t=0;t<this.hands.length;t++)this.hands[t].active=e},t.prototype.startIdle=function(){e.prototype.setEnemyState.call(this,c.Enemy_State.standby),e.prototype.playSpinAnimaton.call(this,r.Idle,!0)},t.prototype.startAttack=function(){var t=this;this.att_jishu=0,e.prototype.setEnemyState.call(this,c.Enemy_State.att);var a=new p.KeyFrameData;a.name="Attack",a.callback=function(){t.attack_num++,t.att_jishu=0,g.default.getInstance().sound_manager.playSound(h.SoundIndex.YX_Boss4Attack);var a=f.default.getInstance().getAllWall(),n=null;a.forEach(function(e){t.node.y>=e.getWallMaxYY()&&(n=e)}),n&&n.beInjured(e.prototype.getAttData.call(t,u.DamageType.Normal,!1)).getDamageNum()>0&&l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.boss4_normal_attack_hit,cc.v2(640*Math.random()-320,n.getWallMaxYY())),t.attack_num>=t.skill_data.getSkillValue3(1)&&(t.attack_num=0,t.skill_queue.push(1))},e.prototype.playSpinAnimaton.call(this,r.attack,!1,a,function(){t.skill_queue.length>0?(e.prototype.setEnemyState.call(t,c.Enemy_State.standby),t.startSkill(t.skill_queue.shift())):t.startIdle()})},t.prototype.startSkill=function(e){switch(e){case 1:this.startSkill1();break;case 2:this.is_active_skill_2&&this.startSkill2()}},t.prototype.startSkill2=function(){var t=this;if(0!=this.is_active_skill_2)if(this.skill_cold_down[1]=this.skill_data.getSkillColdDown(2),e.prototype.getEnemyState.call(this)!=c.Enemy_State.att&&e.prototype.getEnemyState.call(this)!=c.Enemy_State.skill)if(e.prototype.isHaveDeBuff.call(this,u.BuffId.Hero_XuanYun))this.skill_queue.indexOf(2)<0&&this.skill_queue.push(2);else{this.cur_toughness+=1,e.prototype.setEnemyState.call(this,c.Enemy_State.skill),this.skill_cold_down[1]=this.skill_data.getSkillColdDown(2);var a=new p.KeyFrameData;a.name="Skill2",a.callback=function(){t.cur_toughness-=1,t.att_jishu=0,t.setKuangBao(!0)},e.prototype.playSpinAnimaton.call(this,r.skill2,!1,a,function(){t.skill_queue.length>0?(e.prototype.setEnemyState.call(t,c.Enemy_State.standby),t.startSkill(t.skill_queue.shift())):t.startIdle()})}else this.skill_queue.indexOf(2)<0&&this.skill_queue.push(2)},t.prototype.setKuangBao=function(e){this.is_kuang_bao!=e&&(this.is_kuang_bao=e,this.setHands(e),this.is_active_skill_2=e,e?(this.monster_data.Attack+=this.base_attribute_data.Attack*this.kuangbao_value[0],this.changeAttackSpeed(this.kuangbao_value[1]),this.monster_data.Defense+=this.base_attribute_data.Defense*this.kuangbao_value[2]):(this.monster_data.Attack-=this.base_attribute_data.Attack*this.kuangbao_value[0],this.changeAttackSpeed(-this.kuangbao_value[1]),this.monster_data.Defense-=this.base_attribute_data.Defense*this.kuangbao_value[2]))},t.prototype.startSkill1=function(){var t=this;this.skill_cold_down[0]=this.skill_data.getSkillColdDown(1),e.prototype.getEnemyState.call(this)!=c.Enemy_State.att?e.prototype.isHaveDeBuff.call(this,u.BuffId.Hero_XuanYun)?this.skill_queue.indexOf(1)<0&&this.skill_queue.push(1):(g.default.getInstance().sound_manager.playSound(h.SoundIndex.YX_Boss4Skill),e.prototype.setEnemyState.call(this,c.Enemy_State.skill),this.skill_cold_down[0]=this.skill_data.getSkillColdDown(1),e.prototype.playSpinAnimaton.call(this,r.skill1_1,!1,null,function(){e.prototype.playSpinAnimaton.call(t,r.skill1_2,!0,null,null),t.is_yindao=!0,t.yindao_time=t.skill_data.getSkillValue2(1);var a=e.prototype.getAttPos.call(t);t.fire_node=l.GameEffectsManager.getInstance().createGameEffectById(l.GameEffectId.boss4_normal_skill_penhuo,a),t.fire_node.scale=0,t.fire_node.angle=180})):this.skill_queue.indexOf(1)<0&&this.skill_queue.push(1)},t.prototype.fireDamage=function(t){if(g.default.getInstance().cur_game_state==s.GameState.Game_Playing){var a=e.prototype.getAttData.call(this,u.DamageType.Skill,!1,this.skill_data.getSkillValue1(1));a.is_big=!1,t.beInjured(a)}},t.prototype.destroyFire=function(t){var a=this;this.is_yindao=!1,this.fire_node&&cc.tween(this.fire_node).to(.2,{scale:0}).call(function(){l.GameEffectsManager.getInstance().destroyGameEffectById(l.GameEffectId.boss4_normal_skill_penhuo,a.fire_node)}).start(),t&&e.prototype.playSpinAnimaton.call(this,r.skill1_3,!1,null,function(){a.skill_queue.length>0?(e.prototype.setEnemyState.call(a,c.Enemy_State.standby),a.startSkill(a.skill_queue.shift())):a.startIdle()})},t.prototype.onDeath=function(){var t=this;this.unscheduleAllCallbacks(),e.prototype.playDeadAnimaton.call(this,r.dead,function(){t.removeAllDeBuff(),t.removeAllBuff(),t.shadow&&cc.tween(t.shadow).to(.75,{opacity:0}).start(),cc.tween(t.node).to(.75,{opacity:0}).call(function(){t.removeAllDeBuff(),t.removeAllBuff(),d.default.getInstance().destroyMonster(t.node,t.monster_type)}).start()}),this.destroyFire(!1)},t.prototype.onXuanYunResult=function(t){t?this.startXuanYun():e.prototype.isHaveDeBuffType.call(this,u.BuffType.Vertigo)||e.prototype.getIsDie.call(this)||(this.skill_queue.length>0?(e.prototype.setEnemyState.call(this,c.Enemy_State.standby),this.startSkill(this.skill_queue.shift())):this.startIdle())},t.prototype.startXuanYun=function(){var t=this;this.destroyFire(!1),e.prototype.playSpinAnimaton.call(this,r.hurt1,!1,null,function(){e.prototype.isHaveDeBuffType.call(t,u.BuffType.Vertigo)&&!e.prototype.getIsDie.call(t)&&(t.spine.paused=!0)})},t.prototype.update=function(t){g.default.getInstance().cur_game_state!=s.GameState.Game_Playing||this.getIsDie()||(e.prototype.update.call(this,t),this.checkSkill(t),this.checkYinDao(t),this.getEnemyState()!=c.Enemy_State.skill&&(this.isHaveDeBuff(u.BuffId.Hero_XuanYun)||this.checkAtt(t)))},t.prototype.checkYinDao=function(t){var a=this;if(this.is_yindao){if(this.fire_node){var n=f.default.getInstance().getAllWall(),o=null;if(n.forEach(function(e){a.node.y>=e.getWallMaxYY()&&(o=e)}),o){var i=(e.prototype.getAttPos.call(this).y-o.getWallMaxYY())/this.once_distance+1;this.fire_node.scale>=i?(this.fire_node.scale=i,this.yindao_jishu+=t,this.yindao_jishu>=.2&&(this.yindao_jishu=0,this.fireDamage(o))):this.fire_node.scale+=this.scale_speed*t}}this.yindao_time-=t,this.yindao_time<=0&&(this.yindao_time=0,this.destroyFire(!0))}},t.prototype.checkSkill=function(e){for(var t=0;t<2;t++)this.skill_cold_down[t]>0&&(this.skill_cold_down[t]-=e)},t.prototype.checkAtt=function(e){this.att_jishu+=e,this.att_jishu>=this.att_jiange&&(this.att_jishu=this.att_jiange,this.startAttack())},i([I([cc.Node])],t.prototype,"hands",void 0),i([y],t)}(_.default);a.default=v,cc._RF.pop()},{"../../Constants":"Constants","../../Enemy/EnemyConfig":"EnemyConfig","../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../../Hero/Game/HeroConfig":"HeroConfig","../../Monster/MonsterData":"MonsterData","../../Monster/MonsterManager":"MonsterManager","../../Sound/AudioConstants":"AudioConstants","../../Wall/WallManager":"WallManager","../Boss":"Boss"}],YouLing:[function(e,t,a){"use strict";cc._RF.push(t,"da3c7Oi8y1EdIwWleRkY6nc","YouLing");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Constants"),s=e("../../Enemy/EnemyConfig"),c=e("../../Game/GameEffectsManager"),l=e("../../GameManager"),g=e("../../Hero/Game/HeroConfig"),u=e("../../Wall/WallManager"),p=e("../MonsterData"),d=e("../MonsterNewNormal"),h=cc._decorator,f=h.ccclass,_=(h.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.is_release_skill=!1,t.is_yindao=!1,t.att_node=null,t.yindao_num=0,t.add_damage_rate=0,t.cur_att_wall=null,t.light_speed=2e3,t.light_jishu=.2,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addMonsterNormalInited.call(this,this.onMonsterNormalInited),e.prototype.addMonsterNormalAttack.call(this,this.onMonsterNormalAttack),e.prototype.addMonsterNormalXuanYun.call(this,this.onMonsterNormalXuanYun),e.prototype.addMonsterNormalDeath.call(this,this.onMonsterNormalDeath),c.GameEffectsManager.getInstance().addEffectPoolById(c.GameEffectId.monster19_youling_skill),c.GameEffectsManager.getInstance().addEffectPoolById(c.GameEffectId.monster19_youling_skill_hit)},t.prototype.onMonsterNormalInited=function(){this.is_release_skill=!1,this.is_yindao=!1},t.prototype.onMonsterNormalXuanYun=function(e){e&&(this.is_yindao=!1,this.att_node&&(c.GameEffectsManager.getInstance().destroyGameEffectById(c.GameEffectId.monster19_youling_skill,this.att_node),this.att_node=null))},t.prototype.onMonsterNormalDeath=function(){this.is_yindao=!1,this.att_node&&(c.GameEffectsManager.getInstance().destroyGameEffectById(c.GameEffectId.monster19_youling_skill,this.att_node),this.att_node=null)},t.prototype.onMonsterNormalAttack=function(){return 0==this.is_release_skill?(this.is_release_skill=!0,this.is_yindao=!0,this.startSkill(),!0):!!this.is_yindao},t.prototype.startSkill=function(){var t=this,a=u.default.getInstance().getAllWall(),n=null;a.forEach(function(e){t.node.y>=e.getWallMaxYY()&&Math.abs(t.node.y-e.getWallMaxYY())<=t.base_data.AttackDistance&&(n=e)}),this.cur_att_wall=n,e.prototype.setEnemyState.call(this,s.Enemy_State.skill),e.prototype.playSpinAnimaton.call(this,"Side_Skill_Start",!1,null,function(){if(e.prototype.playSpinAnimaton.call(t,"Side_Skill_Loop",!0),0==e.prototype.getIsDie.call(t)){var a=e.prototype.getAttPos.call(t);t.att_node=c.GameEffectsManager.getInstance().createGameEffectById(c.GameEffectId.monster19_youling_skill,a),t.att_node.height=0,t.att_node.angle=180}})},t.prototype.destroyYinDao=function(){this.is_yindao=!1,this.is_release_skill=!1,this.yindao_num=0,this.startIdle(),this.setEnemyState(s.Enemy_State.move),this.att_node&&(c.GameEffectsManager.getInstance().destroyGameEffectById(c.GameEffectId.monster19_youling_skill,this.att_node),this.att_node=null)},t.prototype.lightDamage=function(t){if(l.default.getInstance().cur_game_state==r.GameState.Game_Playing){var a=cc.v2(e.prototype.getAttPos.call(this).x,t.getWallMaxYY()-32);c.GameEffectsManager.getInstance().createGameEffectById(c.GameEffectId.monster19_youling_skill_hit,a),t.beRealDamage(g.DamageType.Skill,p.StrengthType.Elite,t.getMaxHp()*(.001+this.add_damage_rate)),this.yindao_num++,this.yindao_num%2==0&&(this.add_damage_rate+=.001,this.add_damage_rate>.004&&(this.add_damage_rate=.004))}},t.prototype.update=function(t){var a=this;if(e.prototype.update.call(this,t),this.is_yindao&&l.default.getInstance().cur_game_state==r.GameState.Game_Playing&&this.att_node){if(this.isHaveDeBuff(g.BuffId.Hero_MeiMo_Active_MeiHuo))return void this.onMonsterNormalXuanYun(!0);this.att_node.setPosition(e.prototype.getAttPos.call(this));var n=u.default.getInstance().getAllWall(),o=null;if(n.forEach(function(e){a.node.y>=e.getWallMaxYY()&&(o=e)}),Math.abs(this.node.y-o.getWallMaxYY())>=this.base_data.AttackDistance+200)return void this.destroyYinDao();if(o){var i=e.prototype.getAttPos.call(this).y-o.getWallMaxYY()+16;this.att_node.height>=i?(this.att_node.height=i,this.light_jishu+=t,this.light_jishu>=.2&&(this.light_jishu=0,this.lightDamage(o))):this.att_node.height+=this.light_speed*t}}},i([f],t)}(d.default));a.default=_,cc._RF.pop()},{"../../Constants":"Constants","../../Enemy/EnemyConfig":"EnemyConfig","../../Game/GameEffectsManager":"GameEffectsManager","../../GameManager":"GameManager","../../Hero/Game/HeroConfig":"HeroConfig","../../Wall/WallManager":"WallManager","../MonsterData":"MonsterData","../MonsterNewNormal":"MonsterNewNormal"}],ZXEdit:[function(e,t,a){"use strict";cc._RF.push(t,"e7d9b72it9O7IH+pDNswKdk","ZXEdit");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r},r=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))(function(o,i){function r(e){try{c(n.next(e))}catch(t){i(t)}}function s(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(r,s)}c((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var a,n,o,i,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,n=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(s){i=[6,s],n=0}finally{a=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(a,"__esModule",{value:!0});var c=e("./Monster/MonsterNormal"),l=e("./Constants"),g=e("./GameManager"),u=e("./ZhenXingData"),p=e("./Monster/HpTextManager"),d=e("./NetWork/HttpManager"),h=cc._decorator,f=h.ccclass,_=(h.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0,cc.director.getCollisionManager().enabledDebugDraw=!0},t.prototype.start=function(){this.show(),d.HttpManager.testAES("\u53ef\u4ee5\u5417")},t.prototype.show=function(){var e=new Date,t=(new Date).getTime()/1e3,a=((new Date).toLocaleString(),t-t%86400+60*e.getTimezoneOffset()),n=new Date(1e3*a);n.getHours(),n.getMinutes(),n.getSeconds()},t.prototype.testAsync=function(){return r(this,void 0,Promise,function(){return s(this,function(){return[2,new Promise(function(e,t){t("a miao yi hou ")})]})})},t.prototype.clickBtnBossSkill=function(){g.default.getInstance().cur_game_scene=l.GameScene.game,g.default.getInstance().showBossWarning()},t.prototype.clickBtnCBoss=function(){cc.find("Canvas/HPText_Root").getComponent(p.default)},t.prototype.clickBtnTTT=function(){cc.director.loadScene("zhengxing")},t.prototype.clickBtnDownload=function(){for(var e=this.node.getChildByName("root"),t=new Array,a=cc.v2(0,0),n=new Array,o=e.children[0],i=o.childrenCount,r=0;r<i;r++){var s=o.children[r],c=cc.v2(s.x,s.y);"1"==s.name?t.push(c):"boss"==s.name?a=c:"buff"==s.name&&n.push(c)}var l=new u.ZhenXingData;l.boss_pos=a,l.buff_pos=n,l.other_pos=t;var g=JSON.stringify(l),p="ZX"+e.children[0].name;this.saveForBrowser(g,p+".json")},t.prototype.clickBtnTest=function(){var e=this.node.getChildByName("Monster_02");this.node.getChildByName("Monster_01").getComponent(c.default).setAttTarget(e)},t.prototype.clickBtnTest1=function(){},t.prototype.saveForBrowser=function(e,t){if(cc.sys.isBrowser){console.log("\u6d4f\u89c8\u5668");var a=new Blob([e],{type:"application/json"}),n=document.createElement("a");n.download=t,n.innerHTML="Download File",null!=window.webkitURL?n.href=window.webkitURL.createObjectURL(a):(n.href=window.URL.createObjectURL(a),n.onclick=destroyClickedElement,n.style.display="none",document.body.appendChild(n)),n.click()}},i([f],t)}(cc.Component));a.default=_,cc._RF.pop()},{"./Constants":"Constants","./GameManager":"GameManager","./Monster/HpTextManager":"HpTextManager","./Monster/MonsterNormal":"MonsterNormal","./NetWork/HttpManager":"HttpManager","./ZhenXingData":"ZhenXingData"}],ZhenDeDan:[function(e,t,a){"use strict";cc._RF.push(t,"fb7caVZneBDuaRemLF3xKWE","ZhenDeDan");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Game/GameEffectsManager"),s=e("../Bullect"),c=cc._decorator,l=c.ccclass,g=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addCollisionMonsterListen.call(this,this.onCollisionMonster)},t.prototype.onCollisionMonster=function(e){e&&(e.beFlashInjured(this.gongji_data).getDamageNum()>0&&r.GameEffectsManager.getInstance().createGameEffectById(r.GameEffectId.zhen_de_attack_hit,this.getHeadPos()),this.destroySelf())},i([l],t)}(s.default));a.default=g,cc._RF.pop()},{"../../../Game/GameEffectsManager":"GameEffectsManager","../Bullect":"Bullect"}],ZhenDe:[function(e,t,a){"use strict";cc._RF.push(t,"bf169liwfBLrK8a6DXSYviX","ZhenDe");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../../Constants"),s=e("../../../Game/FightingManager"),c=e("../../../Game/GameEffectsManager"),l=e("../../../Game/SkillManager"),g=e("../../../Game/SkyManager"),u=e("../../../GameManager"),p=e("../../../Monster/Monster"),d=e("../../../Monster/MonsterData"),h=e("../../../Sound/AudioConstants"),f=e("../../../Tools/MyTool"),_=e("../../../Wall/WallManager"),m=e("../../Data/HeroManager"),y=e("../BuffData"),I=e("../Hero"),v=e("../HeroConfig"),M=e("./ZhenDeDan"),C=cc._decorator,S=C.ccclass,P=(C.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.zhiliao_jishu=0,t.zhiliao_time=0,t.cur_release_skill=v.SkillType.Null,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.zhen_de_attack,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.zhen_de_attack_hit,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.zhen_de_beidong_skill,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.zhen_de_beidong_skill_wall,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.zhen_de_active_skill_1,1),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.zhen_de_active_skill_2,2),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.zhen_de_active_skill_3,2),e.prototype.addLoadByGameEffectId.call(this,c.GameEffectId.monster_zhiliao_halo_hit,2),this.addSkillListen(this.useSkill),this.addAttackListen(this.normalAttack),this.addXuanYunListen(this.onXuanYunResult),this.addGameWinListen(this.resetSkill)},t.prototype.start=function(){e.prototype.start.call(this),this.is_need_check_distance=!1,e.prototype.setSkillTipSize.call(this,1680,600),this.zhiliao_time=this.hero_data.getSkillValue1(v.SkillType.Passive_1)},t.prototype.resetSkill=function(){this.zhiliao_jishu=0},t.prototype.onXuanYunResult=function(e){e?this.unscheduleAllCallbacks():this.skill_queue.length>0?this.startSkill(this.skill_queue.shift()):this.setHeroState(v.Hero_State.idle,v.GongJi_FangXiang.zhong)},t.prototype.createZhenDeDan=function(e,t,a,n,o){s.default.getInstance().createGameEffectById(e,t).getComponent(M.default).init(e,a,n,o)},t.prototype.normalAttack=function(e){u.default.getInstance().cur_game_state==r.GameState.Game_Playing&&(this.is_can_gongji=!1,this.startAttack(e))},t.prototype.startAttack=function(t){var a=this,n=t.getComponent(p.default).getSheShouPos(),o=this.getFangXiangByPos(n),i=new d.KeyFrameData;i.name="Attack",i.callback=function(){u.default.getInstance().sound_manager.playSound(h.SoundIndex.YX_ZDAttack);var t=a.getCreateBulletPos(),o=n.sub(t),i=Math.atan2(o.y,o.x),r=e.prototype.getGongJiData.call(a,v.DamageType.Normal,!0,v.SkillType.Null);a.createZhenDeDan(c.GameEffectId.zhen_de_attack,t,a.bullet_speed,i,r),a.is_double_attack?a.resetNormalAttack():a.gongji_jishu=0},e.prototype.setHeroState.call(this,v.Hero_State.attack,o,[i],function(){a.setHeroState(v.Hero_State.idle,a.cur_fangxiang),a.checkSkill2()})},t.prototype.checkSkill2=function(){if(this.hero_data.getIsUnlock(v.SkillType.Passive_2)){var e=this.hero_data.getSkillValue1(v.SkillType.Passive_2);e&&Math.random()<e&&this.startSkill2()}},t.prototype.startSkill1=function(){var t=this;if(e.prototype.getHeroState.call(this)==v.Hero_State.idle&&0==e.prototype.isHaveDeBuff.call(this,v.BuffId.Monster_XuanYun)){this.cur_release_skill=v.SkillType.Passive_1;var a=new d.KeyFrameData;a.name="Passive1",a.callback=function(){t.cur_release_skill=v.SkillType.Null,t.gongji_jishu=0;var e=new y.BuffData;e.buff_id=v.BuffId.Hero_ZhenDe_JiaXueJianShang,e.buff_type=v.BuffType.Gain,e.buff_value=[t.hero_data.getSkillValue2(v.SkillType.Passive_1)*_.default.getInstance().getMainWall().getMaxHp(),t.hero_data.getSkillValue3(v.SkillType.Passive_1)],e.remain_time=5,e.recovery_jiange_time=1,_.default.getInstance().getMainWall().addBuff(e)},e.prototype.setHeroStateAndAnimation.call(this,v.Hero_State.skill,"Passive1",!1,[a],function(){t.setHeroState(v.Hero_State.idle,t.cur_fangxiang),t.skill_queue.length>0&&t.startSkill(t.skill_queue.shift())})}else this.skill_queue.push(v.SkillType.Passive_1)},t.prototype.startSkill2=function(){var t=this;if(e.prototype.getHeroState.call(this)==v.Hero_State.idle&&0==e.prototype.isHaveDeBuff.call(this,v.BuffId.Monster_XuanYun)){this.cur_release_skill=v.SkillType.Passive_2;var a=new d.KeyFrameData;a.name="Passive1",a.callback=function(){t.cur_release_skill=v.SkillType.Null,t.gongji_jishu=0;var e=m.HeroManager.getInstance().getRandHeroId(u.default.getInstance().cur_game_mode,t.hero_type,u.default.getInstance().cur_team_list);if(e!=v.Hero_Type.NULL){var a=new y.BuffData;a.buff_id=v.BuffId.Hero_ZhenDe_BaoJiMingZhongLv,a.buff_type=v.BuffType.Gain,a.buff_value=[t.hero_data.getSkillValue2(v.SkillType.Passive_2)],a.remain_time=5,a.game_effect_id=c.GameEffectId.Null,u.default.getInstance().all_hero.get(e).addBuff(a),g.default.getInstance().createGameEffectById(c.GameEffectId.zhen_de_beidong_skill,u.default.getInstance().all_hero.get(e).node.getPosition())}},e.prototype.setHeroStateAndAnimation.call(this,v.Hero_State.skill,"Passive1",!1,[a],function(){t.setHeroState(v.Hero_State.idle,t.cur_fangxiang),t.skill_queue.length>0&&t.startSkill(t.skill_queue.shift())})}else this.skill_queue.push(v.SkillType.Passive_2)},t.prototype.startSkill=function(e){switch(e){case v.SkillType.Passive_1:this.startSkill1();break;case v.SkillType.Passive_2:this.startSkill2()}},t.prototype.useSkill=function(e){var t=this;return this.removeAllDeBuff(),l.default.getInstance().releaseSkill(function(){t.startSelfXuLi(e)},this.node),this.cur_release_skill!=v.SkillType.Null&&this.skill_queue.push(this.cur_release_skill),0},t.prototype.startSelfXuLi=function(e){var t=this,a=cc.find("Canvas/Hero_Root"),n=new d.KeyFrameData;n.name="FaShe",n.callback=function(){l.default.getInstance().setTimeStop(!1),t.node.parent=a,t.node.zIndex=2,t.startLaunch(e)},this.setHeroState(v.Hero_State.skill,v.GongJi_FangXiang.zhong,[n],function(){t.resetGongJiJiShu(),t.setHeroState(v.Hero_State.idle,v.GongJi_FangXiang.zhong),t.skill_queue.length>0&&t.startSkill(t.skill_queue.shift())}),this.spine.timeScale=r.JiaSu,u.default.getInstance().sound_manager.playSound(h.SoundIndex.YX_ZDSkill)},t.prototype.startLaunch=function(){var t=this;e.prototype.setAttSpineScale.call(this);var a=this.hero_data.ExclusiveWeaponSkillValue_1,n=0;a&&a>0&&(n=a);var o=g.default.getInstance().createGameEffectById(c.GameEffectId.zhen_de_active_skill_1,cc.v2(this.node.x,this.node.y+640));cc.tween(o).to(.1*u.default.getInstance().getGameRate(),{y:this.node.y+this.xuanyun_pos.y}).call(function(){c.GameEffectsManager.getInstance().destroyGameEffectById(c.GameEffectId.zhen_de_active_skill_1,o),c.GameEffectsManager.getInstance().createGameEffectById(c.GameEffectId.zhen_de_active_skill_2,o.getPosition());var e=u.default.getInstance().cur_team_list,a=e.indexOf(t.hero_type),i=t.hero_data.getSkillValue1(v.SkillType.Active),r=t.hero_data.getSkillValue2(v.SkillType.Active);f.default.randomSceneShakeSmall(),_.default.getInstance().getMainWall().removeAllDeBuff(),u.default.getInstance().all_hero.forEach(function(o,s){o.removeAllDeBuff();var l=e.indexOf(s);if(a!=l&&Math.abs(a-l)<=1){var g=new y.BuffData;g.buff_id=v.BuffId.Hero_ZhenDe_Gongsu,g.buff_type=v.BuffType.Gain,g.game_effect_id=c.GameEffectId.zhen_de_active_skill_3,g.buff_value=[i],g.remain_time=r,o.addBuff(g)}n>0&&o.hero_type!=t.hero_type&&o.changeCD(-n)}),_.default.getInstance().getMainWall().addShield(t.hero_type,v.ShieldType.All,10,.1*t.hero_data.total_hp,c.GameEffectId.zhen_de_beidong_skill_wall)}).start(),l.default.getInstance().setIsSkillState(!1)},t.prototype.update=function(t){u.default.getInstance().cur_game_state==r.GameState.Game_Playing&&(e.prototype.update.call(this,t),this.zhiliao_jishu+=t,this.zhiliao_jishu>=this.zhiliao_time&&(this.zhiliao_jishu=0,this.startSkill1()))},i([S],t)}(I.default));a.default=P,cc._RF.pop()},{"../../../Constants":"Constants","../../../Game/FightingManager":"FightingManager","../../../Game/GameEffectsManager":"GameEffectsManager","../../../Game/SkillManager":"SkillManager","../../../Game/SkyManager":"SkyManager","../../../GameManager":"GameManager","../../../Monster/Monster":"Monster","../../../Monster/MonsterData":"MonsterData","../../../Sound/AudioConstants":"AudioConstants","../../../Tools/MyTool":"MyTool","../../../Wall/WallManager":"WallManager","../../Data/HeroManager":"HeroManager","../BuffData":"BuffData","../Hero":"Hero","../HeroConfig":"HeroConfig","./ZhenDeDan":"ZhenDeDan"}],ZhenXingData:[function(e,t,a){"use strict";cc._RF.push(t,"a71c8loMUFCVIblgVedL3tE","ZhenXingData"),Object.defineProperty(a,"__esModule",{value:!0}),a.EnemyData=a.ZhenXingData=void 0;var n=e("./Enemy/EnemyConfig");a.ZhenXingData=function(){this.boss_pos=cc.v2(0,0),this.buff_pos=[],this.other_pos=[]};a.EnemyData=function(){this.enemy_id=n.Enemy_Type.mengshe,this.is_boss=!1,this.is_buff=!1},cc._RF.pop()},{"./Enemy/EnemyConfig":"EnemyConfig"}],"crypto-d":[function(e,t){"use strict";cc._RF.push(t,"135e5eXxZxL2pAfgWrOfGNZ","crypto-d"),cc._RF.pop()},{}],endlesschallenges:[function(e,t,a){"use strict";cc._RF.push(t,"687a9ikqIlOgIAtNmtKYksa","endlesschallenges");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../.././NetWork/HttpManager"),s=e("../../Activity/BossChallenge"),c=e("../../Activity/EndlessLevels"),l=e("../../Constants"),g=e("../../GameManager"),u=e("../../Monster/Data/MonsterConfigure"),p=e("../../Monster/Data/MonsterSkill"),d=e("../../Monster/MonsterData"),h=e("../../multiLanguage/FollowConstants"),f=e("../../multiLanguage/FollowManager"),_=e("../../multiLanguage/LanguageManager"),m=e("../../multiLanguage/TextLanguage"),y=e("../../Prop/PropManager"),I=e("../../RankingList/RankingList"),v=e("../../Sound/AudioConstants"),M=e("../../Storage/StorageConfig"),C=e("../../Storage/StorageManager"),S=e("../../UI/home/ToPlayMainUi"),P=e("../../UI/UIComponent"),k=e("../../UI/UIConfig"),b=e("../../UI/UIManager"),T=e("../../UserData"),B=e("../../UserInfo/UserInfo"),w=e("../voidcrack/MoppingVoid"),N=e("../voidcrack/VoidScene"),L=e("./BossWeeklyReward"),D=e("./MoppingUp"),E=e("./playinstructions"),R=e("./purchasesnumbe"),G=e("./rewarddisplay"),x=e("./RogueGiftInformation"),A=e("./Shop"),O=cc._decorator,H=O.ccclass,F=O.property,j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boss=null,t.BossRush_Btn_Rank=null,t.BossRush_Btn_Bonus=null,t.Maze_Btn_Shop=null,t.BossRush_Btn_Record=null,t.xvkon=null,t.BossRush_Tips=null,t.heroShadow=null,t.pos=null,t.bt=null,t.Common_Btn_Back=null,t.btnno=null,t.btnyes=null,t.RankingSelf=null,t.one=null,t.Promotion=null,t.Waves=null,t.num=null,t.jineng=null,t.bossname=null,t.type=0,t.copy_ui=null,t.text=[100126,100128,100129],t.bjspr=[],t.bjsprwujin=null,t.bjsprxvkon=null,t.bbg=null,t.bossspriteid=0,t.SkillDescription=null,t.bt1=null,t.BossRush_Time_Bg=null,t.time=null,t.content=null,t.PageView=null,t}return o(t,e),t.prototype.initUi=function(e){this.type=e,this.des(),this.Refresh()},t.prototype.numberRefresh=function(){var e,t,a;if(2==this.type?(t=C.TheStorageManager.getInstance().getNumber(M.StorageKey.TotalUnlimitedChallengeTimes,0),e=C.TheStorageManager.getInstance().getNumber(M.StorageKey.UnlimitedChallengeTimes,3),a=c.EndlessLevelsManager.getInstance().getMaxWave()):3==this.type?(t=C.TheStorageManager.getInstance().getNumber(M.StorageKey.TotalBossChallengeTimes,0),e=C.TheStorageManager.getInstance().getNumber(M.StorageKey.BossChallengeTimes,3),a=C.TheStorageManager.getInstance().getNumber(M.StorageKey.BossChallengeDamage,-1)):4==this.type&&(e=C.TheStorageManager.getInstance().getNumber(M.StorageKey.VoidCrackChallengeTimes,3)),4!=this.type)this.btnno.active=t>=1&&e>0&&a>-1;else{var n=this.PageView.getComponent(cc.PageView).getCurrentPageIndex(),o=C.TheStorageManager.getInstance().getNumber(M.StorageKey.VoidCrackChallengeDamage,0),i=C.TheStorageManager.getInstance().getNumber(M.StorageKey.VoidCrackChallengeTimes,3);o+1>=n?n==o+1?(this.btnno.active=!1,this.btnyes.active=!0):(this.btnno.active=i>0,this.btnyes.active=!0):(this.btnno.active=!1,this.btnyes.active=!1)}var r=this.btnyes.getChildByName("red"),s=_.default.getInstance().getStrByTextId(820009);console.log("++++++++++",s),s=s.replace("~",""+e),0==e?(s=s.replace("@","#FF4746"),r.active=!1):(s=s.replace("@","#FFFFFF"),r.active=!0),this.num.getComponent(cc.RichText).string=""+s},t.prototype.Refresh=function(){var e=this,t=[];if(this.SkillDescription.active=!1,this.SkillDescription.getChildByName("Common_TextBG").active=!1,this.numberRefresh(),this.BossRush_Btn_Record.active=!1,this.xvkon.active=!1,this.Waves.active=!0,this.Promotion.active=!0,this.one.active=!0,this.RankingSelf.active=!0,this.BossRush_Btn_Rank.active=!0,this.BossRush_Btn_Bonus.active=!0,this.Maze_Btn_Shop.active=!1,2==this.type){f.default.getInstance().followEvent(h.Follow_Type.\u65e0\u5c3d\u6311\u6218\u9875\u9762\u5c55\u793a\u6b21\u6570),this.bbg.getComponent(cc.Sprite).spriteFrame=this.bjsprwujin,this.boss.active=!1;var a=c.EndlessLevelsManager.getInstance().getMaxWave()-31;a<1&&(a=0),this.bbg.y=0;var n=c.EndlessLevelsManager.getInstance().getRound(a);a=c.EndlessLevelsManager.getInstance().getWave(n),C.TheStorageManager.getInstance().setItem(M.StorageKey.UnlimitedChallengeDamage,a),t=c.EndlessLevelsManager.getInstance().getEliteMonster(n).concat(c.EndlessLevelsManager.getInstance().getNormalMonster(n)),this.Waves.active=!0;var o=_.default.getInstance().getStrByTextId(800005);o=o.replace("~",""+(a+1)),this.Waves.getComponent(cc.RichText).string=o,this.bt.getComponent(m.default).setTextId(800001),this.bt1.getComponent(m.default).setTextId(800003),this.BossRush_Time_Bg.active=!1,this.BossRush_Btn_Bonus.active=!0,this.time.active=!1,this.btnyes.active=!0}else if(3==this.type){this.btnyes.active=!0,f.default.getInstance().followEvent(h.Follow_Type.BOSS\u6311\u6218\u9875\u9762\u5c55\u793a\u6b21\u6570),this.boss.active=!0;var i=B.UserInfo.getInstance().RotationOrder;this.Waves.active=!1;var l=1e3*i+1;this.bbg.getComponent(cc.Sprite).spriteFrame=this.bjspr[s.BossChallengeManager.getInstance().getChapterScene(l)],t=t.concat(s.BossChallengeManager.getInstance().getMonsterId(l)),this.bbg.y=0;for(var p=u.MonsterConfigureManager.getInstance().getSkillNum(t[0]),I=0;I<this.jineng.children.length;I++)if(I<p){this.jineng.children[I].active=!0;var v=1e3*t[0]+100*(I+1)+1;this.bossspriteid=t[0],this.jineng.children[I].getComponent(cc.Sprite).spriteFrame=this.copy_ui.getSpriteFrame("MonsterSkill_"+v)}else this.jineng.children[I].active=!1;this.bt.getComponent(m.default).setTextId(820001),this.bt1.getComponent(m.default).setTextId(820005),this.BossRush_Time_Bg.active=!0,this.time.active=!0,this.BossRush_Btn_Bonus.active=!0;var S=B.UserInfo.getInstance().damageNumberLast,P=-1;if(S>-1){var k={uid:T.default.getInstance().getUserID(),damageNumberLast:-1};B.UserInfo.getInstance().damageNumberLast=-1,r.HttpManager.post(r.AccessName.updateUserInfoDNL,JSON.stringify(k)).then(function(){0==S?P=7:1==S?P=1:2==S?P=2:3==S?P=3:S<=10&&S>=4?P=4:S<=50&&S>=11?P=5:S<=100&&S>=51&&(P=6);for(var e=L.BossWeeklyRewardManager.getInstance().getFirstRewardArr(P),t=[],a=0;a<e.length;a++){var n=y.PropManager.getInstance().createPropItem(e[a].reward_id,e[a].reward_num);t.push(n)}g.default.getInstance().showMultipleGetTip(t)}).catch(function(e){cc.error(e)})}}else if(4==this.type){this.boss.active=!1,this.xvkon.active=!0,this.Waves.active=!1,this.Promotion.active=!1,this.one.active=!1,this.RankingSelf.active=!1,this.BossRush_Btn_Rank.active=!1,this.BossRush_Btn_Bonus.active=!1,this.Maze_Btn_Shop.active=!0,this.BossRush_Time_Bg.active=!1,this.time.active=!1,this.bbg.y=280,this.bbg.getComponent(cc.Sprite).spriteFrame=this.bjsprxvkon,this.bt.getComponent(m.default).setTextId(830001),this.bt1.getComponent(m.default).setTextId(820005);for(var b=0;b<this.content.children.length;b++){var w=b;0==w&&(w=8),9==w&&(w=1);var N=x.RogueGiftInformationManager.getInstance().getPropID_1(w);y.PropManager.getInstance().createPropItem(N,0).parent=this.content.children[b].children[0];var D=x.RogueGiftInformationManager.getInstance().getPropID_2(w);y.PropManager.getInstance().createPropItem(D,0).parent=this.content.children[b].children[1];var E=x.RogueGiftInformationManager.getInstance().getPropID_3(w);y.PropManager.getInstance().createPropItem(E,0).parent=this.content.children[b].children[2]}for(var R=0;R<this.pos.children.length;R++)this.heroShadow.children[R].active=!1,this.pos.children[R].active=!1;if(1==(I=this.PageView.getComponent(cc.PageView).getCurrentPageIndex())){this.bt1.getComponent(m.default).setTextId(100053),this.bt1.getComponent(m.default).setReplaceValue("~",I+"");var G=C.TheStorageManager.getInstance().getNumber(M.StorageKey.VoidCrackChallengeDamage,0),A=C.TheStorageManager.getInstance().getNumber(M.StorageKey.VoidCrackChallengeTimes,3);G+1>=I?I==G+1?(this.btnno.active=!1,this.btnyes.active=!0):(this.btnno.active=A>0,this.btnyes.active=!0):(this.btnno.active=!1,this.btnyes.active=!1)}else this.content.x=-825,this.PageView.getComponent(cc.PageView).scrollToPage(1,.01);return}var O=function(a){if(H.heroShadow.children[a].active=!1,H.pos.children[a].active=!1,a<t.length){var n="monster/ui/Monster_"+u.MonsterConfigureManager.getInstance().getMonsterClass(t[a]),o=null;cc.resources.load(n,cc.Prefab,function(n,i){if(n)cc.log(n);else{(o=cc.instantiate(i)).setPosition(0,0,0);var r=t[a];o.scale=u.MonsterConfigureManager.getInstance().getScale(r);var s=u.MonsterConfigureManager.getInstance().getStrengthType(r);o.parent=e.pos.children[a],e.heroShadow.children[a].active=!0,3==s&&(e.heroShadow.children[a].setScale(1.3,1.3),o.scale=1*u.MonsterConfigureManager.getInstance().getScale(r),o.getComponent(sp.Skeleton).setAnimation(0,d.MonsterActionName.Idle,!0)),2==s&&(e.heroShadow.children[a].setScale(.7,.7),o.scale=1*u.MonsterConfigureManager.getInstance().getScale(r),o.getComponent(sp.Skeleton).setSkin(d.MonsterFaceName.SideR+u.MonsterConfigureManager.getInstance().getSkin(r)),o.getComponent(sp.Skeleton).setAnimation(0,d.MonsterFaceName.SideR+"_"+d.MonsterActionName.Idle,!0)),1==s&&(e.heroShadow.children[a].setScale(.4,.4),o.scale=1*u.MonsterConfigureManager.getInstance().getScale(r),o.getComponent(sp.Skeleton).setSkin(d.MonsterFaceName.SideR+u.MonsterConfigureManager.getInstance().getSkin(r)),o.getComponent(sp.Skeleton).setAnimation(0,d.MonsterFaceName.SideR+"_"+d.MonsterActionName.Idle,!0))}}),H.pos.children[a].active=!0}},H=this;for(I=0;I<this.pos.children.length;I++)O(I);var F=-1,j=0;2==this.type&&(j=c.EndlessLevelsManager.getInstance().getMaxWave()),3==this.type&&(j=s.BossChallengeManager.getInstance().getMaxDamageNumber());var U=this.RankingSelf.getChildByName("CombatPower"),J=this.RankingSelf.getChildByName("SerialNo"),W=this.RankingSelf.getChildByName("name"),V=this.RankingSelf.getChildByName("headPortrait").getChildByName("btnAvatar");U.getComponent(m.default).setTextId(this.text[this.type-1]),U.getComponent(m.default).setReplaceValue("~",j+""),this.Promotion.active=!1,this.one.active=!1,J.active=!1,this.RankingSelf.getChildByName("Notlisted").active=!1,this.RankingSelf.getComponent(cc.Sprite).spriteFrame=this.copy_ui.getSpriteFrame("BossRush_Rank_4"),r.HttpManager.post(r.AccessName.leaderboardByUser,this.getLeaderboardByUserJsonString(this.type),!0).then(function(t){for(var a=t.length,n=0;n<a;n++)t[n].uid==T.default.getInstance().getUserID()&&(F=n+1);if(1==F)e.one.active=!0;else{var o=_.default.getInstance().getStrByTextId(800004);2==e.type?o=_.default.getInstance().getStrByTextId(800004):3==e.type&&(o=_.default.getInstance().getStrByTextId(820007)),t.length>0&&(o=-1==F?(o=o.replace("~x",""+t[a-1].value)).replace("~y",""+a):(o=o.replace("~x",""+t[F-2].value)).replace("~y",""+(F-1)),e.Promotion.getComponent(cc.RichText).string=o,e.Promotion.active=!0)}F<=3&&F>=1?(J.active=!1,e.RankingSelf.getComponent(cc.Sprite).spriteFrame=e.copy_ui.getSpriteFrame("BossRush_Rank_"+F)):(F>=1&&(J.active=!0),e.RankingSelf.getComponent(cc.Sprite).spriteFrame=e.copy_ui.getSpriteFrame("BossRush_Rank_4")),-1==F?e.RankingSelf.getChildByName("Notlisted").active=!0:(J.getComponent(cc.Label).string=""+F,e.RankingSelf.getChildByName("Notlisted").active=!1)});var q=T.default.getInstance().getUserName(),z=T.default.getInstance().getUserAvatar();W.getComponent(cc.Label).string=""+q,V.getComponent(cc.Sprite).spriteFrame=y.PropManager.getInstance().getSpheadPortraitType(z)},t.prototype.des=function(){if(4==this.type)for(var e=0;e<this.content.children.length;e++)for(var t=0;t<3;t++)this.content.children[e].children[t].childrenCount>0&&this.content.children[e].children[t].destroyAllChildren();else for(t=0;t<this.pos.children.length;t++)this.pos.children[t].children.length>0&&this.pos.children[t].destroyAllChildren()},t.prototype.clickBtnMaze_Change=function(e,t){var a=this.PageView.getComponent(cc.PageView).getCurrentPageIndex();0==t&&a--,1==t&&a++,this.PageView.getComponent(cc.PageView).scrollToPage(a,.3)},t.prototype.PageViewcallback=function(){var e=this.PageView.getComponent(cc.PageView).getCurrentPageIndex();0==e&&(this.content.x=-4675,this.PageView.getComponent(cc.PageView).scrollToPage(8,.01)),9==e&&(this.content.x=-825,this.PageView.getComponent(cc.PageView).scrollToPage(1,.01)),e=this.PageView.getComponent(cc.PageView).getCurrentPageIndex(),this.bt1.getComponent(m.default).setTextId(100053),this.bt1.getComponent(m.default).setReplaceValue("~",e+"");var t=C.TheStorageManager.getInstance().getNumber(M.StorageKey.VoidCrackChallengeDamage,0),a=C.TheStorageManager.getInstance().getNumber(M.StorageKey.VoidCrackChallengeTimes,3);t+1>=e?e==t+1?(this.btnno.active=!1,this.btnyes.active=!0):(this.btnno.active=a>0,this.btnyes.active=!0):(this.btnno.active=!1,this.btnyes.active=!1)},t.prototype.clickBtnClose=function(){this.des(),g.default.getInstance().sound_manager.playSound(v.SoundIndex.click),this.onClose()},t.prototype.clickBtnPlayinstructions=function(){var e=this;b.UIManager.getInstance().showUiDialog(k.UIPath.PlayinsTructions,k.UILayerLevel.Two,{onCompleted:function(t){t.getComponent(E.default).init({onClose:function(){}}),t.getComponent(E.default).initUi(e.type)}})},t.prototype.clickBtnRewardDisplay=function(){var e=this;b.UIManager.getInstance().showUiDialog(k.UIPath.RewardDisplay,k.UILayerLevel.Two,{onCompleted:function(t){t.getComponent(G.default).init({onClose:function(){}}),t.getComponent(G.default).initUi(e.type)}})},t.prototype.clickBtnRankingList=function(){var e=this;2==this.type&&f.default.getInstance().followEvent(h.Follow_Type.\u65e0\u5c3d\u6311\u6218_\u6392\u884c\u699c\u70b9\u51fb\u6b21\u6570),3==this.type&&f.default.getInstance().followEvent(h.Follow_Type.BOSS\u6311\u6218_\u6392\u884c\u699c\u70b9\u51fb\u6b21\u6570),b.UIManager.getInstance().showUiDialog(k.UIPath.RankingList,k.UILayerLevel.Two,{onCompleted:function(t){t.getComponent(I.default).initUi(e.type)}})},t.prototype.clickBtnSkillDescription=function(e,t){this.SkillDescription.x=0,e.currentTarget.x<0&&(this.SkillDescription.x=e.currentTarget.x+173),e.currentTarget.x>0&&(this.SkillDescription.x=e.currentTarget.x-173),this.SkillDescription.active=!0;var a=1e3*this.bossspriteid+100*t+1;this.SkillDescription.getChildByName("bt").getComponent(m.default).setTextId(p.MonsterSkillManager.getInstance().getSkillIntro(a)),this.scheduleOnce(function(){this.SkillDescription.getChildByName("Common_TextBG").height=this.SkillDescription.getChildByName("bt").height+50,this.SkillDescription.getChildByName("Common_TextBG").active=!0},1e-4)},t.prototype.clickBtnStartChallenge=function(){var e,t,a=this;2==this.type?(e=C.TheStorageManager.getInstance().getNumber(M.StorageKey.UnlimitedChallengeTimes,3),t=C.TheStorageManager.getInstance().getNumber(M.StorageKey.BuyUnlimitedChallengeTimes,3)):3==this.type?(e=C.TheStorageManager.getInstance().getNumber(M.StorageKey.BossChallengeTimes,3),t=C.TheStorageManager.getInstance().getNumber(M.StorageKey.BuyBossChallengeTimes,3)):4==this.type&&(e=C.TheStorageManager.getInstance().getNumber(M.StorageKey.VoidCrackChallengeTimes,3),t=C.TheStorageManager.getInstance().getNumber(M.StorageKey.BuyVoidCrackChallengeTimes,3)),e>0?(this.clickBtnClose(),2==this.type?(g.default.getInstance().cur_game_mode=l.GameMode.Endless,b.UIManager.getInstance().showUiDialog(k.UIPath.ToPlay,k.UILayerLevel.One,{onCompleted:function(e){e.getComponent(S.default).init({onClose:function(){}})}})):3==this.type?(g.default.getInstance().cur_game_mode=l.GameMode.Boss_Challenge,b.UIManager.getInstance().showUiDialog(k.UIPath.ToPlay,k.UILayerLevel.One,{onCompleted:function(e){e.getComponent(S.default).init({onClose:function(){}})}})):4==this.type&&(e--,C.TheStorageManager.getInstance().setItem(M.StorageKey.VoidCrackChallengeTimes,e),b.UIManager.getInstance().showUiDialog(k.UIPath.VoidScene,k.UILayerLevel.One,{onCompleted:function(e){e.getComponent(N.default).init({onClose:function(){}});var t=a.PageView.getComponent(cc.PageView).getCurrentPageIndex();e.getComponent(N.default).initUi(t,1,2)}}))):t>0?this.clickBtnPurchasesNumbe():g.default.getInstance().showMessage(_.default.getInstance().getStrByTextId(100120),3)},t.prototype.clickBtnPurchasesNumbe=function(){var e=this;b.UIManager.getInstance().showUiDialog(k.UIPath.PurchasesNumbe,k.UILayerLevel.Two,{onCompleted:function(t){t.getComponent(R.default).init({onClose:function(){e.numberRefresh()}}),t.getComponent(R.default).initUi(e.type)}})},t.prototype.clickBtnMoppingUp=function(){var e=this;4==this.type?b.UIManager.getInstance().showUiDialog(k.UIPath.MoppingVoid,k.UILayerLevel.Two,{onCompleted:function(t){t.getComponent(w.default).init({onClose:function(){e.numberRefresh()}});var a=e.PageView.getComponent(cc.PageView).getCurrentPageIndex();t.getComponent(w.default).initUi(a)}}):b.UIManager.getInstance().showUiDialog(k.UIPath.MoppingUp,k.UILayerLevel.Two,{onCompleted:function(t){t.getComponent(D.default).init({onClose:function(){e.numberRefresh()}}),t.getComponent(D.default).initUi(e.type,e.node)}})},t.prototype.clickBtnShop=function(){b.UIManager.getInstance().showUiDialog(k.UIPath.Shop,k.UILayerLevel.Two,{onCompleted:function(e){e.getComponent(A.default).init({onClose:function(){}}),e.getComponent(A.default).initUi()}})},t.prototype.clickBtnCloseSkillDescription=function(){this.SkillDescription.getChildByName("Common_TextBG").active=!1,this.SkillDescription.active=!1},t.prototype.getLeaderboardByUserJsonString=function(e){return T.default.getInstance().getUserID(),JSON.stringify({limit:100,type:e})},t.prototype.setRankJsonString=function(){var e=T.default.getInstance().getUserID();return console.log("======",e),JSON.stringify({uid:e,damageNumberLast:-1})},i([F(cc.Node)],t.prototype,"boss",void 0),i([F(cc.Node)],t.prototype,"BossRush_Btn_Rank",void 0),i([F(cc.Node)],t.prototype,"BossRush_Btn_Bonus",void 0),i([F(cc.Node)],t.prototype,"Maze_Btn_Shop",void 0),i([F(cc.Node)],t.prototype,"BossRush_Btn_Record",void 0),i([F(cc.Node)],t.prototype,"xvkon",void 0),i([F(cc.Node)],t.prototype,"BossRush_Tips",void 0),i([F(cc.Node)],t.prototype,"heroShadow",void 0),i([F(cc.Node)],t.prototype,"pos",void 0),i([F(cc.Node)],t.prototype,"bt",void 0),i([F(cc.Node)],t.prototype,"Common_Btn_Back",void 0),i([F(cc.Node)],t.prototype,"btnno",void 0),i([F(cc.Node)],t.prototype,"btnyes",void 0),i([F(cc.Node)],t.prototype,"RankingSelf",void 0),i([F(cc.Node)],t.prototype,"one",void 0),i([F(cc.Node)],t.prototype,"Promotion",void 0),i([F(cc.Node)],t.prototype,"Waves",void 0),i([F(cc.Node)],t.prototype,"num",void 0),i([F(cc.Node)],t.prototype,"jineng",void 0),i([F(cc.Node)],t.prototype,"bossname",void 0),i([F(cc.SpriteAtlas)],t.prototype,"copy_ui",void 0),i([F(cc.SpriteFrame)],t.prototype,"bjspr",void 0),i([F(cc.SpriteFrame)],t.prototype,"bjsprwujin",void 0),i([F(cc.SpriteFrame)],t.prototype,"bjsprxvkon",void 0),i([F(cc.Node)],t.prototype,"bbg",void 0),i([F(cc.Node)],t.prototype,"SkillDescription",void 0),i([F(cc.Node)],t.prototype,"bt1",void 0),i([F(cc.Node)],t.prototype,"BossRush_Time_Bg",void 0),i([F(cc.Node)],t.prototype,"time",void 0),i([F(cc.Node)],t.prototype,"content",void 0),i([F(cc.Node)],t.prototype,"PageView",void 0),i([H],t)}(P.default);a.default=j,cc._RF.pop()},{"../.././NetWork/HttpManager":"HttpManager","../../Activity/BossChallenge":"BossChallenge","../../Activity/EndlessLevels":"EndlessLevels","../../Constants":"Constants","../../GameManager":"GameManager","../../Monster/Data/MonsterConfigure":"MonsterConfigure","../../Monster/Data/MonsterSkill":"MonsterSkill","../../Monster/MonsterData":"MonsterData","../../Prop/PropManager":"PropManager","../../RankingList/RankingList":"RankingList","../../Sound/AudioConstants":"AudioConstants","../../Storage/StorageConfig":"StorageConfig","../../Storage/StorageManager":"StorageManager","../../UI/UIComponent":"UIComponent","../../UI/UIConfig":"UIConfig","../../UI/UIManager":"UIManager","../../UI/home/ToPlayMainUi":"ToPlayMainUi","../../UserData":"UserData","../../UserInfo/UserInfo":"UserInfo","../../multiLanguage/FollowConstants":"FollowConstants","../../multiLanguage/FollowManager":"FollowManager","../../multiLanguage/LanguageManager":"LanguageManager","../../multiLanguage/TextLanguage":"TextLanguage","../voidcrack/MoppingVoid":"MoppingVoid","../voidcrack/VoidScene":"VoidScene","./BossWeeklyReward":"BossWeeklyReward","./MoppingUp":"MoppingUp","./RogueGiftInformation":"RogueGiftInformation","./Shop":"Shop","./playinstructions":"playinstructions","./purchasesnumbe":"purchasesnumbe","./rewarddisplay":"rewarddisplay"}],"k-cocos":[function(e,t){"use strict";cc._RF.push(t,"1b2b4uxsANOWI8VXNJ5sgPB","k-cocos"),function(){var e=window.cc;e.director._kSpeed=1;var t=e.Director.prototype.calculateDeltaTime;e.director.calculateDeltaTime=function(a){t.call(e.director,a),e.director._deltaTime*=e.director._kSpeed},e.kSpeed=function(t){e.director._kSpeed=t},e.kGetSpeed=function(){return e.director._kSpeed}}(),cc._RF.pop()},{}],levelnode:[function(e,t,a){"use strict";cc._RF.push(t,"22d3eHD8bZEu7kFmC0UvHMb","levelnode");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../Level/LevelManager"),s=e("../Level/MissionLevel"),c=e("./ChallengeRoundPop"),l=e("./MapManager"),g=cc._decorator,u=g.ccclass,p=g.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.level=0,t.Battletoken=null,t.Bosstoken=null,t.Star=[],t.StarSpriteFrams=[],t}return o(t,e),t.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},t.prototype.onTouchEnd=function(){l.default.ChallengeRoundPops.getComponent(c.default).init(this.level)},t.prototype.init=function(e){this.level=e;var t=r.LevelManager.getInstance().finish_level+1,a=s.MissionLevelManager.getInstance().getJsonLevelPosXY(e);this.node.setPosition(a),this.node.getChildByName("level").getComponent(cc.Label).string=""+s.MissionLevelManager.getInstance().getLevelName(e);for(var n=0;n<this.Star.length;n++)this.Star[n].active=!1;this.Battletoken.active=!1,this.Bosstoken.active=!1;var o=0;if(e<t){for(var i=1;i<4;i++)r.LevelManager.getInstance().getALevelStar(e,i)&&o++;for(n=0;n<this.Star.length;n++)this.Star[n].active=!0,this.Star[n].getComponent(cc.Sprite).spriteFrame=n<o?this.StarSpriteFrams[1]:this.StarSpriteFrams[0]}e==t&&(this.Battletoken.active=!0),e>t&&3==s.MissionLevelManager.getInstance().getLevelTypes(e)&&(this.Bosstoken.active=0==o)},i([p(cc.Node)],t.prototype,"Battletoken",void 0),i([p(cc.Node)],t.prototype,"Bosstoken",void 0),i([p(cc.Node)],t.prototype,"Star",void 0),i([p(cc.SpriteFrame)],t.prototype,"StarSpriteFrams",void 0),i([u],t)}(cc.Component);a.default=d,cc._RF.pop()},{"../Level/LevelManager":"LevelManager","../Level/MissionLevel":"MissionLevel","./ChallengeRoundPop":"ChallengeRoundPop","./MapManager":"MapManager"}],lm:[function(e,t){"use strict";cc._RF.push(t,"4a26akvVPdOVLP22dx3qXxT","lm"),cc._RF.pop()},{}],mapmove:[function(e,t,a){"use strict";cc._RF.push(t,"0acc04Yc/JA87ZRr5O1HCOU","mapmove");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.target=null,t.zone=null,t.parent=null,t.bgOrigin=null,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype._touchMove=function(e){var t=e.getTouches();if(!(t.length>=2)&&1==t.length){var a=e.getDelta();this.target.x+=a.x,this.target.y+=a.y;var n=this.zone.x-this.zone.width/2,o=this.zone.x+this.zone.width/2,i=this.zone.y+this.zone.height/2,r=this.zone.y-this.zone.height/2,s=this.target.width/2,c=this.target.height/2;this.target.x-s>n&&(this.target.x=n+s),this.target.x+s<o&&(this.target.x=o-s),this.target.y+c<i&&(this.target.y=i-c),this.target.y-c>r&&(this.target.y=r+c)}},i([c(cc.Node)],t.prototype,"target",void 0),i([c(cc.Node)],t.prototype,"zone",void 0),i([s],t)}(cc.Component);a.default=l,cc._RF.pop()},{}],playinstructions:[function(e,t,a){"use strict";cc._RF.push(t,"2e9e5Z5iAdL9L2pWQ2+0j8y","playinstructions");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../GameManager"),s=e("../../multiLanguage/TextLanguage"),c=e("../../Sound/AudioConstants"),l=e("../../UI/UIComponent"),g=cc._decorator,u=g.ccclass,p=g.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.text=null,t}return o(t,e),t.prototype.initUi=function(e){var t=800008;2==e?t=800008:3==e?t=820012:4==e&&(t=830016),this.text.getComponent(s.default).setTextId(t)},t.prototype.clickBtnClose=function(){r.default.getInstance().sound_manager.playSound(c.SoundIndex.click),this.onClose()},i([p(cc.Node)],t.prototype,"text",void 0),i([u],t)}(l.default);a.default=d,cc._RF.pop()},{"../../GameManager":"GameManager","../../Sound/AudioConstants":"AudioConstants","../../UI/UIComponent":"UIComponent","../../multiLanguage/TextLanguage":"TextLanguage"}],purchasesnumbe:[function(e,t,a){"use strict";cc._RF.push(t,"8e7126kLIBB7L4jC47qrDcO","purchasesnumbe");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../Ads/ApkManager"),s=e("../../CoinPop"),c=e("../../Constants"),l=e("../../GameManager"),g=e("../../multiLanguage/FollowConstants"),u=e("../../multiLanguage/FollowManager"),p=e("../../Prop/PropConfig"),d=e("../../Prop/PropManager"),h=e("../../Sound/AudioConstants"),f=e("../../Storage/StorageConfig"),_=e("../../Storage/StorageManager"),m=e("../../UI/UIComponent"),y=e("../../UI/UIConfig"),I=e("../../UI/UIManager"),v=cc._decorator,M=v.ccclass,C=v.property,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.num=null,t.mynum=[50,200,300],t.type=0,t}return o(t,e),t.prototype.initUi=function(e){var t;this.type=e,2==this.type?t=_.TheStorageManager.getInstance().getNumber(f.StorageKey.BuyUnlimitedChallengeTimes,3):3==this.type?t=_.TheStorageManager.getInstance().getNumber(f.StorageKey.BuyBossChallengeTimes,3):4==this.type&&(t=_.TheStorageManager.getInstance().getNumber(f.StorageKey.BuyVoidCrackChallengeTimes,3)),this.num.getComponent(cc.Label).string=""+this.mynum[3-t]},t.prototype.clickBtnBuy=function(){var e;if(2==this.type?e=_.TheStorageManager.getInstance().getNumber(f.StorageKey.BuyUnlimitedChallengeTimes,3):3==this.type?e=_.TheStorageManager.getInstance().getNumber(f.StorageKey.BuyBossChallengeTimes,3):4==this.type&&(e=_.TheStorageManager.getInstance().getNumber(f.StorageKey.BuyVoidCrackChallengeTimes,3)),d.PropManager.getInstance().getPropNum(p.PropId.Gem)>=this.mynum[3-e]){if(d.PropManager.getInstance().changePropNum(p.PropId.Gem,-this.mynum[3-e]),e--,2==this.type){u.default.getInstance().followEvent(g.Follow_Type.\u65e0\u5c3d\u6311\u6218\u6311\u6218\u6b21\u6570\u8d2d\u4e70\u6570),u.default.getInstance().followEvent(g.Follow_Type.\u65e0\u5c3d\u6311\u6218_\u6311\u6218\u6b21\u6570\u8d2d\u4e70\u6570_\u6bcf\u65e5\u7b2cx\u6b21\u8d2d\u4e70+(3-e)),_.TheStorageManager.getInstance().setItem(f.StorageKey.BuyUnlimitedChallengeTimes,e);var t=_.TheStorageManager.getInstance().getNumber(f.StorageKey.UnlimitedChallengeTimes,0);t++,_.TheStorageManager.getInstance().setItem(f.StorageKey.UnlimitedChallengeTimes,t)}else 3==this.type?(u.default.getInstance().followEvent(g.Follow_Type.BOSS\u6311\u6218\u6311\u6218\u6b21\u6570\u8d2d\u4e70\u6570),u.default.getInstance().followEvent(g.Follow_Type.BOSS\u6311\u6218_\u6311\u6218\u6b21\u6570\u8d2d\u4e70\u6570_\u6bcf\u65e5\u7b2cx\u6b21\u8d2d\u4e70+(3-e)),_.TheStorageManager.getInstance().setItem(f.StorageKey.BuyBossChallengeTimes,e),t=_.TheStorageManager.getInstance().getNumber(f.StorageKey.BossChallengeTimes,0),t++,_.TheStorageManager.getInstance().setItem(f.StorageKey.BossChallengeTimes,t)):4==this.type&&(u.default.getInstance().followEvent(g.Follow_Type.\u865a\u7a7a\u88c2\u7f1d\u6311\u6218\u6b21\u6570\u8d2d\u4e70\u6570),u.default.getInstance().followEvent(g.Follow_Type.\u865a\u7a7a\u88c2\u7f1d_\u6311\u6218\u6b21\u6570\u8d2d\u4e70\u6570_\u6bcf\u65e5\u7b2cx\u6b21\u8d2d\u4e70+(3-e)),_.TheStorageManager.getInstance().setItem(f.StorageKey.BuyVoidCrackChallengeTimes,e),t=_.TheStorageManager.getInstance().getNumber(f.StorageKey.VoidCrackChallengeTimes,0),t++,_.TheStorageManager.getInstance().setItem(f.StorageKey.VoidCrackChallengeTimes,t));this.clickBtnClose()}else I.UIManager.getInstance().showUiDialog(y.UIPath.CoinPop,y.UILayerLevel.Three,{onCompleted:function(e){e.getComponent(s.default).initUi(p.PropId.Gem)}})},t.prototype.clickBtnBuyAd=function(){var e=this;r.default.getInstance().showVideo(function(t){if(t){var a=void 0;if(2==e.type?a=_.TheStorageManager.getInstance().getNumber(f.StorageKey.BuyUnlimitedChallengeTimes,3):3==e.type?a=_.TheStorageManager.getInstance().getNumber(f.StorageKey.BuyBossChallengeTimes,3):4==e.type&&(a=_.TheStorageManager.getInstance().getNumber(f.StorageKey.BuyVoidCrackChallengeTimes,3)),d.PropManager.getInstance().changePropNum(p.PropId.Gem,-e.mynum[3-a]),a--,2==e.type){u.default.getInstance().followEvent(g.Follow_Type.\u65e0\u5c3d\u6311\u6218\u6311\u6218\u6b21\u6570\u8d2d\u4e70\u6570),u.default.getInstance().followEvent(g.Follow_Type.\u65e0\u5c3d\u6311\u6218_\u6311\u6218\u6b21\u6570\u8d2d\u4e70\u6570_\u6bcf\u65e5\u7b2cx\u6b21\u8d2d\u4e70+(3-a)),_.TheStorageManager.getInstance().setItem(f.StorageKey.BuyUnlimitedChallengeTimes,a);var n=_.TheStorageManager.getInstance().getNumber(f.StorageKey.UnlimitedChallengeTimes,0);n++,_.TheStorageManager.getInstance().setItem(f.StorageKey.UnlimitedChallengeTimes,n)}else 3==e.type?(u.default.getInstance().followEvent(g.Follow_Type.BOSS\u6311\u6218\u6311\u6218\u6b21\u6570\u8d2d\u4e70\u6570),u.default.getInstance().followEvent(g.Follow_Type.BOSS\u6311\u6218_\u6311\u6218\u6b21\u6570\u8d2d\u4e70\u6570_\u6bcf\u65e5\u7b2cx\u6b21\u8d2d\u4e70+(3-a)),_.TheStorageManager.getInstance().setItem(f.StorageKey.BuyBossChallengeTimes,a),n=_.TheStorageManager.getInstance().getNumber(f.StorageKey.BossChallengeTimes,0),n++,_.TheStorageManager.getInstance().setItem(f.StorageKey.BossChallengeTimes,n)):4==e.type&&(u.default.getInstance().followEvent(g.Follow_Type.\u865a\u7a7a\u88c2\u7f1d\u6311\u6218\u6b21\u6570\u8d2d\u4e70\u6570),u.default.getInstance().followEvent(g.Follow_Type.\u865a\u7a7a\u88c2\u7f1d_\u6311\u6218\u6b21\u6570\u8d2d\u4e70\u6570_\u6bcf\u65e5\u7b2cx\u6b21\u8d2d\u4e70+(3-a)),_.TheStorageManager.getInstance().setItem(f.StorageKey.BuyVoidCrackChallengeTimes,a),n=_.TheStorageManager.getInstance().getNumber(f.StorageKey.VoidCrackChallengeTimes,0),n++,_.TheStorageManager.getInstance().setItem(f.StorageKey.VoidCrackChallengeTimes,n));e.clickBtnClose()}},c.VIDEO_TYPE.Equip)},t.prototype.clickBtnClose=function(){l.default.getInstance().sound_manager.playSound(h.SoundIndex.click),this.onClose()},i([C(cc.Node)],t.prototype,"num",void 0),i([M],t)}(m.default);a.default=S,cc._RF.pop()},{"../../Ads/ApkManager":"ApkManager","../../CoinPop":"CoinPop","../../Constants":"Constants","../../GameManager":"GameManager","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../Storage/StorageConfig":"StorageConfig","../../Storage/StorageManager":"StorageManager","../../UI/UIComponent":"UIComponent","../../UI/UIConfig":"UIConfig","../../UI/UIManager":"UIManager","../../multiLanguage/FollowConstants":"FollowConstants","../../multiLanguage/FollowManager":"FollowManager"}],rankingrewarddisplay:[function(e,t,a){"use strict";cc._RF.push(t,"fa60eUkre1J8pfet2E/BGNz","rankingrewarddisplay");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../GameManager"),s=e("../../Prop/PropManager"),c=e("../../Sound/AudioConstants"),l=e("../../UI/UIComponent"),g=e("./BossWeeklyReward"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.item=[],t.RewardGrade=-1,t}return o(t,e),t.prototype.initUi=function(e){-1==e?this.RewardGrade=7:1==e?this.RewardGrade=1:2==e?this.RewardGrade=2:3==e?this.RewardGrade=3:e<=10&&e>=4?this.RewardGrade=4:e<=50&&e>=11?this.RewardGrade=5:e<=100&&e>=51&&(this.RewardGrade=6);for(var t=g.BossWeeklyRewardManager.getInstance().getFirstRewardArr(this.RewardGrade),a=0;a<this.item.length;a++)if(a<t.length){var n=s.PropManager.getInstance().createPropItem(t[a].reward_id,t[a].reward_num);this.item[a].active=!0,n.parent=this.item[a]}else this.item[a].active=!1},t.prototype.shanchu=function(){for(var e=0;e<this.item.length;e++)this.item[e].childrenCount>0&&this.item[e].children[0].destroy()},t.prototype.clickBtnClose=function(){this.shanchu(),r.default.getInstance().sound_manager.playSound(c.SoundIndex.click),this.onClose()},i([d(cc.Node)],t.prototype,"item",void 0),i([p],t)}(l.default);a.default=h,cc._RF.pop()},{"../../GameManager":"GameManager","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../UI/UIComponent":"UIComponent","./BossWeeklyReward":"BossWeeklyReward"}],rewarddisplay:[function(e,t,a){"use strict";cc._RF.push(t,"97b26anHlZE65xNp1hYtWJR","rewarddisplay");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=e("../../GameManager"),s=e("../../Prop/PropConfig"),c=e("../../Prop/PropManager"),l=e("../../Sound/AudioConstants"),g=e("../../UI/UIComponent"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.item=[],t.BossRush_Line=null,t.BossRush_Line1=null,t.text=null,t.mytxt=null,t.boss=[20003,40006,20003,10002,10002],t.Common_Window3_1=null,t}return o(t,e),t.prototype.initUi=function(e){if(2==e)this.Common_Window3_1.y=31,this.Common_Window3_1.height=480,this.item[0].y=85,this.item[0].x=0,c.PropManager.getInstance().createPropItem(s.PropId.Coin,0).parent=this.item[0],this.BossRush_Line.active=!1,this.BossRush_Line1.active=!1,this.text.active=!1,this.mytxt.active=!0,this.item[1].active=!1,this.item[2].active=!1,this.item[3].active=!1,this.item[4].active=!1;else if(3==e){this.item[0].y=100,this.item[0].x=-80,this.item[4].x=80,this.item[4].y=100,this.Common_Window3_1.y=0,this.Common_Window3_1.height=550;for(var t=0;t<this.boss.length;t++)c.PropManager.getInstance().createPropItem(this.boss[t],0).parent=this.item[t];this.BossRush_Line.active=!0,this.BossRush_Line1.active=!0,this.text.active=!0,this.mytxt.active=!1,this.item[1].active=!0,this.item[2].active=!0,this.item[3].active=!0,this.item[4].active=!0}},t.prototype.shanchu=function(){for(var e=0;e<this.item.length;e++)this.item[e].childrenCount>0&&this.item[e].children[0].destroy()},t.prototype.clickBtnClose=function(){this.shanchu(),r.default.getInstance().sound_manager.playSound(l.SoundIndex.click),this.onClose()},i([d(cc.Node)],t.prototype,"item",void 0),i([d(cc.Node)],t.prototype,"BossRush_Line",void 0),i([d(cc.Node)],t.prototype,"BossRush_Line1",void 0),i([d(cc.Node)],t.prototype,"text",void 0),i([d(cc.Node)],t.prototype,"mytxt",void 0),i([d(cc.Node)],t.prototype,"Common_Window3_1",void 0),i([p],t)}(g.default);a.default=h,cc._RF.pop()},{"../../GameManager":"GameManager","../../Prop/PropConfig":"PropConfig","../../Prop/PropManager":"PropManager","../../Sound/AudioConstants":"AudioConstants","../../UI/UIComponent":"UIComponent"}],test:[function(e,t,a){"use strict";cc._RF.push(t,"44402v5pTtKh6Qwn8ysQABR","test");var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=this&&this.__decorate||function(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r};Object.defineProperty(a,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return o(t,e),t.prototype.start=function(){},i([c(cc.Label)],t.prototype,"label",void 0),i([c],t.prototype,"text",void 0),i([s],t)}(cc.Component);a.default=l,cc._RF.pop()},{}]},{},["ABTestManager","AccumulatedRechargeItem","AccumulatedRechargeUi","CumulativeRecharges","ActivityManager","BossChallenge","BossGameUi","BossReward","EndlessLevels","EndlessReward","EndlessgGameUi","AdManager","ApkManager","VipManager","WXManager","Around","BattlePassData","BattlePassHelpUi","BattlePassItem","BattlePassManager","BatDevil","Boss","Boss10","BossSkill10","BigTree","BossAtt1","ArmorWarrior","BossAtt2","BossShield2","ShieldAttack2","BossAtt3","XueRenBoss","XueYin","YaLongBoss","NiuMoBoss","Boss6","BossAtt6","BossSkill6","Boss7","BossAtt7","BossSkill7","Boss8","BossSkill8","Boss9","BossBullet","BossConfig","BossHpProgressBar","BossManager","BullDemon","Rock","TestAnima","CityUi","CoinPop","CombatNumEffect","Constants","BaoXiangGuai","EnemyConfig","EnemyHpManager","EnemyIcon","EnemyIconManager","EquipmentAttribute","EquipmentLevelUpCost","EquipmentMerge","EquipConfig","EquipmentManager","EquipDataItem","EquipExchangeUi","EquipInfoUi","EquipItem","ExchangeLevel","ExclusiveEquipItem","MergeUi","SynthesisSucceeded","ExclusiveInfoUi","GameData","GameManager","BigMap","BuffStateManager","ChapterPop","ChuShengDian","FightingManager","Game","GameEffectsManager","GroundManager","MapNodePool","Move","SkillManager","SkyManager","TouchPlane","BuyBattlePotion","DamageStatsUi","GameLose","GamePause","GameWin","HeroDamage","SpeedUp","StatsUi","mapmove","ChallengeRoundPop","GuaJiBg","GuaJiJianShi","GuaJiManager","GuaJiMonster","GuaJiPet","GuaJiRes","GuaJiSheShou","MapManager","FastGuaJiUi","GuaJiGift","OfflineUi","levelnode","CombatEffectiveness","HeroAttribute","HeroBaseInfo","HeroData","HeroManager","HeroQuality","HeroTitle","LevelUp","SkillConfiguration","SkillLevelUnlock","ANuBiSi","KuangSha","ShaChenBao","ShaDan","BingNv","BingNvDan","BingNvWall","BuffData","BuffState","BuffTimer","Bullect","ChangMao","ChangMaoShou","DamageRecord","DeLuYi","ManTeng","SuperManTeng","WuNvDan","GongJi","Hero","HeroConfig","FuTou","KuangZhanShi","ChainLightning","LeiShen","MeiDan","MeiMo","MpProgress","NvWu","NvWuDan","PaoDan","PaoDanBaoZha","PaoDanNormal","PaoShou","SignalFlare","TouDan","ActiveDart","Dart","EllipseMove","FeiBiao","RenZhe","JianShi","JianShiCrit","SheShou","Bear","BearConfig","ShouWang","ShouWangJianShi","SkillTip","ZhenDe","ZhenDeDan","Continuous","FullScreenDamage","SkillConfig","TargetData","TrackBullect","BtnHero","ExclusiveWeaponsStrengtheningUi","ExclusiveWeaponsUi","GetHeroUi","HeroFragment","HeroItem","HeroListUi","HeroSkillUi","RoleUi","Hint","Home","k-cocos","Joystick","Player","UI","test","CoinShopManagement","CommodityManagement","ConstantConfiguration","CustomsClearanceRebate","EWStarUpCost","EWUnlockCost","ExclusiveEnhancement","ExclusiveWeaponMessage","ExclusiveWeaponSkill","FunctionDefinition","Jackpot","JackpotCollection","LevelJsonData","LevelUpRebate","OfflineRevenue","PlayerLevelUp","RankJsonData","SignIn","SignNum","TextManagement","FirstCompleteReward","LevelManager","MissionLevel","OfflineRevenueShow","TutorialLevel","Cartoon","LoadManager","LoadProgress","Loading","VersionTip","LocalVideo","MazeRoad","RogueBuff","RogueConfiguration","RoguePetsLease","RogueReward","RogueText","HealingPotion","MazeBagUi","MazeBox","MazeBuffItem","MazeBuffUi","MazeDoor","MazeFightingUi","MazeLeaseUi","MazeManager","MazePetItem","MazeSendDoorUi","MazeShop","MazeShowBuffUi","MazeToolUi","MazeUi","MazeWallInfoUi","MonsterAttribute","MonsterConfigure","MonsterDataManager","MonsterFeature","MonsterGroupConfigure","MonsterGrowthAttributes","MonsterManual","MonsterSkill","Ancher73","BianFu","BigSlim","Block75","Elite1","Elite72","Elite73","Elite76","Elite77","Elite78","EliteAtt65","EliteAtt67","EliteAtt69","EliteAtt78","FishBully","NiuJiangJun","NiuSaMan","ShuangJuRen","ShuiJingJuXie","ShuiJingYouLong","XueGuai","YouLing","HpProgressBar","HpTextManager","Monster","MonsterBullet","MonsterData","MonsterElite","MonsterIconManager","MonsterManager","MonsterNewNormal","MonsterNormal","Image_Language","ImagerLanguage","HttpManager","crypto-d","NodePoolManager","BattlePassUi","CrystalRecharge","CumulativeRecharge","CyclePack","PaidItem","PrivilegedCardInformation","DingYueManager","LongJingItem","LongJingUi","MonthCard","PayAccumulateChargeItem","PayAccumulateChargeUi","PayFirstChargeUi","PayGitBag","PayGitBagItem","PayManager","PaymentUi","QuarterCard","RabateManager","RabateUi","TotalLongJingItem","AwakenCultivation","PetData","SpiritAptitude","SpiritAttribute","SpiritCultivate","SpiritLevelUp","SpiritMessage","SpiritQualityAdvanced","SpiritQualityMessage","SpiritRelease","SpiritSkill","SpiritSkillConfig","StarVeins","StarVeinsAttribute","FireBullect","FirePet","FireRing","Gully","IceBullect","IcePet","ParabolicBomb","Pet","RayPet","WindPet","PetConfig","PetManager","BtnPet","PetAdvanceShowUi","PetAdvanceUi","PetDataItem","PetExchangeUi","PetInfoUi","PetItem","PetListUi","PetReductionUi","PetSetFreeUi","PetUpgradeUi","Item","Prop","PropConfig","PropInfoUi","PropManager","RankingList","AudioConstants","Muisc","Sound","StorageConfig","StorageManager","ChapterPack","CommodityInformation","DailyShop","DiamondsRecharge","DrawCardInformation","DrawCardProbability","ProbabilityTipUi","PurchaseCoins","StoreHeroIconItem","StoreHeroShowUi","StoreHeroUi","StoreUi","EggCumulative","EggInformation","TakeEggUi","AccumulatedInformation","AchievenmentTask","TaskInformation","ThreadTaskInformation","TaskEnum","TaskItemUi","TaskMainItemUi","TaskManager","TaskUi","Test","TestTest","Content","EventManager","LogInfo","MyTool","NumberLabel","PressButton","RedTip","BtnTower","TowerFightingUi","TowerGift","TowerLevel","TowerManager","TowerReward","TowerUi","PublicMethods","Times","Turmtable","TurntableInformation","CourseText","RewardSSUi","TutorailsManager","Tutorials","AutoMove","ConsumptionTipUi","Dialog","FuHuo","GetAssetsUi","GetTip","LightEffect","SpeciesWarning","TestUi","TextInfo","UIComponent","UIConfig","UIManager","UIPool","UiInterface","UiTouch","UnlockHint","UnlockSkill","VideoTip","VipUi","ActivityUi","AtrributeUi","AvatarUi","BagUi","BtnTeam","Chariot","Cloud","CultivateUi","FixedPos","FuncTypeBtn","GoldMallUi","JianTou","LevelSelect","MainUi","MonsterDetails","SettingUi","SignInBuyUi","SignInGetTip","SignUi","SignUiDaily","SkillInfoUi","ToPlayMainUi","ToPlayPreviewUi","ToPlayUi","UserLevelUi","UserData","UserInfo","VIPPrivileges","VipSystem","ImmunityShield","MainWall","Shield","Wall","WallConfig","WallManager","WaveData","WeekCardUi","CumulativeCard","WishSpend","WishingCardUi","WishingEffectUi","WishingItemUi","WishingUi","ZXEdit","ZhenXingData","BossWeeklyReward","BuffDisplay","EndlessBuff","EndlessConfig","MoppingUp","RogueGiftInformation","RogueShop","Shop","endlesschallenges","playinstructions","purchasesnumbe","rankingrewarddisplay","rewarddisplay","BattlePop","MoppingVoid","RogueHexagonTypes","RogueLevel","RoguefastPass","VoidScene","Windfall","FollowConstants","FollowManager","LabelLanguage","LanguageConstants","LanguageManager","LanguageSprite","TextLanguage","lm","ThirdParty"]);